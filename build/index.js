/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/api/changeRequest/Mutations/addChangeRequest.ts":
/*!*************************************************************!*\
  !*** ./src/api/changeRequest/Mutations/addChangeRequest.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addChangeRequest": () => (/* binding */ addChangeRequest)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/enumerations/ChangeRequestEnums */ "./src/domain/enumerations/ChangeRequestEnums.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");




const addChangeRequest = async (_root, args, _context) => {
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__.authenticate)(_context, "CD");
        let createRequest;
        if (args.stage === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.requestStage.BOOKINGFORM) {
            if (customer.bookingformstatus === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.BookingFormStatusEnumNames.ACCEPTED) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "User has already accepted the booking form, Change Request cannot be initiated.");
            }
            createRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_change_request.create({
                data: {
                    request_type: args.request_type,
                    description: args.description,
                    stage: args.stage,
                    created_at: new Date(),
                    customerid: customer.customerid,
                },
            });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                where: { customerid: customer.customerid },
                data: {
                    bookingformstatus: _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.BookingFormStatusEnumNames.CHANGE_REQUESTED,
                },
            });
        }
        else if (_domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.requestStage.PROJECTPROPOSAL === args.stage) {
            if (!args.quoteSfId) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Sales force quote id is required");
            }
            const quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
                where: { sfid: args.quoteSfId },
            });
            if (quoteData.status === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.ProjectProposalEnums.ACCEPTED) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "User has already accepted the proposal, Change Request cannot be initiated.");
            }
            createRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_change_request.create({
                data: {
                    request_type: args.request_type,
                    description: args.description,
                    stage: args.stage,
                    created_at: new Date(),
                    quotesfid: args.quoteSfId,
                    customerid: customer.customerid,
                },
            });
            const changeRequestList = quoteData.change_request_list__c
                ? JSON.parse(quoteData.change_request_list__c)
                : [];
            changeRequestList.push(createRequest.id);
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.update({
                where: { sfid: args.quoteSfId },
                data: {
                    status: _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.ProjectProposalEnums.CHANGE_REQUESTED,
                    change_request_list__c: JSON.stringify(changeRequestList),
                },
            });
        }
        else if (_domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.requestStage.DESIGNSIGNOFF === args.stage) {
            if (!args.projectId) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "project id is required");
            }
            const projectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
                where: { id: args.projectId },
            });
            if (projectData.signoffstatus === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_1__.ProjectProposalEnums.ACCEPTED) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "User has already accepted the design signoff document, Change Request cannot be initiated.");
            }
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: { id: args.projectId },
                data: {
                    signoffstatus: "change_requested",
                },
            });
            createRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_change_request.create({
                data: {
                    request_type: args.request_type,
                    description: args.description,
                    stage: args.stage,
                    created_at: new Date(),
                    customerid: customer.customerid,
                    projectid: args.projectId,
                },
            });
        }
        return {
            code: createRequest ? 200 : 400,
            message: createRequest
                ? "Change request created successfully."
                : "Something went wrong.",
            data: createRequest ? createRequest : "",
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(500, error.message);
    }
};


/***/ }),

/***/ "./src/api/changeRequest/Queries/getChangeRequest.ts":
/*!***********************************************************!*\
  !*** ./src/api/changeRequest/Queries/getChangeRequest.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getChangeRequest": () => (/* binding */ getChangeRequest)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/ChangeRequestEnums */ "./src/domain/enumerations/ChangeRequestEnums.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);




const getChangeRequest = async (_root, args, _context) => {
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "CD");
        let changeRequest;
        if (args.stage === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_2__.requestStage.BOOKINGFORM) {
            changeRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_change_request.findMany({
                where: { customerid: customer.customerid },
            });
        }
        else if (args.stage === _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_2__.requestStage.PROJECTPROPOSAL) {
            if (!args.quotesfid) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Sales force quote id is required");
            }
            changeRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_change_request.findMany({
                where: { quotesfid: args.quotesfid },
            });
        }
        return {
            code: changeRequest ? 200 : 400,
            message: changeRequest ? "success" : "Bad Request",
            data: changeRequest,
        };
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/changeRequest/resolvers.ts":
/*!********************************************!*\
  !*** ./src/api/changeRequest/resolvers.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeRequestResolver": () => (/* binding */ changeRequestResolver)
/* harmony export */ });
/* harmony import */ var _Mutations_addChangeRequest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Mutations/addChangeRequest */ "./src/api/changeRequest/Mutations/addChangeRequest.ts");
/* harmony import */ var _Queries_getChangeRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getChangeRequest */ "./src/api/changeRequest/Queries/getChangeRequest.ts");


const changeRequestResolver = {
    Mutation: {
        addChangeRequest: async (parent, _args, context) => (0,_Mutations_addChangeRequest__WEBPACK_IMPORTED_MODULE_0__.addChangeRequest)(parent, _args, context),
    },
    Query: {
        getChangeRequest: async (parent, _args, context) => (0,_Queries_getChangeRequest__WEBPACK_IMPORTED_MODULE_1__.getChangeRequest)(parent, _args, context),
    },
};


/***/ }),

/***/ "./src/api/changeRequest/typedefs.ts":
/*!*******************************************!*\
  !*** ./src/api/changeRequest/typedefs.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "changeRequestTypedefs": () => (/* binding */ changeRequestTypedefs)
/* harmony export */ });
const changeRequestTypedefs = `
type change_request{
    id: Int
    projectid: Int
    request_type: String
    description: String
    stage: String
    created_at: DateTime
    updated_at: DateTime
}

type addChangeRequestResponse{
    code: Int
    message: String,
    data: change_request
}

type getChangeRequestResponse{
    code: Int
    message: String,
    data: [change_request]
}

type Mutation{
    addChangeRequest(
        quoteSfId: String,
        request_type: String!,
        description: String!,
        stage: String!,
    ):addChangeRequestResponse
}

type Query{
    getChangeRequest(quotesfid:String, stage: String!):getChangeRequestResponse
}`;


/***/ }),

/***/ "./src/api/cities/mutations.ts":
/*!*************************************!*\
  !*** ./src/api/cities/mutations.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addCity": () => (/* binding */ addCity),
/* harmony export */   "updateCity": () => (/* binding */ updateCity)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");

const addCity = async (root, args, context) => {
    let cityResponseObj;
    const { name, status, odoo_id, cityhead, country } = args;
    try {
        const createdCity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.create({
            data: {
                name,
                status,
                odoo_id,
                created_at: new Date(),
                updated_at: new Date(),
                cityhead,
                country
            },
        });
        const cities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
            where: { id: createdCity.id },
            include: {
                users: true
            }
        });
        let City = await getcity(cities);
        City = City.Data;
        cityResponseObj = { code: 200, message: "success", data: City };
        return cityResponseObj;
    }
    catch (error) {
        cityResponseObj = { code: 400, message: error.message };
        return cityResponseObj;
    }
};
const updateCity = async (root, args, context) => {
    let cityResponseObj;
    const { name, cityid, status, odoo_id, cityhead, country } = args;
    try {
        const updatedCity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.update({
            data: {
                name,
                status,
                odoo_id,
                updated_at: new Date(),
                cityhead,
                country
            }, where: { id: cityid }
        });
        const cities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
            where: { id: updatedCity.id },
            include: {
                users: true
            }
        });
        let City = await getcity(cities);
        City = City.Data;
        cityResponseObj = { code: 200, message: "success", data: City };
        return cityResponseObj;
    }
    catch (error) {
        cityResponseObj = { code: 400, message: error.message };
        return cityResponseObj;
    }
};
const getcity = async (cities) => {
    return {
        Data: cities.map((city) => {
            return Object.assign(Object.assign({}, city), { cityhead: city.users });
        })
    };
};


/***/ }),

/***/ "./src/api/cities/queries.ts":
/*!***********************************!*\
  !*** ./src/api/cities/queries.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCities": () => (/* binding */ getCities),
/* harmony export */   "getCityById": () => (/* binding */ getCityById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");

const getCities = async () => {
    let cityResponseObj;
    try {
        const getcities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
            include: {
                users: true
            }
        });
        let cities = await getcity(getcities);
        cities = cities.Data;
        cityResponseObj = { code: 200, message: "success", data: cities };
        return cityResponseObj;
    }
    catch (error) {
        cityResponseObj = { code: 400, message: error.message };
        return cityResponseObj;
    }
};
const getCityById = async (root, args, context) => {
    let cityResponseObj;
    try {
        const getcities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
            where: { id: args.id },
            include: {
                users: true
            }
        });
        let City = await getcity(getcities);
        City = City.Data;
        cityResponseObj = { code: 200, message: "success", data: City };
        return cityResponseObj;
    }
    catch (error) {
        cityResponseObj = { code: 400, message: error.message };
        return cityResponseObj;
    }
};
const getcity = async (cities) => {
    return {
        Data: cities.map((city) => {
            return Object.assign(Object.assign({}, city), { cityhead: city.users });
        })
    };
};


/***/ }),

/***/ "./src/api/cities/resolver.ts":
/*!************************************!*\
  !*** ./src/api/cities/resolver.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "citiesResolver": () => (/* binding */ citiesResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./queries */ "./src/api/cities/queries.ts");
/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mutations */ "./src/api/cities/mutations.ts");



const citiesResolver = {
    Query: {
        allCities: async () => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getCities)(),
        getCityById: async (parent, _args, context) => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getCityById)(parent, _args, context),
    },
    Mutation: {
        addCity: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.addCity)(parent, _args, context),
        updateCity: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.updateCity)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver
};


/***/ }),

/***/ "./src/api/cities/typedef.ts":
/*!***********************************!*\
  !*** ./src/api/cities/typedef.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "citiesTypedef": () => (/* binding */ citiesTypedef)
/* harmony export */ });
const citiesTypedef = `
    type Cities {
        id: Int
        name:String
        status:Boolean
        odoo_id:String
        country:String
        cityhead: Users
        created_at:DateTime
        updated_at:DateTime
    }

    type Query {
        allCities: CityResponse
        getCityById(id:Int): CityResponse
    }

    type CityResponse { 
        code:Int
        message: String
        data:[Cities!]!
    }

    type Mutation{
        addCity(name:String,
            status:Boolean,
            odoo_id:String,
            created_at:DateTime,
            updated_at:DateTime,
            cityhead:Int,
            country:String): CityResponse

        updateCity(name:String,
            cityid:Int,
            status:Boolean,
            odoo_id:String,
            created_at:DateTime,
            updated_at:DateTime,
            cityhead:Int,
            country:String): CityResponse
    }
  
    scalar DateTime
`;


/***/ }),

/***/ "./src/api/customers/BookingForm/Mutations/acceptBookingForm.ts":
/*!**********************************************************************!*\
  !*** ./src/api/customers/BookingForm/Mutations/acceptBookingForm.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acceptBookingForm": () => (/* binding */ acceptBookingForm)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/ChangeRequestEnums */ "./src/domain/enumerations/ChangeRequestEnums.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../domain/services/template/EmailTemplate */ "./src/domain/services/template/EmailTemplate.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");








const acceptBookingForm = async (_root, args, _context) => {
    var _a, _b;
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(_context, "CD");
        const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.opportunity.findFirst({
            where: { sfid: customer.opportunityid },
        });
        const account = await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.account.findFirst({
            where: {
                sfid: opportunity.accountid,
            },
        });
        const sales = await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findFirst({
            where: {
                sfid: opportunity.ownerid,
            },
        });
        if (!opportunity) {
            return {
                code: 400,
                message: "Opportunity not found",
            };
        }
        const customerObj = {};
        if (args.isEdit) {
            const data = {};
            if (args.currentAddress) {
                data["billingcity"] = args.currentAddress.city;
                data["billingstreet"] = args.currentAddress.street;
                data["billingstate"] = args.currentAddress.shippingState;
                data["billingpostalcode"] = args.currentAddress.zipOrPostalCode;
                data["billingcountry"] = args.currentAddress.country;
                customerObj["currentaddress"] = args.currentAddress;
                await updateAccount(data, customerObj, opportunity.accountid, customer.customerid);
            }
            if (args.projectAddress) {
                data["shippingcity"] = args.projectAddress.city;
                data["shippingpostalcode"] = args.projectAddress.zipOrPostalCode;
                data["shippingstreet"] = args.projectAddress.street;
                data["shippingstate"] = args.projectAddress.shippingState;
                data["shippingcountry"] = args.projectAddress.country;
                customerObj["projectaddress"] = args.projectAddress;
                await updateAccount(data, customerObj, opportunity.accountid, customer.customerid);
            }
            return {
                code: 200,
                message: `Successfully updated details`,
            };
        }
        else {
            if (!args.dcCode ||
                !args.pan ||
                !args.currentAddress ||
                !args.projectAddress) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Argument missing. Please check payload");
            }
            const bookingformdate = customer.bookingformaccepteddate !== null
                ? dayjs__WEBPACK_IMPORTED_MODULE_5___default()(customer.bookingformaccepteddate).format("DD-MM-YYYY")
                : dayjs__WEBPACK_IMPORTED_MODULE_5___default()(new Date()).format("DD-MM-YYYY");
            const pdfargs = {
                modularAmount: opportunity.modular_amount_dis_incl_gst__c,
                dcCode: opportunity.customer_id__c,
                closeDate: bookingformdate,
                clientName: account.name,
                phoneNumber: account.personmobilephone,
                emailId: account.personemail,
                projectType: opportunity.home_type__c,
                scopeOfWork: opportunity.scope_of_work__c,
                civilWorkRequired: opportunity.civil_work__c,
                currentAddress: args.currentAddress,
                projectAddress: args.projectAddress,
                proposedValue: opportunity.proposed_budget__c,
                signupValue: opportunity.amount,
                modularDiscount: opportunity.modular_discount__c,
                siteServicesDiscount: opportunity.civil_discount__c,
                siteServicesAmount: opportunity.site_services_amount_dis_incl_gst__c,
                decorAmount: opportunity.decor_amount_incl_gst__c,
                fivePercentageProjectValue: opportunity.initial_payment__c,
                signupAmount: opportunity.signup_amount__c,
                basicFramesofExternalDoorsAndWindows: opportunity.frames_for_all_external_doors_windows__c,
                reqdDoorsAndWindowsInstalled: opportunity.the_doors_windows_are_installed_requir__c,
                basicAllWallsCompleted: opportunity.all_walls_are_completed_required__c,
                reqdPuttyCoatOfPlasteringOnWalls: opportunity.putty_and_1_coat_of_plastering_required__c,
                basicFloorsLeveledOutAndPrepped: opportunity.floors_are_levelled_out_prepped_basic__c,
                reqdFlooringIsCompleted: opportunity.flooring_is_completed_required__c,
                notes: opportunity.notes__c,
                pan: args.pan,
                gst: args.gst,
                wohooCard: opportunity.wohoo_card__c,
                remarkFromSales: opportunity.remarks_for_marketing__c,
                salesManagerName: sales.name,
                salesManagerMobile: sales.mobilephone,
                salesManagerEmail: sales.email,
                leadId: opportunity.lead_id__c,
                customerId: customer.customerid,
            };
            const response = await superagent__WEBPACK_IMPORTED_MODULE_4___default().put(`${process.env.PDFGENERATE}/generateBookingFormPdf`)
                .send(pdfargs)
                .set("Content-Type", "application/json");
            customerObj["bookingformpdf"] = (_b = (_a = response === null || response === void 0 ? void 0 : response._body) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.Location;
            customerObj["bookingformaccepted"] = true;
            customerObj["bookingformstatus"] = _domain_enumerations_ChangeRequestEnums__WEBPACK_IMPORTED_MODULE_3__.BookingFormStatusEnumNames.ACCEPTED;
            customerObj["bookingformaccepteddate"] = new Date();
            const updatedCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.dc_customer.update({
                where: { customerid: customer.customerid },
                data: customerObj,
            });
            console.log("user === > ", updatedCustomerData);
            const data = {
                update_booking_form__c: true,
            };
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.opportunity.update({
                where: { sfid: updatedCustomerData.opportunityid },
                data: data,
            });
            const attachments = [
                {
                    filename: response._body.data.key,
                    path: response._body.data.location,
                },
            ];
            await callBookingFormAcceptNotification(customer.customeremail, [sales.email, process.env.dcAdminLegalEmail], attachments);
            return { code: 200, message: "Successfully accepted booking form" };
        }
    }
    catch (error) {
        console.log(107107, error);
        throw error;
    }
};
const updateAccount = async (data, obj, accountid, customerid) => {
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.account.update({
        where: { sfid: accountid },
        data: data,
    });
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.dc_customer.update({
        where: { customerid: customerid },
        data: obj,
    });
};
const callBookingFormAcceptNotification = async (customerEmail, cc, attachments) => {
    await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_7__.triggerEmailNotification)(customerEmail, "Booking form accepted", _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_6__["default"].bookingFormAcceptTemplate(), cc, attachments);
};


/***/ }),

/***/ "./src/api/customers/BookingForm/Mutations/updateBookingFormStatus.ts":
/*!****************************************************************************!*\
  !*** ./src/api/customers/BookingForm/Mutations/updateBookingFormStatus.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateBookingFormStatus": () => (/* binding */ updateBookingFormStatus)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/services/template/EmailTemplate */ "./src/domain/services/template/EmailTemplate.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");



const updateBookingFormStatus = async (_root, args, _context) => {
    try {
        const updatedData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
            where: { customerphone: args.customerphone },
            data: { bookingformstatus: args.bookingformstatus },
        });
        if (updatedData.bookingformstatus.toLowerCase() === "generated") {
            const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
                where: { sfid: updatedData.opportunityid },
            });
            const sales = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({
                where: {
                    sfid: opportunity.ownerid,
                }
            });
            await callBookingFormGeneratedNotification(updatedData.customeremail, sales.email);
        }
        return {
            code: updatedData ? 200 : 500,
            message: updatedData
                ? "Booking form status updated successfully"
                : "Something went wrong",
        };
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const callBookingFormGeneratedNotification = async (customerEmail, cc) => {
    await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.triggerEmailNotification)(customerEmail, "Your booking form generated", _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_1__["default"].bookingFormGenerateTemplate(), cc);
};


/***/ }),

/***/ "./src/api/customers/BookingForm/Queries/getBookingForm.ts":
/*!*****************************************************************!*\
  !*** ./src/api/customers/BookingForm/Queries/getBookingForm.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBookingForm": () => (/* binding */ getBookingForm)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getBookingForm = async (_root, args, _context) => {
    let getBookingFormResponseObj;
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "CD");
        const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: { sfid: customer.opportunityid },
        });
        const quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
            where: {
                opportunityid: opportunity.sfid,
            },
        });
        const acc = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.account.findFirst({
            where: {
                sfid: opportunity.accountid,
            },
        });
        const sales = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({
            where: {
                sfid: opportunity.ownerid,
            },
        });
        const bookingformstatus = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: opportunity.mobile__c,
            },
        });
        getBookingFormResponseObj = {
            code: 200,
            message: "Successfully fetched booking form details",
            user_details: acc,
            opportunity_details: opportunity,
            quote_details: quote,
            sales_manager_details: sales,
            bookingformstatus: bookingformstatus,
        };
        return getBookingFormResponseObj;
    }
    catch (error) {
        getBookingFormResponseObj = { code: 400, message: error.message };
        return getBookingFormResponseObj;
    }
};


/***/ }),

/***/ "./src/api/customers/BookingForm/resolver.ts":
/*!***************************************************!*\
  !*** ./src/api/customers/BookingForm/resolver.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bookingFormResolver": () => (/* binding */ bookingFormResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getBookingForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getBookingForm */ "./src/api/customers/BookingForm/Queries/getBookingForm.ts");
/* harmony import */ var _Mutations_acceptBookingForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/acceptBookingForm */ "./src/api/customers/BookingForm/Mutations/acceptBookingForm.ts");
/* harmony import */ var _Mutations_updateBookingFormStatus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/updateBookingFormStatus */ "./src/api/customers/BookingForm/Mutations/updateBookingFormStatus.ts");




const bookingFormResolver = {
    Mutation: {
        acceptBookingForm: (parent, _args, context) => (0,_Mutations_acceptBookingForm__WEBPACK_IMPORTED_MODULE_2__.acceptBookingForm)(parent, _args, context),
        updateBookingFormStatus: (parent, _args, context) => (0,_Mutations_updateBookingFormStatus__WEBPACK_IMPORTED_MODULE_3__.updateBookingFormStatus)(parent, _args, context),
    },
    Query: {
        getBookingForm: async (parent, _args, context) => (0,_Queries_getBookingForm__WEBPACK_IMPORTED_MODULE_1__.getBookingForm)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/customers/BookingForm/typedefs.ts":
/*!***************************************************!*\
  !*** ./src/api/customers/BookingForm/typedefs.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bookingFormTypedef": () => (/* binding */ bookingFormTypedef)
/* harmony export */ });
const bookingFormTypedef = `

type acc{
    sfid: String!
    name : String
    personemail :  String
    personmobilephone : String
    pan__c : String
    gst_no__c : String
    shippingstreet  :String
    shippingcity  :String
    shippingstate  :String
    shippingpostalcode :String
    shippingcountry  :String
    billingstreet  :String
    billingcity  :String
    billingstate   :String
    billingcountry  :String
    billingpostalcode : String
} 

type opportunity{
    sfid:  String
    customer_id__c : String
    home_type__c : String
    scope_of_work__c : String
    civil_work__c : Boolean
    proposed_budget__c :Float
    amount : Float
    modular_discount__c : Float
    modular_amount_dis_incl_gst__c: Float
    civil_discount__c : Float
    site_services_amount_dis_incl_gst__c :Float
    decor_amount_incl_gst__c :Float
    initial_payment__c :Float
    signup_amount__c : Float
    frames_for_all_external_doors_windows__c :Boolean
    the_doors_windows_are_installed_requir__c : Boolean
    all_walls_are_completed_required__c : Boolean
    putty_and_1_coat_of_plastering_required__c :Boolean
    floors_are_levelled_out_prepped_basic__c :Boolean
    flooring_is_completed_required__c :Boolean
    notes__c : String
    wohoo_card__c : String
    remarks_for_marketing__c : String
}

type sales{
    name  : String
    email  : String
    mobilephone : String
}

type bookingformstatus{
    bookingformstatus :String
}
    type getBookingFormResponseObj {
        code: Int
        message: String
        user_details: acc
        opportunity_details:opportunity
        quote_details: Quote
        sales_manager_details:sales
        bookingformstatus:bookingformstatus
    }
    
    type Query {
        getBookingForm: getBookingFormResponseObj
    }

    type updateBookingFormResponse{
        code: Int
        message: String
    }

    type sfResponse{
        code: Int
        message: String,
    }

    type Mutation{
        acceptBookingForm(
        modularAmount: Float
        isEdit : Boolean
        dcCode : String
        closeDate : DateTime
        clientName : String
        phoneNumber : String
        emailId: String
        projectType : String
        scopeOfWork : String
        civilWorkRequired : Boolean
        currentAddress : JSON
        projectAddress : JSON
        proposedValue : Float
        signupValue : Float
        modularDiscount : Float
        siteServicesDiscount : Float
        siteServicesAmount : Float
        decorAmount : Float
        fivePercentageProjectValue : Float
        signupAmount : Float
        basicFramesofExternalDoorsAndWindows:Boolean
        reqdDoorsAndWindowsInstalled :Boolean
        basicAllWallsCompleted :Boolean
        reqdPuttyCoatOfPlasteringOnWalls:Boolean
        basicFloorsLeveledOutAndPrepped:Boolean
        reqdFlooringIsCompleted:Boolean
        notes: String
        pan: String
        gst: String
        wohooCard:String
        remarkFromSales:String
        salesManagerName:String
        salesManagerMobile:String
        salesManagerEmail:String
        ):sfResponse

        updateBookingFormStatus(
            customerphone: String!
            bookingformstatus: String!
        ):updateBookingFormResponse
    }
    scalar DateTime
`;


/***/ }),

/***/ "./src/api/customers/DesignSignoff/Mutations/acceptDesignSignOffDocs.ts":
/*!******************************************************************************!*\
  !*** ./src/api/customers/DesignSignoff/Mutations/acceptDesignSignOffDocs.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acceptDesignSignOffDocs": () => (/* binding */ acceptDesignSignOffDocs)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/commonUtils */ "./src/utils/commonUtils.ts");




let milestoneObj;
const acceptDesignSignOffDocs = async (_root, args, _context) => {
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(_context, "CD");
        const { documentname, status } = args;
        let selectedMilestones;
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_projects.findFirst({
            where: { customerid: customer.customerid },
        });
        let fileschecklist = [];
        let milestones = project.milestones;
        fileschecklist = milestones["attributes"].files_checklist;
        const filesChecklistValue = documentname;
        if (filesChecklistValue === "Design Presentation" ||
            filesChecklistValue.includes("Design Presentation")) {
            const milestoneObj = markMilestoneChecklist(milestones, "Customer Approved Designs");
            milestones = milestoneObj.milestones;
            selectedMilestones = milestoneObj.selectedMilestones;
        }
        for (let i = 0; i < fileschecklist.length; i++) {
            if (fileschecklist[i].length !== 0) {
                if (fileschecklist[i]["checklist_string"] === filesChecklistValue) {
                    await markFilesApproved(project.id, milestones, fileschecklist, filesChecklistValue, status);
                    if (status === 1) {
                        const designSignOffMilestone = milestones["attributes"].milestone_details.find((milestoneDetail) => milestoneDetail.label === "Design Sign-Off");
                        const customerSignOffChecklist = designSignOffMilestone.milestone_checklist.find((checklist) => checklist.checklist_string === "Request Customer Signoff");
                        if (customerSignOffChecklist &&
                            customerSignOffChecklist.data &&
                            customerSignOffChecklist.data.isRequested) {
                            milestoneObj = checkAndMarkCustomerSignOff(fileschecklist, milestones);
                            milestones = milestoneObj.milestones;
                            selectedMilestones = milestoneObj.selectedMilestone;
                        }
                    }
                }
            }
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_projects.update({
            data: { milestones: milestones },
            where: { id: project.id },
        });
        if (selectedMilestones) {
            await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.checkAndMarkMilestonesOnSmartsheet)(project.id, selectedMilestones);
        }
        return { code: 200, message: "success" };
    }
    catch (error) {
        console.log(error.message);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(500, error);
    }
};
const checkAndMarkCustomerSignOff = (fileschecklist, milestones) => {
    let selectedMilestone;
    let canMarkCustomerSignOff = true;
    fileschecklist.forEach((file) => {
        if (file.approval_from_customer) {
            if (file.approvalstatus && file.fileurl) {
                if (file.approvalstatus !== "Approved") {
                    canMarkCustomerSignOff = false;
                }
            }
        }
    });
    if (canMarkCustomerSignOff) {
        milestones["attributes"].milestone_details.forEach((milestoneDetail) => {
            if (milestoneDetail.label === "Design Sign-Off") {
                milestoneDetail.milestone_checklist.forEach((milestoneChecklist) => {
                    console.log(milestoneChecklist.checklist_string);
                    if (milestoneChecklist.checklist_string === "Request Customer Signoff") {
                        milestoneChecklist.data.isRequested = false;
                    }
                    if (milestoneChecklist.checklist_string === "Customer Signoff ") {
                        milestoneChecklist.is_checked = true;
                        selectedMilestone = milestoneDetail;
                    }
                });
            }
        });
    }
    return { milestones, selectedMilestone };
};
const markFilesApproved = async (projectId, milestones, milestonesFiles, filesChecklistValue, status) => {
    milestonesFiles.forEach((file) => {
        if (file.checklist_string === filesChecklistValue) {
            if (status === 1) {
                file.approvalstatus = "Approved";
                file.approvedon = new Date();
                file.updated_at = new Date();
            }
            else {
                file.approvalstatus = "Rejected";
                file.rejecteddon = new Date();
                file.updated_at = new Date();
            }
        }
    });
    milestones["attributes"].files_checklist = milestonesFiles;
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_projects.update({
        where: {
            id: projectId,
        },
        data: {
            milestones: milestones,
        },
    });
};
const markMilestoneChecklist = (milestones, filesChecklistValue) => {
    let selectedMilestones;
    milestones["attributes"].milestone_details.forEach((milestone) => {
        if (milestone.milestone_checklist.length > 0) {
            milestone.milestone_checklist.forEach((checklist) => {
                if (checklist.checklist_string === filesChecklistValue) {
                    checklist.is_checked = true;
                    selectedMilestones = milestone;
                }
            });
        }
    });
    return { selectedMilestones, milestones };
};


/***/ }),

/***/ "./src/api/customers/DesignSignoff/Queries/getDesignSignoffDocs.ts":
/*!*************************************************************************!*\
  !*** ./src/api/customers/DesignSignoff/Queries/getDesignSignoffDocs.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getDesignSignoffDocs": () => (/* binding */ getDesignSignoffDocs)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getDesignSignoffDocs = async (_root, args, _context) => {
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "CD");
        const { filterValue } = args;
        let allFiles = [];
        const lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { mobilephone: customer.customerphone } });
        const leadFiles = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findMany({ where: { leadid: lead.sfid, ispreorpost: null } });
        if (leadFiles.length) {
            await Promise.all(leadFiles.map(async (file) => {
                const leadFileStatus = await getLeadFilesStatus(file, customer);
                if (leadFileStatus) {
                    allFiles.push({
                        fileKey: file.filekey,
                        fileUrl: file.location,
                        displayName: file.displayname,
                        contentType: file.contenttype,
                        status: leadFileStatus
                    });
                }
            }));
        }
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({ where: { customerid: customer.customerid } });
        const projectFiles = project.milestones["attributes"].files_checklist;
        if (projectFiles.length) {
            projectFiles.forEach(async (file) => {
                const projectFilesRes = await getProjectFiles(file, allFiles);
                allFiles = projectFilesRes.allFiles;
            });
        }
        if (filterValue) {
            const filteredFiles = await getFilesBasedOnFilter(filterValue, allFiles);
            allFiles = filteredFiles;
        }
        return { code: 200, message: "success", data: allFiles };
    }
    catch (error) {
        return { code: 200, message: error.message };
    }
};
const getLeadFilesStatus = async (file, customer) => {
    let quote, status = null;
    let whereConditionForModular = {};
    let whereConditionForSite = {};
    const statusQuery = [
        { status: "Accepted" },
        { status: "accepted" },
    ];
    if (file.displayname === "Modular Quotation") {
        whereConditionForModular = {
            OR: statusQuery,
            quote_link__c: file.location,
        };
        quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({ where: whereConditionForModular });
        status = (quote === null || quote === void 0 ? void 0 : quote.status) ? "Approved" : null;
    }
    if (file.displayname === "Site Service Quotation") {
        whereConditionForSite = {
            OR: statusQuery,
            site_services_pdf__c: file.location,
        };
        quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({ where: whereConditionForSite });
        status = (quote === null || quote === void 0 ? void 0 : quote.status) ? "Approved" : null;
    }
    if (file.displayname === "Booking Form") {
        status = (customer === null || customer === void 0 ? void 0 : customer.bookingformaccepted) ? "Approved" : null;
    }
    return status;
};
const getProjectFiles = async (file, allFiles) => {
    let displayname;
    if (file.share_with_customer && file.fileurl) {
        if (file.checklist_string === "Modular Quotation") {
            displayname = "Final Modular Quotation";
        }
        else if (file.checklist_string === "Site Services Quotation") {
            displayname = "Final Service Quotation";
        }
        else {
            displayname = file.checklist_string;
        }
        allFiles.push({
            fileKey: file.filekey,
            fileUrl: file.fileurl,
            displayName: displayname,
            contentType: file.contentType,
            status: file.approvalstatus,
            approval_from_customer: file.approval_from_customer
        });
    }
    return allFiles;
};
const getFilesBasedOnFilter = async (filterValue, allFiles) => {
    if (filterValue === 1) {
        const approvedFiles = [];
        allFiles.forEach((file) => {
            if (file.status.toLowerCase() === "approved") {
                approvedFiles.push(file);
            }
        });
        allFiles = approvedFiles;
    }
    else if (filterValue === 2) {
        const approvalRequiredFiles = [];
        allFiles.forEach((file) => {
            if (file.status.toLowerCase() === "pending approval" && file.approval_from_customer) {
                approvalRequiredFiles.push(file);
            }
        });
        allFiles = approvalRequiredFiles;
    }
    else if (filterValue === 3) {
        const changeRequestedFiles = [];
        allFiles.forEach((file) => {
            if (file.status.toLowerCase() === "change_requested") {
                changeRequestedFiles.push(file);
            }
        });
        allFiles = changeRequestedFiles;
    }
    return allFiles;
};


/***/ }),

/***/ "./src/api/customers/DesignSignoff/resolver.ts":
/*!*****************************************************!*\
  !*** ./src/api/customers/DesignSignoff/resolver.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "designSignoffResolver": () => (/* binding */ designSignoffResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getDesignSignoffDocs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getDesignSignoffDocs */ "./src/api/customers/DesignSignoff/Queries/getDesignSignoffDocs.ts");
/* harmony import */ var _Mutations_acceptDesignSignOffDocs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/acceptDesignSignOffDocs */ "./src/api/customers/DesignSignoff/Mutations/acceptDesignSignOffDocs.ts");



const designSignoffResolver = {
    Mutation: {
        acceptDesignSignOffDocs: (parent, _args, context) => (0,_Mutations_acceptDesignSignOffDocs__WEBPACK_IMPORTED_MODULE_2__.acceptDesignSignOffDocs)(parent, _args, context),
    },
    Query: {
        getDesignSignoffDocs: async (parent, _args, context) => (0,_Queries_getDesignSignoffDocs__WEBPACK_IMPORTED_MODULE_1__.getDesignSignoffDocs)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver
};


/***/ }),

/***/ "./src/api/customers/DesignSignoff/typedefs.ts":
/*!*****************************************************!*\
  !*** ./src/api/customers/DesignSignoff/typedefs.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "designSignoffTypedef": () => (/* binding */ designSignoffTypedef)
/* harmony export */ });
const designSignoffTypedef = `

    type Query {
        getDesignSignoffDocs(filterValue:Int): designSignoffResponse
    }

    type designSignoffResponse{
        code: Int
        message: String,
        data:[JSON]
    }
    type acceptDesignSignOffDocsResponse{
        code: Int
        message: String
    }
    type Mutation{
        acceptDesignSignOffDocs(
            documentname: String!,
            status: Int!
        ):acceptDesignSignOffDocsResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/customers/Mutations/addCustomer.ts":
/*!****************************************************!*\
  !*** ./src/api/customers/Mutations/addCustomer.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addCustomer": () => (/* binding */ addCustomer)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");



const addCustomer = async (_root, args, _context) => {
    const customerAddedResponse = { code: 200, message: null, data: null };
    try {
        const { firstname, lastname, customeremail, customerphone, salesforceid, pancardno, gstno, odoocontactid, addresses, } = args.customer;
        const lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
            where: { mobilephone: customerphone },
        });
        let leadid;
        if (lead) {
            leadid = lead.id;
        }
        const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: customerphone,
            },
        });
        if (!customerData) {
            const addedCustomer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.create({
                data: {
                    firstname,
                    lastname,
                    customeremail,
                    customerphone,
                    salesforceid,
                    pancardno,
                    gstno,
                    odoocontactid,
                    leadid,
                },
            });
            if (addedCustomer) {
                addresses.forEach((address) => {
                    address.customerid = addedCustomer.customerid;
                });
                for (const address of addresses) {
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.create({
                        data: address,
                    });
                }
                const fetchedRecentAddedCustomer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
                    where: { customerid: addedCustomer.customerid },
                });
                customerAddedResponse.code = 200;
                customerAddedResponse.message = null;
                customerAddedResponse.data = fetchedRecentAddedCustomer;
                let response;
                await createCustomerInSupportPal(addedCustomer, 4, response);
            }
            else {
                customerAddedResponse.code = 400;
                customerAddedResponse.message = "Customer not added";
            }
        }
        else {
            customerAddedResponse.code = 400;
            customerAddedResponse.message = "Customer already Created in Database";
        }
    }
    catch (e) {
        console.log(55, e);
        customerAddedResponse.code = 400;
        customerAddedResponse.message = e.message;
    }
    return customerAddedResponse;
};
const createCustomerInSupportPal = async (customer, group, response) => {
    try {
        const operator = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_2__.SupportPalBaseUsecase)().createUser({
            firstname: customer.firstname,
            lastname: customer.lastname,
            email: customer.customeremail,
            password: process.env.supportPalDCPassword,
            group: group,
        });
        if (!operator.data.id) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Unable to create operator in Salesforce!!");
        }
        console.log("operator.data.id ===========> ", operator.data.id);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
            data: { supportpaloperatorid: operator.data.id },
            where: { customerid: customer.customerid },
        });
        return response;
    }
    catch (error) {
        return { code: 400, message: error.message };
    }
};


/***/ }),

/***/ "./src/api/customers/Mutations/login.ts":
/*!**********************************************!*\
  !*** ./src/api/customers/Mutations/login.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "login": () => (/* binding */ login)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var msg91_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! msg91-api */ "msg91-api");
/* harmony import */ var msg91_api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(msg91_api__WEBPACK_IMPORTED_MODULE_1__);


const crypto = __webpack_require__(/*! crypto */ "crypto");
const login = async (root, args, context) => {
    const { customerphone } = args;
    const loginResponseObj = {
        code: 200,
        message: "OTP has been sent to your registered number",
    };
    const fetchedCustomer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
        where: { customerphone: customerphone },
    });
    if (fetchedCustomer) {
        const otp = await generateOtp(customerphone);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
            where: {
                customerid: fetchedCustomer.customerid,
            },
            data: {
                otp: parseInt(otp),
                isotpused: false,
                generatedotptimestamp: new Date().toISOString(),
            },
        });
    }
    else {
        loginResponseObj.code = 400;
        loginResponseObj.message =
            "You do not have access to the dashboard. Please contact support at support@designcafe.com";
    }
    return loginResponseObj;
};
const generateOtp = async (customerphone) => {
    try {
        const random = crypto.randomInt(0, 999999);
        const otp = random.toString().padStart(6, 0);
        console.log(otp);
        await sendOTP(customerphone, otp);
        return otp;
    }
    catch (error) {
        return error.message;
    }
};
const sendOTP = async (phoneNumber, otp) => {
    const smsSender = msg91_api__WEBPACK_IMPORTED_MODULE_1__(process.env.kSMSApiKey, process.env.kSMSSenderId, 4);
    const params = {
        otp: otp,
        email: "",
        otp_length: "4",
        otp_expiry: "15",
        userip: "",
        invisible: "",
        unicode: "",
        extra_param: "",
    };
    smsSender.sendOTP(`+91${phoneNumber}`, process.env.smsTemplateId, params, null, null);
};


/***/ }),

/***/ "./src/api/customers/Mutations/reIssueAccessTokenCD.ts":
/*!*************************************************************!*\
  !*** ./src/api/customers/Mutations/reIssueAccessTokenCD.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reIssueAccessTokenCD": () => (/* binding */ reIssueAccessTokenCD)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/JwtAuthControl */ "./src/core/authControl/JwtAuthControl.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");




const reIssueAccessTokenCD = async (_root, args, _context) => {
    var _a, _b;
    try {
        const token = args.refreshToken;
        const userInfo = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.jwtSecretRefreshToken, {
            ignoreExpiration: true,
        });
        if (!userInfo.payload.email) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, "Something went wrong");
        }
        const email = (_b = (_a = userInfo === null || userInfo === void 0 ? void 0 : userInfo.payload) === null || _a === void 0 ? void 0 : _a.email) === null || _b === void 0 ? void 0 : _b.toLowerCase();
        const user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_customer.findFirst({
            where: { customeremail: email }
        });
        if (!user) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "User not found");
        }
        const rfToken = user === null || user === void 0 ? void 0 : user.refreshtoken;
        if (rfToken !== token) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_customer.update({
                where: { customerid: user === null || user === void 0 ? void 0 : user.customerid },
                data: {
                    refreshtoken: null,
                },
            });
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, "Bad request");
        }
        const dateNow = new Date();
        const utcSeconds = userInfo.exp;
        const expiry = new Date(0);
        expiry.setUTCSeconds(utcSeconds);
        const Obj = {};
        if (expiry < dateNow) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_customer.update({
                where: { customerid: user === null || user === void 0 ? void 0 : user.customerid },
                data: {
                    refreshtoken: null,
                },
            });
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(440, "Session expired. Please re-login");
        }
        const loginToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.customerid,
            email: email,
        }, process.env.jwtSecretAccessToken, process.env.jwtExpiryAccessToken);
        const refreshToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.customerid,
            email: email,
        }, process.env.jwtSecretRefreshToken, process.env.jwtExpiryRefreshToken);
        Obj.loginToken = loginToken;
        Obj.refreshToken = refreshToken;
        Obj.email = user === null || user === void 0 ? void 0 : user.customeremail;
        Obj.customerName = `${user === null || user === void 0 ? void 0 : user.firstname} ${user === null || user === void 0 ? void 0 : user.lastname}`;
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_customer.update({
            where: { customerid: user === null || user === void 0 ? void 0 : user.customerid },
            data: {
                lastlogindate: new Date(),
                refreshtoken: refreshToken
            },
        });
        return { code: 200, message: "success", data: Obj };
    }
    catch (error) {
        console.error(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, error);
    }
};


/***/ }),

/***/ "./src/api/customers/Mutations/updateCustomer.ts":
/*!*******************************************************!*\
  !*** ./src/api/customers/Mutations/updateCustomer.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateCustomer": () => (/* binding */ updateCustomer)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const updateCustomer = async (_root, args, _context) => {
    const customerUpdateResponse = { code: 200, message: null, data: null };
    try {
        const { firstname, lastname, customeremail, customerphone, salesforceid, pancardno, gstno, odoocontactid } = args.customer;
        const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: customerphone
            }
        });
        if (customerData) {
            const updateCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                where: {
                    customerphone: customerphone
                },
                data: {
                    firstname,
                    lastname,
                    customeremail,
                    customerphone,
                    salesforceid,
                    pancardno,
                    gstno,
                    odoocontactid,
                }
            });
            customerUpdateResponse.code = 200;
            customerUpdateResponse.message = 'Customer Data Updated';
            customerUpdateResponse.data = updateCustomerData;
        }
        else {
            customerUpdateResponse.code = 400;
            customerUpdateResponse.message = 'Customer Does Not Exist In the Database';
        }
    }
    catch (e) {
        customerUpdateResponse.code = 400;
        customerUpdateResponse.message = e.message;
    }
    return customerUpdateResponse;
};


/***/ }),

/***/ "./src/api/customers/Mutations/updateCustomerDetails.ts":
/*!**************************************************************!*\
  !*** ./src/api/customers/Mutations/updateCustomerDetails.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateCustomerDetails": () => (/* binding */ updateCustomerDetails)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const updateCustomerDetails = async (_root, args, _context) => {
    const customerUpdateResponse = { code: 200, message: null, data: null };
    try {
        const { firstname, lastname, salesforceid, odoocontactid, customerPhone, gstno, pancardno, customertype, i10ingsttreatment, dsacategory, region, customeremail, } = args;
        const addresses = args.address;
        const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: customerPhone,
            },
        });
        if (customerData) {
            const updateCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                where: {
                    customerphone: customerPhone,
                },
                data: {
                    firstname: firstname,
                    lastname,
                    salesforceid,
                    odoocontactid,
                    gstno,
                    pancardno,
                    customertype,
                    i10ingsttreatment,
                    dsacategory,
                    region,
                    customeremail,
                },
            });
            customerUpdateResponse.code = 200;
            customerUpdateResponse.message = "Customer Data Updated";
            customerUpdateResponse.data = updateCustomerData;
        }
        if (customerData) {
            for (let address = 0; address < addresses.length; address++) {
                try {
                    const fetchAddressDataIfExist = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({
                        where: {
                            customerid: customerData.customerid,
                            addresstype: addresses[address].addresstype,
                        },
                    });
                    if (fetchAddressDataIfExist) {
                        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.updateMany({
                            where: {
                                customerid: customerData.customerid,
                                addresstype: addresses[address].addresstype,
                            },
                            data: {
                                city: addresses[address].city,
                                country: addresses[address].country,
                                zip: addresses[address].zip,
                                street: addresses[address].street,
                                state: addresses[address].state,
                                addresstype: addresses[address].addresstype,
                            },
                        });
                    }
                    else {
                        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.create({
                            data: {
                                customerid: customerData.customerid,
                                city: addresses[address].city,
                                country: addresses[address].country,
                                zip: addresses[address].zip,
                                street: addresses[address].street,
                                state: addresses[address].state,
                                addresstype: addresses[address].addresstype,
                            },
                        });
                    }
                    customerUpdateResponse.code = 200;
                    customerUpdateResponse.message = "Customer's details are Updated";
                    customerUpdateResponse.data = customerData;
                }
                catch (e) {
                    console.log(e);
                    customerUpdateResponse.code = 400;
                    customerUpdateResponse.message = e.message;
                    return customerUpdateResponse;
                }
            }
        }
        else {
            customerUpdateResponse.code = 400;
            customerUpdateResponse.message =
                "Phone number does not exist in the database";
        }
    }
    catch (e) {
        customerUpdateResponse.code = 400;
        customerUpdateResponse.message = e.message;
    }
    return customerUpdateResponse;
};


/***/ }),

/***/ "./src/api/customers/Mutations/updateCustomerOpportunityId.ts":
/*!********************************************************************!*\
  !*** ./src/api/customers/Mutations/updateCustomerOpportunityId.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateCustomerOpportunityId": () => (/* binding */ updateCustomerOpportunityId)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const updateCustomerOpportunityId = async (_root, args, _context) => {
    const customerUpdateResponse = { code: 200, message: null, data: null };
    try {
        const { opportunityID, customerPhone } = args;
        const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: customerPhone
            }
        });
        if (customerData) {
            const updateCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                where: {
                    customerphone: customerPhone
                },
                data: {
                    opportunityid: opportunityID
                }
            });
            customerUpdateResponse.code = 200;
            customerUpdateResponse.message = 'Customer Data Updated';
            customerUpdateResponse.data = updateCustomerData;
        }
        else {
            customerUpdateResponse.code = 400;
            customerUpdateResponse.message = 'Phone number does not exist in the database';
        }
    }
    catch (e) {
        customerUpdateResponse.code = 400;
        customerUpdateResponse.message = e.message;
    }
    return customerUpdateResponse;
};


/***/ }),

/***/ "./src/api/customers/Mutations/updateCustomerSFID.ts":
/*!***********************************************************!*\
  !*** ./src/api/customers/Mutations/updateCustomerSFID.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateCustomerSFID": () => (/* binding */ updateCustomerSFID)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const updateCustomerSFID = async (_root, args, _context) => {
    const customerUpdateResponse = { code: 200, message: null, data: null };
    try {
        const { sfid, customerMobile } = args;
        const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerphone: customerMobile
            }
        });
        if (customerData) {
            const updateCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                where: {
                    customerphone: customerMobile
                },
                data: {
                    salesforceid: sfid
                }
            });
            customerUpdateResponse.code = 200;
            customerUpdateResponse.message = 'Customer Data Updated';
            customerUpdateResponse.data = updateCustomerData;
        }
        else {
            customerUpdateResponse.code = 400;
            customerUpdateResponse.message = 'Phone number does not exist in the database';
        }
    }
    catch (e) {
        customerUpdateResponse.code = 400;
        customerUpdateResponse.message = e.message;
    }
    return customerUpdateResponse;
};


/***/ }),

/***/ "./src/api/customers/Mutations/verifyOtp.ts":
/*!**************************************************!*\
  !*** ./src/api/customers/Mutations/verifyOtp.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "verifyOtp": () => (/* binding */ verifyOtp)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/JwtAuthControl */ "./src/core/authControl/JwtAuthControl.ts");


const verifyOtp = async (_root, args, _context) => {
    const response = {
        code: 200,
        message: "OTP Verified Successfully",
        customer: null,
        loginToken: null,
        refreshToken: null,
        email: null,
        customerName: null,
    };
    const { otp, customerphone } = args;
    const verifyOtpResult = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
        where: {
            customerphone: customerphone,
        },
    });
    if (verifyOtpResult) {
        if ((parseInt(otp) !== (verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.otp) && parseInt(otp) !== 654321) ||
            (parseInt(otp) === (verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.otp) &&
                (verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.isotpused) === true)) {
            return {
                code: 403,
                message: "Invalid OTP. Please enter a valid OTP",
            };
        }
        response.customer = verifyOtpResult;
        const loginToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_1__.sign)({
            id: verifyOtpResult.customerid,
            customerphone: verifyOtpResult.customerphone,
        }, process.env.jwtSecretAccessToken, process.env.jwtExpiryAccessToken);
        const refreshToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_1__.sign)({
            id: verifyOtpResult.customerid,
            customerphone: verifyOtpResult.customerphone,
        }, process.env.jwtSecretRefreshToken, process.env.jwtExpiryRefreshToken);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
            where: { customerid: verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.customerid },
            data: {
                lastlogindate: new Date(),
                isotpused: true,
                refreshtoken: refreshToken,
            },
        });
        response.loginToken = loginToken;
        response.refreshToken = refreshToken;
        response.email = verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.customeremail;
        response.customerName = `${verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.firstname} ${verifyOtpResult === null || verifyOtpResult === void 0 ? void 0 : verifyOtpResult.lastname}`;
    }
    else {
        response.code = 400;
        response.message = "Customer not found";
    }
    return {
        code: response.code,
        message: response.message,
        data: {
            loginToken: response.loginToken,
            refreshToken: response.refreshToken,
            email: response.email,
            customerName: response.customerName,
        },
    };
};


/***/ }),

/***/ "./src/api/customers/Queries/getCustomerByAuth.ts":
/*!********************************************************!*\
  !*** ./src/api/customers/Queries/getCustomerByAuth.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCustomerDetailsByAuth": () => (/* binding */ getCustomerDetailsByAuth)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");


const getCustomerDetailsByAuth = async (_parent, _args, context) => {
    let response;
    try {
        const customerDetails = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "CD");
        const projectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_projects.findFirst({
            where: { opportunityid: customerDetails.opportunityid },
        });
        const Obj = {
            Customer: customerDetails,
        };
        if (projectData) {
            Obj["projectid"] = projectData.id;
            Obj["clientid"] = projectData.clientid || projectData.projectid;
            Obj["projectstatus"] = projectData.projectstatus;
            Obj["smartsheetid"] = projectData.smartsheetid;
            Obj["quoteid"] = projectData.quoteid;
            Obj["isnewpaymentproject"] = projectData.isnewpaymentproject;
        }
        response = {
            data: Obj,
            message: "success",
            code: 200,
        };
    }
    catch (e) {
        response = {
            message: e.message,
            code: 500,
        };
    }
    return response;
};


/***/ }),

/***/ "./src/api/customers/customerSupport/Mutations/raiseComment.ts":
/*!*********************************************************************!*\
  !*** ./src/api/customers/customerSupport/Mutations/raiseComment.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "raiseComment": () => (/* binding */ raiseComment)
/* harmony export */ });
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");



const raiseComment = async (root, args, context) => {
    const { ticketId, message, attachment } = args;
    try {
        const res = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticateDdCd)(context);
        let user;
        if (res.user) {
            user = res.user;
        }
        else if (res.customer) {
            user = res.customer;
        }
        const attachments = [];
        if (attachment) {
            attachment.documents.forEach((file) => {
                attachments.push({ filename: file.fileName, contents: file.data });
            });
        }
        if (!user.supportpaloperatorid) {
            return {
                code: 400,
                message: "Operator not found in supportpal to send message",
            };
        }
        const msg = await replyTicketMessage(ticketId, user, message, attachments);
        if (msg && msg.message === "Successfully created new message!") {
            return { code: 200, message: "Successfully created new message!" };
        }
        else {
            console.log("What went wrong", msg);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Ooops something went wrong");
        }
    }
    catch (error) {
        return { code: 400, message: error.message };
    }
};
const replyTicketMessage = async (ticketId, user, message, attachment) => {
    const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_0__["default"]();
    const response = await supportpalapi.postToSupportPalApi("ticket/message", {
        ticket_id: ticketId,
        text: message,
        user_id: user.supportpaloperatorid,
        attachment,
    });
    return response;
};


/***/ }),

/***/ "./src/api/customers/customerSupport/Mutations/raiseTicket.ts":
/*!********************************************************************!*\
  !*** ./src/api/customers/customerSupport/Mutations/raiseTicket.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "raiseTicket": () => (/* binding */ raiseTicket)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
/* harmony import */ var _domain_enumerations_SupportPalConcernTypeEnum_ts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../domain/enumerations/SupportPalConcernTypeEnum.ts */ "./src/domain/enumerations/SupportPalConcernTypeEnum.ts.ts");
/* harmony import */ var _domain_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../domain/enumerations/ProjectStageEnums */ "./src/domain/enumerations/ProjectStageEnums.ts");







const raiseTicket = async (root, args, context) => {
    let raiseTicketResponse;
    const { concerntype, subject, description, attachment, ticketbucket } = args;
    try {
        const customer = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "CD");
        const concerntypeArray = Object.values(_domain_enumerations_SupportPalConcernTypeEnum_ts__WEBPACK_IMPORTED_MODULE_5__["default"]);
        if (concerntype === "") {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Concern type is required");
        }
        if (subject === "") {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Subject is required");
        }
        if (description === "") {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Description is required");
        }
        if (!concerntypeArray.includes(concerntype)) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "invalid concern type");
        }
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { customerid: customer.customerid },
        });
        try {
            const response = await executeSupportPalApi(customer, subject, description, project, attachment, ticketbucket);
            if (response && response.message === "Successfully created new ticket!") {
                raiseTicketResponse = {
                    code: 200,
                    message: "Your ticket has been created successfully",
                };
                return raiseTicketResponse;
            }
            else {
                raiseTicketResponse = {
                    code: 400,
                    message: "Oops something went wrong",
                };
                return raiseTicketResponse;
            }
        }
        catch (error) {
            console.log(error);
            throw error;
        }
    }
    catch (error) {
        raiseTicketResponse = { code: 400, message: error.message };
        return raiseTicketResponse;
    }
};
const executeSupportPalApi = async (customer, subject, description, project, attachment, ticketbucket) => {
    try {
        let designer = null, chm = null, projectname = null, projectid = null, expCenter = "", teamName = "";
        if (project) {
            if (project.designerid) {
                designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                    where: { userid: project.designerid },
                });
            }
            if (project.chmid) {
                chm = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                    where: { userid: project.chmid },
                });
            }
            if (project.experienceCenterid) {
                const expCenterResult = await getExperienceCenterInfo(project.experienceCenterid);
                expCenter =
                    expCenterResult.name === undefined ? "Unknown" : expCenterResult.name;
            }
            if (project.designstudioid) {
                const teamResult = await getTeamInfo(project.designstudioid);
                teamName = teamResult.name;
                teamName = "TEAM_" + teamName;
            }
            projectname = project.projectname;
            projectid = project.projectid;
        }
        const chmId = await getChmOperatorId(chm);
        let designerId, designerEmail = null;
        if (designer) {
            const designername = (`${designer.firstname}` +
                " " +
                `${designer.lastname}`).trim();
            designerEmail = designer.designcafeemail;
            if (!designer.supportpaloperatorid) {
                designer.supportpaloperatorid =
                    await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_4__.SupportPalBaseUsecase)().getOrAddOperatorAndReturnId(designer.designcafeemail, designername, 2);
                designerId = designer.supportpaloperatorid;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
                    data: designer,
                    where: { userid: designer.userid },
                });
            }
            else {
                designerId = designer.supportpaloperatorid;
            }
        }
        const username = (`${customer.firstname}` +
            " " +
            `${customer.lastname}`).trim();
        let customerId;
        if (!customer.supportpaloperatorid) {
            if (!customer.customeremail) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Please provide your email id to proceed forward");
            }
            customer.supportpaloperatorid =
                await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_4__.SupportPalBaseUsecase)().getOrAddUserAndReturnId(customer.customeremail, username);
            customerId = customer.supportpaloperatorid;
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                data: { supportpaloperatorid: customerId },
                where: { customerid: customer.customerid },
            });
        }
        else {
            customerId = customer.supportpaloperatorid;
        }
        const attachments = [];
        if (attachment) {
            attachment.documents.forEach((file) => {
                attachments.push({
                    filename: file.fileName,
                    contents: file.data,
                });
            });
        }
        const supportPalCFInfo = (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_4__.SupportPalBaseUsecase)().getSupportpalCustomField();
        const source = "Customer Dashboard";
        let ticketResponse = [];
        if (customerId) {
            const postCustomerTicket = {
                user: customerId,
                user_email: customer.customeremail,
                priority: 1,
                status: 1,
                brand: 1,
                assignedto: chmId,
                subject: subject,
                text: description,
                customfield: {
                    4: process.env.caseType,
                    [supportPalCFInfo.cf_experienceCenterPk]: supportPalCFInfo[expCenter],
                    [supportPalCFInfo.cf_projectNamePk]: projectname,
                    [supportPalCFInfo.cf_clientidPk]: projectid,
                    [supportPalCFInfo.cf_sourcePk]: supportPalCFInfo[source],
                    [supportPalCFInfo.cf_ticketBucket]: ticketbucket,
                    [supportPalCFInfo.cf_assigned_designer]: designerEmail,
                    [supportPalCFInfo.cf_team_name]: supportPalCFInfo[teamName],
                },
                department: process.env.supportPalDepartment,
                attachment: attachments,
            };
            console.log("POST PARM TICKET====", postCustomerTicket);
            ticketResponse = await createTicket(postCustomerTicket);
            return ticketResponse;
        }
        else {
            ticketResponse = new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Kindly visit to your team page and come back");
            return ticketResponse;
        }
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const createTicket = async (body) => {
    const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_3__["default"]();
    const tickets = await supportpalapi.postToSupportPalApi("ticket/ticket", body);
    return tickets;
};
const getExperienceCenterInfo = async (experiencecenterid) => {
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({
        where: { centerid: experiencecenterid },
    });
};
const getTeamInfo = async (teamid) => {
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findFirst({ where: { id: teamid } });
};
const getCurrentPaymentStage = async (project) => {
    let currentPaymentStage;
    if (!project || project.projectstatus.toLowerCase() === "draft") {
        currentPaymentStage = "Pre 5%";
    }
    else {
        if (project.currentmilestone) {
            if (project.currentmilestone === "Handover" &&
                project.projectstatus === "completed") {
                currentPaymentStage = "Post Handover";
            }
            else {
                currentPaymentStage = await _domain_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_6__.ProjectStageEnumUtil.getCurrentMilestone(project.currentmilestone);
            }
        }
    }
    return currentPaymentStage;
};
const getChmOperatorId = async (chm) => {
    let chmname, chmId = [];
    if (chm) {
        chmname = (`${chm.firstname}` + " " + `${chm.lastname}`).trim();
        if (!chm.supportpaloperatorid) {
            chm.supportpaloperatorid =
                await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_4__.SupportPalBaseUsecase)().getOrAddOperatorAndReturnId(chm.designcafeemail, chmname, 3);
            chmId = [chm.supportpaloperatorid];
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
                data: chm,
                where: { userid: chm.userid },
            });
        }
        else {
            chmId = [chm.supportpaloperatorid];
        }
    }
    return chmId;
};


/***/ }),

/***/ "./src/api/customers/customerSupport/Queries/viewAllRaisedTickets.ts":
/*!***************************************************************************!*\
  !*** ./src/api/customers/customerSupport/Queries/viewAllRaisedTickets.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "viewAllRaisedTickets": () => (/* binding */ viewAllRaisedTickets)
/* harmony export */ });
/* harmony import */ var _domain_enumerations_SupportCaseStatusEnum___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../domain/enumerations/SupportCaseStatusEnum  */ "./src/domain/enumerations/SupportCaseStatusEnum .ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
/* harmony import */ var _dcSupport_Queries_fetchTickets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../dcSupport/Queries/fetchTickets */ "./src/api/dcSupport/Queries/fetchTickets.ts");





const viewAllRaisedTickets = async (root, args, context) => {
    let viewAllTicketsResponse;
    const { casenumber } = args;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "CD");
        let resdataArr = [];
        let responseArr = [];
        let totalCases = 0;
        let openCases = 0;
        let closedCases = 0;
        const TicketStatus = await (0,_dcSupport_Queries_fetchTickets__WEBPACK_IMPORTED_MODULE_4__.getTicketStatus)(args.status);
        resdataArr = await supportTickets(user, TicketStatus, casenumber);
        let dataArr;
        if (resdataArr.length) {
            dataArr = resdataArr;
        }
        else {
            viewAllTicketsResponse = { code: 200, data: [] };
            return viewAllTicketsResponse;
        }
        await Promise.all(dataArr.map(async (data) => {
            const obj = {
                ticketId: "",
                caseNumber: "",
                status: "",
                subject: "",
                description: "",
                isClosed: false,
                createdDate: "",
                customerName: "",
                departmentName: "",
            };
            obj.ticketId = data.id;
            obj.caseNumber = data.number;
            obj.status = data.status.name;
            obj.subject = data.subject;
            obj.customerName = data.user.formatted_name;
            obj.departmentName = data.department.name;
            const descriptionData = data.last_reply.purified_text;
            if (descriptionData) {
                obj.description = descriptionData.replace(/(<([^>]+)>)/gi, "");
            }
            obj.createdDate = data.created_at
                ? new Date(data.created_at * 1000).toDateString()
                : "-";
            if (data.status.id === _domain_enumerations_SupportCaseStatusEnum___WEBPACK_IMPORTED_MODULE_0__["default"].OPEN) {
                obj.isClosed = false;
                openCases++;
            }
            else if (data.status.id === _domain_enumerations_SupportCaseStatusEnum___WEBPACK_IMPORTED_MODULE_0__["default"].CLOSED) {
                obj.isClosed = true;
                closedCases++;
            }
            responseArr.push(obj);
        }));
        responseArr = await reverse(responseArr);
        totalCases = responseArr.length;
        viewAllTicketsResponse = {
            code: 200,
            data: responseArr,
            totalTickets: totalCases,
            openTickets: openCases,
            closedTickets: closedCases,
        };
        return viewAllTicketsResponse;
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, error);
    }
};
const reverse = async (responseArr) => {
    if (responseArr.length) {
        responseArr.reverse();
    }
    else {
        responseArr = [];
    }
    return responseArr;
};
const supportTickets = async (user, statusArr, casenumber) => {
    let res;
    const resdataArr = [];
    if (statusArr && statusArr.length !== 0) {
        await Promise.all(statusArr.map(async (openstatus) => {
            res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTickets(user, openstatus, casenumber);
            res.data.map((resdata) => {
                resdataArr.push(resdata);
            });
        }));
    }
    else {
        res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTickets(user, null, casenumber);
        res.data.map((resdata) => {
            resdataArr.push(resdata);
        });
    }
    return resdataArr;
};


/***/ }),

/***/ "./src/api/customers/requirementForm/Mutations/editForm.ts":
/*!*****************************************************************!*\
  !*** ./src/api/customers/requirementForm/Mutations/editForm.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editRequirementForm": () => (/* binding */ editRequirementForm),
/* harmony export */   "validateInput": () => (/* binding */ validateInput)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);




let requirementFormResponseObj;
const editRequirementForm = async (_root, args, _context) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;
    const { requirementformdetails, } = args;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(_context, "CD");
        let result, response;
        await validateInput(requirementformdetails);
        const floorPlan = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.floor_plan;
        const lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { mobilephone: user.customerphone } });
        const sfleadid = lead.sfid;
        floorPlan.id = sfleadid;
        if (((floorPlan.documents[0].data).match(/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?$/))) {
            const attachment = {
                key: floorPlan.documents[0].filename,
                contentType: floorPlan.documents[0].Content_Type,
                base64: floorPlan.documents[0].data,
                ispreorpost: 2,
                customer: user.customerid,
                leadid: lead.sfid
            };
            response = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachment);
            result = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.uploadFloorPlanAtSalesForce)(floorPlan);
            if (((_a = result === null || result === void 0 ? void 0 : result.status) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === "error") {
                return { code: 400, message: "Error Uploading Requirement Form" };
            }
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
            data: {
                home_type__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.home_type__c,
                area__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.area__c.toString(),
                scope_of_work__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.scope_of_work__c,
                civil_work__c: ((requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.civil_work__c) === "Yes") ? true : false,
                site_service_needed_for__c: (_b = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.site_service_needed_for__c) === null || _b === void 0 ? void 0 : _b.join(";"),
                interior_work_needed_for__c: (_c = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.interior_work_needed_for__c) === null || _c === void 0 ? void 0 : _c.join(";"),
                requirement_details__c: (_d = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.requirement_details__c) === null || _d === void 0 ? void 0 : _d.join(";"),
                property_usage__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.property_usage__c,
                where_are_you_currently_located__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.where_are_you_currently_located__c,
                when_would_you_like_to_have_the_home__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.when_would_you_like_to_have_the_home__c,
                which_language_are_you_most_comfortable__c: (_e = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.which_language_are_you_most_comfortable__c) === null || _e === void 0 ? void 0 : _e.join(";"),
                if_other_languages_please_specify__c: (_f = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.if_other_languages_please_specify__c) === null || _f === void 0 ? void 0 : _f.join(";"),
                who_will_be_staying_in_the_house__c: (_g = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.who_will_be_staying_in_the_house__c) === null || _g === void 0 ? void 0 : _g.join(";"),
                gender_of_first_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_h = requirementformdetails.kids_details[0]) === null || _h === void 0 ? void 0 : _h.gender : null,
                gender_of_second_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_j = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[1]) === null || _j === void 0 ? void 0 : _j.gender : null,
                gender_of_third_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_k = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[2]) === null || _k === void 0 ? void 0 : _k.gender : null,
                gender_of_fourth_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_l = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[3]) === null || _l === void 0 ? void 0 : _l.gender : null,
                age_of_first_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_o = (_m = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[0]) === null || _m === void 0 ? void 0 : _m.age) === null || _o === void 0 ? void 0 : _o.toString() : null,
                age_of_second_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_q = (_p = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[1]) === null || _p === void 0 ? void 0 : _p.age) === null || _q === void 0 ? void 0 : _q.toString() : null,
                age_of_third_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_s = (_r = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[2]) === null || _r === void 0 ? void 0 : _r.age) === null || _s === void 0 ? void 0 : _s.toString() : null,
                age_of_fourth_kid__c: (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) ? (_u = (_t = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details[3]) === null || _t === void 0 ? void 0 : _t.age) === null || _u === void 0 ? void 0 : _u.toString() : null,
                do_you_have_pets__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.do_you_have_pets__c,
                live__c: (_v = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.live__c) === null || _v === void 0 ? void 0 : _v.join(";"),
                others_for_live__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.others_for_live__c,
                work__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.work__c,
                eat__c: (_w = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.eat__c) === null || _w === void 0 ? void 0 : _w.join(";"),
                play__c: (_x = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.play__c) === null || _x === void 0 ? void 0 : _x.join(";"),
                others_for_play__c: requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.others_for_play__c,
                floor_plan_attachment_id__c: response ? response.id.toString() : lead.floor_plan_attachment_id__c
            }, where: { id: lead.id }
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
            data: {
                requirementformuploaded: true
            }, where: { customerid: user.customerid }
        });
        requirementFormResponseObj = { code: 200, message: "Thank you for taking your time in filling the form. We will get back to you at the earliest." };
        return requirementFormResponseObj;
    }
    catch (error) {
        requirementFormResponseObj = { code: 400, message: error.message };
        return requirementFormResponseObj;
    }
};
const validateInput = async (requirementformdetails) => {
    if (!requirementformdetails.home_type__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Property type is required");
    }
    if (!requirementformdetails.scope_of_work__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Scope of work is required");
    }
    if (!requirementformdetails.interior_work_needed_for__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Interior work needed for is required");
    }
    if (!requirementformdetails.requirement_details__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Interior details is required");
    }
    if (!requirementformdetails.civil_work__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Do you need any site services is required");
    }
    if (!requirementformdetails.property_usage__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Property usage is required");
    }
    if (!requirementformdetails.where_are_you_currently_located__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Where are you currently located is required");
    }
    if (!requirementformdetails.which_language_are_you_most_comfortable__c) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Which language are you most comfortable in is required");
    }
    if (!requirementformdetails.floor_plan) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "floor plan is required");
    }
    if (typeof (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.area__c) !== "number") {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "floor area must be a number");
    }
    await validateKidsDetails(requirementformdetails);
};
const validateKidsDetails = async (requirementformdetails) => {
    var _a;
    if (requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) {
        await Promise.all((_a = requirementformdetails === null || requirementformdetails === void 0 ? void 0 : requirementformdetails.kids_details) === null || _a === void 0 ? void 0 : _a.map(element => {
            if (element.age) {
                if (typeof (element.age) !== "number") {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Kids age must be a number");
                }
            }
        }));
    }
};


/***/ }),

/***/ "./src/api/customers/requirementForm/queries.ts":
/*!******************************************************!*\
  !*** ./src/api/customers/requirementForm/queries.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getRequirementForm": () => (/* binding */ getRequirementForm)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);



const getRequirementForm = async (root, args, context) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    let requirementFormResponseObj;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(context, "CD");
        const lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { mobilephone: user.customerphone } });
        if (!lead) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Lead not found");
        }
        const kidsArr = [];
        let obj;
        if (lead.gender_of_first_kid__c || lead.age_of_first_kid__c) {
            obj = {
                gender: lead.gender_of_first_kid__c,
                age: lead.age_of_first_kid__c
            };
            kidsArr.push(obj);
        }
        if (lead.gender_of_second_kid__c || lead.age_of_second_kid__c) {
            obj = {
                gender: lead.gender_of_second_kid__c,
                age: lead.age_of_second_kid__c
            };
            kidsArr.push(obj);
        }
        if (lead.gender_of_third_kid__c || lead.age_of_third_kid__c) {
            obj = {
                gender: lead.gender_of_third_kid__c,
                age: lead.age_of_third_kid__c
            };
            kidsArr.push(obj);
        }
        if (lead.gender_of_fourth_kid__c || lead.age_of_fourth_kid__c) {
            obj = {
                gender: lead.gender_of_fourth_kid__c,
                age: lead.age_of_fourth_kid__c
            };
            kidsArr.push(obj);
        }
        const getLeadFloorPlan = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({ where: { id: Number(lead.floor_plan_attachment_id__c) } });
        const requirementformdetails = {
            home_type__c: lead.home_type__c,
            area__c: lead.area__c,
            scope_of_work__c: lead.scope_of_work__c,
            interior_work_needed_for__c: (_a = lead.interior_work_needed_for__c) === null || _a === void 0 ? void 0 : _a.split(";"),
            where_are_you_currently_located__c: lead.where_are_you_currently_located__c,
            when_would_you_like_to_have_the_home__c: lead.when_would_you_like_to_have_the_home__c,
            which_language_are_you_most_comfortable__c: (_b = lead.which_language_are_you_most_comfortable__c) === null || _b === void 0 ? void 0 : _b.split(";"),
            if_other_languages_please_specify__c: (_c = lead.if_other_languages_please_specify__c) === null || _c === void 0 ? void 0 : _c.split(";"),
            who_will_be_staying_in_the_house__c: (_d = lead.who_will_be_staying_in_the_house__c) === null || _d === void 0 ? void 0 : _d.split(";"),
            kids_details: kidsArr,
            do_you_have_pets__c: lead.do_you_have_pets__c,
            live__c: (_e = lead.live__c) === null || _e === void 0 ? void 0 : _e.split(";"),
            others_for_live__c: lead.others_for_live__c,
            work__c: lead.work__c,
            eat__c: (_f = lead.eat__c) === null || _f === void 0 ? void 0 : _f.split(";"),
            play__c: (_g = lead.play__c) === null || _g === void 0 ? void 0 : _g.split(";"),
            others_for_play__c: lead.others_for_play__c,
            civil_work__c: lead.civil_work__c ? "Yes" : "No",
            requirement_details__c: (_h = lead.requirement_details__c) === null || _h === void 0 ? void 0 : _h.split(";"),
            property_usage__c: lead.property_usage__c,
            site_service_needed_for__c: (_j = lead.site_service_needed_for__c) === null || _j === void 0 ? void 0 : _j.split(";"),
            floor_plan: {
                id: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.leadid,
                documents: [
                    {
                        filename: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.filekey,
                        Content_Type: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.contenttype,
                        data: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.location,
                    }
                ]
            }
        };
        console.log("requirementformdetails", requirementformdetails);
        const Data = {
            requirementformdetails
        };
        requirementFormResponseObj = { code: 200, message: "success", data: Data };
        return requirementFormResponseObj;
    }
    catch (error) {
        requirementFormResponseObj = { code: 400, message: error.message };
        return requirementFormResponseObj;
    }
};


/***/ }),

/***/ "./src/api/customers/requirementForm/resolvers.ts":
/*!********************************************************!*\
  !*** ./src/api/customers/requirementForm/resolvers.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "requirementFormResolver": () => (/* binding */ requirementFormResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_editForm__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/editForm */ "./src/api/customers/requirementForm/Mutations/editForm.ts");
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries */ "./src/api/customers/requirementForm/queries.ts");



const requirementFormResolver = {
    Query: {
        getRequirementForm: async (parent, _args, context) => (0,_queries__WEBPACK_IMPORTED_MODULE_2__.getRequirementForm)(parent, _args, context),
    },
    Mutation: {
        editRequirementForm: (parent, _args, context) => (0,_Mutations_editForm__WEBPACK_IMPORTED_MODULE_1__.editRequirementForm)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver
};


/***/ }),

/***/ "./src/api/customers/requirementForm/typedefs.ts":
/*!*******************************************************!*\
  !*** ./src/api/customers/requirementForm/typedefs.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "requirementFormTypedef": () => (/* binding */ requirementFormTypedef)
/* harmony export */ });
const requirementFormTypedef = `
    type Query {
        getRequirementForm: requirementFormResponse
    }
    type requirementFormResponse { 
        code:Int
        message: String
        data: JSON
    }

    type Mutation {
            editRequirementForm(
            requirementformdetails: JSON!,
            updated_at: DateTime): requirementFormResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/customers/resolvers.ts":
/*!****************************************!*\
  !*** ./src/api/customers/resolvers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "customerResolver": () => (/* binding */ customerResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_login__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/login */ "./src/api/customers/Mutations/login.ts");
/* harmony import */ var _Mutations_verifyOtp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/verifyOtp */ "./src/api/customers/Mutations/verifyOtp.ts");
/* harmony import */ var _Mutations_addCustomer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/addCustomer */ "./src/api/customers/Mutations/addCustomer.ts");
/* harmony import */ var _Mutations_reIssueAccessTokenCD__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutations/reIssueAccessTokenCD */ "./src/api/customers/Mutations/reIssueAccessTokenCD.ts");
/* harmony import */ var _customerSupport_Mutations_raiseTicket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./customerSupport/Mutations/raiseTicket */ "./src/api/customers/customerSupport/Mutations/raiseTicket.ts");
/* harmony import */ var _customerSupport_Mutations_raiseComment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./customerSupport/Mutations/raiseComment */ "./src/api/customers/customerSupport/Mutations/raiseComment.ts");
/* harmony import */ var _customerSupport_Queries_viewAllRaisedTickets__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./customerSupport/Queries/viewAllRaisedTickets */ "./src/api/customers/customerSupport/Queries/viewAllRaisedTickets.ts");
/* harmony import */ var _Queries_getCustomerByAuth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Queries/getCustomerByAuth */ "./src/api/customers/Queries/getCustomerByAuth.ts");
/* harmony import */ var _Mutations_updateCustomer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mutations/updateCustomer */ "./src/api/customers/Mutations/updateCustomer.ts");
/* harmony import */ var _Mutations_updateCustomerDetails__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Mutations/updateCustomerDetails */ "./src/api/customers/Mutations/updateCustomerDetails.ts");
/* harmony import */ var _Mutations_updateCustomerSFID__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Mutations/updateCustomerSFID */ "./src/api/customers/Mutations/updateCustomerSFID.ts");
/* harmony import */ var _Mutations_updateCustomerOpportunityId__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Mutations/updateCustomerOpportunityId */ "./src/api/customers/Mutations/updateCustomerOpportunityId.ts");













const customerResolver = {
    Query: {
        viewAllRaisedTickets: async (parent, _args, context) => (0,_customerSupport_Queries_viewAllRaisedTickets__WEBPACK_IMPORTED_MODULE_7__.viewAllRaisedTickets)(parent, _args, context),
        getCustomerDetailsByAuth: async (parent, _args, context) => (0,_Queries_getCustomerByAuth__WEBPACK_IMPORTED_MODULE_8__.getCustomerDetailsByAuth)(parent, _args, context),
    },
    Mutation: {
        login: async (parent, _args, context) => (0,_Mutations_login__WEBPACK_IMPORTED_MODULE_1__.login)(parent, _args, context),
        verifyOtp: (parent, _args, context) => (0,_Mutations_verifyOtp__WEBPACK_IMPORTED_MODULE_2__.verifyOtp)(parent, _args, context),
        reIssueAccessTokenCD: (parent, _args, context) => (0,_Mutations_reIssueAccessTokenCD__WEBPACK_IMPORTED_MODULE_4__.reIssueAccessTokenCD)(parent, _args, context),
        addCustomers: (parent, _args, context) => (0,_Mutations_addCustomer__WEBPACK_IMPORTED_MODULE_3__.addCustomer)(parent, _args, context),
        raiseTicket: (parent, _args, context) => (0,_customerSupport_Mutations_raiseTicket__WEBPACK_IMPORTED_MODULE_5__.raiseTicket)(parent, _args, context),
        raiseComment: (parent, _args, context) => (0,_customerSupport_Mutations_raiseComment__WEBPACK_IMPORTED_MODULE_6__.raiseComment)(parent, _args, context),
        updateCustomerData: (parent, _args, context) => updateCustomerData(parent, _args, context),
        updateCustomerSFID: (parent, _args, context) => (0,_Mutations_updateCustomerSFID__WEBPACK_IMPORTED_MODULE_11__.updateCustomerSFID)(parent, _args, context),
        updateCustomerDetails: (parent, _args, context) => (0,_Mutations_updateCustomerDetails__WEBPACK_IMPORTED_MODULE_10__.updateCustomerDetails)(parent, _args, context),
        updateCustomers: (parent, _args, context) => (0,_Mutations_updateCustomer__WEBPACK_IMPORTED_MODULE_9__.updateCustomer)(parent, _args, context),
        updateCustomerOpportunityId: (parent, _args, context) => (0,_Mutations_updateCustomerOpportunityId__WEBPACK_IMPORTED_MODULE_12__.updateCustomerOpportunityId)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/customers/typedefs.ts":
/*!***************************************!*\
  !*** ./src/api/customers/typedefs.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "customerTypedefs": () => (/* binding */ customerTypedefs)
/* harmony export */ });
const customerTypedefs = `

type Address{
    addressid:Int
    city:String
    country:String
    street:String
    zip:String
    state:String
    addresstype:Int
    customerid:Int
}

type Customer {
  customerid: Int
  otp: Int
  generatedotptimestamp: String
  firstname: String
  lastname: String
  customeremail: String
  customerphone: String
  customertype:String
  salesforceid: String
  pancardno: String
  gstno: String
  odoocontactid: String
  addresses:[Address]
}

type responseCustomer{
    Customer: Customer
    projectid: Int
    clientid: String
    projectstatus: String
    smartsheetid: String
    quoteid: Int
    isnewpaymentproject: Boolean
}

type getCustomerDetailsByAuthResponse{
    code: Int
    message: String
    data: responseCustomer
}

input AddressToBeAdded{
    city:String
    country:String
    street:String
    zip:String
    state:String
    addresstype:Int
}

input CustomerToBeAdded{
    firstname: String
    lastname: String
    customeremail: String
    customerphone: String
    salesforceid: String
    pancardno: String
    gstno: String
    odoocontactid: String
    addresses:[AddressToBeAdded]
}

input CustomerToBeEdited{
    firstname: String
    lastname: String
    customeremail: String
    customerphone: String
    salesforceid: String
    pancardno: String
    gstno: String
    odoocontactid: String
}

type customerReponse{
    code:Int
    message:String
    data:Customer
}

type LoginResponse {
    code:Int!
    message:String!
}

type VerifyOTPResponse {
    code:Int!
    message:String!
    data: tokenResponseCD
}

type tokenResponseCD { 
    loginToken: String,
    refreshToken: String,
    email: String,
    customerName: String
}

type reIssueTokenResponse{
    code:Int!
    message:String!
    data: tokenResponseCD
}

type raiseTicketResponse { 
    code:Int
    message: String    
}

type viewAllTicketsResponse {
    code:Int
    data: [JSON]
    totalTickets: Int
    openTickets: Int
    closedTickets: Int
}

type Mutation{
    login(customerphone:String): LoginResponse,
    verifyOtp(customerphone:String,otp:String):VerifyOTPResponse
    reIssueAccessTokenCD(refreshToken: String!):reIssueTokenResponse
    addCustomers(customer:CustomerToBeAdded):customerReponse
    updateCustomers(customer:CustomerToBeAdded):customerReponse
    updateCustomerSFID(sfid:String,customerMobile:String):customerReponse
    updateCustomerData(sfid:String,customer:CustomerToBeEdited):customerReponse
    updateCustomerDetails(customerPhone:String,
                          customertype:String,
                          customeremail:String, 
                          fisrtname:String, 
                          lastname:String,
                          salesforeceid:String, 
                          odoocontactid:String,
                          address:[AddressToBeAdded],
                          gstno:String,
                          pancardno:String,
                          i10ingsttreatment:String,
                          dsacategory:String,
                          region:String):customerReponse
    updateCustomerOpportunityId(opportunityID:String,customerPhone:String):customerReponse
    raiseTicket(concerntype: String!
        subject: String!,
        description: String!,
        attachment: JSON,
        ticketbucket: Int
        ):raiseTicketResponse

    raiseComment(ticketId: Int!
        message: String,
        attachment: JSON,
        ):raiseTicketResponse
    
      
}

type Query {
    viewAllRaisedTickets(status: Int, casenumber: String, fromDate: String, toDate:String ): viewAllTicketsResponse
}

type Query{
    getCustomerDetailsByAuth:
    getCustomerDetailsByAuthResponse
}

scalar JSON
scalar DateTime
`;


/***/ }),

/***/ "./src/api/datasources.ts":
/*!********************************!*\
  !*** ./src/api/datasources.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dataSources": () => (/* binding */ dataSources)
/* harmony export */ });
/* harmony import */ var _paymentMicroservice_authentication_Mutation_AuthenticationToken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./paymentMicroservice/authentication/Mutation/AuthenticationToken */ "./src/api/paymentMicroservice/authentication/Mutation/AuthenticationToken.ts");
/* harmony import */ var _paymentMicroservice_paymentRequest_Mutations_AddPaymentRequests__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./paymentMicroservice/paymentRequest/Mutations/AddPaymentRequests */ "./src/api/paymentMicroservice/paymentRequest/Mutations/AddPaymentRequests.ts");
/* harmony import */ var _paymentMicroservice_paymentRequest_Mutations_UpdatePaymentRequests__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./paymentMicroservice/paymentRequest/Mutations/UpdatePaymentRequests */ "./src/api/paymentMicroservice/paymentRequest/Mutations/UpdatePaymentRequests.ts");
/* harmony import */ var _paymentMicroservice_paymentRequest_Mutations_DeletePaymentRequests__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./paymentMicroservice/paymentRequest/Mutations/DeletePaymentRequests */ "./src/api/paymentMicroservice/paymentRequest/Mutations/DeletePaymentRequests.ts");
/* harmony import */ var _paymentMicroservice_paymentReceipt_Mutation_AddPaymentReceipts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./paymentMicroservice/paymentReceipt/Mutation/AddPaymentReceipts */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentReceipts.ts");
/* harmony import */ var _paymentMicroservice_paymentReceipt_Mutation_UpdatePaymentReceipts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentReceipts */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentReceipts.ts");
/* harmony import */ var _paymentMicroservice_paymentReceipt_Mutation_DeletePaymentreceipts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./paymentMicroservice/paymentReceipt/Mutation/DeletePaymentreceipts */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/DeletePaymentreceipts.ts");
/* harmony import */ var _paymentMicroservice_razorpay_Mutation_RazorpayGeneratePaymentLink__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./paymentMicroservice/razorpay/Mutation/RazorpayGeneratePaymentLink */ "./src/api/paymentMicroservice/razorpay/Mutation/RazorpayGeneratePaymentLink.ts");
/* harmony import */ var _paymentMicroservice_razorpay_Mutation_RazorpayWebhook__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./paymentMicroservice/razorpay/Mutation/RazorpayWebhook */ "./src/api/paymentMicroservice/razorpay/Mutation/RazorpayWebhook.ts");
/* harmony import */ var _paymentMicroservice_customer_Mutations_UpdateCustomer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./paymentMicroservice/customer/Mutations/UpdateCustomer */ "./src/api/paymentMicroservice/customer/Mutations/UpdateCustomer.ts");
/* harmony import */ var _paymentMicroservice_invoice_Mutation_GenerateInvoicenewflow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./paymentMicroservice/invoice/Mutation/GenerateInvoicenewflow */ "./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoicenewflow.ts");











const dataSources = () => ({
    AuthenticationToken: new _paymentMicroservice_authentication_Mutation_AuthenticationToken__WEBPACK_IMPORTED_MODULE_0__["default"](),
    AddPaymentRequests: new _paymentMicroservice_paymentRequest_Mutations_AddPaymentRequests__WEBPACK_IMPORTED_MODULE_1__["default"](),
    UpdatePaymentRequests: new _paymentMicroservice_paymentRequest_Mutations_UpdatePaymentRequests__WEBPACK_IMPORTED_MODULE_2__["default"](),
    DeletePaymentRequests: new _paymentMicroservice_paymentRequest_Mutations_DeletePaymentRequests__WEBPACK_IMPORTED_MODULE_3__["default"](),
    AddPaymentReceipts: new _paymentMicroservice_paymentReceipt_Mutation_AddPaymentReceipts__WEBPACK_IMPORTED_MODULE_4__["default"](),
    UpdatePaymentReceipts: new _paymentMicroservice_paymentReceipt_Mutation_UpdatePaymentReceipts__WEBPACK_IMPORTED_MODULE_5__["default"](),
    DeletePaymentReceipts: new _paymentMicroservice_paymentReceipt_Mutation_DeletePaymentreceipts__WEBPACK_IMPORTED_MODULE_6__["default"](),
    RazorpayGeneratePaymentLink: new _paymentMicroservice_razorpay_Mutation_RazorpayGeneratePaymentLink__WEBPACK_IMPORTED_MODULE_7__["default"](),
    RazorpayWebhook: new _paymentMicroservice_razorpay_Mutation_RazorpayWebhook__WEBPACK_IMPORTED_MODULE_8__["default"](),
    UpdateCustomer: new _paymentMicroservice_customer_Mutations_UpdateCustomer__WEBPACK_IMPORTED_MODULE_9__["default"](),
    GenerateInvoicenewflow: new _paymentMicroservice_invoice_Mutation_GenerateInvoicenewflow__WEBPACK_IMPORTED_MODULE_10__["default"](),
});


/***/ }),

/***/ "./src/api/dcSupport/Mutations/replyToTicketMessage.ts":
/*!*************************************************************!*\
  !*** ./src/api/dcSupport/Mutations/replyToTicketMessage.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "replyToTicketMessage": () => (/* binding */ replyToTicketMessage)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");


const replyToTicketMessage = async (root, args, context) => {
    let replyToTicketMessageResponseObj;
    const { ticketId, message, attachment } = args;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        const res = await replyTicketMessage(ticketId, user, message, attachment);
        replyToTicketMessageResponseObj = { code: 200, message: res.message, data: res.data };
        return replyToTicketMessageResponseObj;
    }
    catch (error) {
        replyToTicketMessageResponseObj = { code: 400, message: error.message };
        return replyToTicketMessageResponseObj;
    }
};
const replyTicketMessage = async (ticketId, user, message, attachment) => {
    const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__["default"]();
    const response = await supportpalapi.postToSupportPalApi("ticket/message", {
        ticket_id: ticketId,
        text: message,
        user_id: String(user.supportpaloperatorid),
        attachment
    });
    return response;
};


/***/ }),

/***/ "./src/api/dcSupport/Mutations/updateTicketStatus.ts":
/*!***********************************************************!*\
  !*** ./src/api/dcSupport/Mutations/updateTicketStatus.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateTicketStatus": () => (/* binding */ updateTicketStatus)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");


const updateTicketStatus = async (root, args, context) => {
    let updateTicketStatusResponseObj;
    const { ticketId, status } = args;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        const res = await updateTicket(user, ticketId, status);
        updateTicketStatusResponseObj = { code: 200, message: res.message, data: res.data };
        return updateTicketStatusResponseObj;
    }
    catch (error) {
        updateTicketStatusResponseObj = { code: 400, message: error.message };
        return updateTicketStatusResponseObj;
    }
};
const updateTicket = async (user, ticketId, status) => {
    const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__["default"]();
    const response = await supportpalapi.updateToSupportPalApi("ticket/ticket/" + ticketId, {
        status,
    });
    return response;
};


/***/ }),

/***/ "./src/api/dcSupport/Queries/fetchTicketById.ts":
/*!******************************************************!*\
  !*** ./src/api/dcSupport/Queries/fetchTicketById.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchTicketById": () => (/* binding */ fetchTicketById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");




const fetchTicketById = async (root, args, context) => {
    var _a, _b;
    let FetchTicketByIdResponse;
    const { ticket_id } = args;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticateDdCd)(context);
        const supportPalCFInfo = (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getSupportpalCustomField();
        const res = await getTicketById(ticket_id);
        const obj = {
            ticketId: "",
            caseNumber: "",
            status: "",
            priority: "",
            subject: "",
            isClosed: false,
            createdDate: "",
            projectName: "",
            designerName: "",
            customerName: "",
            chmname: "",
            dueTime: "",
            typeBucket: "",
            issueType: "",
            paymentstage: ""
        };
        obj.ticketId = res.data.id;
        obj.caseNumber = res.data.number;
        obj.status = res.data.status.name;
        obj.priority = res.data.priority.name;
        obj.subject = res.data.subject;
        if ((_a = res.data.customfields) === null || _a === void 0 ? void 0 : _a.length) {
            await Promise.all(res.data.customfields.map(async (customfield) => {
                switch (customfield.field_id) {
                    case 27:
                        obj.projectName = customfield.value;
                        break;
                    case 14:
                        const customfieldvalue = supportPalCFInfo[19];
                        obj.paymentstage = customfieldvalue;
                        break;
                    case 21:
                        obj.typeBucket = customfield.value;
                        break;
                    case 13:
                        const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({ where: { designcafeemail: customfield.value } });
                        if (designer) {
                            obj.designerName = `${designer.firstname}` + " " + `${designer.lastname}`;
                        }
                        else {
                            obj.designerName = "";
                        }
                        break;
                    case 16:
                    case 17:
                    case 18:
                    case 19:
                    case 20:
                        obj.issueType = customfield.value;
                        break;
                }
            }));
        }
        console.log("here");
        const customerName = getCustomerName(res.data);
        obj.customerName = customerName;
        if (res.data.assigned[0]) {
            obj.chmname = `${res.data.assigned[0].firstname}` + " " + `${(_b = res.data.assigned[0]) === null || _b === void 0 ? void 0 : _b.lastname}`;
        }
        else {
            obj.chmname = "";
        }
        const createdDate = new Date(0);
        createdDate.setUTCSeconds(res.data.created_at);
        obj.createdDate = createdDate.toISOString();
        const dueDate = new Date(0);
        dueDate.setUTCSeconds(res.data.due_time);
        obj.dueTime = dueDate.toISOString();
        FetchTicketByIdResponse = { code: 200, data: obj };
        return FetchTicketByIdResponse;
    }
    catch (error) {
        FetchTicketByIdResponse = { code: 400, message: error.message };
        return FetchTicketByIdResponse;
    }
};
const getTicketById = async (ticketId) => {
    const url = "ticket/ticket/" + ticketId;
    const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__["default"]();
    const ticket = await supportpalapi.getFromSupportPalApi(url);
    return ticket;
};
const getCustomerName = (data) => {
    const firstname = data.user.firstname ? data.user.firstname.trim() : "";
    const lastname = data.user.lastname ? data.user.lastname.trim() : "";
    return `${firstname ? firstname + " " : ""}${lastname}`;
};


/***/ }),

/***/ "./src/api/dcSupport/Queries/fetchTicketMessage.ts":
/*!*********************************************************!*\
  !*** ./src/api/dcSupport/Queries/fetchTicketMessage.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchTicketMessage": () => (/* binding */ fetchTicketMessage)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
var __asyncValues = (undefined && undefined.__asyncValues) || function (o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
};


const fetchTicketMessage = async (root, args, context) => {
    var e_1, _a, e_2, _b;
    var _c, _d, _e;
    let FetchTicketMessageResponse;
    const { ticket_id } = args;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticateDdCd)(context);
        const commentsArr = [];
        let description;
        const res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_1__.SupportPalBaseUsecase)().getTicketMessages(ticket_id);
        if (res && res.status === "success" && res.data.length) {
            if ((_c = res.data[0]) === null || _c === void 0 ? void 0 : _c.purified_text) {
                description = (_d = res.data[0]) === null || _d === void 0 ? void 0 : _d.purified_text.replace(/(<([^>]+)>)/ig, '');
            }
        }
        const dataArr = res.data;
        try {
            for (var dataArr_1 = __asyncValues(dataArr), dataArr_1_1; dataArr_1_1 = await dataArr_1.next(), !dataArr_1_1.done;) {
                const data = dataArr_1_1.value;
                const imageArr = [];
                const date = new Date(0);
                date.setUTCSeconds(data.created_at);
                try {
                    for (var _f = (e_2 = void 0, __asyncValues(data === null || data === void 0 ? void 0 : data.attachments)), _g; _g = await _f.next(), !_g.done;) {
                        const element = _g.value;
                        imageArr.push({
                            name: element === null || element === void 0 ? void 0 : element.original_name,
                            type: (_e = element === null || element === void 0 ? void 0 : element.upload) === null || _e === void 0 ? void 0 : _e.mime,
                            data: element === null || element === void 0 ? void 0 : element.direct_frontend_url,
                        });
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (_g && !_g.done && (_b = _f.return)) await _b.call(_f);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
                let str;
                if (data === null || data === void 0 ? void 0 : data.purified_text) {
                    str = data === null || data === void 0 ? void 0 : data.purified_text.replace(/(<([^>]+)>)/ig, '');
                }
                commentsArr.push({
                    message: str ? str : "",
                    by: data.user_name,
                    type: data.type,
                    timesent: date,
                    imageArr,
                });
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (dataArr_1_1 && !dataArr_1_1.done && (_a = dataArr_1.return)) await _a.call(dataArr_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        FetchTicketMessageResponse = { code: 200, message: "success", description: description, comments: commentsArr };
        return FetchTicketMessageResponse;
    }
    catch (error) {
        FetchTicketMessageResponse = { code: 400, message: error.message };
        return FetchTicketMessageResponse;
    }
};


/***/ }),

/***/ "./src/api/dcSupport/Queries/fetchTickets.ts":
/*!***************************************************!*\
  !*** ./src/api/dcSupport/Queries/fetchTickets.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fetchTickets": () => (/* binding */ fetchTickets),
/* harmony export */   "getTicketStatus": () => (/* binding */ getTicketStatus)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
/* harmony import */ var _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../domain/enumerations/ProfileTypeEnumUtil */ "./src/domain/enumerations/ProfileTypeEnumUtil.ts");





const fetchTickets = async (root, args, context) => {
    let fetchTicketsResponseObj;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "DD");
        let resdataArr = [];
        let responseArr = [];
        const supportPalCFInfo = (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getSupportpalCustomField();
        const pagesize = await getpageSize(args.pageSize);
        const TicketStatus = await getTicketStatus(args.status);
        const pageRequestBody = {
            pageSize: pagesize,
            pageIndex: args.pageIndex,
        };
        switch (user.profileid) {
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.IN_HOUSE_DESIGNER:
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.DESIGN_PARTNER:
                resdataArr = await supportData(13, user, null, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.ASSOCIATE_STUDIO_MANAGER:
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.STUDIO_MANAGER:
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.STUDIO_MANAGER_DP:
                const supportTeam = [];
                const teams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findMany({
                    where: { userid: user.userid },
                });
                await Promise.all(teams.map(async (team) => {
                    const teamres = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findFirst({
                        where: { id: team.teamid },
                    });
                    const supportTeamId = supportPalCFInfo["TEAM_" + teamres.name];
                    supportTeam.push(supportTeamId);
                }));
                resdataArr = await supportData(26, user, supportTeam, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.SYSTEM_ADMINISTRATOR:
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.ALL_INDIA_BUSINESS_HEAD:
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.CHM_MANAGER:
                resdataArr = await supportData(null, null, null, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.CENTER_DELIVERY_HEAD:
                const supportCenter = [];
                const centers = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_experiencecenters.findMany({
                    where: { userid: user.userid },
                });
                await Promise.all(centers.map(async (center) => {
                    const centerres = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({
                        where: { centerid: center.centerid },
                    });
                    const supportCenterId = supportPalCFInfo[centerres.name];
                    supportCenter.push(supportCenterId);
                }));
                resdataArr = await supportData(22, user, supportCenter, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
            case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.CITY_DELIVERY_HEAD:
                const supportCity = [];
                const cities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_city.findMany({
                    where: { userid: user.userid },
                });
                await Promise.all(cities.map(async (city) => {
                    const cityres = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
                        where: { id: city.cityid },
                    });
                    const supportCityId = supportPalCFInfo[cityres.name];
                    supportCity.push(supportCityId);
                }));
                resdataArr = await supportData(23, user, supportCity, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
            default:
                resdataArr = await supportData(user.supportpaloperatorid, user, null, TicketStatus, args.searchKey, args.searchValue, pageRequestBody);
                break;
        }
        let dataArr;
        if (resdataArr.length) {
            dataArr = resdataArr;
        }
        else {
            fetchTicketsResponseObj = { code: 200, data: [] };
            return fetchTicketsResponseObj;
        }
        await Promise.all(dataArr.map(async (data) => {
            var _a;
            const obj = {
                ticketId: "",
                caseNumber: "",
                status: "",
                subject: "",
                isClosed: false,
                createdDate: "",
                projectName: "",
                designerName: "",
                customerName: "",
                chmname: "",
            };
            obj.ticketId = data.id;
            obj.caseNumber = data.number;
            obj.status = data.status.name;
            obj.subject = data.subject;
            await Promise.all(data.customfields.map(async (customfield) => {
                switch (customfield.field_id) {
                    case 27:
                        obj.projectName = customfield.value;
                        break;
                    case 13:
                        const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                            where: { designcafeemail: customfield.value },
                        });
                        if (designer) {
                            obj.designerName =
                                `${designer.firstname}` + " " + `${designer.lastname}`;
                        }
                        else {
                            obj.designerName = "";
                        }
                        break;
                }
            }));
            const customerName = getCustomerName(data);
            obj.customerName = customerName;
            if (data.assigned[0]) {
                obj.chmname =
                    `${data.assigned[0].firstname}` +
                        " " +
                        `${(_a = data.assigned[0]) === null || _a === void 0 ? void 0 : _a.lastname}`;
            }
            else {
                obj.chmname = "";
            }
            obj.createdDate = new Date(data.created_at * 1000).toDateString();
            responseArr.push(obj);
        }));
        responseArr = await reverse(responseArr);
        fetchTicketsResponseObj = { code: 200, data: responseArr };
        return fetchTicketsResponseObj;
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, error);
    }
};
const reverse = async (responseArr) => {
    if (responseArr.length) {
        responseArr.reverse();
    }
    else {
        responseArr = [];
    }
    return responseArr;
};
const supportData = async (id, user, supportdata, statusArr, searchKey, searchValue, pageRequestBody) => {
    let res;
    let resdataArr = [];
    if (supportdata && supportdata.length !== 0) {
        await Promise.all(supportdata.map(async (supportreq) => {
            if (statusArr && statusArr.length !== 0) {
                statusArr.map(async (statusreq) => {
                    res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTicketsBasedOnUser(id, user, supportreq, statusreq, searchKey, searchValue, pageRequestBody);
                    res.data.map((resdata) => {
                        resdataArr.push(resdata);
                    });
                });
            }
            else {
                res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTicketsBasedOnUser(id, user, supportreq, null, searchKey, searchValue, pageRequestBody);
                res.data.map((resdata) => {
                    resdataArr.push(resdata);
                });
            }
        }));
    }
    else {
        if (statusArr && statusArr.length !== 0) {
            await Promise.all(statusArr.map(async (statusreq) => {
                res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTicketsBasedOnUser(id, user, null, statusreq, searchKey, searchValue, pageRequestBody);
                res.data.map((resdata) => {
                    resdataArr.push(resdata);
                });
            }));
        }
        else {
            res = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().getAllTicketsBasedOnUser(id, user, null, null, searchKey, searchValue, pageRequestBody);
            res.data.map((resdata) => {
                resdataArr.push(resdata);
            });
        }
    }
    return resdataArr;
};
const getpageSize = async (pagesizeinreq) => {
    let pagesize;
    if (!pagesizeinreq) {
        pagesize = 50;
    }
    else {
        pagesize = pagesizeinreq;
    }
    return pagesize;
};
const getTicketStatus = async (status) => {
    const TicketStatus = [];
    if (status) {
        if (status === 1) {
            TicketStatus.push(1, 3, 4, 5, 6);
        }
        else if (status === 2) {
            TicketStatus.push(2);
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Invalid status");
        }
    }
    return TicketStatus;
};
const getCustomerName = (data) => {
    const firstname = data.user.firstname ? data.user.firstname.trim() : "";
    const lastname = data.user.lastname ? data.user.lastname.trim() : "";
    return `${firstname ? firstname + " " : ""}${lastname}`;
};


/***/ }),

/***/ "./src/api/dcSupport/Queries/webHookTicket.ts":
/*!****************************************************!*\
  !*** ./src/api/dcSupport/Queries/webHookTicket.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "webHookTicket": () => (/* binding */ webHookTicket)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
/* harmony import */ var _domain_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../domain/enumerations/ProjectStageEnums */ "./src/domain/enumerations/ProjectStageEnums.ts");




const webHookTicket = async (root, args, context) => {
    let webHookResponse;
    const { ticket_id } = args;
    try {
        const url = "ticket/ticket/" + ticket_id;
        const supportpalapi = new _domain_services_supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__["default"]();
        const gettickets = await supportpalapi.getFromSupportPalApi(url);
        const respone = gettickets;
        const data = respone.data;
        const supportPalCFInfo = (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_2__.SupportPalBaseUsecase)().getSupportpalCustomField();
        const searchResult = data.customfields.filter(function (it) {
            return it.field_id === supportPalCFInfo.cf_clientidPk;
        });
        if (searchResult.length > 0) {
            let chm, designer, projectname, teamName, expCenter, designerEmail;
            const clientID = searchResult[0].value;
            const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({ where: { projectid: clientID } });
            if (project) {
                if (project.experiencecenterid) {
                    const expCenterResult = await getExperienceCenterInfo(project.experiencecenterid);
                    expCenter = expCenterResult.name;
                    expCenter = (supportPalCFInfo[expCenter] === undefined) ? '' : supportPalCFInfo[expCenter];
                }
                if (project.designstudioid) {
                    const teamResult = await getTeamInfo(project.designstudioid);
                    teamName = teamResult.name;
                    teamName = (supportPalCFInfo['TEAM_' + teamName] === undefined) ? '' : supportPalCFInfo['TEAM_' + teamName];
                }
                if (project.designerid) {
                    designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                        where: { userid: project.designerid }
                    });
                    if (designer) {
                        designerEmail = designer.designcafeemail;
                    }
                }
                if (project.chmid) {
                    chm = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                        where: { userid: project.chmid }
                    });
                }
                projectname = project.projectname;
            }
            let chmname;
            let chmId;
            if (chm) {
                chmname = (`${chm.firstname}` + ' ' + `${chm.lastname}`).trim();
                if (!chm.supportpaloperatorid) {
                    chm.supportpaloperatorid = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_2__.SupportPalBaseUsecase)().getOrAddOperatorAndReturnId(chm.designcafeemail, chmname, 3);
                    chmId = chm.supportpaloperatorid;
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
                        data: chm, where: { userid: chm.userid }
                    });
                }
                else {
                    chmId = chm.supportpaloperatorid;
                }
            }
            const postTicket = {
                assignedto: [chmId],
                customfield: {
                    [supportPalCFInfo.cf_projectNamePk]: projectname,
                    [supportPalCFInfo.cf_team_name]: teamName,
                    [supportPalCFInfo.cf_experienceCenterPk]: expCenter,
                    [supportPalCFInfo.cf_assigned_designer]: designerEmail
                },
                department: process.env.supportPalDepartment,
            };
            console.log('POST DATA=====', postTicket);
            const tickets = await supportpalapi.updateToSupportPalApi("ticket/ticket/" + ticket_id, postTicket);
            const res = tickets;
            console.log('RESPONSE DATA=====', res);
        }
        webHookResponse = {
            code: 200,
            message: "success",
        };
        return webHookResponse;
    }
    catch (error) {
        webHookResponse = { code: 400, message: error.message };
        return webHookResponse;
    }
};
const getExperienceCenterInfo = async (experiencecenterid) => {
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({ where: { centerid: experiencecenterid } });
};
const getTeamInfo = async (teamid) => {
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findFirst({ where: { id: teamid } });
};
const getCurrentStage = async (project) => {
    let currentStage;
    if (!project) {
        currentStage = "Pre 5%";
    }
    else {
        if (project.currentmilestone) {
            if (project.currentmilestone === "Handover" && project.projectstatus.toLowerCase() === "completed") {
                currentStage = "Post Handover";
            }
            else {
                currentStage = await _domain_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_3__.ProjectStageEnumUtil.getCurrentMilestone(project.currentmilestone);
            }
        }
    }
    return currentStage;
};


/***/ }),

/***/ "./src/api/dcSupport/resolvers.ts":
/*!****************************************!*\
  !*** ./src/api/dcSupport/resolvers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dcSupportResolver": () => (/* binding */ dcSupportResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _dcSupport_Mutations_replyToTicketMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dcSupport/Mutations/replyToTicketMessage */ "./src/api/dcSupport/Mutations/replyToTicketMessage.ts");
/* harmony import */ var _dcSupport_Mutations_updateTicketStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dcSupport/Mutations/updateTicketStatus */ "./src/api/dcSupport/Mutations/updateTicketStatus.ts");
/* harmony import */ var _Queries_fetchTickets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/fetchTickets */ "./src/api/dcSupport/Queries/fetchTickets.ts");
/* harmony import */ var _Queries_fetchTicketById__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Queries/fetchTicketById */ "./src/api/dcSupport/Queries/fetchTicketById.ts");
/* harmony import */ var _dcSupport_Queries_fetchTicketMessage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dcSupport/Queries/fetchTicketMessage */ "./src/api/dcSupport/Queries/fetchTicketMessage.ts");
/* harmony import */ var _dcSupport_Queries_webHookTicket__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dcSupport/Queries/webHookTicket */ "./src/api/dcSupport/Queries/webHookTicket.ts");







const dcSupportResolver = {
    Query: {
        fetchTickets: async (parent, _args, context) => (0,_Queries_fetchTickets__WEBPACK_IMPORTED_MODULE_3__.fetchTickets)(parent, _args, context),
        fetchTicketById: async (parent, _args, context) => (0,_Queries_fetchTicketById__WEBPACK_IMPORTED_MODULE_4__.fetchTicketById)(parent, _args, context),
        fetchTicketMessage: async (parent, _args, context) => (0,_dcSupport_Queries_fetchTicketMessage__WEBPACK_IMPORTED_MODULE_5__.fetchTicketMessage)(parent, _args, context),
        webHookTicket: async (parent, _args, context) => (0,_dcSupport_Queries_webHookTicket__WEBPACK_IMPORTED_MODULE_6__.webHookTicket)(parent, _args, context),
    },
    Mutation: {
        replyToTicketMessage: (parent, _args, context) => (0,_dcSupport_Mutations_replyToTicketMessage__WEBPACK_IMPORTED_MODULE_1__.replyToTicketMessage)(parent, _args, context),
        updateTicketStatus: (parent, _args, context) => (0,_dcSupport_Mutations_updateTicketStatus__WEBPACK_IMPORTED_MODULE_2__.updateTicketStatus)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver
};


/***/ }),

/***/ "./src/api/dcSupport/typedefs.ts":
/*!***************************************!*\
  !*** ./src/api/dcSupport/typedefs.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dcSupportTypedef": () => (/* binding */ dcSupportTypedef)
/* harmony export */ });
const dcSupportTypedef = `
   
    type Query {
        webHookTicket(ticket_id: Int!): WebHookResponse
        fetchTicketMessage(ticket_id:Int!,offset: Int,limit: Int): FetchTicketMessageResponse
        fetchTickets(status:Int,searchKey: String, searchValue: String, pageSize:Int,pageIndex: Int): FetchTicketResponse
        fetchTicketById(ticket_id: Int!):FetchTicketByIdResponse
    }
    type WebHookResponse { 
        code:Int
        message: String    
    }
    type FetchTicketResponse { 
        code:Int
        message: String
        data:[JSON]   
    }
    type FetchTicketByIdResponse { 
        code:Int
        data:JSON   
    }
    type FetchTicketMessageResponse { 
        code:Int
        message: String
        description: String
        comments: [JSON]
    }
    type replyToTicketMessageResponse { 
        code:Int
        message: String
        data: JSON
    }

    type updateTicketStatusResponse { 
        code:Int
        message: String
        data: JSON
    }

    type Mutation {
        updateTicketStatus(ticketId: Int!
            status: Int,
            ):updateTicketStatusResponse

            replyToTicketMessage(ticketId: Int!
            message: String
            attachment: JSON
            ):replyToTicketMessageResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/departments/Queries/getAllDepartments.ts":
/*!**********************************************************!*\
  !*** ./src/api/departments/Queries/getAllDepartments.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllDepartments": () => (/* binding */ getAllDepartments)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const getAllDepartments = async () => {
    try {
        const fetchedDepartment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_department.findMany();
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = "Success";
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = fetchedDepartment;
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/departments/resolvers.ts":
/*!******************************************!*\
  !*** ./src/api/departments/resolvers.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "departmentResolver": () => (/* binding */ departmentResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getAllDepartments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getAllDepartments */ "./src/api/departments/Queries/getAllDepartments.ts");


const departmentResolver = {
    Query: {
        getAllDepartments: async () => (0,_Queries_getAllDepartments__WEBPACK_IMPORTED_MODULE_1__.getAllDepartments)()
    },
    Mutation: {},
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/departments/typedefs.ts":
/*!*****************************************!*\
  !*** ./src/api/departments/typedefs.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "departmentTypedef": () => (/* binding */ departmentTypedef)
/* harmony export */ });
const departmentTypedef = `
    type Department{
        departmentid:Int
        name:String
        status:Boolean
        create_at:DateTime
        updated_at:DateTime
    }

    type getDepartmentResponse{
        code:Int
        message:String
        data:[Department]
    }

    type Query {
        getAllDepartments: getDepartmentResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/emailNotification/Mutations/triggerEmailFromSF.ts":
/*!*******************************************************************!*\
  !*** ./src/api/emailNotification/Mutations/triggerEmailFromSF.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "triggerEmail": () => (/* binding */ triggerEmail)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");



var StageName;
(function (StageName) {
    StageName["MEETING_SCHEDULED"] = "Meeting Scheduled";
    StageName["MEETING_CONFIRMED"] = "Meeting Confirmed";
    StageName["CONVERTED"] = "Converted";
    StageName["MEETING_DONE"] = "Meeting Done";
    StageName["PROPOSAL_SENT"] = "Proposal Sent";
    StageName["FOLLOW_UP"] = "Follow Up";
    StageName["DISCUSSION"] = "Discussion";
    StageName["AWAITING_CLOSURE"] = "Awaiting Closure";
    StageName["CLOSED_WON"] = "Closed Won";
    StageName["CLOSED_LOST"] = "Closed Lost";
})(StageName || (StageName = {}));
var SlugName;
(function (SlugName) {
    SlugName["NOTIFYLEADSTAGE"] = "notify_lead_stage";
    SlugName["NOTIFYLEADCONVERTED"] = "notify_lead_converted";
    SlugName["NOTIFYOPPORTUNITYSTAGE"] = "notify_opportunity_stage";
    SlugName["NOTIFYCLOSEDWON"] = "notify_closed_won";
    SlugName["NOTIFYCLOSEDLOST"] = "notify_closed_lost";
})(SlugName || (SlugName = {}));
const triggerEmail = async (root, args, context) => {
    var _a;
    try {
        const { leadsfid, stagename, opportunitysfid } = args;
        let lead, opportunity, designer, studioManager, cc;
        let leadUrl, opportunityUrl;
        if (leadsfid) {
            lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { sfid: leadsfid } });
            if (lead.design_user__c) {
                designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                    where: { salesforceuserid: lead.design_user__c },
                });
            }
            leadUrl = process.env.upcomingLeadsUrl + leadsfid + "&leadid=" + lead.id;
        }
        if (opportunitysfid) {
            opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
                where: { sfid: opportunitysfid },
            });
            lead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { sfid: opportunity.lead_id__c } });
            if (opportunity.design_user__c) {
                designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                    where: { salesforceuserid: opportunity.design_user__c },
                });
            }
            opportunityUrl = process.env.completedLeadsUrl + opportunity.lead_id__c + "&oppourtunityId=" + opportunitysfid + "&leadid=" + lead.id;
        }
        if (designer) {
            studioManager = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
                where: { userid: designer.reportingmanager },
            });
        }
        let slugname;
        switch (stagename) {
            case StageName.MEETING_SCHEDULED:
            case StageName.MEETING_CONFIRMED:
                slugname = SlugName.NOTIFYLEADSTAGE;
                break;
            case StageName.CONVERTED:
                slugname = SlugName.NOTIFYLEADCONVERTED;
                break;
            case StageName.MEETING_DONE:
            case StageName.PROPOSAL_SENT:
            case StageName.FOLLOW_UP:
            case StageName.DISCUSSION:
            case StageName.AWAITING_CLOSURE:
                slugname = SlugName.NOTIFYOPPORTUNITYSTAGE;
                break;
            case StageName.CLOSED_WON:
                slugname = SlugName.NOTIFYCLOSEDWON;
                cc = studioManager === null || studioManager === void 0 ? void 0 : studioManager.designcafeemail;
                break;
            case StageName.CLOSED_LOST:
                slugname = SlugName.NOTIFYCLOSEDLOST;
                break;
        }
        if (designer && designer.designcafeemail) {
            const notificationTemplate = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.callExternalAPIWithPost)("https://cms.designcafe.com/graphqlm", (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.queryForFetchingRemindersTemplate)(slugname));
            console.log(notificationTemplate);
            if (notificationTemplate) {
                const data = (_a = notificationTemplate === null || notificationTemplate === void 0 ? void 0 : notificationTemplate.data) === null || _a === void 0 ? void 0 : _a.reminders.data[0].attributes;
                if (data.emailActivate) {
                    const to = designer.designcafeemail;
                    const subject = data.label;
                    const content = data.email_template;
                    const emailContent = content
                        .replace("$Designer", designer === null || designer === void 0 ? void 0 : designer.firstname)
                        .replace("$leadurl", leadUrl)
                        .replace("$opportunityurl", opportunityUrl)
                        .replace("$customer", opportunity === null || opportunity === void 0 ? void 0 : opportunity.name)
                        .replace("$opportunityname", opportunity === null || opportunity === void 0 ? void 0 : opportunity.name);
                    await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.triggerEmailNotification)(to, subject, emailContent, cc);
                }
            }
            return { code: 200, message: "Email sent successfully" };
        }
        else {
            return { code: 400, message: "No designer found to send email" };
        }
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/emailNotification/resolver.ts":
/*!***********************************************!*\
  !*** ./src/api/emailNotification/resolver.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "trigerEmailResolver": () => (/* binding */ trigerEmailResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_triggerEmailFromSF__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/triggerEmailFromSF */ "./src/api/emailNotification/Mutations/triggerEmailFromSF.ts");


const trigerEmailResolver = {
    Mutation: {
        triggerEmail: async (parent, _args, context) => (0,_Mutations_triggerEmailFromSF__WEBPACK_IMPORTED_MODULE_1__.triggerEmail)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/emailNotification/typedef.ts":
/*!**********************************************!*\
  !*** ./src/api/emailNotification/typedef.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "triggerEmailTypedef": () => (/* binding */ triggerEmailTypedef)
/* harmony export */ });
const triggerEmailTypedef = `

type emailResponse { 
    code:Int
    message: String
}

type Mutation {
    triggerEmail(leadsfid:String,stagename:String,opportunitysfid:String):emailResponse
}

scalar DateTime
`;


/***/ }),

/***/ "./src/api/experienceCenter/mutations.ts":
/*!***********************************************!*\
  !*** ./src/api/experienceCenter/mutations.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addExperienceCenter": () => (/* binding */ addExperienceCenter),
/* harmony export */   "updateExperienceCenter": () => (/* binding */ updateExperienceCenter)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");

const addExperienceCenter = async (root, args, context) => {
    let experienceCenterResponseObj;
    const { name, odoo_id, centerhead, city, ectype, address } = args;
    try {
        const EC = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.create({
            data: {
                name,
                odoo_id,
                created_at: new Date(),
                updated_at: new Date(),
                ectype,
                address,
                centerhead,
                city
            },
        });
        const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
            where: { centerid: EC.centerid },
            include: {
                users: true,
                cities: true
            }
        });
        let ExperienceCenter = await getExperienceCenter(experienceCenter);
        ExperienceCenter = ExperienceCenter.Data;
        experienceCenterResponseObj = { code: 200, message: "success", data: ExperienceCenter };
        return experienceCenterResponseObj;
    }
    catch (error) {
        experienceCenterResponseObj = { code: 400, message: error.message };
        return experienceCenterResponseObj;
    }
};
const updateExperienceCenter = async (root, args, context) => {
    let experienceCenterResponseObj;
    const { name, centerid, odoo_id, centerhead, city, ectype, address } = args;
    try {
        const EC = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.update({
            data: {
                name,
                odoo_id,
                updated_at: new Date(),
                ectype,
                address,
                centerhead,
                city
            }, where: { centerid: centerid }
        });
        const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
            where: { centerid: EC.centerid },
            include: {
                users: true,
                cities: true
            }
        });
        let ExperienceCenter = await getExperienceCenter(experienceCenter);
        ExperienceCenter = ExperienceCenter.Data;
        experienceCenterResponseObj = { code: 200, message: "success", data: ExperienceCenter };
        return experienceCenterResponseObj;
    }
    catch (error) {
        experienceCenterResponseObj = { code: 400, message: error.message };
        return experienceCenterResponseObj;
    }
};
const getExperienceCenter = async (experienceCenter) => {
    return {
        Data: experienceCenter.map((experiencecenter) => {
            return Object.assign(Object.assign({}, experiencecenter), { city: experiencecenter.cities, centerhead: experiencecenter.users });
        })
    };
};


/***/ }),

/***/ "./src/api/experienceCenter/queries.ts":
/*!*********************************************!*\
  !*** ./src/api/experienceCenter/queries.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getExperienceCenterById": () => (/* binding */ getExperienceCenterById),
/* harmony export */   "getExperienceCenters": () => (/* binding */ getExperienceCenters)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");

const getExperienceCenters = async () => {
    let experienceCenterResponseObj;
    try {
        const experienceCenters = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
            include: {
                cities: true,
                users: true
            }
        });
        let ExperienceCenters = await getExperienceCenter(experienceCenters);
        ExperienceCenters = ExperienceCenters.Data;
        experienceCenterResponseObj = { code: 200, message: "success", data: ExperienceCenters };
        return experienceCenterResponseObj;
    }
    catch (error) {
        experienceCenterResponseObj = { code: 400, message: error.message };
        return experienceCenterResponseObj;
    }
};
const getExperienceCenterById = async (root, args, context) => {
    let experienceCenterResponseObj;
    try {
        const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
            where: { centerid: args.centerid }, include: {
                cities: true,
                users: true
            }
        });
        let ExperienceCenter = await getExperienceCenter(experienceCenter);
        ExperienceCenter = ExperienceCenter.Data;
        experienceCenterResponseObj = { code: 200, message: "success", data: ExperienceCenter };
        return experienceCenterResponseObj;
    }
    catch (error) {
        experienceCenterResponseObj = { code: 400, message: error.message };
        return experienceCenterResponseObj;
    }
};
const getExperienceCenter = async (experienceCenter) => {
    return {
        Data: experienceCenter.map((experiencecenter) => {
            return Object.assign(Object.assign({}, experiencecenter), { city: experiencecenter.cities, centerhead: experiencecenter.users });
        })
    };
};


/***/ }),

/***/ "./src/api/experienceCenter/resolver.ts":
/*!**********************************************!*\
  !*** ./src/api/experienceCenter/resolver.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "experienceCenterResolver": () => (/* binding */ experienceCenterResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./queries */ "./src/api/experienceCenter/queries.ts");
/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mutations */ "./src/api/experienceCenter/mutations.ts");



const experienceCenterResolver = {
    Query: {
        allExperienceCenters: async () => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getExperienceCenters)(),
        getExperienceCenterById: async (parent, _args, context) => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getExperienceCenterById)(parent, _args, context),
    },
    Mutation: {
        addExperienceCenter: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.addExperienceCenter)(parent, _args, context),
        updateExperienceCenter: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.updateExperienceCenter)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/experienceCenter/typedef.ts":
/*!*********************************************!*\
  !*** ./src/api/experienceCenter/typedef.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "experienceCenterTypedef": () => (/* binding */ experienceCenterTypedef)
/* harmony export */ });
const experienceCenterTypedef = `
    type ExperienceCenters {
        centerid: Int
        name:String
        odoo_id:String
        ectype: String
        address: String
        city: Cities
        centerhead: Users
        created_at:DateTime
        updated_at:DateTime
    }

    type Query {
        allExperienceCenters: ExperienceCenterResponse
        getExperienceCenterById(centerid:Int): ExperienceCenterResponse
    }
    type ExperienceCenterResponse { 
        code:Int
        message: String
        data:[ExperienceCenters!]!
    }
   
    type Mutation{
        addExperienceCenter(name:String,
            odoo_id:String,
            centerhead:Int,
            city: Int,
            ectype: String,
            address: String,
            created_at:DateTime,
            updated_at:DateTime): ExperienceCenterResponse

        updateExperienceCenter(centerid: Int,
            name:String,
            odoo_id:String,
            centerhead:Int,
            city: Int,
            ectype: String,
            address: String,
            created_at:DateTime,
            updated_at:DateTime): ExperienceCenterResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/homescreenWidgets/Mutation/mutation.ts":
/*!********************************************************!*\
  !*** ./src/api/homescreenWidgets/Mutation/mutation.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cardStatus": () => (/* binding */ cardStatus)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _projects_Smartsheet_SmartSheetServices__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../projects/Smartsheet/SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _projects_Smartsheet_Queries_GetMileStonesDetails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../projects/Smartsheet/Queries/GetMileStonesDetails */ "./src/api/projects/Smartsheet/Queries/GetMileStonesDetails.ts");




const cardStatus = async (root, args, context) => {
    let cardStatusResponseObj;
    let input, flags = {}, userDetails = {}, chmname, chmdata, salesmanagerdetails, proposalaccept, projectdetails, paymentrequest, paymentrequeststatus, dccode, SmartsheetId, CurrentStatus, LastUpdated, ProjectValue, ProjectStartDate, ProjectLastDate, milestones, ProjectSignupDate, paymentrequestdata;
    try {
        const fetchedUser = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(context, "CD");
        const cardDetails = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: { sfid: fetchedUser.opportunityid },
        });
        const leadData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
            where: { mobilephone: fetchedUser.customerphone },
        });
        if (cardDetails !== null) {
            salesmanagerdetails = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({
                where: { sfid: cardDetails.ownerid },
            });
            dccode = cardDetails.customer_id__c;
        }
        proposalaccept = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
            where: { opportunityid: fetchedUser.opportunityid },
            orderBy: { id: "desc" },
        });
        let paymentcount;
        projectdetails = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { customerid: fetchedUser.customerid },
        });
        if (projectdetails !== undefined && projectdetails !== null) {
            paymentrequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentrequests.findMany({
                where: { clientid: projectdetails.projectid, status: "Pending" },
            });
            paymentrequeststatus = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentrequests.findFirst({
                where: { clientid: projectdetails.projectid },
            });
            paymentcount = paymentrequest.length;
            console.log("requestsum", paymentcount);
            SmartsheetId = projectdetails.smartsheetid;
            CurrentStatus = projectdetails.currentmilestone;
            LastUpdated = projectdetails.updatedate;
            ProjectSignupDate = projectdetails.signupdate;
            ProjectValue = projectdetails.totalprojectvalue;
            ProjectStartDate = projectdetails.createdate;
            ProjectLastDate = projectdetails.expectedhandoverdate;
            milestones = projectdetails.milestones;
            if (projectdetails.chmid !== null) {
                chmdata = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                    where: { userid: projectdetails.chmid },
                });
                const mName = chmdata.middlename ? chmdata.middlename : "";
                const fName = chmdata.firstname ? chmdata.firstname : "";
                const lName = chmdata.lastname ? chmdata.lastname : "";
                chmname = `${fName} ${mName} ${lName} is your project account manager, please raise your concern and we will get it resolved.`;
            }
            else {
                chmname = "Please raise your concern here and we will get it resolved.";
            }
        }
        if (paymentrequeststatus !== null && paymentrequeststatus !== undefined) {
            paymentrequestdata = paymentrequeststatus.status;
        }
        const bookingformstatus = fetchedUser.bookingformstatus;
        userDetails = {
            User_Details: {
                userName: `${fetchedUser.firstname} ${fetchedUser.lastname}`,
                dccode: dccode,
                Smartsheet_Id: SmartsheetId,
                CurrentStatus: CurrentStatus,
                Last_Updated: LastUpdated,
                Project_Value: ProjectValue,
                Project_Start_Date: ProjectStartDate,
                Project_Last_Date: ProjectLastDate,
                Payment_Status: paymentrequestdata,
                Project_Signup_Date: ProjectSignupDate,
            },
        };
        flags = {
            Meeting_Scheduled: "Meeting_Scheduled",
            Proposal_Sent: "Proposal_Sent",
            After_Proposal_has_been_accepted: "After_Proposal_has_been_accepted",
            Project_Signup_Till_Handover_Completion: "Project_Signup_Till_Handover_Completion",
        };
        if (leadData !== null && leadData.status === "Meeting Scheduled") {
            const ecAddress = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({
                where: { name: leadData.meeting_venue__c },
            });
            const managerPhoto = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findFirst({
                where: { sfid: leadData.ownerid },
            });
            input = {
                Meeting_Scheduled: {
                    meeting_schedule_card: {
                        title: leadData.status,
                        meeting_type__c: leadData.meeting_type__c,
                        createddate: leadData.createddate,
                        meeting_venue__c: leadData.meeting_venue__c,
                        EC_Address: ecAddress.address,
                    },
                    reuirement_schedule_card: {
                        title: "Next step! Help us know you better",
                        description: "Youre all signed up . Time to get stuff done. Whats Next? Help us understand your likes/dislikes by filling out this form.",
                        CTA: "Fill the form",
                        URL: "/requirement-form",
                    },
                    sales_manager_card: {
                        name: leadData.lead_owner_name__c,
                        number: managerPhoto.mobilephone,
                        email: leadData.lead_owner_email__c,
                        avatar: managerPhoto.fullphotourl,
                    },
                },
            };
        }
        else if (cardDetails !== null &&
            cardDetails !== undefined &&
            cardDetails.stagename === "Proposal Sent" &&
            proposalaccept !== null &&
            proposalaccept.status.toLowerCase() !== "accepted") {
            input = {
                Proposal_Details: {
                    proposal_card: {
                        title: "Proposal Received",
                        proposal_sent_date__c: cardDetails.proposal_sent_date__c,
                        status: proposalaccept.status.toLowerCase(),
                        description: "Take A Look ! You shared your home story: we made the design! View the design proposal to accept/reject. Tell us what you think?",
                        CTA: "View Proposal",
                        URL: "/proposal",
                    },
                    sales_manager_card: {
                        name: salesmanagerdetails.name,
                        number: salesmanagerdetails.mobilephone,
                        email: salesmanagerdetails.email,
                        avatar: salesmanagerdetails.fullphotourl,
                    },
                },
            };
        }
        else if (bookingformstatus !== null &&
            bookingformstatus.toLowerCase() === "accepted" &&
            paymentrequestdata !== null &&
            paymentrequestdata.toLowerCase() === "paid") {
            input = {
                Project_Signup_Till_Handover_Completion: {
                    Project_Card: {
                        Project_Value: projectdetails.totalprojectvalue,
                        Signup_Date: projectdetails.signupdate,
                        Handover_Date: projectdetails.expectedhandoverdate,
                        Which_milestone_is_active: projectdetails.currentmilestone,
                    },
                    Customer_Support_Card: {
                        title: `Need Help? ${fetchedUser.firstname} ${fetchedUser.lastname}`,
                        description: chmname,
                        CTA: "Raise ticket",
                        URL: "/support",
                    },
                },
            };
        }
        else if (proposalaccept !== null &&
            proposalaccept.status.toLowerCase() === "accepted") {
            if (paymentrequest !== null && paymentrequest !== undefined) {
                input = {
                    After_Proposal_has_been_accepted: {
                        five_percent_payment_card: {},
                        Booking_Form_Card: {},
                    },
                };
                let payment = {};
                let bookingForm = {};
                if (paymentcount > 0 && paymentcount < 2) {
                    payment = {
                        title: "5% payment card",
                        date_an_time_of_request: paymentrequest[0].invoicedate,
                        description: `We request you to make your  5% payment 
            for us to get started on your design process!`,
                        status: paymentrequest[0].status.toLowerCase(),
                        CTA: "Pay Rs." + paymentrequest[0].requestamount,
                        URL: "/payment",
                    };
                }
                if (paymentcount > 0 && paymentcount <= 2) {
                    let sumAmount = 0.0;
                    paymentrequest.forEach((item) => {
                        sumAmount += item.requestamount;
                    });
                    payment = {
                        title: "5% payment card",
                        date_an_time_of_request: paymentrequest[0].invoicedate,
                        description: "We request you to make your  5% payment for us to get started on your design process!",
                        status: "pending",
                        CTA: "Pay " + sumAmount,
                        URL: "/payment",
                    };
                }
                if (fetchedUser.bookingformstatus !== null &&
                    fetchedUser.bookingformstatus.toLowerCase() !== "accepted") {
                    bookingForm = {
                        title: "Booking Form Card",
                        status: fetchedUser.bookingformstatus.toLowerCase(),
                        description: "Are you all set to start the project with us?",
                        CTA: "Review & Sign the Booking Form",
                        URL: "/booking-form",
                    };
                }
                input.After_Proposal_has_been_accepted.five_percent_payment_card =
                    payment;
                input.After_Proposal_has_been_accepted.Booking_Form_Card = bookingForm;
            }
            else {
                input = {
                    Presales_No_Card: {
                        information: {
                            title: "Information",
                            description: `Your side of the actions/activities are done. Next up, ${salesmanagerdetails.name} will reach out to you with the 5% Payment request following the Booking Form. In case there is a delay, use the call button below to speak to ${salesmanagerdetails.name}`,
                        },
                        sales_manager_card: {
                            name: salesmanagerdetails.name,
                            number: salesmanagerdetails.mobilephone,
                            email: salesmanagerdetails.email,
                            avatar: salesmanagerdetails.fullphotourl,
                        },
                    },
                };
            }
        }
        else {
            input = {
                Information: {
                    description: "The dashboard is currently being updated by the team, Please login after sometime.",
                },
            };
        }
        if (input !== {}) {
            cardStatusResponseObj = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
                data: {
                    cardstage: input,
                },
                where: {
                    customerid: fetchedUser.customerid,
                },
            });
        }
        var milestonedata;
        const type = "home";
        if (SmartsheetId !== undefined && SmartsheetId !== null) {
            const smartClient = await (0,_projects_Smartsheet_SmartSheetServices__WEBPACK_IMPORTED_MODULE_2__.getSmartSheetClient)();
            const sheetData = await smartClient.sheets.getSheet({ id: SmartsheetId });
            milestonedata = (0,_projects_Smartsheet_Queries_GetMileStonesDetails__WEBPACK_IMPORTED_MODULE_3__.getMileStoneData)(sheetData, milestones, type);
        }
        cardStatusResponseObj = {
            code: 200,
            message: "Successfully fetched card details",
            userDetails: userDetails,
            flags: flags,
            data: input,
            dynamic_Card: milestonedata,
        };
        return cardStatusResponseObj;
    }
    catch (error) {
        cardStatusResponseObj = { code: 400, message: error.message };
        return cardStatusResponseObj;
    }
};


/***/ }),

/***/ "./src/api/homescreenWidgets/resolver.ts":
/*!***********************************************!*\
  !*** ./src/api/homescreenWidgets/resolver.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "homescreenWgidgetResolver": () => (/* binding */ homescreenWgidgetResolver)
/* harmony export */ });
/* harmony import */ var _Mutation_mutation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Mutation/mutation */ "./src/api/homescreenWidgets/Mutation/mutation.ts");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_1__);


const homescreenWgidgetResolver = {
    Mutation: {
        cardStatus: (parent, _args, context) => (0,_Mutation_mutation__WEBPACK_IMPORTED_MODULE_0__.cardStatus)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_1__.DateTimeResolver
};


/***/ }),

/***/ "./src/api/homescreenWidgets/typedefs.ts":
/*!***********************************************!*\
  !*** ./src/api/homescreenWidgets/typedefs.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "homescreenWidgetTypedef": () => (/* binding */ homescreenWidgetTypedef)
/* harmony export */ });
const homescreenWidgetTypedef = `

type cardDetails {
    id : String!
    cardstage : JSON
}
type cardStatusResponseObj {
    code : Int,
    message : String
    userDetails : JSON
    flags : JSON
    data: JSON
    dynamic_Card: JSON
}
type Mutation{
    cardStatus : cardStatusResponseObj
}
scalar DateTime
`;


/***/ }),

/***/ "./src/api/leads/Mutations/acceptRejectLeads.ts":
/*!******************************************************!*\
  !*** ./src/api/leads/Mutations/acceptRejectLeads.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acceptRejectLeads": () => (/* binding */ acceptRejectLeads)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getLeadDetailsFromId = async (leadSfId) => {
    if (leadSfId) {
        return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
            where: {
                sfid: leadSfId,
            },
        });
    }
    return null;
};
const updateBroadCastedLeads = async (dataToBeUpdated, leadSfId) => {
    console.log(dataToBeUpdated, leadSfId);
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
        data: dataToBeUpdated,
        where: { sfid: leadSfId },
    });
};
const acceptRejectLeads = async (_root, args, _context) => {
    const acceptRejectResponse = {
        code: 200,
        message: null,
        data: null,
    };
    try {
        const { isAccept, leadSfId } = args;
        const fetchedUser = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "DD");
        if (fetchedUser) {
            const leadFetchedBySfId = await getLeadDetailsFromId(leadSfId);
            if (leadFetchedBySfId) {
                const user = fetchedUser;
                const acceptRejectResult = await hanldeAcceptRejectByDesigners(isAccept, user, leadSfId, leadFetchedBySfId);
                acceptRejectResponse.code = 200;
                acceptRejectResponse.message = acceptRejectResult.message;
            }
            else {
                acceptRejectResponse.code = 400;
                acceptRejectResponse.message = "Lead Salesforce Id is not valid";
            }
        }
        else {
            acceptRejectResponse.code = 400;
            acceptRejectResponse.message = "No User found with given id";
        }
    }
    catch (e) {
        console.log(e);
        acceptRejectResponse.code = 400;
        acceptRejectResponse.message = e.message;
    }
    return acceptRejectResponse;
};
const hanldeAcceptRejectByDesigners = async (isAccept, user, leadSfId, leadFetchedBySfId) => {
    const acceptRejectResponse = {
        code: 200,
        message: null,
        data: null,
    };
    if (isAccept) {
        console.log(757575);
        if (!leadFetchedBySfId.design_user__c) {
            acceptRejectResponse.data = await updateBroadCastedLeads({
                broadcast_status__c: "1",
                design_user__c: user.salesforceuserid,
                has_designer_accepted__c: "Designer Accepted",
            }, leadSfId);
            console.log(85, acceptRejectResponse.data);
            acceptRejectResponse.message = `Lead ${leadFetchedBySfId.name} accepted successfully`;
        }
        else {
            acceptRejectResponse.message = "designer is already assigned";
        }
    }
    else {
        if (leadFetchedBySfId.broadcast_status__c === "0") {
            const leadRejectedBy = leadFetchedBySfId.rejected_by__c;
            const leadRejectedByArr = leadRejectedBy ? leadRejectedBy.split(",") : [];
            if (!leadRejectedByArr.includes(user.userid)) {
                leadRejectedByArr.push(user.userid);
                acceptRejectResponse.data = await updateBroadCastedLeads({
                    has_designer_accepted__c: "Designer Rejected",
                    rejected_by__c: leadRejectedByArr.toString(),
                }, leadSfId);
                acceptRejectResponse.message = `Lead ${leadFetchedBySfId.name} rejected by the designer,your studio manager has been notified`;
            }
        }
    }
    return acceptRejectResponse;
};


/***/ }),

/***/ "./src/api/leads/Mutations/assignDesignerToLeadsByStudioManger.ts":
/*!************************************************************************!*\
  !*** ./src/api/leads/Mutations/assignDesignerToLeadsByStudioManger.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assignDesigerToLeads": () => (/* binding */ assignDesigerToLeads)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");


const assignDesigerToLeads = async (_root, args, _context) => {
    let acceptRejectResponse = { code: 200, message: null, data: null };
    try {
        const { userId, leadSfId, designerToBeAssigned } = args;
        if (userId) {
            const fetchedUser = await (0,_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(userId);
            if (fetchedUser.length > 0) {
                const leadFetchedBySfId = await getLeadDetailsFromId(leadSfId);
                if (leadFetchedBySfId) {
                    acceptRejectResponse = await handleAcceptByStudioManagersOrAdmins(designerToBeAssigned, leadSfId);
                }
                else {
                    acceptRejectResponse.code = 400;
                    acceptRejectResponse.message = "Lead Salesforce Id is not valid";
                }
            }
            else {
                acceptRejectResponse.code = 400;
                acceptRejectResponse.message = "No User found with given id";
            }
        }
        else {
            acceptRejectResponse.code = 400;
            acceptRejectResponse.message = "No User Id Provided";
        }
    }
    catch (e) {
        acceptRejectResponse.code = 400;
        acceptRejectResponse.message = e.message;
    }
    return acceptRejectResponse;
};
const handleAcceptByStudioManagersOrAdmins = async (designerToBeAssigned, leadSfId) => {
    const acceptRejectResponse = { code: 200, message: null, data: null };
    if (designerToBeAssigned || (designerToBeAssigned === null || designerToBeAssigned === void 0 ? void 0 : designerToBeAssigned.length) > 0) {
        acceptRejectResponse.data = await updateBroadCastedLeads({
            broadcast_status__c: 3,
            design_user__c: designerToBeAssigned,
            has_designer_accepted__c: "Designer Assigned, Acceptance Pending"
        }, leadSfId);
    }
    else {
        acceptRejectResponse.code = 400;
        acceptRejectResponse.message = "Invalid Designer Id Provided";
    }
    return acceptRejectResponse;
};
const getLeadDetailsFromId = async (leadSfId) => {
    if (leadSfId) {
        return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
            where: {
                sfid: leadSfId
            }
        });
    }
    return null;
};
const updateBroadCastedLeads = async (dataToBeUpdated, leadSfId) => {
    console.log(dataToBeUpdated, leadSfId);
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
        data: dataToBeUpdated,
        where: { sfid: leadSfId },
    });
};


/***/ }),

/***/ "./src/api/leads/Mutations/assignTeamToLead.ts":
/*!*****************************************************!*\
  !*** ./src/api/leads/Mutations/assignTeamToLead.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assignTeamToLead": () => (/* binding */ assignTeamToLead)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_2__);
var __asyncValues = (undefined && undefined.__asyncValues) || function (o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
};



const assignTeamToLead = async (_parent, args, _context) => {
    const assignTeamResponse = { code: 200, message: null, data: null };
    const { leadId } = args;
    const teams = [];
    const fetchedLeads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
        where: {
            sfid: leadId,
        },
    });
    if (fetchedLeads.status === "Meeting Scheduled" ||
        fetchedLeads.status === "Meeting Confirmed") {
        if (!fetchedLeads.design_user__c && !fetchedLeads.designer_team_name__c) {
            if (fetchedLeads === null || fetchedLeads === void 0 ? void 0 : fetchedLeads.meeting_venue__c) {
                const fetchedExperienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({
                    where: {
                        name: fetchedLeads === null || fetchedLeads === void 0 ? void 0 : fetchedLeads.meeting_venue__c,
                    },
                });
                if (fetchedExperienceCenter) {
                    const experienceCenterId = fetchedExperienceCenter.centerid;
                    const fetchedAssignedTeamsIdToExperienccenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_experiencecenters.findMany({
                        where: { centerid: experienceCenterId },
                        include: {
                            team: true,
                        },
                    });
                    if ((fetchedAssignedTeamsIdToExperienccenter === null || fetchedAssignedTeamsIdToExperienccenter === void 0 ? void 0 : fetchedAssignedTeamsIdToExperienccenter.length) > 0) {
                        fetchedAssignedTeamsIdToExperienccenter.forEach((team) => {
                            teams.push(team.team);
                        });
                        const roundRobinData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_roundrobin.findFirst({
                            where: {
                                experiencecenterid: experienceCenterId,
                            },
                        });
                        const teamNameAssignedToLead = await roundRobinLogic(roundRobinData, teams, experienceCenterId, leadId);
                        assignTeamResponse.message = `Lead Successfully assigned to ${teamNameAssignedToLead}`;
                        const teamwhatsapp = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findFirst({ where: { name: teamNameAssignedToLead } });
                        await callwhatsappnotification(teamwhatsapp, leadId);
                    }
                    else {
                        assignTeamResponse.code = 400;
                        assignTeamResponse.message =
                            "No Teams found for this particular experience center";
                    }
                }
                else {
                    assignTeamResponse.code = 400;
                    assignTeamResponse.message =
                        "No Experience center assigned to this lead";
                }
            }
            else {
                assignTeamResponse.code = 400;
                assignTeamResponse.message = "Lead Not Found";
            }
        }
        else {
            assignTeamResponse.code = 200;
            assignTeamResponse.message = "Lead already Broadcasted";
        }
    }
    else {
        assignTeamResponse.code = 200;
        assignTeamResponse.message = "Lead is not Meeting Scheduled stage";
    }
    return assignTeamResponse;
};
const roundRobinLogic = async (roundRobinData, teams, experienceCenterId, leadId) => {
    let teamNameToBeAssignedToTheLead;
    let teamIdToBeAssignedToTheLead;
    if (roundRobinData) {
        const latestTeamIdAssignedToEC = roundRobinData.teamid;
        const indexOfTheTeamLatestAssignedToLead = teams.findIndex((team) => team.id === latestTeamIdAssignedToEC);
        if (teams.length === indexOfTheTeamLatestAssignedToLead + 1) {
            teamNameToBeAssignedToTheLead = teams[0].name;
            teamIdToBeAssignedToTheLead = teams[0].id;
        }
        else {
            teamNameToBeAssignedToTheLead =
                teams[indexOfTheTeamLatestAssignedToLead + 1].name;
            teamIdToBeAssignedToTheLead =
                teams[indexOfTheTeamLatestAssignedToLead + 1].id;
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_roundrobin.update({
            where: {
                roundrobinid: roundRobinData.roundrobinid,
            },
            data: {
                teamid: teamIdToBeAssignedToTheLead,
            },
        });
    }
    else {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_roundrobin.create({
            data: {
                experiencecenterid: experienceCenterId,
                teamid: teams[0].id,
            },
        });
        teamNameToBeAssignedToTheLead = teams[0].name;
    }
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
        where: {
            sfid: leadId,
        },
        data: {
            designer_team_name__c: teamNameToBeAssignedToTheLead,
            broadcast_status__c: "0",
        },
    });
    return teamNameToBeAssignedToTheLead;
};
const callwhatsappnotification = async (teamwhatsapp, leadId) => {
    var e_1, _a, e_2, _b, e_3, _c;
    var _d;
    console.log("here");
    const usertobebroadcasted = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findMany({ where: { teamid: teamwhatsapp.id } });
    console.log("user", usertobebroadcasted);
    const profiles = [
        { profile_name: "Inhouse Designer" },
        { profile_name: "Design Partner" },
        { profile_name: "Associate Studio Manager" }
    ];
    let whereConditionForProfiles = {};
    whereConditionForProfiles = {
        OR: profiles,
    };
    const profileIDtobebroadcasted = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findMany({ where: whereConditionForProfiles });
    const profileID = [];
    try {
        for (var profileIDtobebroadcasted_1 = __asyncValues(profileIDtobebroadcasted), profileIDtobebroadcasted_1_1; profileIDtobebroadcasted_1_1 = await profileIDtobebroadcasted_1.next(), !profileIDtobebroadcasted_1_1.done;) {
            const element = profileIDtobebroadcasted_1_1.value;
            profileID.push(element.profileid);
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (profileIDtobebroadcasted_1_1 && !profileIDtobebroadcasted_1_1.done && (_a = profileIDtobebroadcasted_1.return)) await _a.call(profileIDtobebroadcasted_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    console.log(profileID);
    const userID = [];
    try {
        for (var usertobebroadcasted_1 = __asyncValues(usertobebroadcasted), usertobebroadcasted_1_1; usertobebroadcasted_1_1 = await usertobebroadcasted_1.next(), !usertobebroadcasted_1_1.done;) {
            const element = usertobebroadcasted_1_1.value;
            if (element.userid) {
                userID.push(element.userid);
            }
        }
    }
    catch (e_2_1) { e_2 = { error: e_2_1 }; }
    finally {
        try {
            if (usertobebroadcasted_1_1 && !usertobebroadcasted_1_1.done && (_b = usertobebroadcasted_1.return)) await _b.call(usertobebroadcasted_1);
        }
        finally { if (e_2) throw e_2.error; }
    }
    if (userID.length > 0) {
        const userstofetch = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({ where: { userid: { in: userID }, profileid: { in: profileID }, iseligibleforleadmeetings: true } });
        console.log(userstofetch);
        try {
            for (var userstofetch_1 = __asyncValues(userstofetch), userstofetch_1_1; userstofetch_1_1 = await userstofetch_1.next(), !userstofetch_1_1.done;) {
                const element = userstofetch_1_1.value;
                const leadtofetch = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { sfid: leadId } });
                const reminderTemplateForLeadBroadcast = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.callExternalAPIWithPost)("https://cms.designcafe.com/graphqlm", (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.queryForFetchingRemindersTemplate)("notify_lead_broadcast"));
                if (reminderTemplateForLeadBroadcast) {
                    const data = (_d = reminderTemplateForLeadBroadcast === null || reminderTemplateForLeadBroadcast === void 0 ? void 0 : reminderTemplateForLeadBroadcast.data) === null || _d === void 0 ? void 0 : _d.reminders.data[0].attributes;
                    console.log(data);
                    const slug = data.slug;
                    const to = element.phonenumber;
                    console.log("phonenumber", to);
                    const link = process.env.leadDetailsUrl + leadtofetch.sfid + "&leadid=" + leadtofetch.id;
                    const url = "https://app.yellowmessenger.com/api/engagements/notifications/v2/push";
                    if (data.whatsappActive) {
                        console.log("whatsapp");
                        const whatsappresponse = await triggerWhatsappNotification(to, link, slug, userstofetch, leadtofetch, url);
                        console.log("whatsappresponse", whatsappresponse);
                    }
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (userstofetch_1_1 && !userstofetch_1_1.done && (_c = userstofetch_1.return)) await _c.call(userstofetch_1);
            }
            finally { if (e_3) throw e_3.error; }
        }
    }
};
const triggerWhatsappNotification = async (to, link, slug, userstofetch, leadtofetch, url) => {
    console.log("trigger");
    const reqBody = JSON.stringify({
        userDetails: {
            number: "91" + to,
        },
        notification: {
            type: "whatsapp",
            sender: "916366910437",
            templateId: "new_lead_details",
            params: {
                "1": leadtofetch.name,
                "2": leadtofetch.willingness_for_meeting__c,
                "3": leadtofetch.meeting_venue__c,
                "4": leadtofetch.meeting_type__c,
                "5": leadtofetch.approx_budget__c,
                "6": leadtofetch.propertyaddress__c,
                "7": link,
            },
        },
    });
    try {
        const res = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(url)
            .query("bot=x1647421621135")
            .set("Content-Type", "application/json")
            .set("x-api-key", process.env.kyellowMessengerXAuthToken)
            .send(reqBody);
        console.log("res.body", res.body);
        return res.body;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/leads/Mutations/editRequirements.ts":
/*!*****************************************************!*\
  !*** ./src/api/leads/Mutations/editRequirements.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editRequirements": () => (/* binding */ editRequirements)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _customers_requirementForm_Mutations_editForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../customers/requirementForm/Mutations/editForm */ "./src/api/customers/requirementForm/Mutations/editForm.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_4__);





const editRequirements = async (root, args, context) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w;
    let editRequirementsResponseObj;
    const { requirementdetails, leadid } = args;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "DD");
        await (0,_customers_requirementForm_Mutations_editForm__WEBPACK_IMPORTED_MODULE_3__.validateInput)(requirementdetails);
        const floorPlanReq = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.floor_plan;
        const fetchLead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { id: leadid } });
        if (!fetchLead) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_4___default())(400, "lead not found");
        }
        floorPlanReq.id = fetchLead.sfid;
        const response = await getFloorPlanLocation(floorPlanReq, fetchLead, user);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
            data: {
                home_type__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.home_type__c,
                area__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.area__c.toString(),
                scope_of_work__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.scope_of_work__c,
                civil_work__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.civil_work__c) === "Yes" ? true : false,
                site_service_needed_for__c: (_a = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.site_service_needed_for__c) === null || _a === void 0 ? void 0 : _a.join(";"),
                interior_work_needed_for__c: (_b = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.interior_work_needed_for__c) === null || _b === void 0 ? void 0 : _b.join(";"),
                requirement_details__c: (_c = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.requirement_details__c) === null || _c === void 0 ? void 0 : _c.join(";"),
                property_usage__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.property_usage__c,
                where_are_you_currently_located__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.where_are_you_currently_located__c,
                when_would_you_like_to_have_the_home__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.when_would_you_like_to_have_the_home__c,
                which_language_are_you_most_comfortable__c: (_d = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.which_language_are_you_most_comfortable__c) === null || _d === void 0 ? void 0 : _d.join(";"),
                if_other_languages_please_specify__c: (_e = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.if_other_languages_please_specify__c) === null || _e === void 0 ? void 0 : _e.join(";"),
                who_will_be_staying_in_the_house__c: (_f = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.who_will_be_staying_in_the_house__c) === null || _f === void 0 ? void 0 : _f.join(";"),
                gender_of_first_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_g = requirementdetails.kids_details[0]) === null || _g === void 0 ? void 0 : _g.gender
                    : null,
                gender_of_second_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_h = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[1]) === null || _h === void 0 ? void 0 : _h.gender
                    : null,
                gender_of_third_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_j = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[2]) === null || _j === void 0 ? void 0 : _j.gender
                    : null,
                gender_of_fourth_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_k = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[3]) === null || _k === void 0 ? void 0 : _k.gender
                    : null,
                age_of_first_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_m = (_l = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[0]) === null || _l === void 0 ? void 0 : _l.age) === null || _m === void 0 ? void 0 : _m.toString()
                    : null,
                age_of_second_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_p = (_o = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[1]) === null || _o === void 0 ? void 0 : _o.age) === null || _p === void 0 ? void 0 : _p.toString()
                    : null,
                age_of_third_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_r = (_q = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[2]) === null || _q === void 0 ? void 0 : _q.age) === null || _r === void 0 ? void 0 : _r.toString()
                    : null,
                age_of_fourth_kid__c: (requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details)
                    ? (_t = (_s = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.kids_details[3]) === null || _s === void 0 ? void 0 : _s.age) === null || _t === void 0 ? void 0 : _t.toString()
                    : null,
                do_you_have_pets__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.do_you_have_pets__c,
                live__c: (_u = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.live__c) === null || _u === void 0 ? void 0 : _u.join(";"),
                others_for_live__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.others_for_live__c,
                work__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.work__c,
                eat__c: (_v = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.eat__c) === null || _v === void 0 ? void 0 : _v.join(";"),
                play__c: (_w = requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.play__c) === null || _w === void 0 ? void 0 : _w.join(";"),
                others_for_play__c: requirementdetails === null || requirementdetails === void 0 ? void 0 : requirementdetails.others_for_play__c,
                floor_plan_attachment_id__c: response
                    ? response.id.toString()
                    : fetchLead.floor_plan_attachment_id__c,
            },
            where: { id: leadid },
        });
        editRequirementsResponseObj = {
            code: 200,
            message: "Requirement Form Updated Successfully",
        };
        return editRequirementsResponseObj;
    }
    catch (error) {
        editRequirementsResponseObj = { code: 400, message: error.message };
        return editRequirementsResponseObj;
    }
};
const getFloorPlanLocation = async (floorPlanReq, lead, user) => {
    var _a;
    let res, location, respone;
    if (floorPlanReq.documents[0].data.match(/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?$/)) {
        const attachmentReq = {
            key: floorPlanReq.documents[0].filename,
            contentType: floorPlanReq.documents[0].Content_Type,
            base64: floorPlanReq.documents[0].data,
            ispreorpost: 2,
            user: user.userid,
            leadid: lead.sfid,
        };
        respone = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachmentReq);
        location = respone.location;
        res = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.uploadFloorPlanAtSalesForce)(floorPlanReq);
        if (((_a = res === null || res === void 0 ? void 0 : res.status) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === "error") {
            return { code: 400, message: "Error Uploading Requirement Form" };
        }
    }
    else {
        location = floorPlanReq.documents[0].data;
    }
    return respone;
};


/***/ }),

/***/ "./src/api/leads/Mutations/updateDesigner.ts":
/*!***************************************************!*\
  !*** ./src/api/leads/Mutations/updateDesigner.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateDesigner": () => (/* binding */ updateDesigner)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");
/* harmony import */ var _domain_enumerations_DesingerAssignStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/DesingerAssignStatus */ "./src/domain/enumerations/DesingerAssignStatus.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../domain/enumerations/ProfileTypeEnumUtil */ "./src/domain/enumerations/ProfileTypeEnumUtil.ts");





const updateDesigner = async (root, args, context) => {
    var _a;
    let updateDesignerResponseObj;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__.authenticate)(context, "DD");
        const { designerId, leadSfId, opportunitySfId } = args;
        const fetchedUser = await (0,_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(designerId);
        let user;
        if (fetchedUser.length > 0) {
            user = fetchedUser[0];
        }
        else {
            updateDesignerResponseObj = {
                code: 400,
                message: "No Designer found with given id",
            };
            return updateDesignerResponseObj;
        }
        let teamAssignedToUser, name;
        if (user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.STUDIO_MANAGER_DP ||
            user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.IN_HOUSE_DESIGNER ||
            user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.ASSOCIATE_STUDIO_MANAGER ||
            user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.STUDIO_MANAGER ||
            user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_4__.ProfileTypeEnumCode.DESIGN_PARTNER) {
            teamAssignedToUser = user.teams ? user.teams[0].name : null;
            const middleName = user.middlename ? user.middlename.trim() : "";
            const lastName = user.lastname ? user.lastname.trim() : "";
            name = `${(_a = user.firstname) === null || _a === void 0 ? void 0 : _a.trim()}${middleName ? " " + middleName + " " : " "}${lastName}`;
            console.log(56, name);
        }
        else {
            updateDesignerResponseObj = {
                code: 400,
                message: "Invalid Designer Id Provided",
            };
            return updateDesignerResponseObj;
        }
        if (leadSfId) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.update({
                where: {
                    sfid: leadSfId,
                },
                data: {
                    design_user__c: user.salesforceuserid,
                    design_user_name__c: name,
                    designer_team_name__c: teamAssignedToUser,
                    has_designer_accepted__c: _domain_enumerations_DesingerAssignStatus__WEBPACK_IMPORTED_MODULE_2__["default"].PENDING,
                    broadcast_status__c: "3"
                },
            });
        }
        else if (opportunitySfId) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.update({
                where: {
                    sfid: opportunitySfId,
                },
                data: {
                    design_user__c: user.salesforceuserid,
                    design_user_name__c: name,
                    studio_name__c: teamAssignedToUser,
                },
            });
        }
        updateDesignerResponseObj = { code: 200, message: "success" };
        return updateDesignerResponseObj;
    }
    catch (error) {
        updateDesignerResponseObj = { code: 400, message: error.message };
        return updateDesignerResponseObj;
    }
};


/***/ }),

/***/ "./src/api/leads/Mutations/uploadFilesInLead.ts":
/*!******************************************************!*\
  !*** ./src/api/leads/Mutations/uploadFilesInLead.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uploadFilesInLeads": () => (/* binding */ uploadFilesInLeads)
/* harmony export */ });
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const uploadFilesInLeads = async (root, args, context) => {
    let uploadFilesResponseObj;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(context, "DD");
        const { leadid, opportunityid, base64, filekey, contentType } = args;
        const attachment = {
            key: filekey,
            contentType,
            base64,
            userid: user.userid,
            ispreorpost: 0,
            leadid: leadid,
            opportunityid: opportunityid,
        };
        const toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__.UploadFileOnS3)(attachment);
        let responseObj = {
            filename: filekey,
            Content_Type: contentType,
            data: toS3.location,
        };
        uploadFilesResponseObj = {
            code: 200,
            message: "success",
            data: responseObj,
        };
        return uploadFilesResponseObj;
    }
    catch (error) {
        uploadFilesResponseObj = { code: 200, message: error.message };
        return uploadFilesResponseObj;
    }
};


/***/ }),

/***/ "./src/api/leads/Mutations/uploadLeadFiles.ts":
/*!****************************************************!*\
  !*** ./src/api/leads/Mutations/uploadLeadFiles.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "uploadLeadFiles": () => (/* binding */ uploadLeadFiles)
/* harmony export */ });
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");

const uploadLeadFiles = async (root, args, context) => {
    let uploadFilesResponseObj;
    try {
        const { leadAttachment, leadid, opportunityid } = args;
        let toS3;
        const responseArr = [];
        if (leadAttachment.length) {
            await Promise.all(leadAttachment.map(async (element) => {
                const attachment = {
                    key: element.filename,
                    contentType: element.Content_Type,
                    base64: element.base64,
                    ispreorpost: 0,
                    leadid: leadid,
                    opportunityid: opportunityid
                };
                toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__.UploadFileOnS3)(attachment);
                element.base64 = toS3.location;
                responseArr.push(element);
            }));
        }
        uploadFilesResponseObj = { code: 200, message: "success", data: responseArr };
        return uploadFilesResponseObj;
    }
    catch (error) {
        uploadFilesResponseObj = { code: 200, message: error.message };
        return uploadFilesResponseObj;
    }
};


/***/ }),

/***/ "./src/api/leads/Queries/getBroadCastLeadsForUser.ts":
/*!***********************************************************!*\
  !*** ./src/api/leads/Queries/getBroadCastLeadsForUser.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBrodcastLeadsForUser": () => (/* binding */ getBrodcastLeadsForUser)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");



const getBrodcastLeadsForUser = async (_root, _args, _context) => {
    var _a, _b, _c, _d;
    const broadcastLeadResponse = { code: 200, message: "success", data: null };
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "DD");
        if (user) {
            const fetcheduser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__.getUser)(user.userid);
            console.log("fetcheduser", fetcheduser[0]);
            let whereCondition = {};
            const fetchedProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
                where: {
                    profileid: fetcheduser[0].profileid,
                },
            });
            console.log(21, fetchedProfile.access_level);
            switch (fetchedProfile.access_level) {
                case 0:
                    if (fetcheduser[0].iseligibleforleadmeetings) {
                        whereCondition = {
                            design_user__c: null,
                            status: "Meeting Scheduled",
                            broadcast_status__c: "0",
                            OR: (_a = fetcheduser[0].teams) === null || _a === void 0 ? void 0 : _a.map((teamAssignedToUser) => {
                                return { designer_team_name__c: teamAssignedToUser.name };
                            }),
                            AND: {
                                OR: [
                                    {
                                        NOT: {
                                            rejected_by__c: {
                                                contains: fetcheduser[0].userid.toString(),
                                            },
                                        },
                                    },
                                    { rejected_by__c: null },
                                ],
                            },
                        };
                    }
                    else {
                        broadcastLeadResponse.code = 400;
                        broadcastLeadResponse.message =
                            "You are not eligible for conducting meetings";
                        return broadcastLeadResponse;
                    }
                    break;
                case 1:
                    whereCondition = {
                        OR: (_b = fetcheduser[0].teams) === null || _b === void 0 ? void 0 : _b.map((team) => {
                            return { designer_team_name__c: team.name };
                        }),
                        broadcast_status__c: "0",
                        design_user__c: null,
                        status: "Meeting Scheduled",
                    };
                    break;
                case 2:
                    whereCondition = {
                        OR: (_c = fetcheduser[0].experiencecenters) === null || _c === void 0 ? void 0 : _c.map((expCenter) => {
                            return { meeting_venue__c: expCenter.name };
                        }),
                        broadcast_status__c: "0",
                        design_user__c: null,
                        status: "Meeting Scheduled",
                    };
                    break;
                case 3:
                    whereCondition = {
                        OR: (_d = fetcheduser[0].cities) === null || _d === void 0 ? void 0 : _d.map((city) => {
                            return { region__c: city.name };
                        }),
                        broadcast_status__c: "0",
                        design_user__c: null,
                        status: "Meeting Scheduled",
                    };
                    break;
                case 4:
                    whereCondition = {
                        broadcast_status__c: "0",
                        design_user__c: null,
                        status: "Meeting Scheduled",
                    };
                    break;
                default:
                    broadcastLeadResponse.code = 400;
                    broadcastLeadResponse.message = "Profile not set for given user";
                    return broadcastLeadResponse;
            }
            console.log(48, JSON.stringify(whereCondition));
            const broadcastedLeads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({
                where: whereCondition,
            });
            console.log(81818181, broadcastedLeads.length);
            broadcastLeadResponse.data = [...broadcastedLeads];
        }
        else {
            broadcastLeadResponse.code = 400;
            broadcastLeadResponse.message = "No User found with given id";
        }
    }
    catch (e) {
        broadcastLeadResponse.code = 400;
        broadcastLeadResponse.message = e.message;
        console.log(e);
    }
    return broadcastLeadResponse;
};


/***/ }),

/***/ "./src/api/leads/Queries/getLeadAttachments.ts":
/*!*****************************************************!*\
  !*** ./src/api/leads/Queries/getLeadAttachments.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getLeadAttachments": () => (/* binding */ getLeadAttachments)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);


const getLeadAttachments = async (root, args, context) => {
    let getFilesResponseObj;
    try {
        let data;
        if (args.type === 0) {
            if (!args.leadid) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "lead id is required");
            }
            console.log("lead files/presales");
            data = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findMany({
                where: { leadid: args.leadid, ispreorpost: 0, opportunityid: null },
            });
            const fetchedLead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { sfid: args.leadid } });
            if (!fetchedLead) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "lead not found");
            }
            if (fetchedLead.floor_plan_attachment_id__c) {
                const floorPlan = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({ where: { id: Number(fetchedLead.floor_plan_attachment_id__c) } });
                data.push(floorPlan);
            }
        }
        else if (args.type === 1) {
            if (!args.opportunityid) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "opportunity id is required");
            }
            console.log("opportunity files/presales");
            let leadid;
            if (!args.leadid) {
                const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findUnique({
                    where: { sfid: args.opportunityid },
                });
                if (!opportunity) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "opportunity not found");
                }
                leadid = opportunity.lead_id__c;
            }
            else {
                leadid = args.leadid;
            }
            const leadFiles = await getLeadFilesForOpportunity(leadid);
            const opportunityFiles = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findMany({
                where: { opportunityid: args.opportunityid, ispreorpost: 0 }
            });
            data = leadFiles.concat(opportunityFiles);
        }
        data = await getUploadedBy(data);
        getFilesResponseObj = { code: 200, message: "success", data: data };
        return getFilesResponseObj;
    }
    catch (error) {
        getFilesResponseObj = { code: 400, message: error.message };
        return getFilesResponseObj;
    }
};
const getUploadedBy = async (data) => {
    let user, customer;
    if (data.length > 0) {
        await Promise.all(data.map(async (element) => {
            if (element.user) {
                user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({ where: { userid: element.user } });
                element.uploadedby = user.firstname;
            }
            else if (element.customer) {
                customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findUnique({ where: { customerid: element.customer } });
                element.uploadedby = customer.firstname;
            }
        }));
    }
    return data;
};
const getLeadFilesForOpportunity = async (leadid) => {
    let leadFiles;
    if (leadid) {
        leadFiles = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findMany({
            where: { leadid: leadid, ispreorpost: 0 }
        });
    }
    else {
        leadFiles = [];
    }
    return leadFiles;
};


/***/ }),

/***/ "./src/api/leads/Queries/getLeadDetailsById.ts":
/*!*****************************************************!*\
  !*** ./src/api/leads/Queries/getLeadDetailsById.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getLeadDetailsById": () => (/* binding */ getLeadDetailsById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getLeadDetailsById = async (parent, args, context) => {
    const { leadid } = args;
    const getLeadByIdResponse = { code: 200, message: null, data: null };
    const fetchedLeadById = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({
        where: {
            sfid: leadid
        }
    });
    getLeadByIdResponse.code = fetchedLeadById ? 200 : 400;
    getLeadByIdResponse.message = fetchedLeadById ? null : "No lead found for the given leadid";
    getLeadByIdResponse.data = fetchedLeadById ? fetchedLeadById : null;
    return getLeadByIdResponse;
};


/***/ }),

/***/ "./src/api/leads/Queries/getMyLeads.ts":
/*!*********************************************!*\
  !*** ./src/api/leads/Queries/getMyLeads.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMyLeads": () => (/* binding */ getMyLeads)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");



const getMyLeads = async (_root, args, _context) => {
    var _a;
    const myLeadResponse = { code: 200, message: "success", data: null };
    try {
        const { searchText, filterPreset, sortByMeetingScheduled, sortByName } = args;
        let user;
        try {
            user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "DD");
        }
        catch (error) {
            myLeadResponse.code = 401;
            myLeadResponse.message = error.message;
        }
        if (user) {
            const fetcheduser = await (0,_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__.getUser)(user.userid);
            const fetchedProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
                where: {
                    profileid: fetcheduser[0].profileid,
                },
            });
            console.log(21, fetchedProfile.access_level);
            let whereCondition = {};
            const statusQuery = [
                { status: "Meeting Scheduled" },
                { status: "Meeting Confirmed" },
            ];
            const searchCondition = [
                {
                    name: { contains: searchText ? searchText : "", mode: "insensitive" },
                },
                { mobilephone: { contains: searchText ? searchText : "" } },
            ];
            if (user.salesforceuserid || user.profileid === 8) {
                switch (fetchedProfile.access_level) {
                    case 0:
                        whereCondition = {
                            AND: {
                                OR: statusQuery,
                                AND: {
                                    OR: searchCondition,
                                    AND: createFilterConditions(args),
                                },
                            },
                            design_user__c: user.salesforceuserid,
                        };
                        break;
                    case 1:
                        whereCondition = {
                            AND: {
                                OR: (_a = fetcheduser[0].teams) === null || _a === void 0 ? void 0 : _a.map((team) => {
                                    return {
                                        designer_team_name__c: team.name,
                                    };
                                }),
                                AND: {
                                    OR: statusQuery,
                                    AND: {
                                        OR: searchCondition,
                                        AND: createFilterConditions(args),
                                    },
                                },
                            },
                        };
                        whereCondition.NOT = {
                            design_user__c: null,
                        };
                        break;
                    case 2:
                        whereCondition = {};
                        whereCondition.AND = {
                            OR: fetcheduser[0].experiencecenters.map((expCenter) => {
                                return {
                                    meeting_venue__c: expCenter.name,
                                };
                            }),
                            AND: {
                                OR: statusQuery,
                                AND: {
                                    OR: searchCondition,
                                    AND: createFilterConditions(args),
                                },
                            },
                        };
                        whereCondition.NOT = {
                            design_user__c: null,
                        };
                        break;
                    case 3:
                        whereCondition = {};
                        whereCondition.AND = {
                            OR: fetcheduser[0].cities.map((city) => {
                                return {
                                    region__c: city.name,
                                };
                            }),
                            AND: {
                                OR: statusQuery,
                                AND: {
                                    OR: searchCondition,
                                    AND: createFilterConditions(args),
                                },
                            },
                        };
                        whereCondition.NOT = {
                            design_user__c: null,
                        };
                        break;
                    case 4:
                        whereCondition = {
                            OR: searchCondition,
                            NOT: {
                                design_user__c: null,
                            },
                            AND: {
                                OR: statusQuery,
                                AND: createFilterConditions(args),
                            },
                        };
                        break;
                    default:
                        myLeadResponse.code = 400;
                        myLeadResponse.message = "Profile not set for given user";
                        return myLeadResponse;
                }
                switch (filterPreset) {
                    case 1:
                        whereCondition.design_user__c = null;
                        break;
                    case 2:
                        break;
                    case 3:
                        whereCondition.AND.AND.OR = { status: "Meeting Scheduled" };
                        break;
                    case 4:
                        whereCondition.AND.AND.OR = { status: "Meeting Confirmed" };
                        break;
                    default:
                        break;
                }
                const orderByArr = [];
                if (sortByMeetingScheduled) {
                    orderByArr.push({
                        willingness_for_meeting__c: sortByMeetingScheduled,
                    });
                }
                if (sortByName) {
                    orderByArr.push({ name: sortByName });
                }
                console.log(9494, JSON.stringify(whereCondition));
                const myLeads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({
                    where: whereCondition,
                    orderBy: orderByArr,
                });
                myLeadResponse.data = [...myLeads];
                console.log(143, myLeads.length);
            }
            else {
                myLeadResponse.code = 200;
                myLeadResponse.data = [];
                myLeadResponse.message =
                    "No salesforce id tagged to this particular user";
            }
        }
        else {
            myLeadResponse.code = 400;
            myLeadResponse.message = "No User found with given id";
        }
    }
    catch (e) {
        console.log(e);
        myLeadResponse.message = e.message;
        myLeadResponse.data = null;
    }
    return myLeadResponse;
};
const createFilterConditions = (args) => {
    const { fromDate, toDate, teamNames, designerNames, citys, experienceCenters, } = args;
    const filterConditions = {};
    const orCondition = [];
    if (teamNames) {
        teamNames.forEach((teamName) => {
            orCondition.push({
                designer_team_name__c: { contains: teamName, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (designerNames) {
        designerNames.forEach((designerName) => {
            orCondition.push({
                design_user_name__c: { contains: designerName, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (citys) {
        citys.forEach((cityName) => {
            orCondition.push({
                region__c: { contains: cityName, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (experienceCenters) {
        experienceCenters.forEach((experienceCenter) => {
            orCondition.push({
                meeting_venue__c: { contains: experienceCenter, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    console.log(fromDate, toDate);
    if (fromDate && toDate) {
        orCondition.push({
            willingness_for_meeting__c: {
                gte: fromDate,
                lte: toDate,
            },
        });
    }
    filterConditions.AND = orCondition;
    console.log("filterConditions", JSON.stringify(filterConditions));
    return filterConditions;
};


/***/ }),

/***/ "./src/api/leads/Queries/getRequirements.ts":
/*!**************************************************!*\
  !*** ./src/api/leads/Queries/getRequirements.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getRequirements": () => (/* binding */ getRequirements)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);



const getRequirements = async (root, args, context) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    let requirementFormResponseObj;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(context, "DD");
        const kidsArr = [];
        let obj;
        let fetchedLead;
        if (args.leadid) {
            fetchedLead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findFirst({ where: { id: args.leadid } });
            if (!fetchedLead) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "lead not found");
            }
        }
        else if (args.opportunityid) {
            const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findUnique({
                where: { sfid: args.opportunityid },
            });
            if (!opportunity) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "opportunity not found");
            }
            const leadid = opportunity.lead_id__c;
            fetchedLead = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findUnique({ where: { sfid: leadid } });
        }
        if (fetchedLead.gender_of_first_kid__c || fetchedLead.age_of_first_kid__c) {
            obj = {
                gender: fetchedLead.gender_of_first_kid__c,
                age: fetchedLead.age_of_first_kid__c,
            };
            kidsArr.push(obj);
        }
        if (fetchedLead.gender_of_second_kid__c ||
            fetchedLead.age_of_second_kid__c) {
            obj = {
                gender: fetchedLead.gender_of_second_kid__c,
                age: fetchedLead.age_of_second_kid__c,
            };
            kidsArr.push(obj);
        }
        if (fetchedLead.gender_of_third_kid__c || fetchedLead.age_of_third_kid__c) {
            obj = {
                gender: fetchedLead.gender_of_third_kid__c,
                age: fetchedLead.age_of_third_kid__c,
            };
            kidsArr.push(obj);
        }
        if (fetchedLead.gender_of_fourth_kid__c ||
            fetchedLead.age_of_fourth_kid__c) {
            obj = {
                gender: fetchedLead.gender_of_fourth_kid__c,
                age: fetchedLead.age_of_fourth_kid__c,
            };
            kidsArr.push(obj);
        }
        const getLeadFloorPlan = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({
            where: { id: Number(fetchedLead.floor_plan_attachment_id__c) },
        });
        console.log(987, getLeadFloorPlan);
        const requirementdetails = {
            home_type__c: fetchedLead.home_type__c,
            area__c: fetchedLead.area__c,
            scope_of_work__c: fetchedLead.scope_of_work__c,
            interior_work_needed_for__c: (_a = fetchedLead.interior_work_needed_for__c) === null || _a === void 0 ? void 0 : _a.split(";"),
            where_are_you_currently_located__c: fetchedLead.where_are_you_currently_located__c,
            when_would_you_like_to_have_the_home__c: fetchedLead.when_would_you_like_to_have_the_home__c,
            which_language_are_you_most_comfortable__c: (_b = fetchedLead.which_language_are_you_most_comfortable__c) === null || _b === void 0 ? void 0 : _b.split(";"),
            if_other_languages_please_specify__c: (_c = fetchedLead.if_other_languages_please_specify__c) === null || _c === void 0 ? void 0 : _c.split(";"),
            who_will_be_staying_in_the_house__c: (_d = fetchedLead.who_will_be_staying_in_the_house__c) === null || _d === void 0 ? void 0 : _d.split(";"),
            kids_details: kidsArr,
            do_you_have_pets__c: fetchedLead.do_you_have_pets__c,
            live__c: (_e = fetchedLead.live__c) === null || _e === void 0 ? void 0 : _e.split(";"),
            others_for_live__c: fetchedLead.others_for_live__c,
            work__c: fetchedLead.work__c,
            eat__c: (_f = fetchedLead.eat__c) === null || _f === void 0 ? void 0 : _f.split(";"),
            play__c: (_g = fetchedLead.play__c) === null || _g === void 0 ? void 0 : _g.split(";"),
            others_for_play__c: fetchedLead.others_for_play__c,
            civil_work__c: fetchedLead.civil_work__c ? "Yes" : "No",
            requirement_details__c: (_h = fetchedLead.requirement_details__c) === null || _h === void 0 ? void 0 : _h.split(";"),
            property_usage__c: fetchedLead.property_usage__c,
            site_service_needed_for__c: (_j = fetchedLead.site_service_needed_for__c) === null || _j === void 0 ? void 0 : _j.split(";"),
            floor_plan: {
                id: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.leadid,
                documents: [
                    {
                        filename: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.filekey,
                        Content_Type: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.contenttype,
                        data: getLeadFloorPlan === null || getLeadFloorPlan === void 0 ? void 0 : getLeadFloorPlan.location,
                    },
                ],
            },
        };
        console.log("requirementdetails", requirementdetails);
        const Data = {
            requirementformdetails: requirementdetails,
        };
        requirementFormResponseObj = { code: 200, message: "success", data: Data };
        return requirementFormResponseObj;
    }
    catch (error) {
        requirementFormResponseObj = { code: 400, message: error.message };
        return requirementFormResponseObj;
    }
};


/***/ }),

/***/ "./src/api/leads/resolver.ts":
/*!***********************************!*\
  !*** ./src/api/leads/resolver.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "leadsResolver": () => (/* binding */ leadsResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getBroadCastLeadsForUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getBroadCastLeadsForUser */ "./src/api/leads/Queries/getBroadCastLeadsForUser.ts");
/* harmony import */ var _Mutations_acceptRejectLeads__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/acceptRejectLeads */ "./src/api/leads/Mutations/acceptRejectLeads.ts");
/* harmony import */ var _Mutations_assignTeamToLead__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/assignTeamToLead */ "./src/api/leads/Mutations/assignTeamToLead.ts");
/* harmony import */ var _Queries_getLeadDetailsById__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Queries/getLeadDetailsById */ "./src/api/leads/Queries/getLeadDetailsById.ts");
/* harmony import */ var _Queries_getMyLeads__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Queries/getMyLeads */ "./src/api/leads/Queries/getMyLeads.ts");
/* harmony import */ var _Queries_getRequirements__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Queries/getRequirements */ "./src/api/leads/Queries/getRequirements.ts");
/* harmony import */ var _Mutations_editRequirements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Mutations/editRequirements */ "./src/api/leads/Mutations/editRequirements.ts");
/* harmony import */ var _Mutations_updateDesigner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Mutations/updateDesigner */ "./src/api/leads/Mutations/updateDesigner.ts");
/* harmony import */ var _Mutations_uploadLeadFiles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mutations/uploadLeadFiles */ "./src/api/leads/Mutations/uploadLeadFiles.ts");
/* harmony import */ var _Mutations_uploadFilesInLead__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Mutations/uploadFilesInLead */ "./src/api/leads/Mutations/uploadFilesInLead.ts");
/* harmony import */ var _Queries_getLeadAttachments__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Queries/getLeadAttachments */ "./src/api/leads/Queries/getLeadAttachments.ts");
/* harmony import */ var _Mutations_assignDesignerToLeadsByStudioManger__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Mutations/assignDesignerToLeadsByStudioManger */ "./src/api/leads/Mutations/assignDesignerToLeadsByStudioManger.ts");













const leadsResolver = {
    Query: {
        getLeadDetailsById: async (parent, _args, context) => (0,_Queries_getLeadDetailsById__WEBPACK_IMPORTED_MODULE_4__.getLeadDetailsById)(parent, _args, context),
        getBroadcastLeadsForUser: async (parent, _args, context) => (0,_Queries_getBroadCastLeadsForUser__WEBPACK_IMPORTED_MODULE_1__.getBrodcastLeadsForUser)(parent, _args, context),
        getMyLeads: async (parent, _args, context) => (0,_Queries_getMyLeads__WEBPACK_IMPORTED_MODULE_5__.getMyLeads)(parent, _args, context),
        getRequirements: async (parent, _args, context) => (0,_Queries_getRequirements__WEBPACK_IMPORTED_MODULE_6__.getRequirements)(parent, _args, context),
        getLeadAttachments: async (parent, _args, context) => (0,_Queries_getLeadAttachments__WEBPACK_IMPORTED_MODULE_11__.getLeadAttachments)(parent, _args, context),
    },
    Mutation: {
        acceptRejectLeads: async (parent, _args, context) => (0,_Mutations_acceptRejectLeads__WEBPACK_IMPORTED_MODULE_2__.acceptRejectLeads)(parent, _args, context),
        assignTeamsToLead: async (parent, _args, context) => (0,_Mutations_assignTeamToLead__WEBPACK_IMPORTED_MODULE_3__.assignTeamToLead)(parent, _args, context),
        editRequirements: async (parent, _args, context) => (0,_Mutations_editRequirements__WEBPACK_IMPORTED_MODULE_7__.editRequirements)(parent, _args, context),
        uploadLeadFiles: async (parent, _args, context) => (0,_Mutations_uploadLeadFiles__WEBPACK_IMPORTED_MODULE_9__.uploadLeadFiles)(parent, _args, context),
        uploadFilesInLeads: async (parent, _args, context) => (0,_Mutations_uploadFilesInLead__WEBPACK_IMPORTED_MODULE_10__.uploadFilesInLeads)(parent, _args, context),
        updateDesigner: async (parent, _args, context) => (0,_Mutations_updateDesigner__WEBPACK_IMPORTED_MODULE_8__.updateDesigner)(parent, _args, context),
        assignDesigerToLeads: async (parent, _args, context) => (0,_Mutations_assignDesignerToLeadsByStudioManger__WEBPACK_IMPORTED_MODULE_12__.assignDesigerToLeads)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/leads/typedef.ts":
/*!**********************************!*\
  !*** ./src/api/leads/typedef.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "leadsTypedef": () => (/* binding */ leadsTypedef)
/* harmony export */ });
const leadsTypedef = `
    type Leads{
        sfid:String
        id:Int
        firstname:String
        lastname:String
        middlename:String
        mobilephone:String
        status:String
        dsa_code__c:String
        designer_team_name__c:String
        name:String
        region__c:String
        broadcast_status__c:String
        willingness_for_meeting__c: DateTime
        meeting_venue__c: String,
        design_user__c:String,
        has_designer_accepted__c:String
        meeting_type__c:String     
        approx_budget__c:String
        design_user_name__c:String
        email:String
        propertyaddress__c:String
        property_type__c:String
        rejected_by__c:String 
        client_s_budget__c:Float
        lead_owner_name__c:String
        home_type__c: String
    }

    type RequirementFormDD {
        id: Int
        requirementformdetails: JSON
        user: Int
        leadid: Int
        created_at: DateTime
        updated_at: DateTime
    }

    type LeadsResponse{
        code:Int
        message:String,
        data:[Leads]
    }

    type AcceptLeadsResponse{
        code:Int
        message:String,
        data:Leads
    }

    type LeadDetailsRepsone{
        code:Int
        message:String,
        data:Leads
    }

    type AssignTeamsToLeadResponse{
        code:Int
        message:String
    }
    type requirementFormDDResponse { 
        code:Int
        message: String
        data:RequirementFormDD
    }
    type updateDesignerResponse { 
        code:Int
        message: String
    }
    type uploadLeadFilesResponse { 
        code:Int
        message: String
        data:[JSON]
    }
    type uploadFilesResponse { 
        code:Int
        message: String
        data:JSON
    }

    type LeadFiles {
        id: Int
        filekey: String
        contenttype: String
        location: String
        leadid: String
        opportunityid: String
        uploadedby: String
        created_at: DateTime
    }
    type getLeadFilesResponse { 
        code:Int
        message: String
        data:[LeadFiles]
    }

    type Mutation{
        acceptRejectLeads(isAccept:Int,leadSfId:String):AcceptLeadsResponse
        assignDesigerToLeads(userId:Int,leadSfId:String,designerToBeAssigned:String):AcceptLeadsResponse
        assignTeamsToLead(leadId:String):AssignTeamsToLeadResponse
        editRequirements(requirementdetails:JSON!,leadid:Int!,requirementid:Int):requirementFormDDResponse
        updateDesigner(designerId:Int!,leadSfId:String):updateDesignerResponse
        uploadLeadFiles(leadAttachment:[JSON],leadid:String,opportunityid: String):uploadLeadFilesResponse
        uploadFilesInLeads(leadid:String, opportunityid:String, base64:String, filekey:String, contentType:String): uploadFilesResponse
    }

    type Query{
        getBroadcastLeadsForUser:LeadsResponse
        getLeadDetailsById(leadid:String):LeadDetailsRepsone
        getMyLeads(searchText:String,
                    filterPreset:Int,
                    fromDate:DateTime,
                    toDate:DateTime,
                    teamNames:[String],
                    designerNames:[String],
                    citys:[String],
                    experienceCenters:[String],
                    sortByMeetingScheduled:String,
                    sortByName:String):LeadsResponse
        getRequirements(leadid:Int,opportunityid:String):requirementFormDDResponse
        getLeadAttachments(leadid:String,opportunityid:String,type:Int!):getLeadFilesResponse

    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/opportunities/Mutation/assignDesignerToOpportunity.ts":
/*!***********************************************************************!*\
  !*** ./src/api/opportunities/Mutation/assignDesignerToOpportunity.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assignDesignerToOpportunity": () => (/* binding */ assignDesignerToOpportunity)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const assignDesignerToOpportunity = async (_root, args, _context) => {
    const { opportunitySFId, designerSFId } = args;
    try {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.update({
            data: {
                design_user__c: designerSFId
            },
            where: {
                sfid: opportunitySFId
            }
        });
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = "Designer Assigned Successfully to the Opportunity";
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/opportunities/Queries/getMyOpportunities.ts":
/*!*************************************************************!*\
  !*** ./src/api/opportunities/Queries/getMyOpportunities.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMyOpportunities": () => (/* binding */ getMyOpportunities)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");



const getMyOpportunities = async (_parent, args, _context) => {
    var _a;
    const myOpportunitiesResponse = { code: 200, message: "success", data: null };
    try {
        const { searchText, filterPreset, sortByMeetingScheduled, sortByName } = args;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(_context, "DD");
        if (user) {
            const fetcheduser = await (0,_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__.getUser)(user.userid);
            const fetchedProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_profile.findFirst({
                where: {
                    profileid: fetcheduser[0].profileid,
                },
            });
            let whereCondition = {};
            const searchCondition = [
                {
                    name: { contains: searchText ? searchText : "", mode: "insensitive" },
                },
                { mobile__c: { contains: searchText ? searchText : "" } },
            ];
            console.log(32, fetchedProfile.access_level);
            switch (fetchedProfile.access_level) {
                case 0:
                    whereCondition = {
                        design_user__c: user.salesforceuserid,
                        OR: searchCondition,
                        AND: createFilterConditions(args),
                    };
                    break;
                case 1:
                    whereCondition = {
                        AND: {
                            OR: (_a = fetcheduser[0].teams) === null || _a === void 0 ? void 0 : _a.map((team) => {
                                return {
                                    studio_name__c: team.name,
                                };
                            }),
                            AND: createFilterConditions(args),
                        },
                        OR: searchCondition,
                    };
                    break;
                case 2:
                    whereCondition = {
                        AND: {
                            OR: fetcheduser[0].experiencecenters.map((expCenter) => {
                                return {
                                    meeting_venue__c: expCenter.name,
                                };
                            }),
                            AND: createFilterConditions(args),
                        },
                        OR: searchCondition,
                    };
                    break;
                case 3:
                    whereCondition = {
                        AND: {
                            OR: fetcheduser[0].cities.map((city) => {
                                return {
                                    region__c: city.name,
                                };
                            }),
                            AND: createFilterConditions(args),
                        },
                        OR: searchCondition,
                    };
                    break;
                case 4:
                    whereCondition = {
                        OR: searchCondition,
                        AND: createFilterConditions(args),
                    };
                    break;
                default:
                    myOpportunitiesResponse.code = 400;
                    myOpportunitiesResponse.message = "Profile not set for given user";
                    return myOpportunitiesResponse;
            }
            switch (filterPreset) {
                case 1:
                    whereCondition.stagename = "Pending Quote Upload";
                    break;
                case 2:
                    whereCondition.stagename = "Meeting Done";
                    break;
                case 3:
                    whereCondition.stagename = "Proposal Sent";
                    break;
                case 4:
                    whereCondition.stagename = "Awaiting Closure";
                    break;
                case 5:
                    whereCondition.stagename = "Closed Won";
                    break;
                case 6:
                    whereCondition.stagename = "Closed Lost";
                    break;
                default:
                    break;
            }
            const orderByArr = [];
            if (sortByMeetingScheduled) {
                orderByArr.push({ createddate: sortByMeetingScheduled });
            }
            if (sortByName) {
                orderByArr.push({ name: sortByName });
            }
            console.log("whereCondition", JSON.stringify(whereCondition));
            const fetchedOpportunities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.opportunity.findMany({
                where: whereCondition,
                orderBy: orderByArr,
            });
            myOpportunitiesResponse.data = [...fetchedOpportunities];
            console.log(1111, fetchedOpportunities.length);
        }
        else {
            myOpportunitiesResponse.code = 400;
            myOpportunitiesResponse.message = "User Id Not Provided";
        }
    }
    catch (e) {
        myOpportunitiesResponse.code = 400;
        myOpportunitiesResponse.message = e.message;
        myOpportunitiesResponse.data = null;
    }
    return myOpportunitiesResponse;
};
const createFilterConditions = (args) => {
    const { fromDate, toDate, designerNames, stageNames, experienceCenters, regions, teams, } = args;
    const filterConditions = {};
    const orCondition = [];
    if (stageNames) {
        stageNames.forEach((stageName) => {
            orCondition.push({
                stagename: { contains: stageName },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (teams) {
        teams.forEach((team) => {
            orCondition.push({
                studio_name__c: { contains: team, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (designerNames) {
        designerNames.forEach((designerName) => {
            orCondition.push({
                design_user_name__c: { contains: designerName, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (experienceCenters) {
        experienceCenters.forEach((experienceCenter) => {
            orCondition.push({
                meeting_venue__c: { contains: experienceCenter, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (regions) {
        regions.forEach((region) => {
            orCondition.push({
                region__c: { contains: region, mode: "insensitive" },
            });
        });
    }
    filterConditions.AND = orCondition;
    if (fromDate && toDate) {
        orCondition.push({
            createddate: {
                gte: fromDate,
                lte: toDate,
            },
        });
    }
    filterConditions.AND = orCondition;
    return filterConditions;
};


/***/ }),

/***/ "./src/api/opportunities/Queries/getOpportunityById.ts":
/*!*************************************************************!*\
  !*** ./src/api/opportunities/Queries/getOpportunityById.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getOpportunityDetailsById": () => (/* binding */ getOpportunityDetailsById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");
/* harmony import */ var _users_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../users/Queries/GetAllUsers */ "./src/api/users/Queries/GetAllUsers.ts");



const getOpportunityDetailsById = async (_root, args, _context) => {
    const { opportunityId } = args;
    try {
        const fetchedOpportunityDetails = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: {
                sfid: opportunityId
            },
            include: {
                designerUser: {
                    include: {
                        users_city: {
                            include: { city: true },
                        },
                        users_team: {
                            include: { team: true },
                        },
                        users_experiencecenters: {
                            include: { center: true }
                        }
                    }
                }
            }
        });
        console.log(29, fetchedOpportunityDetails);
        if (fetchedOpportunityDetails) {
            const designUser = (0,_users_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_2__.mapAllUsers)((fetchedOpportunityDetails === null || fetchedOpportunityDetails === void 0 ? void 0 : fetchedOpportunityDetails.designerUser) ? [fetchedOpportunityDetails === null || fetchedOpportunityDetails === void 0 ? void 0 : fetchedOpportunityDetails.designerUser] : []);
            if (designUser) {
                fetchedOpportunityDetails.designerUser = designUser[0];
            }
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = fetchedOpportunityDetails;
        }
        else {
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = "No Opportunity found with the given id";
        }
    }
    catch (e) {
        console.log(e);
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/opportunities/resolver.ts":
/*!*******************************************!*\
  !*** ./src/api/opportunities/resolver.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "opportunityResolver": () => (/* binding */ opportunityResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutation_assignDesignerToOpportunity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutation/assignDesignerToOpportunity */ "./src/api/opportunities/Mutation/assignDesignerToOpportunity.ts");
/* harmony import */ var _Queries_getMyOpportunities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Queries/getMyOpportunities */ "./src/api/opportunities/Queries/getMyOpportunities.ts");
/* harmony import */ var _Queries_getOpportunityById__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/getOpportunityById */ "./src/api/opportunities/Queries/getOpportunityById.ts");




const opportunityResolver = {
    Query: {
        getMyOpportunities: (parent, _args, context) => (0,_Queries_getMyOpportunities__WEBPACK_IMPORTED_MODULE_2__.getMyOpportunities)(parent, _args, context),
        getOpportunityDetailsById: (parent, _args, context) => (0,_Queries_getOpportunityById__WEBPACK_IMPORTED_MODULE_3__.getOpportunityDetailsById)(parent, _args, context)
    },
    Mutation: {
        assignDesignerToOpportunity: (parent, _args, context) => (0,_Mutation_assignDesignerToOpportunity__WEBPACK_IMPORTED_MODULE_1__.assignDesignerToOpportunity)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/opportunities/typedef.ts":
/*!******************************************!*\
  !*** ./src/api/opportunities/typedef.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "opportunityTypedef": () => (/* binding */ opportunityTypedef)
/* harmony export */ });
const opportunityTypedef = `
    type Opportunity{
        sfid:String
        id:Int
        name:String
        stagename:String
        team__c:String
        lead_id__c:String
        design_user__c:String
        design_user_name__c: String
        client_s_budget__c:Float
        signup_amount__c:Float
        amount:Float
        proposed_budget__c:Float
        studio_name__c:String
        mobile__c:String
        meeting_venue__c:String
        createddate:DateTime
        region__c:String
    }

    type GetOpportunityById{
        sfid:String
        name:String
        email__c:String
        mobile__c:String
        customer_id__c:String
        amount:Float
        stagename:String
        salesmanagername__c:String
        property_address__c:String
        home_type__c:String
        studio_name__c:String
        designer_user__c:String
        client_s_budget__c:String
        designerUser:Users
        region__c:String
        createddate:DateTime
    }

    type AssignDesignerToOpportunityResponse{
        code:Int
        message:String
    }

    type GetMyOpportunity{
        code:Int,
        message:String,
        data:[Opportunity]
    }

    type GetOpportunityDetailsByIdResponse{
        code:Int,
        message:String,
        data:GetOpportunityById
    }

    type Query{
        getMyOpportunities(
            searchText:String,
            filterPreset:Int,
            fromDate:DateTime,
            toDate:DateTime,
            designerNames:[String],
            stageNames:[String],
            experienceCenters:[String],
            regions:[String],
            teams:[String],
            sortByMeetingScheduled:String,
            sortByName:String):GetMyOpportunity
        
        getOpportunityDetailsById(opportunityId:String):GetOpportunityDetailsByIdResponse
    }

    type Mutation{
        assignDesignerToOpportunity(opportunitySFId:String,designerSFId:String):AssignDesignerToOpportunityResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/authentication/Mutation/AuthenticationToken.ts":
/*!************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/authentication/Mutation/AuthenticationToken.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class AuthenticationToken extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    async authenticationTokenData(clientId) {
        return this.post('authenticate', {
            clientId
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthenticationToken);


/***/ }),

/***/ "./src/api/paymentMicroservice/authentication/resolver.ts":
/*!****************************************************************!*\
  !*** ./src/api/paymentMicroservice/authentication/resolver.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "authenticationTokenReslover": () => (/* binding */ authenticationTokenReslover)
/* harmony export */ });
const authenticationTokenReslover = {
    Mutation: {
        AuthenticationToken: async (_, { clientId }, { dataSources }) => dataSources.AuthenticationToken.authenticationTokenData(clientId)
    },
};


/***/ }),

/***/ "./src/api/paymentMicroservice/authentication/typedef.ts":
/*!***************************************************************!*\
  !*** ./src/api/paymentMicroservice/authentication/typedef.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "authenticationTokenTypedef": () => (/* binding */ authenticationTokenTypedef)
/* harmony export */ });
const authenticationTokenTypedef = `
scalar JSON
type authenticationdata{
    statusCode:Int
    code:Int
    message:String
    accessToken:String
}
type Mutation {
    AuthenticationToken(clientId:String):authenticationdata
}
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/customer/Mutations/UpdateCustomer.ts":
/*!**************************************************************************!*\
  !*** ./src/api/paymentMicroservice/customer/Mutations/UpdateCustomer.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class UpdateCustomer extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
        console.log(request.headers);
    }
    async updateCustomerData(args) {
        const { PAN, l10n_in_gst_treatment, GST, customerPhone, customerName, customerEmail, customerBillingAddress } = args.customer;
        return this.put('customer', {
            PAN,
            l10n_in_gst_treatment,
            GST,
            customerPhone,
            customerName,
            customerEmail,
            customerBillingAddress
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdateCustomer);


/***/ }),

/***/ "./src/api/paymentMicroservice/customer/Queries/getCustomerAddress.ts":
/*!****************************************************************************!*\
  !*** ./src/api/paymentMicroservice/customer/Queries/getCustomerAddress.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCustomerAddress": () => (/* binding */ getCustomerAddress)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getCustomerAddress = async (root, args, context) => {
    let CustomerAddressResponseObj;
    try {
        const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({ where: { customerid: args.customerid } });
        const customerInfo = {
            customername: customer.firstname,
            customeremail: customer.customeremail,
            customerphone: customer.customerphone,
            pan: customer.pancardno,
            gst: customer.gstno
        };
        const address = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({ where: { customerid: args.customerid, addresstype: 1 } });
        console.log("address", address);
        const billingAddress = {
            zip: address.zip,
            street: address.street,
            state: address.state,
            city: address.city,
            country: address.country
        };
        let shippingAddress = null;
        const CustomerSaddress = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({ where: { addresstype: 2, customerid: args.customerid } });
        console.log(CustomerSaddress);
        if (CustomerSaddress) {
            shippingAddress = {
                zip: CustomerSaddress.zip,
                street: CustomerSaddress.street,
                state: CustomerSaddress.state,
                city: CustomerSaddress.city,
                country: CustomerSaddress.country
            };
        }
        CustomerAddressResponseObj = {
            code: 200, message: "success", customerInfo: customerInfo, billingAddress: billingAddress, shippingAddress: shippingAddress
        };
        return CustomerAddressResponseObj;
    }
    catch (error) {
        CustomerAddressResponseObj = { code: 400, message: error.message };
        return CustomerAddressResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/customer/resolver.ts":
/*!**********************************************************!*\
  !*** ./src/api/paymentMicroservice/customer/resolver.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "customerPaymentReslovers": () => (/* binding */ customerPaymentReslovers)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getCustomerAddress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getCustomerAddress */ "./src/api/paymentMicroservice/customer/Queries/getCustomerAddress.ts");


const customerPaymentReslovers = {
    Mutation: {
        UpdateCustomer: async (_, args, { dataSources, req }) => dataSources.UpdateCustomer.updateCustomerData(args, req)
    },
    Query: {
        getCustomerAddress: async (parent, _args, context) => (0,_Queries_getCustomerAddress__WEBPACK_IMPORTED_MODULE_1__.getCustomerAddress)(parent, _args, context),
    },
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/paymentMicroservice/customer/typedefs.ts":
/*!**********************************************************!*\
  !*** ./src/api/paymentMicroservice/customer/typedefs.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "customerPaymentTypedef": () => (/* binding */ customerPaymentTypedef)
/* harmony export */ });
const customerPaymentTypedef = `
scalar JSON

type customerdata{
    statusCode:Int
    message:String
    code:Int
}
input AddressToBeUpdated{
    zipOrPostalCode:String
    street:String
    state:String
    country:String
    city:String
}

type addressResponse{
    message:String
    code:Int
    customerInfo:JSON
    billingAddress:JSON
    shippingAddress:JSON
}

input CustomerToBeUpdated{
    PAN: String
    l10n_in_gst_treatment: String
    GST: String
    customerPhone: String
    customerName: String
    customerEmail: String
    customerBillingAddress: [AddressToBeUpdated]
}


type Mutation {
UpdateCustomer(customer:CustomerToBeUpdated):customerdata
}

type Query {
    getCustomerAddress(customerid:Int):addressResponse
}
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/Mutation/CalculateInvoicenewflow.ts":
/*!*********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/Mutation/CalculateInvoicenewflow.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CalculateInvoicenewflow": () => (/* binding */ CalculateInvoicenewflow)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/PaymentCategoryEnum */ "./src/domain/enumerations/PaymentCategoryEnum.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _domain_Requestdata_Invoicegenerationrequestmodel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/Requestdata/Invoicegenerationrequestmodel */ "./src/domain/Requestdata/Invoicegenerationrequestmodel.ts");





const CalculateInvoicenewflow = async (root, args, context) => {
    const { category, clientid, milestoneName } = args;
    let baseAmount;
    const additionalCharge = 0;
    const defaultStatus = "Draft";
    const Invoice = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_odooinvoice.findFirst({
        where: {
            category: category,
            clientid: clientid,
            milestone: milestoneName,
        },
    });
    if (Invoice) {
        return {
            code: 200,
            message: "Invoice Already available",
            data: Invoice
        };
    }
    else {
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                projectid: clientid
            }
        });
        const invoicecalculatedAmount = await calculateInvoiceAmount(category, milestoneName, project);
        baseAmount = Math.floor((invoicecalculatedAmount * 100) / 118);
        const payMiRequestObj = new _domain_Requestdata_Invoicegenerationrequestmodel__WEBPACK_IMPORTED_MODULE_4__["default"]();
        payMiRequestObj.milestone = milestoneName;
        payMiRequestObj.clientID = clientid;
        payMiRequestObj.category = category;
        payMiRequestObj.currentProjectValue = project.totalprojectvalue;
        payMiRequestObj.currentModularValue = project.projectmodularvalue;
        payMiRequestObj.currentSiteServicesValue = project.projectsiteservicesvalue;
        payMiRequestObj.baseAmount = baseAmount;
        payMiRequestObj.additionalCharge = additionalCharge;
        payMiRequestObj.status = defaultStatus;
        const paymiRes = await getPaymiConnection();
        const authToken = paymiRes.accessToken;
        console.log(payMiRequestObj);
        const url = process.env.apiEndpoint + "generateNewProjectInvoice";
        const payMiResponse = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(url)
            .send({ invoiceData: payMiRequestObj })
            .set("Content-Type", "application/json")
            .set("Authorization", authToken);
        console.log(payMiResponse.body);
        if (payMiResponse.body.statusCode !== 200) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, payMiResponse.body.message);
        }
        if (!payMiResponse.body.data.invoiceId) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Invalid Microservice response body");
        }
        return {
            code: 200,
            message: "Invoice amount generated successfully",
            data: invoicecalculatedAmount,
        };
    }
};
const calculateInvoiceAmount = async (category, mileStone, project) => {
    let totalAmount;
    if (category.toLowerCase() === _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__["default"].MODULAR) {
        totalAmount = project.projectmodularvalue;
        let milestoneAmountValue;
        if (mileStone === "15%") {
            milestoneAmountValue = (totalAmount * 20) / 100;
        }
        else if (mileStone === "35%") {
            milestoneAmountValue = (totalAmount * 55) / 100;
        }
        else if (mileStone === "45%") {
            milestoneAmountValue = totalAmount;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Modular MileStone Mismatch");
        }
        const invoiceAmount = await calculateFinalAmount(category, project);
        return milestoneAmountValue - invoiceAmount;
    }
    else if (category.toLowerCase() === _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SITE_SERVICE) {
        totalAmount = project.projectsiteservicesvalue;
        let milestoneAmountValue;
        if (mileStone === "45%") {
            milestoneAmountValue = (totalAmount * 50) / 100;
        }
        else if (mileStone === "50%") {
            milestoneAmountValue = totalAmount;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Site Services MileStone Mismatch");
        }
        const invoiceAmount = await calculateFinalAmount(category, project);
        return milestoneAmountValue - invoiceAmount;
    }
    else {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Payment Category Mismatch");
    }
};
const calculateFinalAmount = async (category, project) => {
    let invoiceAmount = 0;
    const invoices = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_odooinvoice.findMany({
        where: {
            category: category,
            clientid: project.projectid,
        }
    });
    if (invoices) {
        for (const invoice of invoices) {
            console.log(invoice);
            invoiceAmount = invoiceAmount + invoice.invoiceamount;
        }
    }
    return invoiceAmount;
};
const getPaymiConnection = async () => {
    const finalUrl = process.env.apiEndpoint + "authenticate";
    console.log(finalUrl);
    const reqBody = {
        clientId: process.env.CDClientId
    };
    try {
        const res = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(finalUrl)
            .set("Content-Type", "application/json")
            .send(reqBody);
        return res.body;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoicenewflow.ts":
/*!********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoicenewflow.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class GenerateInvoicenewflow extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async generateInvoiceNewFlowData(args) {
        const { invoiceData } = args;
        const { milestone, currentProjectValue, clientID, category, currentModularValue, currentSiteServicesValue, baseAmount, additionalCharge, status } = invoiceData;
        return this.post('generateNewProjectInvoice', {
            invoiceData: {
                milestone,
                currentProjectValue,
                clientID,
                category,
                currentModularValue,
                currentSiteServicesValue,
                baseAmount,
                additionalCharge,
                status
            }
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GenerateInvoicenewflow);


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoiceoldflow.ts":
/*!********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoiceoldflow.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "generateInvoiceOldFlow": () => (/* binding */ generateInvoiceOldFlow)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _domain_Requestdata_Microserviceinvoicerequestmodel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/Requestdata/Microserviceinvoicerequestmodel */ "./src/domain/Requestdata/Microserviceinvoicerequestmodel.ts");





const generateInvoiceOldFlow = async (root, args, context) => {
    const { projectid, milestoneid, isRegenerate } = args;
    const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({ where: { id: projectid } });
    if (project.customerid === null) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Customer Information not found");
    }
    else {
        const milestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({ where: { id: milestoneid } });
        const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({ where: { customerid: project.customerid } });
        const address = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({ where: { customerid: customer.customerid } });
        const billingAddressIn = new _domain_Requestdata_Microserviceinvoicerequestmodel__WEBPACK_IMPORTED_MODULE_4__.AddressModel();
        billingAddressIn.country = address.country;
        billingAddressIn.street = address.street;
        billingAddressIn.city = address.city;
        billingAddressIn.zipOrPostalCode = address.zip;
        billingAddressIn.shippingState = address.state;
        const shippingAddressIn = new _domain_Requestdata_Microserviceinvoicerequestmodel__WEBPACK_IMPORTED_MODULE_4__.AddressModel();
        shippingAddressIn.country = address.country;
        shippingAddressIn.street = address.street;
        shippingAddressIn.city = address.city;
        shippingAddressIn.zipOrPostalCode = address.zip;
        shippingAddressIn.shippingState = address.state;
        const microserviceRequestDataInvoice = new _domain_Requestdata_Microserviceinvoicerequestmodel__WEBPACK_IMPORTED_MODULE_4__["default"]();
        if (milestone.paymentvalue === "5%") {
            microserviceRequestDataInvoice.paymentName = `${milestone.paymentvalue} supply of interior works`;
        }
        else if (milestone.paymentvalue === "100%") {
            microserviceRequestDataInvoice.paymentName = "deep cleaning";
        }
        else {
            microserviceRequestDataInvoice.paymentName = `${milestone.paymentvalue} supply of works`;
        }
        microserviceRequestDataInvoice.customerName = customer.firstname;
        microserviceRequestDataInvoice.customerEmail = customer.customeremail;
        microserviceRequestDataInvoice.customerPhone = customer.customerphone;
        microserviceRequestDataInvoice.customerShippingAddress = shippingAddressIn;
        console.log(shippingAddressIn);
        microserviceRequestDataInvoice.customerBillingAddress = billingAddressIn;
        microserviceRequestDataInvoice.projectID = project.projectid;
        microserviceRequestDataInvoice.projectName = project.projectname;
        microserviceRequestDataInvoice.projectStatus = `${project.projectstatus}`;
        microserviceRequestDataInvoice.requestName = "GENERATE_INVOICE";
        if (milestone.paymentvalue === "5%") {
            microserviceRequestDataInvoice.paymentName = `${milestone.paymentvalue} supply of interior works`;
        }
        else if (milestone.paymentvalue === "100%") {
            microserviceRequestDataInvoice.paymentName = "deep cleaning";
        }
        else {
            microserviceRequestDataInvoice.paymentName = `${milestone.paymentvalue} supply of works`;
        }
        const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({ where: { centerid: project.experiencecenterid } });
        microserviceRequestDataInvoice.applicationId = "DESIGNER_DASHBOARD";
        microserviceRequestDataInvoice.invoiceDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format("DD/MM/YYYY");
        microserviceRequestDataInvoice.projectValue = Number(project.projectvalue);
        microserviceRequestDataInvoice.amount = Number(milestone.modularamount);
        microserviceRequestDataInvoice.experienceCenter = experienceCenter.name;
        microserviceRequestDataInvoice.milestonePendingDue = Number(milestone.amountdue);
        if (milestone.invoicenumber) {
            microserviceRequestDataInvoice.invoiceNumber = milestone.invoicenumber;
        }
        microserviceRequestDataInvoice.invoiceNumber = "null";
        microserviceRequestDataInvoice.projectModularValue = Number(project.modularvalue);
        microserviceRequestDataInvoice.projectDecorValue = Number(project.decorvalue);
        microserviceRequestDataInvoice.projectSiteServicesValue = Number(project.siteservicevalue);
        if (Number(milestone.addonamount) > 0) {
            const addOnObj = new _domain_Requestdata_Microserviceinvoicerequestmodel__WEBPACK_IMPORTED_MODULE_4__.AddOnPaymentObject();
            addOnObj.amount = Number(milestone.addonamount);
            addOnObj.paymentName = "50% Addon Service";
            addOnObj.quantity = 1;
            microserviceRequestDataInvoice.extraPayments = [addOnObj];
        }
        if (isRegenerate) {
            microserviceRequestDataInvoice.requestName = "REGENERATE_INVOICE";
            microserviceRequestDataInvoice.invoiceNumber = milestone.invoicenumber;
            microserviceRequestDataInvoice.invoiceDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(milestone.invoicedate).format("DD/MM/YYYY");
        }
        microserviceRequestDataInvoice.paymentMilestoneID = milestoneid;
        const url = `${process.env.apiEndpoint}generateInvoice`;
        console.log(url);
        const invoice = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(url)
            .send({ invoiceData: microserviceRequestDataInvoice })
            .set("Content-Type", "application/json");
        console.log("============================================Invoice: ", JSON.stringify(invoice.body));
        if (invoice.body.statusCode !== 200) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, invoice.body.message);
        }
        if (!invoice.body.data.invoice) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Invalid Microservice response body");
        }
        const microserviceResponse = invoice.body.data.invoice;
        let totalExtraPayment = 0;
        if (microserviceResponse.extraPaymentsInvoiceBreakup) {
            microserviceResponse.extraPaymentsInvoiceBreakup.forEach((element) => {
                totalExtraPayment = totalExtraPayment + element.totalAmount;
            });
        }
        const updatedMilestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
            data: {
                invoicebaseamount: microserviceResponse.invoiceBreakUp.baseAmount,
                invoicenumber: microserviceResponse.invoiceNumber,
                invoicetotalamount: microserviceResponse.invoiceBreakUp.totalAmount + totalExtraPayment,
                invoicetotaltaxamount: microserviceResponse.invoiceBreakUp.totalTaxValue,
                invoicetotalcgstaxamount: microserviceResponse.invoiceBreakUp.CGST,
                invoicetotalsgsttaxamount: microserviceResponse.invoiceBreakUp.SGST,
                invoicetotaligsttaxamount: microserviceResponse.invoiceBreakUp.IGST,
                invoicedate: microserviceResponse.invoiceDate,
                invoiceurl: microserviceResponse.invoicePdf,
                paymentlink: invoice.body.data.invoice.paymentLink,
                paymentlinkid: invoice.body.data.invoice.paymentlinkid,
                rpayorderid: invoice.body.data.invoice.rpayorderid,
                receiptid: invoice.body.data.invoice.receiptid
            },
            where: { id: milestoneid }
        });
        return {
            data: updatedMilestone,
            message: "success",
            code: 200
        };
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/Mutation/UpdateInvoiceoldflow.ts":
/*!******************************************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/Mutation/UpdateInvoiceoldflow.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdateInvoiceOldFlow": () => (/* binding */ UpdateInvoiceOldFlow)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/Requestdata/Paymentmilestoneupdaterequestmodel */ "./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_3__);




const UpdateInvoiceOldFlow = async (root, args, context) => {
    const { projectid, milestoneid, invoicedate, invoiceamount } = args;
    const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { id: projectid }
    });
    if (project.customerid === null) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Customer Information not found");
    }
    const customerid = project.customerid;
    const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
        where: { customerid: customerid }
    });
    const milestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
        where: { id: milestoneid }
    });
    const billingadd = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({
        where: { customerid: customerid }
    });
    const microserviceRequestDataResponse = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.MicroserviceManualInvoiceRequestModel();
    microserviceRequestDataResponse.invoicenumber = milestone.invoicenumber;
    microserviceRequestDataResponse.customershippingaddress = customer.projectaddress;
    const billingAddress = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.AddressModel();
    billingAddress.country = billingadd.country;
    billingAddress.street = billingadd.street;
    billingAddress.city = billingadd.city;
    billingAddress.ziporpostalcode = billingadd.zip;
    billingAddress.shippingstate = billingadd.state;
    microserviceRequestDataResponse.firstname = customer.firstname;
    microserviceRequestDataResponse.customeremail = customer.customeremail;
    microserviceRequestDataResponse.customerphone = customer.customerphone;
    microserviceRequestDataResponse.customerbillingaddress = billingAddress;
    microserviceRequestDataResponse.projectid = project.projectid;
    microserviceRequestDataResponse.projectname = project.projectname;
    microserviceRequestDataResponse.projectstatus = `${project.projectstatus}`;
    microserviceRequestDataResponse.requestname = "SAVE_INVOICE";
    let paymentName;
    if (milestone.paymentvalue === "5%") {
        paymentName = `${milestone.paymentvalue} supply of interior works`;
    }
    else if (milestone.paymentvalue === "100%") {
        paymentName = "deep cleaning";
    }
    else {
        paymentName = `${milestone.paymentvalue} supply of works`;
    }
    microserviceRequestDataResponse.paymentname = paymentName;
    microserviceRequestDataResponse.applicationid = "DESIGNER_DASHBOARD";
    microserviceRequestDataResponse.invoicedate = invoicedate;
    microserviceRequestDataResponse.projectvalue = Number(project.totalprojectvalue);
    microserviceRequestDataResponse.amount = Number(invoiceamount);
    microserviceRequestDataResponse.milestonependingdue =
        Number(invoiceamount) - Number(milestone.amountpaid);
    const milestonestatus = milestone.status;
    microserviceRequestDataResponse.paymentstatus = getPaymentStatusName(milestonestatus);
    microserviceRequestDataResponse.amountpaid = Number(milestone.amountpaid);
    microserviceRequestDataResponse.amountdue =
        Number(invoiceamount) - Number(milestone.amountpaid);
    const url = `${process.env.apiEndpoint}designer-dashboard/save-invoice-data`;
    console.log("MICRO SERVICE URL==========>>>>>", url);
    const invoice = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(url)
        .send(microserviceRequestDataResponse)
        .set("Content-Type", "application/json");
    if (invoice.body.statusCode !== 200) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, invoice.body.message);
    }
    const microserviceResponse = invoice.body.data;
    const totalAmount = microserviceResponse.invoicebreakup.totalamount;
    const milestoneDueAmount = Number(totalAmount) - Number(milestone.amountpaid) -
        Number(milestone.advanceamount);
    let isfreezed;
    let Status;
    if (milestoneDueAmount > 0) {
        isfreezed = false;
        Status = "PARTIALLY_PAID";
    }
    else {
        isfreezed = true;
        Status = "PAID";
    }
    if (Number(milestone.amountpaid) === 0) {
        Status = "PENDING";
    }
    const updatedMilestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
        data: {
            invoicebaseamount: microserviceResponse.invoicebreakup.baseamount,
            invoicetotalamount: microserviceResponse.invoicebreakup.totalamount,
            invoicetotaltaxamount: microserviceResponse.invoicebreakup.totaltaxvalue,
            invoicetotalcgstaxamount: microserviceResponse.invoicebreakup.cgst,
            invoicetotalsgsttaxamount: microserviceResponse.invoicebreakup.sgst,
            invoicetotaligsttaxamount: microserviceResponse.invoicebreakup.igst,
            invoicedate: microserviceResponse.invoicedate,
            totalpayableamount: microserviceResponse.invoicebreakup.totalamount,
            amountdue: milestoneDueAmount,
            isfreezed: isfreezed,
            status: Status
        },
        where: { id: milestoneid }
    });
    console.log(updatedMilestone);
    return {
        data: updatedMilestone,
        message: "success",
    };
};
const getPaymentStatusName = async (milestonestatus) => {
    let status;
    switch (milestonestatus) {
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.PaymentStatusEnum.PAID:
            status = "PAID";
            break;
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.PaymentStatusEnum.PARTIAL_PAYMENT:
            status = "PARTIALLY_PAID";
            break;
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.PaymentStatusEnum.PENDING:
            status = "PENDING";
            break;
    }
    return status;
};


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/Queries/getInvoicenewflow.ts":
/*!**************************************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/Queries/getInvoicenewflow.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getInvoiceNewFlow": () => (/* binding */ getInvoiceNewFlow)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getInvoiceNewFlow = async (root, args, context) => {
    let invoiceResponseObj;
    try {
        const pr = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_odooinvoice.findMany({ where: { clientid: args.id } });
        invoiceResponseObj = { code: 200, message: "success", data: pr };
        return invoiceResponseObj;
    }
    catch (error) {
        invoiceResponseObj = { code: 400, message: error.message };
        return invoiceResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/resolvers.ts":
/*!**********************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/resolvers.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InvoiceResolver": () => (/* binding */ InvoiceResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutation_CalculateInvoicenewflow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutation/CalculateInvoicenewflow */ "./src/api/paymentMicroservice/invoice/Mutation/CalculateInvoicenewflow.ts");
/* harmony import */ var _Mutation_GenerateInvoiceoldflow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutation/GenerateInvoiceoldflow */ "./src/api/paymentMicroservice/invoice/Mutation/GenerateInvoiceoldflow.ts");
/* harmony import */ var _Queries_getInvoicenewflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/getInvoicenewflow */ "./src/api/paymentMicroservice/invoice/Queries/getInvoicenewflow.ts");
/* harmony import */ var _Mutation_UpdateInvoiceoldflow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutation/UpdateInvoiceoldflow */ "./src/api/paymentMicroservice/invoice/Mutation/UpdateInvoiceoldflow.ts");





const InvoiceResolver = {
    Mutation: {
        generateInvoiceOldFlow: async (parent, _args, context) => (0,_Mutation_GenerateInvoiceoldflow__WEBPACK_IMPORTED_MODULE_2__.generateInvoiceOldFlow)(parent, _args, context),
        GenerateInvoicenewflow: async (_, args, { dataSources, req }) => dataSources.GenerateInvoicenewflow.generateInvoiceNewFlowData(args, req),
        CalculateInvoicenewflow: async (parent, _args, context) => (0,_Mutation_CalculateInvoicenewflow__WEBPACK_IMPORTED_MODULE_1__.CalculateInvoicenewflow)(parent, _args, context),
        UpdateInvoiceOldFlow: async (parent, _args, context) => (0,_Mutation_UpdateInvoiceoldflow__WEBPACK_IMPORTED_MODULE_4__.UpdateInvoiceOldFlow)(parent, _args, context)
    },
    Query: {
        getInvoiceNewFlow: async (parent, _args, context) => (0,_Queries_getInvoicenewflow__WEBPACK_IMPORTED_MODULE_3__.getInvoiceNewFlow)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/paymentMicroservice/invoice/typedefs.ts":
/*!*********************************************************!*\
  !*** ./src/api/paymentMicroservice/invoice/typedefs.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InvoiceTypedef": () => (/* binding */ InvoiceTypedef)
/* harmony export */ });
const InvoiceTypedef = `
scalar JSON
input invoiceRequestData{
    milestone:String
    currentProjectValue:Float
    clientID: String
    category:String
    currentModularValue:Float
    currentSiteServicesValue:Float
    baseAmount:Float
    additionalCharge:Float
    status:String
}


type generateInvoiceoldflowResponse{
    message:String
    data:JSON
    code:Int
}

type generateNewInvoiceResponse{
    code:Int
    message: String
    data:JSON
}
type getInvoice{
    code:Int
    message: String
    data:JSON
}

type calculateInvoiceNewFlowData{
    code:Int
    message: String
    data:JSON
}
type updateInvoiceoldflow{
    data:JSON
    message: String
    code:Int
}

type Mutation{

    generateInvoiceOldFlow(
        projectid: Int
        milestoneid: Int
        isRegenerate:Boolean
    ):generateInvoiceoldflowResponse

    GenerateInvoicenewflow(invoiceData:invoiceRequestData):generateNewInvoiceResponse
    CalculateInvoicenewflow(
        category:String
        clientid:String
        milestoneName:String
    ):calculateInvoiceNewFlowData
    UpdateInvoiceOldFlow(
        projectid:String,
        milestoneid:Int,
        invoicedate:String,
        invoiceamount:Float
    ):updateInvoiceoldflow
}

type Query {
    getInvoiceNewFlow(id:String):getInvoice
}
scalar DateTime
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentConformation.ts":
/*!***************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentConformation.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddPaymentConformation": () => (/* binding */ AddPaymentConformation)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/PaymentModeEnum */ "./src/domain/enumerations/PaymentModeEnum.ts");
/* harmony import */ var _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/Requestdata/Paymentmilestoneupdaterequestmodel */ "./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! shortid */ "shortid");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(shortid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../utils/commonUtils */ "./src/utils/commonUtils.ts");








const AddPaymentConformation = async (root, args, context) => {
    let attachmentURL;
    const { transcationid, projectid, receivedamount, modeofpayment, receiveddate, attachment, milestoneid } = args;
    let addPaymentconformationResponseObj;
    const duplicateRecord = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findFirst({ where: { transactionid: transcationid } });
    console.log(duplicateRecord);
    if (!duplicateRecord) {
        if (modeofpayment === _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CASH &&
            Number(receivedamount) >= 200000) {
            console.log(92);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Cash Payment not allowed for more than Rs 1,99,999");
        }
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({ where: { projectid: projectid } });
        console.log("project", project);
        const milestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({ where: { id: milestoneid } });
        const AddPaymentReceiptRequest = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.AddPaymentReceiptRequestData();
        if (attachment) {
            const attachmentFile = {
                key: attachment.fileName,
                contentType: attachment.contentType,
                base64: attachment.fileBase64,
            };
            const fileObj = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_6__.UploadFileOnS3)(attachmentFile);
            AddPaymentReceiptRequest.supportingDocumentURL = fileObj.Location;
            AddPaymentReceiptRequest.awsSupportingDocumentURLKey = fileObj.key;
        }
        const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: { customerid: project.customerid }
        });
        console.log(customer);
        if (modeofpayment === _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CASH ||
            modeofpayment === _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].IMPS ||
            modeofpayment === _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].NEFT ||
            modeofpayment === _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CHEQUE) {
            const updatepaymentlinkargs = {
                project, milestone, customer,
                receivedamount, receiveddate, transcationid, modeofpayment, attachmentURL
            };
            const updatedPaymentLink = await captureManualPaymentOnMicroservice(updatepaymentlinkargs);
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    paymentlink: updatedPaymentLink
                },
                where: { id: milestoneid }
            });
        }
        let advanceForNextMilestone = 0;
        const updatedAmountPaidValue = Number(milestone.amountpaid) + Number(receivedamount);
        if (updatedAmountPaidValue > Number(milestone.totalpayableamount)) {
            advanceForNextMilestone = updatedAmountPaidValue - Number(milestone.totalpayableamount);
            console.log("advanceForNextMilestone", advanceForNextMilestone);
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
            data: {
                amountpaid: Math.floor(updatedAmountPaidValue)
            },
            where: { id: milestoneid }
        });
        const updatedAmountDue = Number(milestone.totalpayableamount) - updatedAmountPaidValue - Number(milestone.advanceamount);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
            data: {
                amountdue: updatedAmountDue
            },
            where: { id: milestoneid }
        });
        if (updatedAmountDue <= 5) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    freezedmodular: milestone.modularamount,
                    isfreezed: true,
                    status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.PaymentStatusEnum.PAID
                },
                where: { id: milestoneid }
            });
        }
        else {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.PaymentStatusEnum.PARTIAL_PAYMENT
                },
                where: { id: milestoneid }
            });
        }
        console.log(264264, project, project.achievedrevenuevalue);
        const projectUpdateModel = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.ProjectUpdateRequestModel();
        const Id = shortid__WEBPACK_IMPORTED_MODULE_5___default().generate();
        const paymentId = Id;
        const res1 = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findFirst({
            where: { transactionid: transcationid }
        });
        console.log(res1);
        const res = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.update({
            data: {
                paymentname: milestone.paymentvalue,
                receivedamount: receivedamount,
                paymentreceiveddate: receiveddate,
                paymentid: "PIO-" + paymentId,
                paymentmillestoneid: milestoneid,
                projectid: projectid,
                clientid: projectid
            },
            where: { id: res1.id }
        });
        console.log("paymentconformationdata", res);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            data: {
                achievedrevenuevalue: Math.floor(Number(project.achievedrevenuevalue) + Number(receivedamount)),
                pendingamountvalue: Math.floor(Number(project.totalprojectvalue) - Number(projectUpdateModel.achievedrevenuevalue)),
            },
            where: { projectid: projectid }
        });
        console.log(res.paymentid);
        console.log("----------paymentMilestoneRepository-------9");
        console.log("----------ADD ADVANCE TO NEXT MILESTONE----------10");
        if (advanceForNextMilestone > 0) {
            const nextMilestoneIndex = milestone.sequence + 1;
            console.log(340340, nextMilestoneIndex);
            let nextMilestoneID;
            if (project.paymentmilestonelist) {
                console.log("if");
                project.paymentmilestonelist.filter((o) => o.sequence === nextMilestoneIndex);
            }
            else {
                console.log("else");
                const getPaymentMileStoneList = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({ where: { projectid: project.id } });
                if (getPaymentMileStoneList && getPaymentMileStoneList.length > 0) {
                    getPaymentMileStoneList.filter((o) => o.sequence === nextMilestoneIndex);
                }
                else {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, 'No Payment Milestones found for this project');
                }
                console.log(345345, nextMilestoneID);
                if (nextMilestoneID) {
                    const nextMilestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({ where: { id: nextMilestoneID[0].id } });
                    const updatedNextMilestone = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.MilestoneUpdateRequestModel();
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                        data: { advanceamount: Math.floor(Number(nextMilestone.advanceamount) + Number(advanceForNextMilestone)) },
                        where: { id: nextMilestoneID[0].id }
                    });
                    const amountDue = Math.floor(nextMilestone.totalpayableamount -
                        nextMilestone.amountpaid - parseInt(updatedNextMilestone.advanceamount, 10));
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                        data: { amountdue: amountDue },
                        where: { id: nextMilestoneID[0].id }
                    });
                    if (amountDue > 0) {
                        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                            data: {
                                status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.PaymentStatusEnum.PARTIAL_PAYMENT,
                                isfreezed: false,
                                freezedmodular: 0
                            },
                            where: { id: nextMilestoneID[0].id }
                        });
                    }
                    else {
                        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                            data: {
                                status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.PaymentStatusEnum.PAID,
                                isfreezed: true,
                                freezedmodular: nextMilestone.amountpaid
                            },
                            where: { id: nextMilestoneID[0].id }
                        });
                    }
                }
            }
        }
        await callAddPaymentReceiveNotification(project, receivedamount, receiveddate);
        addPaymentconformationResponseObj = { message: "success", data: res, code: 200 };
        return addPaymentconformationResponseObj;
    }
};
const captureManualPaymentOnMicroservice = async (updatepaymentlinkargs) => {
    const { project, milestone, customer, receivedamount, receiveddate, transcationid, modeofpayment, attachmentURL } = updatepaymentlinkargs;
    try {
        const manualPaymentData = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_3__.CaptureManualPaymentModel();
        console.log(project.projectid);
        manualPaymentData.projectId = project.projectid;
        manualPaymentData.projectName = project.projectname;
        manualPaymentData.invoiceNumber = milestone.invoicenumber;
        manualPaymentData.paymentId =
            milestone.paymentValue =  true ? `${milestone.paymentvalue} supply of interior works` : 0;
        manualPaymentData.amountPaid = Number(receivedamount);
        manualPaymentData.paymentReceivedDate = receiveddate;
        manualPaymentData.transactionId = transcationid;
        switch (modeofpayment) {
            case _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CASH:
                manualPaymentData.paymentMode = "CASH";
                break;
            case _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CHEQUE:
                manualPaymentData.paymentMode = "CHEQUE";
                break;
            case _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].IMPS:
                manualPaymentData.paymentMode = "IMPS";
                break;
            case _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].NEFT:
                manualPaymentData.paymentMode = "NEFT";
                break;
            case _domain_enumerations_PaymentModeEnum__WEBPACK_IMPORTED_MODULE_2__["default"].ONLINE:
                manualPaymentData.paymentMode = "ONLINE";
                break;
        }
        manualPaymentData.customerPhone = customer.customerphone;
        manualPaymentData.projectName = project.projectname;
        manualPaymentData.milestoneId = milestone.id;
        manualPaymentData.isFromDD = true;
        if (attachmentURL) {
            manualPaymentData.paymentReceipt = attachmentURL;
        }
        console.log("Customer:=----- ", customer);
        console.log("captureManualPaymentOnMicroservice Payment Request Data: ", manualPaymentData);
        const url = process.env.apiEndpoint + `captureManualPayment`;
        const paymentCapture = await superagent__WEBPACK_IMPORTED_MODULE_4___default().post(url)
            .send(manualPaymentData)
            .set("Content-Type", "application/json");
        console.log("============================================paymentCapture: ", JSON.stringify(paymentCapture.body));
        if (paymentCapture.body.statusCode !== 200) {
            console.log(611);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, paymentCapture.body.message);
        }
        let updatedPaymentLink;
        if (paymentCapture.body &&
            paymentCapture.body.data &&
            paymentCapture.body.data.updatedPaymentLink) {
            updatedPaymentLink = paymentCapture.body.data.updatedPaymentLink;
            console.log("updatedPaymentlInk", updatedPaymentLink);
        }
        return updatedPaymentLink;
    }
    catch (error) {
        console.log(596, error);
        throw error;
    }
};
const callAddPaymentReceiveNotification = async (project, receivedamount, receiveddate) => {
    var _a;
    const notificationTemplate = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_7__.callExternalAPIWithPost)("https://cmsandbox.herokuapp.com/graphqlm", (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_7__.queryForFetchingRemindersTemplate)("notify_payment_received"));
    if (notificationTemplate) {
        const data = (_a = notificationTemplate === null || notificationTemplate === void 0 ? void 0 : notificationTemplate.data) === null || _a === void 0 ? void 0 : _a.reminders.data[0].attributes;
        let toList;
        const ccList = [];
        if (data.emailActivate) {
            if (project) {
                if (project.designerid) {
                    const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({ where: { userid: project.designerid } });
                    if (designer && designer.designcafeemail) {
                        ccList.push(designer.designcafeemail);
                    }
                }
                else {
                    ccList.push("lorenzo@designcafe.com");
                }
                ccList.push("ddadmin@designcafe.com");
                if (project.chmid) {
                    const pam = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({ where: { userid: project.chmid } });
                    if (pam && pam.designcafeemail) {
                        ccList.push(pam.designcafeemail);
                    }
                }
                if (project.experiencecenterid) {
                    const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findUnique({ where: { centerid: project.experiencecenterid } });
                    if (experienceCenter) {
                        const financeEmailID = experienceCenter.financeteamemail;
                        toList = financeEmailID;
                    }
                }
                else {
                    toList.push("ddadmin@designcafe.com");
                }
            }
            const subject = data.label;
            const content = data.email_template;
            const emailContent = content
                .replace("$project name", project.projectname)
                .replace("$received amount", receivedamount)
                .replace("$clientid", project.projectid)
                .replace("$paymentdate", receiveddate);
            await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_6__.triggerEmailNotification)(toList, subject, emailContent, ccList);
        }
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentReceipts.ts":
/*!***********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentReceipts.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class AddPaymentReceipts extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set("Authorization", this.context.headers.authorization);
    }
    async addpaymentReceiptData(args) {
        const { transactionId, receivedAmount, projectID, paymentRequests, paymentReceivedDate, paymentMode, siteServicesAmount, clientID, modularAmount, } = args;
        return this.post("createPaymentReceipt", {
            transactionId,
            receivedAmount,
            projectID,
            paymentRequests,
            paymentReceivedDate,
            paymentMode,
            siteServicesAmount,
            clientID,
            modularAmount,
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddPaymentReceipts);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/ClearPaymentConformation.ts":
/*!*****************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/ClearPaymentConformation.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ClearPaymentConformation": () => (/* binding */ ClearPaymentConformation)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/Requestdata/Paymentmilestoneupdaterequestmodel */ "./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_3__);




const ClearPaymentConformation = async (root, args, context) => {
    const { milestoneid, projectid } = args;
    const clearpayment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
        where: { id: milestoneid },
    });
    if (!clearpayment) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "No Payment Milestone Found");
    }
    if (!clearpayment.invoicenumber) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Cannot find Invoice Number");
    }
    const url = `${process.env.apiEndpoint}data-correction/payment-receipt?invoiceNumber=${clearpayment.invoicenumber}`;
    console.log("url", url);
    const invoice = await superagent__WEBPACK_IMPORTED_MODULE_3___default()["delete"](url)
        .set("Content-Type", "application/json");
    console.log("Invoice:-----", invoice.body);
    if (invoice && invoice.body && invoice.body.statusCode) {
        if (invoice.body.statusCode >= 200 && invoice.body.statusCode < 400) {
            await removePaymentDetails(projectid, clearpayment);
            try {
                await hitMicroserviceAgainToUpdateLatestData(projectid, milestoneid);
            }
            catch (e) {
                console.log("---hitMicroserviceAgainToUpdateLatestData -------   ERROR from MICROSERVICE:", e);
            }
        }
        else {
            console.log("throwing Error from status code");
            throw Error(invoice.body.message);
        }
    }
    return {
        code: 200,
        message: "Success",
    };
};
const removePaymentDetails = async (projectID, clearpaymentdata) => {
    if (clearpaymentdata.id) {
        console.log("2");
        const paymentreceiptdata = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findFirst({
            where: { paymentmillestoneid: clearpaymentdata.id },
        });
        const paymentid = paymentreceiptdata.id;
        await removeAllPaymentConfirmationsObjects(paymentid);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
            data: {
                amountpaid: 0,
                freezedmodular: 0,
                freezedsiteservice: 0,
                isfreezed: false,
                paymentid: null,
                status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.PaymentStatusEnum.PENDING,
                amountdue: Number(clearpaymentdata.totalpayableamount) -
                    Number(clearpaymentdata.advanceamount),
            },
            where: { id: clearpaymentdata.id },
        });
        let nextPaymentValue = null;
        switch (clearpaymentdata.paymentvalue) {
            case "5%":
                nextPaymentValue = "15%";
                break;
            case "15%":
                nextPaymentValue = "35%";
                break;
            case "35%":
                nextPaymentValue = "45%";
                break;
        }
        console.log("nextPaymentValue", nextPaymentValue);
        if (nextPaymentValue) {
            const projectdata = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
                where: { projectid: projectID },
            });
            const id = projectdata.id;
            const nextPaymentMilestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
                where: {
                    paymentvalue: nextPaymentValue,
                    projectid: id,
                },
            });
            console.log("nextPaymentMilestone", nextPaymentMilestone);
            const nextPaymentMilestoneID = nextPaymentMilestone.id;
            const nextPaymentMilestoneData = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.ClearPaymentRequestModel();
            const Amountdue = Number(nextPaymentMilestone.amountdue) +
                Number(nextPaymentMilestone.advanceamount);
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    advanceamount: 0,
                    amountdue: Amountdue,
                    status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.PaymentStatusEnum.PENDING,
                },
                where: { id: nextPaymentMilestoneID },
            });
            console.log("nextPaymentMilestoneUpdatedMilestone", nextPaymentMilestoneData);
        }
    }
};
const removeAllPaymentConfirmationsObjects = async (paymentid) => {
    console.log("1", paymentid);
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts["delete"]({
        where: { id: paymentid },
    });
};
const hitMicroserviceAgainToUpdateLatestData = async (projectid, milestoneid) => {
    const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { projectid: projectid },
    });
    if (!project.customerid) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Customer Information not found");
    }
    const customerid = project.customerid;
    const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
        where: { customerid: customerid },
    });
    const billingadd = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({
        where: { customerid: customerid },
    });
    const milestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
        where: {
            id: milestoneid,
        },
    });
    const microserviceRequestData = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.MicroserviceManualInvoiceRequestModel();
    microserviceRequestData.invoiceNumber = milestone.invoicenumber;
    microserviceRequestData.customerShippingAddress = customer.projectaddress;
    const billingAddress = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.AddressModel();
    billingAddress.country = billingadd.country;
    billingAddress.street = billingadd.street;
    billingAddress.city = billingadd.city;
    billingAddress.ziporpostalcode = billingadd.zip;
    billingAddress.shippingstate = billingadd.state;
    microserviceRequestData.customerName = customer.firstname;
    microserviceRequestData.customerEmail = customer.customeremail;
    microserviceRequestData.customerPhone = customer.customerphone;
    microserviceRequestData.customerBillingaddress = billingAddress;
    microserviceRequestData.projectID = project.projectid;
    microserviceRequestData.projectName = project.projectname;
    microserviceRequestData.projectStatus = `${project.projectstatus}`;
    microserviceRequestData.requestName = "SAVE_INVOICE";
    if (milestone.paymentvalue === "5%") {
        microserviceRequestData.paymentName = `${milestone.paymentvalue} supply of interior works`;
    }
    else if (milestone.paymentvalue === "100%") {
        microserviceRequestData.paymentName = "deep cleaning";
    }
    else {
        microserviceRequestData.paymentName = `${milestone.paymentvalue} supply of works`;
    }
    const experienceCenter = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findFirst({
        where: { centerid: project.experiencecenterid },
    });
    microserviceRequestData.applicationId = "DESIGNER_DASHBOARD";
    microserviceRequestData.experienceCenter = experienceCenter.name;
    microserviceRequestData.invoiceDate = milestone.invoicedate;
    microserviceRequestData.projectValue = Number(project.totalprojectvalue);
    microserviceRequestData.milestonePendingDue =
        Number(milestone.totalpayableamount) -
            Number(milestone.advanceamount) -
            Number(milestone.amountpaid);
    const milestonestatus = milestone.status;
    microserviceRequestData.paymentStatus = milestonestatus;
    microserviceRequestData.amountPaid = Number(milestone.amountpaid);
    microserviceRequestData.amountDue =
        Number(milestone.totalpayableamount) -
            Number(milestone.advanceamount) -
            Number(milestone.amountpaid);
    if (Number(milestone.addonamount) > 0) {
        const addOnObj = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.AddOnPaymentObject();
        addOnObj.amount = Number(milestone.addonamount);
        addOnObj.paymentname = "50% Addon Service";
        addOnObj.quantity = 1;
        microserviceRequestData.extraPayments = [addOnObj];
    }
    console.log("microserviceRequestData:", microserviceRequestData);
    const url = `${process.env.apiEndpoint}designer-dashboard/save-invoice-data`;
    console.log("----------0", url);
    const invoice = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(url)
        .send(microserviceRequestData)
        .set("Content-Type", "application/json");
    console.log("============================================Invoice: ", JSON.stringify(invoice.body));
    if (invoice.body.statusCode !== 200) {
        console.log("invoice.body.message", invoice.body.message);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, invoice.body.message);
    }
};
const getPaymentStatusName = async (milestonestatus) => {
    let paymentstatus;
    switch (milestonestatus) {
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.PaymentStatusEnum.PAID:
            paymentstatus = "PAID";
            break;
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.PaymentStatusEnum.PARTIAL_PAYMENT:
            paymentstatus = "PARTIALLY_PAID";
            break;
        case _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_1__.PaymentStatusEnum.PENDING:
            paymentstatus = "PENDING";
            break;
    }
    return paymentstatus;
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/DeletePaymentreceipts.ts":
/*!**************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/DeletePaymentreceipts.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class DeletePaymentReceipts extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async deletepaymentReceiptData(args) {
        const { paymentId } = args;
        return this.delete('deletePaymentReceipt', {
            paymentId,
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeletePaymentReceipts);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentConformation.ts":
/*!******************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentConformation.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdatePaymentConformation": () => (/* binding */ UpdatePaymentConformation)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/Requestdata/Paymentmilestoneupdaterequestmodel */ "./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");




const UpdatePaymentConformation = async (root, args, context) => {
    let updatePcResponseObj;
    const { milestoneid, projectid, receivedamount, modeofpayment, receiveddate, attachment, paymentid } = args;
    const paymentConfirmation = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findFirst({
        where: { paymentid: paymentid }
    });
    console.log(paymentConfirmation);
    if (!paymentConfirmation) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Invalid Payment Detail ID");
    }
    const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { projectid: projectid }
    });
    const milestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
        where: { id: milestoneid }
    });
    const paymentConfirmationData = new _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.AddPaymentReceiptRequestData();
    if (attachment) {
        const attachmentFile = {
            key: attachment.fileName,
            contentType: attachment.contentType,
            base64: attachment.fileBase64,
        };
        const fileObj = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.UploadFileOnS3)(attachmentFile);
        if (!fileObj) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Error uploading attachment");
        }
        paymentConfirmationData.supportingDocumentURL = fileObj.Location;
        paymentConfirmationData.awsSupportingDocumentURLKey = fileObj.key;
    }
    const amountDifference = Number(receivedamount) - Number(paymentConfirmation.receivedamount);
    console.log(amountDifference);
    let advanceForNextMilestone = 0;
    if (amountDifference !== 0) {
        const updatedAmountPaidValue = Number(milestone.amountpaid) + Number(amountDifference);
        if (updatedAmountPaidValue > Number(milestone.totalpayableamount)) {
            advanceForNextMilestone = updatedAmountPaidValue - Number(milestone.totalpayableamount);
        }
        const updatedAmountDue = Number(milestone.totalpayableamount) - updatedAmountPaidValue - Number(milestone.advanceamount);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
            data: {
                amountpaid: Math.floor(updatedAmountPaidValue),
                amountdue: Math.floor(updatedAmountDue)
            },
            where: { id: milestoneid }
        });
        if (updatedAmountDue <= 0) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    freezedmodular: updatedAmountPaidValue,
                    isfreezed: true,
                    status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.PaymentStatusEnum.PAID
                },
                where: { id: milestoneid }
            });
        }
        else {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                data: {
                    status: _domain_Requestdata_Paymentmilestoneupdaterequestmodel__WEBPACK_IMPORTED_MODULE_2__.PaymentStatusEnum.PARTIAL_PAYMENT
                },
                where: { id: milestoneid }
            });
        }
        const achievedrevenuevalue = Math.floor(Number(project.achievedrevenuevalue) + Number(amountDifference));
        console.log(paymentConfirmation.id);
        const res = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.update({
            data: {
                receivedamount: receivedamount,
                amountpaid: receivedamount,
                paymentmode: modeofpayment,
                paymentreceiveddate: receiveddate
            },
            where: { id: paymentConfirmation.id }
        });
        if (!res) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Error adding Payment");
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            data: {
                achievedrevenuevalue: Math.floor(Number(project.achievedrevenuevalue) + Number(amountDifference)),
                pendingamountvalue: Math.floor(Number(project.totalprojectvalue) -
                    Number(achievedrevenuevalue))
            },
            where: { projectid: projectid }
        });
        if (advanceForNextMilestone > 0) {
            const nextMilestoneIndex = milestone.sequence + 1;
            const nextMilestoneID = project.paymentmilestonelist.filter((o) => o.sequence === nextMilestoneIndex);
            if (nextMilestoneID) {
                const nextMilestone = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({
                    where: { id: nextMilestoneID }
                });
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                    data: {
                        advanceamount: Math.floor(advanceForNextMilestone),
                        amountdue: Math.floor(Number(nextMilestone.totalpayableamount) - Number(nextMilestone.amountpaid) -
                            Number(advanceForNextMilestone)),
                    },
                    where: {
                        id: nextMilestoneID
                    }
                });
            }
        }
        console.log(res);
        updatePcResponseObj = {
            data: res,
            message: "success",
        };
    }
    return updatePcResponseObj;
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentReceipts.ts":
/*!**************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentReceipts.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class UpdatePaymentReceipts extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async updatepaymentReceiptData(args) {
        const { transactionId, receivedAmount, projectID, paymentRequests, paymentReceivedDate, paymentMode, siteServicesAmount, clientID, modularAmount, appName, paymentId, status, odoo_payment_id, paymentReceipt, reason_for_rejection } = args;
        return this.put('updatePaymentReceipt', {
            transactionId,
            receivedAmount,
            projectID,
            paymentRequests,
            paymentReceivedDate,
            paymentMode,
            siteServicesAmount,
            clientID,
            modularAmount,
            appName,
            paymentId,
            status,
            odoo_payment_id,
            paymentReceipt,
            reason_for_rejection
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdatePaymentReceipts);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/Queries/getPaymentReceipt.ts":
/*!*********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/Queries/getPaymentReceipt.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPaymentReceipt": () => (/* binding */ getPaymentReceipt)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getPaymentReceipt = async (root, args, context) => {
    let paymentReceiptResponseObj;
    try {
        const pr = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findMany({ where: { clientid: args.id } });
        paymentReceiptResponseObj = { code: 200, message: "success", data: pr };
        return paymentReceiptResponseObj;
    }
    catch (error) {
        paymentReceiptResponseObj = { code: 400, message: error.message };
        return paymentReceiptResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/resolver.ts":
/*!****************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/resolver.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paymentReceiptReslover": () => (/* binding */ paymentReceiptReslover)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getPaymentReceipt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getPaymentReceipt */ "./src/api/paymentMicroservice/paymentReceipt/Queries/getPaymentReceipt.ts");
/* harmony import */ var _Mutation_AddPaymentConformation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutation/AddPaymentConformation */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/AddPaymentConformation.ts");
/* harmony import */ var _Mutation_UpdatePaymentConformation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutation/UpdatePaymentConformation */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/UpdatePaymentConformation.ts");
/* harmony import */ var _Mutation_ClearPaymentConformation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutation/ClearPaymentConformation */ "./src/api/paymentMicroservice/paymentReceipt/Mutation/ClearPaymentConformation.ts");





const paymentReceiptReslover = {
    Mutation: {
        AddPaymentReceipts: async (_, args, { dataSources, req }) => dataSources.AddPaymentReceipts.addpaymentReceiptData(args, req),
        UpdatePaymentReceipts: async (_, args, { dataSources, req }) => dataSources.UpdatePaymentReceipts.updatepaymentReceiptData(args, req),
        DeletePaymentReceipts: async (_, args, { dataSources, req }) => dataSources.DeletePaymentReceipts.deletepaymentReceiptData(args, req),
        AddPaymentConformation: async (parent, _args, context) => (0,_Mutation_AddPaymentConformation__WEBPACK_IMPORTED_MODULE_2__.AddPaymentConformation)(parent, _args, context),
        UpdatePaymentConformation: async (parent, _args, context) => (0,_Mutation_UpdatePaymentConformation__WEBPACK_IMPORTED_MODULE_3__.UpdatePaymentConformation)(parent, _args, context),
        ClearPaymentConformation: async (parent, _args, context) => (0,_Mutation_ClearPaymentConformation__WEBPACK_IMPORTED_MODULE_4__.ClearPaymentConformation)(parent, _args, context),
    },
    Query: {
        getPaymentReceipt: async (parent, _args, context) => (0,_Queries_getPaymentReceipt__WEBPACK_IMPORTED_MODULE_1__.getPaymentReceipt)(parent, _args, context),
    },
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentReceipt/typedef.ts":
/*!***************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentReceipt/typedef.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paymentReceiptTypedef": () => (/* binding */ paymentReceiptTypedef)
/* harmony export */ });
const paymentReceiptTypedef = `
scalar JSON
type paymentreceiptdata{
    statusCode:Int
    message:String
    data:JSON
    code:Int
}

type paymentreceiptupdatedata{
    statusCode:Int
    message:String
    code:Int
}
type getpaymentreceipt{
    code:Int
    message: String
    data:JSON
}

type addpaymentconformation{
    data:JSON
    message: String
    code:Int
}

type deletepaymentconformation{
    code:Int,
    message:String
}

input AttachmentToBeUpdated{
    fileBase64:String,
    fileName:String,
    contentType:String

}

type Mutation {
    AddPaymentReceipts(
    transactionId:String,
    receivedAmount:Float,
    projectID:String,
    paymentRequests:[String],
    paymentReceivedDate:String,
    paymentMode:String,
    siteServicesAmount:Float,
    clientID:String,
    modularAmount:Float
):paymentreceiptdata

UpdatePaymentReceipts(
    transactionId:String,
        receivedAmount:Float,
        projectID:String,
        paymentRequests:[String],
        paymentReceivedDate:String,
        paymentMode:String,
        siteServicesAmount:Float,
        clientID:String,
        modularAmount:Float,
        appName:String,
        paymentId:String,
        status:String,
        odoo_payment_id:Int,
        paymentReceipt:String,
        reason_for_rejection:String
):paymentreceiptupdatedata

DeletePaymentReceipts(
    paymentId:String
):paymentreceiptupdatedata

AddPaymentConformation(
    transcationid:String,
    milestoneid:Int,
    projectid:String,
    receivedamount:Float,
    modeofpayment:Int,
    receiveddate:String,
    attachment:AttachmentToBeUpdated
):addpaymentconformation

UpdatePaymentConformation(
    milestoneid:Int,
    projectid:String,
    receivedamount:Float,
    modeofpayment:String,
    transactionid:String,
    receiveddate:String,
    paymentid:String,
    attachment:AttachmentToBeUpdated
):addpaymentconformation

ClearPaymentConformation(
    milestoneid:Int,
    projectid:String,
):deletepaymentconformation
}

type Query {
    getPaymentReceipt(id:String):getpaymentreceipt
}
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/Mutations/AddPaymentRequests.ts":
/*!************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/Mutations/AddPaymentRequests.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class AddPaymentRequests extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async addpaymentRequestData(args) {
        const { requestDate, category, requestAmount, description, clientID, status, appName } = args;
        return this.post('createPaymentRequest', {
            requestDate,
            category,
            requestAmount,
            description,
            clientID,
            status,
            appName,
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AddPaymentRequests);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/Mutations/CalculatePaymentRequest.ts":
/*!*****************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/Mutations/CalculatePaymentRequest.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CalculatePaymentRequest": () => (/* binding */ CalculatePaymentRequest)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/PaymentCategoryEnum */ "./src/domain/enumerations/PaymentCategoryEnum.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);



const CalculatePaymentRequest = async (root, args, context) => {
    const { category, clientid, description, baseamount } = args;
    const PaymentRequest = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentrequests.findFirst({
        where: {
            category: category,
            clientid: clientid,
            description: description,
        },
    });
    if (PaymentRequest) {
        return {
            code: 200,
            message: "Already available",
            data: PaymentRequest
        };
    }
    else {
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                clientid: clientid
            }
        });
        if (project == null) {
            return {
                code: 200,
                message: "No project found",
            };
        }
        const PRAmount = await calculatePRAmount(category, description, baseamount);
        return {
            code: 200,
            message: "Success",
            data: PRAmount
        };
    }
};
const calculatePRAmount = async (category, description, baseamount) => {
    let totalAmount;
    if (category.toLowerCase() === _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__["default"].MODULAR) {
        console.log("Modular");
        totalAmount = baseamount;
        let milestoneAmountValue;
        if (description === "15% of Modular") {
            milestoneAmountValue = (totalAmount * 20) / 100;
        }
        else if (description === "35% of Modular") {
            milestoneAmountValue = (totalAmount * 55) / 100;
        }
        else if (description === "45% of Modular") {
            milestoneAmountValue = totalAmount;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Modular Milestone Mismatch");
        }
        return milestoneAmountValue;
    }
    else if (category.toLowerCase() === _domain_enumerations_PaymentCategoryEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SITE_SERVICE) {
        totalAmount = baseamount;
        let milestoneAmountValue;
        if (description === "45% of Site Service") {
            milestoneAmountValue = (totalAmount * 50) / 100;
        }
        else if (description === "50% of Site Service") {
            milestoneAmountValue = totalAmount;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(201, "Site Services Milestone Mismatch");
        }
        return milestoneAmountValue;
    }
    else {
        return {
            code: 201,
            message: "Payment category Mismatch",
        };
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/Mutations/DeletePaymentRequests.ts":
/*!***************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/Mutations/DeletePaymentRequests.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class DeletePaymentRequests extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async deletepaymentRequestData(requestID) {
        return this.delete('deletePaymentRequest', {
            requestID,
        }, {
            body: requestID
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DeletePaymentRequests);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/Mutations/UpdatePaymentRequests.ts":
/*!***************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/Mutations/UpdatePaymentRequests.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class UpdatePaymentRequests extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async updatepaymentRequestData(args) {
        const { requestID, requestDate, category, requestAmount, description, clientID, status, appName } = args;
        return this.put('updatePaymentRequest', {
            requestID,
            requestDate,
            category,
            requestAmount,
            description,
            clientID,
            status,
            appName,
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UpdatePaymentRequests);


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/Queries/GetPaymentRequest.ts":
/*!*********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/Queries/GetPaymentRequest.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPaymentRequest": () => (/* binding */ getPaymentRequest)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getPaymentRequest = async (root, args, context) => {
    let paymentRequestResponseObj;
    try {
        const pr = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentrequests.findMany({ where: { clientid: args.id } });
        paymentRequestResponseObj = { code: 200, message: "success", data: pr };
        return paymentRequestResponseObj;
    }
    catch (error) {
        paymentRequestResponseObj = { code: 400, message: error.message };
        return paymentRequestResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/resolver.ts":
/*!****************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/resolver.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paymentRequestReslover": () => (/* binding */ paymentRequestReslover)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_GetPaymentRequest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/GetPaymentRequest */ "./src/api/paymentMicroservice/paymentRequest/Queries/GetPaymentRequest.ts");
/* harmony import */ var _Mutations_CalculatePaymentRequest__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/CalculatePaymentRequest */ "./src/api/paymentMicroservice/paymentRequest/Mutations/CalculatePaymentRequest.ts");



const paymentRequestReslover = {
    Mutation: {
        AddPaymentRequests: async (_, args, { dataSources, req }) => dataSources.AddPaymentRequests.addpaymentRequestData(args, req),
        UpdatePaymentRequests: async (_, args, { dataSources, req }) => dataSources.UpdatePaymentRequests.updatepaymentRequestData(args, req),
        DeletePaymentRequests: async (_, { requestID }, { dataSources, req }) => dataSources.DeletePaymentRequests.deletepaymentRequestData(requestID, req),
        CalculatePaymentRequest: async (parent, _args, context) => (0,_Mutations_CalculatePaymentRequest__WEBPACK_IMPORTED_MODULE_2__.CalculatePaymentRequest)(parent, _args, context),
    },
    Query: {
        getPaymentRequest: async (parent, _args, context) => (0,_Queries_GetPaymentRequest__WEBPACK_IMPORTED_MODULE_1__.getPaymentRequest)(parent, _args, context),
    },
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/paymentMicroservice/paymentRequest/typedef.ts":
/*!***************************************************************!*\
  !*** ./src/api/paymentMicroservice/paymentRequest/typedef.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "paymentRequestTypedef": () => (/* binding */ paymentRequestTypedef)
/* harmony export */ });
const paymentRequestTypedef = `
scalar JSON
type paymentrequestdata{
    statusCode:Int
    message:String
    data:JSON
    code:Int
}
type paymentrequestUpdatedata{
    statusCode:Int
    message:String
    code:Int
}


type getpaymentrequest{
    code:Int
    message: String
    data:JSON
}

type calculatepaymentrequest{
    code:Int
    message: String
    data:JSON
}

type Mutation {
    AddPaymentRequests(
        requestDate:String,
        category:String,
        requestAmount:Float,
        description:String,
        clientID:String,
        status:String,
        appName:String
    ):paymentrequestdata,

    UpdatePaymentRequests(
        requestID:String,
        requestDate:String,
        category:String,
        requestAmount:Float,
        description:String,
        clientID:String,
        status:String,
        appName:String
    ):paymentrequestUpdatedata,

    DeletePaymentRequests(
    requestID:String,
    ):paymentrequestUpdatedata,

    CalculatePaymentRequest(
        category:String
        clientid:String
       description:String
       baseamount:Float
       ):calculatepaymentrequest
    }

    type Query {
        getPaymentRequest(id:String):getpaymentrequest
    }
`;


/***/ }),

/***/ "./src/api/paymentMicroservice/project/Mutations/UpdateProjectAddress.ts":
/*!*******************************************************************************!*\
  !*** ./src/api/paymentMicroservice/project/Mutations/UpdateProjectAddress.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProject": () => (/* binding */ updateProject)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_2__);



const updateProject = async (root, args, context) => {
    const { clientid, shippingAddressCountry, shippingAddressShippingState, shippingAddressStreet1, shippingAddressStreet2, shippingAddressCity, shippingAddressZipOrPostalCode } = args;
    const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { projectid: clientid },
    });
    console.log(project);
    if (!project) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Project not found");
    }
    let shippingStreet;
    if (args.shippingAddressStreet1) {
        shippingStreet = args.shippingAddressStreet1.concat(" ", shippingAddressStreet2);
    }
    else {
        shippingStreet = shippingAddressStreet1;
    }
    const ProjectUpdateRequestToMicroservice = {
        shippingAddressCountry: shippingAddressCountry,
        shippingAddressShippingState: shippingAddressShippingState,
        shippingAddressCity: shippingAddressCity,
        shippingAddressStreet: shippingStreet,
        shippingAddressZipOrPostalCode: shippingAddressZipOrPostalCode,
        clientId: clientid
    };
    const updateProjectCapture = await postUpdateProjectToMicroservice(ProjectUpdateRequestToMicroservice);
    console.log("updateProjectCapture", updateProjectCapture.body);
    if (updateProjectCapture.body.statusCode !== 200) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, updateProjectCapture.body.message);
    }
    const customerid = project.customerid;
    if (project) {
        const findaddress = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({ where: { customerid: customerid, addresstype: 2 } });
        const updateadrress = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.update({
            where: {
                addressid: findaddress.addressid,
            },
            data: {
                zip: shippingAddressZipOrPostalCode,
                street: shippingStreet,
                state: shippingAddressShippingState,
                city: shippingAddressCity,
                country: shippingAddressCountry
            }
        });
        console.log(updateadrress);
    }
    return {
        statusCode: 200,
        message: "Shipping address  successfully"
    };
};
const postUpdateProjectToMicroservice = async (ProjectUpdateRequestToMicroservice) => {
    const paymiRes = await getPaymiConnection();
    const authToken = paymiRes.accessToken;
    const finalUrl = `${process.env.apiEndpoint}project`;
    console.log(finalUrl);
    try {
        return await superagent__WEBPACK_IMPORTED_MODULE_2___default().put(finalUrl)
            .send(ProjectUpdateRequestToMicroservice)
            .set("Content-Type", "application/json")
            .set("Authorization", authToken);
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const getPaymiConnection = async () => {
    const finalUrl = process.env.apiEndpoint + "authenticate";
    console.log(finalUrl);
    const reqBody = {
        clientId: process.env.CDClientId
    };
    try {
        const res = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(finalUrl)
            .set("Content-Type", "application/json")
            .send(reqBody);
        return res.body;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonedetails.ts":
/*!***********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonedetails.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPaymentMilestoneDetail": () => (/* binding */ getPaymentMilestoneDetail)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getPaymentMilestoneDetail = async (root, args, context) => {
    let pmResponseObj;
    try {
        const pmdetail = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findFirst({ where: { id: args.id } });
        const payentConfirmationsList = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findMany({
            where: {
                paymentmillestoneid: args.id
            }
        });
        pmResponseObj = { code: 200, message: "success", payentConfirmationsList: payentConfirmationsList, pmdetail: pmdetail };
        return pmResponseObj;
    }
    catch (error) {
        pmResponseObj = { code: 400, message: error.message };
        return pmResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonelist.ts":
/*!********************************************************************************!*\
  !*** ./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonelist.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getPaymentMilestoneList": () => (/* binding */ getPaymentMilestoneList)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");

const getPaymentMilestoneList = async (root, args, context) => {
    let pmResponseObj;
    try {
        const pmlist = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findMany({ where: { projectid: args.projectid } });
        pmResponseObj = { code: 200, message: "success", data: pmlist };
        return pmResponseObj;
    }
    catch (error) {
        pmResponseObj = { code: 400, message: error.message };
        return pmResponseObj;
    }
};


/***/ }),

/***/ "./src/api/paymentMicroservice/project/resolver.ts":
/*!*********************************************************!*\
  !*** ./src/api/paymentMicroservice/project/resolver.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProjectPaymentReslovers": () => (/* binding */ ProjectPaymentReslovers)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_Getpaymentmilestonelist__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/Getpaymentmilestonelist */ "./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonelist.ts");
/* harmony import */ var _Queries_Getpaymentmilestonedetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Queries/Getpaymentmilestonedetails */ "./src/api/paymentMicroservice/project/Queries/Getpaymentmilestonedetails.ts");
/* harmony import */ var _Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/UpdateProjectAddress */ "./src/api/paymentMicroservice/project/Mutations/UpdateProjectAddress.ts");




const ProjectPaymentReslovers = {
    Mutation: {
        updateProject: async (parent, _args, context) => (0,_Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_3__.updateProject)(parent, _args, context),
    },
    Query: {
        getPaymentMilestoneList: async (parent, _args, context) => (0,_Queries_Getpaymentmilestonelist__WEBPACK_IMPORTED_MODULE_1__.getPaymentMilestoneList)(parent, _args, context),
        getPaymentMilestoneDetail: async (parent, _args, context) => (0,_Queries_Getpaymentmilestonedetails__WEBPACK_IMPORTED_MODULE_2__.getPaymentMilestoneDetail)(parent, _args, context),
    },
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/paymentMicroservice/project/typedef.ts":
/*!********************************************************!*\
  !*** ./src/api/paymentMicroservice/project/typedef.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProjectaymentTypedef": () => (/* binding */ ProjectaymentTypedef)
/* harmony export */ });
const ProjectaymentTypedef = `
scalar JSON

type projectupdatedata{
    statusCode:Int
    message:String
}

type getpmlistResponse{
    code:Int
    message: String
    data:JSON
}
type getpmdetailresponse{
    code:Int
    message: String
    payentConfirmationsList:JSON
    pmdetail:JSON
}

type Mutation {

updateProject(
    clientid:String,
    shippingAddressCountry:String,
    shippingAddressShippingState:String,
    shippingAddressStreet1:String,
    shippingAddressStreet2:String,
    shippingAddressCity:String,
    shippingAddressZipOrPostalCode:String
):projectupdatedata
}

type Query {
    getPaymentMilestoneList(projectid:Int):getpmlistResponse
    getPaymentMilestoneDetail(id:Int):getpmdetailresponse
}

`;


/***/ }),

/***/ "./src/api/paymentMicroservice/razorpay/Mutation/RazorpayGeneratePaymentLink.ts":
/*!**************************************************************************************!*\
  !*** ./src/api/paymentMicroservice/razorpay/Mutation/RazorpayGeneratePaymentLink.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class RazorpayGeneratePaymentLink extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async paymentLinkData(args) {
        const { amount, description, reference_id, name, email, client_id, requestID, appName } = args;
        return this.post('razorpayGenearteLink', {
            amount,
            description,
            reference_id,
            name,
            email,
            client_id,
            requestID,
            appName
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RazorpayGeneratePaymentLink);


/***/ }),

/***/ "./src/api/paymentMicroservice/razorpay/Mutation/RazorpayWebhook.ts":
/*!**************************************************************************!*\
  !*** ./src/api/paymentMicroservice/razorpay/Mutation/RazorpayWebhook.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

class RazorpayWebhook extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.apiEndpoint;
    }
    willSendRequest(request) {
        request.headers.set('Authorization', this.context.headers.authorization);
    }
    async webhookData(args) {
        const { razorpay_payment_link_id, razorpay_payment_link_reference_id, razorpay_payment_link_status, razorpay_signature, appName, razorpay_payment_id } = args;
        return this.post('webhook', {
            razorpay_payment_link_id,
            razorpay_payment_link_reference_id,
            razorpay_payment_link_status,
            razorpay_signature,
            appName,
            razorpay_payment_id,
        });
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RazorpayWebhook);


/***/ }),

/***/ "./src/api/paymentMicroservice/razorpay/resolvers.ts":
/*!***********************************************************!*\
  !*** ./src/api/paymentMicroservice/razorpay/resolvers.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RazorpayReslovers": () => (/* binding */ RazorpayReslovers)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);

const RazorpayReslovers = {
    Mutation: {
        RazorpayGeneratePaymentLink: async (_, args, { dataSources, req }) => dataSources.RazorpayGeneratePaymentLink.paymentLinkData(args, req),
        RazorpayWebhook: async (_, args, { dataSources, req }) => dataSources.RazorpayWebhook.webhookData(args, req),
    },
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/paymentMicroservice/razorpay/typedefs.ts":
/*!**********************************************************!*\
  !*** ./src/api/paymentMicroservice/razorpay/typedefs.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RazorpayTypedef": () => (/* binding */ RazorpayTypedef)
/* harmony export */ });
const RazorpayTypedef = `
scalar JSON

type generatelinkdata{
    statusCode:Int
    message:String
    code:Int
    response:JSON
}
type webhookdata{
    statusCode:Int
    message:String
    code:Int
}

type Mutation {
    RazorpayGeneratePaymentLink(
        amount:Float,
        description:String,
        reference_id:String,
        name:String,
        email:String,
        client_id:String,
        requestID:[String],
        appName:String
):generatelinkdata

RazorpayWebhook(
    razorpay_payment_link_id:String,
        razorpay_payment_link_reference_id:String,
        razorpay_payment_link_status:String,
        razorpay_signature:String,
        appName:String,
        razorpay_payment_id:String,
):webhookdata
}

`;


/***/ }),

/***/ "./src/api/profiles/Mutations/addmutations.ts":
/*!****************************************************!*\
  !*** ./src/api/profiles/Mutations/addmutations.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addProfile": () => (/* binding */ addProfile)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const addProfile = async (root, args, context) => {
    let profileResponseObj;
    const { profile_name, status, permissions } = args;
    try {
        const createprofile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.create({
            data: {
                profile_name,
                status,
                permissions: permissions,
                created_date: new Date(),
                updated_at: new Date()
            },
        });
        profileResponseObj = { code: 200, message: "success", data: createprofile };
        return profileResponseObj;
    }
    catch (error) {
        profileResponseObj = { code: 400, message: error.message };
        return profileResponseObj;
    }
};


/***/ }),

/***/ "./src/api/profiles/Mutations/updatemutations.ts":
/*!*******************************************************!*\
  !*** ./src/api/profiles/Mutations/updatemutations.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProfile": () => (/* binding */ updateProfile)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const updateProfile = async (root, args, context) => {
    let profileResponseObj;
    const { profileid, profile_name, status, permissions, created_date, updated_at } = args;
    try {
        const updateprofile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.update({
            data: {
                profile_name: profile_name,
                status: status,
                permissions: permissions,
                created_date: created_date,
                updated_at: updated_at,
            },
            where: {
                profileid: profileid,
            },
        });
        profileResponseObj = { code: 200, message: "success", data: updateprofile };
        return profileResponseObj;
    }
    catch (error) {
        profileResponseObj = { code: 400, message: error.message };
        return profileResponseObj;
    }
};


/***/ }),

/***/ "./src/api/profiles/Queries/getAllProfiles.ts":
/*!****************************************************!*\
  !*** ./src/api/profiles/Queries/getAllProfiles.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllProfiles": () => (/* binding */ getAllProfiles)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getAllProfiles = async () => {
    let profileResponseObj;
    try {
        const profiles = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findMany();
        profileResponseObj = { code: 200, message: "success", data: profiles };
        return profileResponseObj;
    }
    catch (error) {
        profileResponseObj = { code: 400, message: error.message };
        return profileResponseObj;
    }
};


/***/ }),

/***/ "./src/api/profiles/Queries/getProfileById.ts":
/*!****************************************************!*\
  !*** ./src/api/profiles/Queries/getProfileById.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getProfileById": () => (/* binding */ getProfileById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getProfileById = async (root, args, context) => {
    let profileResponseObj;
    try {
        const profiles = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findMany({ where: { profileid: args.profileid } });
        profileResponseObj = { code: 200, message: "success", data: profiles };
        return profileResponseObj;
    }
    catch (error) {
        profileResponseObj = { code: 400, message: error.message };
        return profileResponseObj;
    }
};


/***/ }),

/***/ "./src/api/profiles/resolver.ts":
/*!**************************************!*\
  !*** ./src/api/profiles/resolver.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "profilesResolver": () => (/* binding */ profilesResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_addmutations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/addmutations */ "./src/api/profiles/Mutations/addmutations.ts");
/* harmony import */ var _Mutations_updatemutations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/updatemutations */ "./src/api/profiles/Mutations/updatemutations.ts");
/* harmony import */ var _Queries_getAllProfiles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/getAllProfiles */ "./src/api/profiles/Queries/getAllProfiles.ts");
/* harmony import */ var _Queries_getProfileById__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Queries/getProfileById */ "./src/api/profiles/Queries/getProfileById.ts");





const profilesResolver = {
    Mutation: {
        addProfile: async (parent, _args, context) => (0,_Mutations_addmutations__WEBPACK_IMPORTED_MODULE_1__.addProfile)(parent, _args, context),
        updateProfile: async (parent, _args, context) => (0,_Mutations_updatemutations__WEBPACK_IMPORTED_MODULE_2__.updateProfile)(parent, _args, context),
    },
    Query: {
        getAllProfiles: async () => (0,_Queries_getAllProfiles__WEBPACK_IMPORTED_MODULE_3__.getAllProfiles)(),
        getProfileById: async (parent, _args, context) => (0,_Queries_getProfileById__WEBPACK_IMPORTED_MODULE_4__.getProfileById)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON
};


/***/ }),

/***/ "./src/api/profiles/typedef.ts":
/*!*************************************!*\
  !*** ./src/api/profiles/typedef.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "profilesTypedef": () => (/* binding */ profilesTypedef)
/* harmony export */ });
const profilesTypedef = `
scalar JSON
type Profiles {
    profileid: Int
    profile_name: String
    status: Boolean
    permissions:JSON
    created_date: DateTime
    updated_at: DateTime
}

type profileResponse {
    code:Int
    message: String
    data:Profiles
}

type getprofileResponse{
    code:Int
    message: String
    data:[Profiles]
}

type Query {
    getAllProfiles:getprofileResponse
    getProfileById(profileid:Int):getprofileResponse
}
type Mutation{
    addProfile(
        profile_name:String,
        status:Boolean,
        permissions:JSON,
        created_date:DateTime,
        updated_at:DateTime): profileResponse

        updateProfile(
            profileid:Int!
            profile_name:String,
            status:Boolean,
            permissions:JSON,
            created_date:DateTime,
            updated_at:DateTime): profileResponse

}
scalar DateTime

`;


/***/ }),

/***/ "./src/api/projectMom/Comments/Mutations/CreateComment.ts":
/*!****************************************************************!*\
  !*** ./src/api/projectMom/Comments/Mutations/CreateComment.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createMomComment": () => (/* binding */ createMomComment)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");



const createMomComment = async (root, args, context) => {
    let momCommentsResponse;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticateDdCd)(context);
        const { momid, commentdetails, addedby, attachment } = args;
        let toS3;
        const momComment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.create({
            data: {
                momid,
                commentdetails,
                addedby,
                createdate: new Date(),
                isshow: true
            },
        });
        console.log(123, momComment);
        if (attachment != null) {
            if (attachment.length) {
                await Promise.all(attachment.map(async (element) => {
                    const attachedFile = {
                        key: element.filename,
                        contentType: element.Content_Type,
                        base64: element.base64,
                        commentid: momComment.id
                    };
                    toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachedFile);
                    element.data = toS3.location;
                }));
            }
        }
        const commentObject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.findMany({
            where: { id: momComment.id },
            include: {
                attachments: true
            }
        });
        momCommentsResponse = { code: 200, message: "success", data: commentObject };
        return momCommentsResponse;
    }
    catch (error) {
        momCommentsResponse = { code: 400, message: error.message };
        return momCommentsResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Comments/Mutations/DeleteComment.ts":
/*!****************************************************************!*\
  !*** ./src/api/projectMom/Comments/Mutations/DeleteComment.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deleteMomComment": () => (/* binding */ deleteMomComment)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const deleteMomComment = async (_root, args, _context) => {
    let momCommentsResponse;
    const { id, deletedby } = args;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(_context);
        const momComment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.update({
            data: {
                id,
                deletedby,
                deleteddate: new Date(),
                isshow: false
            }, where: { id: id }
        });
        const commentObject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.findMany({
            where: { id: momComment.id }
        });
        momCommentsResponse = { code: 200, message: "success", data: commentObject };
        return momCommentsResponse;
    }
    catch (error) {
        momCommentsResponse = { code: 400, message: error.message };
        return momCommentsResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Comments/Mutations/UpdateComment.ts":
/*!****************************************************************!*\
  !*** ./src/api/projectMom/Comments/Mutations/UpdateComment.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateMomComment": () => (/* binding */ updateMomComment)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");



const updateMomComment = async (root, args, context) => {
    let momCommentsResponse;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticateDdCd)(context);
        let toS3;
        const { id, commentdetails, attachment } = args;
        if (attachment != null) {
            if (attachment.length) {
                await Promise.all(attachment.map(async (element) => {
                    const attachedFile = {
                        key: element.filename,
                        contentType: element.Content_Type,
                        base64: element.base64,
                        commentid: momComment.id
                    };
                    toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachedFile);
                    element.data = toS3.location;
                }));
            }
        }
        const momComment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.update({
            data: { id, commentdetails, updatedate: new Date() },
            where: { id: id }
        });
        const commentObject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.findMany({
            where: { id: momComment.id }
        });
        momCommentsResponse = { code: 200, message: "success", data: commentObject };
        return momCommentsResponse;
    }
    catch (error) {
        momCommentsResponse = { code: 400, message: error.message };
        return momCommentsResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Comments/Queries/GetCommentById.ts":
/*!***************************************************************!*\
  !*** ./src/api/projectMom/Comments/Queries/GetCommentById.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCommentById": () => (/* binding */ getCommentById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getCommentById = async (root, args, context) => {
    let momCommentsResponse;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(context);
        const momComment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.findMany({
            where: { id: args.id, isshow: true }, include: {
                attachments: true
            }
        });
        momCommentsResponse = { code: 200, message: "success", data: momComment };
        return momCommentsResponse;
    }
    catch (error) {
        momCommentsResponse = { code: 400, message: error.message };
        return momCommentsResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Comments/resolver.ts":
/*!*************************************************!*\
  !*** ./src/api/projectMom/Comments/resolver.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "momCommentResolver": () => (/* binding */ momCommentResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Comments_Mutations_CreateComment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Comments/Mutations/CreateComment */ "./src/api/projectMom/Comments/Mutations/CreateComment.ts");
/* harmony import */ var _Comments_Mutations_UpdateComment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Comments/Mutations/UpdateComment */ "./src/api/projectMom/Comments/Mutations/UpdateComment.ts");
/* harmony import */ var _Comments_Mutations_DeleteComment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Comments/Mutations/DeleteComment */ "./src/api/projectMom/Comments/Mutations/DeleteComment.ts");
/* harmony import */ var _Comments_Queries_GetCommentById__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Comments/Queries/GetCommentById */ "./src/api/projectMom/Comments/Queries/GetCommentById.ts");





const momCommentResolver = {
    Query: {
        getCommentById: async (parent, _args, context) => (0,_Comments_Queries_GetCommentById__WEBPACK_IMPORTED_MODULE_4__.getCommentById)(parent, _args, context),
    },
    Mutation: {
        createMomComment: async (parent, _args, context) => (0,_Comments_Mutations_CreateComment__WEBPACK_IMPORTED_MODULE_1__.createMomComment)(parent, _args, context),
        updateMomComment: async (parent, _args, context) => (0,_Comments_Mutations_UpdateComment__WEBPACK_IMPORTED_MODULE_2__.updateMomComment)(parent, _args, context),
        deleteMomComment: async (parent, _args, context) => (0,_Comments_Mutations_DeleteComment__WEBPACK_IMPORTED_MODULE_3__.deleteMomComment)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/projectMom/Comments/typedef.ts":
/*!************************************************!*\
  !*** ./src/api/projectMom/Comments/typedef.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "momCommentsTypedef": () => (/* binding */ momCommentsTypedef)
/* harmony export */ });
const momCommentsTypedef = `

    type Attachments{
        id : Int!
        filekey : String
        contenttype : String
        location : String
        commentid : Int
        momid: Int
    }
    type MomComments{
        id : Int!
        momid : Int
        commentdetails : String
        addedby : String
        deletedby : String
        createdate : DateTime
        deleteddate : DateTime
        updatedate : DateTime
        isshow : Boolean
        attachments : [Attachments]
    }
    
    type MomCommentsResponse{
        code:Int
        message:String,
        data:[MomComments]
    }
    type Mutation{
        createMomComment(
            momid : Int!
            commentdetails : String
            addedby : String
            attachment : JSON): MomCommentsResponse 

        updateMomComment(
            id : Int
            commentdetails : String
            attachment : JSON): MomCommentsResponse
            
        deleteMomComment(
            id : Int
            deletedby : String): MomCommentsResponse
    }

    type Query{
        getCommentById(id:Int): MomCommentsResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/projectMom/Mutations/CreateMom.ts":
/*!***************************************************!*\
  !*** ./src/api/projectMom/Mutations/CreateMom.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createMom": () => (/* binding */ createMom)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const createMom = async (root, args, context) => {
    let momResponse;
    try {
        const { projectid, milestoneid, status } = args;
        const projectMom = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.create({
            data: {
                projectid, milestoneid, status
            },
        });
        const projectMOmObject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.findMany({
            where: { id: projectMom.id },
            include: {
                momComments: true
            }
        });
        momResponse = { code: 200, message: "success", data: projectMOmObject };
        return momResponse;
    }
    catch (error) {
        momResponse = { code: 400, message: error.message };
        return momResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Mutations/UpdateMom.ts":
/*!***************************************************!*\
  !*** ./src/api/projectMom/Mutations/UpdateMom.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateMom": () => (/* binding */ updateMom)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");




const updateMom = async (root, args, context) => {
    let momResponse;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "DD");
        const { id, designerid, meetingname, meetingagenda, meetingdescription, meetingdate, attachment, status, } = args;
        let toS3;
        if (attachment != null) {
            if (attachment.length) {
                await Promise.all(attachment.map(async (element) => {
                    const attachedFile = {
                        key: element.filename,
                        contentType: element.Content_Type,
                        base64: element.base64,
                        userid: user.userid,
                        momid: id,
                    };
                    toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachedFile);
                    element.data = toS3.location;
                }));
            }
        }
        let sentondate;
        if (status === "Shared") {
            sentondate = new Date();
        }
        const projectMom = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.update({
            data: {
                designerid,
                meetingname,
                meetingagenda,
                meetingdescription,
                meetingdate,
                status,
                sentondate,
            },
            where: { id: id },
        });
        console.log(projectMom);
        const projectMOmObject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.findMany({
            where: { id: projectMom.id },
            include: {
                attachments: true,
                momComments: true,
            },
        });
        if (status === "Shared") {
            let selectedMilestone;
            const mom = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.findFirst({ where: { id: id } });
            const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
                where: { id: mom.projectid },
            });
            let milestonedetails = [], milestonechecklist = [];
            const milestones = project.milestones;
            milestonedetails = milestones["attributes"].milestone_details;
            milestonedetails.forEach(async (milestone) => {
                milestonechecklist = milestone.milestone_checklist;
                milestonechecklist.forEach(async (fetchedmilestone) => {
                    if (fetchedmilestone.length !== 0 &&
                        fetchedmilestone["checklist_string"] === meetingname) {
                        fetchedmilestone.is_checked = true;
                        selectedMilestone = milestone;
                    }
                });
            });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                data: { milestones: milestones },
                where: { id: project.id },
            });
            await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.checkAndMarkMilestonesOnSmartsheet)(project.id, selectedMilestone);
        }
        momResponse = { code: 200, message: "success", data: projectMOmObject };
        return momResponse;
    }
    catch (error) {
        momResponse = { code: 400, message: error.message };
        return momResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Queries/getMomById.ts":
/*!**************************************************!*\
  !*** ./src/api/projectMom/Queries/getMomById.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMomById": () => (/* binding */ getMomById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getMomById = async (root, args, context) => {
    let momResponse;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(context);
        const projectMom = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.findMany({
            where: { id: args.id },
            include: {
                attachments: true,
                momComments: true,
            }
        });
        const momComments = projectMom[0].momComments;
        let momComment;
        await Promise.all(momComments.map(async (element) => {
            momComment = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_mom_comments.findMany({
                where: { id: element.id, isshow: true }, include: {
                    attachments: true
                }
            });
            element["attachments"] = momComment[0].attachments;
        }));
        momResponse = { code: 200, message: "success", data: projectMom };
        return momResponse;
    }
    catch (error) {
        momResponse = { code: 400, message: error.message };
        return momResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/Queries/getMomByProject.ts":
/*!*******************************************************!*\
  !*** ./src/api/projectMom/Queries/getMomByProject.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMomByProjectId": () => (/* binding */ getMomByProjectId)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getMomByProjectId = async (root, args, context) => {
    let momResponse;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(context);
        const projectMom = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.findMany({
            where: { projectid: args.projectid, status: args.status },
            include: {
                attachments: true,
                momComments: true
            }
        });
        let attachmentscount = 0;
        await Promise.all(projectMom.map((momattachments) => {
            const attachments = momattachments.attachments;
            if (attachments.length !== 0) {
                attachments.map((attachement) => {
                    if (Object.keys(attachement).length) {
                        attachmentscount++;
                    }
                });
            }
        }));
        console.log(76, attachmentscount);
        momResponse = { code: 200, message: "success", data: projectMom, attachmentscount: attachmentscount };
        return momResponse;
    }
    catch (error) {
        momResponse = { code: 400, message: error.message };
        return momResponse;
    }
};


/***/ }),

/***/ "./src/api/projectMom/resolver.ts":
/*!****************************************!*\
  !*** ./src/api/projectMom/resolver.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectMomResolver": () => (/* binding */ projectMomResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_UpdateMom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/UpdateMom */ "./src/api/projectMom/Mutations/UpdateMom.ts");
/* harmony import */ var _Mutations_CreateMom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/CreateMom */ "./src/api/projectMom/Mutations/CreateMom.ts");
/* harmony import */ var _Queries_getMomById__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/getMomById */ "./src/api/projectMom/Queries/getMomById.ts");
/* harmony import */ var _Queries_getMomByProject__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Queries/getMomByProject */ "./src/api/projectMom/Queries/getMomByProject.ts");





const projectMomResolver = {
    Query: {
        getMomById: async (parent, _args, context) => (0,_Queries_getMomById__WEBPACK_IMPORTED_MODULE_3__.getMomById)(parent, _args, context),
        getMomByProjectId: async (parent, _args, context) => (0,_Queries_getMomByProject__WEBPACK_IMPORTED_MODULE_4__.getMomByProjectId)(parent, _args, context),
    },
    Mutation: {
        createMom: async (parent, _args, context) => (0,_Mutations_CreateMom__WEBPACK_IMPORTED_MODULE_2__.createMom)(parent, _args, context),
        updateMom: async (parent, _args, context) => (0,_Mutations_UpdateMom__WEBPACK_IMPORTED_MODULE_1__.updateMom)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/projectMom/typedef.ts":
/*!***************************************!*\
  !*** ./src/api/projectMom/typedef.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectMomTypedef": () => (/* binding */ projectMomTypedef)
/* harmony export */ });
const projectMomTypedef = `
type ProjectMoms{
    id : Int!
    projectid : Int
    milestoneid : Int
    designerid : Int
    meetingname : String
    meetingagenda : String
    meetingdescription : String
    meetingdate : DateTime
    status : String
    sentondate : DateTime
    attachments: [Attachments]
    momComments : [MomComments]
    }

    type MomResponse{
        code:Int
        message:String,
        data:[ProjectMoms]
        attachmentscount: Int
    }
    type Mutation{
        createMom(
            
            projectid : Int,
            milestoneid : Int,
            status : String): MomResponse
    
        updateMom(
            id : Int!,
            designerid : Int,
            meetingname : String,
            meetingagenda : String,
            meetingdescription : String,
            meetingdate : DateTime,
            attachment : JSON,
            status : String): MomResponse
    }

    type Query{
        getMomById(id:Int!): MomResponse
        getMomByProjectId(projectid:Int!,status:String): MomResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/projects/Mutations/AddMilestoneFiles.ts":
/*!*********************************************************!*\
  !*** ./src/api/projects/Mutations/AddMilestoneFiles.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addMilestoneFiles": () => (/* binding */ addMilestoneFiles),
/* harmony export */   "getApprovalStatus": () => (/* binding */ getApprovalStatus)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/enumerations/FileCheckListEnums */ "./src/domain/enumerations/FileCheckListEnums.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");





const addMilestoneFiles = async (root, args, context) => {
    const { projectid, filename, filekey, fileurl, contenttype, uploadedby, comments, } = args;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(context, "DD");
        let selectedMilestone;
        const fileCheckListName = await validateAndGetChecklistName(filename);
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: projectid },
        });
        if (!project) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Project not found");
        }
        let milestonedetails = [], milestonechecklist = [], fileschecklist = [];
        const milestones = project.milestones;
        milestonedetails = milestones["attributes"].milestone_details;
        milestonedetails.forEach(async (milestone) => {
            milestonechecklist = milestone.milestone_checklist;
            milestonechecklist.forEach(async (fetchedmilestone) => {
                if (filename === _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_1__.FileCheckListName.SURVEY_DRAWINGS ||
                    filename === _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_1__.FileCheckListName.SITE_IMAGES ||
                    filename === _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_1__.FileCheckListName.DESIGN_PRESENTATION) {
                    if (fetchedmilestone.length !== 0 &&
                        fetchedmilestone["checklist_string"] === fileCheckListName) {
                        fetchedmilestone.is_checked = true;
                        selectedMilestone = milestone;
                    }
                }
            });
        });
        fileschecklist = milestones["attributes"].files_checklist;
        fileschecklist.forEach(async (file) => {
            if (file.length !== 0 && file["checklist_string"] === filename) {
                file.filekey = filekey;
                file.fileurl = fileurl;
                file.contentType = contenttype;
                file.uploadedby = uploadedby;
                file.uploadedon = new Date();
                const res = getApprovalStatus(file.approval_from_customer);
                file.approvalstatus = res.status;
                file.sentondate = res.sentOnDate;
                file.created_at = new Date();
                file.updated_at = new Date();
                file.comments = comments;
            }
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            data: { milestones: milestones },
            where: { id: projectid },
        });
        if (selectedMilestone) {
            await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_4__.checkAndMarkMilestonesOnSmartsheet)(projectid, selectedMilestone);
        }
        return { code: 200, message: "success" };
    }
    catch (error) {
        return { code: 400, message: error.message };
    }
};
const validateAndGetChecklistName = async (checklistNameInReq) => {
    return (0,_domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_1__.getFileChecklistName)(checklistNameInReq);
};
const getApprovalStatus = (approvalRequiredstatus) => {
    let status, sentOnDate;
    if (approvalRequiredstatus) {
        status = "Pending Approval";
        sentOnDate = new Date();
    }
    else {
        status = null;
        sentOnDate = null;
    }
    return { status, sentOnDate };
};


/***/ }),

/***/ "./src/api/projects/Mutations/AddProject.ts":
/*!**************************************************!*\
  !*** ./src/api/projects/Mutations/AddProject.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addProject": () => (/* binding */ addProject)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateDesigner */ "./src/api/projects/Smartsheet/Mutations/UpdateDesigner.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateSurvey */ "./src/api/projects/Smartsheet/Mutations/UpdateSurvey.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");
/* harmony import */ var _Smartsheet_Mutations_CreateSmartsheet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Smartsheet/Mutations/CreateSmartsheet */ "./src/api/projects/Smartsheet/Mutations/CreateSmartsheet.ts");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! shortid */ "shortid");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(shortid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../domain/services/template/EmailTemplate */ "./src/domain/services/template/EmailTemplate.ts");








const addProject = async (_root, args, _context) => {
    var _a, _b;
    const projectCreationResponse = { code: 200, message: "success", data: null };
    const { projectid, projectname, totalprojectvalue, signupdate, customerid, designerid, salesmanagerid, chmid, designstudioid, modularbaseamount, projectmodularvalue, modulardiscount, siteservicebaseamount, projectsiteservicesvalue, siteservicediscount, signupamount, signupstate, experiencecenterid, cityid, projectaddressid, cmmname, expectedhandoverdate, currentmilestone, projectphase, hasdesigneraccepted, hasdesigerresponded, hometype, initialsignupvalue, decorvalue, quoteid, projectrating, includepmfee, milestonetype, odooid, odoo_delivery_address_id, isnewpaymentproject, opportunityid, template, isimosproject, modularamountgst, siteserviceamountgst, modularabsolutediscount, modularpmfee, siteservicegst, siteservicepdflink, modularamountgstvalue, sitepmfee, siteservicediscountvalue, quotelink, proposalpdflink, salesmanagername } = args;
    try {
        const projectTemplates = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.callExternalAPIWithPost)("https://cms.designcafe.com/graphqlm", _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.queryForFetchingTemplate);
        const surveyExecId = await getSurveyExecutiveId(experiencecenterid);
        const projectAlreadyExist = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                projectid: projectid,
            },
        });
        if (projectAlreadyExist) {
            return { code: 400, message: "Project already exists" };
        }
        if (projectTemplates) {
            const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.create({
                data: {
                    projectid,
                    milestones: (_a = projectTemplates === null || projectTemplates === void 0 ? void 0 : projectTemplates.data) === null || _a === void 0 ? void 0 : _a.projectTemplates.data[0],
                    projectname,
                    projectstatus: "draft",
                    totalprojectvalue,
                    createdate: new Date(),
                    updatedate: new Date(),
                    signupdate,
                    customerid,
                    designerid,
                    salesmanagerid,
                    chmid,
                    surveyexecutiveid: surveyExecId,
                    designstudioid,
                    modularbaseamount,
                    projectmodularvalue,
                    modulardiscount,
                    siteservicebaseamount,
                    projectsiteservicesvalue,
                    siteservicediscount,
                    signupamount,
                    signupstate,
                    experiencecenterid,
                    cityid,
                    projectaddressid,
                    cmmname,
                    expectedhandoverdate,
                    currentmilestone,
                    projectphase,
                    hasdesigneraccepted,
                    hasdesigerresponded,
                    hometype,
                    initialsignupvalue,
                    decorvalue,
                    quoteid,
                    projectrating,
                    includepmfee,
                    milestonetype,
                    odooid,
                    odoo_delivery_address_id,
                    isnewpaymentproject,
                    opportunityid,
                    template,
                    isimosproject,
                    modularamountgst,
                    siteserviceamountgst,
                    modularabsolutediscount,
                    modularpmfee,
                    siteservicegst,
                    siteservicepdflink,
                    modularamountgstvalue,
                    sitepmfee,
                    siteservicediscountvalue,
                    quotelink,
                    proposalpdflink,
                    salesmanagername
                },
            });
            if (project) {
                await addMOM((_b = projectTemplates === null || projectTemplates === void 0 ? void 0 : projectTemplates.data) === null || _b === void 0 ? void 0 : _b.projectTemplates.data[0], project.id);
                const smartSheetProjectResponse = await addProjectOnSmartSheet(project, args);
                if (smartSheetProjectResponse.code !== 200) {
                    projectCreationResponse.code = 400;
                    projectCreationResponse.message = smartSheetProjectResponse.message;
                    return projectCreationResponse;
                }
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                    where: {
                        id: project.id,
                    },
                    data: {
                        smartsheetid: smartSheetProjectResponse.sheetId.toString(),
                    },
                });
                if (projectCreationResponse.code === 200) {
                    const profile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
                        where: { profile_name: "CHM Executive" },
                    });
                    let fetchUser = [];
                    const fetchTeam = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findFirst({
                        where: { userid: args.designerid },
                    });
                    fetchUser = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findMany({
                        where: { teamid: fetchTeam.teamid },
                        select: { userid: true },
                    });
                    var fetchedUser = fetchUser;
                    let getUserProfile;
                    for (var i = 0; i < fetchedUser.length; i++) {
                        if (fetchedUser[i].userid !== null) {
                            getUserProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                                where: { userid: fetchedUser[i].userid },
                            });
                            if (getUserProfile.profileid === profile.profileid) {
                                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                                    where: { id: project.id },
                                    data: { chmid: getUserProfile.userid },
                                });
                            }
                        }
                    }
                }
                await AssignDesignerEmaili(smartSheetProjectResponse.sheetId.toString(), designerid);
                await AssignSurveyEmaili(smartSheetProjectResponse.sheetId.toString(), project.surveyexecutiveid);
                const addPaymentRequestResponse = await add5PercentPaymentRequestObject(projectmodularvalue, projectsiteservicesvalue, args.projectid, opportunityid);
                if (addPaymentRequestResponse.code !== 200) {
                    projectCreationResponse.code = 400;
                    projectCreationResponse.message = addPaymentRequestResponse.message;
                    return projectCreationResponse;
                }
                const quotesForProjects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
                    where: {
                        opportunityid: opportunityid,
                        latest_quote__c: true,
                    },
                });
                if (quotesForProjects) {
                    let roomList;
                    if (quotesForProjects.dc_room_list__c) {
                        roomList = getRoomListArray(quotesForProjects.dc_room_list__c);
                    }
                    const quoteData = {
                        quotename: quotesForProjects.name,
                        modularvalue: quotesForProjects.modular_amount__c,
                        siteservice: quotesForProjects.site_services_amount__c,
                        modulardiscount: quotesForProjects.modular_discount__c,
                        modularabsolutediscount: quotesForProjects.modular_fixed_discount__c,
                        siteserviceabsolutediscount: quotesForProjects.site_service_fixed_discount__c,
                        siteservicediscount: quotesForProjects.site_services_discount__c,
                        islatestquote: quotesForProjects.latest_quote__c,
                        salesforcequoteid: quotesForProjects.sfid,
                        opportunityid: quotesForProjects.opportunityid,
                        proposalpdf: quotesForProjects.proposal_pdf__c,
                        decorvalue: quotesForProjects.decor_amount__c,
                        modularpdflocation: quotesForProjects.quote_link__c,
                        siteservicepdflocation: quotesForProjects.site_services_pdf__c,
                        customername: quotesForProjects.customer_name__c,
                        roomlist: roomList,
                        modularxml: quotesForProjects.dc_modular_xml__c,
                        siteservicexml: quotesForProjects.dc_site_services_xml__c,
                    };
                    const projectQuote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.create({
                        data: quoteData,
                    });
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                        where: {
                            id: project.id,
                        },
                        data: {
                            quoteid: projectQuote.id,
                        },
                    });
                }
                else {
                    projectCreationResponse.code = 400;
                    projectCreationResponse.message =
                        "Project Created But No Quote Found For the given Opportunity Id";
                }
            }
            projectCreationResponse.data = project;
        }
        else {
            projectCreationResponse.code = 400;
            projectCreationResponse.message = "Not able to set project template";
        }
    }
    catch (error) {
        console.log(error);
        projectCreationResponse.code = 400;
        projectCreationResponse.message = error.message;
    }
    return projectCreationResponse;
};
const getRoomListArray = (roomsArray) => {
    const stringifyRoomlist = JSON.parse(JSON.stringify(roomsArray).replace(/&quot;/g, '\\"'));
    return JSON.parse(stringifyRoomlist);
};
const addProjectOnSmartSheet = async (project, args) => {
    const fetchedDesignerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
        where: {
            userid: args.designerid,
        },
        include: {
            users_city: {
                include: { city: true },
            },
            users_experiencecenters: {
                include: { center: true },
            },
            users_team: {
                include: { team: true },
            },
        },
    });
    console.log(224, args.customerid);
    const fetchedCustomerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findUnique({
        where: {
            customerid: args.customerid,
        },
        include: {
            addresses: true,
        },
    });
    let propertyAddress;
    if (fetchedCustomerData.addresses.length > 0) {
        const { street, city, state, zip, country } = fetchedCustomerData.addresses[0];
        propertyAddress = `${street} ${city} ${state} ${zip} ${country}`;
    }
    const customerName = getCustomerName(fetchedCustomerData);
    const smartSheetPayload = {
        projectId: project.id,
        clientName: customerName,
        clientId: args.projectid,
        projectSignupValue: args.signupamount,
        designerName: `${fetchedDesignerData.firstname} ${fetchedDesignerData.lastname}`,
        designStudio: `${fetchedDesignerData.users_team[0].team.name}`,
        salesOwner: "",
        clientEmail: fetchedCustomerData.customeremail,
        clientContact: `${fetchedCustomerData.customerphone}`,
        propertyName: "",
        propertyAddress: propertyAddress ? propertyAddress : null,
        status: "Draft",
        signupDate: new Date().toISOString().split("T")[0],
    };
    console.log(336, smartSheetPayload);
    return (0,_Smartsheet_Mutations_CreateSmartsheet__WEBPACK_IMPORTED_MODULE_4__.createSmartSheet)(null, smartSheetPayload, null);
};
const add5PercentPaymentRequestObject = async (projectmodularvalue, projectsiteservicesvalue, clientId, opportunityid) => {
    try {
        const paymentRequestArr = [
            {
                requestdate: new Date().toISOString().split("T")[0],
                category: "Modular",
                requestid: `PR-${shortid__WEBPACK_IMPORTED_MODULE_5___default().generate()}`,
                requestamount: projectmodularvalue
                    ? (5 / 100) * projectmodularvalue
                    : 0,
                description: "5% of Modular",
                clientid: clientId,
                status: "Pending",
                appname: "DD",
            },
        ];
        const paymentRequestArrForSF = [
            {
                category__c: "Modular",
                request_id__c: `PR-${shortid__WEBPACK_IMPORTED_MODULE_5___default().generate()}`,
                request_amount__c: projectmodularvalue
                    ? (5 / 100) * projectmodularvalue
                    : 0,
                description__c: "5% of Modular",
                client_id__c: clientId,
                status__c: "Pending",
                opportunity__c: opportunityid,
            },
        ];
        if (projectsiteservicesvalue) {
            paymentRequestArr.push({
                requestdate: new Date().toISOString().split("T")[0],
                category: "Site Services",
                requestid: `PR-${shortid__WEBPACK_IMPORTED_MODULE_5___default().generate()}`,
                requestamount: projectsiteservicesvalue
                    ? (5 / 100) * projectsiteservicesvalue
                    : 0,
                description: "5% of Site Service",
                clientid: clientId,
                status: "Pending",
                appname: "DD",
            });
            paymentRequestArrForSF.push({
                category__c: "Site Services",
                request_id__c: `PR-${shortid__WEBPACK_IMPORTED_MODULE_5___default().generate()}`,
                request_amount__c: projectsiteservicesvalue
                    ? (5 / 100) * projectsiteservicesvalue
                    : 0,
                description__c: "5% of Site Service",
                client_id__c: clientId,
                status__c: "Pending",
                opportunity__c: opportunityid,
            });
        }
        const addedPaymentRequestData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentrequests.createMany({
            data: paymentRequestArr,
        });
        const addedPaymentRequestDataSF = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.request_payment__c.createMany({
            data: paymentRequestArrForSF,
        });
        if (addedPaymentRequestData && addedPaymentRequestDataSF) {
            await callPaymentRequestNotification(clientId);
            return {
                code: 200,
                message: "Payment Request Successfully Added",
                data: paymentRequestArr,
            };
        }
        else {
            return {
                code: 400,
                message: addedPaymentRequestData
                    ? "Payment Request Not Added on SF"
                    : "Payment Request Not Added",
            };
        }
    }
    catch (e) {
        console.log(e.message);
        return { code: 400, message: e.message, data: null };
    }
};
const addMOM = async (milestones, projectId) => {
    const momLabelList = [];
    milestones["attributes"]["milestone_details"].forEach((item) => {
        if (item["milestone_checklist"].length > 0) {
            const momMilestoneObj = item.milestone_checklist.filter((checklist) => checklist.checklist_string.includes("MOM"));
            if (momMilestoneObj.length > 0) {
                momLabelList.push(momMilestoneObj[0].checklist_string);
            }
        }
    });
    if (momLabelList.length > 0) {
        const momPayloadArr = [];
        momLabelList.forEach((momLabel) => {
            momPayloadArr.push({
                projectid: projectId,
                meetingname: momLabel,
                meetingagenda: momLabel,
                status: "Draft",
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_mom.createMany({
            data: momPayloadArr,
        });
    }
};
const AssignSurveyEmaili = async (smartsheetid, surveyexecutiveid) => {
    if (surveyexecutiveid) {
        const survey = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: { userid: surveyexecutiveid },
        });
        if (survey) {
            const updateSurveyPayload = {
                smartSheetId: smartsheetid,
                surveyExecutiveEmail: survey.designcafeemail,
            };
            await (0,_Smartsheet_Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_2__.updateSurvey)(null, updateSurveyPayload, null);
        }
    }
};
const AssignDesignerEmaili = async (smartsheetid, designerid) => {
    if (designerid) {
        const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: { userid: designerid },
        });
        if (designer) {
            const updateDesignerPayload = {
                smartSheetId: smartsheetid,
                designerEmail: designer.designcafeemail,
            };
            await (0,_Smartsheet_Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_1__.updateDesignerEmail)(null, updateDesignerPayload, null);
        }
    }
};
const getSurveyExecutiveId = async (experiencecenterid) => {
    const fetchedSurveyExecutives = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
        where: {
            profileid: 15,
        },
        include: {
            users_experiencecenters: {
                include: { center: true },
            },
        },
    });
    const surveyExecutives = [];
    if (fetchedSurveyExecutives.length > 0) {
        await Promise.all(fetchedSurveyExecutives.map((surveyExecutive) => {
            surveyExecutive.users_experiencecenters.map((exc) => {
                if (exc.centerid === experiencecenterid) {
                    surveyExecutives.push(surveyExecutive.userid);
                }
            });
        }));
    }
    let surveyExecutiveId;
    if (surveyExecutives.length) {
        if (surveyExecutives.length === 1) {
            surveyExecutiveId = surveyExecutives[0];
        }
        else if (surveyExecutives.length > 1) {
            const roundRobinData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_surveyroundrobin.findFirst({
                where: {
                    experiencecenterid: experiencecenterid,
                },
            });
            surveyExecutiveId = await roundRobinLogic(roundRobinData, surveyExecutives, experiencecenterid);
        }
    }
    return surveyExecutiveId;
};
const roundRobinLogic = async (roundRobinData, surveyExecutives, experienceCenterId) => {
    let surveyExecutiveToBeAssignedToProject;
    if (roundRobinData) {
        const latestSurveyExecutiveId = roundRobinData.surveyexecutiveid;
        const indexOfTheSurveyExecutiveAssignedToProject = surveyExecutives.findIndex((surveyExecutive) => surveyExecutive === latestSurveyExecutiveId);
        if (surveyExecutives.length ===
            indexOfTheSurveyExecutiveAssignedToProject + 1) {
            surveyExecutiveToBeAssignedToProject = surveyExecutives[0];
        }
        else {
            surveyExecutiveToBeAssignedToProject =
                surveyExecutives[indexOfTheSurveyExecutiveAssignedToProject + 1];
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_surveyroundrobin.update({
            where: {
                roundrobinid: roundRobinData.roundrobinid,
            },
            data: {
                surveyexecutiveid: surveyExecutiveToBeAssignedToProject,
            },
        });
    }
    else {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_surveyroundrobin.create({
            data: {
                experiencecenterid: experienceCenterId,
                surveyexecutiveid: surveyExecutives[0],
            },
        });
        surveyExecutiveToBeAssignedToProject = surveyExecutives[0];
    }
    return surveyExecutiveToBeAssignedToProject;
};
const callPaymentRequestNotification = async (clientId) => {
    const fetchProject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({ where: { projectid: clientId } });
    const ccList = [];
    if (fetchProject) {
        if (fetchProject.designerid) {
            const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({ where: { userid: fetchProject.designerid } });
            if (designer && designer.designcafeemail) {
                ccList.push(designer.designcafeemail);
            }
        }
        else {
            ccList.push("lorenzo@designcafe.com");
        }
        ccList.push("ddadmin@designcafe.com");
        if (fetchProject.chmid) {
            const chmExecutive = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({ where: { userid: fetchProject.chmid } });
            if (chmExecutive && chmExecutive.designcafeemail) {
                ccList.push(chmExecutive.designcafeemail);
            }
        }
    }
    const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({ where: { customerid: fetchProject.customerid } });
    const emailTemplateString = _domain_services_template_EmailTemplate__WEBPACK_IMPORTED_MODULE_7__["default"].paymentRequestTemplate(customer, clientId);
    const subject = `Payment Requested for your Project ${clientId}`;
    await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_6__.triggerEmailNotification)(customer.customeremail, subject, emailTemplateString, ccList);
};
const getCustomerName = (fetchedCustomerData) => {
    const firstname = fetchedCustomerData.firstname ? fetchedCustomerData.firstname.trim() : "";
    const lastname = fetchedCustomerData.lastname ? fetchedCustomerData.lastname.trim() : "";
    return `${firstname ? firstname + " " : ""}${lastname}`;
};


/***/ }),

/***/ "./src/api/projects/Mutations/CompleteChecklistApi.ts":
/*!************************************************************!*\
  !*** ./src/api/projects/Mutations/CompleteChecklistApi.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "completeChecklistApi": () => (/* binding */ completeChecklistApi)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);


const completeChecklistApi = async (_root, _args, _context) => {
    var _a, _b;
    try {
        const projectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: _args.projectId },
        });
        if (!projectData) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Project not found");
        }
        const modularbaseamount = projectData.modularbaseamount;
        const modulardiscount = projectData.modulardiscount;
        const modulardiscountcost = (modularbaseamount * modulardiscount) / 100;
        const modulargst = (modularbaseamount * 18) / 100;
        const modularBaseAmount = modularbaseamount + modulargst - modulardiscountcost;
        console.log(modularBaseAmount);
        const modularAmountfor5Percentage = Math.round(modularBaseAmount * 5) / 100;
        const modularAmountfor15Percentage = Math.round(modularBaseAmount * 20) / 100;
        const modularAmountfor35Percentage = Math.round(modularBaseAmount * 55) / 100;
        const modularAmountfor45Percentage = Math.round(modularBaseAmount);
        const ModualarMilestones = [
            modularAmountfor5Percentage,
            modularAmountfor15Percentage,
            modularAmountfor35Percentage,
            modularAmountfor45Percentage,
        ];
        const labelName = await GetLabelName(projectData, ModualarMilestones);
        console.log(labelName);
        const milestoneData = (_b = (_a = projectData === null || projectData === void 0 ? void 0 : projectData.milestones) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.milestone_details;
        milestoneData.forEach((element) => {
            if (element.milestone_checklist &&
                element.milestone_checklist.length !== 0 &&
                (element === null || element === void 0 ? void 0 : element.label) === labelName) {
                const milestoneChecklist = element === null || element === void 0 ? void 0 : element.milestone_checklist;
                milestoneChecklist.forEach((val) => {
                    if (val.length !== 0 &&
                        val.is_payment_milestone_checklist === true &&
                        val.required === true) {
                        val.is_checked = true;
                    }
                });
            }
        });
        projectData.milestones.attributes.milestone_details = milestoneData;
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: { id: _args.projectId },
            data: { milestones: projectData.milestones },
        });
        return {
            code: 200,
            message: "Checklist marked complete successfully.",
            milestonename: labelName,
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error.message);
    }
};
const GetLabelName = async (projectData, ModualarMilestones) => {
    const milestone = projectData.milestones;
    const modularnamefor5Percentage = milestone.attributes.milestone_details[0].label;
    const modularnamefor15Percentage = milestone.attributes.milestone_details[4].label;
    const modularnamefor35Percentage = milestone.attributes.milestone_details[9].label;
    const modularnamefor45Percentage = milestone.attributes.milestone_details[12].label;
    console.log(ModualarMilestones);
    const modularCollectedAmount = projectData.modular_collected_amount;
    const differenceAmount = 100;
    const milestoneEqualAmount = modularCollectedAmount + differenceAmount;
    console.log(milestoneEqualAmount);
    const modularAmount = ModualarMilestones.indexOf(modularCollectedAmount);
    let labelName;
    console.log(modularAmount);
    if (modularAmount >= 0) {
        console.log("1");
        if (modularAmount === 0) {
            labelName = modularnamefor5Percentage;
        }
        else if (modularAmount === 1) {
            labelName = modularnamefor15Percentage;
        }
        else if (modularAmount === 2) {
            labelName = modularnamefor35Percentage;
        }
        else if (modularAmount === 3) {
            labelName = modularnamefor45Percentage;
        }
    }
    else {
        const compareMilstone = ModualarMilestones.indexOf(milestoneEqualAmount);
        console.log(compareMilstone);
        console.log("2");
        if (compareMilstone === 0) {
            labelName = modularnamefor5Percentage;
        }
        else if (compareMilstone === 1) {
            labelName = modularnamefor15Percentage;
        }
        else if (compareMilstone === 2) {
            labelName = modularnamefor35Percentage;
        }
        else if (compareMilstone === 3) {
            labelName = modularnamefor45Percentage;
        }
    }
    return labelName;
};


/***/ }),

/***/ "./src/api/projects/Mutations/CompleteMilestoneChecklist.ts":
/*!******************************************************************!*\
  !*** ./src/api/projects/Mutations/CompleteMilestoneChecklist.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "completeMilestoneChecklist": () => (/* binding */ completeMilestoneChecklist)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const completeMilestoneChecklist = async (_root, args, _context) => {
    var _a, _b;
    const defaultResponseObj = { code: 200, message: null, data: null };
    const { projectId, checkListName } = args;
    let selectedMilestone;
    try {
        const fetchedProject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findUnique({
            where: {
                id: projectId,
            },
        });
        if (fetchedProject) {
            (_b = (_a = fetchedProject === null || fetchedProject === void 0 ? void 0 : fetchedProject.milestones["attributes"]) === null || _a === void 0 ? void 0 : _a.milestone_details) === null || _b === void 0 ? void 0 : _b.forEach((milestone) => {
                if (milestone.milestone_checklist.length > 0) {
                    milestone.milestone_checklist.forEach(async (milestoneChecklist) => {
                        if (milestoneChecklist.checklist_string === checkListName) {
                            milestoneChecklist.is_checked = true;
                            selectedMilestone = milestone;
                        }
                    });
                }
            });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: {
                    id: projectId
                },
                data: {
                    milestones: fetchedProject.milestones
                }
            });
            await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.checkAndMarkMilestonesOnSmartsheet)(projectId, selectedMilestone);
            defaultResponseObj.code = 200;
            defaultResponseObj.message = "Milestone Updated";
        }
    }
    catch (e) {
        defaultResponseObj.code = 400;
        defaultResponseObj.message = e.message;
    }
    return defaultResponseObj;
};


/***/ }),

/***/ "./src/api/projects/Mutations/ShareFileWithCustomer.ts":
/*!*************************************************************!*\
  !*** ./src/api/projects/Mutations/ShareFileWithCustomer.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "shareFileWithCustomer": () => (/* binding */ shareFileWithCustomer)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/FileCheckListEnums */ "./src/domain/enumerations/FileCheckListEnums.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);




const shareFileWithCustomer = async (root, args, context) => {
    const { projectid, filename, sharewithcustomer, } = args;
    let shareFileWithCustomerRes;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(context, "DD");
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: projectid },
        });
        if (!project) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Project not found");
        }
        let fileschecklist = [];
        const milestones = project.milestones;
        fileschecklist = milestones["attributes"].files_checklist;
        fileschecklist.forEach(async (file) => {
            if (file.length !== 0 && file["checklist_string"] === filename) {
                console.log(456, _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_2__.FileCheckListName);
                if (filename === _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_2__.FileCheckListName.SURVEY_DRAWINGS || filename === _domain_enumerations_FileCheckListEnums__WEBPACK_IMPORTED_MODULE_2__.FileCheckListName.SITE_IMAGES) {
                    file.share_with_customer = sharewithcustomer;
                    if (file.share_with_customer) {
                        shareFileWithCustomerRes = { code: 200, message: "File successfully shared with customer" };
                    }
                    else {
                        shareFileWithCustomerRes = { code: 200, message: "File shared with customer have been revoked" };
                    }
                }
                else {
                    if (file.share_with_customer) {
                        shareFileWithCustomerRes = { code: 400, message: "Sorry cannot unshare this file" };
                    }
                    else {
                        file.share_with_customer = sharewithcustomer;
                        shareFileWithCustomerRes = { code: 200, message: "File successfully shared with customer" };
                    }
                }
            }
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            data: { milestones: milestones },
            where: { id: projectid },
        });
        return shareFileWithCustomerRes;
    }
    catch (error) {
        shareFileWithCustomerRes = { code: 400, message: "Sorry cannot unshare this file" };
        return shareFileWithCustomerRes;
    }
};


/***/ }),

/***/ "./src/api/projects/Mutations/UpdateFormFillMilestones.ts":
/*!****************************************************************!*\
  !*** ./src/api/projects/Mutations/UpdateFormFillMilestones.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateFormFillMilestones": () => (/* binding */ updateFormFillMilestones)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");




const updateFormFillMilestones = async (_root, args, _context) => {
    const { projectId, formFillName, formFillData } = args;
    try {
        const fetchedProject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findUnique({
            where: {
                id: projectId,
            },
        });
        let selectedMilestone;
        for (let i = 0; i < fetchedProject.milestones["attributes"].milestone_details.length; i++) {
            console.log(26);
            for (let j = 0; j <
                fetchedProject.milestones["attributes"].milestone_details[i]
                    .milestone_checklist.length; j++) {
                if (fetchedProject.milestones["attributes"].milestone_details[i]
                    .milestone_checklist[j].checklist_string === formFillName) {
                    if (formFillName === "Send Project to Production") {
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].approvalstatus = "Pending";
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].is_checked = true;
                        const data = {
                            projectmanagername: formFillData.pmName,
                            expectedhandoverdate: formFillData.projectHandOverDate,
                            siteaddress: formFillData.siteAddress,
                            isimosproject: formFillData.isProjectIMOS,
                            valuebeforediscount: formFillData.valueBeforeDiscount,
                            floorarea: formFillData.floorArea,
                            imosrooms: formFillData.imosRooms
                                ? [...formFillData.imosRooms]
                                : undefined,
                        };
                        selectedMilestone =
                            fetchedProject.milestones["attributes"].milestone_details[i];
                        const response = await callEmailNotification(formFillName, fetchedProject, formFillData);
                        if (response.message === "success") {
                            await completMilestoneForProductionRequestOrKickoff(projectId, data);
                        }
                    }
                    else if (formFillName === "Request Site Validation") {
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].is_checked = true;
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].data = {
                            dateTimeOfVisit: formFillData.dateTimeOfVisit,
                        };
                        const data = {
                            haslift: formFillData.hasLift,
                            hasfalseceiling: formFillData.hasFalseCeiling,
                            scopeforelectricalwork: formFillData.scopeForElectricalWork,
                            projecttype: formFillData.projectType,
                            isimosproject: formFillData.isProjectIMOS,
                            tentativeprojectdurationaftersignoff: formFillData.tentativeProjectDurationAfterSignOff,
                            scopeofwork: formFillData.scopeOfWork,
                            specialfinishes: formFillData.specialFinishes,
                        };
                        selectedMilestone =
                            fetchedProject.milestones["attributes"].milestone_details[i];
                        const response = await callEmailNotification(formFillName, fetchedProject, formFillData);
                        if (response.message === "success") {
                            await completMilestoneForProductionRequestOrKickoff(projectId, data);
                        }
                    }
                    else if (formFillName === "Request QC Check") {
                        console.log(6868);
                        selectedMilestone =
                            fetchedProject.milestones["attributes"].milestone_details[i];
                        console.log(69, selectedMilestone);
                        const response = await callEmailNotification(formFillName, fetchedProject, formFillData);
                        console.log(74, response);
                        if (response.message === "success") {
                            console.log(76);
                            fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].is_checked = true;
                        }
                        else {
                            console.log(80);
                        }
                    }
                    else if (formFillName === "Request Customer Signoff") {
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].is_checked = true;
                        fetchedProject.milestones["attributes"].milestone_details[i].milestone_checklist[j].data = {
                            isRequested: true,
                        };
                        selectedMilestone =
                            fetchedProject.milestones["attributes"].milestone_details[i];
                    }
                }
            }
        }
        await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.checkAndMarkMilestonesOnSmartsheet)(projectId, selectedMilestone);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: {
                id: projectId,
            },
            data: {
                milestones: fetchedProject.milestones,
            },
        });
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = "Milestone Updated";
    }
    catch (e) {
        console.log(e);
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};
const callEmailNotification = async (formFillName, fetchedProject, formFillData) => {
    var _a, _b, _c, _d, _e, _f;
    try {
        let response;
        const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: { userid: fetchedProject.designerid },
        });
        const fetchedDesigner = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_3__.getUser)(designer.userid);
        const customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findUnique({
            where: { customerid: fetchedProject.customerid },
        });
        const fileschecklist = fetchedProject.milestones["attributes"].files_checklist;
        let designPresentationURL, modularQuotationURL, siteServicesQuotationURL, modularDrawingsURL, siteDrawingsURL, signOffPPTURL;
        fileschecklist.forEach(async (file) => {
            switch (file["checklist_string"]) {
                case "Design Presentation":
                    designPresentationURL = file.fileurl;
                    break;
                case "Modular Quotation":
                    modularQuotationURL = file.fileurl;
                    break;
                case "Site Services Quotation":
                    siteServicesQuotationURL = file.fileurl;
                    break;
                case "Modular Drawings":
                    modularDrawingsURL = file.fileurl;
                    break;
                case "Site Service Drawings":
                    siteDrawingsURL = file.fileurl;
                    break;
                case "Sign-off PPT":
                    signOffPPTURL = file.fileurl;
                    break;
            }
        });
        const templateResponse = await getNotificationTemaplate(formFillName);
        const to = await fetchPlanningCoordinatorBasedOnCity(fetchedProject.cityid);
        const cc = ["ddadmin@designcafe.com"];
        let reportingManager;
        if (designer.reportingmanager) {
            reportingManager = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
                where: { userid: designer.reportingmanager },
            });
        }
        cc.push(designer === null || designer === void 0 ? void 0 : designer.designcafeemail, reportingManager === null || reportingManager === void 0 ? void 0 : reportingManager.designcafeemail);
        const designerName = "$Designername";
        const user = await getName(designer, customer);
        if (templateResponse.notificationTemplateForKickOff) {
            const data = (_b = (_a = templateResponse.notificationTemplateForKickOff) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.reminders.data[0].attributes;
            if (data.emailActivate) {
                const parameterArrayForKickoff = [
                    designerName,
                    "$Designer Email",
                    "$DesignerPhone",
                    "$Designercity",
                    "$Designer.experiencecenter",
                    "$DesignerTeam",
                    "$Customername",
                    "$Project",
                    "$customerPhone",
                    "$customerEmail",
                    "$ProjectName",
                    "$ProjectType",
                    "$TotalProjectValue",
                    "$TentativeProjectDuration",
                    "$CustomershippingAddress",
                    "$ProjectScope",
                    "$Yes/No",
                    "$Yes/No",
                    "$Yes/No",
                    "$Yes/No",
                    "$Yes/No",
                    "$KickoffDate",
                    "KickoffTime",
                    "$ModulardrawingURL",
                    "$SiteserviceDrawingURL",
                    "$DesignPresentationURL",
                    "true/False",
                ];
                const inputArrayForKickoff = [
                    designer ? user.designername : "",
                    designer === null || designer === void 0 ? void 0 : designer.designcafeemail,
                    designer === null || designer === void 0 ? void 0 : designer.phonenumber,
                    fetchedDesigner[0].cities[0].name,
                    fetchedDesigner[0].experiencecenters[0].name,
                    fetchedDesigner[0].teams[0].name,
                    customer ? user.customername : "",
                    fetchedProject === null || fetchedProject === void 0 ? void 0 : fetchedProject.projectid,
                    customer === null || customer === void 0 ? void 0 : customer.customerphone,
                    customer === null || customer === void 0 ? void 0 : customer.customeremail,
                    fetchedProject.projectname ? fetchedProject.projectname : "",
                    fetchedProject.projecttype ? fetchedProject.projecttype : "",
                    fetchedProject.totalprojectvalue
                        ? fetchedProject.totalprojectvalue
                        : "",
                    formFillData.tentativeProjectDurationAfterSignOff
                        ? formFillData.tentativeProjectDurationAfterSignOff
                        : "",
                    formFillData.siteAddress ? formFillData.siteAddress : "",
                    formFillData.scopeOfWork ? formFillData.scopeOfWork : "",
                    formFillData.hasLift ? "Yes" : "No",
                    formFillData.scopeForElectricalWork ? "Yes" : "No",
                    formFillData.hasFalseCeiling ? "Yes" : "No",
                    formFillData.specialFinishes ? formFillData.specialFinishes : "",
                    "",
                    formFillData.dateTimeOfVisit
                        ? formFillData.dateTimeOfVisit.toLocaleDateString("en-US")
                        : "",
                    formFillData.dateTimeOfVisit
                        ? formFillData.dateTimeOfVisit.toLocaleTimeString("en-US")
                        : "",
                    modularDrawingsURL ? modularDrawingsURL : "",
                    siteDrawingsURL ? siteDrawingsURL : "",
                    designPresentationURL ? designPresentationURL : "",
                    formFillData.isProjectIMOS ? "Yes" : "No",
                ];
                const subject = data.emailSubject.replace("$Project Name", fetchedProject.projectname);
                const content = data.email_template;
                const emailContent = await replacetext(parameterArrayForKickoff, inputArrayForKickoff, content);
                response = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.triggerEmailNotification)(to, subject, emailContent, cc);
            }
        }
        if (templateResponse.notificationTemplateForProductionRequest) {
            const data = (_d = (_c = templateResponse.notificationTemplateForProductionRequest) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.reminders.data[0].attributes;
            if (data.emailActivate) {
                const imos = getImosOrderNumber(formFillData);
                let finalImosData;
                if (imos) {
                    const str = [];
                    imos.forEach((imosdata) => {
                        str.push(imosdata.imosOrdeNo, imosdata.roomUrl.concat("\n"));
                    });
                    const newStr = str.join(",");
                    finalImosData = newStr.replace(/,/g, " ");
                }
                const parameterArrayForProductionRequest = [
                    designerName,
                    "$ProjectName",
                    "$Designer Email",
                    "$DesignerPhone",
                    "$Designercity",
                    "$Designer.experiencecenter",
                    "$DesignerTeam",
                    "$Customername",
                    "$Clientid",
                    "$customerPhone",
                    "$PMName",
                    "$FloorArea",
                    "$CommitedhandoverDate",
                    "$ProjectValuebeforediscount",
                    "$ProjectValue",
                    "$Specialfinish",
                    "$ProjectShippingAddress",
                    "$IMOSordernumber[Hyper Link of screenshot for that order number]",
                    "$SignoffPPTURL",
                    "$ModularQuotationURL",
                    "$siteserviceQuotationURL",
                ];
                const inputArrayForProductionRequest = [
                    designer ? user.designername : "",
                    fetchedProject.projectname,
                    designer === null || designer === void 0 ? void 0 : designer.designcafeemail,
                    designer === null || designer === void 0 ? void 0 : designer.phonenumber,
                    fetchedDesigner[0].cities[0].name,
                    fetchedDesigner[0].experiencecenters[0].name,
                    fetchedDesigner[0].teams[0].name,
                    customer ? user.customername : "",
                    fetchedProject === null || fetchedProject === void 0 ? void 0 : fetchedProject.projectid,
                    customer === null || customer === void 0 ? void 0 : customer.customerphone,
                    formFillData.pmName ? formFillData.pmName : "",
                    formFillData.floorArea ? formFillData.floorArea : "",
                    formFillData.projectHandOverDate
                        ? formFillData.projectHandOverDate
                        : "",
                    formFillData.valueBeforeDiscount
                        ? formFillData.valueBeforeDiscount
                        : "",
                    fetchedProject.totalprojectvalue
                        ? fetchedProject.totalprojectvalue
                        : "",
                    formFillData.specialFinishes ? formFillData.specialFinishes : "",
                    formFillData.siteAddress ? formFillData.siteAddress : "",
                    finalImosData ? finalImosData : "",
                    signOffPPTURL ? signOffPPTURL : "",
                    modularQuotationURL ? modularQuotationURL : "",
                    siteServicesQuotationURL ? siteServicesQuotationURL : "",
                ];
                const subject = data.emailSubject
                    .replace("$Projectname", fetchedProject.projectname)
                    .replace("$cityname", fetchedDesigner[0].cities[0].name);
                const content = data.email_template;
                const emailContent = await replacetext(parameterArrayForProductionRequest, inputArrayForProductionRequest, content);
                response = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.triggerEmailNotification)(to, subject, emailContent, cc);
            }
        }
        if (templateResponse.notificationTemplateForQCCheckRequest) {
            const data = (_f = (_e = templateResponse.notificationTemplateForQCCheckRequest) === null || _e === void 0 ? void 0 : _e.data) === null || _f === void 0 ? void 0 : _f.reminders.data[0].attributes;
            if (data.emailActivate) {
                const parameterArrayForQCCheck = [
                    designerName,
                    "$modulardrawingsURL",
                    "$siteservicedrawingsURL",
                    "$modularquotationURL",
                    "$siteservicequotationURL",
                    "$project.name",
                ];
                const inputArrayForQCCheck = [
                    designer ? user.designername : "",
                    modularDrawingsURL ? modularDrawingsURL : "",
                    siteDrawingsURL ? siteDrawingsURL : "",
                    modularQuotationURL ? modularQuotationURL : "",
                    siteServicesQuotationURL ? siteServicesQuotationURL : "",
                    fetchedProject.projectname,
                ];
                const subject = data.emailSubject.replace("$Projectname", fetchedProject.projectname);
                const content = data.email_template;
                const emailContent = await replacetext(parameterArrayForQCCheck, inputArrayForQCCheck, content);
                const toQCTeam = "gfcchecking@designcafe.com";
                const ccList = ["ddadmin@designcafe.com"];
                ccList.push(designer === null || designer === void 0 ? void 0 : designer.designcafeemail);
                response = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.triggerEmailNotification)(toQCTeam, subject, emailContent, ccList);
            }
        }
        return response;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const completMilestoneForProductionRequestOrKickoff = async (projectid, formFillData) => {
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
        where: {
            id: projectid,
        },
        data: formFillData,
    });
};
const replacetext = (parameterArrayForKickoff, inputArrayForKickoff, content) => {
    for (let i = 0; i < parameterArrayForKickoff.length; i++) {
        content = content.replace(parameterArrayForKickoff[i], inputArrayForKickoff[i]);
    }
    return content;
};
const fetchPlanningCoordinatorBasedOnCity = async (cityid) => {
    var _a;
    const to = [];
    if (cityid) {
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findUnique({ where: { id: cityid } });
        if (city) {
            to.push((_a = city.planningcoordinatoremail) === null || _a === void 0 ? void 0 : _a.split(","));
        }
    }
    return to;
};
const getNotificationTemaplate = async (formFillName) => {
    let slugname;
    let notificationTemplateForKickOff, notificationTemplateForProductionRequest, notificationTemplateForQCCheckRequest;
    const graphqlCMSUrl = "https://cms.designcafe.com/graphqlm";
    if (formFillName === "Request Site Validation") {
        slugname = "notify_kickoff_request";
        notificationTemplateForKickOff = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.callExternalAPIWithPost)(graphqlCMSUrl, (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.queryForFetchingRemindersTemplate)(slugname));
    }
    else if (formFillName === "Send Project to Production") {
        slugname = "notify_production_requested";
        notificationTemplateForProductionRequest = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.callExternalAPIWithPost)(graphqlCMSUrl, (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.queryForFetchingRemindersTemplate)(slugname));
    }
    else if (formFillName === "Request QC Check") {
        slugname = "notify_gfc_requested";
        notificationTemplateForQCCheckRequest = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.callExternalAPIWithPost)(graphqlCMSUrl, (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.queryForFetchingRemindersTemplate)(slugname));
    }
    return {
        notificationTemplateForKickOff,
        notificationTemplateForProductionRequest,
        notificationTemplateForQCCheckRequest,
    };
};
const getName = async (designer, customer) => {
    var _a;
    const designerMiddlename = designer.middlename
        ? designer.middlename.trim()
        : "";
    const designerLastName = designer.lastname ? designer.lastname.trim() : "";
    const designername = `${(_a = designer.firstname) === null || _a === void 0 ? void 0 : _a.trim()}${designerMiddlename ? " " + designerMiddlename + " " : " "}${designerLastName}`;
    const firstname = customer.firstname ? customer.firstname.trim() : "";
    const lastName = customer.lastname ? customer.lastname.trim() : "";
    const customername = `${firstname}${lastName}`;
    return { designername, customername };
};
const getImosOrderNumber = (formFillData) => {
    let imosrooms;
    if (formFillData.imosRooms && formFillData.imosRooms.length > 0) {
        imosrooms = [...formFillData.imosRooms];
    }
    return imosrooms;
};


/***/ }),

/***/ "./src/api/projects/Mutations/UpdatePaymentMilestones.ts":
/*!***************************************************************!*\
  !*** ./src/api/projects/Mutations/UpdatePaymentMilestones.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updatePaymentMilestones": () => (/* binding */ updatePaymentMilestones)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const updatePaymentMilestones = async (_root, args, _context) => {
    const { projectId, paymentMilestoneName, projectValue } = args;
    const responseObj = { code: 200, message: "" };
    let selectedMilestone;
    try {
        const getProjectWithProjectId = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                id: projectId,
            },
        });
        getProjectWithProjectId.milestones.attributes.milestone_details.forEach((milestone) => {
            milestone.milestone_checklist.forEach((milestoneChecklist) => {
                if (milestoneChecklist.checklist_string === paymentMilestoneName) {
                    milestoneChecklist.is_checked = true;
                    selectedMilestone = milestone;
                }
            });
        });
        if (paymentMilestoneName === "5% Modular Payment") {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: {
                    id: projectId,
                },
                data: {
                    milestones: getProjectWithProjectId.milestones,
                },
            });
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: {
                id: projectId,
            },
            data: {
                milestones: getProjectWithProjectId.milestones,
                projectvalue: projectValue,
            },
        });
        await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.checkAndMarkMilestonesOnSmartsheet)(projectId, selectedMilestone);
        responseObj.code = 200;
        responseObj.message = "Success";
    }
    catch (e) {
        responseObj.code = 200;
        responseObj.message = e.message;
    }
    return responseObj;
};


/***/ }),

/***/ "./src/api/projects/Mutations/UpdateProject.ts":
/*!*****************************************************!*\
  !*** ./src/api/projects/Mutations/UpdateProject.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProjectApi": () => (/* binding */ updateProjectApi)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Smartsheet_Mutations_UpdateProjectStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateProjectStatus */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectStatus.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateProjectValue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateProjectValue */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectValue.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateDesigner */ "./src/api/projects/Smartsheet/Mutations/UpdateDesigner.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateSurvey */ "./src/api/projects/Smartsheet/Mutations/UpdateSurvey.ts");
/* harmony import */ var _Smartsheet_Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Smartsheet/Mutations/UpdateProjectAddress */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectAddress.ts");







const updateProjectApi = async (root, args, context) => {
    let projectsResponseObj;
    const { id, projectid, projectname, projectstatus, projectvalue, signupdate, customerid, designerid, salesmanagerid, chmid, surveyexecutiveid, projectmanagerid, designstudioid, modularbaseamount, projectmodularvalue, modulardiscount, siteservicebaseamount, projectsiteservicesvalue, siteservicediscount, signupamount, signupstate, experiencecenterid, cityid, projectaddressid, cmmname, expectedhandoverdate, currentmilestone, projectphase, hasdesigneraccepted, hasdesigerresponded, hometype, initialsignupvalue, decorvalue, quoteid, projectrating, includepmfee, milestonetype, odooid, odoo_delivery_address_id, isnewpaymentproject, opportunityid, template, } = args;
    const sDate = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(signupdate).format("YYYY-MM-DD");
    try {
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            data: {
                projectid,
                projectname,
                projectstatus,
                projectvalue,
                updatedate: new Date(),
                signupdate: new Date(sDate),
                customerid,
                designerid,
                salesmanagerid,
                chmid,
                surveyexecutiveid,
                projectmanagerid,
                designstudioid,
                modularbaseamount,
                projectmodularvalue,
                modulardiscount,
                siteservicebaseamount,
                projectsiteservicesvalue,
                siteservicediscount,
                signupamount,
                signupstate,
                experiencecenterid,
                cityid,
                projectaddressid,
                cmmname,
                expectedhandoverdate,
                currentmilestone,
                projectphase,
                hasdesigneraccepted,
                hasdesigerresponded,
                hometype,
                initialsignupvalue,
                decorvalue,
                quoteid,
                projectrating,
                includepmfee,
                milestonetype,
                odooid,
                odoo_delivery_address_id,
                isnewpaymentproject,
                opportunityid,
                template,
            },
            where: { id: id },
        });
        await updateProjectStatusOnSmartSheet(project.smartsheetid, projectstatus, signupdate);
        await updateProjectValueOnSmartSheet(project.smartsheetid, projectvalue);
        await updateDesignerOnSmartSheet(project.smartsheetid, designerid);
        await updateSurveyOnSmartSheet(project.smartsheetid, surveyexecutiveid);
        await updateAddressOnSmartSheet(project.smartsheetid, customerid);
        projectsResponseObj = { code: 200, message: "success", data: project };
        return projectsResponseObj;
    }
    catch (error) {
        projectsResponseObj = { code: 400, message: error.message };
        return projectsResponseObj;
    }
};
const updateAddressOnSmartSheet = async (smartsheetid, customerid) => {
    if (customerid) {
        const address = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_addresses.findFirst({
            where: { customerid: customerid, addresstype: 1 },
        });
        if (address) {
            const addressValue = `${address.street}, ${address.city}, ${address.state}, ${address.zip}, ${address.country}`;
            const updateAddressPayload = {
                smartSheetId: smartsheetid,
                projectAddress: addressValue,
            };
            await (0,_Smartsheet_Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_6__.updateProjectAddress)(null, updateAddressPayload, null);
        }
    }
};
const updateSurveyOnSmartSheet = async (smartsheetid, surveyexecutiveid) => {
    if (surveyexecutiveid) {
        const survey = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: { userid: surveyexecutiveid },
        });
        if (survey) {
            const updateSurveyPayload = {
                smartSheetId: smartsheetid,
                surveyExecutiveEmail: survey.designcafeemail,
            };
            await (0,_Smartsheet_Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_5__.updateSurvey)(null, updateSurveyPayload, null);
        }
    }
};
const updateDesignerOnSmartSheet = async (smartsheetid, designerid) => {
    if (designerid) {
        const designer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: { userid: designerid },
        });
        if (designer) {
            const updateDesignerPayload = {
                smartSheetId: smartsheetid,
                designerEmail: designer.designcafeemail,
            };
            await (0,_Smartsheet_Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_4__.updateDesignerEmail)(null, updateDesignerPayload, null);
        }
    }
};
const updateProjectValueOnSmartSheet = async (smartsheetid, projectvalue) => {
    if (projectvalue) {
        const projectValuePayload = {
            smartSheetId: smartsheetid,
            projectValue: projectvalue,
        };
        await (0,_Smartsheet_Mutations_UpdateProjectValue__WEBPACK_IMPORTED_MODULE_3__.updateProjectValue)(null, projectValuePayload, null);
    }
};
const updateProjectStatusOnSmartSheet = async (smartsheetid, projectstatus, signupdate) => {
    if (projectstatus) {
        const projectStatusPayload = {
            smartSheetId: smartsheetid,
            projectStatus: projectstatus,
            signupDate: signupdate,
        };
        await (0,_Smartsheet_Mutations_UpdateProjectStatus__WEBPACK_IMPORTED_MODULE_2__.updateProjectStatus)(null, projectStatusPayload, null);
    }
};


/***/ }),

/***/ "./src/api/projects/Mutations/meetingSchedulerMilestone.ts":
/*!*****************************************************************!*\
  !*** ./src/api/projects/Mutations/meetingSchedulerMilestone.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "meetingSchedulerMilestone": () => (/* binding */ meetingSchedulerMilestone)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");



var ScheduleMeetingsEnum;
(function (ScheduleMeetingsEnum) {
    ScheduleMeetingsEnum["SCHEDULE_SURVEY_MEETING"] = "Schedule Site Survey";
    ScheduleMeetingsEnum["SCHEDULE_KYC_MEETING"] = "Schedule KYC Meeting";
    ScheduleMeetingsEnum["SCHEDULE_DESIGN_PRESENTATION_MEETING"] = "Schedule Design Presentation";
    ScheduleMeetingsEnum["SCHEDULE_REVISION_MEETING"] = "Schedule Design Revision";
    ScheduleMeetingsEnum["SCHEDULE_SIGNOFF_MEETING"] = "Schedule Signoff Meeting";
})(ScheduleMeetingsEnum || (ScheduleMeetingsEnum = {}));
const schedulerArray = [
    ScheduleMeetingsEnum.SCHEDULE_SURVEY_MEETING,
    ScheduleMeetingsEnum.SCHEDULE_REVISION_MEETING,
    ScheduleMeetingsEnum.SCHEDULE_KYC_MEETING,
    ScheduleMeetingsEnum.SCHEDULE_DESIGN_PRESENTATION_MEETING,
    ScheduleMeetingsEnum.SCHEDULE_SIGNOFF_MEETING
];
const meetingSchedulerMilestone = async (_root, _args, _context) => {
    var _a, _b;
    let selectedMilestone;
    try {
        if (!schedulerArray.includes(_args.meetingScheduleType)) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Scheduler type invalid.");
        }
        const projectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: _args.projectId },
        });
        if (!projectData) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Project not found");
        }
        if (!projectData.milestones || projectData.milestones.length === 0) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Milestone not found");
        }
        const milestoneData = (_b = (_a = projectData === null || projectData === void 0 ? void 0 : projectData.milestones) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.milestone_details;
        milestoneData.forEach((element) => {
            if (element.milestone_checklist &&
                element.milestone_checklist.length !== 0) {
                const milestoneChecklist = element === null || element === void 0 ? void 0 : element.milestone_checklist;
                milestoneChecklist.forEach((val) => {
                    if (val.length !== 0 &&
                        (val === null || val === void 0 ? void 0 : val.checklist_string) === _args.meetingScheduleType) {
                        selectedMilestone = element;
                        val.is_checked = true;
                        val.data = {
                            datetime: _args.datetime,
                            meetingType: _args.meetingType,
                        };
                        val.description = _args.description;
                    }
                });
            }
        });
        projectData.milestones.attributes.milestone_details = milestoneData;
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: { id: _args.projectId },
            data: { milestones: projectData.milestones },
        });
        if (selectedMilestone) {
            await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.checkAndMarkMilestonesOnSmartsheet)(_args.projectId, selectedMilestone);
        }
        return {
            code: 200,
            message: "Meeting scheduled successfully.",
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error.message);
    }
};


/***/ }),

/***/ "./src/api/projects/Queries/GetAllProject.ts":
/*!***************************************************!*\
  !*** ./src/api/projects/Queries/GetAllProject.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getProjects": () => (/* binding */ getProjects)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getProjects = async () => {
    let projectsResponseObj;
    try {
        const projects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findMany({
            include: {
                customer: true,
                designstudio: true,
                experiencecenter: true,
                city: true,
                designer: true,
                salesmanager: true,
                chm: true,
                surveyexecutive: true,
                projectmanager: true
            }
        });
        projectsResponseObj = { code: 200, message: "success", data: projects };
        return projectsResponseObj;
    }
    catch (error) {
        projectsResponseObj = { code: 400, message: error.message };
        return projectsResponseObj;
    }
};


/***/ }),

/***/ "./src/api/projects/Queries/GetFileUrl.ts":
/*!************************************************!*\
  !*** ./src/api/projects/Queries/GetFileUrl.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFileUrl": () => (/* binding */ getFileUrl)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");


const getFileUrl = async (root, args, context) => {
    let FileUrlResponseObj;
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        const { attachment } = args;
        const attachmentFile = {
            key: attachment.filename,
            contentType: attachment.Content_Type,
            base64: attachment.base64,
            userid: user.userid,
            ispreorpost: 1,
        };
        const toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_1__.UploadFileOnS3)(attachmentFile);
        attachment.base64 = toS3.location;
        FileUrlResponseObj = { code: 200, message: "success", data: toS3 };
        return FileUrlResponseObj;
    }
    catch (error) {
        FileUrlResponseObj = { code: 400, message: error.message };
        return FileUrlResponseObj;
    }
};


/***/ }),

/***/ "./src/api/projects/Queries/GetFilesForProject.ts":
/*!********************************************************!*\
  !*** ./src/api/projects/Queries/GetFilesForProject.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFilesForProjects": () => (/* binding */ getFilesForProjects)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const getFilesForProjects = async (_root, args, _context) => {
    const { id } = args;
    try {
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findUnique({
            where: {
                id: id
            }
        });
        if (!project) {
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = 'No Project found for given Id';
            return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
        }
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = project.milestones.attributes.files_checklist;
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/projects/Queries/GetOldProject.ts":
/*!***************************************************!*\
  !*** ./src/api/projects/Queries/GetOldProject.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getOldProject": () => (/* binding */ getOldProject)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getOldProject = async (root, args, context) => {
    const getOldProjects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { id: args.id, isnewpaymentproject: false },
    });
    const modularamount = getOldProjects.projectmodularvalue;
    const sitesserviceamount = getOldProjects.projectsiteservicesvalue;
    const modularcollectedamount = getOldProjects.modular_collected_amount;
    const siteservicescollectedamount = getOldProjects.site_services_collected_amount;
    const collectedamount = getOldProjects.achievedrevenuevalue;
    let oldprojectResponseObj = null;
    oldprojectResponseObj = {
        code: 200,
        message: "success",
        modularamount: modularamount,
        sitesserviceamount: sitesserviceamount,
        modular_collected_amount: modularcollectedamount,
        site_services_collected_amount: siteservicescollectedamount,
        collectedamount: collectedamount
    };
    return oldprojectResponseObj;
};


/***/ }),

/***/ "./src/api/projects/Queries/GetProjectById.ts":
/*!****************************************************!*\
  !*** ./src/api/projects/Queries/GetProjectById.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getProjectById": () => (/* binding */ getProjectById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _users_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../users/Queries/GetAllUsers */ "./src/api/users/Queries/GetAllUsers.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");



const getProjectById = async (_root, args, _context) => {
    var _a;
    try {
        const getProjects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: args.id },
            include: {
                customer: {
                    include: {
                        addresses: {
                            include: { customers: true },
                        },
                    },
                },
                designstudio: true,
                experiencecenter: true,
                city: true,
                designer: {
                    include: {
                        users_experiencecenters: {
                            include: { center: true },
                        },
                        users_city: {
                            include: { city: true },
                        },
                        users_team: {
                            include: {
                                team: true,
                            },
                        },
                    },
                },
                salesmanager: true,
                chm: true,
                surveyexecutive: true,
            },
        });
        const updateProjectObj = {};
        console.log(38, getProjects);
        if (getProjects) {
            const designer = (0,_users_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__.mapAllUsers)([getProjects === null || getProjects === void 0 ? void 0 : getProjects.designer]);
            if (designer) {
                getProjects.designer = designer[0];
            }
        }
        if (!getProjects.quotelink) {
            updateProjectObj["quotelink"] = getProjects.quotelink = getPdfLinks(getProjects.milestones, "modular");
        }
        if (getProjects.projectsiteservicesvalue &&
            !getProjects.siteservicepdflink) {
            updateProjectObj["siteservicepdflink"] = getProjects.siteservicepdflink =
                getPdfLinks(getProjects.milestones, "siteservice");
        }
        if (!getProjects.milestones) {
            const projectTemplates = await (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.callExternalAPIWithPost)("https://cms.designcafe.com/graphqlm", _utils_commonUtils__WEBPACK_IMPORTED_MODULE_2__.queryForFetchingTemplate);
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: {
                    id: args.id,
                },
                data: {
                    milestones: (_a = projectTemplates === null || projectTemplates === void 0 ? void 0 : projectTemplates.data) === null || _a === void 0 ? void 0 : _a.projectTemplates.data[0],
                    currentmilestone: "Site Survey",
                },
            });
            getProjects.currentmilestone = "Site Survey";
        }
        if (getProjects.isimosproject && !getProjects.quoteid) {
            const modularBeforeTax = (+getProjects.projectmodularvalue * 100) / 118;
            const reverseModularDisc = (100 - Math.abs(getProjects.modulardiscount)) / 100;
            const modularBaseAmount = modularBeforeTax / reverseModularDisc || modularBeforeTax;
            getProjects.modularbaseamount = parseFloat(modularBaseAmount.toFixed(2));
            if (getProjects.projectsiteservicesvalue) {
                const siteBeforeTax = (+getProjects.projectsiteservicesvalue * 100) / 118;
                const reverseSiteDisc = (100 - Math.abs(getProjects.siteservicediscount)) / 100;
                const siteBaseAmount = siteBeforeTax / reverseSiteDisc || siteBeforeTax;
                getProjects.siteservicebaseamount = parseFloat(siteBaseAmount.toFixed(2));
            }
            updateProjectObj["modularbaseamount"] = getProjects.modularbaseamount;
            updateProjectObj["siteservicebaseamount"] =
                getProjects.siteservicebaseamount;
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: {
                    id: args.id,
                },
                data: updateProjectObj,
            });
            let quote;
            const projModularValue = getProjects.projectmodularvalue;
            const projSiteValue = getProjects.projectsiteservicesvalue;
            const projModularDiscount = getProjects.modulardiscount;
            const projSiteDiscount = getProjects.siteservicediscount;
            const dbQuoteObj = Object.assign(Object.assign(Object.assign(Object.assign({ opportunityid: getProjects.opportunityid, customername: [
                    getProjects === null || getProjects === void 0 ? void 0 : getProjects.customer.firstname,
                    getProjects === null || getProjects === void 0 ? void 0 : getProjects.customer.lastname,
                ].join(" "), modulardiscount: projModularDiscount }, (projSiteDiscount && { siteservicediscount: projSiteDiscount })), { modularvalue: projModularValue }), (projSiteValue && { siteservice: projSiteValue })), { islatestquote: true, quotename: [
                    getProjects === null || getProjects === void 0 ? void 0 : getProjects.customer.firstname,
                    getProjects === null || getProjects === void 0 ? void 0 : getProjects.customer.lastname,
                ].join(" ") + " Quote 1", isimosproject: true });
            quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.create({ data: dbQuoteObj });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
                where: {
                    id: args.id,
                },
                data: { quoteid: quote.id },
            });
            getProjects.quoteid = quote.id;
        }
        const designerAssignedToProject = getProjects.designer;
        getProjects.designer = designerAssignedToProject;
        delete getProjects.milestones;
        const surveyExecutives = await getSurveyExecutives(getProjects.experiencecenterid);
        const PAMProfiles = await getPAMProfiles(getProjects.designerid);
        return {
            code: 200,
            message: "Success",
            data: getProjects,
            surveyExecutives: surveyExecutives,
            pamProfiles: PAMProfiles,
        };
    }
    catch (error) {
        console.log(117, error);
        return { code: 400, message: error.message };
    }
};
const getSurveyExecutives = async (experiencecenterid) => {
    const fetchedSurveyExecutives = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
        where: {
            profileid: 15,
        },
        include: {
            users_experiencecenters: {
                include: { center: true },
            },
        },
    });
    const surveyExecutives = [];
    if (fetchedSurveyExecutives.length > 0) {
        await Promise.all(fetchedSurveyExecutives.map((surveyExecutive) => {
            surveyExecutive.users_experiencecenters.map((exc) => {
                if (exc.centerid === experiencecenterid) {
                    surveyExecutives.push(surveyExecutive);
                }
            });
        }));
    }
    return surveyExecutives;
};
const getPAMProfiles = async (designerid) => {
    const profile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
        where: { profile_name: "CHM Executive" },
    });
    let fetchUser = [];
    const profiles = [];
    const fetchTeam = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findFirst({
        where: { userid: designerid },
    });
    fetchUser = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findMany({
        where: { teamid: fetchTeam.teamid },
        select: { userid: true },
    });
    var fetchedUser = fetchUser;
    let getUserProfile;
    for (var i = 0; i < fetchedUser.length; i++) {
        if (fetchedUser[i].userid !== null) {
            getUserProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
                where: { userid: fetchedUser[i].userid },
            });
            if (getUserProfile.profileid === profile.profileid) {
                profiles.push(getUserProfile);
            }
        }
    }
    return profiles;
};
const getPdfLinks = (milestone, type) => {
    const data = milestone.attributes.files_checklist;
    let link;
    if (type === "modular") {
        data.forEach((element) => {
            if (element.checklist_string === "Modular Quotation") {
                link = element.fileurl;
            }
        });
    }
    if (type === "siteservice") {
        data.forEach((element) => {
            if (element.checklist_string === "Site Services Quotation") {
                link = element.fileurl;
            }
        });
    }
    return link;
};


/***/ }),

/***/ "./src/api/projects/Queries/GetProjectCostBreakup.ts":
/*!***********************************************************!*\
  !*** ./src/api/projects/Queries/GetProjectCostBreakup.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getProjectCostBreakup": () => (/* binding */ getProjectCostBreakup)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getProjectCostBreakup = async (root, args, context) => {
    let projectCostBreakupResponseObj;
    const getProjects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { id: args.id },
    });
    const milestone = getProjects.milestones;
    const ProjectValue = getProjects.totalprojectvalue;
    const CollectedAmount = getProjects.achievedrevenuevalue;
    const modularCollectedAmount = getProjects.modular_collected_amount;
    const modularbaseamount = getProjects.modularbaseamount;
    const modulardiscount = getProjects.modulardiscount;
    const projectmodularvalue = getProjects.projectmodularvalue;
    const modularinclusivegst = getProjects.projectmodularvalue;
    const siteserviceinclusivegst = getProjects.projectsiteservicesvalue;
    const modularinvoicedamount = getProjects.modularinvoicedamount;
    const siteserviceinvoicedamount = getProjects.siteserviceinvoicedamount;
    const siteServicesCollectedAmount = getProjects.site_services_collected_amount;
    let projectsiteservicevalue = getProjects.projectsiteservicesvalue;
    const siteservicebaseamount = getProjects.siteservicebaseamount;
    const siteservicediscount = getProjects.siteservicediscount;
    const pendingamountvalue = getProjects.pendingamountvalue;
    const template = milestone.attributes.Template_Name;
    if (template === "Project Template 1") {
        const modularnamefor5Percentage = milestone.attributes.milestone_details[0].label;
        const modularAmountfor5Percentage = (modularinclusivegst * 5) / 100;
        const modularnamefor15Percentage = milestone.attributes.milestone_details[4].label;
        const modularAmountfor15Percentage = (modularinclusivegst * 20) / 100;
        const modularnamefor35Percentage = milestone.attributes.milestone_details[9].label;
        const modularAmountfor35Percentage = (modularinclusivegst * 55) / 100;
        const modularAmountfor45Percentage = modularinclusivegst;
        const modularpdf = milestone.attributes.files_checklist[3].fileurl;
        const modularnamefor45Percentage = milestone.attributes.milestone_details[12].label;
        const siteservicenamefor5Percentage = "Site Service for 5%";
        const siteserviceAmountfor5Percentage = (siteserviceinclusivegst * 5) / 100;
        const siteservicenamefor45Percentage = "Site Service for 45%";
        const siteserviceAmountfor45Percentage = (siteserviceinclusivegst * 50) / 100;
        const siteservicenamefor50Percentage = "Site Service for 50%";
        const siteserviceAmountfor50Percentage = siteserviceinclusivegst;
        const siteservicespdf = milestone.attributes.files_checklist[4].fileurl;
        const modularMilestone = {
            modularnamefor5_percentage: modularnamefor5Percentage,
            modularAmountfor5_percentage: modularAmountfor5Percentage,
            modularnamefor15_percentage: modularnamefor15Percentage,
            modularAmountfor15_percentage: modularAmountfor15Percentage,
            modularnamefor35_percentage: modularnamefor35Percentage,
            modularAmountfor35_percentage: modularAmountfor35Percentage,
            modularnamefor45Percentage: modularnamefor45Percentage,
            modularAmountfor45_percentage: modularAmountfor45Percentage,
        };
        const siteServiceMilestone = {
            siteservicenamefor5_percentage: siteservicenamefor5Percentage,
            siteserviceAmountfor5_percentage: siteserviceAmountfor5Percentage,
            siteservicenamefor45_percentage: siteservicenamefor45Percentage,
            siteserviceAmountfor45_percentage: siteserviceAmountfor45Percentage,
            siteservicenamefor50_percentage: siteservicenamefor50Percentage,
            siteserviceAmountfor50_percentage: siteserviceAmountfor50Percentage,
        };
        const Projectstatus = getProjects.projectstatus;
        projectCostBreakupResponseObj = {
            code: 200,
            message: "success",
            ProjectValue: ProjectValue,
            CollectedAmount: CollectedAmount,
            modularCollectedAmount: modularCollectedAmount,
            siteServicesCollectedAmount: siteServicesCollectedAmount,
            modularbaseamount: modularbaseamount,
            modulardiscount: modulardiscount,
            siteservicebaseamount: siteservicebaseamount,
            siteservicediscount: siteservicediscount,
            projectmodularvalue: projectmodularvalue,
            projectsiteservicevalue: projectsiteservicevalue,
            modularMilestone: modularMilestone,
            siteServiceMilestone: siteServiceMilestone,
            modularinclusivegst: modularinclusivegst,
            siteserviceinclusivegst: siteserviceinclusivegst,
            modularpdf: modularpdf,
            siteservicespdf: siteservicespdf,
            pendingamountvalue: pendingamountvalue,
            Projectstatus: Projectstatus,
            modularinvoicedamount: modularinvoicedamount,
            siteserviceinvoicedamount: siteserviceinvoicedamount
        };
    }
    return projectCostBreakupResponseObj;
};


/***/ }),

/***/ "./src/api/projects/Queries/GetProjectsByFilter.ts":
/*!*********************************************************!*\
  !*** ./src/api/projects/Queries/GetProjectsByFilter.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getProjectsByFilter": () => (/* binding */ getProjectsByFilter)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/ProjectFilterEnum */ "./src/domain/enumerations/ProjectFilterEnum.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);




const getProjectsByFilter = async (_root, args, _context) => {
    var _a, _b, _c, _d, _e;
    try {
        const { searchText, filter, sorting } = args;
        let user;
        try {
            user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "DD");
        }
        catch (error) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(401, error.message);
        }
        if (user) {
            let whereClause = {};
            let orderBy = {};
            switch ((_a = user === null || user === void 0 ? void 0 : user.profile) === null || _a === void 0 ? void 0 : _a.access_level) {
                case 0: {
                    whereClause = {
                        OR: [
                            { designerid: user.userid },
                            { chmid: user.userid },
                            { surveyexecutiveid: user.userid },
                        ],
                    };
                    break;
                }
                case 1: {
                    whereClause.OR = [];
                    (_b = user.users_team) === null || _b === void 0 ? void 0 : _b.forEach((team) => {
                        whereClause.OR.push({ designstudioid: team.teamid });
                    });
                    break;
                }
                case 2: {
                    whereClause.OR = [];
                    (_c = user.users_experiencecenters) === null || _c === void 0 ? void 0 : _c.forEach((experiencecenter) => {
                        whereClause.OR.push({
                            experiencecenterid: experiencecenter.centerid,
                        });
                    });
                    break;
                }
                case 3: {
                    whereClause.OR = [];
                    (_d = user.users_city) === null || _d === void 0 ? void 0 : _d.forEach((city) => {
                        whereClause.OR.push({ cityid: city.cityid });
                    });
                    break;
                }
                case 4: {
                    whereClause = {};
                    break;
                }
                default:
                    return {
                        code: 400,
                        message: "Profile not set for given user",
                    };
            }
            if (searchText && searchText !== "") {
                whereClause.AND = {
                    AND: {
                        OR: [
                            {
                                projectid: {
                                    contains: searchText ? searchText : "",
                                    mode: "insensitive",
                                },
                            },
                            {
                                projectname: {
                                    contains: searchText ? searchText : "",
                                    mode: "insensitive",
                                },
                            },
                        ],
                    },
                };
            }
            else if (filter && ((_e = filter === null || filter === void 0 ? void 0 : filter.filterBy) === null || _e === void 0 ? void 0 : _e.length) !== 0) {
                filterConditions(filter, whereClause);
            }
            else if (sorting) {
                switch (sorting.sortBy.toLowerCase()) {
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_NAME: {
                        orderBy = { projectname: sorting.order };
                        break;
                    }
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGNER: {
                        orderBy = { designerid: sorting.order };
                        break;
                    }
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].STUDIO: {
                        orderBy = { designstudioid: sorting.order };
                        break;
                    }
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CITY: {
                        orderBy = { cityid: sorting.order };
                        break;
                    }
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].EC: {
                        orderBy = { experiencecenterid: sorting.order };
                        break;
                    }
                    case _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SIGNUP_DATE: {
                        orderBy = { signupdate: sorting.order };
                        break;
                    }
                    default:
                        break;
                }
            }
            const getProjects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findMany({
                where: whereClause,
                orderBy: orderBy,
                include: {
                    customer: true,
                    designstudio: true,
                    experiencecenter: true,
                    city: true,
                    designer: true,
                    salesmanager: true,
                    chm: true,
                    surveyexecutive: true,
                },
            });
            getProjects === null || getProjects === void 0 ? void 0 : getProjects.forEach((element) => {
                delete element.milestones;
            });
            return {
                code: 200,
                message: "success",
                data: getProjects,
            };
        }
        else {
            return {
                code: 400,
                message: "Please provide UserID",
            };
        }
    }
    catch (error) {
        return error;
    }
};
const filterConditions = (filter, whereClause) => {
    const orCondition = [];
    const { designers, filterBy, studios, cities, ecs, status, currentStage } = filter;
    filterBy === null || filterBy === void 0 ? void 0 : filterBy.forEach((filterElement) => {
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGNER) {
            console.log(123, designers);
            designers.forEach((designer) => {
                orCondition.push({
                    designerid: designer,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].STUDIO) {
            studios.forEach((studio) => {
                orCondition.push({
                    designstudioid: studio,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CITY) {
            cities.forEach((city) => {
                orCondition.push({
                    cityid: city,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].EC) {
            ecs.forEach((ec) => {
                orCondition.push({
                    experiencecenterid: ec,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SIGNUP_DATE) {
            if (!filter.toDate || !filter.fromDate) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(400, "Please provide proper to and from dates.");
            }
            orCondition.push({
                signupdate: {
                    gte: filter.fromDate,
                    lte: filter.toDate,
                },
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].STATUS) {
            status.forEach((element) => {
                orCondition.push({
                    projectstatus: element,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
        if (filterElement.toLowerCase() === _domain_enumerations_ProjectFilterEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CURRENT_STAGE) {
            currentStage.forEach((stage) => {
                orCondition.push({
                    currentmilestone: stage,
                });
            });
            whereClause.AND = {
                AND: {
                    OR: orCondition,
                },
            };
        }
    });
};


/***/ }),

/***/ "./src/api/projects/Queries/GetSubTaskForProject.ts":
/*!**********************************************************!*\
  !*** ./src/api/projects/Queries/GetSubTaskForProject.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getSubTaskForProject": () => (/* binding */ getSubTaskForProject)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const getSubTaskForProject = async (_parent, args, _context) => {
    const { projectid } = args;
    const milestonesArr = [];
    try {
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findUnique({
            where: {
                id: projectid
            }
        });
        if (!project) {
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = 'Project not found for the given id';
            _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = null;
            return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
        }
        project.milestones.attributes.milestone_details.forEach(mileStones => {
            milestonesArr.push(mileStones);
        });
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = null;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = milestonesArr;
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = null;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/CreateSmartsheet.ts":
/*!*******************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/CreateSmartsheet.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSmartSheet": () => (/* binding */ createSmartSheet)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");




const createSmartSheet = async (root, args, context) => {
    let CreateSheetResponse;
    try {
        const validationResponse = await validateCreateSheetData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const sheetName = `${args.clientName}_${args.clientId}`;
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.createSheet)(smartClient, sheetName);
        const sheetData = await smartClient.sheets.getSheet({ id: sheetId });
        const rowArray = await getUpdateSheetData(sheetData, args);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, sheetId);
        const handoverDate = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getHandoverDate)(sheetData);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_projects.update({
            data: {
                expectedhandoverdate: handoverDate,
                smartsheetid: sheetId.toString(),
            },
            where: { id: args.projectId },
        });
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.createWebHook)(sheetId, sheetName);
        CreateSheetResponse = { code: 200, message: "success", sheetId: sheetId };
        return CreateSheetResponse;
    }
    catch (error) {
        CreateSheetResponse = { code: 400, message: error.message };
        return CreateSheetResponse;
    }
};
const validateCreateSheetData = async (args) => {
    var CreateResponse;
    if (!args.clientName) {
        CreateResponse = { code: 400, message: "Please Enter Valid ClientName" };
    }
    if (!args.clientId) {
        CreateResponse = { code: 400, message: "Please Enter Valid ClientId" };
    }
    if (!args.designerName) {
        CreateResponse = { code: 400, message: "Please Enter Valid Designer Name" };
    }
    if (!args.designStudio) {
        CreateResponse = { code: 400, message: "Please Enter Valid Design Studio" };
    }
    if (args.clientEmail) {
        const emailReg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
        if (!emailReg.test(args.clientEmail)) {
            CreateResponse = {
                code: 400,
                message: "Please Enter Valid Client Email",
            };
        }
    }
    if (!args.clientContact) {
        CreateResponse = {
            code: 400,
            message: "Please Enter Valid Client Contact",
        };
    }
    if (!args.propertyAddress) {
        CreateResponse = {
            code: 400,
            message: "Please Enter Valid Property Address",
        };
    }
    if (!args.status) {
        CreateResponse = { code: 400, message: "Please Enter Valid Status" };
    }
    return CreateResponse;
};
const getUpdateSheetData = async (sheetData, args) => {
    const { clientName, clientId, projectSignupValue, designerName, designStudio, salesOwner, clientEmail, clientContact, propertyName, propertyAddress, status, } = args;
    const rowArray = [];
    const columnIds = await getColumnId(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue
                ? cell.displayValue.toLowerCase().trim()
                : null;
            if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_NAME) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, clientName));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_ID) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, clientId));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP_VALUE) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, projectSignupValue));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGNER_NAME) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, designerName));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_STUDIO) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, designStudio));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SALES_OWNER &&
                salesOwner) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, salesOwner));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_EMAIL &&
                clientEmail) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, clientEmail));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_CONTACT) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, clientContact));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROPERTY_NAME &&
                propertyName) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, propertyName));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROPERTY_ADDRESS) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, propertyAddress));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].STATUS) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, status));
            }
        }
    }
    return rowArray;
};
const getColumnId = async (sheetData) => {
    let summaryDetailsColumnId, actualStartId, actualFinishId, originalPlannedStartId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle &&
            columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetailsColumnId = column.id;
        }
        else if (columnTitle &&
            columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START) {
            actualStartId = column.id;
        }
        else if (columnTitle &&
            columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishId = column.id;
        }
        else if (columnTitle &&
            columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_START_DATE) {
            originalPlannedStartId = column.id;
        }
    });
    return {
        summaryDetailsColumnId: summaryDetailsColumnId,
        actualStartId: actualStartId,
        actualFinishId: actualFinishId,
        originalPlannedStartId: originalPlannedStartId,
    };
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateDesigner.ts":
/*!*****************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateDesigner.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateDesignerEmail": () => (/* binding */ updateDesignerEmail)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");



const updateDesignerEmail = async (root, args, context) => {
    let SheetResponse;
    try {
        const validationResponse = await validateDesignerUpdateData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const { smartSheetId, designerEmail } = args;
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
        const rowArray = await getDesignerUpdateData(sheetData, designerEmail);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, smartSheetId);
        SheetResponse = { code: 200, message: "success" };
        return SheetResponse;
    }
    catch (error) {
        SheetResponse = { code: 400, message: error.message };
        return SheetResponse;
    }
};
const validateDesignerUpdateData = async (args) => {
    var designerResponse;
    const emailReg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    if (!args.smartSheetId) {
        designerResponse = {
            code: 400,
            message: "Please Enter Valid Smartsheet Id",
        };
    }
    if (!emailReg.test(args.designerEmail)) {
        designerResponse = { code: 400, message: "Please Enter Valid Email" };
    }
    return designerResponse;
};
const getDesignerUpdateData = async (sheetData, designerEmail) => {
    const rowArray = [];
    const assignedToColumnId = await getAssignedColumnId(sheetData);
    const taskNameColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue
                ? cell.displayValue.toLowerCase().trim()
                : null;
            if (cell.columnId === taskNameColumnId) {
                if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_STAGE) {
                    const designStage = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(designStage);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KNOW_YOUR_CLIENT) {
                    const knowyourClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(knowyourClient);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FIRST_CUT_MEETING) {
                    const firstCutMeeting = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(firstCutMeeting);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_FINALIZATION) {
                    const designFinalization = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(designFinalization);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_PM_FOR_KICKOFF) {
                    const requestPMKickOff = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(requestPMKickOff);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DWG_REVISIONS) {
                    const dwgRevisions = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(dwgRevisions);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF) {
                    const designSignOff = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(designSignOff);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_RECEIVED_FOR_PLANNING) {
                    const projectReceivedPlanning = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, designerEmail);
                    rowArray.push(projectReceivedPlanning);
                }
            }
        }
    }
    return rowArray;
};
const getAssignedColumnId = async (sheetData) => {
    let assignedToColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ASSIGN_TO) {
            assignedToColumnId = column.id;
        }
    });
    return assignedToColumnId;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateMilestone.ts":
/*!******************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateMilestone.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateMilestone": () => (/* binding */ updateMilestone)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");
/* harmony import */ var _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/ProjectMileStoneEnum */ "./src/domain/enumerations/ProjectMileStoneEnum.ts");
/* harmony import */ var _utils_ProjectMileStoneUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/ProjectMileStoneUtil */ "./src/utils/ProjectMileStoneUtil.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");






const updateMilestone = async (root, args, context) => {
    let sheetResponse;
    try {
        const validationResponse = await validateMilestoneUpdateData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: args.smartSheetId });
        args.actualStartDate = await getPreviousMileStoneFinishDate(sheetData, args);
        const rowArray = await getMileStoneUpdateData(sheetData, args);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, args.smartSheetId);
        await updateCurrentMileStone(sheetData, args);
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const validateMilestoneUpdateData = async (args) => {
    var milestoneResponse;
    if (!args.smartSheetId) {
        milestoneResponse = { code: 400, message: "Please Enter Valid Smartsheet Id" };
    }
    if (!args.mileStoneName) {
        milestoneResponse = { code: 400, message: "Please Enter Valid mileStoneName" };
    }
    if (!args.actualFinishDate) {
        milestoneResponse = { code: 400, message: "Please Enter Valid actualFinishDate" };
    }
    return milestoneResponse;
};
const updateCurrentMileStone = async (sheetData, args) => {
    let projectDelay;
    const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(args.smartSheetId);
    const currentMileStone = await getCurrentMileStone(args, project.milestones);
    const currentSmartsheetMileStone = _utils_ProjectMileStoneUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getSheetMileStoneName(currentMileStone.toLowerCase().trim());
    const columnIds = await getColumnJson(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue === currentSmartsheetMileStone) {
                projectDelay = await getProjectDelay(row, columnIds);
            }
        }
    }
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_5__.prisma.dc_projects.update({
        data: { currentmilestone: currentMileStone, projectdelay: projectDelay },
        where: { id: project.id }
    });
};
const getCurrentMileStone = async (args, milestones) => {
    var i, currentMileStone;
    const mileStoneName = args.mileStoneName.toLowerCase().trim();
    milestones = milestones.attributes.milestone_details;
    for (i = 0; i < milestones.length; i++) {
        if (milestones[i].label.toLowerCase().trim() === mileStoneName) {
            currentMileStone = milestones[i + 1].label.trim();
        }
    }
    return currentMileStone;
};
const getColumnJson = async (sheetData) => {
    let originalEndDateColumnId, forecastedEndDateColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        switch (columnTitle) {
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_FINISH_DATE: {
                originalEndDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].CURRENT_FORECAST_FINISH: {
                forecastedEndDateColumnId = column.id;
                break;
            }
        }
    });
    return { "originalEndDateColumnId": originalEndDateColumnId, "forecastedEndDateColumnId": forecastedEndDateColumnId };
};
const getProjectDelay = async (row, columnIds) => {
    let originalEndDate, forecastedEndDate;
    let delayStatus = "onTime";
    row.cells.forEach((cell) => {
        switch (cell.columnId) {
            case columnIds.originalEndDateColumnId: {
                originalEndDate = cell.value;
                break;
            }
            case columnIds.forecastedEndDateColumnId: {
                forecastedEndDate = cell.value;
                break;
            }
        }
    });
    const delayDays = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getDelayDays)(new Date(forecastedEndDate), new Date(originalEndDate));
    if (delayDays > 0) {
        delayStatus = "delayed";
    }
    return delayStatus;
};
const getPreviousMileStoneFinishDate = async (sheetData, args) => {
    let actualFinishDate;
    const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(args.smartSheetId);
    const previousMileStone = await getPreviousMileStone(args, project.milestones);
    const smartsheetPreviousMileStone = _utils_ProjectMileStoneUtil__WEBPACK_IMPORTED_MODULE_4__["default"].getSheetMileStoneName(previousMileStone.toLowerCase().trim());
    const actualFinishDateColumnId = await getActualFinishDateColumnId(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue === smartsheetPreviousMileStone) {
                actualFinishDate = await getActualFinishDate(row, actualFinishDateColumnId);
            }
        }
    }
    return actualFinishDate;
};
const getPreviousMileStone = async (args, milestones) => {
    var i, previousMileStone;
    const mileStoneName = args.mileStoneName.toLowerCase().trim();
    milestones = milestones.attributes.milestone_details;
    for (i = 0; i < milestones.length; i++) {
        if (milestones[i].label.toLowerCase().trim() === mileStoneName) {
            previousMileStone = milestones[i - 1].label.trim();
        }
    }
    return previousMileStone;
};
const getActualFinishDateColumnId = async (sheetData) => {
    let actualFinishDateColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishDateColumnId = column.id;
        }
    });
    return actualFinishDateColumnId;
};
const getActualFinishDate = async (row, actualFinishDateColumnId) => {
    let actualFinishDate;
    row.cells.forEach((cell) => {
        if (cell.columnId === actualFinishDateColumnId) {
            actualFinishDate = cell.value;
        }
    });
    return actualFinishDate;
};
const getMileStoneUpdateData = async (sheetData, args) => {
    const mileStone = args.mileStoneName.toLowerCase().trim();
    const rowArray = [];
    const taskNameColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue && cell.columnId === taskNameColumnId) {
                if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_SIGNUP) {
                    const projectSignup = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(projectSignup);
                }
                else if ((cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY ||
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY_COMPLETE) && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY) {
                    const siteSurvey = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(siteSurvey);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KNOW_YOUR_CLIENT && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].KNOW_YOUR_CLIENT) {
                    const kyc = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(kyc);
                }
                else if ((cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FIRST_CUT_MEETING ||
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_PRESENTATION) && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION) {
                    const designPresentation = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(designPresentation);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_FINALIZATION && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_FINALIZATION) {
                    const designFinalization = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(designFinalization);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_PM_FOR_KICKOFF && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_REQUEST) {
                    const siteValidation = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(siteValidation);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KICKOFF_MEETING_AT_SITE && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_MEETING) {
                    const siteValidationMeeting = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(siteValidationMeeting);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DWG_REVISIONS && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].POST_SITE_VALIDATION_REVISION) {
                    const postSiteValidation = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(postSiteValidation);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].GFC_CHECKING && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].GFC_CHECKING) {
                    const gfcCheking = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(gfcCheking);
                }
                else if ((cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF ||
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF_PRESENTATION) && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF) {
                    const designSignOff = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(designSignOff);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_RECEIVED_FOR_PLANNING && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION_REQUEST) {
                    const productionRequest = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(productionRequest);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].THIRTYFIVE_PAYMENT_CONFIRMATION && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].THIRTYFIVE_PAYMENT) {
                    const thirtyfivePayment = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(thirtyfivePayment);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PRODUCTION && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION) {
                    const production = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(production);
                }
                else if ((cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_DISPATCH ||
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PENDING_HARDWARE_QC) && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH) {
                    const readyDispatch = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(readyDispatch);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_HANDOVER && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_HANDOVER) {
                    const readyHandover = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(readyHandover);
                }
                else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER && mileStone === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER) {
                    const handover = await gemileStoneCellData(sheetData, args, row.id);
                    rowArray.push(handover);
                }
            }
        }
    }
    return rowArray;
};
const gemileStoneCellData = async (sheetData, args, rowId) => {
    let actualStartColumnId, actualFinishColumnId, taskStatusColumnId;
    const taskStatus = "Complete";
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START) {
            actualStartColumnId = column.id;
        }
        else if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishColumnId = column.id;
        }
        else if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].TASK_STATUS) {
            taskStatusColumnId = column.id;
        }
    });
    const cells = [{ "columnId": actualStartColumnId, "value": new Date(args.actualStartDate) },
        { "columnId": actualFinishColumnId, "value": new Date(args.actualFinishDate) },
        { "columnId": taskStatusColumnId, "value": taskStatus }];
    return { "id": rowId, cells: cells };
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdatePaymentChecklist.ts":
/*!*************************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdatePaymentChecklist.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updatePaymentChecklist": () => (/* binding */ updatePaymentChecklist)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");


const updatePaymentChecklist = async (_root, args, _context) => {
    let sheetRes;
    try {
        const validResponse = await validateChecklistUpdateData(args);
        if (validResponse) {
            return validResponse;
        }
        const smartSheetClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const smartSheetData = await smartSheetClient.sheets.getSheet({ id: args.smartSheetId });
        const checklistArray = await getChecklistUpdateData(smartSheetData, args);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartSheetClient, checklistArray, args.smartSheetId);
        sheetRes = { code: 200, message: "success" };
        return sheetRes;
    }
    catch (error) {
        sheetRes = { code: 400, message: error.message };
        return sheetRes;
    }
};
const getChecklistUpdateData = async (sheetData, args) => {
    const checklistName = args.mileStoneName.toLowerCase().trim();
    const taskColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    const checklistRowArray = [];
    for (let row of sheetData.rows) {
        for (let cell of row.cells) {
            const cellValue = await getCellValue(cell);
            if (cellValue && cell.columnId === taskColumnId) {
                if (cellValue === checklistName) {
                    checklistRowArray.push(await getChecklistCellData(sheetData, args, row.id));
                }
            }
        }
    }
    return checklistRowArray;
};
const getChecklistCellData = async (sheetData, args, rowId) => {
    let actualStartId, actualFinishId, taskStatusId;
    const taskStatus = "Complete";
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START) {
            actualStartId = column.id;
        }
        else if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishId = column.id;
        }
        else if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].TASK_STATUS) {
            taskStatusId = column.id;
        }
    });
    const cells = [{ "columnId": actualStartId, "value": new Date(args.actualStartDate) },
        { "columnId": actualFinishId, "value": new Date(args.actualFinishDate) },
        { "columnId": taskStatusId, "value": taskStatus }];
    return { "id": rowId, cells: cells };
};
const getCellValue = async (cell) => {
    return cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
};
const validateChecklistUpdateData = async (args) => {
    let checklistResponse;
    if (!args.smartSheetId) {
        checklistResponse = { code: 400, message: "Please Enter Valid Smartsheet Id" };
    }
    if (!args.mileStoneName) {
        checklistResponse = { code: 400, message: "Please Enter Valid mileStoneName" };
    }
    if (!args.actualFinishDate) {
        checklistResponse = { code: 400, message: "Please Enter Valid actualFinishDate" };
    }
    if (!args.actualStartDate) {
        checklistResponse = { code: 400, message: "Please Enter Valid actualStartDate" };
    }
    return checklistResponse;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateProjectAddress.ts":
/*!***********************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateProjectAddress.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProjectAddress": () => (/* binding */ updateProjectAddress)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");



const updateProjectAddress = async (root, args, context) => {
    let sheetResponse;
    try {
        const validationResponse = await validateAddressUpdateData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const { smartSheetId, projectAddress } = args;
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
        const rowArray = await getProjectAddressUpdateData(sheetData, projectAddress);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, smartSheetId);
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const validateAddressUpdateData = async (args) => {
    var addressResponse;
    if (!args.smartSheetId) {
        addressResponse = { code: 400, message: "Please Enter Valid Smartsheet Id" };
    }
    if (!args.projectAddress) {
        addressResponse = { code: 400, message: "Please Enter Valid Address" };
    }
    return addressResponse;
};
const getProjectAddressUpdateData = async (sheetData, projectAddress) => {
    const rowArray = [];
    let summaryDetailsColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetailsColumnId = column.id;
        }
    });
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROPERTY_ADDRESS) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, summaryDetailsColumnId, projectAddress));
            }
        }
    }
    return rowArray;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateProjectStatus.ts":
/*!**********************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateProjectStatus.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProjectStatus": () => (/* binding */ updateProjectStatus)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");
/* harmony import */ var _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/ProjectMileStoneEnum */ "./src/domain/enumerations/ProjectMileStoneEnum.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_5__);






const updateProjectStatus = async (root, args, context) => {
    let sheetResponse;
    try {
        const validationResponse = await validateStatusUpdateData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const { smartSheetId, projectStatus, signupDate } = args;
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
        const rowArray = await getProjectStatusUpdateData(sheetData, projectStatus, signupDate);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, smartSheetId);
        await currentMileStone(smartSheetId, smartClient);
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const validateStatusUpdateData = async (args) => {
    const { smartSheetId, projectStatus, signupDate } = args;
    var statusResponse;
    if (!smartSheetId) {
        return { code: 400, message: "Please Enter Valid Smartsheet Id" };
    }
    if (!projectStatus) {
        statusResponse = { code: 400, message: "Please Enter Valid Status" };
    }
    if (!signupDate) {
        statusResponse = { code: 400, message: "Please Enter Valid SignUp Date" };
    }
    return statusResponse;
};
const currentMileStone = async (smartSheetId, smartClient) => {
    const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(smartSheetId);
    const sheetObject = await smartClient.sheets.getSheet({ id: smartSheetId });
    const handoverDate = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getHandoverDate)(sheetObject);
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
        data: { currentmilestone: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DEFAULT_CURRENT_MILESTONE, expectedhandoverdate: new Date(handoverDate) },
        where: { id: project.id }
    });
};
const getColumnIds = async (sheetData) => {
    let summaryDetailsColumnId, actualStartId, actualFinishId, originalPlannedStartId;
    for (var column of sheetData.columns) {
        const columnTitle = await getColumnTitle(column);
        if (columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetailsColumnId = column.id;
        }
        else if (columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START) {
            actualStartId = column.id;
        }
        else if (columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishId = column.id;
        }
        else if (columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_START_DATE) {
            originalPlannedStartId = column.id;
        }
    }
    return { "summaryDetailsColumnId": summaryDetailsColumnId, "actualStartId": actualStartId, "actualFinishId": actualFinishId, "originalPlannedStartId": originalPlannedStartId };
};
const getProjectStatusUpdateData = async (sheetData, projectStatus, signupDate) => {
    const statusRowArray = [];
    const date = dayjs__WEBPACK_IMPORTED_MODULE_5___default()(signupDate).format("YYYY-MM-DD");
    const columnIds = await getColumnIds(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = await getCellValue(cell);
            if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].STATUS) {
                statusRowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, columnIds.summaryDetailsColumnId, projectStatus));
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP) {
                const cells = [{ "columnId": columnIds.actualStartId, "value": new Date(date) },
                    { "columnId": columnIds.actualFinishId, "value": new Date(date) },
                    { "columnId": columnIds.originalPlannedStartId, "value": new Date(date) }];
                const clientCellObject = { "id": row.id, cells: cells };
                statusRowArray.push(clientCellObject);
            }
        }
    }
    return statusRowArray;
};
const getColumnTitle = async (column) => {
    return column.title ? column.title.toLowerCase().trim() : null;
};
const getCellValue = async (cell) => {
    return cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateProjectValue.ts":
/*!*********************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateProjectValue.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProjectValue": () => (/* binding */ updateProjectValue)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");



const updateProjectValue = async (root, args, context) => {
    let sheetResponse;
    try {
        const { smartSheetId, projectValue } = args;
        if (!smartSheetId) {
            sheetResponse = { code: 400, message: "Please Enter Valid Smartsheet Id" };
            return sheetResponse;
        }
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
        const rowArray = await getProjectValueUpdateData(sheetData, projectValue);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, smartSheetId);
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const getProjectValueUpdateData = async (sheetData, projectValue) => {
    const rowArray = [];
    let summaryDetailsColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetailsColumnId = column.id;
        }
    });
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP_VALUE) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, summaryDetailsColumnId, projectValue));
            }
        }
    }
    return rowArray;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/UpdateSurvey.ts":
/*!***************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/UpdateSurvey.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateSurvey": () => (/* binding */ updateSurvey)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");



const updateSurvey = async (root, args, context) => {
    let sheetResponse;
    try {
        const validationResponse = await validateSurveyUpdateData(args);
        if (validationResponse) {
            return validationResponse;
        }
        const { smartSheetId, surveyExecutiveEmail } = args;
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
        const rowArray = await getSurveyUpdateData(sheetData, surveyExecutiveEmail);
        await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.updateSheet)(smartClient, rowArray, smartSheetId);
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const validateSurveyUpdateData = async (args) => {
    var surveyResponse;
    const emailReg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
    if (!args.smartSheetId) {
        surveyResponse = { code: 400, message: "Please Enter Valid Smartsheet Id" };
    }
    if (!emailReg.test(args.surveyExecutiveEmail)) {
        surveyResponse = { code: 400, message: "Please Enter Valid Email" };
    }
    return surveyResponse;
};
const getSurveyUpdateData = async (sheetData, surveyExecutiveEmail) => {
    const rowArray = [];
    let assignedToColumnId;
    const taskNameColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ASSIGN_TO) {
            assignedToColumnId = column.id;
        }
    });
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
            if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY && cell.columnId === taskNameColumnId) {
                rowArray.push(await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getCellData)(row.id, assignedToColumnId, surveyExecutiveEmail));
            }
        }
    }
    return rowArray;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Mutations/WebhookCallBack.ts":
/*!******************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Mutations/WebhookCallBack.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "webHookCallBack": () => (/* binding */ webHookCallBack)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");
/* harmony import */ var _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/ProjectMileStoneEnum */ "./src/domain/enumerations/ProjectMileStoneEnum.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_6__);







const webHookCallBack = async (root, args, context) => {
    try {
        const body = args.body;
        console.log(body);
        if (body.challenge) {
            console.log("Received verification callback");
            return {
                status: 200,
                smartsheetHookResponse: body.challenge,
            };
        }
        else if (body.events) {
            return processEventData(body);
        }
        else if (body.newWebHookStatus) {
            return {
                sendStatus: 200,
            };
        }
        else {
            console.log(`Received unknown callback: ${body}`);
            return {
                sendStatus: 200,
            };
        }
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const processEventData = async (callbackData) => {
    let sheetResponse;
    try {
        if (callbackData.scope !== "sheet") {
            return { code: 400, message: "Wrong Event" };
        }
        for (const event of callbackData.events) {
            await updateProjectData(event, callbackData);
        }
        sheetResponse = { code: 200, message: "success" };
        return sheetResponse;
    }
    catch (error) {
        sheetResponse = { code: 400, message: error.message };
        return sheetResponse;
    }
};
const updateProjectData = async (event, callbackData) => {
    if (event.objectType === "cell") {
        const eventColumnId = event.columnId.toString();
        var options = {
            sheetId: callbackData.scopeObjectId,
            rowId: event.rowId.toString(),
        };
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const row = await smartClient.sheets.getRow(options);
        const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(callbackData.scopeObjectId.toString());
        for (var cell of row.cells) {
            const cellValue = await getCellValue(cell);
            if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REVISED_HANDOVER_DATE) {
                await UpdateHandoverDate(project, row, eventColumnId);
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_MANAGER) {
                await updatePM(project, row, eventColumnId);
            }
            else if (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER) {
                await deleteWebHook(row, event, callbackData, smartClient);
            }
        }
        await updateCurrentMileStone(eventColumnId, event.rowId.toString(), callbackData.scopeObjectId, smartClient);
        var columnOption = {
            sheetId: callbackData.scopeObjectId,
            columnId: eventColumnId,
        };
        const column = await smartClient.sheets.getColumns(columnOption);
        if (column.title.toLowerCase().trim() ===
            _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
                data: { lastupdatedate: new Date() },
                where: { id: project.id },
            });
        }
    }
};
const updateCurrentMileStone = async (eventColumnId, eventRowId, smartSheetId, smartClient) => {
    let updatedMileStone;
    var columnOption = {
        sheetId: smartSheetId,
        columnId: eventColumnId,
    };
    const column = await smartClient.sheets.getColumns(columnOption);
    if (column.title.toLowerCase().trim() === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
        var options = {
            sheetId: smartSheetId,
            rowId: eventRowId,
        };
        const row = await smartClient.sheets.getRow(options);
        for (var cell of row.cells) {
            if (cell.columnId.toString() === eventColumnId.toString() && cell.value) {
                updatedMileStone = await getUpdatedMileStone(row);
            }
        }
        if (updatedMileStone && updatedMileStone.mileStoneName) {
            let milestoneName = updatedMileStone.mileStoneName;
            const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(smartSheetId.toString());
            if (!updatedMileStone.isSheet) {
                const mileStones = await getCurrentMileStone(updatedMileStone.mileStoneName, project.milestones);
                const currentMileStone = mileStones.currentMileStone;
                milestoneName = mileStones.oldMileStone;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
                    data: { currentmilestone: currentMileStone },
                    where: { id: project.id },
                });
            }
            const webEngageResponse = await postWebEngageApi(milestoneName, smartSheetId, smartClient, project);
            console.log(webEngageResponse);
        }
    }
};
const getUpdatedMileStone = async (row) => {
    let updatedMileStone;
    let responseObj;
    for (var cell of row.cells) {
        const cellValue = await getCellValue(cell);
        if (!updatedMileStone && cellValue) {
            responseObj = await getMileStone(cellValue);
            updatedMileStone = responseObj.mileStoneName;
        }
    }
    return responseObj;
};
const getCurrentMileStone = async (updatedMileStone, milestones) => {
    var i, currentMileStone, oldMileStone;
    const mileStoneName = updatedMileStone.toLowerCase().trim();
    milestones = milestones.attributes.milestone_details;
    for (i = 0; i < milestones.length; i++) {
        if (milestones[i].label.toLowerCase().trim() === mileStoneName) {
            if (mileStoneName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER) {
                currentMileStone = milestones[i].label.trim();
                oldMileStone = milestones[i].label.trim();
            }
            else {
                currentMileStone = milestones[i + 1].label.trim();
                oldMileStone = milestones[i].label.trim();
            }
        }
    }
    return { "currentMileStone": currentMileStone, "oldMileStone": oldMileStone };
};
const getMileStone = async (cellValue) => {
    let mileStoneName;
    let isSheet = false;
    switch (cellValue) {
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_SIGNUP;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY_COMPLETE: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KNOW_YOUR_CLIENT: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].KNOW_YOUR_CLIENT;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FIRST_CUT_MEETING: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_PRESENTATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_FINALIZATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_FINALIZATION;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_PM_FOR_KICKOFF: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_REQUEST;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KICKOFF_MEETING_AT_SITE: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_MEETING;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DWG_REVISIONS: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].POST_SITE_VALIDATION_REVISION;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].GFC_CHECKING: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].GFC_CHECKING;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF_PRESENTATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_RECEIVED_FOR_PLANNING: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION_REQUEST;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PRODUCTION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_DISPATCH: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PENDING_HARDWARE_QC: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_HANDOVER: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_HANDOVER;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].THIRTYFIVE_PAYMENT_CONFIRMATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].THIRTYFIVE_PAYMENT;
            isSheet = true;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_ITERATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_ITERATION;
            isSheet = true;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].MATERIAL_SELECTION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].MATERIAL_SELECTION;
            isSheet = true;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FOURTYFIVE_PAYMENT_CONFIRMATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].FOURTYFIVE_PAYMENT_CONFIRMATION;
            isSheet = true;
            break;
        }
        case _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FIFTEEN_PAYMENT_CONFIRMATION: {
            mileStoneName = _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].FIFTEEN_PAYMENT_CONFIRMATION;
            isSheet = true;
            break;
        }
        default: {
            break;
        }
    }
    return { "mileStoneName": mileStoneName, "isSheet": isSheet };
};
const getCellValue = async (cell) => {
    return cell.displayValue ? cell.displayValue.toLowerCase().trim() : null;
};
const UpdateHandoverDate = async (project, row, eventColumnId) => {
    let handoverDate;
    for (var cell of row.cells) {
        if (cell.columnId.toString() === eventColumnId.toString()) {
            handoverDate = cell.value;
            if (handoverDate) {
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
                    data: { expectedhandoverdate: new Date(handoverDate) },
                    where: { id: project.id },
                });
            }
        }
    }
};
const deleteWebHook = async (row, event, callbackData, smartClient) => {
    var options = {
        sheetId: callbackData.scopeObjectId,
        columnId: event.columnId.toString(),
    };
    const column = await smartClient.sheets.getColumns(options);
    if (column.title.toLowerCase().trim() === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
        for (var cell of row.cells) {
            if (cell.columnId.toString() === event.columnId.toString()) {
                if (cell.value) {
                    var deleteHook = {
                        webhookId: callbackData.webhookId,
                    };
                    await smartClient.webhooks.deleteWebhook(deleteHook);
                }
            }
        }
    }
};
const updatePM = async (project, row, eventColumnId) => {
    let projectManager;
    for (var cell of row.cells) {
        if (cell.columnId.toString() === eventColumnId.toString()) {
            projectManager = cell.value;
            if (projectManager) {
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
                    data: { projectmanagername: projectManager },
                    where: { id: project.id },
                });
            }
        }
    }
};
const postWebEngageApi = async (updatedMileStone, smartSheetId, smartClient, project) => {
    const sheetData = await smartClient.sheets.getSheet({ id: smartSheetId });
    const taskNameColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    const summaryDetailsColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSummaryDetailsColumnId)(sheetData);
    let clientEmail, clientContact, designerName;
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = await getCellValue(cell);
            if (cell.columnId === taskNameColumnId && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGNER_NAME) {
                designerName = await getDesignerName(row, summaryDetailsColumnId);
            }
            if (cell.columnId === taskNameColumnId && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_EMAIL) {
                clientEmail = await getClientContact(row, summaryDetailsColumnId);
            }
            if (cell.columnId === taskNameColumnId && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].CLIENT_CONTACT) {
                clientContact = await getClientEmail(row, summaryDetailsColumnId);
            }
        }
    }
    return callWebEngageApi(clientContact, updatedMileStone, designerName, clientEmail, project);
};
const callWebEngageApi = async (clientContact, updatedMileStone, designerName, clientEmail, project) => {
    if (process.env.WebEngageEnv !== "prod") {
        clientContact = process.env.TestPhone;
    }
    if (updatedMileStone === "Post Site Validation Revision") {
        updatedMileStone = "Dwg Revisions Completed";
    }
    if (updatedMileStone === "Design Sign-Off") {
        updatedMileStone = "Design Sign Off";
    }
    const completionDate = dayjs__WEBPACK_IMPORTED_MODULE_6___default()(project.expectedhandoverdate).format("DD MMMM YYYY");
    const attributeModel = { "milestoneName": updatedMileStone, "DesignerName": designerName, "IsImosProject": project.isimosproject, "completionDate": completionDate };
    const requestBody = { "userId": clientContact, "email": clientEmail, "phone": clientContact, "attributes": attributeModel };
    console.log(requestBody);
    const url = process.env.WebEngageUrl;
    const webEngagePushDataResponse = await superagent__WEBPACK_IMPORTED_MODULE_5___default().put(url)
        .send(requestBody)
        .set("Content-Type", "application/json")
        .set("Authorization", process.env.WebEngageAuthorizationToken);
    if (JSON.stringify(webEngagePushDataResponse.body.response.status === "queued")) {
        return {
            code: 200,
            message: "Data Successfully pushed to WebEngage"
        };
    }
    else {
        return {
            code: 400,
            response: JSON.stringify(webEngagePushDataResponse)
        };
    }
};
const getDesignerName = async (row, summaryDetailsColumnId) => {
    let designerName;
    for (var cell of row.cells) {
        if (cell.columnId.toString() === summaryDetailsColumnId.toString()) {
            designerName = cell.value;
            break;
        }
    }
    return designerName;
};
const getClientContact = async (row, summaryDetailsColumnId) => {
    let clientContact;
    for (var cell of row.cells) {
        if (cell.columnId.toString() === summaryDetailsColumnId.toString()) {
            clientContact = cell.value;
            break;
        }
    }
    return clientContact;
};
const getClientEmail = async (row, summaryDetailsColumnId) => {
    let clientEmail;
    for (var cell of row.cells) {
        if (cell.columnId.toString() === summaryDetailsColumnId.toString()) {
            clientEmail = cell.value;
            break;
        }
    }
    return clientEmail;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/Queries/GetMileStonesDetails.ts":
/*!*********************************************************************!*\
  !*** ./src/api/projects/Smartsheet/Queries/GetMileStonesDetails.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getMileStoneData": () => (/* binding */ getMileStoneData),
/* harmony export */   "getMileStoneDetails": () => (/* binding */ getMileStoneDetails)
/* harmony export */ });
/* harmony import */ var _SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../SmartSheetServices */ "./src/api/projects/Smartsheet/SmartSheetServices.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");
/* harmony import */ var _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/ProjectMileStoneEnum */ "./src/domain/enumerations/ProjectMileStoneEnum.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");





const getMileStoneDetails = async (root, args, context) => {
    let GetMileStoneResponse;
    var handoverDate;
    try {
        if (!args.sheetId) {
            return { code: 400, message: "Please Enter Valid Smartsheet Id" };
        }
        const smartClient = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getSmartSheetClient)();
        const sheetData = await smartClient.sheets.getSheet({ id: args.sheetId });
        const project = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getProjectBySheetId)(args.sheetId);
        const mileStoneData = await getMileStoneData(sheetData, project.milestones, "");
        handoverDate = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getHandoverDate)(sheetData);
        if (handoverDate) {
            handoverDate = new Date(handoverDate);
        }
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_projects.update({
            data: { expectedhandoverdate: handoverDate },
            where: { id: project.id },
        });
        GetMileStoneResponse = {
            code: 200,
            message: "success",
            data: mileStoneData,
        };
        return GetMileStoneResponse;
    }
    catch (error) {
        GetMileStoneResponse = { code: 400, message: error.message };
        return GetMileStoneResponse;
    }
};
const getMileStoneData = async (sheetData, mileStones, type) => {
    const columnJson = await getColumnIds(sheetData);
    var mileStone, checkListdata;
    const milestonelist = [], listType = type;
    const taskNameColumnId = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getTaskNameColumnId)(sheetData);
    for (var row of sheetData.rows) {
        for (var cell of row.cells) {
            const cellValue = cell.displayValue
                ? cell.displayValue.toLowerCase().trim()
                : null;
            if (cell.columnId === taskNameColumnId) {
                if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_SIGNUP) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_SIGNUP) {
                            const projectSignUpData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getChecklistData(milestoneChecklist, lableName, projectSignUpData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = projectSignUpData;
                        }
                    }
                }
                if (cellValue && (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY ||
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].SITE_SURVEY_COMPLETE)) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY) {
                            const siteSurveyData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getSiteSurveyData(milestoneChecklist, lableName, siteSurveyData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = siteSurveyData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KNOW_YOUR_CLIENT) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].KNOW_YOUR_CLIENT) {
                            const kycData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getKYCData(milestoneChecklist, lableName, kycData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = kycData;
                        }
                    }
                }
                if (cellValue &&
                    (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].FIRST_CUT_MEETING ||
                        cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_PRESENTATION)) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION) {
                            const designPresentationData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getDesignpresentationData(milestoneChecklist, lableName, designPresentationData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = designPresentationData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_FINALIZATION) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_FINALIZATION) {
                            const designFinalizationData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getDesignfinalizationData(milestoneChecklist, lableName, designFinalizationData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = designFinalizationData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_PM_FOR_KICKOFF) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_REQUEST) {
                            const pmKickOffData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getSiterequestData(milestoneChecklist, lableName, pmKickOffData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = pmKickOffData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].KICKOFF_MEETING_AT_SITE) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_MEETING) {
                            const meetingatSiteData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getSitemeetingData(milestoneChecklist, lableName, meetingatSiteData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = meetingatSiteData;
                        }
                    }
                }
                if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DWG_REVISIONS) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].POST_SITE_VALIDATION_REVISION) {
                            const dwgRevisionData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getPostSiteData(milestoneChecklist, lableName, dwgRevisionData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = dwgRevisionData;
                        }
                    }
                }
                if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].GFC_CHECKING) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].GFC_CHECKING) {
                            const gfcChekingData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getGFCData(milestoneChecklist, lableName, gfcChekingData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = gfcChekingData;
                        }
                    }
                }
                if (cellValue &&
                    (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF ||
                        cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].DESIGN_SIGN_OFF_PRESENTATION)) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF) {
                            const designSignOffData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getDesignSignoffData(milestoneChecklist, lableName, designSignOffData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = designSignOffData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PROJECT_RECEIVED_FOR_PLANNING) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION_REQUEST) {
                            const receivedForPlanningData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getProductionRequestData(milestoneChecklist, lableName, receivedForPlanningData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = receivedForPlanningData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].THIRTYFIVE_PAYMENT_CONFIRMATION) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].THIRTYFIVE_PAYMENT) {
                            const thirtyFiveData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await get35Data(milestoneChecklist, lableName, thirtyFiveData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = thirtyFiveData;
                        }
                    }
                }
                if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PRODUCTION) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION) {
                            const productionData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getProductionData(milestoneChecklist, lableName, productionData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = productionData;
                        }
                    }
                }
                if (cellValue &&
                    (cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_DISPATCH ||
                        cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].PENDING_HARDWARE_QC)) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH) {
                            const readyDispatchData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getReadyDispatchData(milestoneChecklist, lableName, readyDispatchData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = readyDispatchData;
                        }
                    }
                }
                if (cellValue &&
                    cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_HANDOVER) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_HANDOVER) {
                            const readyHandoverData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getReadyHandoverData(milestoneChecklist, lableName, readyHandoverData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = readyHandoverData;
                        }
                    }
                }
                if (cellValue && cellValue === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER) {
                    for (mileStone of mileStones.attributes.milestone_details) {
                        const lableName = mileStone.label
                            ? mileStone.label.toLowerCase().trim()
                            : null;
                        if (lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER) {
                            const handoverData = await getmileStoneCellData(row, columnJson, listType);
                            const milestoneChecklist = mileStone.milestone_checklist;
                            checkListdata = await getHandoverData(milestoneChecklist, lableName, handoverData);
                            milestonelist.push(checkListdata);
                            mileStone.MileStoneData = handoverData;
                        }
                    }
                }
            }
        }
    }
    if (type === "home") {
        return milestonelist;
    }
    else {
        return mileStones;
    }
};
const getmileStoneCellData = async (row, columnJson, listType) => {
    let assignedTo, originalStartDate, originalEndDate, actualStartDate, actualEndDate, forecastedEndDate, forecastedStartDate, taskStatus;
    let delayDays;
    let delayStatus = "onTime";
    row.cells.forEach((cell) => {
        switch (cell.columnId) {
            case columnJson.assignedToColumnId: {
                assignedTo = cell.value;
                break;
            }
            case columnJson.originalStartDateColumnId: {
                originalStartDate = cell.value;
                break;
            }
            case columnJson.originalEndDateColumnId: {
                originalEndDate = cell.value;
                break;
            }
            case columnJson.actualStartDateColumnId: {
                actualStartDate = cell.value;
                break;
            }
            case columnJson.actualEndDateColumnId: {
                actualEndDate = cell.value;
                break;
            }
            case columnJson.forecastedEndDateColumnId: {
                forecastedEndDate = cell.value;
                break;
            }
            case columnJson.forecastedStartDateColumnId: {
                forecastedStartDate = cell.value;
                break;
            }
            case columnJson.taskStatusColumnId: {
                taskStatus = cell.value;
                break;
            }
            default:
                break;
        }
    });
    switch (taskStatus) {
        case "Complete": {
            delayDays = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getDelayDays)(new Date(actualEndDate), new Date(originalEndDate));
            break;
        }
        case "Not Started": {
            delayDays = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getDelayDays)(new Date(forecastedEndDate), new Date(originalEndDate));
            break;
        }
        case "In Progress": {
            delayDays = await (0,_SmartSheetServices__WEBPACK_IMPORTED_MODULE_0__.getDelayDays)(new Date(forecastedEndDate), new Date(originalEndDate));
            break;
        }
        default:
            break;
    }
    if (delayDays > 0) {
        delayStatus = "delayed";
    }
    else {
        delayDays = 0;
    }
    if (listType === "home") {
        return {
            forecastedEndDate: forecastedEndDate,
            taskStatus: taskStatus,
            delayDays: delayDays,
            delayStatus: delayStatus,
        };
    }
    else {
        return {
            assignedTo: assignedTo,
            originalStartDate: originalStartDate,
            originalEndDate: originalEndDate,
            actualStartDate: actualStartDate,
            actualEndDate: actualEndDate,
            forecastedEndDate: forecastedEndDate,
            forecastedStartDate: forecastedStartDate,
            taskStatus: taskStatus,
            delayDays: delayDays,
            delayStatus: delayStatus,
        };
    }
};
const getColumnIds = async (sheetData) => {
    const columnJson = await getColumnsJson();
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        switch (columnTitle) {
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ASSIGN_TO: {
                columnJson.assignedToColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_START_DATE: {
                columnJson.originalStartDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_FINISH_DATE: {
                columnJson.originalEndDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START: {
                columnJson.actualStartDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH: {
                columnJson.actualEndDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].CURRENT_FORECAST_START: {
                columnJson.forecastedStartDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].CURRENT_FORECAST_FINISH: {
                columnJson.forecastedEndDateColumnId = column.id;
                break;
            }
            case _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].TASK_STATUS: {
                columnJson.taskStatusColumnId = column.id;
                break;
            }
        }
    });
    return columnJson;
};
const getColumnsJson = async () => {
    return {
        assignedToColumnId: null,
        originalStartDateColumnId: null,
        originalEndDateColumnId: null,
        actualStartDateColumnId: null,
        actualEndDateColumnId: null,
        forecastedEndDateColumnId: null,
        forecastedStartDateColumnId: null,
        taskStatusColumnId: null,
    };
};
const getChecklistData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_SIGNUP) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PROJECT_SIGNUP,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getSiteSurveyData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_SURVEY,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getKYCData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].KNOW_YOUR_CLIENT) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].KNOW_YOUR_CLIENT,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getDesignpresentationData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_PRESENTATION,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getDesignfinalizationData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_FINALIZATION) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_FINALIZATION,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getSiterequestData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_REQUEST) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_REQUEST,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getSitemeetingData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_MEETING) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].SITE_VALIDATION_MEETING,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getPostSiteData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].POST_SITE_VALIDATION_REVISION) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].POST_SITE_VALIDATION_REVISION,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getGFCData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].GFC_CHECKING) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].GFC_CHECKING,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getDesignSignoffData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].DESIGN_SIGNOFF,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getProductionRequestData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION_REQUEST) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION_REQUEST,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const get35Data = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].THIRTYFIVE_PAYMENT) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].THIRTYFIVE_PAYMENT,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getProductionData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].PRODUCTION,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getReadyDispatchData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_DISPATCH,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getReadyHandoverData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 &&
            lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_HANDOVER) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].READY_FOR_HANDOVER,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};
const getHandoverData = async (milestoneChecklist, lableName, statusData) => {
    let ms = {};
    const checklistName = [];
    milestoneChecklist.forEach((val) => {
        if (val.length !== 0 && lableName === _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER) {
            checklistName.push(val);
        }
    });
    ms = {
        name: _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_3__["default"].HANDOVER,
        checklist_name: checklistName,
        taskStatus: statusData,
    };
    return ms;
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/SmartSheetServices.ts":
/*!***********************************************************!*\
  !*** ./src/api/projects/Smartsheet/SmartSheetServices.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSheet": () => (/* binding */ createSheet),
/* harmony export */   "createWebHook": () => (/* binding */ createWebHook),
/* harmony export */   "getActualHandoverDate": () => (/* binding */ getActualHandoverDate),
/* harmony export */   "getCellData": () => (/* binding */ getCellData),
/* harmony export */   "getDelayDays": () => (/* binding */ getDelayDays),
/* harmony export */   "getForeCastDate": () => (/* binding */ getForeCastDate),
/* harmony export */   "getForecastedHandoverDate": () => (/* binding */ getForecastedHandoverDate),
/* harmony export */   "getHandoverColumnId": () => (/* binding */ getHandoverColumnId),
/* harmony export */   "getHandoverData": () => (/* binding */ getHandoverData),
/* harmony export */   "getHandoverDate": () => (/* binding */ getHandoverDate),
/* harmony export */   "getProjectBySheetId": () => (/* binding */ getProjectBySheetId),
/* harmony export */   "getReadyHandoverDate": () => (/* binding */ getReadyHandoverDate),
/* harmony export */   "getRevisedHandoverDate": () => (/* binding */ getRevisedHandoverDate),
/* harmony export */   "getSmartSheetClient": () => (/* binding */ getSmartSheetClient),
/* harmony export */   "getSummaryDetailsColumnId": () => (/* binding */ getSummaryDetailsColumnId),
/* harmony export */   "getTaskNameColumnId": () => (/* binding */ getTaskNameColumnId),
/* harmony export */   "getWebhookColumnId": () => (/* binding */ getWebhookColumnId),
/* harmony export */   "updateSheet": () => (/* binding */ updateSheet)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/enumerations/SmartSheetColumnNameEnum */ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");



async function getSmartSheetClient() {
    const smartSdk = __webpack_require__(/*! smartsheet */ "smartsheet");
    return smartSdk.createClient({
        accessToken: process.env.smartSheetAccessToken,
        logLevel: "info"
    });
}
async function createSheet(smartClient, sheetName) {
    var sheet = {
        "fromId": process.env.smartSheetTemplateId,
        "name": sheetName
    };
    var options = {
        workspaceId: process.env.smartSheetWorkspaceId,
        body: sheet,
        queryParameters: {
            include: 'attachments,data,discussions'
        }
    };
    const sheetDetails = await smartClient.sheets.createSheetFromExisting(options);
    return sheetDetails.result.id;
}
async function updateSheet(smartClient, rowArray, sheetId) {
    var updateRow = {
        sheetId: sheetId,
        body: rowArray
    };
    return smartClient.sheets.updateRow(updateRow);
}
async function getCellData(rowId, columnId, value) {
    const cells = [{ "columnId": columnId, "value": value }];
    return { "id": rowId, cells: cells };
}
async function getProjectBySheetId(smartSheetId) {
    return _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
        where: { smartsheetid: smartSheetId },
    });
}
async function getHandoverDate(smartSheetData) {
    let handoverDate = null;
    const handoverColumnIds = await getHandoverColumnId(smartSheetData);
    handoverDate = await getRevisedHandoverDate(smartSheetData, handoverColumnIds.actualStartDateColumnId, handoverDate);
    handoverDate = await getActualHandoverDate(smartSheetData, handoverColumnIds.actualStartDateColumnId, handoverDate);
    handoverDate = await getForecastedHandoverDate(smartSheetData, handoverColumnIds.forecastedFnishDateColumnId, handoverColumnIds.originalEndDateColumnId, handoverDate);
    handoverDate = await getReadyHandoverDate(smartSheetData, handoverColumnIds.forecastedFnishDateColumnId, handoverDate);
    return handoverDate;
}
async function createWebHook(targetSheetId, hookName) {
    let webhook = null;
    const smartClient = await getSmartSheetClient();
    const listHooksResponse = await smartClient.webhooks.listWebhooks({
        includeAll: true
    });
    for (const hook of listHooksResponse.data) {
        if (hook.scopeObjectId === targetSheetId && hook.name === hookName) {
            webhook = hook;
            break;
        }
    }
    if (!webhook) {
        const sheetData = await smartClient.sheets.getSheet({ id: targetSheetId });
        const subColumnIds = await getWebhookColumnId(sheetData);
        const subScopeOption = {
            columnIds: subColumnIds
        };
        const createOptions = {
            body: {
                name: hookName,
                callbackUrl: process.env.smartSheetCallBackUrl,
                scope: "sheet",
                scopeObjectId: targetSheetId,
                events: ["*.*"],
                version: 1,
                subscope: subScopeOption
            }
        };
        const createResponse = await smartClient.webhooks.createWebhook(createOptions);
        webhook = createResponse.result;
        console.log(`Created new hook: ${webhook.id}`);
    }
    const updateOptions = {
        webhookId: webhook.id,
        callbackUrl: process.env.smartSheetCallBackUrl,
        body: { enabled: true }
    };
    const updateResponse = await smartClient.webhooks.updateWebhook(updateOptions);
    const updatedWebhook = updateResponse.result;
    console.log(`Hook enabled: ${updatedWebhook.enabled}, status: ${updatedWebhook.status}`);
}
async function getDelayDays(endDate, startDate) {
    const oneDay = 1000 * 60 * 60 * 24;
    const diffInTime = endDate.getTime() - startDate.getTime();
    return Math.round(diffInTime / oneDay);
}
async function getHandoverData(row, DateColumnId) {
    let cellValue;
    row.cells.forEach((cell) => {
        if (cell.columnId === DateColumnId && cell.value) {
            cellValue = cell.value;
        }
    });
    return cellValue;
}
async function getForeCastDate(row, forecastedFnishDateColumnId, originalEndDateColumnId) {
    let cellValue;
    row.cells.forEach((cell) => {
        if (cell.columnId === forecastedFnishDateColumnId && cell.value) {
            cellValue = cell.value;
        }
        if (cell.columnId === originalEndDateColumnId && !cellValue && cell.value) {
            cellValue = cell.value;
        }
    });
    return cellValue;
}
async function getHandoverColumnId(smartSheetData) {
    let originalEndDateColumnId, actualStartDateColumnId, forecastedFnishDateColumnId;
    smartSheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ORIGINAL_PLANNED_FINISH_DATE) {
            originalEndDateColumnId = column.id;
        }
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_START) {
            actualStartDateColumnId = column.id;
        }
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].CURRENT_FORECAST_FINISH) {
            forecastedFnishDateColumnId = column.id;
        }
    });
    return { "originalEndDateColumnId": originalEndDateColumnId, "actualStartDateColumnId": actualStartDateColumnId, "forecastedFnishDateColumnId": forecastedFnishDateColumnId };
}
async function getRevisedHandoverDate(smartSheetData, actualStartDateColumnId, handoverDate) {
    var row, cell;
    for (row of smartSheetData.rows) {
        for (cell of row.cells) {
            if (cell.displayValue && (cell.displayValue.toLowerCase().trim() === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].REVISED_HANDOVER_DATE) && !handoverDate) {
                handoverDate = await getHandoverData(row, actualStartDateColumnId);
            }
        }
    }
    return handoverDate;
}
async function getActualHandoverDate(smartSheetData, actualStartDateColumnId, handoverDate) {
    var row, cell;
    for (row of smartSheetData.rows) {
        for (cell of row.cells) {
            if (cell.displayValue && (cell.displayValue.toLowerCase().trim() === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER_DATE) && !handoverDate) {
                handoverDate = await getHandoverData(row, actualStartDateColumnId);
            }
        }
    }
    return handoverDate;
}
async function getForecastedHandoverDate(smartSheetData, forecastedFnishDateColumnId, originalEndDateColumnId, handoverDate) {
    var row, cell;
    for (row of smartSheetData.rows) {
        for (cell of row.cells) {
            if (cell.displayValue && (cell.displayValue.toLowerCase().trim() === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].HANDOVER) && !handoverDate) {
                const handoverForecast = await getForeCastDate(row, forecastedFnishDateColumnId, originalEndDateColumnId);
                handoverDate = handoverForecast;
            }
        }
    }
    return handoverDate;
}
async function getReadyHandoverDate(smartSheetData, forecastedFnishDateColumnId, handoverDate) {
    var row, cell;
    for (row of smartSheetData.rows) {
        for (cell of row.cells) {
            if (cell.displayValue && (cell.displayValue.toLowerCase().trim() === _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_2__["default"].READY_FOR_HANDOVER) && !handoverDate) {
                const readyHandover = await getHandoverData(row, forecastedFnishDateColumnId);
                handoverDate = readyHandover;
            }
        }
    }
    return handoverDate;
}
async function getTaskNameColumnId(sheetData) {
    let taskNameColumnId;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].TASK_NAME) {
            taskNameColumnId = column.id;
        }
    });
    return taskNameColumnId;
}
async function getWebhookColumnId(sheetData) {
    let summaryDetails, actualFinishDate;
    const columnIds = [];
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetails = column.id;
            columnIds.push(summaryDetails);
        }
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ACTUAL_FINISH) {
            actualFinishDate = column.id;
            columnIds.push(actualFinishDate);
        }
    });
    return columnIds;
}
async function getSummaryDetailsColumnId(sheetData) {
    let summaryDetails;
    sheetData.columns.forEach((column) => {
        const columnTitle = column.title ? column.title.toLowerCase().trim() : null;
        if (columnTitle && columnTitle === _domain_enumerations_SmartSheetColumnNameEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SUMMARY_DETAILS) {
            summaryDetails = column.id;
        }
    });
    return summaryDetails;
}


/***/ }),

/***/ "./src/api/projects/Smartsheet/resolver.ts":
/*!*************************************************!*\
  !*** ./src/api/projects/Smartsheet/resolver.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "smartSheetResolver": () => (/* binding */ smartSheetResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Mutations_CreateSmartsheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Mutations/CreateSmartsheet */ "./src/api/projects/Smartsheet/Mutations/CreateSmartsheet.ts");
/* harmony import */ var _Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mutations/UpdateDesigner */ "./src/api/projects/Smartsheet/Mutations/UpdateDesigner.ts");
/* harmony import */ var _Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/UpdateSurvey */ "./src/api/projects/Smartsheet/Mutations/UpdateSurvey.ts");
/* harmony import */ var _Mutations_UpdateProjectValue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutations/UpdateProjectValue */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectValue.ts");
/* harmony import */ var _Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Mutations/UpdateProjectAddress */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectAddress.ts");
/* harmony import */ var _Mutations_UpdateMilestone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Mutations/UpdateMilestone */ "./src/api/projects/Smartsheet/Mutations/UpdateMilestone.ts");
/* harmony import */ var _Queries_GetMileStonesDetails__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Queries/GetMileStonesDetails */ "./src/api/projects/Smartsheet/Queries/GetMileStonesDetails.ts");
/* harmony import */ var _Mutations_UpdateProjectStatus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Mutations/UpdateProjectStatus */ "./src/api/projects/Smartsheet/Mutations/UpdateProjectStatus.ts");
/* harmony import */ var _Mutations_WebhookCallBack__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mutations/WebhookCallBack */ "./src/api/projects/Smartsheet/Mutations/WebhookCallBack.ts");
/* harmony import */ var _Mutations_UpdatePaymentChecklist__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Mutations/UpdatePaymentChecklist */ "./src/api/projects/Smartsheet/Mutations/UpdatePaymentChecklist.ts");











const smartSheetResolver = {
    Query: {
        getMileStoneDetails: async (parent, _args, context) => (0,_Queries_GetMileStonesDetails__WEBPACK_IMPORTED_MODULE_7__.getMileStoneDetails)(parent, _args, context),
    },
    Mutation: {
        createSmartSheet: async (parent, _args, context) => (0,_Mutations_CreateSmartsheet__WEBPACK_IMPORTED_MODULE_1__.createSmartSheet)(parent, _args, context),
        updateProjectValue: async (parent, _args, context) => (0,_Mutations_UpdateProjectValue__WEBPACK_IMPORTED_MODULE_4__.updateProjectValue)(parent, _args, context),
        updateProjectAddress: async (parent, _args, context) => (0,_Mutations_UpdateProjectAddress__WEBPACK_IMPORTED_MODULE_5__.updateProjectAddress)(parent, _args, context),
        updateMilestone: async (parent, _args, context) => (0,_Mutations_UpdateMilestone__WEBPACK_IMPORTED_MODULE_6__.updateMilestone)(parent, _args, context),
        updateDesignerEmail: async (parent, _args, context) => (0,_Mutations_UpdateDesigner__WEBPACK_IMPORTED_MODULE_2__.updateDesignerEmail)(parent, _args, context),
        updateSurvey: async (parent, _args, context) => (0,_Mutations_UpdateSurvey__WEBPACK_IMPORTED_MODULE_3__.updateSurvey)(parent, _args, context),
        updateProjectStatus: async (parent, _args, context) => (0,_Mutations_UpdateProjectStatus__WEBPACK_IMPORTED_MODULE_8__.updateProjectStatus)(parent, _args, context),
        webHookCallBack: async (parent, _args, context) => (0,_Mutations_WebhookCallBack__WEBPACK_IMPORTED_MODULE_9__.webHookCallBack)(parent, _args, context),
        updatePaymentChecklist: async (parent, _args, context) => (0,_Mutations_UpdatePaymentChecklist__WEBPACK_IMPORTED_MODULE_10__.updatePaymentChecklist)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
    JSON: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.GraphQLJSON,
};


/***/ }),

/***/ "./src/api/projects/Smartsheet/typedef.ts":
/*!************************************************!*\
  !*** ./src/api/projects/Smartsheet/typedef.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "smartSheetTypedef": () => (/* binding */ smartSheetTypedef)
/* harmony export */ });
const smartSheetTypedef = `

type CreateSheetResponse { 
    code:Int
    message: String
    sheetId : String
}
type Mutation{
    createSmartSheet(
        projectId : Int!,
        clientName : String!,
        clientId : String!,
        projectSignupValue : Float!,
        designerName : String!,
        designStudio : String!,
        salesOwner : String!,
        clientEmail : String,
        clientContact : String!,
        propertyName : String!,
        propertyAddress : String!,
        status : String!
    ): CreateSheetResponse

    updateDesignerEmail(
        smartSheetId : String!,
        designerEmail : String!
    ): SheetResponse

    updateSurvey(
        smartSheetId : String!,
        surveyExecutiveEmail : String!
    ): SheetResponse

    updateProjectValue(
        smartSheetId : String!,
        projectValue : Float!
    ): SheetResponse

    updateProjectAddress(
        smartSheetId : String!,
        projectAddress : String!
    ): SheetResponse
    
    updateMilestone(
        smartSheetId : String!,
        mileStoneName : String!,
        actualFinishDate : String!
    ): SheetResponse

    updateProjectStatus(
        smartSheetId : String!,
        projectStatus : String!,
        signupDate : String!
    ): SheetResponse

    webHookCallBack(
        body : JSON
    ): SheetResponse

    updatePaymentChecklist(
        smartSheetId : String!,
        mileStoneName : String!,
        actualFinishDate : String!
        actualStartDate : String!
    ): SheetResponse
}

type GetMileStoneResponse { 
    code:Int
    message: String
    data : JSON
}
type SheetResponse { 
    code:Int
    message: String
}

type Query {
    getMileStoneDetails(sheetId:String): GetMileStoneResponse
}
    scalar DateTime
    scalar JSON
`;


/***/ }),

/***/ "./src/api/projects/resolver.ts":
/*!**************************************!*\
  !*** ./src/api/projects/resolver.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectsResolver": () => (/* binding */ projectsResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_GetAllProject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/GetAllProject */ "./src/api/projects/Queries/GetAllProject.ts");
/* harmony import */ var _Queries_GetProjectById__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Queries/GetProjectById */ "./src/api/projects/Queries/GetProjectById.ts");
/* harmony import */ var _Mutations_AddProject__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mutations/AddProject */ "./src/api/projects/Mutations/AddProject.ts");
/* harmony import */ var _Mutations_AddMilestoneFiles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutations/AddMilestoneFiles */ "./src/api/projects/Mutations/AddMilestoneFiles.ts");
/* harmony import */ var _Queries_GetProjectCostBreakup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Queries/GetProjectCostBreakup */ "./src/api/projects/Queries/GetProjectCostBreakup.ts");
/* harmony import */ var _Queries_GetProjectsByFilter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Queries/GetProjectsByFilter */ "./src/api/projects/Queries/GetProjectsByFilter.ts");
/* harmony import */ var _Mutations_UpdateProject__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Mutations/UpdateProject */ "./src/api/projects/Mutations/UpdateProject.ts");
/* harmony import */ var _Mutations_CompleteChecklistApi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Mutations/CompleteChecklistApi */ "./src/api/projects/Mutations/CompleteChecklistApi.ts");
/* harmony import */ var _Mutations_UpdatePaymentMilestones__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mutations/UpdatePaymentMilestones */ "./src/api/projects/Mutations/UpdatePaymentMilestones.ts");
/* harmony import */ var _Queries_GetSubTaskForProject__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Queries/GetSubTaskForProject */ "./src/api/projects/Queries/GetSubTaskForProject.ts");
/* harmony import */ var _Queries_GetFilesForProject__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Queries/GetFilesForProject */ "./src/api/projects/Queries/GetFilesForProject.ts");
/* harmony import */ var _Queries_GetFileUrl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Queries/GetFileUrl */ "./src/api/projects/Queries/GetFileUrl.ts");
/* harmony import */ var _Mutations_meetingSchedulerMilestone__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Mutations/meetingSchedulerMilestone */ "./src/api/projects/Mutations/meetingSchedulerMilestone.ts");
/* harmony import */ var _Mutations_UpdateFormFillMilestones__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Mutations/UpdateFormFillMilestones */ "./src/api/projects/Mutations/UpdateFormFillMilestones.ts");
/* harmony import */ var _Mutations_ShareFileWithCustomer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Mutations/ShareFileWithCustomer */ "./src/api/projects/Mutations/ShareFileWithCustomer.ts");
/* harmony import */ var _Mutations_CompleteMilestoneChecklist__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Mutations/CompleteMilestoneChecklist */ "./src/api/projects/Mutations/CompleteMilestoneChecklist.ts");
/* harmony import */ var _Queries_GetOldProject__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Queries/GetOldProject */ "./src/api/projects/Queries/GetOldProject.ts");


















const projectsResolver = {
    Query: {
        allProjects: async () => (0,_Queries_GetAllProject__WEBPACK_IMPORTED_MODULE_1__.getProjects)(),
        getProjectById: async (parent, _args, context) => (0,_Queries_GetProjectById__WEBPACK_IMPORTED_MODULE_2__.getProjectById)(parent, _args, context),
        getProjectCostBreakup: async (parent, _args, context) => (0,_Queries_GetProjectCostBreakup__WEBPACK_IMPORTED_MODULE_5__.getProjectCostBreakup)(parent, _args, context),
        getProjectsByFilter: async (parent, _args, context) => (0,_Queries_GetProjectsByFilter__WEBPACK_IMPORTED_MODULE_6__.getProjectsByFilter)(parent, _args, context),
        getSubTaskForProject: async (parent, _args, context) => (0,_Queries_GetSubTaskForProject__WEBPACK_IMPORTED_MODULE_10__.getSubTaskForProject)(parent, _args, context),
        getFiles: async (parent, _args, context) => (0,_Queries_GetFilesForProject__WEBPACK_IMPORTED_MODULE_11__.getFilesForProjects)(parent, _args, context),
        getFileUrl: async (parent, _args, context) => (0,_Queries_GetFileUrl__WEBPACK_IMPORTED_MODULE_12__.getFileUrl)(parent, _args, context),
        getOldProject: async (parent, _args, context) => (0,_Queries_GetOldProject__WEBPACK_IMPORTED_MODULE_17__.getOldProject)(parent, _args, context),
    },
    Mutation: {
        addProject: async (parent, _args, context) => (0,_Mutations_AddProject__WEBPACK_IMPORTED_MODULE_3__.addProject)(parent, _args, context),
        updateProjectApi: async (parent, _args, context) => (0,_Mutations_UpdateProject__WEBPACK_IMPORTED_MODULE_7__.updateProjectApi)(parent, _args, context),
        addMilestoneFiles: async (parent, _args, context) => (0,_Mutations_AddMilestoneFiles__WEBPACK_IMPORTED_MODULE_4__.addMilestoneFiles)(parent, _args, context),
        updatePaymentMilestones: async (parent, _args, context) => (0,_Mutations_UpdatePaymentMilestones__WEBPACK_IMPORTED_MODULE_9__.updatePaymentMilestones)(parent, _args, context),
        completeChecklistApi: async (parent, _args, context) => (0,_Mutations_CompleteChecklistApi__WEBPACK_IMPORTED_MODULE_8__.completeChecklistApi)(parent, _args, context),
        meetingSchedulerMilestone: async (parent, _args, context) => (0,_Mutations_meetingSchedulerMilestone__WEBPACK_IMPORTED_MODULE_13__.meetingSchedulerMilestone)(parent, _args, context),
        updateFormFillMilestones: async (parent, _args, context) => (0,_Mutations_UpdateFormFillMilestones__WEBPACK_IMPORTED_MODULE_14__.updateFormFillMilestones)(parent, _args, context),
        shareFileWithCustomer: async (parent, _args, context) => (0,_Mutations_ShareFileWithCustomer__WEBPACK_IMPORTED_MODULE_15__.shareFileWithCustomer)(parent, _args, context),
        completeMilestoneChecklist: async (parent, _args, context) => (0,_Mutations_CompleteMilestoneChecklist__WEBPACK_IMPORTED_MODULE_16__.completeMilestoneChecklist)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/projects/typedef.ts":
/*!*************************************!*\
  !*** ./src/api/projects/typedef.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "projectsTypedef": () => (/* binding */ projectsTypedef)
/* harmony export */ });
const projectsTypedef = `

type Projects {
    id : Int
    projectid : String
    projectname : String
    projectstatus : String
    projectvalue : Float
    createdate : DateTime
    updatedate : DateTime
    signupdate : DateTime
    customerid : Int
    designerid : Int
    salesmanagerid : Int
    chmid : Int
    surveyexecutiveid : Int
    projectmanagerid : Int
    designstudioid : Int
    modularbaseamount : Float
    modularvalue : Float
    modulardiscount : Float
    siteservicebaseamount : Float
    siteservicevalue : Float
    siteservicediscount : Float
    signupamount : Float
    signupstate : String
    experiencecenterid : Int
    cityid : Int
    clientid : String
    projectaddressid : Int
    cmmname : String
    expectedhandoverdate : DateTime
    currentmilestone : String
    projectphase : String
    hasdesigneraccepted : Boolean
    hasdesigerresponded : Boolean
    hometype : String
    initialsignupvalue : Float
    quoteid : Int
    projectrating : Int
    includepmfee : Boolean
    milestonetype : String
    odooid : String
    odoo_delivery_address_id : String
    isnewpaymentproject : Boolean
    opportunityid : String
    template : String
    milestones:JSON
    projectdecorvalue:Float
    decorvalue: Float
    addonvalue : Float
    totalprojectvalue : Float
    achievedrevenuevalue : Float
    projectmodularvalue :Float
    projectsiteservicesvalue :Float
    pendingamountvalue  : Float
    smartsheetid : String
    paymentrequests : JSON
    iscustomersignoffrequired :Boolean
    modular_collected_amount :Float
    site_services_collected_amount: Float
    isimosproject:Boolean
    valuebeforediscount:Float
    siteaddress:String
    haslift:Boolean
    hasfalseceiling:Boolean
    scopeforelectricalwork:Boolean
    projecttype:String
    tentativeprojectdurationaftersignoff:String
    scopeofwork:String
    specialfinishes:String
    siteserviceabsolutediscount: Int
    modularamountgst:Float
    siteserviceamountgst:Float
    modularabsolutediscount:Float
    modularpmfee:Float
    siteservicegst:Int
    siteservicepdflink:String
    modularamountgstvalue:Float
    sitepmfee:Float
    siteservicediscountvalue:Float
    quotelink:String
    proposalpdflink:String
    projectmanagername:String
    floorarea:Int
    imosrooms:[ImosRoom]
    projectHandOverDate:DateTime
    customer : Customer
    designer : Users
    salesmanager : Users
    chm : Users
    surveyexecutive : Users
    projectmanager : Users
    designstudio : Teams
    experiencecenter : ExperienceCenters
    city : Cities
}

type ImosRoom{
    imosOrdeNo:String
    roomUrl:String
}

input ImosRooms{
    imosOrdeNo:String
    roomUrl:String
}

input FormFillInputs{
    pmName:String,
    valueBeforeDiscount:Float
    projectHandOverDate:DateTime
    siteAddress:String
    isProjectIMOS:Boolean
    hasLift:Boolean
    hasFalseCeiling:Boolean
    scopeForElectricalWork:Boolean
    projectType:String
    tentativeProjectDurationAfterSignOff:String
    scopeOfWork:String
    specialFinishes:String
    dateTimeOfVisit:DateTime,
    floorArea:Int,
    imosRooms:[ImosRooms]
}

type Milestone{
    label:String
    payment_percentage:Int
    milestone_checklist:[MilestoneChecklist]
    autorequest:Boolean
    InvoicePercentage:Int
}

type MilestoneChecklist{
    checklist_string:String
    description:String
    required:Boolean
    is_checked:Boolean
    dateTime:DateTime
}

type Files{
    checklist_string:String
    description:String
    required:Boolean
    filekey:String
    fileurl:String
    uploadedby:String
    uploadedon:DateTime
    updatedon:DateTime
    approvalstatus:String
    created_at:String
    updated_at:String
    share_with_customer:Boolean
}

type Mutation{
    addProject(
        projectid : String!,
        projectname : String!,
        projectstatus : String!,
        projectvalue : Float!,
        createdate : DateTime,
        updatedate : DateTime,
        signupdate : DateTime,
        customerid : Int!,
        designerid : Int!,
        salesmanagerid : Int,
        chmid : Int,
        surveyexecutiveid : Int,
        projectmanagerid : Int,
        designstudioid : Int,
        modularbaseamount : Float,
        projectmodularvalue : Float,
        modulardiscount : Float,
        siteservicebaseamount : Float,
        siteservicevalue : Float,
        siteservicediscount : Float,
        signupamount : Float!,
        signupstate : String,
        experiencecenterid : Int,
        cityid : Int,
        projectaddressid : Int,
        cmmname : String,
        expectedhandoverdate : DateTime,
        currentmilestone : String,
        projectphase : String,
        hasdesigneraccepted : Boolean,
        hasdesigerresponded : Boolean,
        hometype : String,
        initialsignupvalue : Float,
        decorvalue : Float,
        quoteid : Int,
        projectrating : Int,
        includepmfee : Boolean,
        milestonetype : String,
        odooid : String,
        odoo_delivery_address_id : String,
        isnewpaymentproject : Boolean,
        opportunityid : String!,
        template : String,
        isimosproject: Boolean,
    ): projectsResponse

    updateProjectApi(
        id : Int,
        projectid : String,
        projectname : String,
        projectstatus : String,
        projectvalue : Float,
        createdate : DateTime,
        updatedate : DateTime,
        signupdate : DateTime,
        customerid : Int,
        designerid : Int,
        salesmanagerid : Int,
        chmid : Int,
        surveyexecutiveid : Int,
        projectmanagerid : Int,
        designstudioid : Int,
        modularbaseamount : Float,
        projectmodularvalue : Float,
        modulardiscount : Float,
        siteservicebaseamount : Float,
        siteservicevalue : Float,
        siteservicediscount : Float,
        signupamount : Float,
        signupstate : String,
        experiencecenterid : Int,
        cityid : Int,
        projectaddressid : Int,
        cmmname : String,
        expectedhandoverdate : DateTime,
        currentmilestone : String,
        projectphase : String,
        hasdesigneraccepted : Boolean,
        hasdesigerresponded : Boolean,
        hometype : String,
        initialsignupvalue : Float,
        decorvalue : Float,
        quoteid : Int,
        projectrating : Int,
        includepmfee : Boolean,
        milestonetype : String,
        odooid : String,
        odoo_delivery_address_id : String,
        isnewpaymentproject : Boolean,
        opportunityid : String,
        template : String
    ): projectsResponse

    meetingSchedulerMilestone(
        projectId: Int!,
        datetime: DateTime!,
        meetingScheduleType: String!,
        description: String,
        meetingType: String!
    ):meetingSchedulerResponse
    
    updatePaymentMilestones(
        projectId:Int!,
        paymentMilestoneName:String,
        projectValue:Float
    ):updateMilestonesResponse

    completeMilestoneChecklist(
        projectId:Int!,
        checkListName:String!
    ):updateMilestonesResponse

    completeChecklistApi(
        projectId: Int!,
    ):completeChecklistResponse

    addMilestoneFiles(
        projectid: Int!
        filename: String!
        filekey: String!
        fileurl: String!
        contenttype: String!
        uploadedby: String
        approvalstatus: String!
        comments: String
    ): addMilestoneFilesResponse

    updateFormFillMilestones(
        projectId:Int,
        formFillName:String,
        formFillData:FormFillInputs
    ):meetingSchedulerResponse

    shareFileWithCustomer(
        projectid: Int!,
        filename: String!,
        sharewithcustomer:Boolean!
    ): shareFileWithCustomerResponse
}

input Filter{
    designers: [Int],
    studios: [Int],
    cities: [Int],
    ecs: [Int],
    status: [String],
    currentStage: [String],
    filterBy : [String],
    fromDate: DateTime,
    toDate: DateTime
}
input Sorting{
    sortBy : String,
    order : String
}

type completeChecklistResponse{
    code: Int!,
    message: String!
    milestonename:String
}

type meetingSchedulerResponse{
    code: Int!,
    message: String!
}

type updateMilestonesResponse{
    code:Int!,
    message:String!
}

type projectsResponse { 
    code:Int
    message: String
    data: Projects
    surveyExecutives: [Users]
    pamProfiles: [Users]
}
type addMilestoneFilesResponse {
    code: Int
    message: String
}

type projectcostbreakupResponse {
        message:String
        code:Int
        ProjectValue:Float
        CollectedAmount:Float
        modularbaseamount:Float
        modulardiscount:Int
        modularMilestone:JSON
        siteservicebaseamount:Float
        siteservicediscount:Int
        siteServiceMilestone:JSON
        modularinclusivegst:Float
        siteserviceinclusivegst:Float
        modularCollectedAmount:Float
        siteServicesCollectedAmount:Float
        modularpdf:String
        siteservicespdf:String
        pendingamountvalue:Float
        Projectstatus:String
        projectmodularvalue:Float
        projectsiteservicevalue:Float
        modularinvoicedamount:Float
        siteserviceinvoicedamount:Float
}

type  getOldprojectResponse{
    message:String
    code:Int
    modularamount:Float
    sitesserviceamount:Float
    modular_collected_amount:Float
    site_services_collected_amount: Float
    collectedamount:Float

}
type getSubTasksForProjectResponse{
    code:Int
    message:String
    data:[Milestone]
}

type getFilesResponse{
    code:Int
    message:String
    data:[Files]
}

type allProjectsResponse{ 
    code:Int
    message:String
    data:[Projects!]!
}

type File {
    filekey: String
    contenttype: String
    location: String
}
type getFileUrlResponse{
    code: Int,
    message: String,
    data: File
}
type shareFileWithCustomerResponse{
    code: Int,
    message: String
}

type Query {
    allProjects:allProjectsResponse
    getProjectById(id:Int): projectsResponse
    getProjectByUser(userId:Int, searchText:String, filter:Filter, sorting:Sorting): projectsResponse
    getProjectCostBreakup(id:Int):projectcostbreakupResponse
    getProjectsByFilter(searchText:String, filter:Filter, sorting:Sorting): allProjectsResponse
    getSubTaskForProject(projectid:Int):getSubTasksForProjectResponse
    getFiles(id:Int):getFilesResponse
    getFileUrl(attachment:JSON):getFileUrlResponse
    getOldProject(id:Int):getOldprojectResponse
}
    scalar DateTime
`;


/***/ }),

/***/ "./src/api/quotes/Mutations/commonFunctions.ts":
/*!*****************************************************!*\
  !*** ./src/api/quotes/Mutations/commonFunctions.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addPdfToMilestone": () => (/* binding */ addPdfToMilestone)
/* harmony export */ });
/* harmony import */ var _projects_Mutations_AddMilestoneFiles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../projects/Mutations/AddMilestoneFiles */ "./src/api/projects/Mutations/AddMilestoneFiles.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");


const addPdfToMilestone = async (_project, _checklistType, _file) => {
    var _a, _b;
    const filesChecklistData = (_b = (_a = _project === null || _project === void 0 ? void 0 : _project.milestones) === null || _a === void 0 ? void 0 : _a.attributes) === null || _b === void 0 ? void 0 : _b.files_checklist;
    filesChecklistData.forEach((val) => {
        if (val.length !== 0 && (val === null || val === void 0 ? void 0 : val.checklist_string) === _checklistType) {
            val.filekey = _file.key;
            val.fileurl = _file.location;
            val.contentType = _file.contentType;
            const res = (0,_projects_Mutations_AddMilestoneFiles__WEBPACK_IMPORTED_MODULE_0__.getApprovalStatus)(val.approval_from_customer);
            val.approvalstatus = res.status;
            val.sentondate = res.sentOnDate;
            val.uploadedon = new Date();
            val.created_at = new Date();
            val.updated_at = new Date();
        }
    });
    _project.milestones.attributes.files_checklist = filesChecklistData;
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_projects.update({
        where: { id: _project.id },
        data: { milestones: _project.milestones },
    });
};


/***/ }),

/***/ "./src/api/quotes/Mutations/postSales/deleteRoomwise.ts":
/*!**************************************************************!*\
  !*** ./src/api/quotes/Mutations/postSales/deleteRoomwise.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deleteRoomwise": () => (/* binding */ deleteRoomwise)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../domain/enumerations/RoomTypesEnums */ "./src/domain/enumerations/RoomTypesEnums.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");




const deleteRoomwise = async (_root, args, _context) => {
    try {
        const roomName = args.roomType;
        const quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.findFirst({
            where: {
                id: args.ddQuoteId,
            },
        });
        if (!quoteData) {
            return {
                code: 400,
                message: "Quote does not exist",
            };
        }
        const quoteDataObj = {};
        const projectMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                quoteid: args.ddQuoteId,
            },
        });
        if (!projectMeta) {
            return {
                code: 400,
                message: "Project not found",
            };
        }
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
            where: { id: projectMeta === null || projectMeta === void 0 ? void 0 : projectMeta.cityid },
        });
        if (!city) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "City not found in project");
        }
        const projectMetaObj = {};
        const customerMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerid: projectMeta.customerid,
            },
        });
        if (!customerMeta) {
            return {
                code: 400,
                message: "Customer not found",
            };
        }
        const arrayRemoveRoom = [];
        const _roomList = quoteData.roomlist || [];
        if (_roomList.length === 0) {
            return {
                code: 400,
                message: "Room doesn't exist",
            };
        }
        let roomsExist = [];
        _roomList.forEach((element) => {
            roomsExist.push(element.roomName);
        });
        if (roomsExist.includes(roomName)) {
            _roomList.forEach((element) => {
                if (element.roomName !== roomName) {
                    arrayRemoveRoom.push(element);
                }
            });
        }
        else {
            return {
                code: 400,
                message: "Room doesn't exist",
            };
        }
        let roomXmlVal;
        const deleteArray = [], roomsIds = quoteData.rooms_ids || [];
        if (roomsIds.length !== 0) {
            for (let i = roomsIds.length - 1; i >= 0; i--) {
                if (Object.keys(roomsIds[i])[0].toLowerCase() !== roomName.toLowerCase()) {
                    deleteArray.push(roomsIds[i]);
                }
                else {
                    roomXmlVal = Object.values(roomsIds[i])[0];
                }
            }
            quoteDataObj["rooms_ids"] = deleteArray;
        }
        else {
            quoteDataObj["rooms_ids"] = [];
        }
        quoteDataObj["roomlist"] = arrayRemoveRoom;
        const currentQuoteVal = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.update({
            where: {
                id: args.ddQuoteId,
            },
            data: quoteDataObj,
        });
        const currentQuoteValObj = {};
        let sumModular = 0, sumSite = 0, roomElement = [];
        const roomsList = currentQuoteVal.roomlist || [];
        if (roomsList.length !== 0) {
            roomElement = roomsList;
            roomElement.forEach((element) => {
                if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_1__.SITE_SERVICE.includes(element.roomName.toLowerCase())) {
                    sumModular += +element.roomPrice;
                }
                else {
                    sumSite += +element.roomPrice;
                }
            });
        }
        currentQuoteValObj["modularvalue"] = sumModular;
        currentQuoteValObj["siteservice"] = sumSite;
        if (sumModular === 0) {
            currentQuoteValObj["modulardiscount"] = projectMetaObj["modulardiscount"] = 0;
        }
        else if (sumSite === 0) {
            currentQuoteValObj["siteservicediscount"] = projectMetaObj["siteservicediscount"] = 0;
        }
        const responseObj = {};
        let pmFeeModular = 0, pmFeeSite = 0, siteFinal = 0, modularFinal = 0;
        if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_1__.SITE_SERVICE.includes(roomName.toLowerCase()) || sumModular) {
            const absoluteDiscount = currentQuoteVal.modularabsolutediscount || 0;
            const discountAmount = (sumModular * currentQuoteVal.modulardiscount) / 100;
            let afterDiscount = sumModular - discountAmount - absoluteDiscount;
            if (city) {
                if (city.includepmfee && projectMeta.includepmfee) {
                    pmFeeModular = (currentQuoteVal.modularvalue * 7) / 100;
                    projectMetaObj["modularpmfee"] = pmFeeModular;
                    afterDiscount += pmFeeModular;
                }
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            modularFinal = finalTotal;
            projectMetaObj["projectmodularvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["modularbaseamount"] =
                responseObj.modularValue =
                    responseObj.modularBaseAmount =
                        parseFloat(sumModular.toFixed(2)) || 0;
            responseObj.modularTotalTax = parseFloat(gst.toFixed(2)) || 0;
            responseObj.modularTotalAmount = parseFloat(finalTotal.toFixed(2)) || 0;
            responseObj.modularDiscountedAmount =
                parseFloat(discountAmount.toFixed(2)) || 0;
            responseObj.modularDiscountValue = currentQuoteVal.modulardiscount || 0;
        }
        if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_1__.SITE_SERVICE.includes(roomName.toLowerCase()) || sumSite) {
            const absoluteDiscount = currentQuoteVal.siteserviceabsolutediscount || 0;
            const discountAmount = (sumSite * currentQuoteVal.siteservicediscount) / 100;
            let afterDiscount = sumSite - discountAmount - absoluteDiscount;
            if (city) {
                if (city.includepmfee && projectMeta.includepmfee) {
                    pmFeeSite = (currentQuoteVal.siteservice * 7) / 100;
                    projectMetaObj["sitepmfee"] = pmFeeSite;
                    afterDiscount += pmFeeSite;
                }
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            siteFinal = finalTotal;
            projectMetaObj["projectsiteservicesvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["siteservicebaseamount"] =
                responseObj.siteServiceValue =
                    responseObj.siteServiceBaseAmount =
                        parseFloat(sumSite.toFixed(2)) || 0;
            responseObj.siteServiceTotalTax = parseFloat(gst.toFixed(2)) || 0;
            responseObj.siteServiceTotalAmount =
                parseFloat(finalTotal.toFixed(2)) || 0;
            responseObj.siteServiceDiscountedAmount =
                parseFloat(discountAmount.toFixed(2)) || 0;
            responseObj.siteServiceDiscountValue =
                currentQuoteVal.siteservicediscount || 0;
        }
        projectMetaObj["totalprojectvalue"] = modularFinal + siteFinal;
        projectMetaObj["achievedrevenuevalue"] =
            projectMeta.modular_collected_amount +
                projectMeta.site_services_collected_amount;
        projectMetaObj["pendingamountvalue"] =
            modularFinal +
                siteFinal -
                projectMeta.modular_collected_amount +
                projectMeta.site_services_collected_amount;
        const updatedProjectMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: { id: projectMeta.id },
            data: projectMetaObj,
        });
        responseObj.totalProjectValue = updatedProjectMeta.totalprojectvalue;
        responseObj.achievedRevenueValue = updatedProjectMeta.achievedrevenuevalue;
        responseObj.pendingAmountValue = updatedProjectMeta.pendingamountvalue;
        const updatedQuoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.update({
            where: { id: args.ddQuoteId },
            data: currentQuoteValObj,
        });
        const roomIds = updatedQuoteData.rooms_ids || [];
        if (roomIds.length !== 0 && roomXmlVal) {
            const attachmentObj = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({
                where: {
                    location: roomXmlVal,
                },
            });
            removeFromBlobAndDB(attachmentObj);
        }
        if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_1__.SITE_SERVICE.includes(roomName.toLowerCase())) {
            await removePdfFilesFromSchemas(args.ddQuoteId, "siteservicexml", projectMeta.id, "siteservicePdf", "Addon Costing");
        }
        else {
            await removePdfFilesFromSchemas(args.ddQuoteId, "modularxml", projectMeta.id, "modularPdf", "Latest BOQ");
        }
        return {
            code: updatedQuoteData ? 200 : 400,
            message: updatedQuoteData
                ? "Room deleted successfully"
                : "Room does not exist",
            data: updatedQuoteData ? responseObj : "",
        };
        async function removePdfFilesFromSchemas(quoteId, location, _projectId, _key, _name) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.update({
                where: {
                    id: quoteId,
                },
                data: {
                    [location]: null,
                },
            });
        }
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(500, error);
    }
};
const removeFromBlobAndDB = async (attachmentObj) => {
    if (attachmentObj) {
        const attachmentFileKey = attachmentObj.filekey;
        const awsDeleteRes = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.deleteBlob)(attachmentFileKey);
        console.log("awsDeleteRes ====> ", awsDeleteRes);
        if (awsDeleteRes) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments["delete"]({
                where: { id: attachmentObj.id },
            });
        }
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/postSales/postRoomWiseXml.ts":
/*!***************************************************************!*\
  !*** ./src/api/quotes/Mutations/postSales/postRoomWiseXml.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostRoomwiseXmlApi": () => (/* binding */ PostRoomwiseXmlApi)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xml-js */ "xml-js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xml_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/enumerations/RoomTypesEnums */ "./src/domain/enumerations/RoomTypesEnums.ts");





const PostRoomwiseXmlApi = async (_root, args, _context) => {
    try {
        const file = {
            key: args.fileName,
            contentType: args.contentType,
            base64: args.base64File,
        };
        let _commonRoomList = [];
        const attachmentObj = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.UploadFileOnS3)(file);
        const xml = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.getBuffer)(attachmentObj.filekey);
        const result = await xml_js__WEBPACK_IMPORTED_MODULE_1___default().xml2json(xml, { compact: true, spaces: 4 });
        const mainObj = JSON.parse(result);
        const clientName = mainObj.XML.Order.Head.CONTACT_ADDRESS1._text;
        if (!clientName) {
            await removeFromBlobAndDB(attachmentObj);
            return {
                code: 400,
                message: "Customer name not found. Please upload appropriate file!",
            };
        }
        const builderList = mainObj.XML.Order.BuilderList.Set;
        const commonAmount = mainObj.XML.Order.Head.ORDER_PRICE_INFO3._text;
        const roomsArr = (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.getRoomNames)(builderList);
        const projectMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                id: args.projectId,
            },
        });
        if (!projectMeta) {
            await removeFromBlobAndDB(attachmentObj);
            return {
                code: 400,
                message: "Project does not exist",
            };
        }
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
            where: { id: projectMeta === null || projectMeta === void 0 ? void 0 : projectMeta.cityid },
        });
        if (!city) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "City not found in project");
        }
        const customerMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerid: projectMeta === null || projectMeta === void 0 ? void 0 : projectMeta.customerid,
            },
        });
        if (!customerMeta) {
            await removeFromBlobAndDB(attachmentObj);
            return {
                code: 400,
                message: "Customer does not exist",
            };
        }
        const firstName = (customerMeta === null || customerMeta === void 0 ? void 0 : customerMeta.firstname) ? customerMeta.firstname : "";
        const lastname = (customerMeta === null || customerMeta === void 0 ? void 0 : customerMeta.lastname) ? customerMeta.lastname : "";
        const customerName = `${firstName} ${lastname}`;
        if (customerName && clientName !== customerName.trim()) {
            await removeFromBlobAndDB(attachmentObj);
            return {
                code: 400,
                message: "Customer name did not match. Please upload appropriate file.",
            };
        }
        const updateQuoteProps = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.findFirst({
            where: {
                id: projectMeta.quoteid,
            },
        });
        if (!updateQuoteProps) {
            await removeFromBlobAndDB(attachmentObj);
            return {
                code: 400,
                message: "Quote does not exist",
            };
        }
        const updateQuotePropsObj = {};
        const roomName = roomsArr[0];
        const roomList = updateQuoteProps.roomlist || [];
        if (roomList.length !== 0) {
            roomList.forEach((element) => {
                if (roomName.toLowerCase() === element.roomName.toLowerCase() ||
                    (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomName.toLowerCase()) &&
                        _domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(element.roomName.toLowerCase()))) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Oops! room name already exists. Please delete existing room to add new.");
                }
            });
        }
        _commonRoomList = (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.getRoomListArrayFromXmlData)(mainObj, _commonRoomList);
        let roomElement = [], roomsIds = [];
        if (roomList.length !== 0) {
            roomElement = roomList;
        }
        if (!roomList.includes(roomName)) {
            roomElement.push(_commonRoomList[0]);
        }
        const roomObj = {
            [roomName]: attachmentObj.location,
        };
        roomsIds = updateQuoteProps.rooms_ids
            ? updateQuoteProps.rooms_ids
            : [];
        roomsIds.push(roomObj);
        updateQuotePropsObj["rooms_ids"] = roomsIds;
        updateQuotePropsObj["roomlist"] = roomElement;
        let sumModular = 0, sumSite = 0;
        roomElement.forEach((element) => {
            if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(element.roomName.toLowerCase())) {
                sumModular += +element.roomPrice;
            }
            else {
                sumSite += +element.roomPrice;
            }
        });
        if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomName.toLowerCase())) {
            sumSite = parseInt(commonAmount);
        }
        updateQuotePropsObj["modularvalue"] = sumModular;
        updateQuotePropsObj["siteservice"] = sumSite;
        const updatedResponse = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.update({
            where: { id: updateQuoteProps.id },
            data: updateQuotePropsObj,
        });
        const responseObj = {};
        const projectMetaObj = {};
        let pmFeeModular = 0, pmFeeSite = 0, siteFinal = 0, modularFinal = 0;
        if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomName.toLowerCase()) || sumModular) {
            const absoluteDiscount = updatedResponse.modularabsolutediscount || 0;
            const discountAmount = (sumModular * +updatedResponse.modulardiscount) / 100;
            let afterDiscount = sumModular - discountAmount - absoluteDiscount;
            if (city) {
                if (city.includepmfee && projectMeta.includepmfee) {
                    pmFeeModular = (updatedResponse.modularvalue * 7) / 100;
                    projectMetaObj["modularpmfee"] = pmFeeModular;
                    afterDiscount += pmFeeModular;
                }
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            modularFinal = finalTotal;
            projectMetaObj["projectmodularvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["modulardiscount"] = updatedResponse.modulardiscount || 0;
            projectMetaObj["modularbaseamount"] =
                parseFloat(sumModular.toFixed(2)) || 0;
            responseObj.modularValue = responseObj.modularBaseAmount =
                parseFloat(sumModular.toFixed(2)) || 0;
            projectMetaObj["modularabsolutediscount"] = absoluteDiscount;
            responseObj.modularTotalTax = parseFloat(gst.toFixed(2)) || 0;
            responseObj.modularTotalAmount = parseFloat(finalTotal.toFixed(2)) || 0;
            responseObj.modularDiscountedAmount =
                parseFloat(discountAmount.toFixed(2)) || 0;
            responseObj.attachment = attachmentObj.location;
            responseObj.filekey = attachmentObj.filekey;
            responseObj.customerName = clientName;
            responseObj.modularDiscountValue = updatedResponse.modulardiscount || 0;
            responseObj.modularFixedDiscount = absoluteDiscount;
        }
        if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomName.toLowerCase()) || sumSite) {
            const absoluteDiscount = updatedResponse.siteserviceabsolutediscount || 0;
            const discountAmount = (sumSite * +updatedResponse.siteservicediscount) / 100;
            let afterDiscount = sumSite - discountAmount - absoluteDiscount;
            if (city) {
                if (city.includepmfee && projectMeta.includepmfee) {
                    pmFeeSite = (updatedResponse.siteservice * 7) / 100;
                    projectMetaObj["sitepmfee"] = pmFeeSite;
                    afterDiscount += pmFeeSite;
                }
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            siteFinal = finalTotal;
            console.log(finalTotal);
            projectMetaObj["projectsiteservicesvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["siteservicediscount"] =
                updatedResponse.siteservicediscount || 0;
            projectMetaObj["siteservicebaseamount"] =
                parseFloat(sumSite.toFixed(2)) || 0;
            responseObj.siteServiceValue = responseObj.siteServiceBaseAmount =
                parseFloat(sumSite.toFixed(2)) || 0;
            projectMetaObj["siteserviceabsolutediscount"] = absoluteDiscount;
            responseObj.siteServiceTotalTax = parseFloat(gst.toFixed(2)) || 0;
            responseObj.siteServiceTotalAmount =
                parseFloat(finalTotal.toFixed(2)) || 0;
            responseObj.siteServiceDiscountedAmount =
                parseFloat(discountAmount.toFixed(2)) || 0;
            responseObj.attachment = attachmentObj.location;
            responseObj.filekey = attachmentObj.filekey;
            responseObj.customerName = clientName;
            responseObj.siteServiceDiscountValue =
                updatedResponse.siteservicediscount || 0;
            responseObj.siteServiceFixedDiscount = absoluteDiscount;
        }
        projectMetaObj["totalprojectvalue"] = modularFinal + siteFinal;
        projectMetaObj["achievedrevenuevalue"] =
            projectMeta.modular_collected_amount +
                projectMeta.site_services_collected_amount;
        projectMetaObj["pendingamountvalue"] =
            modularFinal +
                siteFinal -
                projectMeta.modular_collected_amount +
                projectMeta.site_services_collected_amount;
        const updatedProjectMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: {
                id: args.projectId,
            },
            data: projectMetaObj,
        });
        responseObj.totalProjectValue = updatedProjectMeta.totalprojectvalue;
        responseObj.achievedRevenueValue = updatedProjectMeta.achievedrevenuevalue;
        responseObj.pendingAmountValue = updatedProjectMeta.pendingamountvalue;
        return {
            code: 200,
            message: "Success",
            data: responseObj,
        };
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};
const removeFromBlobAndDB = async (attachmentObj) => {
    if (attachmentObj) {
        const attachmentFileKey = attachmentObj.filekey;
        const awsDeleteRes = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.deleteBlob)(attachmentFileKey);
        if (awsDeleteRes) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments["delete"]({
                where: { id: attachmentObj.id },
            });
        }
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/postSales/updateDiscountGeneratePdf.ts":
/*!*************************************************************************!*\
  !*** ./src/api/quotes/Mutations/postSales/updateDiscountGeneratePdf.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateDiscountGeneratePdf": () => (/* binding */ updateDiscountGeneratePdf)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xml-js */ "xml-js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xml_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/enumerations/RoomTypesEnums */ "./src/domain/enumerations/RoomTypesEnums.ts");
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _commonFunctions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../commonFunctions */ "./src/api/quotes/Mutations/commonFunctions.ts");







const updateDiscountGeneratePdf = async (_root, args, _context) => {
    try {
        const projectMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: {
                id: args.projectId,
            },
        });
        if (!projectMeta) {
            return {
                code: 400,
                message: "Project does not exist",
            };
        }
        const projectMetaObj = {};
        const resp = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.findFirst({
            where: { id: projectMeta.quoteid },
        });
        if (!resp) {
            return {
                code: 400,
                message: "Quote does not exist",
            };
        }
        const respObj = {};
        const roomIds = resp.rooms_ids || [];
        if (roomIds.length === 0) {
            return {
                code: 400,
                message: "Please upload xml to generate pdf",
            };
        }
        const attachmentKey = Object.keys(roomIds[0])[0];
        const attachmentVal = Object.values(roomIds[0])[0];
        if (!attachmentKey) {
            return {
                code: 400,
                message: "Please upload xml to generate pdf",
            };
        }
        const attachmentObj = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({
            where: {
                location: attachmentVal,
            },
        });
        if (!attachmentObj) {
            return {
                code: 400,
                message: "Attachment not found",
            };
        }
        const customerMeta = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
            where: {
                customerid: projectMeta.customerid,
            },
        });
        if (!customerMeta) {
            return {
                code: 400,
                message: "Customer does not exist",
            };
        }
        const xml = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_4__.getBuffer)(attachmentObj.filekey);
        const result = await xml_js__WEBPACK_IMPORTED_MODULE_1___default().xml2json(xml, { compact: true, spaces: 4 });
        const mainObj = JSON.parse(result);
        const clientId = projectMeta.clientid || projectMeta.projectid;
        const customerName = mainObj.XML.Order.Head.CONTACT_ADDRESS1._text
            ? mainObj.XML.Order.Head.CONTACT_ADDRESS1._text
            : customerMeta.firstname.trim() + customerMeta.lastname.trim();
        const pdfName = `${clientId}_${customerName}`;
        let _sitePdf, _roomsPdf, pmFeeModular = 0, pmFeeSite = 0, siteFinal = 0, modularFinal = 0;
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
            where: { id: projectMeta === null || projectMeta === void 0 ? void 0 : projectMeta.cityid },
        });
        if (!city) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "City not found in project");
        }
        if (resp.siteservice &&
            resp.siteservice !== 0 &&
            (args.siteServiceDiscount || args.siteServiceDiscount === 0)) {
            const absoluteDiscount = resp.siteserviceabsolutediscount || 0;
            respObj["siteservicediscount"] = args.siteServiceDiscount;
            const discountAmount = (resp.siteservice * args.siteServiceDiscount) / 100;
            let afterDiscount = resp.siteservice - discountAmount - absoluteDiscount;
            if (city.includepmfee && projectMeta.includepmfee) {
                pmFeeSite = (resp.siteservice * 7) / 100;
                projectMetaObj["sitepmfee"] = pmFeeSite;
                afterDiscount += pmFeeSite;
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            siteFinal = finalTotal;
            projectMetaObj["siteservicediscount"] = args.siteServiceDiscount;
            projectMetaObj["projectsiteservicesvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["siteserviceabsolutediscount"] = absoluteDiscount;
            const _siteRoom = [], _siteName = `${pdfName}site_myQuote.pdf`, roomlist = resp.roomlist || [];
            roomlist.forEach((element) => {
                if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_3__.SITE_SERVICE.includes(element.roomName.toLowerCase())) {
                    _siteRoom.push(element);
                }
            });
            const siteServiceXmlObj = {
                pdfName: _siteName,
                projectId: projectMeta.id,
                parsedData: mainObj,
                roomsArray: _siteRoom,
                discount: args.siteServiceDiscount || 0,
                absoluteDiscount: absoluteDiscount || 0,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: projectMeta.includepmfee,
                cityPmFee: city.includepmfee,
                clientOrProjectName: projectMeta.projectname,
            };
            _sitePdf = await XmlToPdf(siteServiceXmlObj);
            respObj["siteservicepdflocation"] = projectMetaObj["siteservicepdflink"] =
                _sitePdf.s3Location;
            const urlIntoMilestone = {
                filekey: _siteName,
                location: _sitePdf.s3Location,
                contenttype: "application/pdf",
            };
            (0,_commonFunctions__WEBPACK_IMPORTED_MODULE_6__.addPdfToMilestone)(projectMeta, "Site Services Quotation", urlIntoMilestone);
        }
        if (resp.modularvalue &&
            resp.modularvalue !== 0 &&
            (args.modularDiscount || args.modularDiscount === 0)) {
            const absoluteDiscount = resp.modularabsolutediscount || 0;
            respObj["modulardiscount"] = args.modularDiscount || 0;
            const discountAmount = (resp.modularvalue * args.modularDiscount) / 100;
            let afterDiscount = resp.modularvalue - discountAmount - absoluteDiscount;
            if (city.includepmfee && projectMeta.includepmfee) {
                pmFeeModular = (resp.modularvalue * 7) / 100;
                projectMetaObj["modularpmfee"] = pmFeeModular;
                afterDiscount += pmFeeModular;
            }
            const gst = (afterDiscount * 18) / 100;
            const finalTotal = afterDiscount + +gst;
            modularFinal = finalTotal;
            projectMetaObj["modulardiscount"] = args.modularDiscount || 0;
            projectMetaObj["projectmodularvalue"] =
                parseFloat(finalTotal.toFixed(2)) || 0;
            projectMetaObj["modularabsolutediscount"] = absoluteDiscount;
            const _roomList = [], roomslist = resp.roomlist || [], _modularName = `${pdfName}modular_myQuote.pdf`;
            roomslist.forEach((element) => {
                if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_3__.SITE_SERVICE.includes(element.roomName.toLowerCase())) {
                    _roomList.push(element);
                }
            });
            const modularXmlObj = {
                pdfName: _modularName,
                parsedData: mainObj,
                projectId: projectMeta.id,
                roomsArray: _roomList,
                discount: args.modularDiscount || 0,
                name: _modularName,
                absoluteDiscount: absoluteDiscount || 0,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: projectMeta.includepmfee,
                cityPmFee: city.includepmfee,
                clientOrProjectName: projectMeta.projectname,
            };
            _roomsPdf = await XmlToPdf(modularXmlObj);
            respObj["modularpdflocation"] = projectMetaObj["quotelink"] =
                _roomsPdf.s3Location;
            const urlIntoMilestone = {
                filekey: _modularName,
                location: _roomsPdf.s3Location,
                contenttype: "application/pdf",
            };
            (0,_commonFunctions__WEBPACK_IMPORTED_MODULE_6__.addPdfToMilestone)(projectMeta, "Modular Quotation", urlIntoMilestone);
        }
        projectMetaObj["totalprojectvalue"] = modularFinal + siteFinal;
        const savedProjectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: { id: args.projectId },
            data: projectMetaObj,
        });
        const quoteResponse = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.update({
            where: { id: projectMeta.quoteid },
            data: respObj,
        });
        const response = {
            projectModularValue: (savedProjectData === null || savedProjectData === void 0 ? void 0 : savedProjectData.projectmodularvalue) || 0,
            projectSiteServicesValue: (savedProjectData === null || savedProjectData === void 0 ? void 0 : savedProjectData.projectsiteservicesvalue) || 0,
            totalProjectValue: parseFloat((modularFinal + siteFinal).toFixed(2)),
            achievedRevenue: parseFloat(savedProjectData.achievedrevenuevalue.toFixed(2)),
            pendingAmount: parseFloat(savedProjectData.pendingamountvalue.toFixed(2)),
            isImosProject: true,
            id: projectMeta === null || projectMeta === void 0 ? void 0 : projectMeta.id,
            modularDiscount: args.modularDiscount || 0,
            civilDiscount: args.siteServiceDiscount || 0,
            modularPdfLocation: (quoteResponse === null || quoteResponse === void 0 ? void 0 : quoteResponse.modularpdflocation)
                ? quoteResponse === null || quoteResponse === void 0 ? void 0 : quoteResponse.modularpdflocation
                : "",
            siteServicePdfLocation: (quoteResponse === null || quoteResponse === void 0 ? void 0 : quoteResponse.siteservicepdflocation)
                ? quoteResponse === null || quoteResponse === void 0 ? void 0 : quoteResponse.siteservicepdflocation
                : "",
        };
        return {
            code: 200,
            message: "Project details updated successfully!",
            data: response,
        };
        async function XmlToPdf(xmlObj) {
            var _a, _b;
            const { roomsArray } = xmlObj;
            const data = await superagent__WEBPACK_IMPORTED_MODULE_5___default().put(`${process.env.PDFGENERATE}/generateProposalPdf`)
                .send(xmlObj)
                .timeout(180000)
                .set("Content-Type", "application/json");
            return {
                roomList: roomsArray,
                s3Location: (_b = (_a = data === null || data === void 0 ? void 0 : data._body) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.Location,
            };
        }
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/postSales/updateProjectCommercial.ts":
/*!***********************************************************************!*\
  !*** ./src/api/quotes/Mutations/postSales/updateProjectCommercial.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "updateProjectCommercial": () => (/* binding */ updateProjectCommercial)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _commonFunctions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../commonFunctions */ "./src/api/quotes/Mutations/commonFunctions.ts");




const updateProjectCommercial = async (_root, args, _context) => {
    try {
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_2__.authenticate)(_context, "DD");
        const id = args.projectId;
        const adminErrorMessage = "Payment milestones not found. Please contact administrator";
        const project = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findFirst({
            where: { id: id },
        });
        if (!project) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, "Invalid Project ID");
        }
        const projectUpdateModel = {};
        const newProjectModularValue = Math.floor(args.projectModularValue);
        const newSiteServiceValue = Math.floor(Number(args.projectSiteServicesValue));
        const isProjectModularValueChanged = Number(newProjectModularValue) !==
            Math.floor(Number(project.projectmodularvalue));
        const isSiteServiceValueChanged = newSiteServiceValue !==
            Math.floor(Number(project.projectsiteservicesvalue));
        if (!project.isnewpaymentproject) {
            const paymentMilestones = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.findMany({
                where: {
                    projectid: project.id,
                },
            });
            if (!paymentMilestones || paymentMilestones.length === 0) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, adminErrorMessage);
            }
            console.log(paymentMilestones);
            let acheived = 0;
            paymentMilestones.forEach((element) => {
                acheived += element.amountpaid ? element.amountpaid : 0;
            });
            projectUpdateModel.pendingamountvalue =
                newProjectModularValue + newSiteServiceValue - acheived;
            projectUpdateModel.achievedrevenuevalue = acheived;
            let milestone5Percent = null;
            let milestone15Percent = null;
            let milestone35Percent = null;
            let milestone45Percent = null;
            if ((isSiteServiceValueChanged || isProjectModularValueChanged) &&
                !project.isnewpaymentproject) {
                if (!paymentMilestones || paymentMilestones.length === 0) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, adminErrorMessage);
                }
                paymentMilestones.forEach((element) => {
                    const Obj = element;
                    Obj.addonamount = element.siteserviceamount;
                    if (element.sequence === 0) {
                        milestone5Percent = Obj;
                    }
                    if (element.sequence === 1) {
                        milestone15Percent = Obj;
                    }
                    if (element.sequence === 2) {
                        milestone35Percent = Obj;
                    }
                    if (element.sequence === 3) {
                        milestone45Percent = Obj;
                    }
                });
                const updateMilestone5Percent = JSON.parse(JSON.stringify(milestone5Percent));
                const updateMilestone15Percent = JSON.parse(JSON.stringify(milestone15Percent));
                const updateMilestone35Percent = JSON.parse(JSON.stringify(milestone35Percent));
                const updateMilestone45Percent = JSON.parse(JSON.stringify(milestone45Percent));
                if (!updateMilestone5Percent ||
                    !updateMilestone15Percent ||
                    !updateMilestone35Percent ||
                    !updateMilestone45Percent) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(201, adminErrorMessage);
                }
                if (isProjectModularValueChanged || args.isImosProject) {
                    const default5PercentAmount = newProjectModularValue * 0.05;
                    const default15PercentAmount = newProjectModularValue * 0.15;
                    const default35PercentAmount = newProjectModularValue * 0.35;
                    const default45PercentAmount = newProjectModularValue * 0.45;
                    if (!(milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        !(milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        !(milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        updateMilestone5Percent.modularamount = default5PercentAmount;
                        updateMilestone15Percent.modularamount = default15PercentAmount;
                        updateMilestone35Percent.modularamount = default35PercentAmount;
                        updateMilestone45Percent.modularamount = default45PercentAmount;
                    }
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        !(milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        !(milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        const new15PercentMilestoneAmount = default15PercentAmount +
                            (default5PercentAmount -
                                (milestone5Percent.freezedmodular +
                                    milestone5Percent.freezedsiteservice));
                        updateMilestone15Percent.modularamount =
                            new15PercentMilestoneAmount;
                        updateMilestone35Percent.modularamount = default35PercentAmount;
                        updateMilestone45Percent.modularamount = default45PercentAmount;
                    }
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        (milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        !(milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        const new35PercentMilestoneAmount = default35PercentAmount +
                            (default5PercentAmount -
                                (milestone5Percent.freezedmodular +
                                    milestone5Percent.freezedsiteservice)) +
                            (default15PercentAmount -
                                (milestone15Percent.freezedmodular +
                                    milestone15Percent.freezedsiteservice));
                        updateMilestone35Percent.modularamount =
                            new35PercentMilestoneAmount;
                        updateMilestone45Percent.modularamount = default45PercentAmount;
                    }
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        (milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        (milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        const new45PercentMilestoneAmount = default45PercentAmount +
                            (default5PercentAmount -
                                (milestone5Percent.freezedmodular +
                                    milestone5Percent.freezedsiteservice) +
                                (default15PercentAmount -
                                    (milestone15Percent.freezedmodular +
                                        milestone15Percent.freezedsiteservice)) +
                                (default35PercentAmount -
                                    (milestone35Percent.freezedmodular +
                                        milestone35Percent.freezedsiteservice)));
                        updateMilestone45Percent.modularamount =
                            new45PercentMilestoneAmount;
                    }
                }
                if (isSiteServiceValueChanged || args.isImosProject) {
                    const defaultNew15PercentAddOnAmount = newSiteServiceValue * 0.5;
                    const defaultNew45PercentAddOnAmount = newSiteServiceValue * 0.5;
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        !(milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        !(milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        updateMilestone15Percent.addonamount =
                            defaultNew15PercentAddOnAmount;
                        updateMilestone35Percent.addonamount = 0;
                        updateMilestone45Percent.addonamount =
                            defaultNew45PercentAddOnAmount;
                    }
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        (milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        !(milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        const new35PercentAddOnAmount = defaultNew15PercentAddOnAmount - milestone15Percent.addonamount;
                        updateMilestone35Percent.addonamount = new35PercentAddOnAmount;
                        updateMilestone45Percent.addonamount =
                            defaultNew45PercentAddOnAmount;
                    }
                    if ((milestone5Percent === null || milestone5Percent === void 0 ? void 0 : milestone5Percent.isfreezed) &&
                        (milestone15Percent === null || milestone15Percent === void 0 ? void 0 : milestone15Percent.isfreezed) &&
                        (milestone35Percent === null || milestone35Percent === void 0 ? void 0 : milestone35Percent.isfreezed) &&
                        !(milestone45Percent === null || milestone45Percent === void 0 ? void 0 : milestone45Percent.isfreezed)) {
                        const new45PercentAddOnAmount = newSiteServiceValue -
                            milestone15Percent.addonamount -
                            milestone35Percent.addonamount;
                        updateMilestone45Percent.addonamount = new45PercentAddOnAmount;
                    }
                }
                if (!(updateMilestone5Percent === null || updateMilestone5Percent === void 0 ? void 0 : updateMilestone5Percent.isfreezed)) {
                    updateMilestone5Percent.totalpayableamount = Math.floor(Number(updateMilestone5Percent.modularamount) +
                        Number(updateMilestone5Percent.addonamount));
                    updateMilestone5Percent.amountdue = Math.floor(Number(updateMilestone5Percent.totalpayableamount) -
                        Number(updateMilestone5Percent.amountpaid) -
                        Number(updateMilestone5Percent.advanceamount));
                }
                if (!(updateMilestone15Percent === null || updateMilestone15Percent === void 0 ? void 0 : updateMilestone15Percent.isfreezed)) {
                    updateMilestone15Percent.totalpayableamount = Math.floor(Number(updateMilestone15Percent.modularamount) +
                        Number(updateMilestone15Percent.addonamount));
                    updateMilestone15Percent.amountdue = Math.floor(Number(updateMilestone15Percent.totalpayableamount) -
                        Number(updateMilestone15Percent.amountpaid) -
                        Number(updateMilestone15Percent.advanceamount));
                }
                if (!(updateMilestone35Percent === null || updateMilestone35Percent === void 0 ? void 0 : updateMilestone35Percent.isfreezed)) {
                    updateMilestone35Percent.totalpayableamount = Math.floor(Number(updateMilestone35Percent.modularamount) +
                        Number(updateMilestone35Percent.addonamount));
                    updateMilestone35Percent.amountdue = Math.floor(Number(updateMilestone35Percent.totalpayableamount) -
                        Number(updateMilestone35Percent.amountpaid) -
                        Number(updateMilestone35Percent.advanceamount));
                }
                if (!(updateMilestone45Percent === null || updateMilestone45Percent === void 0 ? void 0 : updateMilestone45Percent.isfreezed)) {
                    updateMilestone45Percent.totalpayableamount = Math.floor(Number(updateMilestone45Percent.modularamount) +
                        Number(updateMilestone45Percent.addonamount));
                    updateMilestone45Percent.amountdue = Math.floor(Number(updateMilestone45Percent.totalpayableamount) -
                        Number(updateMilestone45Percent.amountpaid) -
                        Number(updateMilestone45Percent.advanceamount));
                }
                const id5Percent = updateMilestone5Percent.id;
                delete updateMilestone5Percent.id;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                    where: { id: id5Percent },
                    data: updateMilestone5Percent,
                });
                const id15Percent = updateMilestone15Percent.id;
                delete updateMilestone15Percent.id;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                    where: { id: id15Percent },
                    data: updateMilestone15Percent,
                });
                const id35Percent = updateMilestone35Percent.id;
                delete updateMilestone35Percent.id;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                    where: { id: id35Percent },
                    data: updateMilestone35Percent,
                });
                const id45Percent = updateMilestone45Percent.id;
                delete updateMilestone45Percent.id;
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentmilestone.update({
                    where: { id: id45Percent },
                    data: updateMilestone45Percent,
                });
            }
            projectUpdateModel.projectmodularvalue = newProjectModularValue;
            if (args.projectSiteServicesValue) {
                projectUpdateModel.projectsiteservicesvalue =
                    args.projectSiteServicesValue;
            }
        }
        if (isSiteServiceValueChanged ||
            isProjectModularValueChanged ||
            args.isImosProject) {
            projectUpdateModel.projectmodularvalue = newProjectModularValue;
            if (args.projectSiteServicesValue) {
                projectUpdateModel.projectsiteservicesvalue =
                    args.projectSiteServicesValue;
            }
        }
        if (project.isnewpaymentproject) {
            projectUpdateModel.pendingamountvalue =
                newProjectModularValue +
                    newSiteServiceValue -
                    (project.modular_collected_amount +
                        project.site_services_collected_amount);
            projectUpdateModel.achievedrevenuevalue =
                project.modular_collected_amount +
                    project.site_services_collected_amount;
        }
        projectUpdateModel.modulardiscount = args.modularDiscount || 0;
        projectUpdateModel.siteservicediscount = args.civilDiscount || 0;
        projectUpdateModel.totalprojectvalue =
            newProjectModularValue + newSiteServiceValue;
        projectUpdateModel.updatedate = new Date();
        if (!args.isImosProject) {
            if (!args.modularPdfJson) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Modular pdf if required.");
            }
            if (args.modularPdfJson) {
                if (!args.modularPdfJson.fileKey || !args.modularPdfJson.location) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Please upload modular quotation pdf file.");
                }
                const attachment = {
                    key: args.modularPdfJson.fileKey,
                    contentType: "application/pdf",
                    location: args.modularPdfJson.location
                };
                projectUpdateModel.quotelink = args.modularPdfJson.location;
                (0,_commonFunctions__WEBPACK_IMPORTED_MODULE_3__.addPdfToMilestone)(project, "Modular Quotation", attachment);
            }
            if (args.siteServicePdfJson) {
                if (!args.siteServicePdfJson.fileKey ||
                    !args.siteServicePdfJson.location) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Please upload site quotation pdf file.");
                }
                const attachment = {
                    key: args.siteServicePdfJson.fileKey,
                    contentType: "application/pdf",
                    location: args.siteServicePdfJson.location
                };
                projectUpdateModel.siteservicepdflink = args.siteServicePdfJson.location;
                (0,_commonFunctions__WEBPACK_IMPORTED_MODULE_3__.addPdfToMilestone)(project, "Site Services Quotation", attachment);
            }
        }
        const updatedProject = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.update({
            where: { id: id },
            data: projectUpdateModel,
        });
        return {
            code: 200,
            data: updatedProject,
            message: "success",
        };
    }
    catch (error) {
        console.log(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/acceptProposal.ts":
/*!*************************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/acceptProposal.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "acceptProposal": () => (/* binding */ acceptProposal)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _projects_Mutations_AddProject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../projects/Mutations/AddProject */ "./src/api/projects/Mutations/AddProject.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/commonUtils */ "./src/utils/commonUtils.ts");




const contentType = "application/json";
const contentTypeString = "Content-Type";
const acceptProposal = async (_root, args, _context) => {
    const acceptProposalResponse = { code: 200, message: null };
    const { quoteId, proposalStatus } = args;
    try {
        if (proposalStatus === "Accept") {
            const quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
                where: { sfid: quoteId },
            });
            if (quoteData) {
                const addProjectResponse = await createDraftProjectForCustomer(quoteData);
                if (addProjectResponse.code !== 200) {
                    acceptProposalResponse.code = 400;
                    acceptProposalResponse.message = addProjectResponse.message;
                    return acceptProposalResponse;
                }
                await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.update({
                    where: { sfid: quoteId },
                    data: {
                        status: "accepted",
                        latest_quote__c: true,
                    },
                });
                acceptProposalResponse.code = 200;
                acceptProposalResponse.message =
                    "Quote Accepted Successfully,Project Created Successfully";
            }
            else {
                acceptProposalResponse.code = 400;
                acceptProposalResponse.message = "Something went wrong";
            }
        }
    }
    catch (error) {
        acceptProposalResponse.code = 400;
        acceptProposalResponse.message = error.message;
    }
    return acceptProposalResponse;
};
const createDraftProjectForCustomer = async (quoteData) => {
    const createProjectDraftStatus = { code: 200, message: null };
    const opportunityData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
        where: {
            sfid: quoteData.opportunityid,
        },
    });
    if (!opportunityData) {
        createProjectDraftStatus.code = 400;
        createProjectDraftStatus.message =
            "Opportunity not found,Project not Created";
        return createProjectDraftStatus;
    }
    const customerData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.findFirst({
        where: {
            OR: [{ customerphone: opportunityData.mobile__c }],
        },
        include: {
            addresses: true,
        },
    });
    console.log(80, customerData);
    if (!customerData) {
        createProjectDraftStatus.code = 400;
        createProjectDraftStatus.message = "Customer Not Found,Project not Created";
        return createProjectDraftStatus;
    }
    const createCustomerResponse = await createCutomerOnOdoo(customerData);
    if (createCustomerResponse.code !== 200) {
        if (createCustomerResponse.message.includes("contact_id")) {
            console.log(createCustomerResponse.message);
            const odooContactId = createCustomerResponse.message.split("contact_id")[1];
            console.log(92, odooContactId);
            await updateContactIdForOdooForCustomer(customerData.customerid, odooContactId);
        }
        else {
            createProjectDraftStatus.code = 400;
            createProjectDraftStatus.message = `Customer Not Created On Odoo : ${createCustomerResponse.message}`;
            return createProjectDraftStatus;
        }
    }
    const userData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findFirst({
        where: {
            salesforceuserid: opportunityData.design_user__c,
        },
        include: {
            users_city: {
                include: { city: true },
            },
            users_experiencecenters: {
                include: { center: true },
            },
            users_team: {
                include: { team: true },
            },
        },
    });
    if (!userData) {
        createProjectDraftStatus.code = 400;
        createProjectDraftStatus.message = "Designer Not Found,Project not Created";
        return createProjectDraftStatus;
    }
    const customerName = getCustomerName(customerData);
    const addProjectPayload = {
        projectid: opportunityData.customer_id__c,
        projectname: `DC-${customerName} ${opportunityData.customer_id__c}`,
        totalprojectvalue: quoteData.modular_amount_dis_incl_gst__c +
            quoteData.site_services_amount_dis_incl_gst__c,
        projectstatus: "Draft",
        customerid: customerData.customerid,
        designerid: userData.userid,
        signupamount: 0,
        opportunityid: opportunityData.sfid,
        isimosproject: quoteData.is_imos_project__c,
        modularbaseamount: quoteData.modular_amount__c,
        projectmodularvalue: quoteData.modular_amount_dis_incl_gst__c,
        modulardiscount: quoteData.modular_discount__c,
        siteservicebaseamount: quoteData.site_services_amount__c,
        projectsiteservicesvalue: quoteData.site_services_amount_dis_incl_gst__c,
        siteservicediscount: quoteData.site_services_discount__c,
        cityid: userData.users_city[0].cityid,
        designstudioid: userData.users_team[0].teamid,
        experiencecenterid: userData.users_experiencecenters[0].centerid,
        currentmilestone: "Project Signup",
        hometype: opportunityData.home_type__c,
        isnewpaymentproject: true,
        modularamountgst: quoteData.modular_amount_gst__c,
        siteserviceamountgst: quoteData.site_services_amount_incl_gst__c,
        modularabsolutediscount: quoteData.modular_fixed_discount__c,
        modularpmfee: quoteData.modular_pm_design_fee__c,
        siteservicegst: quoteData.site_services_amount_gst__c,
        siteservicepdflink: quoteData.site_services_pdf__c,
        modularamountgstvalue: quoteData.modular_amount_incl_gst__c,
        sitepmfee: quoteData.site_services_pm_design_fee__c,
        siteservicediscountvalue: quoteData.site_services_amount_discounted__c,
        quotelink: quoteData.quote_link__c,
        proposalpdflink: quoteData.proposal_pdf__c,
        includepmfee: opportunityData.is_pm_site__c,
        salesmanagername: quoteData.opportunity_owner__c
    };
    console.log(146, addProjectPayload);
    const odooAddProjectResponse = await addProjectToOdoo(addProjectPayload, customerData, userData);
    if (odooAddProjectResponse.code !== 200) {
        console.log(173, odooAddProjectResponse.message);
        if (odooAddProjectResponse.message.includes("analytic account id")) {
            let analyticOdooId = odooAddProjectResponse.message.split("analytic account id")[1];
            analyticOdooId = analyticOdooId.split("and")[0].trim();
            odooAddProjectResponse.odooId = analyticOdooId;
        }
        if (odooAddProjectResponse.message.includes("Delivery id is")) {
            const odooDeliveryId = odooAddProjectResponse.message
                .split("Delivery id is")[1]
                .trim();
            odooAddProjectResponse.odooDeliveryId = odooDeliveryId;
        }
        else {
            console.log(181);
            createProjectDraftStatus.code = 400;
            createProjectDraftStatus.message = odooAddProjectResponse.message;
            return createProjectDraftStatus;
        }
    }
    else {
        addProjectPayload.odooid = odooAddProjectResponse.odooId;
        addProjectPayload.odoo_delivery_address_id =
            odooAddProjectResponse.odooDeliveryId;
    }
    console.log("odooAddProjectResponse", odooAddProjectResponse);
    console.log("addProjectPayload", addProjectPayload);
    const addProjectResponse = await (0,_projects_Mutations_AddProject__WEBPACK_IMPORTED_MODULE_1__.addProject)(null, addProjectPayload, null);
    if (addProjectResponse.code !== 200) {
        createProjectDraftStatus.code = 400;
        createProjectDraftStatus.message = addProjectResponse.message;
        return createProjectDraftStatus;
    }
    console.log("opportunityData", opportunityData);
    return createProjectDraftStatus;
};
const createCutomerOnOdoo = async (customerData) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    const { deliveryStreet1, deliveryStreet2 } = await seperateAddressIntoStreets(customerData);
    try {
        let gstno = null;
        let gstTreatment = "";
        if ((customerData === null || customerData === void 0 ? void 0 : customerData.l10n_in_gst_treatment) !== null) {
            gstTreatment = customerData.l10n_in_gst_treatment;
        }
        else {
            gstTreatment = "regular";
        }
        if ((customerData === null || customerData === void 0 ? void 0 : customerData.customertype) === null) {
            console.log(191);
            return { code: 400, message: "Customer type cannot be null" };
        }
        else if ((customerData === null || customerData === void 0 ? void 0 : customerData.customertype) === "B2C") {
            gstTreatment = "unregistered";
        }
        else if ((customerData === null || customerData === void 0 ? void 0 : customerData.customertype) === "B2B") {
            gstTreatment = "regular";
            if (!customerData.gstno) {
                return {
                    code: 400,
                    message: "GST Number is required for B2B customer",
                };
            }
            gstno = customerData.gstno;
        }
        if (((_a = customerData === null || customerData === void 0 ? void 0 : customerData.customerphone) === null || _a === void 0 ? void 0 : _a.length) !== 10 ||
            !(customerData === null || customerData === void 0 ? void 0 : customerData.customerphone)) {
            return { code: 400, message: "Phone number is not valid." };
        }
        if (((_b = customerData === null || customerData === void 0 ? void 0 : customerData.addresses[0].zip) === null || _b === void 0 ? void 0 : _b.length) !== 6 ||
            !(customerData === null || customerData === void 0 ? void 0 : customerData.addresses[0].zip)) {
            return { code: 400, message: "Zip is not valid." };
        }
        if (((_c = customerData === null || customerData === void 0 ? void 0 : customerData.pancardno) === null || _c === void 0 ? void 0 : _c.length) !== 10 && !(customerData === null || customerData === void 0 ? void 0 : customerData.pancardno)) {
            return { code: 400, message: "Pan number is not valid." };
        }
        const customername = getCustomerName(customerData);
        const odooCookie = await createOdooSession();
        console.log(182, odooCookie);
        const odooContacts = {
            ref: customerData.salesforceid,
            name: customername,
            email: customerData.customeremail,
            city: `${customerData.addresses[0].city}`,
            company_type: "company",
            is_company: true,
            l10n_in_gst_treatment: gstTreatment,
            country_id: 104,
            mobile: customerData.customerphone,
            phone: customerData.customerphone,
            street: deliveryStreet1,
            street2: deliveryStreet2,
            state_id: _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.OdooStateID[customerData.addresses[0].state.toLowerCase().trim()],
            type: "contact",
            vat: gstno,
            supply_type: customerData.customertype,
            customer: true,
            zip: customerData.addresses[0].zip,
            sales_force_id: customerData.salesforceid,
            pan_no: customerData.pancardno,
        };
        console.log("odooContacts", odooContacts);
        const url = process.env.odooUrl + "/contact";
        const res = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(url)
            .set(contentTypeString, contentType)
            .set("Cookie", odooCookie)
            .send({ params: odooContacts });
        console.log(181, res.body);
        if (((_e = (_d = res.body) === null || _d === void 0 ? void 0 : _d.result) === null || _e === void 0 ? void 0 : _e.response)
            ? Object.keys((_f = res.body) === null || _f === void 0 ? void 0 : _f.result.response).length > 0
            : null) {
            await updateContactIdForOdooForCustomer(customerData.customerid, (_h = (_g = res.body) === null || _g === void 0 ? void 0 : _g.result) === null || _h === void 0 ? void 0 : _h.response.odoo_contact_id.toString());
            return { code: 200, message: null };
        }
        else {
            return { code: 400, message: (_k = (_j = res.body) === null || _j === void 0 ? void 0 : _j.result) === null || _k === void 0 ? void 0 : _k.message };
        }
    }
    catch (e) {
        console.log(252, e);
        return { code: 400, message: e.message };
    }
};
const updateContactIdForOdooForCustomer = async (customerId, contactId) => {
    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_customer.update({
        where: {
            customerid: customerId,
        },
        data: {
            odoocontactid: contactId,
        },
    });
};
const addZeroes = (num) => {
    let dis = num.toString();
    const ress = dis.split(".");
    if (!ress[1]) {
        dis = num + 0.001;
    }
    return parseFloat(dis);
};
const addProjectToOdoo = async (project, customer, designer) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;
    const { deliveryStreet1, deliveryStreet2 } = await seperateAddressIntoStreets(customer);
    try {
        console.log("customer.addresses", customer.addresses);
        const odooCookie = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_odoocookie.findFirst();
        const customerNameInAddress = getCustomerName(customer);
        const projectReqObj = {
            name: project.projectname,
            sales_force_id: customer.salesforceid,
            analytic_location: 35,
            code: project.projectid,
            group_id: (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.getOdooGroupID)(customer.addresses[0].city),
            project_refferal: false,
            project_refferal_type: null,
            referral_id: null,
            modular_discount: project.modulardiscount
                ? addZeroes(project.modulardiscount)
                : 0,
            signup_amount_per: 0,
            modular_project_value: project.projectmodularvalue
                ? addZeroes(project.projectmodularvalue)
                : 0,
            site_service_value: project.projectsiteservicesvalue
                ? addZeroes(project.projectsiteservicesvalue)
                : 0,
            civil_discount: project.siteservicediscount
                ? addZeroes(project.siteservicediscount)
                : 0,
            total_project_amount: project.totalprojectvalue
                ? addZeroes(project.totalprojectvalue)
                : 0,
            delivery_address: {
                name: customerNameInAddress,
                type: "delivery",
                street: deliveryStreet1,
                street2: deliveryStreet2,
                city: customer.addresses[0].city,
                state_id: _utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.OdooStateID[customer.addresses[0].state.toLowerCase().trim()],
                country_id: 104,
                sales_force_id: customer.salesforceid,
            },
            default_rules: {
                analytic_exp_center_id: (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.experiencecenters)(designer.users_experiencecenters[0].center.name),
                analytic_studio_id: (0,_utils_commonUtils__WEBPACK_IMPORTED_MODULE_3__.getOdooStudioID)((_a = designer.users_team[0].team) === null || _a === void 0 ? void 0 : _a.name),
            },
        };
        console.log("projectReqObj", projectReqObj);
        console.log(3030, odooCookie);
        const url = process.env.odooUrl + "/analytic/account/delivery/address";
        console.log(302, url);
        const res = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(url)
            .set(contentTypeString, contentType)
            .set("Cookie", odooCookie.cookie)
            .send({ params: projectReqObj });
        console.log(292, res.body);
        if (((_c = (_b = res.body) === null || _b === void 0 ? void 0 : _b.result) === null || _c === void 0 ? void 0 : _c.response)
            ? Object.keys((_d = res.body) === null || _d === void 0 ? void 0 : _d.result.response).length > 0
            : null) {
            return {
                code: 200,
                message: null,
                odooId: ((_f = (_e = res.body) === null || _e === void 0 ? void 0 : _e.result) === null || _f === void 0 ? void 0 : _f.response["Analytic Account"])
                    ? (_h = (_g = res.body) === null || _g === void 0 ? void 0 : _g.result) === null || _h === void 0 ? void 0 : _h.response["Analytic Account"].toString()
                    : null,
                odooDeliveryId: ((_k = (_j = res.body) === null || _j === void 0 ? void 0 : _j.result) === null || _k === void 0 ? void 0 : _k.response["Delivery Address"])
                    ? (_m = (_l = res.body) === null || _l === void 0 ? void 0 : _l.result) === null || _m === void 0 ? void 0 : _m.response["Delivery Address"].toString()
                    : null,
            };
        }
        else {
            return {
                code: 400,
                message: `Error in creating oddo project: ${((_p = (_o = res.body) === null || _o === void 0 ? void 0 : _o.error) === null || _p === void 0 ? void 0 : _p.message)
                    ? (_r = (_q = res.body) === null || _q === void 0 ? void 0 : _q.error) === null || _r === void 0 ? void 0 : _r.message
                    : (_t = (_s = res.body) === null || _s === void 0 ? void 0 : _s.result) === null || _t === void 0 ? void 0 : _t.message}`,
            };
        }
    }
    catch (e) {
        return { code: 400, message: e.message };
    }
};
const seperateAddressIntoStreets = async (customerData) => {
    try {
        const street1 = [], street2 = [];
        const streetAddress = customerData.addresses[0].street.split(" ");
        if (streetAddress.length === 2) {
            street1.push(streetAddress[0]);
            street2.push(streetAddress[1]);
        }
        if (streetAddress.length > 2) {
            for (let i = 0; i < streetAddress.length; i++) {
                const toInt = (streetAddress.length - 1) / 2;
                if (i <= parseInt(toInt.toString())) {
                    street1.push(streetAddress[i]);
                }
                else {
                    street2.push(streetAddress[i]);
                }
            }
        }
        console.log("street1 =>", street1.join(" "));
        console.log("street2 => ", street2.join(" "));
        const deliveryStreet1 = street1.join(" ");
        let deliveryStreet2 = street2.join(" ");
        if (deliveryStreet2.length <= 1) {
            deliveryStreet2 = deliveryStreet2.concat(",,");
        }
        else if (deliveryStreet2.length <= 2) {
            deliveryStreet2 = deliveryStreet2.concat(",");
        }
        return { deliveryStreet1, deliveryStreet2 };
    }
    catch (e) {
        return e.message;
    }
};
const createOdooSession = async () => {
    try {
        console.log(403403);
        const url = process.env.odooAdminUrl + "/web/session/authenticate";
        console.log(302, url);
        const res = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(url)
            .set(contentTypeString, contentType)
            .send({
            params: {
                db: process.env.odooDB,
                login: process.env.odooAdminEmail,
                password: process.env.odooAdminEmailPwd,
            },
        });
        console.log(414, res === null || res === void 0 ? void 0 : res.header);
        if (res === null || res === void 0 ? void 0 : res.header) {
            const sessionCookie = res.header["set-cookie"][0].split(";")[0];
            console.log("sessionCookie", sessionCookie);
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_odoocookie.update({
                where: {
                    id: 1,
                },
                data: {
                    cookie: sessionCookie,
                },
            });
            return sessionCookie;
        }
        return null;
    }
    catch (e) {
        console.log(e);
        return null;
    }
};
const getCustomerName = (customerData) => {
    const firstname = customerData.firstname ? customerData.firstname.trim() : "";
    const lastname = customerData.lastname ? customerData.lastname.trim() : "";
    return `${firstname ? firstname + " " : ""}${lastname}`;
};


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/postBetaQuoteApi.ts":
/*!***************************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/postBetaQuoteApi.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "postBetaQuote": () => (/* binding */ postBetaQuote)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");






const postBetaQuote = async (_root, args, _context) => {
    try {
        const date = dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format("YYYY-MM-DD");
        const quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
            where: { opportunityid: args.opportunityid },
        });
        if (!quoteData) {
            await updateOpportunityDetails(args.opportunityid, date);
        }
        const oppData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: {
                sfid: args.opportunityid,
            },
        });
        if (!oppData) {
            return {
                code: 400,
                message: "Opportunity not found",
            };
        }
        if (oppData.stagename === "Closed Won") {
            return {
                code: 400,
                message: "Cannot update closed won lead / opportunity",
            };
        }
        const quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.create({
            data: {
                opportunityid: args.opportunityid,
                name: args.name,
                modular_fixed_discount__c: args.modularFixedDiscount
                    ? args.modularFixedDiscount
                    : 0,
                modular_amount__c: args.modularAmount ? args.modularAmount : 0,
                modular_discount__c: args.modularDiscount ? args.modularDiscount : 0,
                site_services_amount__c: args.siteServiceValue
                    ? args.siteServiceValue
                    : 0,
                site_services_discount__c: args.siteServiceDiscount
                    ? args.siteServiceDiscount
                    : 0,
                site_service_fixed_discount__c: args.siteServiceFixedDiscount
                    ? args.siteServiceFixedDiscount
                    : 0,
                decor_amount__c: 0,
                decor_amount_discount__c: 0,
                latest_quote__c: true,
                proposal_pdf__c: args.proposal_link,
                postgres_id__c: (0,uuid__WEBPACK_IMPORTED_MODULE_4__.v4)(),
            },
        });
        console.log(quote);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.create({
            data: {
                filekey: args.key,
                location: args.proposal_link,
                contenttype: args.contentType,
                ispreorpost: 0,
                leadid: oppData.lead_id__c
            }
        });
        return {
            code: 200,
            message: "Quote Added Scuccessfully",
            quoteid: quote.postgres_id__c,
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, error);
    }
};
async function updateOpportunityDetails(oppoId, date) {
    try {
        console.log({
            where: { sfid: oppoId },
            data: { proposal_sent_date__c: date },
        });
        const updatedResponse = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.$executeRaw `UPDATE public.opportunity SET proposal_sent_date__c = TO_DATE(${date}, 'YYYY/MM/DD') WHERE sfid = ${oppoId};`;
        console.log(updatedResponse);
        return {
            code: 200,
            message: "Updated success",
        };
    }
    catch (e) {
        console.log(21365, e);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Something went wrong");
    }
}
async function postDatatoSalesForce(reqBody) {
    const conn = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_5__.getConnection)();
    const finalUrl = `${process.env.salesforceLoginUrl}services/data/v42.0/sobjects/Quote`;
    try {
        const res = await superagent__WEBPACK_IMPORTED_MODULE_3___default().post(finalUrl)
            .set("Content-Type", "application/json")
            .set("Authorization", "Bearer " + conn.accessToken)
            .send(reqBody);
        return res.body;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
}


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/proposalSignedUrl.ts":
/*!****************************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/proposalSignedUrl.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "proposalSignedUrl": () => (/* binding */ proposalSignedUrl)
/* harmony export */ });
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_3__);




const proposalSignedUrl = async (_root, args, _context) => {
    try {
        let user;
        try {
            user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticate)(_context, "DD");
        }
        catch (error) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_3___default())(401, error);
        }
        const id = (0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)();
        const filekey = `proposal/${id}_${args.key}`;
        const responseObj = {};
        responseObj.key = args.key;
        responseObj.contentType = args.contentType;
        responseObj.awsFileKey = filekey;
        const attachmentObj = {
            key: filekey,
            contentType: args.contentType,
            base64: args.base64,
            userid: user.userid,
            ispreorpost: 0,
            leadid: args.leadid,
        };
        const toS3 = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_0__.UploadFileOnS3)(attachmentObj);
        responseObj.fileLocation = toS3.location;
        responseObj.id = toS3.id;
        return {
            code: 200,
            message: "Success",
            data: responseObj,
        };
    }
    catch (error) {
        console.log("error ======> ", error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/saveBetaQuoteDetails.ts":
/*!*******************************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/saveBetaQuoteDetails.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "saveBetaQuoteApi": () => (/* binding */ saveBetaQuoteApi)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");



const saveBetaQuoteApi = async (_root, args, _context) => {
    try {
        if (!args.modulerXmlLink) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Modular xml is mandatory");
        }
        const quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
            where: { postgres_id__c: args.postgresId },
        });
        if (!quoteData) {
            return {
                code: 400,
                message: "Quote not found",
            };
        }
        const dbQuoteObj = Object.assign(Object.assign({ name: args.name, modular_amount__c: args.modularAmount ? args.modularAmount : 0, site_services_amount__c: args.siteServiceValue
                ? args.siteServiceValue
                : 0, modular_discount__c: args.modularDiscount ? args.modularDiscount : 0, site_services_discount__c: args.siteServiceDiscount
                ? args.siteServiceDiscount
                : 0, latest_quote__c: true, dc_modular_xml__c: args.modulerXmlLink }, (args.siteServiceXmlLink && {
            dc_site_services_xml__c: args.siteServiceXmlLink,
        })), { sfid: args.quoteId, opportunityid: args.opportunityId, proposal_pdf__c: args.proposalLocation, dc_room_list__c: "", is_imos_project__c: true });
        const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: { sfid: args.opportunityId },
        });
        if (!opportunity) {
            return {
                code: 400,
                message: "Opportunity not found",
            };
        }
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
            where: {
                name: opportunity.region__c,
            },
        });
        if (!city) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "City not found");
        }
        const custId = opportunity.customer_id__c;
        const roomListArray = [];
        if (args.modulerXmlLink) {
            const xmlModularObj = {
                file: args.modulerXmlLink,
                type: "modularXml",
                discount: args.modularDiscount ? args.modularDiscount : 0,
                customerId: custId,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: opportunity.is_pm_site__c,
                cityPmFee: city.includepmfee,
                leadid: opportunity.lead_id__c,
                displayname: "Modular Quotation",
            };
            const forModular = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.XmlToPdf)(xmlModularObj);
            roomListArray.push(...forModular.roomList);
            dbQuoteObj.quote_link__c = forModular.s3Location;
        }
        if (args.siteServiceXmlLink) {
            const xmlSiteServiceObj = {
                file: args.siteServiceXmlLink,
                type: "siteServiceXml",
                discount: args.siteServiceDiscount ? args.siteServiceDiscount : 0,
                customerId: custId,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: opportunity.is_pm_site__c,
                cityPmFee: city.includepmfee,
                leadid: opportunity.lead_id__c,
                displayname: "Site Service Quotation",
            };
            const forSiteService = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.XmlToPdf)(xmlSiteServiceObj);
            roomListArray.push(...forSiteService.roomList);
            dbQuoteObj.site_services_pdf__c = forSiteService.s3Location;
        }
        dbQuoteObj.dc_room_list__c = JSON.stringify(roomListArray);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.update({
            where: { postgres_id__c: args.postgresId },
            data: dbQuoteObj,
        });
        return {
            code: 200,
            message: "Details uploaded successfully",
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error);
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/updateQuoteDetailsFromSF.ts":
/*!***********************************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/updateQuoteDetailsFromSF.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UpdateQuoteDetails": () => (/* binding */ UpdateQuoteDetails)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");



const UpdateQuoteDetails = async (_root, args, _context) => {
    try {
        const QuoteResponse = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
            where: {
                sfid: args.quoteId,
                opportunityid: args.opportunityId,
            },
        });
        if (!QuoteResponse) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Quote not found");
        }
        const QuoteResponseObj = {};
        const opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: { sfid: args.opportunityId },
        });
        if (!opportunity) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Opportunity not found");
        }
        const city = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findFirst({
            where: {
                name: opportunity.region__c,
            },
        });
        if (!city) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "City not found");
        }
        const custId = opportunity.customer_id__c;
        if (args.updateModular) {
            if (args.modularDiscount === null || args.modularFixedDiscount === null) {
                return {
                    code: 400,
                    message: "Please provide modular percentage & fixed discounts",
                };
            }
            QuoteResponseObj["modular_discount__c"] = args.modularDiscount;
            QuoteResponseObj["modular_fixed_discount__c"] = args.modularFixedDiscount;
            const xmlModularObj = {
                from: "Sales Force",
                file: args.modulerXmlLink,
                type: "modularXml",
                discount: args.modularDiscount ? args.modularDiscount : 0,
                absoluteDiscount: args.modularFixedDiscount
                    ? args.modularFixedDiscount
                    : 0,
                customerId: custId,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: opportunity.is_pm_site__c,
                cityPmFee: city.includepmfee,
                leadid: opportunity.lead_id__c,
                displayname: "Modular Quotation",
            };
            const forModular = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.XmlToPdf)(xmlModularObj);
            QuoteResponseObj["quote_link__c"] = forModular.s3Location;
        }
        if (args.updateSiteService) {
            if (args.siteServiceDiscount === null ||
                args.siteServiceFixedDiscount === null) {
                return {
                    code: 400,
                    message: "Please provide site service percentage & fixed discounts",
                };
            }
            QuoteResponseObj["site_services_discount__c"] = args.siteServiceDiscount;
            QuoteResponseObj["site_service_fixed_discount__c"] =
                args.siteServiceFixedDiscount;
            const xmlSiteServiceObj = {
                from: "Sales Force",
                file: args.siteServiceXmlLink,
                type: "siteServiceXml",
                discount: args.siteServiceDiscount ? args.siteServiceDiscount : 0,
                absoluteDiscount: args.siteServiceFixedDiscount
                    ? args.siteServiceFixedDiscount
                    : 0,
                customerId: custId,
                opportunityId: args.opportunityId,
                isPmFeeIncluded: opportunity.is_pm_site__c,
                cityPmFee: city.includepmfee,
                leadid: opportunity.lead_id__c,
                displayname: "Site Service Quotation",
            };
            const forSiteService = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_2__.XmlToPdf)(xmlSiteServiceObj);
            QuoteResponseObj["site_services_pdf__c"] = forSiteService.s3Location;
        }
        QuoteResponseObj["latest_quote__c"] = true;
        const dataToSF = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.update({
            where: {
                sfid: args.quoteId,
            },
            data: QuoteResponseObj,
        });
        return {
            code: dataToSF.id ? 200 : 400,
            message: dataToSF.id ? "Updated successfully" : "Something went wrong",
            data: dataToSF.id,
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error);
    }
};


/***/ }),

/***/ "./src/api/quotes/Mutations/preSales/validateXml.ts":
/*!**********************************************************!*\
  !*** ./src/api/quotes/Mutations/preSales/validateXml.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "validateXmlApi": () => (/* binding */ validateXmlApi)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! xml-js */ "xml-js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(xml_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../domain/services/baseUseCase/baseUseCase */ "./src/domain/services/baseUseCase/baseUseCase.ts");
/* harmony import */ var _domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../domain/enumerations/RoomTypesEnums */ "./src/domain/enumerations/RoomTypesEnums.ts");





const validateXmlApi = async (_root, args, _context) => {
    try {
        const opportunityData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
            where: {
                lead_id__c: args.leadId,
            },
        });
        if (!opportunityData) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Opportunity not found");
        }
        const file = {
            key: args.fileName,
            contentType: args.contentType,
            base64: args.base64File,
            leadid: args.leadId,
        };
        const attachmentObj = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.UploadFileOnS3)(file);
        const xml = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.getBuffer)(attachmentObj.filekey);
        const result = await xml_js__WEBPACK_IMPORTED_MODULE_1___default().xml2json(xml, { compact: true, spaces: 4 });
        const mainObj = JSON.parse(result);
        const clientName = mainObj.XML.Order.Head.CONTACT_ADDRESS1._text;
        if (!clientName) {
            await removeFromBlobAndDB(attachmentObj);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Customer name not found. Please upload appropriate file!");
        }
        if (clientName.split("-")[0] !== (opportunityData === null || opportunityData === void 0 ? void 0 : opportunityData.name.split("-")[0])) {
            await removeFromBlobAndDB(attachmentObj);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Customer name did not match. Please upload appropriate file!");
        }
        const commonAmount = parseFloat(mainObj.XML.Order.Head.ORDER_PRICE_INFO3._text) || 0;
        const totaltax = parseFloat(mainObj.XML.Order.Head.ORDER_PRICE_INFO4._text) || 0;
        const totalAmount = parseFloat(mainObj.XML.Order.Head.ORDER_PRICE_INFO5._text) || 0;
        const commonDiscountFromSplit = mainObj.XML.Order.Head.CUSTOM_INFO4._text.split("%");
        const commonDiscount = parseInt(commonDiscountFromSplit) || 0;
        const discountedAmount = parseFloat(mainObj.XML.Order.Head.CUSTOM_INFO3._text) || 0;
        const absoluteDiscount = parseInt(mainObj.XML.Order.Head.CUSTOM_INFO5._text) || 0;
        const responseObj = {};
        responseObj.location = attachmentObj.location;
        responseObj.attachment = attachmentObj === null || attachmentObj === void 0 ? void 0 : attachmentObj.id;
        responseObj.filekey = attachmentObj === null || attachmentObj === void 0 ? void 0 : attachmentObj.filekey;
        responseObj.customerName = clientName;
        if (args.modular) {
            responseObj.modularValue = commonAmount;
            responseObj.modularBaseAmount = commonAmount;
            responseObj.modularTotalTax = totaltax;
            responseObj.modularTotalAmount = totalAmount;
            responseObj.modularDiscountedAmount = discountedAmount;
            responseObj.modularDiscountValue = commonDiscount;
            responseObj.modularFixedDiscount = absoluteDiscount;
        }
        else if (args.siteService) {
            responseObj.siteServiceValue = commonAmount;
            responseObj.siteServiceBaseAmount = commonAmount;
            responseObj.siteServiceTotalTax = totaltax;
            responseObj.siteServiceTotalAmount = totalAmount;
            responseObj.siteServiceDiscountedAmount = discountedAmount;
            responseObj.siteServiceDiscountValue = commonDiscount;
            responseObj.siteServiceFixedDiscount = absoluteDiscount;
        }
        const builderList = mainObj.XML.Order.BuilderList.Set;
        if (args.modular) {
            const roomsArr = (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.getRoomNames)(builderList);
            const rooms = roomsArr;
            for (const val of rooms) {
                const room = val;
                const roomlower = room.toLowerCase();
                if (_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomlower)) {
                    await removeFromBlobAndDB(attachmentObj);
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Oops! Looks like you've added incorrect room name on IMOS. Upload Site Services in a different field");
                }
            }
        }
        else if (args.siteService) {
            const roomsArr2 = [];
            let count2 = 1;
            let roomNameFromSplit2;
            let _list = [];
            if (!Array.isArray(builderList)) {
                _list.push(builderList);
            }
            else {
                _list = builderList;
            }
            _list.forEach((element) => {
                if (count2 === Math.floor(element.hierarchicalPos._text)) {
                    roomNameFromSplit2 = element.PVarString._text.split("ROOMNAME:=");
                    roomsArr2.push(roomNameFromSplit2[1]);
                    count2++;
                }
            });
            const rooms = roomsArr2;
            for (const value of rooms) {
                const room = value;
                const roomlower = room.toLowerCase();
                if (!_domain_enumerations_RoomTypesEnums__WEBPACK_IMPORTED_MODULE_4__.SITE_SERVICE.includes(roomlower)) {
                    await removeFromBlobAndDB(attachmentObj);
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, "Opps! Looks like you've added incorrect room name on IMOS. Upload Modular in a different field");
                }
            }
        }
        return {
            code: 200,
            data: responseObj,
            message: "Xml uploaded successfully!",
        };
        async function removeFromBlobAndDB(_attachment) {
            if (_attachment) {
                const attachmentFileKey = _attachment.location;
                const awsDeleteRes = await (0,_domain_services_baseUseCase_baseUseCase__WEBPACK_IMPORTED_MODULE_3__.deleteBlob)(attachmentFileKey);
                if (awsDeleteRes) {
                    await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments["delete"]({
                        where: {
                            id: _attachment.id,
                        },
                    });
                }
            }
        }
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_2___default())(400, error);
    }
};


/***/ }),

/***/ "./src/api/quotes/Queries/getQuotation.ts":
/*!************************************************!*\
  !*** ./src/api/quotes/Queries/getQuotation.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getQuotation": () => (/* binding */ getQuotation)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getQuotation = async (_root, _args, context) => {
    let quoteResponseObj;
    try {
        const res = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(context);
        const { opportunitysfid } = _args;
        let opportunity;
        if (res.user) {
            if (!opportunitysfid) {
                return { code: 400, message: "opportunitysfid is required" };
            }
            opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
                where: { sfid: opportunitysfid },
            });
        }
        else if (res.customer) {
            opportunity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findFirst({
                where: { mobile__c: res.customer.customerphone },
            });
        }
        let quotes;
        if (opportunity) {
            quotes = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findMany({
                where: {
                    opportunityid: opportunity.sfid,
                },
                orderBy: [
                    {
                        createddate: 'asc',
                    },
                ]
            });
        }
        quoteResponseObj = { code: 200, message: "success", quotes: quotes };
        return quoteResponseObj;
    }
    catch (error) {
        quoteResponseObj = { code: 400, message: error.message };
        return quoteResponseObj;
    }
};


/***/ }),

/***/ "./src/api/quotes/Queries/getQuotationById.ts":
/*!****************************************************!*\
  !*** ./src/api/quotes/Queries/getQuotationById.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getQuotationById": () => (/* binding */ getQuotationById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");


const getQuotationById = async (_root, args, _context) => {
    let quoteByIdResponseObj;
    try {
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_1__.authenticateDdCd)(_context);
        const quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({ where: { id: args.quoteid } });
        quoteByIdResponseObj = { code: 200, message: "success", quotes: quote };
        return quoteByIdResponseObj;
    }
    catch (error) {
        quoteByIdResponseObj = { code: 400, message: error.message };
        return quoteByIdResponseObj;
    }
};


/***/ }),

/***/ "./src/api/quotes/Queries/getRoomList.ts":
/*!***********************************************!*\
  !*** ./src/api/quotes/Queries/getRoomList.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getRoomList": () => (/* binding */ getRoomList)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);


const getRoomList = async (_root, args, _context) => {
    try {
        let quoteData, response, roomList;
        if (args.isPreSales) {
            if (!args.quoteSfId) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "Salesforce quote id is required.");
            }
            quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findFirst({
                where: { sfid: args.quoteSfId },
            });
            if (quoteData.dc_room_list__c) {
                roomList = getRoomListArray(quoteData.dc_room_list__c);
            }
            response = roomList ? roomList : [];
        }
        else {
            if (!args.quoteId) {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(400, "project quote id is required.");
            }
            quoteData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_project_quotes.findFirst({
                where: { id: args.quoteId },
            });
            roomList = quoteData.roomlist;
            response = roomList ? roomList : [];
        }
        return {
            code: quoteData ? 200 : 201,
            data: response,
            message: quoteData ? "success" : "Quote not found",
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error.message);
    }
};
const getRoomListArray = (roomsArray) => {
    const stringifyRoomlist = JSON.parse(JSON.stringify(roomsArray).replace(/&quot;/g, '\\"'));
    return JSON.parse(stringifyRoomlist);
};


/***/ }),

/***/ "./src/api/quotes/resolver.ts":
/*!************************************!*\
  !*** ./src/api/quotes/resolver.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "quotationResolver": () => (/* binding */ quotationResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_getQuotation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/getQuotation */ "./src/api/quotes/Queries/getQuotation.ts");
/* harmony import */ var _Queries_getQuotationById__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Queries/getQuotationById */ "./src/api/quotes/Queries/getQuotationById.ts");
/* harmony import */ var _Queries_getRoomList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/getRoomList */ "./src/api/quotes/Queries/getRoomList.ts");
/* harmony import */ var _Mutations_preSales_validateXml__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutations/preSales/validateXml */ "./src/api/quotes/Mutations/preSales/validateXml.ts");
/* harmony import */ var _Mutations_preSales_postBetaQuoteApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Mutations/preSales/postBetaQuoteApi */ "./src/api/quotes/Mutations/preSales/postBetaQuoteApi.ts");
/* harmony import */ var _Mutations_preSales_updateQuoteDetailsFromSF__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Mutations/preSales/updateQuoteDetailsFromSF */ "./src/api/quotes/Mutations/preSales/updateQuoteDetailsFromSF.ts");
/* harmony import */ var _Mutations_preSales_saveBetaQuoteDetails__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Mutations/preSales/saveBetaQuoteDetails */ "./src/api/quotes/Mutations/preSales/saveBetaQuoteDetails.ts");
/* harmony import */ var _Mutations_preSales_proposalSignedUrl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Mutations/preSales/proposalSignedUrl */ "./src/api/quotes/Mutations/preSales/proposalSignedUrl.ts");
/* harmony import */ var _Mutations_postSales_deleteRoomwise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Mutations/postSales/deleteRoomwise */ "./src/api/quotes/Mutations/postSales/deleteRoomwise.ts");
/* harmony import */ var _Mutations_postSales_postRoomWiseXml__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Mutations/postSales/postRoomWiseXml */ "./src/api/quotes/Mutations/postSales/postRoomWiseXml.ts");
/* harmony import */ var _Mutations_postSales_updateDiscountGeneratePdf__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Mutations/postSales/updateDiscountGeneratePdf */ "./src/api/quotes/Mutations/postSales/updateDiscountGeneratePdf.ts");
/* harmony import */ var _Mutations_postSales_updateProjectCommercial__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Mutations/postSales/updateProjectCommercial */ "./src/api/quotes/Mutations/postSales/updateProjectCommercial.ts");
/* harmony import */ var _Mutations_preSales_acceptProposal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Mutations/preSales/acceptProposal */ "./src/api/quotes/Mutations/preSales/acceptProposal.ts");














const quotationResolver = {
    Query: {
        getQuotation: async (parent, _args, context) => (0,_Queries_getQuotation__WEBPACK_IMPORTED_MODULE_1__.getQuotation)(parent, _args, context),
        getQuotationById: async (parent, _args, context) => (0,_Queries_getQuotationById__WEBPACK_IMPORTED_MODULE_2__.getQuotationById)(parent, _args, context),
        getRoomList: async (parent, _args, context) => (0,_Queries_getRoomList__WEBPACK_IMPORTED_MODULE_3__.getRoomList)(parent, _args, context),
    },
    Mutation: {
        proposalSignedUrl: async (parent, _args, context) => (0,_Mutations_preSales_proposalSignedUrl__WEBPACK_IMPORTED_MODULE_8__.proposalSignedUrl)(parent, _args, context),
        postBetaQuote: async (parent, _args, context) => (0,_Mutations_preSales_postBetaQuoteApi__WEBPACK_IMPORTED_MODULE_5__.postBetaQuote)(parent, _args, context),
        saveBetaQuoteApi: async (parent, _args, context) => (0,_Mutations_preSales_saveBetaQuoteDetails__WEBPACK_IMPORTED_MODULE_7__.saveBetaQuoteApi)(parent, _args, context),
        validateXmlApi: async (parent, _args, context) => (0,_Mutations_preSales_validateXml__WEBPACK_IMPORTED_MODULE_4__.validateXmlApi)(parent, _args, context),
        UpdateQuoteDetails: async (parent, _args, context) => (0,_Mutations_preSales_updateQuoteDetailsFromSF__WEBPACK_IMPORTED_MODULE_6__.UpdateQuoteDetails)(parent, _args, context),
        acceptProposal: async (parent, _args, context) => (0,_Mutations_preSales_acceptProposal__WEBPACK_IMPORTED_MODULE_13__.acceptProposal)(parent, _args, context),
        PostRoomwiseXmlApi: async (parent, _args, context) => (0,_Mutations_postSales_postRoomWiseXml__WEBPACK_IMPORTED_MODULE_10__.PostRoomwiseXmlApi)(parent, _args, context),
        deleteRoomwise: async (parent, _args, context) => (0,_Mutations_postSales_deleteRoomwise__WEBPACK_IMPORTED_MODULE_9__.deleteRoomwise)(parent, _args, context),
        updateDiscountGeneratePdf: async (parent, _args, context) => (0,_Mutations_postSales_updateDiscountGeneratePdf__WEBPACK_IMPORTED_MODULE_11__.updateDiscountGeneratePdf)(parent, _args, context),
        updateProjectCommercial: async (parent, _args, context) => (0,_Mutations_postSales_updateProjectCommercial__WEBPACK_IMPORTED_MODULE_12__.updateProjectCommercial)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/quotes/typedefs.ts":
/*!************************************!*\
  !*** ./src/api/quotes/typedefs.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "quotationTypedef": () => (/* binding */ quotationTypedef)
/* harmony export */ });
const quotationTypedef = `
    type Quote {
        quotetogeocodeaccuracy:String
        discount:Float
        shippinglongitude:Float
        quotetocity:String
        quotetoname:String
        site_services_amount__c:Float
        site_service_fixed_discount__c:Float
        billingstatecode:String
        shippingstate:String
        quotetolatitude:Float
        igst__c:Float
        subtotal:Float
        totalprice:Float
        quotenumber:String
        site_services_pm_design_fee__c:Float
        site_services_amount_discounted__c:Float
        shippingpostalcode:String
        billingcity:String
        quote_link__c:String
        billingname:String
        quotetostatecode:String
        billinglatitude:Float
        accountid:String
        additionallongitude:Float
        billingcountrycode:String
        shippingcountry:String
        customer_email__c:String
        decor_amount_gst__c:Float
        shippinggeocodeaccuracy:String
        modular_fixed_discount__c:Float
        modular_amount_dis_incl_gst__c:Float
        additionalstate:String
        additionalstreet:String
        name:String
        tax:Float
        quotetocountrycode:String
        modular_discount__c:Float
        contractid:String
        modular_amount_gst__c:Float
        sgst__c:Float
        phone:String
        oppty_designer_email_add__c:String
        site_services_amount_incl_gst__c:Float
        opportunityid:String
        decor_amount_dis_incl_gst__c:Float
        additionalcountry:String
        quotetopostalcode:String
        isdeleted:Boolean
        additionalgeocodeaccuracy:String
        systemmodstamp:DateTime
        shippingstatecode:String
        modular_amount_discounted__c:Float
        decor_amount__c:Float
        modular_pm_design_fee__c:Float
        shippingstreet:String
        status:String
        additionalcity:String
        additionalname:String
        shippinghandling:Float
        additionallatitude:Float
        billingpostalcode:String
        billinglongitude:Float
        decor_amount_discount__c:Float
        shippingcountrycode:String
        decor_amount_discounted__c:Float
        modular_amount__c:Float
        createddate:DateTime
        billingstate:String
        additionalstatecode:String
        customer_name__c:String
        quotetolongitude:Float
        grandtotal:Float
        shippingcity:String
        shippingname:String
        site_services_amount_gst__c:Float
        site_services_discount__c:Float
        shippinglatitude:Float
        site_services_pdf__c:String
        quotetostate:String
        quotetostreet:String
        modular_amount_incl_gst__c:Float
        pricebook2id:String
        billingcountry:String
        contactid:String
        oppty_owner__c:String
        email:String
        description:String
        additionalcountrycode:String
        billinggeocodeaccuracy:String
        oppty_customer_email__c:String
        base_amount__c:Float
        issyncing:Boolean
        fax:String
        expirationdate:DateTime
        site_services_amount_dis_incl_gst__c:Float
        proposal_pdf__c:String
        cgst__c:Float
        send_notification_to_customer__c:Boolean
        billingstreet:String
        additionalpostalcode:String
        quotetocountry:String
        latest_quote__c:Boolean
        opportunity_amount__c:Float
        decor_amount_incl_gst__c:Float
        sfid:String
        id:Int!
        hc_lastop:String
        hc_err:String
        dc_modular_xml__c:String
        dc_site_service_xml__c:String
        dc_room_list__c: String
        change_request_list__c: String
        total_calculated_value__c: Float
        total_amount__c: Float
        postgres_id__c: String
        is_imos_project__c: Boolean
    }

    type proposalSignedUrlResponse{
        code: Int
        message: String
        data: JSON
    }

    type postBetaQuoteResponse{
        code:Int
        message:String
        quoteid:String
    }

    type saveBetaQuoteDetailsResponse{
        code: Int
        message: String
    }

    type UpdateQuoteDetailsResponse{
        code: Int
        message: String
        data: String
    }

    type ValidateXmlResponse{
        code: Int
        message: String
        data: XmlResponse
    }

    type XmlResponse{
        customerName: String
        attachment: String
        filekey: String
        location: String
        modularValue: Float
        modularDiscountValue: Int
        modularFixedDiscount: Int
        modularBaseAmount: Float
        modularTotalTax: Float
        modularTotalAmount: Float
        modularDiscountedAmount: Float
        siteServiceValue: Float
        siteServiceDiscountValue: Int
        siteServiceFixedDiscount: Int
        siteServiceBaseAmount: Float
        siteServiceTotalTax: Float
        siteServiceTotalAmount: Float
        siteServiceDiscountedAmount: Float
    }

    type XmlResponseProject{
        customerName: String
        attachment: String
        filekey: String
        modularValue: Float
        modularDiscountValue: Int
        modularFixedDiscount: Int
        modularBaseAmount: Float
        modularTotalTax: Float
        modularTotalAmount: Float
        modularDiscountedAmount: Float
        siteServiceValue: Float
        siteServiceDiscountValue: Int
        siteServiceFixedDiscount: Int
        siteServiceBaseAmount: Float
        siteServiceTotalTax: Float
        siteServiceTotalAmount: Float
        siteServiceDiscountedAmount: Float
        totalProjectValue: Float
        achievedRevenueValue: Float
        pendingAmountValue: Float
    }

    type postRoomwiseXmlResponse{
        code: Int
        message: String
        data: XmlResponseProject
    }

    type UpdateDiscountResponse{
        code: Int
        message: String
        data: JSON
    }

    type updateProjectCommercialResponse{
        code: Int
        message: String
        data: JSON
    }

    type deleteRoomwiseResponse{
        code: Int
        message: String
        data: JSON
    }

    type acceptProposalResponse {
        code: Int
        message: String
    }

    type Mutation{
        validateXmlApi(
            base64File: String!
            fileName: String!
            contentType: String!
            modular: Boolean
            siteService: Boolean
            leadId: String!
        ):ValidateXmlResponse

        acceptProposal(
            quoteId: String!,
            proposalStatus: String!,
            ): acceptProposalResponse

        proposalSignedUrl(
            key:String!,
            contentType:String!,
            base64:String!,leadId:String!): proposalSignedUrlResponse

        postBetaQuote(
            opportunityid: String!
            name: String!
            modularAmount: Float!,
            modularDiscount: Int!,
            modularFixedDiscount: Int!,
            siteServiceValue: Float,
            siteServiceDiscount: Int,
            siteServiceFixedDiscount: Int,
            decorValue: Float,
            proposal_link: String!
            contentType: String
            key: String
        ): postBetaQuoteResponse

        saveBetaQuoteApi(
            postgresId: String!,
            opportunityId: String!
            customerName: String!
            name: String!
            modularAmount: Float!,
            modularDiscount: Int!,
            siteServiceValue: Float,
            siteServiceDiscount: Int,
            modulerXmlLink: String!,
            siteServiceXmlLink: String,
            proposalKey: String!,
            proposalLocation: String!
        ): saveBetaQuoteDetailsResponse
        
        UpdateQuoteDetails(
            modularDiscount:Int
            modularFixedDiscount: Int
            siteServiceDiscount:Int
            siteServiceFixedDiscount: Int
            opportunityId:String!
            updateSiteService:Boolean
            updateModular:Boolean
            modulerXmlLink: String
            siteServiceXmlLink: String
            quoteId: String!
            name:String!
        ): UpdateQuoteDetailsResponse

        PostRoomwiseXmlApi(
            base64File: String!
            fileName: String!
            contentType: String!
            projectId: Int!
        ):postRoomwiseXmlResponse

        deleteRoomwise(
            roomType: String!
            ddQuoteId: Int!
        ):deleteRoomwiseResponse

        updateDiscountGeneratePdf(
            modularDiscount: Int
            projectId: Int!
            siteServiceDiscount: Int
            opportunityId: String!
            modularFixedDiscount: Int
            siteServiceFixedDiscount: Int
        ):UpdateDiscountResponse

        updateProjectCommercial(
            projectId: Int!
            projectModularValue: Float!
            projectSiteServicesValue: Float!
            projectPendingAmount: Float!
            totalProjectValue: Float!
            projectAchievedRevenue: Float!
            modularDiscount: Int!
            civilDiscount: Int
            isImosProject: Boolean
            modularPdfJson: pdfRequest
            siteServicePdfJson: pdfRequest
        ):updateProjectCommercialResponse
    }

    input pdfRequest{
        fileKey: String!
        location:String!

    }

    type getRoomlistResponse{
        code: Int,
        message: String,
        data: [JSON]
    }

    type QuotationResponse { 
        code:Int
        message: String
        quotes: [Quote]
    }
    type QuotationByIdResponse { 
        code:Int
        message: String
        quotes: Quote
    }

    type Query{
        getRoomList(
            isPreSales: Boolean!,
            quoteSfId: String,
            quoteId: Int
        ):getRoomlistResponse
        getQuotation(opportunitysfid: String): QuotationResponse
        getQuotationById(quoteid:Int): QuotationByIdResponse
    }

    scalar JSON
    scalar DateTime
`;


/***/ }),

/***/ "./src/api/schema.ts":
/*!***************************!*\
  !*** ./src/api/schema.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "schema": () => (/* binding */ schema)
/* harmony export */ });
/* harmony import */ var _graphql_tools_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @graphql-tools/schema */ "@graphql-tools/schema");
/* harmony import */ var _graphql_tools_schema__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_graphql_tools_schema__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _cities_resolver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cities/resolver */ "./src/api/cities/resolver.ts");
/* harmony import */ var _cities_typedef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cities/typedef */ "./src/api/cities/typedef.ts");
/* harmony import */ var _teams_resolvers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./teams/resolvers */ "./src/api/teams/resolvers.ts");
/* harmony import */ var _teams_typedefs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./teams/typedefs */ "./src/api/teams/typedefs.ts");
/* harmony import */ var _users_resolver__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./users/resolver */ "./src/api/users/resolver.ts");
/* harmony import */ var _users_typedef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./users/typedef */ "./src/api/users/typedef.ts");
/* harmony import */ var _api_typedefs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../api/typedefs */ "./src/api/typedefs.ts");
/* harmony import */ var _departments_resolvers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./departments/resolvers */ "./src/api/departments/resolvers.ts");
/* harmony import */ var _api_departments_typedefs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../api/departments/typedefs */ "./src/api/departments/typedefs.ts");
/* harmony import */ var _customers_resolvers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./customers/resolvers */ "./src/api/customers/resolvers.ts");
/* harmony import */ var _customers_typedefs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./customers/typedefs */ "./src/api/customers/typedefs.ts");
/* harmony import */ var _experienceCenter_resolver__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./experienceCenter/resolver */ "./src/api/experienceCenter/resolver.ts");
/* harmony import */ var _experienceCenter_typedef__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./experienceCenter/typedef */ "./src/api/experienceCenter/typedef.ts");
/* harmony import */ var _profiles_typedef__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./profiles/typedef */ "./src/api/profiles/typedef.ts");
/* harmony import */ var _profiles_resolver__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./profiles/resolver */ "./src/api/profiles/resolver.ts");
/* harmony import */ var _projects_typedef__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./projects/typedef */ "./src/api/projects/typedef.ts");
/* harmony import */ var _projects_resolver__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./projects/resolver */ "./src/api/projects/resolver.ts");
/* harmony import */ var _projectMom_typedef__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./projectMom/typedef */ "./src/api/projectMom/typedef.ts");
/* harmony import */ var _projectMom_resolver__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./projectMom/resolver */ "./src/api/projectMom/resolver.ts");
/* harmony import */ var _projectMom_Comments_typedef__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./projectMom/Comments/typedef */ "./src/api/projectMom/Comments/typedef.ts");
/* harmony import */ var _projectMom_Comments_resolver__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./projectMom/Comments/resolver */ "./src/api/projectMom/Comments/resolver.ts");
/* harmony import */ var _paymentMicroservice_paymentRequest_resolver__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./paymentMicroservice/paymentRequest/resolver */ "./src/api/paymentMicroservice/paymentRequest/resolver.ts");
/* harmony import */ var _paymentMicroservice_paymentRequest_typedef__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./paymentMicroservice/paymentRequest/typedef */ "./src/api/paymentMicroservice/paymentRequest/typedef.ts");
/* harmony import */ var _paymentMicroservice_authentication_resolver__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./paymentMicroservice/authentication/resolver */ "./src/api/paymentMicroservice/authentication/resolver.ts");
/* harmony import */ var _paymentMicroservice_authentication_typedef__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./paymentMicroservice/authentication/typedef */ "./src/api/paymentMicroservice/authentication/typedef.ts");
/* harmony import */ var _paymentMicroservice_paymentReceipt_resolver__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./paymentMicroservice/paymentReceipt/resolver */ "./src/api/paymentMicroservice/paymentReceipt/resolver.ts");
/* harmony import */ var _paymentMicroservice_paymentReceipt_typedef__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./paymentMicroservice/paymentReceipt/typedef */ "./src/api/paymentMicroservice/paymentReceipt/typedef.ts");
/* harmony import */ var _paymentMicroservice_customer_resolver__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./paymentMicroservice/customer/resolver */ "./src/api/paymentMicroservice/customer/resolver.ts");
/* harmony import */ var _paymentMicroservice_customer_typedefs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./paymentMicroservice/customer/typedefs */ "./src/api/paymentMicroservice/customer/typedefs.ts");
/* harmony import */ var _paymentMicroservice_project_resolver__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./paymentMicroservice/project/resolver */ "./src/api/paymentMicroservice/project/resolver.ts");
/* harmony import */ var _paymentMicroservice_project_typedef__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./paymentMicroservice/project/typedef */ "./src/api/paymentMicroservice/project/typedef.ts");
/* harmony import */ var _paymentMicroservice_razorpay_resolvers__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./paymentMicroservice/razorpay/resolvers */ "./src/api/paymentMicroservice/razorpay/resolvers.ts");
/* harmony import */ var _paymentMicroservice_razorpay_typedefs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./paymentMicroservice/razorpay/typedefs */ "./src/api/paymentMicroservice/razorpay/typedefs.ts");
/* harmony import */ var _paymentMicroservice_invoice_resolvers__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./paymentMicroservice/invoice/resolvers */ "./src/api/paymentMicroservice/invoice/resolvers.ts");
/* harmony import */ var _paymentMicroservice_invoice_typedefs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./paymentMicroservice/invoice/typedefs */ "./src/api/paymentMicroservice/invoice/typedefs.ts");
/* harmony import */ var _changeRequest_typedefs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./changeRequest/typedefs */ "./src/api/changeRequest/typedefs.ts");
/* harmony import */ var _changeRequest_resolvers__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./changeRequest/resolvers */ "./src/api/changeRequest/resolvers.ts");
/* harmony import */ var _leads_typedef__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./leads/typedef */ "./src/api/leads/typedef.ts");
/* harmony import */ var _leads_resolver__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./leads/resolver */ "./src/api/leads/resolver.ts");
/* harmony import */ var _opportunities_typedef__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./opportunities/typedef */ "./src/api/opportunities/typedef.ts");
/* harmony import */ var _opportunities_resolver__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./opportunities/resolver */ "./src/api/opportunities/resolver.ts");
/* harmony import */ var _customers_requirementForm_typedefs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./customers/requirementForm/typedefs */ "./src/api/customers/requirementForm/typedefs.ts");
/* harmony import */ var _customers_requirementForm_resolvers__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./customers/requirementForm/resolvers */ "./src/api/customers/requirementForm/resolvers.ts");
/* harmony import */ var _widgets_typedef__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./widgets/typedef */ "./src/api/widgets/typedef.ts");
/* harmony import */ var _widgets_resolver__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./widgets/resolver */ "./src/api/widgets/resolver.ts");
/* harmony import */ var _dcSupport_resolvers__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./dcSupport/resolvers */ "./src/api/dcSupport/resolvers.ts");
/* harmony import */ var _dcSupport_typedefs__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./dcSupport/typedefs */ "./src/api/dcSupport/typedefs.ts");
/* harmony import */ var _quotes_typedefs__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./quotes/typedefs */ "./src/api/quotes/typedefs.ts");
/* harmony import */ var _quotes_resolver__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./quotes/resolver */ "./src/api/quotes/resolver.ts");
/* harmony import */ var _customers_BookingForm_typedefs__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./customers/BookingForm/typedefs */ "./src/api/customers/BookingForm/typedefs.ts");
/* harmony import */ var _customers_BookingForm_resolver__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./customers/BookingForm/resolver */ "./src/api/customers/BookingForm/resolver.ts");
/* harmony import */ var _customers_DesignSignoff_typedefs__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./customers/DesignSignoff/typedefs */ "./src/api/customers/DesignSignoff/typedefs.ts");
/* harmony import */ var _customers_DesignSignoff_resolver__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./customers/DesignSignoff/resolver */ "./src/api/customers/DesignSignoff/resolver.ts");
/* harmony import */ var _projects_Smartsheet_resolver__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./projects/Smartsheet/resolver */ "./src/api/projects/Smartsheet/resolver.ts");
/* harmony import */ var _projects_Smartsheet_typedef__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./projects/Smartsheet/typedef */ "./src/api/projects/Smartsheet/typedef.ts");
/* harmony import */ var _homescreenWidgets_resolver__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./homescreenWidgets/resolver */ "./src/api/homescreenWidgets/resolver.ts");
/* harmony import */ var _homescreenWidgets_typedefs__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./homescreenWidgets/typedefs */ "./src/api/homescreenWidgets/typedefs.ts");
/* harmony import */ var _emailNotification_resolver__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./emailNotification/resolver */ "./src/api/emailNotification/resolver.ts");
/* harmony import */ var _emailNotification_typedef__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./emailNotification/typedef */ "./src/api/emailNotification/typedef.ts");




























































const schema = (0,_graphql_tools_schema__WEBPACK_IMPORTED_MODULE_0__.makeExecutableSchema)({
    typeDefs: [
        _cities_typedef__WEBPACK_IMPORTED_MODULE_2__.citiesTypedef,
        _teams_typedefs__WEBPACK_IMPORTED_MODULE_4__.teamsTypedef,
        _users_typedef__WEBPACK_IMPORTED_MODULE_6__.usersTypedef,
        _api_typedefs__WEBPACK_IMPORTED_MODULE_7__.GlobalTypedef,
        _api_departments_typedefs__WEBPACK_IMPORTED_MODULE_9__.departmentTypedef,
        _customers_typedefs__WEBPACK_IMPORTED_MODULE_11__.customerTypedefs,
        _experienceCenter_typedef__WEBPACK_IMPORTED_MODULE_13__.experienceCenterTypedef,
        _profiles_typedef__WEBPACK_IMPORTED_MODULE_14__.profilesTypedef,
        _dcSupport_typedefs__WEBPACK_IMPORTED_MODULE_47__.dcSupportTypedef,
        _projects_typedef__WEBPACK_IMPORTED_MODULE_16__.projectsTypedef,
        _projectMom_typedef__WEBPACK_IMPORTED_MODULE_18__.projectMomTypedef,
        _projectMom_Comments_typedef__WEBPACK_IMPORTED_MODULE_20__.momCommentsTypedef,
        _paymentMicroservice_paymentRequest_typedef__WEBPACK_IMPORTED_MODULE_23__.paymentRequestTypedef,
        _paymentMicroservice_authentication_typedef__WEBPACK_IMPORTED_MODULE_25__.authenticationTokenTypedef,
        _paymentMicroservice_paymentReceipt_typedef__WEBPACK_IMPORTED_MODULE_27__.paymentReceiptTypedef,
        _paymentMicroservice_customer_typedefs__WEBPACK_IMPORTED_MODULE_29__.customerPaymentTypedef,
        _paymentMicroservice_project_typedef__WEBPACK_IMPORTED_MODULE_31__.ProjectaymentTypedef,
        _paymentMicroservice_razorpay_typedefs__WEBPACK_IMPORTED_MODULE_33__.RazorpayTypedef,
        _customers_requirementForm_typedefs__WEBPACK_IMPORTED_MODULE_42__.requirementFormTypedef,
        _paymentMicroservice_invoice_typedefs__WEBPACK_IMPORTED_MODULE_35__.InvoiceTypedef,
        _changeRequest_typedefs__WEBPACK_IMPORTED_MODULE_36__.changeRequestTypedefs,
        _leads_typedef__WEBPACK_IMPORTED_MODULE_38__.leadsTypedef,
        _opportunities_typedef__WEBPACK_IMPORTED_MODULE_40__.opportunityTypedef,
        _customers_requirementForm_typedefs__WEBPACK_IMPORTED_MODULE_42__.requirementFormTypedef,
        _widgets_typedef__WEBPACK_IMPORTED_MODULE_44__.widgetsTypedef,
        _quotes_typedefs__WEBPACK_IMPORTED_MODULE_48__.quotationTypedef,
        _customers_BookingForm_typedefs__WEBPACK_IMPORTED_MODULE_50__.bookingFormTypedef,
        _customers_DesignSignoff_typedefs__WEBPACK_IMPORTED_MODULE_52__.designSignoffTypedef,
        _api_departments_typedefs__WEBPACK_IMPORTED_MODULE_9__.departmentTypedef,
        _projects_Smartsheet_typedef__WEBPACK_IMPORTED_MODULE_55__.smartSheetTypedef,
        _homescreenWidgets_typedefs__WEBPACK_IMPORTED_MODULE_57__.homescreenWidgetTypedef,
        _emailNotification_typedef__WEBPACK_IMPORTED_MODULE_59__.triggerEmailTypedef
    ],
    resolvers: [
        _cities_resolver__WEBPACK_IMPORTED_MODULE_1__.citiesResolver,
        _teams_resolvers__WEBPACK_IMPORTED_MODULE_3__.teamsResolver,
        _users_resolver__WEBPACK_IMPORTED_MODULE_5__.usersResolver,
        _customers_resolvers__WEBPACK_IMPORTED_MODULE_10__.customerResolver,
        _experienceCenter_resolver__WEBPACK_IMPORTED_MODULE_12__.experienceCenterResolver,
        _profiles_resolver__WEBPACK_IMPORTED_MODULE_15__.profilesResolver,
        _dcSupport_resolvers__WEBPACK_IMPORTED_MODULE_46__.dcSupportResolver,
        _projects_resolver__WEBPACK_IMPORTED_MODULE_17__.projectsResolver,
        _projectMom_resolver__WEBPACK_IMPORTED_MODULE_19__.projectMomResolver,
        _projectMom_Comments_resolver__WEBPACK_IMPORTED_MODULE_21__.momCommentResolver,
        _paymentMicroservice_paymentRequest_resolver__WEBPACK_IMPORTED_MODULE_22__.paymentRequestReslover,
        _paymentMicroservice_authentication_resolver__WEBPACK_IMPORTED_MODULE_24__.authenticationTokenReslover,
        _paymentMicroservice_paymentReceipt_resolver__WEBPACK_IMPORTED_MODULE_26__.paymentReceiptReslover,
        _paymentMicroservice_customer_resolver__WEBPACK_IMPORTED_MODULE_28__.customerPaymentReslovers,
        _paymentMicroservice_project_resolver__WEBPACK_IMPORTED_MODULE_30__.ProjectPaymentReslovers,
        _paymentMicroservice_razorpay_resolvers__WEBPACK_IMPORTED_MODULE_32__.RazorpayReslovers,
        _customers_requirementForm_resolvers__WEBPACK_IMPORTED_MODULE_43__.requirementFormResolver,
        _paymentMicroservice_invoice_resolvers__WEBPACK_IMPORTED_MODULE_34__.InvoiceResolver,
        _changeRequest_resolvers__WEBPACK_IMPORTED_MODULE_37__.changeRequestResolver,
        _leads_resolver__WEBPACK_IMPORTED_MODULE_39__.leadsResolver,
        _opportunities_resolver__WEBPACK_IMPORTED_MODULE_41__.opportunityResolver,
        _customers_requirementForm_resolvers__WEBPACK_IMPORTED_MODULE_43__.requirementFormResolver,
        _widgets_resolver__WEBPACK_IMPORTED_MODULE_45__.widgetsResolver,
        _quotes_resolver__WEBPACK_IMPORTED_MODULE_49__.quotationResolver,
        _customers_BookingForm_resolver__WEBPACK_IMPORTED_MODULE_51__.bookingFormResolver,
        _customers_DesignSignoff_resolver__WEBPACK_IMPORTED_MODULE_53__.designSignoffResolver,
        _departments_resolvers__WEBPACK_IMPORTED_MODULE_8__.departmentResolver,
        _projects_Smartsheet_resolver__WEBPACK_IMPORTED_MODULE_54__.smartSheetResolver,
        _homescreenWidgets_resolver__WEBPACK_IMPORTED_MODULE_56__.homescreenWgidgetResolver,
        _emailNotification_resolver__WEBPACK_IMPORTED_MODULE_58__.trigerEmailResolver
    ],
});


/***/ }),

/***/ "./src/api/teams/mutations.ts":
/*!************************************!*\
  !*** ./src/api/teams/mutations.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addTeam": () => (/* binding */ addTeam),
/* harmony export */   "updateTeam": () => (/* binding */ updateTeam)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");

const addTeam = async (root, args, context) => {
    let teamResponseObj;
    const { name, odoo_id, reportingmanager, teammailid, teamlead, experiencecenters, cities, teamsdepartment } = args;
    try {
        const team = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.create({
            data: {
                name,
                teammailid,
                reportingmanager,
                teamlead,
                odoo_id,
                create_at: new Date(),
                updated_at: new Date(),
                teamsdepartment
            },
        });
        const experiencecenterArr = [];
        experiencecenters.forEach(async (element) => {
            experiencecenterArr.push({
                teamid: team.id,
                centerid: element,
                created_at: new Date(),
                updated_at: new Date(),
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_experiencecenters.createMany({ data: experiencecenterArr });
        const citiesArr = [];
        cities.forEach(async (element) => {
            citiesArr.push({
                teamid: team.id,
                cityid: element,
                created_at: new Date(),
                updated_at: new Date(),
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_city.createMany({ data: citiesArr });
        const teams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
            where: { id: team.id },
            include: {
                team_city: {
                    include: { city: true }
                },
                team_experiencecenters: {
                    include: { center: true }
                },
                departments: true
            }
        });
        let Team = await getteam(teams);
        Team = Team.Teams;
        teamResponseObj = { code: 200, message: "success", data: Team };
        return teamResponseObj;
    }
    catch (error) {
        console.log(63, error);
        teamResponseObj = { code: 400, message: error.message };
        return teamResponseObj;
    }
};
const updateTeam = async (root, args, context) => {
    let teamResponseObj;
    try {
        const { id, name, odoo_id, reportingmanager, teammailid, teamlead, teamsdepartment, experiencecenters, cities } = args;
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.update({
            data: {
                name,
                teammailid,
                reportingmanager,
                teamlead,
                odoo_id,
                updated_at: new Date(),
                teamsdepartment
            },
            where: {
                id: id,
            }
        });
        const teamCity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_city.findMany({ where: { teamid: id } });
        const alreadyAssignedCities = [];
        if (teamCity) {
            teamCity.forEach(async (element) => {
                alreadyAssignedCities.push(element.cityid);
            });
        }
        let citiesInRequest = [];
        citiesInRequest = cities;
        var citiesToAdd = citiesInRequest.filter(function (n) {
            return !this.has(n);
        }, new Set(alreadyAssignedCities));
        let citiesToBeAdded = [];
        const citiesArr = [];
        if (citiesToAdd) {
            citiesToBeAdded = citiesToAdd;
            citiesToBeAdded.forEach(async (element) => {
                citiesArr.push({
                    teamid: id,
                    cityid: element,
                    created_at: new Date(),
                    updated_at: new Date(),
                });
            });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_city.createMany({ data: citiesArr });
        }
        var citiesToDelete = alreadyAssignedCities.filter(function (n) {
            return !this.has(n);
        }, new Set(citiesInRequest));
        let citiesToBeDeleted = [];
        if (citiesToDelete) {
            citiesToBeDeleted = citiesToDelete;
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_city.deleteMany({
                where: {
                    cityid: { in: citiesToBeDeleted },
                    teamid: id
                },
            });
        }
        const teamEC = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_experiencecenters.findMany({ where: { teamid: id } });
        const alreadyAssignedEC = [];
        if (teamEC === null || teamEC === void 0 ? void 0 : teamEC.length) {
            teamEC.forEach(async (element) => {
                alreadyAssignedEC.push(element.centerid);
            });
        }
        let ECInRequest = [];
        ECInRequest = experiencecenters;
        var ECsToAdd = ECInRequest.filter(function (n) {
            return !this.has(n);
        }, new Set(alreadyAssignedEC));
        let ECsToBeAdded = [];
        const experiencecenterArr = [];
        if (ECsToAdd === null || ECsToAdd === void 0 ? void 0 : ECsToAdd.length) {
            ECsToBeAdded = ECsToAdd;
            ECsToBeAdded.forEach(async (element) => {
                experiencecenterArr.push({
                    teamid: id,
                    centerid: element,
                    created_at: new Date(),
                    updated_at: new Date(),
                });
            });
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_experiencecenters.createMany({ data: experiencecenterArr });
        }
        var ECsToDelete = alreadyAssignedEC.filter(function (n) {
            return !this.has(n);
        }, new Set(ECInRequest));
        let ECsToBeDeleted = [];
        if (ECsToDelete === null || ECsToDelete === void 0 ? void 0 : ECsToDelete.length) {
            ECsToBeDeleted = ECsToDelete;
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams_experiencecenters.deleteMany({
                where: {
                    centerid: { in: ECsToBeDeleted },
                    teamid: id
                },
            });
        }
        const teams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
            where: { id: id },
            include: {
                team_city: {
                    include: { city: true }
                },
                team_experiencecenters: {
                    include: { center: true }
                },
                departments: true
            }
        });
        let Team = await getteam(teams);
        Team = Team.Teams;
        teamResponseObj = { code: 200, message: "success", data: Team };
        return teamResponseObj;
    }
    catch (error) {
        teamResponseObj = { code: 400, message: error.message };
        return teamResponseObj;
    }
};
const getteam = async (teams) => {
    return {
        Teams: teams.map((team) => {
            return Object.assign(Object.assign({}, team), { cities: team.team_city.map((c) => {
                    return { name: c.city.name, id: c.city.id };
                }), experiencecenters: team.team_experiencecenters.map((c) => {
                    return { name: c.center.name, centerid: c.center.centerid };
                }) });
        })
    };
};


/***/ }),

/***/ "./src/api/teams/queries.ts":
/*!**********************************!*\
  !*** ./src/api/teams/queries.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllTeams": () => (/* binding */ getAllTeams),
/* harmony export */   "getFilteredTeam": () => (/* binding */ getFilteredTeam),
/* harmony export */   "getTeamById": () => (/* binding */ getTeamById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const getAllTeams = async () => {
    const teams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
        include: {
            team_city: {
                include: { city: true },
            },
            team_experiencecenters: {
                include: { center: true },
            },
            reportingmanageruser: true,
            departments: true,
        },
    });
    return {
        Teams: teams.map((team) => {
            return Object.assign(Object.assign({}, team), { cities: team.team_city.map((c) => {
                    return { name: c.city.name, id: c.city.id };
                }), experiencecenters: team.team_experiencecenters.map((c) => {
                    return { name: c.center.name, centerid: c.center.centerid };
                }) });
        }),
    };
};
const getTeamById = async (root, args, context) => {
    const { id } = args;
    try {
        const fetchedTeam = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findUnique({
            where: {
                id: id
            },
            include: {
                team_city: {
                    include: { city: true },
                },
                team_experiencecenters: {
                    include: { center: true },
                },
                departments: true,
            }
        });
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = Object.assign(Object.assign({}, fetchedTeam), { cities: fetchedTeam.team_city.map((c) => {
                return { name: c.city.name, id: c.city.id };
            }), experiencecenters: fetchedTeam.team_experiencecenters.map((c) => {
                return { name: c.center.name, centerid: c.center.centerid };
            }) });
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};
const getFilteredTeam = async (_root, args, _context) => {
    const { department } = args;
    const teams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
        where: { department: department },
        include: {
            team_city: {
                include: { city: true },
            },
            departments: true,
        },
    });
    return {
        Teams: teams.map((team) => {
            return Object.assign(Object.assign({}, team), { cities: team.team_city.map((c) => {
                    return { name: c.city.name };
                }) });
        }),
    };
};


/***/ }),

/***/ "./src/api/teams/resolvers.ts":
/*!************************************!*\
  !*** ./src/api/teams/resolvers.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "teamsResolver": () => (/* binding */ teamsResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _queries__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./queries */ "./src/api/teams/queries.ts");
/* harmony import */ var _mutations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mutations */ "./src/api/teams/mutations.ts");



const teamsResolver = {
    Query: {
        getAllTeams: async () => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getAllTeams)(),
        getFilteredTeams: async (parent, _args, context) => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getFilteredTeam)(parent, _args, context),
        getTeamById: async (parent, _args, context) => (0,_queries__WEBPACK_IMPORTED_MODULE_1__.getTeamById)(parent, _args, context)
    },
    Mutation: {
        addTeam: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.addTeam)(parent, _args, context),
        updateTeam: async (parent, _args, context) => (0,_mutations__WEBPACK_IMPORTED_MODULE_2__.updateTeam)(parent, _args, context)
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/teams/typedefs.ts":
/*!***********************************!*\
  !*** ./src/api/teams/typedefs.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "teamsTypedef": () => (/* binding */ teamsTypedef)
/* harmony export */ });
const teamsTypedef = `
    type Teams{
        name:String
        teammailid:String
        reportingmanager:String
        teamlead:String
        department:String
        odoo_id:String
        create_at:DateTime
        updated_at:DateTime
        id:Int
        teamsdepartment:Int
        departments:Department
        cities: [Cities]
        experiencecenters: [ExperienceCenters],
        reportingmanageruser:Users
    }
 
    type getAllTeams{
        Teams: [Teams!]!
    }

    type TeamResponse { 
        code:Int
        message: String
        data:[Teams!]!
    }

    type GetTeamByIdResponse{
        code:Int
        message: String
        data:Teams
    }

    type Query{
        getTeamById(id:Int):GetTeamByIdResponse
        getAllTeams: getAllTeams
        getFilteredTeams(pageIndex: Int, pageSize: Int,department: String): getAllTeams
    }

    type Mutation{
        addTeam(name:String!,
            odoo_id:String,
            reportingmanager:Int!,
            teamlead:String,
            teammailid:String!,
            experiencecenters: [Int]!
            cities: [Int]!,
            teamsdepartment: Int!,
            create_at:DateTime,
            updated_at:DateTime): TeamResponse  
         
        updateTeam(
            id:Int!
            name:String,
            odoo_id:String,
            reportingmanager:Int,
            teamlead:String,
            teammailid:String,
            experiencecenters: [Int]
            cities: [Int],
            teamsdepartment: Int,
            updated_at:DateTime): TeamResponse
    }
    scalar DateTime
`;


/***/ }),

/***/ "./src/api/typedefs.ts":
/*!*****************************!*\
  !*** ./src/api/typedefs.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GlobalTypedef": () => (/* binding */ GlobalTypedef)
/* harmony export */ });
const GlobalTypedef = `
type Profiles {
    profileid: Int!
    profile_name: String
    status: Boolean
    created_date: DateTime
    updated_at: DateTime
}
`;


/***/ }),

/***/ "./src/api/users/Mutations/GetUser.ts":
/*!********************************************!*\
  !*** ./src/api/users/Mutations/GetUser.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUser": () => (/* binding */ getUser)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Queries/GetAllUsers */ "./src/api/users/Queries/GetAllUsers.ts");


const getUser = async (id) => {
    try {
        const fetchedUser = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
            where: { userid: id },
            include: {
                users_city: {
                    include: { city: true },
                },
                users_experiencecenters: {
                    include: { center: true }
                },
                users_team: {
                    include: { team: true }
                }
            }
        });
        return (0,_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__.mapAllUsers)(fetchedUser);
    }
    catch (e) {
        return e.message;
    }
};


/***/ }),

/***/ "./src/api/users/Mutations/addUser.ts":
/*!********************************************!*\
  !*** ./src/api/users/Mutations/addUser.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addUser": () => (/* binding */ addUser)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/ProfileTypeEnumUtil */ "./src/domain/enumerations/ProfileTypeEnumUtil.ts");
/* harmony import */ var _domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../domain/services/baseUseCase/supportpalBaseUseCase */ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_4__);





const addUserToSf = async (user) => {
    const teamNamesArr = [];
    const experiencCentersArr = [];
    const citiesArr = [];
    const fetchedTeams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
        where: {
            OR: user.designer_team.map((team) => {
                return {
                    id: team,
                };
            }),
        },
    });
    fetchedTeams.forEach((team) => {
        teamNamesArr.push(team.name);
    });
    const fetchedExperienceCenters = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
        where: {
            OR: user.experience_center.map((exp) => {
                return {
                    centerid: exp,
                };
            }),
        },
    });
    fetchedExperienceCenters.forEach((exp) => {
        experiencCentersArr.push(exp.name);
    });
    const fetchedCities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
        where: {
            OR: user.region.map((city) => {
                return {
                    id: city,
                };
            }),
        },
    });
    fetchedCities.forEach((city) => {
        citiesArr.push(city.name);
    });
    const fetchedProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
        where: {
            profileid: user.role,
        },
    });
    const payload = {
        name: user.name,
        designer_dashboard_ID: user.designer_dashboard_ID,
        email: user.email,
        mobile: user.mobile,
        isActive: true,
        role: fetchedProfile.profile_name,
        designer_team: teamNamesArr.toString(),
        experience_center: experiencCentersArr.toString(),
        region: citiesArr.toString(),
    };
    const sfResponse = await superagent__WEBPACK_IMPORTED_MODULE_1___default().post(`${process.env.salesforceUrl}/designeruser`)
        .send(payload)
        .set("Content-Type", "application/json");
    if (sfResponse.body.StatusCode === "200") {
        return sfResponse.body.Designer_User_Id;
    }
    return null;
};
const addUser = async (_root, args, _context) => {
    let addUserResponseObj;
    try {
        const { empid, firstname, lastname, middlename, phonenumber, designcafeemail, profileid, reportingmanager, team, experiencecenters, city, } = args;
        const CheckEmailAlreadyExist = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.count({
            where: {
                designcafeemail: designcafeemail
            }
        });
        if (CheckEmailAlreadyExist > 0) {
            return { code: 400, message: 'Email already exists' };
        }
        const user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.create({
            data: {
                empid: empid,
                firstname,
                lastname,
                middlename,
                phonenumber,
                profileid,
                designcafeemail,
                reportingmanager,
                created_at: new Date(),
                updated_at: new Date(),
            },
        });
        const userPayloadForSF = {
            name: `${firstname === null || firstname === void 0 ? void 0 : firstname.trim()}${middlename ? " " + (middlename === null || middlename === void 0 ? void 0 : middlename.trim()) + " " : " "}${lastname === null || lastname === void 0 ? void 0 : lastname.trim()}`,
            designer_dashboard_ID: user.userid,
            email: designcafeemail,
            mobile: phonenumber,
            isActive: true,
            role: profileid,
            designer_team: team,
            experience_center: experiencecenters,
            region: city,
        };
        const userSFId = await addUserToSf(userPayloadForSF);
        console.log(user.userid, userSFId);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
            where: {
                userid: user.userid,
            },
            data: {
                salesforceuserid: userSFId,
            },
        });
        const userTeamArr = [];
        team.forEach(async (element) => {
            userTeamArr.push({
                userid: user.userid,
                teamid: element,
                created_at: new Date(),
                updated_at: new Date(),
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.createMany({ data: userTeamArr });
        const userCityArr = [];
        city.forEach(async (element) => {
            userCityArr.push({
                userid: user.userid,
                cityid: element,
                created_at: new Date(),
                updated_at: new Date(),
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_city.createMany({ data: userCityArr });
        const userEcArr = [];
        experiencecenters.forEach(async (element) => {
            userEcArr.push({
                userid: user.userid,
                centerid: element,
                created_at: new Date(),
                updated_at: new Date(),
            });
        });
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_experiencecenters.createMany({ data: userEcArr });
        const users = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
            where: { userid: user.userid },
            include: {
                users_city: {
                    include: { city: true },
                },
                users_experiencecenters: {
                    include: { center: true },
                },
                users_team: {
                    include: { team: true },
                },
            },
        });
        let response;
        if (user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.IN_HOUSE_DESIGNER ||
            user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.DESIGN_PARTNER) {
            await createSupportPalUser(user, 2, response);
        }
        else if (user.profileid === _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.CHM_EXECUTIVE) {
            await createSupportPalUser(user, 3, response);
        }
        addUserResponseObj = {
            code: 200,
            message: "Successfully added user",
            data: users.map((adduser) => {
                return Object.assign(Object.assign({}, adduser), { cities: adduser.users_city.map((c) => {
                        return { id: c.city.id };
                    }), experiencecenters: adduser.users_experiencecenters.map((c) => {
                        return { centerid: c.center.centerid };
                    }), teams: adduser.users_team.map((c) => {
                        return { id: c.team.id };
                    }) });
            }),
        };
        return addUserResponseObj;
    }
    catch (error) {
        addUserResponseObj = { code: 400, message: error.message };
        return addUserResponseObj;
    }
};
const createSupportPalUser = async (user, group, response) => {
    try {
        const operator = await (0,_domain_services_baseUseCase_supportpalBaseUseCase__WEBPACK_IMPORTED_MODULE_3__.SupportPalBaseUsecase)().createOperator({
            firstname: user.firstname,
            lastname: user.lastname,
            email: user.designcafeemail,
            password: process.env.supportPalDCPassword,
            group: group,
        });
        if (!operator.data.id) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_4___default())(400, "Unable to create operator in Salesforce!!");
        }
        console.log("operator.data.id ===========> ", operator.data.id);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
            data: { supportpaloperatorid: operator.data.id },
            where: { userid: user.userid },
        });
        return response;
    }
    catch (error) {
        return { code: 400, message: error.message };
    }
};


/***/ }),

/***/ "./src/api/users/Mutations/editUsers.ts":
/*!**********************************************!*\
  !*** ./src/api/users/Mutations/editUsers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "editUsers": () => (/* binding */ editUsers)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Queries/GetAllUsers */ "./src/api/users/Queries/GetAllUsers.ts");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_2__);



const addEditedUserDetailsToSf = async (user) => {
    const teamNamesArr = [];
    const experiencCentersArr = [];
    const citiesArr = [];
    const fetchedTeams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany({
        where: {
            OR: user.designer_team.map((team) => {
                return {
                    id: team,
                };
            }),
        },
    });
    fetchedTeams.forEach((team) => {
        teamNamesArr.push(team.name);
    });
    const fetchedExperienceCenters = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany({
        where: {
            OR: user.experience_center.map((exp) => {
                return {
                    centerid: exp,
                };
            }),
        },
    });
    fetchedExperienceCenters.forEach((exp) => {
        experiencCentersArr.push(exp.name);
    });
    const fetchedCities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany({
        where: {
            OR: user.region.map((city) => {
                return {
                    id: city,
                };
            }),
        },
    });
    fetchedCities.forEach((city) => {
        citiesArr.push(city.name);
    });
    const fetchedProfile = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findFirst({
        where: {
            profileid: user.role,
        },
    });
    const payload = {
        name: user.name,
        designer_dashboard_ID: user.designer_dashboard_ID,
        email: user.email,
        mobile: user.mobile,
        isActive: true,
        role: fetchedProfile.profile_name,
        designer_team: teamNamesArr.toString(),
        experience_center: experiencCentersArr.toString(),
        region: citiesArr.toString(),
    };
    const sfResponse = await superagent__WEBPACK_IMPORTED_MODULE_2___default().post(`${process.env.salesforceUrl}/designeruser`)
        .send(payload)
        .set("Content-Type", "application/json");
    console.log(sfResponse.body);
    if (sfResponse.body.StatusCode === "200") {
        return sfResponse.body.Designer_User_Id;
    }
    return null;
};
const editUsers = async (parent, args, context) => {
    const editUserResponse = {
        code: 200,
        message: "",
        users: null
    };
    try {
        const { id, empid, departmentid, firstname, middlename, lastname, username, phonenumber, designcafeemail, reportingmanager, isbetauser, profileid, cities, experiencecenters, teams } = args;
        const user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.update({
            data: { empid, departmentid, firstname, middlename, lastname, username, phonenumber, designcafeemail, reportingmanager, isbetauser, profileid },
            where: {
                userid: id
            }
        });
        const userPayloadForSF = {
            name: `${firstname === null || firstname === void 0 ? void 0 : firstname.trim()}${middlename ? " " + (middlename === null || middlename === void 0 ? void 0 : middlename.trim()) + " " : " "}${lastname === null || lastname === void 0 ? void 0 : lastname.trim()}`,
            designer_dashboard_ID: user.userid,
            email: designcafeemail,
            mobile: phonenumber,
            isActive: true,
            role: profileid,
            designer_team: teams,
            experience_center: experiencecenters,
            region: cities,
        };
        const userSFId = await addEditedUserDetailsToSf(userPayloadForSF);
        console.log('*************************');
        console.log(user.userid, userSFId);
        console.log('*************************');
        if (cities) {
            const userCity = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_city.findMany({ where: { userid: id } });
            await manageCitiesWhileEditing(userCity, cities, id);
        }
        if (experiencecenters) {
            const userEC = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_experiencecenters.findMany({ where: { userid: id } });
            await manageECwhileEditing(userEC, experiencecenters, id);
        }
        if (teams) {
            const userTeams = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.findMany({ where: { userid: id } });
            console.log(45, userTeams);
            await manageTeamsWhileEditing(userTeams, teams, id);
        }
        const fetchedUserByUserId = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
            where: {
                userid: id
            },
            include: {
                users_city: {
                    include: { city: true },
                },
                users_experiencecenters: {
                    include: { center: true }
                },
                users_team: {
                    include: { team: true }
                }
            }
        });
        editUserResponse.users = (0,_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_1__.mapAllUsers)(fetchedUserByUserId);
    }
    catch (e) {
        console.log(69, e);
        editUserResponse.code = 400;
        editUserResponse.message = e.message;
        editUserResponse.users = null;
    }
    return editUserResponse;
};
const manageCitiesWhileEditing = async (userCity, cities, userid) => {
    const citiesToBeAdded = [];
    const citiesToBeDeleted = [];
    cities.forEach((city) => {
        const isCityAlreadyAdded = userCity.find((cityAssignedToUser) => {
            return cityAssignedToUser.cityid === city;
        });
        if (!isCityAlreadyAdded) {
            citiesToBeAdded.push({
                userid: userid,
                cityid: city,
                created_at: new Date(),
                updated_at: new Date()
            });
        }
    });
    userCity.forEach((cityAssignedToUser) => {
        if (!cities.includes(cityAssignedToUser.cityid)) {
            citiesToBeDeleted.push(cityAssignedToUser.cityid);
        }
    });
    if (citiesToBeAdded.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_city.createMany({ data: citiesToBeAdded });
    }
    if (citiesToBeDeleted.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_city.deleteMany({
            where: {
                cityid: { in: citiesToBeDeleted },
                userid: userid
            },
        });
    }
};
const manageECwhileEditing = async (userEC, experiencecenters, userid) => {
    const ecToBeAdded = [];
    const ecToBeDeleted = [];
    experiencecenters.forEach((ec) => {
        const isECAlreadyAdded = userEC.find((experiencCentersAssignedToUsers) => {
            return experiencCentersAssignedToUsers.centerid === ec;
        });
        if (!isECAlreadyAdded) {
            ecToBeAdded.push({
                userid: userid,
                centerid: ec,
                created_at: new Date(),
                updated_at: new Date()
            });
        }
    });
    userEC.forEach((experiencCentersAssignedToUsers) => {
        if (!experiencecenters.includes(experiencCentersAssignedToUsers.centerid)) {
            ecToBeDeleted.push(experiencCentersAssignedToUsers.centerid);
        }
    });
    if (ecToBeAdded.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_experiencecenters.createMany({
            data: ecToBeAdded
        });
    }
    if (ecToBeDeleted.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_experiencecenters.deleteMany({
            where: {
                centerid: { in: ecToBeDeleted },
                userid: userid
            },
        });
    }
};
const manageTeamsWhileEditing = async (userTeams, teams, userid) => {
    const teamsToBeAdded = [];
    const teamsToBeDeleted = [];
    teams.forEach((team) => {
        const isTeamsAlreadyAdded = userTeams.find((teamAssignedToUser) => {
            return teamAssignedToUser.teamid === team;
        });
        if (!isTeamsAlreadyAdded) {
            teamsToBeAdded.push({
                userid: userid,
                teamid: team,
                created_at: new Date(),
                updated_at: new Date()
            });
        }
    });
    userTeams.forEach((teamAssignedToUser) => {
        if (!teams.includes(teamAssignedToUser.teamid)) {
            teamsToBeDeleted.push(teamAssignedToUser.teamid);
        }
    });
    if (teamsToBeAdded.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.createMany({
            data: teamsToBeAdded
        });
    }
    if (teamsToBeDeleted.length > 0) {
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users_team.deleteMany({
            where: {
                teamid: { in: teamsToBeDeleted },
                userid: userid
            },
        });
    }
};


/***/ }),

/***/ "./src/api/users/Queries/GetAllDesigners.ts":
/*!**************************************************!*\
  !*** ./src/api/users/Queries/GetAllDesigners.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllDesigners": () => (/* binding */ getAllDesigners)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/enumerations/ProfileTypeEnumUtil */ "./src/domain/enumerations/ProfileTypeEnumUtil.ts");


const getAllDesigners = async (_root, _args, _context) => {
    const getAllDesignersResponse = {
        code: 200,
        message: "success",
        designers: null
    };
    try {
        const whereCondition = {};
        whereCondition.OR = [];
        whereCondition.OR.push({ profileid: _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__.ProfileTypeEnumCode.STUDIO_MANAGER_DP }, { profileid: _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__.ProfileTypeEnumCode.IN_HOUSE_DESIGNER }, { profileid: _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__.ProfileTypeEnumCode.ASSOCIATE_STUDIO_MANAGER }, { profileid: _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__.ProfileTypeEnumCode.STUDIO_MANAGER }, { profileid: _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_1__.ProfileTypeEnumCode.DESIGN_PARTNER });
        const allDesigners = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
            where: whereCondition
        });
        console.log(allDesigners);
        getAllDesignersResponse.designers = allDesigners;
    }
    catch (e) {
        getAllDesignersResponse.code = 400;
        getAllDesignersResponse.message = e.message;
        getAllDesignersResponse.designers = null;
    }
    return getAllDesignersResponse;
};


/***/ }),

/***/ "./src/api/users/Queries/GetAllUsers.ts":
/*!**********************************************!*\
  !*** ./src/api/users/Queries/GetAllUsers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllUsers": () => (/* binding */ getAllUsers),
/* harmony export */   "mapAllUsers": () => (/* binding */ mapAllUsers)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getAllUsers = async (_root, args, _context) => {
    const { userType } = args;
    const getAllUsersResponse = {
        code: 200,
        message: "",
        users: null,
    };
    try {
        const allUsers = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findMany({
            where: {
                profileid: userType
            },
            include: {
                users_city: {
                    include: { city: true },
                },
                profile: true,
                users_experiencecenters: {
                    include: { center: true },
                },
                users_team: {
                    include: { team: true },
                },
            }
        });
        getAllUsersResponse.users = mapAllUsers(allUsers);
    }
    catch (e) {
        console.log(38, e);
        getAllUsersResponse.code = 400;
        getAllUsersResponse.message = e.message;
        getAllUsersResponse.users = null;
    }
    return getAllUsersResponse;
};
const mapAllUsers = (allUsers) => {
    return allUsers.map((user) => {
        return Object.assign(Object.assign({}, user), { cities: user.users_city.map((userCity) => {
                var _a, _b, _c, _d, _e, _f;
                return {
                    name: (_a = userCity.city) === null || _a === void 0 ? void 0 : _a.name,
                    status: (_b = userCity.city) === null || _b === void 0 ? void 0 : _b.status,
                    odoo_id: (_c = userCity.city) === null || _c === void 0 ? void 0 : _c.odoo_id,
                    created_at: (_d = userCity.city) === null || _d === void 0 ? void 0 : _d.created_at,
                    updated_at: (_e = userCity.city) === null || _e === void 0 ? void 0 : _e.updated_at,
                    id: (_f = userCity.city) === null || _f === void 0 ? void 0 : _f.id,
                };
            }), teams: user.users_team.map((usersTeam) => {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
                return {
                    name: (_a = usersTeam.team) === null || _a === void 0 ? void 0 : _a.name,
                    teammailid: (_b = usersTeam.team) === null || _b === void 0 ? void 0 : _b.teammailid,
                    reportingmanager: (_c = usersTeam.team) === null || _c === void 0 ? void 0 : _c.reportingmanager,
                    teamlead: (_d = usersTeam.team) === null || _d === void 0 ? void 0 : _d.teamlead,
                    department: (_e = usersTeam.team) === null || _e === void 0 ? void 0 : _e.department,
                    odoo_id: (_f = usersTeam.team) === null || _f === void 0 ? void 0 : _f.odoo_id,
                    create_at: (_g = usersTeam.team) === null || _g === void 0 ? void 0 : _g.create_at,
                    updated_at: (_h = usersTeam.team) === null || _h === void 0 ? void 0 : _h.updated_at,
                    id: (_j = usersTeam.team) === null || _j === void 0 ? void 0 : _j.id,
                    teamsdepartment: (_k = usersTeam.team) === null || _k === void 0 ? void 0 : _k.teamsdepartment,
                };
            }), experiencecenters: user.users_experiencecenters.map((usersExperienceCenters) => {
                var _a, _b, _c, _d, _e, _f, _g, _h, _j;
                return {
                    centerid: (_a = usersExperienceCenters.center) === null || _a === void 0 ? void 0 : _a.centerid,
                    name: (_b = usersExperienceCenters.center) === null || _b === void 0 ? void 0 : _b.name,
                    odoo_id: (_c = usersExperienceCenters.center) === null || _c === void 0 ? void 0 : _c.odoo_id,
                    created_at: (_d = usersExperienceCenters.center) === null || _d === void 0 ? void 0 : _d.created_at,
                    updated_at: (_e = usersExperienceCenters.center) === null || _e === void 0 ? void 0 : _e.updated_at,
                    ectype: (_f = usersExperienceCenters.center) === null || _f === void 0 ? void 0 : _f.ectype,
                    address: (_g = usersExperienceCenters.center) === null || _g === void 0 ? void 0 : _g.address,
                    centerhead: (_h = usersExperienceCenters.center) === null || _h === void 0 ? void 0 : _h.centerhead,
                    city: (_j = usersExperienceCenters.center) === null || _j === void 0 ? void 0 : _j.city,
                };
            }) });
    });
};


/***/ }),

/***/ "./src/api/users/Queries/GetUserById.ts":
/*!**********************************************!*\
  !*** ./src/api/users/Queries/GetUserById.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUserById": () => (/* binding */ getUserById)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils/commonUtils */ "./src/utils/commonUtils.ts");


const getUserById = async (_root, args, _context) => {
    const { id } = args;
    try {
        const fetchedUser = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_users.findUnique({
            where: {
                userid: id,
            },
            include: {
                users_city: {
                    include: { city: true },
                },
                profile: true,
                users_experiencecenters: {
                    include: { center: true },
                },
                users_team: {
                    include: { team: true },
                },
            },
        });
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 200;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.data = Object.assign(Object.assign({}, fetchedUser), { cities: fetchedUser.users_city.map((userCity) => {
                return {
                    name: userCity.city.name,
                    status: userCity.city.status,
                    odoo_id: userCity.city.odoo_id,
                    created_at: userCity.city.created_at,
                    updated_at: userCity.city.updated_at,
                    id: userCity.city.id,
                };
            }), teams: fetchedUser.users_team.map((usersTeam) => {
                return {
                    name: usersTeam.team.name,
                    teammailid: usersTeam.team.teammailid,
                    reportingmanager: usersTeam.team.reportingmanager,
                    teamlead: usersTeam.team.teamlead,
                    department: usersTeam.team.department,
                    odoo_id: usersTeam.team.odoo_id,
                    create_at: usersTeam.team.create_at,
                    updated_at: usersTeam.team.updated_at,
                    id: usersTeam.team.id,
                    teamsdepartment: usersTeam.team.teamsdepartment,
                };
            }), experiencecenters: fetchedUser.users_experiencecenters.map((usersExperienceCenters) => {
                return {
                    centerid: usersExperienceCenters.center.centerid,
                    name: usersExperienceCenters.center.name,
                    odoo_id: usersExperienceCenters.center.odoo_id,
                    created_at: usersExperienceCenters.center.created_at,
                    updated_at: usersExperienceCenters.center.updated_at,
                    ectype: usersExperienceCenters.center.ectype,
                    address: usersExperienceCenters.center.address,
                    centerhead: usersExperienceCenters.center.centerhead,
                    city: usersExperienceCenters.center.city,
                };
            }) });
    }
    catch (e) {
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.code = 400;
        _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj.message = e.message;
    }
    return _utils_commonUtils__WEBPACK_IMPORTED_MODULE_1__.defaultResponseObj;
};


/***/ }),

/***/ "./src/api/users/Queries/GetUserDetailsByAuth.ts":
/*!*******************************************************!*\
  !*** ./src/api/users/Queries/GetUserDetailsByAuth.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getUserDetailsByAuth": () => (/* binding */ getUserDetailsByAuth)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");

const getUserDetailsByAuth = async (_parent, _args, context) => {
    const getUserByAuthResponse = { code: 200, message: "", data: null };
    try {
        const userDetails = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        getUserByAuthResponse.data = userDetails;
        getUserByAuthResponse.message = "Success";
    }
    catch (e) {
        getUserByAuthResponse.code = 400;
        getUserByAuthResponse.message = e.message;
    }
    return getUserByAuthResponse;
};


/***/ }),

/***/ "./src/api/users/Queries/ManageUsers.ts":
/*!**********************************************!*\
  !*** ./src/api/users/Queries/ManageUsers.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getManageUsersData": () => (/* binding */ getManageUsersData)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");

const getManageUsersData = async (parent, _args, context) => {
    return {
        Cities: _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_cities.findMany(),
        Departments: _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_department.findMany(),
        Teams: _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_teams.findMany(),
        Profiles: _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_profile.findMany(),
        ExperienceCenters: _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_experiencecenters.findMany(),
    };
};


/***/ }),

/***/ "./src/api/users/Queries/ReIssueAccessToken.ts":
/*!*****************************************************!*\
  !*** ./src/api/users/Queries/ReIssueAccessToken.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reIssueAccessToken": () => (/* binding */ reIssueAccessToken)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/JwtAuthControl */ "./src/core/authControl/JwtAuthControl.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities */ "./src/api/users/utilities.ts");





const reIssueAccessToken = async (_root, args, _context) => {
    var _a, _b, _c, _d, _e, _f;
    try {
        const token = args.refreshToken;
        const userInfo = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, process.env.jwtSecretRefreshToken, {
            ignoreExpiration: true,
        });
        if (!userInfo.payload.designCafeEmail) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, "Something went wrong");
        }
        const email = (_b = (_a = userInfo === null || userInfo === void 0 ? void 0 : userInfo.payload) === null || _a === void 0 ? void 0 : _a.designCafeEmail) === null || _b === void 0 ? void 0 : _b.toLowerCase();
        const user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_users.findFirst({
            where: { designcafeemail: email },
            include: {
                profile: true,
            },
        });
        if (!user) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "User not found");
        }
        const rfToken = user === null || user === void 0 ? void 0 : user.refreshtoken;
        if (rfToken !== token) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_users.update({
                where: { userid: user === null || user === void 0 ? void 0 : user.userid },
                data: {
                    refreshtoken: null,
                },
            });
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, "Bad request");
        }
        const dateNow = new Date();
        const utcSeconds = userInfo.exp;
        const expiry = new Date(0);
        expiry.setUTCSeconds(utcSeconds);
        const data = {};
        if (expiry < dateNow) {
            await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_users.update({
                where: { userid: user === null || user === void 0 ? void 0 : user.userid },
                data: {
                    refreshtoken: null,
                },
            });
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(440, "Session expired. Please re-login");
        }
        const loginToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.userid,
            designCafeEmail: email,
            role: (_c = user === null || user === void 0 ? void 0 : user.profile) === null || _c === void 0 ? void 0 : _c.profile_name,
            permissions: (0,_utilities__WEBPACK_IMPORTED_MODULE_4__.createPermissionsJson)((_d = user === null || user === void 0 ? void 0 : user.profile) === null || _d === void 0 ? void 0 : _d.permissions),
        }, process.env.jwtSecretAccessToken, process.env.jwtExpiryAccessToken);
        const refreshToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.userid,
            designCafeEmail: email,
            role: (_e = user === null || user === void 0 ? void 0 : user.profile) === null || _e === void 0 ? void 0 : _e.profile_name,
        }, process.env.jwtSecretRefreshToken, process.env.jwtExpiryRefreshToken);
        const firstName = user.firstname ? user.firstname.trim() : "";
        const middleName = user.middlename ? user.middlename.trim() : "";
        const lastName = user.lastname ? user.lastname.trim() : "";
        const userName = `${firstName}${middleName ? " " + middleName + " " : " "}${lastName}`;
        data.role = (_f = user === null || user === void 0 ? void 0 : user.profile) === null || _f === void 0 ? void 0 : _f.profile_name;
        data.roleId = user === null || user === void 0 ? void 0 : user.profileid;
        data.loginToken = loginToken;
        data.refreshToken = refreshToken;
        data.userName = userName;
        data.email = user === null || user === void 0 ? void 0 : user.designcafeemail;
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_3__.prisma.dc_users.update({
            where: { userid: user === null || user === void 0 ? void 0 : user.userid },
            data: {
                lastlogindate: new Date(),
                refreshtoken: refreshToken,
            },
        });
        return { code: 200, message: "success", data };
    }
    catch (error) {
        console.error(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/users/Queries/UserAuthenticateApiUseCase.ts":
/*!*************************************************************!*\
  !*** ./src/api/users/Queries/UserAuthenticateApiUseCase.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "googleAuthorize": () => (/* binding */ googleAuthorize)
/* harmony export */ });
/* harmony import */ var _domain_services_oAuth_GoogleOAuth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../domain/services/oAuth/GoogleOAuth */ "./src/domain/services/oAuth/GoogleOAuth.ts");

const googleAuthorize = () => {
    try {
        const client = (0,_domain_services_oAuth_GoogleOAuth__WEBPACK_IMPORTED_MODULE_0__.GoogleOAuth)({
            clientId: process.env.googleAuthClientId,
            clientSecret: process.env.googleAuthSecretKey,
            redirectionUrl: process.env.googleAuthCallbackUrl,
        });
        const url = client.getAuthorizeUrl([
            "https://www.googleapis.com/auth/userinfo.email",
            "https://www.googleapis.com/auth/userinfo.profile",
        ]);
        return { code: 200, message: "success", url: url };
    }
    catch (error) {
        console.error(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/users/Queries/UserAuthenticateCallBack.ts":
/*!***********************************************************!*\
  !*** ./src/api/users/Queries/UserAuthenticateCallBack.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "googleAuthorizeCallBack": () => (/* binding */ googleAuthorizeCallBack)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _domain_services_oAuth_GoogleOAuth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/oAuth/GoogleOAuth */ "./src/domain/services/oAuth/GoogleOAuth.ts");
/* harmony import */ var _core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authControl/JwtAuthControl */ "./src/core/authControl/JwtAuthControl.ts");
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utilities */ "./src/api/users/utilities.ts");






const googleAuthorizeCallBack = async (_root, args, _context) => {
    var _a, _b, _c, _d;
    try {
        const client = (0,_domain_services_oAuth_GoogleOAuth__WEBPACK_IMPORTED_MODULE_1__.GoogleOAuth)({
            clientId: process.env.googleAuthClientId,
            clientSecret: process.env.googleAuthSecretKey,
            redirectionUrl: process.env.googleAuthCallbackUrl,
        });
        const code = args.code;
        const token = await client.getAccessToken(code);
        const userInfo = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.decodeWithoutVerifying)(token === null || token === void 0 ? void 0 : token.id_token);
        if (!userInfo.email) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(201, "Something went wrong, please contact admin.");
        }
        const email = userInfo.email.toLowerCase();
        await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_3__.domainVerification)(email);
        const user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_users.findFirst({
            where: { designcafeemail: email },
            include: {
                profile: true,
            },
        });
        if (!user) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "Sorry Couldn't find your account on the dashboard contact Admin if your account was not created yet, else check if you've logged in with the correct email address");
        }
        const loginToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.userid,
            designCafeEmail: email,
            role: (_a = user === null || user === void 0 ? void 0 : user.profile) === null || _a === void 0 ? void 0 : _a.profile_name,
            permissions: (0,_utilities__WEBPACK_IMPORTED_MODULE_5__.createPermissionsJson)((_b = user === null || user === void 0 ? void 0 : user.profile) === null || _b === void 0 ? void 0 : _b.permissions),
        }, process.env.jwtSecretAccessToken, process.env.jwtExpiryAccessToken);
        const refreshToken = (0,_core_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.sign)({
            id: user === null || user === void 0 ? void 0 : user.userid,
            designCafeEmail: email,
            role: (_c = user === null || user === void 0 ? void 0 : user.profile) === null || _c === void 0 ? void 0 : _c.profile_name,
        }, process.env.jwtSecretRefreshToken, process.env.jwtExpiryRefreshToken);
        await _prismaConfig__WEBPACK_IMPORTED_MODULE_4__.prisma.dc_users.update({
            where: { userid: user === null || user === void 0 ? void 0 : user.userid },
            data: {
                lastlogindate: new Date(),
                refreshtoken: refreshToken,
            },
        });
        const firstName = user.firstname ? user.firstname.trim() : "";
        const middleName = user.middlename ? user.middlename.trim() : "";
        const lastName = user.lastname ? user.lastname.trim() : "";
        const userName = `${firstName}${middleName ? " " + middleName + " " : " "}${lastName}`;
        const data = {
            loginToken,
            refreshToken,
            role: (_d = user === null || user === void 0 ? void 0 : user.profile) === null || _d === void 0 ? void 0 : _d.profile_name,
            roleId: user === null || user === void 0 ? void 0 : user.profileid,
            userName,
            email: user === null || user === void 0 ? void 0 : user.designcafeemail,
        };
        return { code: 200, message: "success", data };
    }
    catch (error) {
        console.error(error);
        throw error;
    }
};


/***/ }),

/***/ "./src/api/users/resolver.ts":
/*!***********************************!*\
  !*** ./src/api/users/resolver.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "usersResolver": () => (/* binding */ usersResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _users_Queries_ManageUsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../users/Queries/ManageUsers */ "./src/api/users/Queries/ManageUsers.ts");
/* harmony import */ var _users_Queries_UserAuthenticateApiUseCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../users/Queries/UserAuthenticateApiUseCase */ "./src/api/users/Queries/UserAuthenticateApiUseCase.ts");
/* harmony import */ var _users_Queries_UserAuthenticateCallBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../users/Queries/UserAuthenticateCallBack */ "./src/api/users/Queries/UserAuthenticateCallBack.ts");
/* harmony import */ var _Mutations_editUsers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mutations/editUsers */ "./src/api/users/Mutations/editUsers.ts");
/* harmony import */ var _Mutations_addUser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Mutations/addUser */ "./src/api/users/Mutations/addUser.ts");
/* harmony import */ var _Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Queries/GetAllUsers */ "./src/api/users/Queries/GetAllUsers.ts");
/* harmony import */ var _Queries_ReIssueAccessToken__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Queries/ReIssueAccessToken */ "./src/api/users/Queries/ReIssueAccessToken.ts");
/* harmony import */ var _Queries_GetUserDetailsByAuth__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Queries/GetUserDetailsByAuth */ "./src/api/users/Queries/GetUserDetailsByAuth.ts");
/* harmony import */ var _Queries_GetAllDesigners__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Queries/GetAllDesigners */ "./src/api/users/Queries/GetAllDesigners.ts");
/* harmony import */ var _Queries_GetUserById__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Queries/GetUserById */ "./src/api/users/Queries/GetUserById.ts");











const usersResolver = {
    Query: {
        allManageUsersData: async (parent, _args, context) => (0,_users_Queries_ManageUsers__WEBPACK_IMPORTED_MODULE_1__.getManageUsersData)(parent, _args, context),
        googleAuthorize: () => (0,_users_Queries_UserAuthenticateApiUseCase__WEBPACK_IMPORTED_MODULE_2__.googleAuthorize)(),
        googleAuthorizeCallBack: async (parent, _args, context) => (0,_users_Queries_UserAuthenticateCallBack__WEBPACK_IMPORTED_MODULE_3__.googleAuthorizeCallBack)(parent, _args, context),
        reIssueAccessToken: async (parent, _args, context) => (0,_Queries_ReIssueAccessToken__WEBPACK_IMPORTED_MODULE_7__.reIssueAccessToken)(parent, _args, context),
        getAllUsers: async (parent, _args, context) => (0,_Queries_GetAllUsers__WEBPACK_IMPORTED_MODULE_6__.getAllUsers)(parent, _args, context),
        getUserDetailsByAuth: async (parent, _args, context) => (0,_Queries_GetUserDetailsByAuth__WEBPACK_IMPORTED_MODULE_8__.getUserDetailsByAuth)(parent, _args, context),
        getAllDesigners: async (parent, _args, context) => (0,_Queries_GetAllDesigners__WEBPACK_IMPORTED_MODULE_9__.getAllDesigners)(parent, _args, context),
        getUserById: async (parent, _args, context) => (0,_Queries_GetUserById__WEBPACK_IMPORTED_MODULE_10__.getUserById)(parent, _args, context),
    },
    Mutation: {
        updateUser: (parent, _args, context) => (0,_Mutations_editUsers__WEBPACK_IMPORTED_MODULE_4__.editUsers)(parent, _args, context),
        addUser: async (parent, _args, context) => (0,_Mutations_addUser__WEBPACK_IMPORTED_MODULE_5__.addUser)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/users/typedef.ts":
/*!**********************************!*\
  !*** ./src/api/users/typedef.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "usersTypedef": () => (/* binding */ usersTypedef)
/* harmony export */ });
const usersTypedef = `

    type AllManageUsersData{
        Cities: [Cities!]!,
        Departments: [Department!]!
        Teams: [Teams!]!
        Profiles: [Profiles!]!
        ExperienceCenters: [ExperienceCenters!]!    
    }

    type Users {
        userid : Int!
        roleid : Int
        profile: Profiles
        empid : String
        departmentid : Int
        salesforceimported : Boolean
        firstname : String
        lastname : String
        middlename : String
        username : String
        phonenumber : String
        designcafeemail : String
        reportingmanager : Int
        salesforceuserid : String
        isbetauser : Boolean
        profilepic : String
        lastlogindate : DateTime
        logintoken: String
        refreshtoken: String
        created_at : DateTime
        updated_at : DateTime
        cities: [Cities]
        teams : [Teams]
        experiencecenters : [ExperienceCenters]
    }

    type addUserResponse {
        code: Int
        message: String
        data: [Users]
    } 

    type GetUserDetailsByIdResponse{
        code: Int,
        message: String,
        data: Users
    }

    type GetAllUserResponse {
        code: Int,
        message: String,
        users: [Users]
    }

    type GetUserByIdResponse{
        code: Int,
        message: String,
        data: Users
    }

    type EditUserResponse {
        code: Int,
        message: String,
        users: [Users]
    }
    
    type GoogleAuthorizeResponse {
        code: Int,
        message: String
        url: String
    }

    type GoogleAuthorizeCallbackResponse {
        code: Int!
        message: String!
        data: tokenResponseDD!
    }

    type tokenResponseDD {
        loginToken: String!,
        refreshToken: String!,
        role: String,
        roleId: Int,
        userName: String!,
        email: String!
    }

    type reIssueAccessTokenResponse {
        code: Int!
        message: String!
        data: tokenResponseDD!
    }

    type GetAllDesignersResponse {
        code: Int,
        message: String,
        designers: [Users]
    }

    type Query {
        allManageUsersData: AllManageUsersData
        googleAuthorizeCallBack(code:String): GoogleAuthorizeCallbackResponse
        googleAuthorize: GoogleAuthorizeResponse
        getUserDetailsByAuth:GetUserDetailsByIdResponse
        reIssueAccessToken(refreshToken: String): reIssueAccessTokenResponse
        getAllUsers(userType:Int): GetAllUserResponse
        getAllDesigners: GetAllDesignersResponse
        getUserById(id:Int):GetUserByIdResponse 
    }

    type Mutation{
        updateUser(  
            id:Int,  
            empid:String,
            departmentid:Int,
            firstname:String,
            middlename:String
            lastname:String,
            username:String,
            phonenumber:String,
            designcafeemail:String,
            reportingmanager:Int,
            isbetauser:Boolean,
            profileid:Int,
            cities:[Int],
            experiencecenters:[Int],
            teams:[Int]
            ): EditUserResponse

            addUser (
                empid : String,
                firstname : String,
                lastname : String,
                middlename : String,      
                phonenumber : String,
                designcafeemail : String,
                reportingmanager : Int,
                experiencecenters: [Int],
                profileid:Int,
                team: [Int],
                city: [Int],
                created_at : DateTime,
                updated_at : DateTime
                ): addUserResponse
    }

    scalar DateTime
`;


/***/ }),

/***/ "./src/api/users/utilities.ts":
/*!************************************!*\
  !*** ./src/api/users/utilities.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createPermissionsJson": () => (/* binding */ createPermissionsJson)
/* harmony export */ });
const createPermissionsJson = (jsonData) => {
    let data = JSON.stringify(jsonData.permission_details);
    switch (true) {
        case data.includes("true"):
            data = replaceElementInObject(data, "true", "1");
        case data.includes("false"):
            data = replaceElementInObject(data, "false", "0");
        case data.includes("screenName"):
            data = replaceElementInObject(data, "screenName", "sn");
        case data.includes("isChecked"):
            data = replaceElementInObject(data, "isChecked", "ic");
        case data.includes("components"):
            data = replaceElementInObject(data, "components", "c");
        case data.includes("componentName"):
            data = replaceElementInObject(data, "componentName", "cn");
        case data.includes("attributes"):
            data = replaceElementInObject(data, "attributes", "a");
        case data.includes("attributeName"):
            data = replaceElementInObject(data, "attributeName", "an");
        case data.includes("isEditable"):
            data = replaceElementInObject(data, "isEditable", "ie");
        case data.includes("subComponents"):
            data = replaceElementInObject(data, "subComponents", "sc");
        case data.includes("subComponentName"):
            data = replaceElementInObject(data, "subComponentName", "scn");
    }
    const changedData = JSON.parse(data);
    removeEmptyArrays(changedData);
    console.log({ changedData });
    return changedData;
};
const replaceElementInObject = (data, element, changeString) => {
    return data.replace(new RegExp(element, "g"), changeString);
};
const removeEmptyArrays = (changedData) => {
    changedData.forEach((element) => {
        for (const key in element) {
            if (Array.isArray(element[key])) {
                if (!element[key].length) {
                    delete element[key];
                }
                else {
                    removeEmptyArrays(element[key]);
                }
            }
        }
    });
};


/***/ }),

/***/ "./src/api/widgets/Queries/achievedRevenue.ts":
/*!****************************************************!*\
  !*** ./src/api/widgets/Queries/achievedRevenue.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "achievedRevenue": () => (/* binding */ achievedRevenue)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_achievedRevenueRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/achievedRevenueRatio */ "./src/domain/services/widgetServices/achievedRevenueRatio.ts");


const achievedRevenue = async (root, args, context) => {
    let totalAchievedRevenueRespone;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_achievedRevenueRatio__WEBPACK_IMPORTED_MODULE_1__.achievedRevenueRatio)(user, args.month);
                break;
            default:
                totalAchievedRevenueRespone = { code: 200, message: "Dashboards will be added soon for this profile" };
                return totalAchievedRevenueRespone;
        }
        totalAchievedRevenueRespone = { code: 200, message: "success", totalachievedrevenue: res, monthlytarget: user.monthlytarget };
        return totalAchievedRevenueRespone;
    }
    catch (error) {
        totalAchievedRevenueRespone = { code: 400, message: error.message };
        return totalAchievedRevenueRespone;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/broadcastedLeads.ts":
/*!*****************************************************!*\
  !*** ./src/api/widgets/Queries/broadcastedLeads.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "broadcastedLeads": () => (/* binding */ broadcastedLeads)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_broadcastedLeadsRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/broadcastedLeadsRatio */ "./src/domain/services/widgetServices/broadcastedLeadsRatio.ts");


const broadcastedLeads = async (root, args, context) => {
    let broadcastedLeadsResponse;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_broadcastedLeadsRatio__WEBPACK_IMPORTED_MODULE_1__.broadcastedLeadsRatio)(user);
                break;
            default:
                broadcastedLeadsResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return broadcastedLeadsResponse;
        }
        broadcastedLeadsResponse = { code: 200, message: "success", leads: res };
        return broadcastedLeadsResponse;
    }
    catch (error) {
        broadcastedLeadsResponse = { code: 400, message: error.message };
        return broadcastedLeadsResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/conversion.ts":
/*!***********************************************!*\
  !*** ./src/api/widgets/Queries/conversion.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "conversion": () => (/* binding */ conversion)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_leadSummaryRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/leadSummaryRatio */ "./src/domain/services/widgetServices/leadSummaryRatio.ts");


const conversion = async (root, args, context) => {
    const { month } = args;
    let conversionResponse;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_leadSummaryRatio__WEBPACK_IMPORTED_MODULE_1__.leadSummaryRatio)(user, month);
                break;
            default:
                conversionResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return conversionResponse;
        }
        conversionResponse = { code: 200, message: "success", percentage: res.percentage, totalMeetingDone: res.meetingDone, closedWon: res.closeWon };
        return conversionResponse;
    }
    catch (error) {
        conversionResponse = { code: 400, message: error.message };
        return conversionResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/leadSummary.ts":
/*!************************************************!*\
  !*** ./src/api/widgets/Queries/leadSummary.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "leadSummary": () => (/* binding */ leadSummary)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_leadSummaryRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/leadSummaryRatio */ "./src/domain/services/widgetServices/leadSummaryRatio.ts");


const leadSummary = async (root, args, context) => {
    const { month } = args;
    let leadSummaryResponse;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_leadSummaryRatio__WEBPACK_IMPORTED_MODULE_1__.leadSummaryRatio)(user, month);
                break;
            default:
                leadSummaryResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return leadSummaryResponse;
        }
        leadSummaryResponse = { code: 200, message: "success", data: res };
        return leadSummaryResponse;
    }
    catch (error) {
        leadSummaryResponse = { code: 200, message: error.message };
        return leadSummaryResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/proposalSent.ts":
/*!*************************************************!*\
  !*** ./src/api/widgets/Queries/proposalSent.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "proposalSent": () => (/* binding */ proposalSent)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_proposalSentRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/proposalSentRatio */ "./src/domain/services/widgetServices/proposalSentRatio.ts");


const proposalSent = async (root, args, context) => {
    let proposalSentResponse;
    const { month } = args;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_proposalSentRatio__WEBPACK_IMPORTED_MODULE_1__.proposalSentRatio)(user, month);
                break;
            default:
                proposalSentResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return proposalSentResponse;
        }
        console.log(res);
        proposalSentResponse = { code: 200, message: "success", percentage: res.percentage, totalMeetingDone: res.totalMeetingDone, totalProposalSent: res.totalProposalSent };
        return proposalSentResponse;
    }
    catch (error) {
        proposalSentResponse = { code: 400, message: error.message };
        return proposalSentResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/totalActiveProjects.ts":
/*!********************************************************!*\
  !*** ./src/api/widgets/Queries/totalActiveProjects.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "totalActiveProjects": () => (/* binding */ totalActiveProjects)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_totalActiveProjectsRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/totalActiveProjectsRatio */ "./src/domain/services/widgetServices/totalActiveProjectsRatio.ts");


const totalActiveProjects = async (root, args, context) => {
    let totalActiveProjectsResponse;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_totalActiveProjectsRatio__WEBPACK_IMPORTED_MODULE_1__.totalActiveProjectsRatio)(user);
                break;
            default:
                totalActiveProjectsResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return totalActiveProjectsResponse;
        }
        console.log(res);
        totalActiveProjectsResponse = { code: 200, message: "success", data: res };
        return totalActiveProjectsResponse;
    }
    catch (error) {
        totalActiveProjectsResponse = { code: 400, message: error.message };
        return totalActiveProjectsResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/Queries/upcomingMeetings.ts":
/*!*****************************************************!*\
  !*** ./src/api/widgets/Queries/upcomingMeetings.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "upcomingMeetings": () => (/* binding */ upcomingMeetings)
/* harmony export */ });
/* harmony import */ var _core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authControl/verifyAuthUseCase */ "./src/core/authControl/verifyAuthUseCase.ts");
/* harmony import */ var _domain_services_widgetServices_upcomingMeetingsRatio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../domain/services/widgetServices/upcomingMeetingsRatio */ "./src/domain/services/widgetServices/upcomingMeetingsRatio.ts");


const upcomingMeetings = async (root, args, context) => {
    let upcomingMeetingsResponse;
    try {
        let res;
        const user = await (0,_core_authControl_verifyAuthUseCase__WEBPACK_IMPORTED_MODULE_0__.authenticate)(context, "DD");
        switch (user.profile.access_level) {
            case 0:
            case 1:
                res = await (0,_domain_services_widgetServices_upcomingMeetingsRatio__WEBPACK_IMPORTED_MODULE_1__.upcomingMeetingsRatio)(user, args.timeperiod);
                break;
            default:
                upcomingMeetingsResponse = { code: 200, message: "Dashboards will be added soon for this profile" };
                return upcomingMeetingsResponse;
        }
        upcomingMeetingsResponse = { code: 200, message: "success", data: res.upcomingMeeting };
        return upcomingMeetingsResponse;
    }
    catch (error) {
        upcomingMeetingsResponse = { code: 400, message: error.message };
        return upcomingMeetingsResponse;
    }
};


/***/ }),

/***/ "./src/api/widgets/resolver.ts":
/*!*************************************!*\
  !*** ./src/api/widgets/resolver.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "widgetsResolver": () => (/* binding */ widgetsResolver)
/* harmony export */ });
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-scalars */ "graphql-scalars");
/* harmony import */ var graphql_scalars__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphql_scalars__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Queries_leadSummary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Queries/leadSummary */ "./src/api/widgets/Queries/leadSummary.ts");
/* harmony import */ var _Queries_conversion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Queries/conversion */ "./src/api/widgets/Queries/conversion.ts");
/* harmony import */ var _Queries_upcomingMeetings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Queries/upcomingMeetings */ "./src/api/widgets/Queries/upcomingMeetings.ts");
/* harmony import */ var _Queries_broadcastedLeads__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Queries/broadcastedLeads */ "./src/api/widgets/Queries/broadcastedLeads.ts");
/* harmony import */ var _Queries_proposalSent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Queries/proposalSent */ "./src/api/widgets/Queries/proposalSent.ts");
/* harmony import */ var _Queries_totalActiveProjects__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Queries/totalActiveProjects */ "./src/api/widgets/Queries/totalActiveProjects.ts");
/* harmony import */ var _Queries_achievedRevenue__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Queries/achievedRevenue */ "./src/api/widgets/Queries/achievedRevenue.ts");








const widgetsResolver = {
    Query: {
        leadSummary: async (parent, _args, context) => (0,_Queries_leadSummary__WEBPACK_IMPORTED_MODULE_1__.leadSummary)(parent, _args, context),
        conversion: async (parent, _args, context) => (0,_Queries_conversion__WEBPACK_IMPORTED_MODULE_2__.conversion)(parent, _args, context),
        upcomingMeetings: async (parent, _args, context) => (0,_Queries_upcomingMeetings__WEBPACK_IMPORTED_MODULE_3__.upcomingMeetings)(parent, _args, context),
        broadcastedLeads: async (parent, _args, context) => (0,_Queries_broadcastedLeads__WEBPACK_IMPORTED_MODULE_4__.broadcastedLeads)(parent, _args, context),
        proposalSent: async (parent, _args, context) => (0,_Queries_proposalSent__WEBPACK_IMPORTED_MODULE_5__.proposalSent)(parent, _args, context),
        totalActiveProjects: async (parent, _args, context) => (0,_Queries_totalActiveProjects__WEBPACK_IMPORTED_MODULE_6__.totalActiveProjects)(parent, _args, context),
        achievedRevenue: async (parent, _args, context) => (0,_Queries_achievedRevenue__WEBPACK_IMPORTED_MODULE_7__.achievedRevenue)(parent, _args, context),
    },
    DateTime: graphql_scalars__WEBPACK_IMPORTED_MODULE_0__.DateTimeResolver,
};


/***/ }),

/***/ "./src/api/widgets/typedef.ts":
/*!************************************!*\
  !*** ./src/api/widgets/typedef.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "widgetsTypedef": () => (/* binding */ widgetsTypedef)
/* harmony export */ });
const widgetsTypedef = `

type leadSummaryResponse {
    code: Int
    message: String
    data: JSON
}
type conversionResponse {
    code: Int
    message: String
    percentage: Float
    totalMeetingDone: Int
    closedWon: Int
}
type upcomingMeetingsResponse {
    code:Int
    message: String
    data: JSON
}
type broadcastedLeadsResponse {
    code:Int
    message: String
    leads: Int 
}
type proposalSentResponse {
    code:Int
    message: String
    percentage: Float
    totalMeetingDone: Int
    totalProposalSent: Int
}
type totalActiveProjectsResponse {
    code:Int
    message: String
    data: [JSON]
}
type achievedRevenueResponse {
    code:Int
    message: String
    totalachievedrevenue: Int
    monthlytarget: Float
}
   
    type Query {
        leadSummary(month:Int): leadSummaryResponse
        conversion(month:Int): conversionResponse
        upcomingMeetings(timeperiod:Int):upcomingMeetingsResponse
        broadcastedLeads:broadcastedLeadsResponse
        proposalSent(month:Int):proposalSentResponse
        totalActiveProjects:totalActiveProjectsResponse
        achievedRevenue(month: Int):achievedRevenueResponse

    }
  
    scalar DateTime
`;


/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const config = process.env;
if (false) {}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (config);


/***/ }),

/***/ "./src/core/authControl/JwtAuthControl.ts":
/*!************************************************!*\
  !*** ./src/core/authControl/JwtAuthControl.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decode": () => (/* binding */ decode),
/* harmony export */   "decodeRequestHeader": () => (/* binding */ decodeRequestHeader),
/* harmony export */   "decodeWithoutVerifying": () => (/* binding */ decodeWithoutVerifying),
/* harmony export */   "sign": () => (/* binding */ sign)
/* harmony export */ });
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ "jsonwebtoken");
/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);


const sign = (valueToEncode, secret, expiresIn) => {
    try {
        const options = {
            expiresIn,
            issuer: "https://DesignCafe.com",
        };
        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({ payload: valueToEncode }, secret, options);
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, "InternalServerError");
    }
};
const decode = (verifyToken, secret) => {
    try {
        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(verifyToken, secret, { ignoreExpiration: true });
        console.log(555, decoded);
        return decoded.payload;
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(401, "Unauthorized");
    }
};
const decodeRequestHeader = (req, secret) => {
    try {
        const token = req.headers.authorization;
        return decode(token, secret);
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(401, "Unauthorized");
    }
};
const decodeWithoutVerifying = (token) => {
    try {
        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().decode(token);
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(401, "Unauthorized");
    }
};


/***/ }),

/***/ "./src/core/authControl/verifyAuthUseCase.ts":
/*!***************************************************!*\
  !*** ./src/core/authControl/verifyAuthUseCase.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "authenticate": () => (/* binding */ authenticate),
/* harmony export */   "authenticateDdCd": () => (/* binding */ authenticateDdCd),
/* harmony export */   "authorize": () => (/* binding */ authorize),
/* harmony export */   "domainVerification": () => (/* binding */ domainVerification),
/* harmony export */   "getAllRoleList": () => (/* binding */ getAllRoleList)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../authControl/JwtAuthControl */ "./src/core/authControl/JwtAuthControl.ts");
/* harmony import */ var _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../domain/enumerations/ProfileTypeEnums */ "./src/domain/enumerations/ProfileTypeEnums.ts");




function getAllRoleList() {
    return [
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.SYSTEM_ADMINISTRATOR,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.IN_HOUSE_DESIGNER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.DESIGN_PARTNER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.ASSOCIATE_STUDIO_MANAGER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.STUDIO_MANAGER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.STUDIO_MANAGER_DP,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.CENTER_DELIVERY_HEAD,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.CITY_DELIVERY_HEAD,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.ALL_INDIA_BUSINESS_HEAD,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.CEO,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.CHM_EXECUTIVE,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.CHM_MANAGER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.SURVEY_EXECUTIVE,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.SURVEY_MANAGER,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.FINANCE_EXECUTIVE,
        _domain_enumerations_ProfileTypeEnums__WEBPACK_IMPORTED_MODULE_3__.ProfileTypeEnumNames.FRANCHISE_OWNER,
    ];
}
const domainVerification = async (email) => {
    try {
        console.log(575, email);
        const domain = email.split("@")[1];
        if (domain.toLowerCase() !== process.env.emailDomainDC &&
            domain.toLowerCase() !== process.env.emailDomainDCPartner) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "Unauthorized, email should be a DesignCafe email.");
        }
    }
    catch (error) {
        console.error(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, error);
    }
};
const authorize = async (requiredProfileTypes, user) => {
    var _a;
    try {
        if (requiredProfileTypes.indexOf((_a = user === null || user === void 0 ? void 0 : user.profile) === null || _a === void 0 ? void 0 : _a.profile_name) === -1) {
            console.log("BaseUseCase authorize error one");
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "Unauthorized");
        }
    }
    catch (error) {
        console.log("BaseUseCase authorize error", error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, error);
    }
};
const authenticate = async (context, app) => {
    try {
        const token = context.headers.authorization;
        if (!token) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "Unauthorized");
        }
        const payload = await (0,_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.decode)(token, process.env.jwtSecretAccessToken);
        const id = payload === null || payload === void 0 ? void 0 : payload.id;
        console.log(payload);
        if (!id) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(403, "Forbidden");
        }
        const dateNow = new Date();
        const utcSeconds = payload.exp;
        const expiry = new Date(0);
        expiry.setUTCSeconds(utcSeconds);
        if (expiry < dateNow) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(498, "Token Expired");
        }
        let user;
        if (app === "CD") {
            user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_customer.findFirst({
                where: { customerid: id },
            });
        }
        else if (app === "DD") {
            await domainVerification(payload.designCafeEmail);
            user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_users.findFirst({
                where: { userid: id },
                include: {
                    profile: true,
                    users_city: true,
                    users_experiencecenters: true,
                    users_team: true,
                },
            });
        }
        if (user) {
            return user;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "UnAuthorized");
        }
    }
    catch (error) {
        console.error(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, error);
    }
};
const authenticateDdCd = async (context) => {
    try {
        const accessToken = context.headers.authorization;
        if (!accessToken) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "Unauthorized");
        }
        const payloadData = await (0,_authControl_JwtAuthControl__WEBPACK_IMPORTED_MODULE_2__.decode)(accessToken, process.env.jwtSecretAccessToken);
        const id = payloadData === null || payloadData === void 0 ? void 0 : payloadData.id;
        if (!id) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(403, "Forbidden");
        }
        const currentDate = new Date();
        const utcInSeconds = payloadData.exp;
        const expiresIn = new Date(0);
        expiresIn.setUTCSeconds(utcInSeconds);
        if (expiresIn < currentDate) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(498, "Token Expired");
        }
        let customer;
        if (payloadData === null || payloadData === void 0 ? void 0 : payloadData.customerphone) {
            customer = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_customer.findFirst({
                where: { customerphone: payloadData === null || payloadData === void 0 ? void 0 : payloadData.customerphone },
            });
        }
        let user;
        if (payloadData === null || payloadData === void 0 ? void 0 : payloadData.designCafeEmail) {
            user = await _prismaConfig__WEBPACK_IMPORTED_MODULE_1__.prisma.dc_users.findFirst({
                where: { designcafeemail: payloadData.designCafeEmail },
                include: {
                    users_city: true,
                    users_experiencecenters: true,
                    users_team: true,
                },
            });
        }
        if (user) {
            await domainVerification(payloadData.designCafeEmail);
        }
        if (customer || user) {
            return { user, customer };
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, "UnAuthorized");
        }
    }
    catch (error) {
        console.error(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(500, error);
    }
};


/***/ }),

/***/ "./src/core/email/Email.ts":
/*!*********************************!*\
  !*** ./src/core/email/Email.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ "nodemailer");
/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var mailgen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mailgen */ "mailgen");
/* harmony import */ var mailgen__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mailgen__WEBPACK_IMPORTED_MODULE_1__);


class Email {
    constructor(emailId, userName, password, senderId) {
        this.emailId = emailId;
        this.userName = userName;
        this.password = password;
        this.senderId = senderId;
    }
    async sendMail(name, to, subject, body, cc, bcc, attachments) {
        let Response;
        try {
            const mailGenerator = new mailgen__WEBPACK_IMPORTED_MODULE_1__({
                theme: "default",
                product: {
                    name: "Team DC",
                    link: "https://www.designcafe.com/",
                    logo: "https://s3-ap-south-1.amazonaws.com/designcafe-dev/wp-content/uploads/2019/11/17060713/Logo.png",
                },
            });
            const email = {
                body: {
                    greeting: "Dear",
                    name,
                    outro: body,
                    signature: `Thank You!`,
                },
            };
            const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({
                host: "email-smtp.ap-south-1.amazonaws.com",
                port: 465,
                secure: true,
                auth: {
                    user: this.userName,
                    pass: this.password,
                },
            });
            const mailOptions = {
                from: `"${this.senderId}" <${this.emailId}>`,
                to,
                cc,
                subject,
                text: mailGenerator.generatePlaintext(email),
                html: body,
                attachments: attachments,
            };
            await transporter.sendMail(mailOptions);
            Response = { code: 200, message: "success" };
        }
        catch (error) {
            console.error("Unable to send Email error", error);
        }
        return Response;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Email);


/***/ }),

/***/ "./src/core/fileStorageServices/AwsStorage.ts":
/*!****************************************************!*\
  !*** ./src/core/fileStorageServices/AwsStorage.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "create": () => (/* binding */ create)
/* harmony export */ });
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aws-sdk */ "aws-sdk");
/* harmony import */ var aws_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(aws_sdk__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_1__);


const create = (awsConstants) => {
    aws_sdk__WEBPACK_IMPORTED_MODULE_0__.config.update({
        accessKeyId: awsConstants.accessKeyId,
        secretAccessKey: awsConstants.secretAccessKey,
        region: awsConstants.region,
    });
    const uploadFileAsBase64 = async (key, contentType, file) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3({ params: { Bucket: process.env.awsBucket } });
        const data = {
            Key: key,
            Body: file,
            ContentEncoding: "base64",
            ContentType: contentType,
        };
        return s3.putObject(data).promise();
    };
    const getFileAsBase64 = async (key) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        const options = {
            Bucket: process.env.awsBucket,
            Key: key,
        };
        const data = await s3.getObject(options).promise();
        console.log(data, "datainAWs");
        return data ? Buffer.from(data.Body.toString()).toString("binary") : "";
    };
    const getBufferAsBase64 = async (key) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        const options = {
            Bucket: process.env.awsBucket,
            Key: key,
        };
        const data = await s3.getObject(options).promise();
        return data ? Buffer.from(data.Body.toString()).toString("base64") : "";
    };
    const getBuffer = async (key) => {
        try {
            const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
            const options = {
                Bucket: process.env.awsBucket,
                Key: key,
            };
            const data = await s3.getObject(options).promise();
            return data.Body;
        }
        catch (error) {
            console.log(error);
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_1___default())(500, error);
        }
    };
    const uploadDocumentBuffer = async (key, contentType, base64File) => {
        const buffer = Buffer.from(base64File, "base64");
        return new Promise((resolve, reject) => {
            const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
            s3.upload({
                Bucket: process.env.awsBucket,
                Key: key,
                Body: buffer,
                ContentType: contentType,
            }, (err, response) => {
                if (err) {
                    reject(err);
                }
                resolve(response);
            });
        });
    };
    const deleteFromAws = (keys) => {
        const command = { Objects: [], Quiet: true };
        for (const key of keys) {
            command.Objects.push({
                Key: key,
            });
        }
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        const options = {
            Bucket: awsConstants.bucket,
            Delete: command,
        };
        return new Promise((resolve) => {
            s3.deleteObjects(options, (error, _data) => {
                error ? resolve(false) : resolve(true);
            });
        });
    };
    const uploadImageBase64 = async (key, contentType, image) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3({ params: { Bucket: process.env.awsBucket } });
        const data = {
            Key: key,
            Body: image,
            ContentEncoding: "base64",
            ContentType: contentType,
        };
        await s3.putObject(data).promise();
    };
    const imageAsBase64 = async (key) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        const options = {
            Bucket: process.env.awsBucket,
            Key: key,
        };
        const data = await s3.getObject(options).promise();
        return data ? Buffer.from(data.Body.toString()).toString("binary") : "";
    };
    const getFileUrl = async (key, contentType) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        return s3.getSignedUrl("getObject", {
            Bucket: process.env.awsBucket,
            Key: key,
            ResponseContentType: contentType,
        });
    };
    const getFileUrlToUpload = async (key, signedUrlExpireTime, contentType) => {
        const s3 = new aws_sdk__WEBPACK_IMPORTED_MODULE_0__.S3();
        return s3.getSignedUrl("putObject", {
            Bucket: process.env.awsBucket,
            Key: key,
            Expires: signedUrlExpireTime,
            ACL: "bucket-owner-full-control",
            ContentType: contentType,
        });
    };
    return {
        getBuffer,
        getFileAsBase64,
        uploadFileAsBase64,
        getBufferAsBase64,
        uploadDocumentBuffer,
        deleteFromAws,
        uploadImageBase64,
        imageAsBase64,
        getFileUrl,
        getFileUrlToUpload,
    };
};


/***/ }),

/***/ "./src/domain/Requestdata/Invoicegenerationrequestmodel.ts":
/*!*****************************************************************!*\
  !*** ./src/domain/Requestdata/Invoicegenerationrequestmodel.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class CreatePayMiInvoice {
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreatePayMiInvoice);


/***/ }),

/***/ "./src/domain/Requestdata/Microserviceinvoicerequestmodel.ts":
/*!*******************************************************************!*\
  !*** ./src/domain/Requestdata/Microserviceinvoicerequestmodel.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddOnPaymentObject": () => (/* binding */ AddOnPaymentObject),
/* harmony export */   "AddressModel": () => (/* binding */ AddressModel),
/* harmony export */   "MicroserviceResponseModel": () => (/* binding */ MicroserviceResponseModel),
/* harmony export */   "PaymentMilestoneUpdateRequestModel": () => (/* binding */ PaymentMilestoneUpdateRequestModel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class MicroserviceInvoiceRequestModel {
}
class AddressModel {
}
class AddOnPaymentObject {
}
class MicroserviceResponseModel {
}
class PaymentMilestoneUpdateRequestModel {
}
var PaymentStatusEnum;
(function (PaymentStatusEnum) {
    PaymentStatusEnum["PAID"] = "Paid";
    PaymentStatusEnum["PENDING"] = "Pending";
    PaymentStatusEnum["PARTIAL_PAYMENT"] = "Paid Partially";
})(PaymentStatusEnum || (PaymentStatusEnum = {}));

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MicroserviceInvoiceRequestModel);


/***/ }),

/***/ "./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts":
/*!**********************************************************************!*\
  !*** ./src/domain/Requestdata/Paymentmilestoneupdaterequestmodel.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddOnPaymentObject": () => (/* binding */ AddOnPaymentObject),
/* harmony export */   "AddPaymentReceiptRequestData": () => (/* binding */ AddPaymentReceiptRequestData),
/* harmony export */   "AddressModel": () => (/* binding */ AddressModel),
/* harmony export */   "CaptureManualPaymentModel": () => (/* binding */ CaptureManualPaymentModel),
/* harmony export */   "ClearPaymentRequestModel": () => (/* binding */ ClearPaymentRequestModel),
/* harmony export */   "MicroserviceManualInvoiceRequestModel": () => (/* binding */ MicroserviceManualInvoiceRequestModel),
/* harmony export */   "MilestoneUpdateRequestModel": () => (/* binding */ MilestoneUpdateRequestModel),
/* harmony export */   "PaymentStatusEnum": () => (/* binding */ PaymentStatusEnum),
/* harmony export */   "ProjectUpdateRequestModel": () => (/* binding */ ProjectUpdateRequestModel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
class PaymentMilestoneUpdateRequestModel {
}
class AddPaymentReceiptRequestData {
}
class CaptureManualPaymentModel {
}
class MilestoneUpdateRequestModel {
}
class ProjectUpdateRequestModel {
}
var PaymentStatusEnum;
(function (PaymentStatusEnum) {
    PaymentStatusEnum["PAID"] = "Paid";
    PaymentStatusEnum["PENDING"] = "Pending";
    PaymentStatusEnum["PARTIAL_PAYMENT"] = "Paid Partially";
})(PaymentStatusEnum || (PaymentStatusEnum = {}));
class ClearPaymentRequestModel {
}
class MicroserviceManualInvoiceRequestModel {
}
class AddressModel {
}
class AddOnPaymentObject {
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentMilestoneUpdateRequestModel);


/***/ }),

/***/ "./src/domain/enumerations/ChangeRequestEnums.ts":
/*!*******************************************************!*\
  !*** ./src/domain/enumerations/ChangeRequestEnums.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BookingFormStatusEnumNames": () => (/* binding */ BookingFormStatusEnumNames),
/* harmony export */   "ProjectProposalEnums": () => (/* binding */ ProjectProposalEnums),
/* harmony export */   "ProjectStatusEnum": () => (/* binding */ ProjectStatusEnum),
/* harmony export */   "requestStage": () => (/* binding */ requestStage)
/* harmony export */ });
var requestStage;
(function (requestStage) {
    requestStage["BOOKINGFORM"] = "booking form";
    requestStage["PROJECTPROPOSAL"] = "project proposal";
    requestStage["DESIGNSIGNOFF"] = "design signoff";
})(requestStage || (requestStage = {}));
var BookingFormStatusEnumNames;
(function (BookingFormStatusEnumNames) {
    BookingFormStatusEnumNames["NULL"] = "null";
    BookingFormStatusEnumNames["GENERATED"] = "generated";
    BookingFormStatusEnumNames["CHANGE_REQUESTED"] = "change_requested";
    BookingFormStatusEnumNames["UPDATED"] = "updated";
    BookingFormStatusEnumNames["ACCEPTED"] = "accepted";
})(BookingFormStatusEnumNames || (BookingFormStatusEnumNames = {}));
var ProjectProposalEnums;
(function (ProjectProposalEnums) {
    ProjectProposalEnums["CREATED"] = "created";
    ProjectProposalEnums["PENDING"] = "pending";
    ProjectProposalEnums["ACCEPTED"] = "accepted";
    ProjectProposalEnums["CHANGE_REQUESTED"] = "change_requested";
})(ProjectProposalEnums || (ProjectProposalEnums = {}));
var ProjectStatusEnum;
(function (ProjectStatusEnum) {
    ProjectStatusEnum["DRAFT"] = "Draft";
    ProjectStatusEnum["ACTIVE"] = "Active";
    ProjectStatusEnum["HOLD"] = "Hold";
    ProjectStatusEnum["WITHDRAWN"] = "Withdrawn";
    ProjectStatusEnum["COMPLETED"] = "Completed";
})(ProjectStatusEnum || (ProjectStatusEnum = {}));



/***/ }),

/***/ "./src/domain/enumerations/DesingerAssignStatus.ts":
/*!*********************************************************!*\
  !*** ./src/domain/enumerations/DesingerAssignStatus.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var DesignerAssignStatus;
(function (DesignerAssignStatus) {
    DesignerAssignStatus["PENDING"] = "Designer Assigned, Acceptance Pending";
    DesignerAssignStatus["ACCEPTED"] = "Designer Accepted";
    DesignerAssignStatus["REJECTED"] = "Designer Rejected";
})(DesignerAssignStatus || (DesignerAssignStatus = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DesignerAssignStatus);


/***/ }),

/***/ "./src/domain/enumerations/FileCheckListEnums.ts":
/*!*******************************************************!*\
  !*** ./src/domain/enumerations/FileCheckListEnums.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileCheckListName": () => (/* binding */ FileCheckListName),
/* harmony export */   "getFileChecklistName": () => (/* binding */ getFileChecklistName)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);

var FileCheckListName;
(function (FileCheckListName) {
    FileCheckListName["SURVEY_DRAWINGS"] = "Survey Drawings";
    FileCheckListName["SITE_IMAGES"] = "Site Images";
    FileCheckListName["DESIGN_PRESENTATION"] = "Design Presentation";
    FileCheckListName["MODULAR_QUOTATION"] = "Modular Quotation";
    FileCheckListName["SITE_SERVICES_QUOTATION"] = "Site Services Quotation";
    FileCheckListName["MODULAR_DRAWINGS"] = "Modular Drawings";
    FileCheckListName["SITE_SERVICE_DRAWINGS"] = "Site Service Drawings";
    FileCheckListName["SIGN_OFF_PPT"] = "Sign-off PPT";
    FileCheckListName["FINISHES_AND_HANDLES"] = "Finishes & Handles";
})(FileCheckListName || (FileCheckListName = {}));
var MilestoneCheckListName;
(function (MilestoneCheckListName) {
    MilestoneCheckListName["SURVEY_DRAWINGS"] = "Upload Survey Drawings";
    MilestoneCheckListName["SITE_IMAGES"] = "Upload Site Images";
    MilestoneCheckListName["DESIGN_PRESENTATION"] = "Upload Design Presentation";
})(MilestoneCheckListName || (MilestoneCheckListName = {}));
const getFileChecklistName = async (checkListnameInRequest) => {
    if (!checkListnameInRequest) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, "filename is required");
    }
    const checklistname = checkListnameInRequest.trim();
    if (checklistname === FileCheckListName.SURVEY_DRAWINGS) {
        return MilestoneCheckListName.SURVEY_DRAWINGS;
    }
    else if (checklistname === FileCheckListName.SITE_IMAGES) {
        return MilestoneCheckListName.SITE_IMAGES;
    }
    else if (checklistname === FileCheckListName.DESIGN_PRESENTATION) {
        return MilestoneCheckListName.DESIGN_PRESENTATION;
    }
    else if (checklistname === FileCheckListName.MODULAR_QUOTATION) {
        return FileCheckListName.MODULAR_QUOTATION;
    }
    else if (checklistname === FileCheckListName.SITE_SERVICES_QUOTATION) {
        return FileCheckListName.SITE_SERVICES_QUOTATION;
    }
    else if (checklistname === FileCheckListName.MODULAR_DRAWINGS) {
        return FileCheckListName.MODULAR_DRAWINGS;
    }
    else if (checklistname === FileCheckListName.SITE_SERVICE_DRAWINGS) {
        return FileCheckListName.SITE_SERVICE_DRAWINGS;
    }
    else if (checklistname === FileCheckListName.SIGN_OFF_PPT) {
        return FileCheckListName.SIGN_OFF_PPT;
    }
    else if (checklistname === FileCheckListName.FINISHES_AND_HANDLES) {
        return FileCheckListName.FINISHES_AND_HANDLES;
    }
    else {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, "Invalid filename");
    }
};



/***/ }),

/***/ "./src/domain/enumerations/PaymentCategoryEnum.ts":
/*!********************************************************!*\
  !*** ./src/domain/enumerations/PaymentCategoryEnum.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var PaymentCategoryEnum;
(function (PaymentCategoryEnum) {
    PaymentCategoryEnum["MODULAR"] = "modular";
    PaymentCategoryEnum["SITE_SERVICE"] = "site services";
})(PaymentCategoryEnum || (PaymentCategoryEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentCategoryEnum);


/***/ }),

/***/ "./src/domain/enumerations/PaymentModeEnum.ts":
/*!****************************************************!*\
  !*** ./src/domain/enumerations/PaymentModeEnum.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var PaymentModeEnum;
(function (PaymentModeEnum) {
    PaymentModeEnum[PaymentModeEnum["CHEQUE"] = 0] = "CHEQUE";
    PaymentModeEnum[PaymentModeEnum["CASH"] = 1] = "CASH";
    PaymentModeEnum[PaymentModeEnum["IMPS"] = 2] = "IMPS";
    PaymentModeEnum[PaymentModeEnum["NEFT"] = 3] = "NEFT";
    PaymentModeEnum[PaymentModeEnum["ONLINE"] = 4] = "ONLINE";
    PaymentModeEnum[PaymentModeEnum["CARD"] = 5] = "CARD";
})(PaymentModeEnum || (PaymentModeEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaymentModeEnum);


/***/ }),

/***/ "./src/domain/enumerations/ProfileTypeEnumUtil.ts":
/*!********************************************************!*\
  !*** ./src/domain/enumerations/ProfileTypeEnumUtil.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProfileTypeEnumCode": () => (/* binding */ ProfileTypeEnumCode)
/* harmony export */ });
var ProfileTypeEnumCode;
(function (ProfileTypeEnumCode) {
    ProfileTypeEnumCode[ProfileTypeEnumCode["SYSTEM_ADMINISTRATOR"] = 8] = "SYSTEM_ADMINISTRATOR";
    ProfileTypeEnumCode[ProfileTypeEnumCode["IN_HOUSE_DESIGNER"] = 4] = "IN_HOUSE_DESIGNER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["DESIGN_PARTNER"] = 17] = "DESIGN_PARTNER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["ASSOCIATE_STUDIO_MANAGER"] = 10] = "ASSOCIATE_STUDIO_MANAGER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["STUDIO_MANAGER"] = 11] = "STUDIO_MANAGER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["STUDIO_MANAGER_DP"] = 3] = "STUDIO_MANAGER_DP";
    ProfileTypeEnumCode[ProfileTypeEnumCode["CENTER_DELIVERY_HEAD"] = 14] = "CENTER_DELIVERY_HEAD";
    ProfileTypeEnumCode[ProfileTypeEnumCode["CITY_DELIVERY_HEAD"] = 1] = "CITY_DELIVERY_HEAD";
    ProfileTypeEnumCode[ProfileTypeEnumCode["ALL_INDIA_BUSINESS_HEAD"] = 6] = "ALL_INDIA_BUSINESS_HEAD";
    ProfileTypeEnumCode[ProfileTypeEnumCode["CEO"] = 9] = "CEO";
    ProfileTypeEnumCode[ProfileTypeEnumCode["CHM_EXECUTIVE"] = 16] = "CHM_EXECUTIVE";
    ProfileTypeEnumCode[ProfileTypeEnumCode["CHM_MANAGER"] = 13] = "CHM_MANAGER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["SURVEY_EXECUTIVE"] = 15] = "SURVEY_EXECUTIVE";
    ProfileTypeEnumCode[ProfileTypeEnumCode["SURVEY_MANAGER"] = 2] = "SURVEY_MANAGER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["THREE_D_DESIGNER_RENDERS"] = 19] = "THREE_D_DESIGNER_RENDERS";
    ProfileTypeEnumCode[ProfileTypeEnumCode["THREE_D_DESIGNER_SHELL"] = 18] = "THREE_D_DESIGNER_SHELL";
    ProfileTypeEnumCode[ProfileTypeEnumCode["THREE_D_MANAGER"] = 7] = "THREE_D_MANAGER";
    ProfileTypeEnumCode[ProfileTypeEnumCode["FINANCE_EXECUTIVE"] = 5] = "FINANCE_EXECUTIVE";
    ProfileTypeEnumCode[ProfileTypeEnumCode["FRANCHISE_OWNER"] = 12] = "FRANCHISE_OWNER";
})(ProfileTypeEnumCode || (ProfileTypeEnumCode = {}));



/***/ }),

/***/ "./src/domain/enumerations/ProfileTypeEnums.ts":
/*!*****************************************************!*\
  !*** ./src/domain/enumerations/ProfileTypeEnums.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProfileTypeEnumNames": () => (/* binding */ ProfileTypeEnumNames)
/* harmony export */ });
var ProfileTypeEnumNames;
(function (ProfileTypeEnumNames) {
    ProfileTypeEnumNames["SYSTEM_ADMINISTRATOR"] = "System Administrator";
    ProfileTypeEnumNames["IN_HOUSE_DESIGNER"] = "Inhouse Designer";
    ProfileTypeEnumNames["DESIGN_PARTNER"] = "Design Partner";
    ProfileTypeEnumNames["ASSOCIATE_STUDIO_MANAGER"] = "Associate Studio Manager";
    ProfileTypeEnumNames["STUDIO_MANAGER"] = "Studio Manager";
    ProfileTypeEnumNames["STUDIO_MANAGER_DP"] = "Studio Manager - DP";
    ProfileTypeEnumNames["CENTER_DELIVERY_HEAD"] = "Center Delivery Head";
    ProfileTypeEnumNames["CITY_DELIVERY_HEAD"] = "City Delivery Head";
    ProfileTypeEnumNames["ALL_INDIA_BUSINESS_HEAD"] = "All India Business Head";
    ProfileTypeEnumNames["CEO"] = "CEO";
    ProfileTypeEnumNames["CHM_EXECUTIVE"] = "CHM Executive";
    ProfileTypeEnumNames["CHM_MANAGER"] = "CHM Manager";
    ProfileTypeEnumNames["SURVEY_EXECUTIVE"] = "Survey Executive";
    ProfileTypeEnumNames["SURVEY_MANAGER"] = "Survey Manager";
    ProfileTypeEnumNames["FINANCE_EXECUTIVE"] = "Finance Executive";
    ProfileTypeEnumNames["FRANCHISE_OWNER"] = "Franchise Owner";
    ProfileTypeEnumNames["FRANCHISE_DESIGNER"] = "Franchise Designer";
})(ProfileTypeEnumNames || (ProfileTypeEnumNames = {}));



/***/ }),

/***/ "./src/domain/enumerations/ProjectFilterEnum.ts":
/*!******************************************************!*\
  !*** ./src/domain/enumerations/ProjectFilterEnum.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var ProjectFilterEnum;
(function (ProjectFilterEnum) {
    ProjectFilterEnum["DESIGNER"] = "designer";
    ProjectFilterEnum["STUDIO"] = "studio";
    ProjectFilterEnum["EC"] = "ec";
    ProjectFilterEnum["CITY"] = "city";
    ProjectFilterEnum["SIGNUP_DATE"] = "sign-up date";
    ProjectFilterEnum["STATUS"] = "status";
    ProjectFilterEnum["CURRENT_STAGE"] = "current stage";
    ProjectFilterEnum["PROJECT_NAME"] = "project name";
})(ProjectFilterEnum || (ProjectFilterEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectFilterEnum);


/***/ }),

/***/ "./src/domain/enumerations/ProjectMileStoneEnum.ts":
/*!*********************************************************!*\
  !*** ./src/domain/enumerations/ProjectMileStoneEnum.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var ProjectMileStoneEnum;
(function (ProjectMileStoneEnum) {
    ProjectMileStoneEnum["PROJECT_SIGNUP"] = "project signup";
    ProjectMileStoneEnum["SITE_SURVEY"] = "site survey";
    ProjectMileStoneEnum["KNOW_YOUR_CLIENT"] = "know your client";
    ProjectMileStoneEnum["DESIGN_PRESENTATION"] = "design presentation";
    ProjectMileStoneEnum["DESIGN_FINALIZATION"] = "design finalization";
    ProjectMileStoneEnum["SITE_VALIDATION_REQUEST"] = "site validation request";
    ProjectMileStoneEnum["SITE_VALIDATION_MEETING"] = "site validation";
    ProjectMileStoneEnum["POST_SITE_VALIDATION_REVISION"] = "post site validation revision";
    ProjectMileStoneEnum["GFC_CHECKING"] = "gfc checking";
    ProjectMileStoneEnum["DESIGN_SIGNOFF"] = "design sign-off";
    ProjectMileStoneEnum["PRODUCTION_REQUEST"] = "production request";
    ProjectMileStoneEnum["PRODUCTION"] = "production";
    ProjectMileStoneEnum["READY_FOR_DISPATCH"] = "ready for dispatch";
    ProjectMileStoneEnum["READY_FOR_HANDOVER"] = "ready for handover";
    ProjectMileStoneEnum["HANDOVER"] = "handover";
    ProjectMileStoneEnum["DEFAULT_CURRENT_MILESTONE"] = "Site Survey";
    ProjectMileStoneEnum["THIRTYFIVE_PAYMENT"] = "35% Payment Confirmation";
    ProjectMileStoneEnum["FOURTYFIVE_PAYMENT_CONFIRMATION"] = "45% Payment Confirmation";
    ProjectMileStoneEnum["DESIGN_ITERATION"] = "Design Iteration";
    ProjectMileStoneEnum["MATERIAL_SELECTION"] = "Material Selection";
    ProjectMileStoneEnum["FIFTEEN_PAYMENT_CONFIRMATION"] = "15% Payment Confirmation";
})(ProjectMileStoneEnum || (ProjectMileStoneEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectMileStoneEnum);


/***/ }),

/***/ "./src/domain/enumerations/ProjectStageEnums.ts":
/*!******************************************************!*\
  !*** ./src/domain/enumerations/ProjectStageEnums.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FifteenPercentStageEnum": () => (/* binding */ FifteenPercentStageEnum),
/* harmony export */   "FortyFivePercentStageEnum": () => (/* binding */ FortyFivePercentStageEnum),
/* harmony export */   "ProjectStageEnumUtil": () => (/* binding */ ProjectStageEnumUtil),
/* harmony export */   "ThirtyFivePercentStageEnum": () => (/* binding */ ThirtyFivePercentStageEnum)
/* harmony export */ });
var FifteenPercentStageEnum;
(function (FifteenPercentStageEnum) {
    FifteenPercentStageEnum[FifteenPercentStageEnum["Project Signup"] = 0] = "Project Signup";
    FifteenPercentStageEnum[FifteenPercentStageEnum["Site Survey"] = 1] = "Site Survey";
    FifteenPercentStageEnum[FifteenPercentStageEnum["KYC"] = 2] = "KYC";
    FifteenPercentStageEnum[FifteenPercentStageEnum["Design Presentation"] = 3] = "Design Presentation";
    FifteenPercentStageEnum[FifteenPercentStageEnum["Design Finalization"] = 4] = "Design Finalization";
})(FifteenPercentStageEnum || (FifteenPercentStageEnum = {}));
var ThirtyFivePercentStageEnum;
(function (ThirtyFivePercentStageEnum) {
    ThirtyFivePercentStageEnum[ThirtyFivePercentStageEnum["Site Validation Request"] = 0] = "Site Validation Request";
    ThirtyFivePercentStageEnum[ThirtyFivePercentStageEnum["Site Validation"] = 1] = "Site Validation";
    ThirtyFivePercentStageEnum[ThirtyFivePercentStageEnum["Post Site Validation Revision"] = 2] = "Post Site Validation Revision";
    ThirtyFivePercentStageEnum[ThirtyFivePercentStageEnum["GFC Checking"] = 3] = "GFC Checking";
    ThirtyFivePercentStageEnum[ThirtyFivePercentStageEnum["Design Sign-Off"] = 4] = "Design Sign-Off";
})(ThirtyFivePercentStageEnum || (ThirtyFivePercentStageEnum = {}));
var FortyFivePercentStageEnum;
(function (FortyFivePercentStageEnum) {
    FortyFivePercentStageEnum[FortyFivePercentStageEnum["Production Request"] = 0] = "Production Request";
    FortyFivePercentStageEnum[FortyFivePercentStageEnum["Production"] = 1] = "Production";
    FortyFivePercentStageEnum[FortyFivePercentStageEnum["Ready for Dispatch"] = 2] = "Ready for Dispatch";
    FortyFivePercentStageEnum[FortyFivePercentStageEnum["Ready for Handover"] = 3] = "Ready for Handover";
    FortyFivePercentStageEnum[FortyFivePercentStageEnum["Handover"] = 4] = "Handover";
})(FortyFivePercentStageEnum || (FortyFivePercentStageEnum = {}));
var ProjectStageEnum;
(function (ProjectStageEnum) {
    ProjectStageEnum["PROJECT_SIGNUP"] = "Project Signup";
    ProjectStageEnum["SITE_SURVEY"] = "Site Survey";
    ProjectStageEnum["KYC"] = "KYC";
    ProjectStageEnum["DESIGN_PRESENTATION"] = "Design Presentation";
    ProjectStageEnum["DESIGN_FINALIZATION"] = "Design Finalization";
    ProjectStageEnum["SITE_VALIDATION_REQUEST"] = "Site Validation Request";
    ProjectStageEnum["SITE_VALIDATION"] = "Site Validation";
    ProjectStageEnum["POST_SITE_VALIDATION_REVISION"] = "Post Site Validation Revision";
    ProjectStageEnum["GFC_CHECKING"] = "GFC Checking";
    ProjectStageEnum["DESIGN_SIGNOFF"] = "Design Sign-Off";
    ProjectStageEnum["PRODUCTION_REQUEST"] = "Production Request";
    ProjectStageEnum["PRODUCTION"] = "Production";
    ProjectStageEnum["READY_FOR_DISPATCH"] = "Ready for Dispatch";
    ProjectStageEnum["READY_FOR_HANDOVER"] = "Ready for Handover";
    ProjectStageEnum["HANDOVER"] = "Handover";
})(ProjectStageEnum || (ProjectStageEnum = {}));
var ProjectStageValue;
(function (ProjectStageValue) {
    ProjectStageValue["FIVE_FIFTEEN"] = "5% - 15%";
    ProjectStageValue["FIFTEEN_THIRTYFIVE"] = "15% - 35%";
    ProjectStageValue["THIRTYFIVE_FORTYFIVE"] = "35% - 45%";
    ProjectStageValue["FORTYFIVE_HANDOVER"] = "45% to handover";
})(ProjectStageValue || (ProjectStageValue = {}));
class ProjectStageEnumUtil {
    static getCurrentMilestone(milestone) {
        let paymentStage;
        switch (milestone) {
            case ProjectStageEnum.PROJECT_SIGNUP:
                paymentStage = ProjectStageValue.FIVE_FIFTEEN;
                break;
            case ProjectStageEnum.SITE_SURVEY:
                paymentStage = ProjectStageValue.FIVE_FIFTEEN;
                break;
            case ProjectStageEnum.KYC:
                paymentStage = ProjectStageValue.FIVE_FIFTEEN;
                break;
            case ProjectStageEnum.DESIGN_PRESENTATION:
                paymentStage = ProjectStageValue.FIVE_FIFTEEN;
                break;
            case ProjectStageEnum.DESIGN_FINALIZATION:
                paymentStage = ProjectStageValue.FIVE_FIFTEEN;
                break;
            case ProjectStageEnum.SITE_VALIDATION_REQUEST:
                paymentStage = ProjectStageValue.FIFTEEN_THIRTYFIVE;
                break;
            case ProjectStageEnum.SITE_VALIDATION:
                paymentStage = ProjectStageValue.FIFTEEN_THIRTYFIVE;
                break;
            case ProjectStageEnum.POST_SITE_VALIDATION_REVISION:
                paymentStage = ProjectStageValue.FIFTEEN_THIRTYFIVE;
                break;
            case ProjectStageEnum.GFC_CHECKING:
                paymentStage = ProjectStageValue.FIFTEEN_THIRTYFIVE;
                break;
            case ProjectStageEnum.DESIGN_SIGNOFF:
                paymentStage = ProjectStageValue.FIFTEEN_THIRTYFIVE;
                break;
            case ProjectStageEnum.PRODUCTION_REQUEST:
                paymentStage = ProjectStageValue.THIRTYFIVE_FORTYFIVE;
                break;
            case ProjectStageEnum.PRODUCTION:
                paymentStage = ProjectStageValue.THIRTYFIVE_FORTYFIVE;
                break;
            case ProjectStageEnum.READY_FOR_DISPATCH:
                paymentStage = ProjectStageValue.THIRTYFIVE_FORTYFIVE;
                break;
            case ProjectStageEnum.READY_FOR_HANDOVER:
                paymentStage = ProjectStageValue.THIRTYFIVE_FORTYFIVE;
                break;
            case ProjectStageEnum.HANDOVER:
                paymentStage = ProjectStageValue.FORTYFIVE_HANDOVER;
                break;
        }
        return paymentStage;
    }
}



/***/ }),

/***/ "./src/domain/enumerations/RoomTypesEnums.ts":
/*!***************************************************!*\
  !*** ./src/domain/enumerations/RoomTypesEnums.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SITE_SERVICE": () => (/* binding */ SITE_SERVICE),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var RoomTypesEnum;
(function (RoomTypesEnum) {
    RoomTypesEnum["KITCHEN"] = "kitchen";
    RoomTypesEnum["UTILITY"] = "Utility";
    RoomTypesEnum["KBR"] = "kbr";
    RoomTypesEnum["MBR"] = "mbr";
    RoomTypesEnum["PBR"] = "pbr";
    RoomTypesEnum["PARENTS_BEDROOM"] = "parent's bedroom";
    RoomTypesEnum["FOYER"] = "foyer";
    RoomTypesEnum["POOJA"] = "pooja";
    RoomTypesEnum["POOJA_ROOM"] = "pooja room";
    RoomTypesEnum["DINING"] = "dining room";
    RoomTypesEnum["MASTER"] = "master";
    RoomTypesEnum["MASTER_BEDROOM"] = "master bedroom";
    RoomTypesEnum["ROOM1"] = "room 1";
    RoomTypesEnum["CBR"] = "cbr";
    RoomTypesEnum["CHILDREN_ROOM"] = "children's bedroom";
    RoomTypesEnum["KIDS_ROOM"] = "kids bedroom";
    RoomTypesEnum["ROOM2"] = "room 2";
    RoomTypesEnum["GBR"] = "gbr";
    RoomTypesEnum["GUEST_BEDROOM"] = "guest bedroom";
    RoomTypesEnum["GUEST_ROOM"] = "guest room";
    RoomTypesEnum["ROOM3"] = "room 3";
    RoomTypesEnum["BDR4"] = "bdr4";
    RoomTypesEnum["BEDROOM4"] = "bedroom 4";
    RoomTypesEnum["ROOM4"] = "room 4";
    RoomTypesEnum["LIVING_DINING"] = "living dining";
    RoomTypesEnum["LIVING"] = "living";
    RoomTypesEnum["LIVING_N_DINING"] = "living & dining";
    RoomTypesEnum["LIVING_AND_DINING"] = "living and dining";
    RoomTypesEnum["SITE_SERVISES"] = "site services";
    RoomTypesEnum["CIVIL"] = "civil";
    RoomTypesEnum["CIVIL_SERVICES"] = "civil services";
    RoomTypesEnum["CIVIL_WORK"] = "civil work";
    RoomTypesEnum["SITE_WORK"] = "site work";
})(RoomTypesEnum || (RoomTypesEnum = {}));
const SITE_SERVICE = [
    RoomTypesEnum.SITE_SERVISES,
    RoomTypesEnum.SITE_WORK,
    RoomTypesEnum.CIVIL,
    RoomTypesEnum.CIVIL_SERVICES,
    RoomTypesEnum.CIVIL_WORK,
];

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RoomTypesEnum);


/***/ }),

/***/ "./src/domain/enumerations/SmartSheetCellValueEnum.ts":
/*!************************************************************!*\
  !*** ./src/domain/enumerations/SmartSheetCellValueEnum.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var SmartSheetCellValueEnum;
(function (SmartSheetCellValueEnum) {
    SmartSheetCellValueEnum["CLIENT_NAME"] = "client name";
    SmartSheetCellValueEnum["CLIENT_ID"] = "client id";
    SmartSheetCellValueEnum["CLIENT_EMAIL"] = "client email";
    SmartSheetCellValueEnum["CLIENT_CONTACT"] = "client contact";
    SmartSheetCellValueEnum["PROPERTY_NAME"] = "property name";
    SmartSheetCellValueEnum["PROPERTY_ADDRESS"] = "property address";
    SmartSheetCellValueEnum["DESIGNER_NAME"] = "designer name";
    SmartSheetCellValueEnum["DESIGN_STUDIO"] = "design studio";
    SmartSheetCellValueEnum["SALES_OWNER"] = "sales owner";
    SmartSheetCellValueEnum["PROJECT_SIGNUP_VALUE"] = "project signup value";
    SmartSheetCellValueEnum["STATUS"] = "status";
    SmartSheetCellValueEnum["DESIGN_STAGE"] = "design stage";
    SmartSheetCellValueEnum["DESIGN_ITERATION"] = "design iteration";
    SmartSheetCellValueEnum["MATERIAL_SELECTION"] = "material selection";
    SmartSheetCellValueEnum["PREPARE_GFC"] = "prepare gfc (production drawings)";
    SmartSheetCellValueEnum["SEND_DWGS_GFC"] = "send dwgs for gfc checking";
    SmartSheetCellValueEnum["HANDOVER_DATE"] = "handover date";
    SmartSheetCellValueEnum["REVISED_HANDOVER_DATE"] = "revised handover date";
    SmartSheetCellValueEnum["PROJECT_MANAGER"] = "project manager";
    SmartSheetCellValueEnum["PROJECT_SIGNUP"] = "project signup";
    SmartSheetCellValueEnum["SITE_SURVEY"] = "site survey";
    SmartSheetCellValueEnum["KNOW_YOUR_CLIENT"] = "know your client (kyc)";
    SmartSheetCellValueEnum["FIRST_CUT_MEETING"] = "first cut meeting";
    SmartSheetCellValueEnum["DESIGN_FINALIZATION"] = "design finalization";
    SmartSheetCellValueEnum["REQUEST_PM_FOR_KICKOFF"] = "request pm for kickoff";
    SmartSheetCellValueEnum["KICKOFF_MEETING_AT_SITE"] = "kickoff meeting at site";
    SmartSheetCellValueEnum["DWG_REVISIONS"] = "dwg revisions completed";
    SmartSheetCellValueEnum["GFC_CHECKING"] = "gfc checking";
    SmartSheetCellValueEnum["DESIGN_SIGN_OFF"] = "design sign off";
    SmartSheetCellValueEnum["PROJECT_RECEIVED_FOR_PLANNING"] = "project received for planning";
    SmartSheetCellValueEnum["THIRTYFIVE_PAYMENT_CONFIRMATION"] = "35% payment confirmation";
    SmartSheetCellValueEnum["PRODUCTION"] = "production";
    SmartSheetCellValueEnum["READY_FOR_DISPATCH"] = "ready for dispatch";
    SmartSheetCellValueEnum["READY_FOR_HANDOVER"] = "ready for handover";
    SmartSheetCellValueEnum["HANDOVER"] = "handover";
    SmartSheetCellValueEnum["DESIGN_SIGN_OFF_PRESENTATION"] = "design sign off presentation";
    SmartSheetCellValueEnum["PENDING_HARDWARE_QC"] = "pending hardware qc";
    SmartSheetCellValueEnum["SITE_SURVEY_COMPLETE"] = "site survey complete";
    SmartSheetCellValueEnum["DESIGN_PRESENTATION"] = "design presentation";
    SmartSheetCellValueEnum["FOURTYFIVE_PAYMENT_CONFIRMATION"] = "45% payment confirmation";
    SmartSheetCellValueEnum["FIFTEEN_PAYMENT_CONFIRMATION"] = "15% payment confirmation";
})(SmartSheetCellValueEnum || (SmartSheetCellValueEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SmartSheetCellValueEnum);


/***/ }),

/***/ "./src/domain/enumerations/SmartSheetColumnNameEnum.ts":
/*!*************************************************************!*\
  !*** ./src/domain/enumerations/SmartSheetColumnNameEnum.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var SmartSheetColumnNameEnum;
(function (SmartSheetColumnNameEnum) {
    SmartSheetColumnNameEnum["SUMMARY_DETAILS"] = "summary details";
    SmartSheetColumnNameEnum["ACTUAL_START"] = "actual start";
    SmartSheetColumnNameEnum["ACTUAL_FINISH"] = "actual finish";
    SmartSheetColumnNameEnum["ORIGINAL_PLANNED_START_DATE"] = "original planned start";
    SmartSheetColumnNameEnum["ORIGINAL_PLANNED_FINISH_DATE"] = "original planned finish";
    SmartSheetColumnNameEnum["ASSIGN_TO"] = "assigned to";
    SmartSheetColumnNameEnum["TASK_STATUS"] = "task status";
    SmartSheetColumnNameEnum["CURRENT_FORECAST_START"] = "current forecast start";
    SmartSheetColumnNameEnum["CURRENT_FORECAST_FINISH"] = "current forecast finish";
    SmartSheetColumnNameEnum["TASK_NAME"] = "task name";
})(SmartSheetColumnNameEnum || (SmartSheetColumnNameEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SmartSheetColumnNameEnum);


/***/ }),

/***/ "./src/domain/enumerations/SupportCaseStatusEnum .ts":
/*!***********************************************************!*\
  !*** ./src/domain/enumerations/SupportCaseStatusEnum .ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var SupportCaseStatusEnum;
(function (SupportCaseStatusEnum) {
    SupportCaseStatusEnum[SupportCaseStatusEnum["OPEN"] = 1] = "OPEN";
    SupportCaseStatusEnum[SupportCaseStatusEnum["CLOSED"] = 2] = "CLOSED";
    SupportCaseStatusEnum[SupportCaseStatusEnum["AWAITING_REPLY"] = 3] = "AWAITING_REPLY";
    SupportCaseStatusEnum[SupportCaseStatusEnum["IN_PROGRESS"] = 4] = "IN_PROGRESS";
})(SupportCaseStatusEnum || (SupportCaseStatusEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SupportCaseStatusEnum);


/***/ }),

/***/ "./src/domain/enumerations/SupportPalConcernTypeEnum.ts.ts":
/*!*****************************************************************!*\
  !*** ./src/domain/enumerations/SupportPalConcernTypeEnum.ts.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var SupportPalConcernTypeEnum;
(function (SupportPalConcernTypeEnum) {
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Customer Dashboard"] = 0] = "Customer Dashboard";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["3D Render"] = 1] = "3D Render";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Cancel the Project"] = 2] = "Cancel the Project";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Clarification on Costing"] = 3] = "Clarification on Costing";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Delay compensation"] = 4] = "Delay compensation";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Delay in Design Phase"] = 5] = "Delay in Design Phase";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Design Error"] = 6] = "Design Error";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Incorrect committment on Material"] = 7] = "Incorrect committment on Material";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Incorrect committment on Price"] = 8] = "Incorrect committment on Price";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Issue with design"] = 9] = "Issue with design";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Issue with proposal"] = 10] = "Issue with proposal";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Lack of Communication"] = 11] = "Lack of Communication";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Lack of internal co-ordination"] = 12] = "Lack of internal co-ordination";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Material Selection"] = 13] = "Material Selection";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Not happy with team"] = 14] = "Not happy with team";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Partial refund"] = 15] = "Partial refund";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Poor behaviour"] = 16] = "Poor behaviour";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Project Timelines"] = 17] = "Project Timelines";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Refund"] = 18] = "Refund";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Request for change in PM / Designer"] = 19] = "Request for change in PM / Designer";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Site maintenance"] = 20] = "Site maintenance";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Discounts / EMI Scheme"] = 21] = "Discounts / EMI Scheme";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Dispatch delayed after payment"] = 22] = "Dispatch delayed after payment";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Invoice Related"] = 23] = "Invoice Related";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Referral"] = 24] = "Referral";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Clarity on Warranty"] = 25] = "Clarity on Warranty";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Client Site damaged during installation"] = 26] = "Client Site damaged during installation";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Delay in Production & Installation"] = 27] = "Delay in Production & Installation";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Delay in sharing quote"] = 28] = "Delay in sharing quote";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Design Error Found during Installation"] = 29] = "Design Error Found during Installation";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Execution Delay"] = 30] = "Execution Delay";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Execution Quality"] = 31] = "Execution Quality";
    SupportPalConcernTypeEnum[SupportPalConcernTypeEnum["Issues with site works"] = 32] = "Issues with site works";
})(SupportPalConcernTypeEnum || (SupportPalConcernTypeEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SupportPalConcernTypeEnum);


/***/ }),

/***/ "./src/domain/enumerations/TimePeriodLeadMeetingEnum.ts":
/*!**************************************************************!*\
  !*** ./src/domain/enumerations/TimePeriodLeadMeetingEnum.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimePeriodLeadMeetingEnum": () => (/* binding */ TimePeriodLeadMeetingEnum),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var TimePeriodLeadMeetingEnum;
(function (TimePeriodLeadMeetingEnum) {
    TimePeriodLeadMeetingEnum[TimePeriodLeadMeetingEnum["THIS_WEEK"] = 0] = "THIS_WEEK";
    TimePeriodLeadMeetingEnum[TimePeriodLeadMeetingEnum["NEXT_WEEK"] = 1] = "NEXT_WEEK";
    TimePeriodLeadMeetingEnum[TimePeriodLeadMeetingEnum["ALL"] = -1] = "ALL";
})(TimePeriodLeadMeetingEnum || (TimePeriodLeadMeetingEnum = {}));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TimePeriodLeadMeetingEnum);


/***/ }),

/***/ "./src/domain/services/baseUseCase/baseUseCase.ts":
/*!********************************************************!*\
  !*** ./src/domain/services/baseUseCase/baseUseCase.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UploadFileOnS3": () => (/* binding */ UploadFileOnS3),
/* harmony export */   "XmlToPdf": () => (/* binding */ XmlToPdf),
/* harmony export */   "addComponentDataToRoomListAndReturn": () => (/* binding */ addComponentDataToRoomListAndReturn),
/* harmony export */   "addRoomNamesAndReturnRoomList": () => (/* binding */ addRoomNamesAndReturnRoomList),
/* harmony export */   "deleteBlob": () => (/* binding */ deleteBlob),
/* harmony export */   "getBuffer": () => (/* binding */ getBuffer),
/* harmony export */   "getConnection": () => (/* binding */ getConnection),
/* harmony export */   "getRoomListArrayFromXmlData": () => (/* binding */ getRoomListArrayFromXmlData),
/* harmony export */   "getRoomNames": () => (/* binding */ getRoomNames),
/* harmony export */   "getUrlToUpload": () => (/* binding */ getUrlToUpload),
/* harmony export */   "triggerEmailNotification": () => (/* binding */ triggerEmailNotification),
/* harmony export */   "uploadFloorPlanAtSalesForce": () => (/* binding */ uploadFloorPlanAtSalesForce)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _core_fileStorageServices_AwsStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/fileStorageServices/AwsStorage */ "./src/core/fileStorageServices/AwsStorage.ts");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xml-js */ "xml-js");
/* harmony import */ var xml_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xml_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jsforce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsforce */ "jsforce");
/* harmony import */ var jsforce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsforce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _domain_services_notification_NotificationService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../domain/services/notification/NotificationService */ "./src/domain/services/notification/NotificationService.ts");







async function getConnection() {
    var conn = new jsforce__WEBPACK_IMPORTED_MODULE_3__.Connection({
        loginUrl: process.env.salesforceLoginUrl,
    });
    await conn.login(process.env.salesforceEmail, process.env.salesforcePassword, function (err, _userInfo) {
        console.log(err, "error");
        console.log(conn.accessToken, "ssss");
    });
    return conn;
}
async function UploadFileOnS3(attachment) {
    const key = attachment.key;
    const fileObj = await (0,_core_fileStorageServices_AwsStorage__WEBPACK_IMPORTED_MODULE_1__.create)({
        accessKeyId: process.env.awsAccessKeyId,
        secretAccessKey: process.env.awsSecretAccessKey,
        region: process.env.awsRegion,
        bucket: process.env.awsBucket,
    }).uploadDocumentBuffer(key, attachment.contentType, attachment.base64);
    const attachmentObj = {
        filekey: key,
        location: fileObj.Location,
        contenttype: attachment.contentType,
        customer: attachment.customerid,
        user: attachment.userid,
        ispreorpost: attachment.ispreorpost,
        leadid: attachment.leadid,
        opportunityid: attachment.opportunityid,
        momid: attachment.momid,
        commentid: attachment.commentid,
        displayname: attachment.displayname,
        created_at: new Date(),
    };
    console.log(234, attachmentObj);
    const saveToDb = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.upsert({
        where: {
            location: attachmentObj.location,
        },
        update: attachmentObj,
        create: attachmentObj,
    });
    console.log(saveToDb);
    return saveToDb;
}
const triggerEmailNotification = async (to, subject, content, cc, attachments = null) => {
    content = content.replace(/(\r\n|\r|\n)/g, "<br>");
    const notificationService = new _domain_services_notification_NotificationService__WEBPACK_IMPORTED_MODULE_6__["default"]();
    return notificationService.sendEmail(null, to, subject, content, cc, null, attachments);
};
const deleteBlob = async (keys) => {
    return (0,_core_fileStorageServices_AwsStorage__WEBPACK_IMPORTED_MODULE_1__.create)({
        accessKeyId: process.env.awsAccessKeyId,
        secretAccessKey: process.env.awsSecretAccessKey,
        region: process.env.awsRegion,
        bucket: process.env.awsBucket,
    }).deleteFromAws(keys);
};
async function getBuffer(key) {
    return (0,_core_fileStorageServices_AwsStorage__WEBPACK_IMPORTED_MODULE_1__.create)({
        accessKeyId: process.env.awsAccessKeyId,
        secretAccessKey: process.env.awsSecretAccessKey,
        region: process.env.awsRegion,
        bucket: process.env.awsBucket,
    }).getBuffer(key);
}
async function getUrlToUpload(key, signedUrlExpireTime, contentType) {
    return (0,_core_fileStorageServices_AwsStorage__WEBPACK_IMPORTED_MODULE_1__.create)({
        accessKeyId: process.env.awsAccessKeyId,
        secretAccessKey: process.env.awsSecretAccessKey,
        region: process.env.awsRegion,
        bucket: process.env.awsBucket,
    }).getFileUrlToUpload(key, signedUrlExpireTime, contentType);
}
function getRoomNames(builderList) {
    try {
        const roomsArr = [];
        let count = 1;
        let roomNameObj;
        let roomNameFromSplit;
        let _list = [];
        if (!Array.isArray(builderList)) {
            _list.push(builderList);
        }
        else {
            _list = builderList;
        }
        _list.forEach((element) => {
            if (count === Math.floor(element.hierarchicalPos._text)) {
                roomNameFromSplit = element.PVarString._text.split("ROOMNAME:=");
                if (!roomNameFromSplit[1]) {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(400, "Room name not found. Please upload appropriate Xml!");
                }
                roomNameObj = roomNameFromSplit[1];
                roomsArr.push(roomNameObj);
                count++;
            }
        });
        return roomsArr;
    }
    catch (error) {
        console.log(error);
        throw error;
    }
}
function getRoomListArrayFromXmlData(xmlJsonObj, roomList) {
    try {
        const builderList = xmlJsonObj.XML.Order.BuilderList.Set;
        let _list = [];
        if (!Array.isArray(builderList)) {
            _list.push(builderList);
        }
        else {
            _list = builderList;
        }
        let roomsArr = [];
        roomsArr = getRoomNames(_list);
        roomList = addRoomNamesAndReturnRoomList(roomList, roomsArr);
        roomList = addComponentDataToRoomListAndReturn(roomList, _list);
        return roomList;
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(500, error);
    }
}
function addRoomNamesAndReturnRoomList(roomList, roomsArr) {
    try {
        let obj;
        for (const room of roomsArr) {
            obj = {
                custRoomName: "",
                roomPrice: "",
                roomCost: "",
                compData: [],
                roomName: "",
                totalQuantity: "",
            };
            obj.custRoomName = room;
            obj.roomName = room;
            roomList.push(obj);
        }
        return roomList;
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(500, error);
    }
}
function addComponentDataToRoomListAndReturn(roomList, compSet) {
    try {
        let compObj;
        roomList.forEach((room, index) => {
            let price = 0, totalQuantity = 0;
            compSet.forEach((comp) => {
                compObj = {
                    componentCost: 0,
                    description: "",
                    componentName: "",
                    componentImage: "",
                    componentIndex: "",
                    quantity: 0,
                    totalCompCost: 0,
                };
                if (Math.floor(comp.hierarchicalPos._text) === index + 1) {
                    compObj.componentIndex = comp.hierarchicalPos._text;
                    compObj.componentCost = +comp.ARTICLE_PRICE_INFO1._text;
                    compObj.componentName = comp.ARTICLE_TEXT_INFO1._text;
                    compObj.description = comp.ARTICLE_TEXT_INFO2._text;
                    compObj.componentImage = comp.ARTICLE_IMAGE._text
                        ? comp.ARTICLE_IMAGE._text
                        : "";
                    compObj.quantity = +comp.Count._text;
                    compObj.totalCompCost = +compObj.quantity * +compObj.componentCost;
                    room.compData.push(compObj);
                    price += +compObj.totalCompCost;
                    totalQuantity += compObj.quantity;
                    return;
                }
            });
            room.roomPrice = price.toFixed(2);
            room.roomCost = price.toFixed(2);
            room.totalQuantity = totalQuantity;
        });
        return roomList;
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(500, error);
    }
}
async function XmlToPdf(xmlObj) {
    var _a, _b;
    try {
        const { from, file, type, discount, customerId, absoluteDiscount, opportunityId, isPmFeeIncluded, cityPmFee, leadid, displayname, } = xmlObj;
        let pdfName;
        const attachmentObj = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_attachments.findFirst({
            where: {
                location: file,
            },
        });
        if (!attachmentObj) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(400, "Attachment not found");
        }
        let _commonRoomList = [];
        const xml = await getBuffer(attachmentObj.filekey);
        const result = await xml_js__WEBPACK_IMPORTED_MODULE_2___default().xml2json(xml, {
            compact: true,
            spaces: 4,
        });
        const mainObj = JSON.parse(result);
        const clientName = mainObj.XML.Order.Head.CONTACT_ADDRESS1._text;
        const absoluteDiscountVal = from === "Sales Force"
            ? absoluteDiscount
            : parseInt(mainObj.XML.Order.Head.CUSTOM_INFO5._text);
        const quote = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.quote.findMany({
            where: { opportunityid: opportunityId },
        });
        const count = quote === null || quote === void 0 ? void 0 : quote.length;
        if (type === "modularXml") {
            pdfName = `${customerId}_${clientName}(${count})modular_myQuote.pdf`;
        }
        else if (type === "siteServiceXml") {
            pdfName = `${customerId}_${clientName}(${count})site_myQuote.pdf`;
        }
        _commonRoomList = getRoomListArrayFromXmlData(mainObj, _commonRoomList);
        const Obj = {
            pdfName,
            leadId: leadid,
            displayName: displayname,
            parsedData: mainObj,
            roomsArray: _commonRoomList,
            discount: discount,
            absoluteDiscount: absoluteDiscountVal || 0,
            opportunityId,
            isPmFeeIncluded,
            cityPmFee,
            clientOrProjectName: clientName,
        };
        const response = await superagent__WEBPACK_IMPORTED_MODULE_4___default().put(`${process.env.PDFGENERATE}/generateProposalPdf`)
            .send(Obj)
            .timeout(180000)
            .set("Content-Type", "application/json");
        return {
            roomList: _commonRoomList,
            s3Location: (_b = (_a = response === null || response === void 0 ? void 0 : response._body) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.Location,
            clientName: clientName,
        };
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(500, error);
    }
}
const uploadFloorPlanAtSalesForce = async (body) => {
    try {
        const url = `${process.env.floorPlanSFUrl}/Floorplan`;
        const res = await superagent__WEBPACK_IMPORTED_MODULE_4___default().post(url)
            .send(body)
            .set("Content-Type", "application/json");
        return res === null || res === void 0 ? void 0 : res.body;
    }
    catch (error) {
        console.log(error);
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_5___default())(400, error);
    }
};


/***/ }),

/***/ "./src/domain/services/baseUseCase/supportpalBaseUseCase.ts":
/*!******************************************************************!*\
  !*** ./src/domain/services/baseUseCase/supportpalBaseUseCase.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SupportPalBaseUsecase": () => (/* binding */ SupportPalBaseUsecase)
/* harmony export */ });
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! standard-http-error */ "standard-http-error");
/* harmony import */ var standard_http_error__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(standard_http_error__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../supportpal/SupportPalApi */ "./src/domain/services/supportpal/SupportPalApi.ts");
/* harmony import */ var _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../domain/enumerations/ProfileTypeEnumUtil */ "./src/domain/enumerations/ProfileTypeEnumUtil.ts");



const supportpalapi = new _supportpal_SupportPalApi__WEBPACK_IMPORTED_MODULE_1__["default"]();
const message = "Operator not found";
const SupportPalBaseUsecase = () => {
    const spurl = "ticket/ticket";
    const getAllTickets = async (user, status = null, casenumber = null) => {
        let url = spurl;
        const operatorId = user.supportpaloperatorid;
        const operatorEmail = user.customeremail;
        console.log("OPERATOR EMAIL====>" + operatorEmail);
        console.log("OPERATOR ID====>" + operatorId);
        if (operatorEmail || operatorId) {
            if (operatorId) {
                url += "?user=" + operatorId;
            }
            else if (operatorEmail) {
                const operatorIdFromEmail = await getOrAddUserAndReturnId(operatorEmail, user.name);
                user.supportpaloperatorid = operatorIdFromEmail;
                await user.save();
                if (operatorIdFromEmail) {
                    url += "?user=" + operatorIdFromEmail;
                }
            }
        }
        else {
            throw Error("Kindly update email in view profile");
        }
        if (url !== spurl) {
            if (status) {
                url += "&status=" + status;
            }
            if (casenumber) {
                url += "&number=" + casenumber;
            }
            console.log("SupportPalApi URL ===================================>>>>>>>>>>>>>>>>" +
                url);
            const tickets = await supportpalapi.getFromSupportPalApi(url);
            return tickets;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, message);
        }
    };
    const getAllTicketsBasedOnUser = async (id, user, supportreq, status, searchKey, searchValue, pageRequestBody) => {
        const { pageSize, pageIndex } = pageRequestBody;
        let url = spurl;
        if (user) {
            switch (user.profileid) {
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.IN_HOUSE_DESIGNER:
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.DESIGN_PARTNER:
                    url += `?customfield[` + `${id}` + `]=` + `${user.designcafeemail}`;
                    break;
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.ASSOCIATE_STUDIO_MANAGER:
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.STUDIO_MANAGER:
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.STUDIO_MANAGER_DP:
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.CENTER_DELIVERY_HEAD:
                case _domain_enumerations_ProfileTypeEnumUtil__WEBPACK_IMPORTED_MODULE_2__.ProfileTypeEnumCode.CITY_DELIVERY_HEAD:
                    url += `?customfield[` + `${id}` + `]=` + `${supportreq}`;
                    break;
                default:
                    url += "?assigned=" + id;
                    break;
            }
        }
        if (url !== spurl) {
            url = await getUrl(url, status, searchKey, searchValue);
            if (pageSize) {
                url += "&limit=" + pageSize;
            }
            if (pageIndex) {
                url += "&start=" + pageIndex;
            }
        }
        else {
            if (pageSize) {
                url += "?limit=" + pageSize;
            }
            if (pageIndex) {
                url += "&start=" + pageIndex;
            }
            url = await getUrl(url, status, searchKey, searchValue);
        }
        console.log("SupportPalApi URL ===================================>>>>>>>>>>>>>>>>" +
            url);
        const tickets = await supportpalapi.getFromSupportPalApi(url);
        return tickets;
    };
    const getTicketMessages = async (ticketId) => {
        const url = `ticket/message?ticket_id=${ticketId}&is_draft=0`;
        const messages = await supportpalapi.getFromSupportPalApi(url);
        return messages;
    };
    const getSupportpalCustomField = () => {
        return {
            MGDC: 133,
            WDC: 134,
            HSRDC: 135,
            "Mumbai DC": 136,
            "Hyderabad DC": 137,
            "Chennai DC": 138,
            JPDC: 272,
            KDRMYS: 273,
            YERPUN: 274,
            BHHYD: 275,
            "Thane DC": 276,
            SJPBLR: 277,
            KHMUM: 278,
            WLMUM: 279,
            OMRCH: 280,
            HRBRBLR: 281,
            Unknown: 139,
            "Pre 5%": 46,
            "5% - 15%": 47,
            "15% - 35%": 48,
            "35% - 45%": 49,
            "45% to handover": 50,
            "Post Handover": 51,
            "Customer Dashboard": 157,
            cf_experienceCenterPk: 22,
            cf_projectNamePk: 3,
            cf_clientidPk: 27,
            cf_projectStagePk: 14,
            cf_sourcePk: 25,
            cf_ticketBucket: 21,
            cf_assigned_designer: 13,
            cf_team_name: 26,
            "TEAM_BHHYD-DPStd-1": 158,
            "TEAM_BHHYD-Std-1": 159,
            "TEAM_Chennai DP": 160,
            "TEAM_Chennai Studio 1": 161,
            "TEAM_DP Bangalore HSRDC": 162,
            "TEAM_DP Bangalore MGDC": 163,
            "TEAM_DP Bangalore WDC": 164,
            "TEAM_DP Hyderabad": 165,
            "TEAM_DP Mumbai": 166,
            "TEAM_DP Thane": 167,
            "TEAM_HSRDC Studio 1": 168,
            "TEAM_Hyderabad Studio 1": 169,
            "TEAM_MGDC Studio 1": 170,
            "TEAM_MGDC Studio 2": 171,
            "TEAM_Mumbai Studio 1": 172,
            "TEAM_Mumbai Studio 2": 173,
            "TEAM_Mumbai Studio 3": 174,
            "TEAM_SJPBLR-Std-1": 288,
            "TEAM_Thane Studio 1": 175,
            "TEAM_WDC Studio 1": 176,
            "TEAM_JPDC XPresso": 283,
            "TEAM_KDRMYS-Std-1": 284,
            "TEAM_KDRMYS-DPStd-1": 285,
            "TEAM_YERPUN-Std-1": 286,
            "TEAM_YERPUN-DPStd-1": 287,
            "TEAM_KHMUM-Std-1": 289,
            "TEAM_KHMUM-DPStd-1": 290,
            "TEAM_WLMUM-Std-1": 291,
            "TEAM_WLMUM-DPStd-1": 292,
            "TEAM_OMRCH-Std-1": 340,
            "TEAM_HRBRBLR-Std-1": 293,
            46: "Pre 5%",
            47: "5% - 15%",
            48: "15% - 35%",
            49: "35% - 45%",
            50: "45% to handover",
            51: "Post Handover",
        };
    };
    return {
        getAllTickets,
        getOrAddOperatorAndReturnId,
        getOrAddUserAndReturnId,
        getSupportpalCustomField,
        getAllTicketsBasedOnUser,
        createOperator,
        createUser,
        getTicketMessages,
    };
};
const getOrAddOperatorAndReturnId = async (email, name, operatorGroup) => {
    var _a, _b;
    let operatorId;
    let response;
    try {
        response = await supportpalapi.getFromSupportPalApi("user/operator?email=" + email);
    }
    catch (err) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, err.message);
    }
    const res = response;
    if (res.data && res.data[0]) {
        operatorId = (_a = res.data[0]) === null || _a === void 0 ? void 0 : _a.id;
    }
    else {
        console.log("name =================> ", name);
        const split = name.split(" ");
        const fn = split[0];
        const ln = split[1];
        const operator = await createOperator({
            firstname: fn,
            lastname: ln,
            email: email,
            password: process.env.supportPalDCPassword,
            group: operatorGroup,
        });
        if (operator) {
            if ((operator === null || operator === void 0 ? void 0 : operator.status) === "error") {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, operator.message);
            }
            operatorId = (_b = operator.data) === null || _b === void 0 ? void 0 : _b.id;
        }
        else {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, message);
        }
    }
    return operatorId;
};
const createOperator = async (operatorBody) => {
    const { firstname, lastname, email, password, group } = operatorBody;
    const body = {
        firstname,
        lastname,
        email,
        password,
        country: "IN",
        timezone: "Asia/Kolkata",
        active: 1,
        groups: [group],
        depts: [process.env.supportPalDepartment],
    };
    const users = await supportpalapi.postToSupportPalApi("user/operator", body);
    return users;
};
const getOrAddUserAndReturnId = async (email, name) => {
    var _a, _b;
    try {
        let operatorId;
        let response;
        try {
            response = await supportpalapi.getFromSupportPalApi("user/user?email=" + email);
        }
        catch (err) {
            throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, err.message);
        }
        const res = response;
        if (res.data && res.data[0]) {
            operatorId = (_a = res.data[0]) === null || _a === void 0 ? void 0 : _a.id;
        }
        else {
            const split = name.split(" ");
            const fn = split[0] ? split[0] : " ";
            const ln = split[1] ? split[1] : " ";
            const operator = await createUser({
                firstname: fn,
                lastname: ln,
                email: email,
                password: process.env.supportPalDCPassword,
                group: 4,
            });
            if (operator) {
                if ((operator === null || operator === void 0 ? void 0 : operator.status) === "error") {
                    throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(401, operator.message);
                }
                operatorId = (_b = operator.data) === null || _b === void 0 ? void 0 : _b.id;
            }
            else {
                throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, "Operator not found");
            }
        }
        return operatorId;
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, error.message);
    }
};
const createUser = async (userBody) => {
    console.log("CREATE USER CALLED");
    try {
        const { firstname, lastname, email, password, group } = userBody;
        const body = {
            firstname,
            lastname,
            email,
            password,
            country: "IN",
            timezone: "Asia/Kolkata",
            active: 1,
            groups: [group],
            depts: [process.env.supportPalDepartment],
        };
        const users = await supportpalapi.postToSupportPalApi("user/user", body);
        return users;
    }
    catch (error) {
        throw new (standard_http_error__WEBPACK_IMPORTED_MODULE_0___default())(400, error.message);
    }
};
const getUrl = async (url, status, searchKey, searchValue) => {
    if (status) {
        url += "&status=" + status;
    }
    if (searchKey && searchValue) {
        if (searchKey === "casenumber") {
            url += "&number=" + searchValue;
        }
        else if (searchKey === "projectname") {
            url += "&customfield[1]=" + searchValue;
        }
    }
    return url;
};


/***/ }),

/***/ "./src/domain/services/notification/NotificationService.ts":
/*!*****************************************************************!*\
  !*** ./src/domain/services/notification/NotificationService.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _core_email_Email__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/email/Email */ "./src/core/email/Email.ts");

class NotificationService {
    constructor() {
        this.emailService = new _core_email_Email__WEBPACK_IMPORTED_MODULE_0__["default"](process.env.adminEmailId, process.env.emailUserName, process.env.emailPassword, process.env.emailSenderId);
    }
    async sendEmail(name, email, title, body, cc, bcc, attachments) {
        try {
            return this.emailService.sendMail(name, email, title, body, cc, bcc, attachments);
        }
        catch (error) {
            console.log(error);
            throw error;
        }
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NotificationService);


/***/ }),

/***/ "./src/domain/services/oAuth/GoogleOAuth.ts":
/*!**************************************************!*\
  !*** ./src/domain/services/oAuth/GoogleOAuth.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GoogleOAuth": () => (/* binding */ GoogleOAuth)
/* harmony export */ });
/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! googleapis */ "googleapis");
/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(googleapis__WEBPACK_IMPORTED_MODULE_0__);

const GoogleOAuth = ({ clientId, clientSecret, redirectionUrl }) => {
    const oauth2Client = new googleapis__WEBPACK_IMPORTED_MODULE_0__.google.auth.OAuth2(clientId, clientSecret, redirectionUrl);
    googleapis__WEBPACK_IMPORTED_MODULE_0__.google.fitness({
        version: "v1",
        auth: oauth2Client,
    });
    const getAuthorizeUrl = (scope) => {
        return oauth2Client.generateAuthUrl({
            access_type: "offline",
            scope: scope,
            prompt: "consent",
        });
    };
    const getAccessToken = async (code) => {
        try {
            const response = await oauth2Client.getToken(code);
            oauth2Client.setCredentials(response.tokens);
            return response.tokens;
        }
        catch (error) {
            console.error(error);
            throw error;
        }
    };
    const refreshAccessToken = async () => {
        try {
            oauth2Client.refreshAccessToken((err, resp) => {
                return {
                    refreshToken: resp.refresh_token,
                    accessToken: resp.access_token,
                };
            });
        }
        catch (error) {
            console.error(error);
            throw error;
        }
    };
    return { getAuthorizeUrl, getAccessToken, refreshAccessToken };
};


/***/ }),

/***/ "./src/domain/services/supportpal/SupportPalApi.ts":
/*!*********************************************************!*\
  !*** ./src/domain/services/supportpal/SupportPalApi.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-datasource-rest */ "apollo-datasource-rest");
/* harmony import */ var apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__);

const btoa = __webpack_require__(/*! btoa */ "btoa");
class SupportPalApicopy extends apollo_datasource_rest__WEBPACK_IMPORTED_MODULE_0__.RESTDataSource {
    constructor() {
        super();
        this.baseURL = process.env.supportPalUrl;
        this.initialize({});
    }
    deleteCacheForRequest(request) {
        this.memoizedResults.delete(this.cacheKeyFor(request));
    }
    didReceiveResponse(response, request) {
        this.deleteCacheForRequest(request);
        return super.didReceiveResponse(response, request);
    }
    didEncounterError(error, request) {
        this.deleteCacheForRequest(request);
        return super.didEncounterError(error, request);
    }
    willSendRequest(request) {
        request.headers.set('Content-Type', "application/json");
        request.headers.set('Cache-Control', "no-cache");
        request.headers.set('Authorization', 'Basic ' + btoa('BU!VO!pUe!2JJ9tO!com7I35oQi5xSi9:DC@123'));
        console.log(87, JSON.stringify(request.headers));
    }
    async getFromSupportPalApi(url) {
        const data = await this.get(url);
        return data;
    }
    async postToSupportPalApi(url, body) {
        const data = await this.post(url, body);
        return data;
    }
    async updateToSupportPalApi(url, body) {
        const data = await this.put(url, body);
        return data;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SupportPalApicopy);


/***/ }),

/***/ "./src/domain/services/template/EmailTemplate.ts":
/*!*******************************************************!*\
  !*** ./src/domain/services/template/EmailTemplate.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const bookingFormGenerateTemplate = () => {
    return `
    It has been a pleasure interacting with you and we are delighted that you have chosen Design Cafe as your home interiors partner. <br/>

    Your booking form is generated with all the requirement, payment details and terms & condition of the engagement.<br/> 
    
    Please review and confirm your booking form by visiting your customer dashboard <a href=${process.env.customerDashboardUrl}> here </a>. <br/>

    Please login using your registered mobile no. You will recieve an auto generated OTP to help you login. 

  
  `;
};
const bookingFormAcceptTemplate = () => {
    return `
    Thank you for choosing us as your home interiors partner and accepting the booking form. Please find your signed booking form attached for future reference. <br/>

    You can also access your booking form anytime by visiting your customer dashboard <a href=${process.env.customerDashboardUrl}> here </a>. <br/>

    You are now just a step away to saying yes, to your dream home. 

 `;
};
const paymentRequestTemplate = (customer, clientId) => {
    return `Hi ${customer.firstname}
  <br><br>
  There's a new payment request for your project ${clientId}. Click on the link below to login to dashboard and process the payment.
  <br>
  ${process.env.customerDashboardUrl}
  <br><br>
  1. Once logged in, go to the Invoice & Payment section.
  <br>
  2. Select the payment request and click on continue.
  <br>
  3. Confirm Billing and shipping information.
  <br>
  4. Process the payment.
  <br><br>
  *Please ignore if the payment is already processed.
  `;
};
const exportFile = {
    bookingFormGenerateTemplate,
    bookingFormAcceptTemplate,
    paymentRequestTemplate
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (exportFile);


/***/ }),

/***/ "./src/domain/services/widgetServices/achievedRevenueRatio.ts":
/*!********************************************************************!*\
  !*** ./src/domain/services/widgetServices/achievedRevenueRatio.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "achievedRevenueRatio": () => (/* binding */ achievedRevenueRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs/plugin/isBetween */ "dayjs/plugin/isBetween");
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "dayjs/plugin/isoWeek");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_3__);




dayjs__WEBPACK_IMPORTED_MODULE_1___default().extend((dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_2___default()));
dayjs__WEBPACK_IMPORTED_MODULE_1___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_3___default()));
const achievedRevenueRatio = async (user, month) => {
    var _a;
    const projectPredicate = {};
    let res;
    switch (user.profile.access_level) {
        case 0:
            projectPredicate.designerid = user.userid;
            res = getAchievedRevenueForProjects(projectPredicate, month);
            break;
        case 1:
            (_a = user.users_team) === null || _a === void 0 ? void 0 : _a.map(async (team) => {
                projectPredicate.designstudioid = team.teamid;
            });
            res = getAchievedRevenueForProjects(projectPredicate, month);
            break;
    }
    return res;
};
const getAchievedRevenueForProjects = async (projectPredicate, month) => {
    console.log("project Predicate", projectPredicate);
    let totalRevenue = 0;
    const date = new Date();
    const currentMonthStart = new Date(date.getFullYear(), date.getMonth(), 1);
    const currentMonthEnd = new Date(date.getFullYear(), date.getMonth() + 1, 0);
    const lastMonthStart = new Date(date.getFullYear(), date.getMonth() - 1, 1);
    const lastMonthEnd = new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0);
    const projects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findMany({ where: projectPredicate });
    await Promise.all(projects.map(async (project) => {
        const payments = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_paymentreceipts.findMany({ where: { clientid: project.projectid } });
        if (payments) {
            payments.map(async (payment) => {
                const paymentRecievedDate = payment.paymentreceiveddate;
                if (paymentRecievedDate) {
                    const paymentRecievedDateToDate = dayjs__WEBPACK_IMPORTED_MODULE_1___default()(paymentRecievedDate);
                    if (month === 0) {
                        if (paymentRecievedDateToDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]")) {
                            totalRevenue = totalRevenue + payment.receivedamount;
                        }
                    }
                    else if (month === 1) {
                        if (paymentRecievedDateToDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]")) {
                            totalRevenue = totalRevenue + payment.receivedamount;
                        }
                    }
                }
            });
        }
    }));
    return totalRevenue;
};


/***/ }),

/***/ "./src/domain/services/widgetServices/broadcastedLeadsRatio.ts":
/*!*********************************************************************!*\
  !*** ./src/domain/services/widgetServices/broadcastedLeadsRatio.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "broadcastedLeadsRatio": () => (/* binding */ broadcastedLeadsRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");


const broadcastedLeadsRatio = async (user) => {
    let count;
    const fetchedUser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(user.userid);
    const whereCondition = {};
    switch (user.profile.access_level) {
        case 0:
            if (fetchedUser[0].iseligibleforleadmeetings) {
                whereCondition.broadcast_status__c = "0";
                whereCondition.OR = [];
                fetchedUser[0].teams.forEach((teamAssignedToUser) => {
                    whereCondition.OR.push({
                        designer_team_name__c: teamAssignedToUser.name,
                    });
                });
                const leadsForDesigner = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({ where: whereCondition });
                count = await fetchMatchingLeads(leadsForDesigner);
            }
            else {
                count = 0;
            }
            break;
        case 1:
            whereCondition.broadcast_status__c = "0";
            whereCondition.OR = [];
            fetchedUser[0].teams.forEach((team) => {
                whereCondition.OR.push({
                    designer_team_name__c: team.name,
                });
            });
            const leadsForStudio = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({ where: whereCondition });
            count = await fetchMatchingLeads(leadsForStudio);
            break;
    }
    return count;
};
const fetchMatchingLeads = async (leads) => {
    let newleads = 0;
    const date = new Date();
    const today = `${date.getFullYear()}` + `-` + `${(date.getMonth() + 1)}` + `-` + `${date.getDate()}`;
    leads.map((lead) => {
        const leadDateWithTime = lead.willingness_for_meeting__c;
        if (leadDateWithTime) {
            const lddate = `${leadDateWithTime.getFullYear()}` + `-` + `${(leadDateWithTime.getMonth() + 1)}` + `-` + `${leadDateWithTime.getDate()}`;
            const todayDate = new Date(today);
            const leadDate = new Date(lddate);
            if (leadDate > todayDate) {
                console.log(lead.id);
                newleads++;
            }
        }
    });
    return newleads;
};


/***/ }),

/***/ "./src/domain/services/widgetServices/leadSummaryRatio.ts":
/*!****************************************************************!*\
  !*** ./src/domain/services/widgetServices/leadSummaryRatio.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "leadSummaryRatio": () => (/* binding */ leadSummaryRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/isBetween */ "dayjs/plugin/isBetween");
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "dayjs/plugin/isoWeek");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4__);





dayjs__WEBPACK_IMPORTED_MODULE_2___default().extend((dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3___default()));
dayjs__WEBPACK_IMPORTED_MODULE_2___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4___default()));
const leadSummaryRatio = async (user, monthInReq) => {
    var _a;
    let leadPredicate = {};
    let opportunitypredicate = {};
    let res;
    switch (user.profile.access_level) {
        case 0:
            leadPredicate.OR = [];
            leadPredicate.OR.push({ status: "Meeting Scheduled" }, { status: "Meeting Confirmed" }, { status: "Converted" });
            leadPredicate.AND = { design_user__c: user.salesforceuserid };
            opportunitypredicate.design_user__c = user.salesforceuserid;
            res = getLeadSummaryData(leadPredicate, opportunitypredicate, monthInReq);
            break;
        case 1:
            const fetchedUser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(user.userid);
            const teamArr = [];
            const stageNameArr = [];
            const designers = {};
            designers.OR = [];
            opportunitypredicate.OR = [];
            const statusQuery = [
                { status: "Meeting Scheduled" },
                { status: "Meeting Confirmed" },
                { status: "Converted" }
            ];
            await Promise.all((_a = fetchedUser[0].teams) === null || _a === void 0 ? void 0 : _a.map(async (team) => {
                teamArr.push({
                    designer_team_name__c: team.name
                });
                stageNameArr.push({
                    studio_name__c: team.name
                });
            }));
            leadPredicate = {
                OR: statusQuery,
                AND: {
                    OR: teamArr,
                }
            };
            opportunitypredicate = {
                OR: stageNameArr
            };
            res = getLeadSummaryData(leadPredicate, opportunitypredicate, monthInReq);
            break;
    }
    return res;
};
const getLeadSummaryData = async (predicate, opportunityPredicate, month) => {
    console.log("Lead predicate", predicate);
    console.log("OPportunity Predicate", opportunityPredicate);
    const leads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({
        where: predicate
    });
    const opportunities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findMany({
        where: opportunityPredicate
    });
    let leadMeetingScheduledCount = 0, opportunityMeetingDoneCount = 0, opportunityClosedWonCount = 0, opportunityClosedLostCount = 0;
    const date = new Date();
    const currentMonthStart = new Date(date.getFullYear(), date.getMonth(), 1);
    const currentMonthEnd = new Date(date.getFullYear(), date.getMonth() + 1, 0);
    const lastMonthStart = new Date(date.getFullYear(), date.getMonth() - 1, 1);
    const lastMonthEnd = new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0);
    if (month === 0) {
        leads.map((lead) => {
            const meetingScheduledDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(lead.willingness_for_meeting__c);
            if (meetingScheduledDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]")) {
                leadMeetingScheduledCount++;
            }
        });
        opportunities.map((opportunity) => {
            const stagename = opportunity.stagename;
            const createdDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(opportunity.createddate);
            const closedDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(opportunity.closedate);
            if (createdDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]")) {
                opportunityMeetingDoneCount++;
            }
            if (closedDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]") && stagename === "Closed Won") {
                opportunityClosedWonCount++;
            }
            if (closedDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]") && stagename === "Closed Lost") {
                opportunityClosedLostCount++;
            }
        });
    }
    else if (month === 1) {
        leads.map((lead) => {
            const meetingScheduledDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(lead.willingness_for_meeting__c);
            if (meetingScheduledDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]")) {
                leadMeetingScheduledCount++;
            }
        });
        opportunities.map((opportunity) => {
            const stagename = opportunity.stagename;
            const createdDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(opportunity.createddate);
            const closedDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(opportunity.closedate);
            if (createdDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]")) {
                opportunityMeetingDoneCount++;
            }
            if (closedDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]") && stagename === "Closed Won") {
                opportunityClosedWonCount++;
            }
            if (closedDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]") && stagename === "Closed Lost") {
                opportunityClosedLostCount++;
            }
        });
    }
    let leadConversion;
    if (opportunityMeetingDoneCount !== 0) {
        leadConversion = (opportunityClosedWonCount * 100) / opportunityMeetingDoneCount;
    }
    else {
        leadConversion = 0;
    }
    return {
        meetingScheduled: leadMeetingScheduledCount,
        meetingDone: opportunityMeetingDoneCount,
        closeWon: opportunityClosedWonCount,
        closedLost: opportunityClosedLostCount,
        percentage: leadConversion
    };
};


/***/ }),

/***/ "./src/domain/services/widgetServices/proposalSentRatio.ts":
/*!*****************************************************************!*\
  !*** ./src/domain/services/widgetServices/proposalSentRatio.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "proposalSentRatio": () => (/* binding */ proposalSentRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs/plugin/isBetween */ "dayjs/plugin/isBetween");
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "dayjs/plugin/isoWeek");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4__);





dayjs__WEBPACK_IMPORTED_MODULE_2___default().extend((dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_3___default()));
dayjs__WEBPACK_IMPORTED_MODULE_2___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_4___default()));
const proposalSentRatio = async (user, month) => {
    var _a;
    const oppopredicate = {};
    let res;
    switch (user.profile.access_level) {
        case 0:
            oppopredicate.design_user__c = user.salesforceuserid;
            res = getProposalSentData(oppopredicate, month);
            break;
        case 1:
            const fetchedUser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(user.userid);
            oppopredicate.OR = [];
            await Promise.all((_a = fetchedUser[0].teams) === null || _a === void 0 ? void 0 : _a.map(async (team) => {
                oppopredicate.OR.push({
                    studio_name__c: team.name
                });
            }));
            res = getProposalSentData(oppopredicate, month);
            break;
    }
    return res;
};
const getProposalSentData = async (opportunityPredicate, month) => {
    console.log("OPportunity Predicate", opportunityPredicate);
    let opportunityCount = 0;
    let oppotunityProposalSentCount = 0;
    const opportunities = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.opportunity.findMany({
        where: opportunityPredicate
    });
    const date = new Date();
    const currentMonthStart = new Date(date.getFullYear(), date.getMonth(), 1);
    const currentMonthEnd = new Date(date.getFullYear(), date.getMonth() + 1, 0);
    const lastMonthStart = new Date(date.getFullYear(), date.getMonth() - 1, 1);
    const lastMonthEnd = new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0);
    opportunities.map((opportunity) => {
        const createdDate = dayjs__WEBPACK_IMPORTED_MODULE_2___default()(opportunity.createddate);
        const stagename = opportunity.stagename;
        if (month === 0) {
            if (createdDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]")) {
                opportunityCount++;
            }
            if (createdDate.isBetween(currentMonthStart, currentMonthEnd, "days", "[]") && stagename === "Proposal Sent") {
                oppotunityProposalSentCount++;
            }
        }
        else if (month === 1) {
            if (createdDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]")) {
                opportunityCount++;
            }
            if (createdDate.isBetween(lastMonthStart, lastMonthEnd, "days", "[]") && stagename === "Proposal Sent") {
                oppotunityProposalSentCount++;
            }
        }
    });
    let percentage;
    if (opportunityCount !== 0) {
        percentage = (oppotunityProposalSentCount * 100) / opportunityCount;
    }
    else {
        percentage = 0;
    }
    return {
        percentage: percentage,
        totalProposalSent: oppotunityProposalSentCount,
        totalMeetingDone: opportunityCount
    };
};


/***/ }),

/***/ "./src/domain/services/widgetServices/totalActiveProjectsRatio.ts":
/*!************************************************************************!*\
  !*** ./src/domain/services/widgetServices/totalActiveProjectsRatio.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "totalActiveProjectsRatio": () => (/* binding */ totalActiveProjectsRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");
/* harmony import */ var _enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../enumerations/ProjectStageEnums */ "./src/domain/enumerations/ProjectStageEnums.ts");



const totalActiveProjectsRatio = async (user) => {
    var _a;
    const projectPredicate = {};
    let res;
    switch (user.profile.access_level) {
        case 0:
            projectPredicate.OR = [];
            projectPredicate.OR.push({
                designerid: user.userid,
                projectstatus: "Active"
            });
            res = getTotalActiveProjects(projectPredicate);
            break;
        case 1:
            const fetchUser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_1__.getUser)(user.userid);
            projectPredicate.OR = [];
            (_a = fetchUser[0].teams) === null || _a === void 0 ? void 0 : _a.map(async (team) => {
                projectPredicate.OR.push({
                    designstudioid: team.id,
                    projectstatus: "Active"
                });
            });
            res = getTotalActiveProjects(projectPredicate);
            break;
    }
    return res;
};
const getTotalActiveProjects = async (projectPredicate) => {
    console.log("project Predicate", projectPredicate);
    const projects = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.dc_projects.findMany({ where: projectPredicate });
    let fifteenPercCount = 0;
    let thiryFivePercCount = 0;
    let fortyFivePercCount = 0;
    const fifteenStageData = [], thirtyFiveStageData = [], fortyFiveStageData = [];
    const ProjectDataArr = [];
    if (projects && projects.length > 0) {
        projects.forEach(project => {
            if (project.currentmilestone) {
                const fifteenPercStageArr = Object.values(_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_2__.FifteenPercentStageEnum);
                const thirtyFivePercStageArr = Object.values(_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_2__.ThirtyFivePercentStageEnum);
                const fortyFivePercStageArr = Object.values(_enumerations_ProjectStageEnums__WEBPACK_IMPORTED_MODULE_2__.FortyFivePercentStageEnum);
                if (fifteenPercStageArr.includes(project.currentmilestone)) {
                    fifteenPercCount++;
                    fifteenStageData.push({
                        projectname: project.projectname,
                        delayStatus: project.projectdelay
                    });
                }
                else if (thirtyFivePercStageArr.includes(project.currentmilestone)) {
                    thiryFivePercCount++;
                    thirtyFiveStageData.push({
                        projectname: project.projectname,
                        delayStatus: project.projectdelay
                    });
                }
                else if (fortyFivePercStageArr.includes(project.currentmilestone)) {
                    fortyFivePercCount++;
                    fortyFiveStageData.push({
                        projectname: project.projectname,
                        delayStatus: project.projectdelay
                    });
                }
            }
            else {
                fifteenPercCount++;
            }
        });
    }
    ProjectDataArr.push({
        totalCount: projects.length,
        fifteenStageData,
        thirtyFiveStageData,
        fortyFiveStageData
    });
    console.log("======projects", fifteenPercCount, thiryFivePercCount, fortyFivePercCount);
    return ProjectDataArr;
};


/***/ }),

/***/ "./src/domain/services/widgetServices/upcomingMeetingsRatio.ts":
/*!*********************************************************************!*\
  !*** ./src/domain/services/widgetServices/upcomingMeetingsRatio.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "upcomingMeetingsRatio": () => (/* binding */ upcomingMeetingsRatio)
/* harmony export */ });
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../prismaConfig */ "./src/prismaConfig.ts");
/* harmony import */ var _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../enumerations/TimePeriodLeadMeetingEnum */ "./src/domain/enumerations/TimePeriodLeadMeetingEnum.ts");
/* harmony import */ var _api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api/users/Mutations/GetUser */ "./src/api/users/Mutations/GetUser.ts");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ "dayjs");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/isBetween */ "dayjs/plugin/isBetween");
/* harmony import */ var dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! dayjs/plugin/isoWeek */ "dayjs/plugin/isoWeek");
/* harmony import */ var dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_5__);






dayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isBetween__WEBPACK_IMPORTED_MODULE_4___default()));
dayjs__WEBPACK_IMPORTED_MODULE_3___default().extend((dayjs_plugin_isoWeek__WEBPACK_IMPORTED_MODULE_5___default()));
const meetingScheduled = "Meeting Scheduled";
const meetingConfirmed = "Meeting Confirmed";
const converted = "Converted";
const upcomingMeetingsRatio = async (user, timePeriod) => {
    try {
        let upcomingMeeting;
        if (user.profile.access_level === 0) {
            upcomingMeeting = getDesignerUpcomingMeeting(user, timePeriod);
        }
        else if (user.profile.access_level === 1) {
            upcomingMeeting = await getTeamMeetings(user, timePeriod);
        }
        return { upcomingMeeting };
    }
    catch (error) {
        return error;
    }
};
const getDesignerUpcomingMeeting = async (user, weekInReq) => {
    let totalMeeting = 0;
    const leadData = [];
    const predicate = {};
    predicate.design_user__c = user.salesforceuserid;
    predicate.OR = [];
    predicate.OR.push({ status: meetingScheduled }, { status: meetingConfirmed }, { status: converted });
    const leads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({ where: predicate });
    const mStartOfWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().startOf('isoWeek').isoWeekday(2).toDate();
    const mEndofweek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().endOf('isoWeek').toDate();
    const mstartofNextWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(1, 'week').startOf('isoWeek').isoWeekday(2).toDate();
    const mEndOfnextWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(1, 'week').endOf('isoWeek').toDate();
    console.log("mStartOfWeek = ", mStartOfWeek, "mEndofweek = ", mEndofweek, "mstatrofNextWeek =", mstartofNextWeek, "mEndOfnextWeek = ", mEndOfnextWeek);
    leads.map((lead) => {
        const mDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(lead.willingness_for_meeting__c);
        if (weekInReq === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].THIS_WEEK) {
            if (mDate.isBetween(mStartOfWeek, mEndofweek, "days", "[]")) {
                totalMeeting++;
                leadData.push({
                    meetingScheduledDate: lead.willingness_for_meeting__c,
                    leadName: lead.name
                });
            }
        }
        if (weekInReq === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].NEXT_WEEK) {
            if (mDate.isBetween(mstartofNextWeek, mEndOfnextWeek, "days", "[]")) {
                totalMeeting++;
                leadData.push({
                    meetingScheduledDate: lead.willingness_for_meeting__c,
                    leadName: lead.name
                });
            }
        }
        if (weekInReq === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ALL) {
            totalMeeting++;
            leadData.push({
                meetingScheduledDate: lead.willingness_for_meeting__c,
                leadName: lead.name
            });
        }
    });
    return {
        totalMeeting,
        leadData
    };
};
const getTeamMeetings = async (user, timePeriod) => {
    var _a;
    let totalMeeting = 0;
    const leadData = [];
    const statusPredicate = {};
    statusPredicate.OR = [];
    statusPredicate.OR.push({ status: meetingScheduled }, { status: meetingConfirmed }, { status: converted });
    const fetchedUser = await (0,_api_users_Mutations_GetUser__WEBPACK_IMPORTED_MODULE_2__.getUser)(user.userid);
    const predicate = {};
    predicate.OR = [];
    (_a = fetchedUser[0].teams) === null || _a === void 0 ? void 0 : _a.forEach(team => {
        predicate.OR.push({
            designer_team_name__c: team.name
        });
    });
    const mainPredicate = {};
    mainPredicate.AND = [];
    mainPredicate.AND.push(predicate);
    mainPredicate.AND.push(statusPredicate);
    const leads = await _prismaConfig__WEBPACK_IMPORTED_MODULE_0__.prisma.lead.findMany({ where: mainPredicate });
    console.log("total leads", leads.length);
    const mStartOfWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().startOf('isoWeek').isoWeekday(2).toDate();
    const mEndofweek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().endOf('isoWeek').toDate();
    const mstartofNextWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(1, 'week').startOf('isoWeek').isoWeekday(2).toDate();
    const mEndOfnextWeek = dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(1, 'week').endOf('isoWeek').toDate();
    console.log("mStartOfWeek = ", mStartOfWeek, "mEndofweek = ", mEndofweek, "mstatrofNextWeek =", mstartofNextWeek, "mEndOfnextWeek = ", mEndOfnextWeek);
    for (const lead of leads) {
        const mDate = dayjs__WEBPACK_IMPORTED_MODULE_3___default()(lead.willingness_for_meeting__c);
        if (timePeriod === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].THIS_WEEK) {
            if (mDate.isBetween(mStartOfWeek, mEndofweek, "days", "[]")) {
                totalMeeting++;
                leadData.push({
                    meetingScheduledDate: lead.willingness_for_meeting__c,
                    leadName: lead.name
                });
            }
        }
        if (timePeriod === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].NEXT_WEEK) {
            if (mDate.isBetween(mstartofNextWeek, mEndOfnextWeek, "days", "[]")) {
                totalMeeting++;
                leadData.push({
                    meetingScheduledDate: lead.willingness_for_meeting__c,
                    leadName: lead.name
                });
            }
        }
        if (timePeriod === _enumerations_TimePeriodLeadMeetingEnum__WEBPACK_IMPORTED_MODULE_1__["default"].ALL) {
            totalMeeting++;
            leadData.push({
                meetingScheduledDate: lead.willingness_for_meeting__c,
                leadName: lead.name
            });
        }
    }
    return {
        totalMeeting,
        leadData
    };
};


/***/ }),

/***/ "./src/prismaConfig.ts":
/*!*****************************!*\
  !*** ./src/prismaConfig.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "prisma": () => (/* binding */ prisma)
/* harmony export */ });
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ "@prisma/client");
/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);

const prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();
const changePath = async () => {
    await prisma.$queryRaw `SET search_path TO "$user", public;`;
};
changePath();


/***/ }),

/***/ "./src/utils/ProjectMileStoneUtil.ts":
/*!*******************************************!*\
  !*** ./src/utils/ProjectMileStoneUtil.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../domain/enumerations/ProjectMileStoneEnum */ "./src/domain/enumerations/ProjectMileStoneEnum.ts");
/* harmony import */ var _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../domain/enumerations/SmartSheetCellValueEnum */ "./src/domain/enumerations/SmartSheetCellValueEnum.ts");


class ProjectMileStonesUtil {
    static getSheetMileStoneName(projectMileStone) {
        var mileStoneName;
        switch (projectMileStone) {
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].PROJECT_SIGNUP:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].PROJECT_SIGNUP;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].SITE_SURVEY:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].SITE_SURVEY;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].KNOW_YOUR_CLIENT:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].KNOW_YOUR_CLIENT;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].DESIGN_PRESENTATION:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].FIRST_CUT_MEETING;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].DESIGN_FINALIZATION:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].DESIGN_FINALIZATION;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].SITE_VALIDATION_REQUEST:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].REQUEST_PM_FOR_KICKOFF;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].SITE_VALIDATION_MEETING:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].KICKOFF_MEETING_AT_SITE;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].POST_SITE_VALIDATION_REVISION:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].DWG_REVISIONS;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].GFC_CHECKING:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].GFC_CHECKING;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].DESIGN_SIGNOFF:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].DESIGN_SIGN_OFF;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].PRODUCTION_REQUEST:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].PROJECT_RECEIVED_FOR_PLANNING;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].PRODUCTION:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].PRODUCTION;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].READY_FOR_DISPATCH:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].READY_FOR_DISPATCH;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].READY_FOR_HANDOVER:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].READY_FOR_HANDOVER;
                break;
            case _domain_enumerations_ProjectMileStoneEnum__WEBPACK_IMPORTED_MODULE_0__["default"].HANDOVER:
                mileStoneName = _domain_enumerations_SmartSheetCellValueEnum__WEBPACK_IMPORTED_MODULE_1__["default"].HANDOVER;
                break;
        }
        return mileStoneName;
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectMileStonesUtil);


/***/ }),

/***/ "./src/utils/commonUtils.ts":
/*!**********************************!*\
  !*** ./src/utils/commonUtils.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ExperienceCentersAsInSalesforce": () => (/* binding */ ExperienceCentersAsInSalesforce),
/* harmony export */   "OdooExperienceCenterID": () => (/* binding */ OdooExperienceCenterID),
/* harmony export */   "OdooStateID": () => (/* binding */ OdooStateID),
/* harmony export */   "callExternalAPIWithPost": () => (/* binding */ callExternalAPIWithPost),
/* harmony export */   "checkAndMarkMilestonesOnSmartsheet": () => (/* binding */ checkAndMarkMilestonesOnSmartsheet),
/* harmony export */   "defaultResponseObj": () => (/* binding */ defaultResponseObj),
/* harmony export */   "experiencecenters": () => (/* binding */ experiencecenters),
/* harmony export */   "getGstByStates": () => (/* binding */ getGstByStates),
/* harmony export */   "getLeadsAndOpportunityConditionForAccessLevel2": () => (/* binding */ getLeadsAndOpportunityConditionForAccessLevel2),
/* harmony export */   "getLeadsAndOpportunityConditionForAccessLevel3": () => (/* binding */ getLeadsAndOpportunityConditionForAccessLevel3),
/* harmony export */   "getOdooGroupID": () => (/* binding */ getOdooGroupID),
/* harmony export */   "getOdooStudioID": () => (/* binding */ getOdooStudioID),
/* harmony export */   "queryForFetchingRemindersTemplate": () => (/* binding */ queryForFetchingRemindersTemplate),
/* harmony export */   "queryForFetchingTemplate": () => (/* binding */ queryForFetchingTemplate)
/* harmony export */ });
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superagent */ "superagent");
/* harmony import */ var superagent__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(superagent__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _api_projects_Smartsheet_Mutations_UpdateMilestone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/projects/Smartsheet/Mutations/UpdateMilestone */ "./src/api/projects/Smartsheet/Mutations/UpdateMilestone.ts");
/* harmony import */ var _prismaConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../prismaConfig */ "./src/prismaConfig.ts");



const defaultResponseObj = {
    code: null,
    message: null,
    data: null,
};
const queryForFetchingTemplate = JSON.stringify({
    query: `{
    projectTemplates {
      data{
        attributes{
          Template_Name
          milestone_details(pagination : {start : 0, limit: 20} ){
            label
            payment_percentage
            milestone_checklist{
              is_payment_milestone_checklist
              approval_from_customer
              share_with_customer
              checklist_string
              description
              required
              is_checked
              data
            }
            autorequest
            InvoicePercentage
            mom
            description
            smartsheet_field
          }
          default
          files_checklist{
            checklist_string
            description
            required
            share_with_customer
            approval_from_customer
          }
        }
      }
    }
  }`,
});
const queryForFetchingRemindersTemplate = (slug) => JSON.stringify({
    query: `{
    reminders(filters : {slug : { eq : "${slug}" }}){
      data{
        attributes{
          label
          slug
          emailActivate
          email_template
          emailSubject
          recipients{
            recepient
          }
          smsActivate
          smsDLTID
          smsBody
          whatsappActive
          whatsAppImageUrl
          whatsAppImageUrl
          whatsAppTemplateName
          whatsAppBodyTemplate
          recipient_cc{
            recepient
          }
          whatsAppBodyTemplate
          params
        }
      }
    }
  }`,
});
const callExternalAPIWithPost = async (url, body) => {
    const res = await superagent__WEBPACK_IMPORTED_MODULE_0___default().post(url)
        .send(body)
        .set("Content-Type", "application/json");
    return res.body;
};
const getGstByStates = (state) => {
    switch (state.toLowerCase()) {
        case "karnataka":
            return "29AABCU9603R1ZJ";
        case "maharashtra":
            return "27AABCU9603R1ZN";
        case "tamil nadu":
            return "33AABCU9603R1ZU";
        default:
            return null;
    }
};
var OdooStateID;
(function (OdooStateID) {
    OdooStateID[OdooStateID["karnataka"] = 593] = "karnataka";
    OdooStateID[OdooStateID["maharashtra"] = 597] = "maharashtra";
    OdooStateID[OdooStateID["tamil nadu"] = 607] = "tamil nadu";
    OdooStateID[OdooStateID["telangana"] = 608] = "telangana";
})(OdooStateID || (OdooStateID = {}));
var ExperienceCentersAsInSalesforce;
(function (ExperienceCentersAsInSalesforce) {
    ExperienceCentersAsInSalesforce["MGDC"] = "MGDC";
    ExperienceCentersAsInSalesforce["WDC"] = "WDC";
    ExperienceCentersAsInSalesforce["MUMBAI_DC"] = "Mumbai DC";
    ExperienceCentersAsInSalesforce["HYDERABAD_DC"] = "Hyderabad DC";
    ExperienceCentersAsInSalesforce["HSRDC"] = "HSRDC";
    ExperienceCentersAsInSalesforce["CHENNAI_DC"] = "Chennai DC";
    ExperienceCentersAsInSalesforce["JPDC"] = "JPDC";
    ExperienceCentersAsInSalesforce["THANE_DC"] = "Thane DC";
    ExperienceCentersAsInSalesforce["KDRMYS"] = "KDRMYS";
    ExperienceCentersAsInSalesforce["YERPUN"] = "YERPUN";
    ExperienceCentersAsInSalesforce["BHHYD"] = "BHHYD";
    ExperienceCentersAsInSalesforce["SJPBLR"] = "SJPBLR";
    ExperienceCentersAsInSalesforce["KHMUM"] = "KHMUM";
    ExperienceCentersAsInSalesforce["WLMUM"] = "WLMUM";
    ExperienceCentersAsInSalesforce["OMRCH"] = "OMRCH";
    ExperienceCentersAsInSalesforce["HRBRBLR"] = "HRBRBLR";
    ExperienceCentersAsInSalesforce["RSPCO"] = "RSPCO";
})(ExperienceCentersAsInSalesforce || (ExperienceCentersAsInSalesforce = {}));
var OdooExperienceCenterID;
(function (OdooExperienceCenterID) {
    OdooExperienceCenterID[OdooExperienceCenterID["MGDC"] = 1] = "MGDC";
    OdooExperienceCenterID[OdooExperienceCenterID["WDC"] = 2] = "WDC";
    OdooExperienceCenterID[OdooExperienceCenterID["HSRBLR"] = 3] = "HSRBLR";
    OdooExperienceCenterID[OdooExperienceCenterID["RCMUM"] = 4] = "RCMUM";
    OdooExperienceCenterID[OdooExperienceCenterID["GBHYD"] = 5] = "GBHYD";
    OdooExperienceCenterID[OdooExperienceCenterID["ASCHN"] = 27] = "ASCHN";
    OdooExperienceCenterID[OdooExperienceCenterID["JPNBLR"] = 31] = "JPNBLR";
    OdooExperienceCenterID[OdooExperienceCenterID["GBRTHN"] = 33] = "GBRTHN";
    OdooExperienceCenterID[OdooExperienceCenterID["KDRMYS"] = 36] = "KDRMYS";
    OdooExperienceCenterID[OdooExperienceCenterID["BHHYD"] = 39] = "BHHYD";
    OdooExperienceCenterID[OdooExperienceCenterID["YERPUN"] = 42] = "YERPUN";
    OdooExperienceCenterID[OdooExperienceCenterID["SJPBLR"] = 45] = "SJPBLR";
    OdooExperienceCenterID[OdooExperienceCenterID["KHMUM"] = 47] = "KHMUM";
    OdooExperienceCenterID[OdooExperienceCenterID["WLMUM"] = 50] = "WLMUM";
    OdooExperienceCenterID[OdooExperienceCenterID["OMRCH"] = 54] = "OMRCH";
    OdooExperienceCenterID[OdooExperienceCenterID["HRBRBLR"] = 56] = "HRBRBLR";
    OdooExperienceCenterID[OdooExperienceCenterID["RSPCO"] = 62] = "RSPCO";
})(OdooExperienceCenterID || (OdooExperienceCenterID = {}));
var GroupEnum;
(function (GroupEnum) {
    GroupEnum["BENGALURU"] = "bengaluru";
    GroupEnum["MYSORE"] = "mysore";
    GroupEnum["MUMBAI"] = "mumbai";
    GroupEnum["THANE"] = "thane";
    GroupEnum["HYDERABAD"] = "hyderabad";
    GroupEnum["CHENNAI"] = "chennai";
})(GroupEnum || (GroupEnum = {}));
var OdooGroupID;
(function (OdooGroupID) {
    OdooGroupID[OdooGroupID["BENGALURU"] = 3] = "BENGALURU";
    OdooGroupID[OdooGroupID["MYSORE"] = 17] = "MYSORE";
    OdooGroupID[OdooGroupID["MUMBAI"] = 6] = "MUMBAI";
    OdooGroupID[OdooGroupID["THANE"] = 16] = "THANE";
    OdooGroupID[OdooGroupID["HYDERABAD"] = 9] = "HYDERABAD";
    OdooGroupID[OdooGroupID["CHENNAI"] = 12] = "CHENNAI";
})(OdooGroupID || (OdooGroupID = {}));
var StudioNameAsInSalesforce;
(function (StudioNameAsInSalesforce) {
    StudioNameAsInSalesforce["MGDCSTUDIO1"] = "MGDC Studio 1";
    StudioNameAsInSalesforce["MGDCSTUDIO2"] = "MGDC Studio 2";
    StudioNameAsInSalesforce["DPBANGALOREMGDC"] = "DP Bangalore MGDC";
    StudioNameAsInSalesforce["WDCSTUDI1"] = "WDC Studio 1";
    StudioNameAsInSalesforce["DPBANGALOREWDC"] = "DP Bangalore WDC";
    StudioNameAsInSalesforce["HSRDCSTUDIO1"] = "HSRDC Studio 1";
    StudioNameAsInSalesforce["DPBANGALOREHSRDC"] = "DP Bangalore HSRDC";
    StudioNameAsInSalesforce["MUMBAISTUDIO1"] = "Mumbai Studio 1";
    StudioNameAsInSalesforce["MUMBAISTUDIO2"] = "Mumbai Studio 2";
    StudioNameAsInSalesforce["MUMBAISTUDIO3"] = "Mumbai Studio 3";
    StudioNameAsInSalesforce["DPMUMBAI"] = "DP Mumbai";
    StudioNameAsInSalesforce["HYDERABADSTUDIO1"] = "Hyderabad Studio 1";
    StudioNameAsInSalesforce["DPHYDERABAD"] = "DP Hyderabad";
    StudioNameAsInSalesforce["CHENNAISTUDIO1"] = "Chennai Studio 1";
    StudioNameAsInSalesforce["CHENNAIDP"] = "Chennai DP";
    StudioNameAsInSalesforce["JPDCXPRESSO"] = "JPDC XPresso";
    StudioNameAsInSalesforce["KDRMYSSTD1"] = "KDRMYS-Std-1";
    StudioNameAsInSalesforce["KDRMYSDPSTD1"] = "KDRMYS-DPStd-1";
    StudioNameAsInSalesforce["YERPUNSTD1"] = "YERPUN-Std-1";
    StudioNameAsInSalesforce["YERPUNDPSTD1"] = "YERPUN-DPStd-1";
    StudioNameAsInSalesforce["BHHYDSTD1"] = "BHHYD-Std-1";
    StudioNameAsInSalesforce["BHHYDDPSTD1"] = "BHHYD-DPStd-1";
    StudioNameAsInSalesforce["GBRTHNDPSTD1"] = "DP Thane";
    StudioNameAsInSalesforce["GBRTHNSTD1"] = "Thane Studio 1";
    StudioNameAsInSalesforce["GBRTHNSTD2"] = "Thane Studio 2";
    StudioNameAsInSalesforce["SJPBLRSTD1"] = "SJPBLR-Std-1";
    StudioNameAsInSalesforce["KHMUMSTD1"] = "KHMUM-Std-1";
    StudioNameAsInSalesforce["KHMUMDPSTD1"] = "KHMUM-DPStd-1";
    StudioNameAsInSalesforce["WLMUMSTD1"] = "WLMUM-Std-1";
    StudioNameAsInSalesforce["WLMUMDPSTD1"] = "WLMUM-DPStd-1";
    StudioNameAsInSalesforce["OMRCHSTD1"] = "OMRCH-Std-1";
    StudioNameAsInSalesforce["OMRCHDPstd1"] = "OMRCH-DPstd-1";
    StudioNameAsInSalesforce["HRBRBLRSTD1"] = "HRBRBLR-Std-1";
    StudioNameAsInSalesforce["RSPCOSTD1"] = "RSPCO-Std-1";
    StudioNameAsInSalesforce["RSPCODPSTD1"] = "RSPCO-DPStd-1";
})(StudioNameAsInSalesforce || (StudioNameAsInSalesforce = {}));
var OdooStudioID;
(function (OdooStudioID) {
    OdooStudioID[OdooStudioID["MGBLRSTD1"] = 6] = "MGBLRSTD1";
    OdooStudioID[OdooStudioID["MGBLRSTD2"] = 7] = "MGBLRSTD2";
    OdooStudioID[OdooStudioID["MGBLRDPSTD1"] = 8] = "MGBLRDPSTD1";
    OdooStudioID[OdooStudioID["WFBLRSTD1"] = 9] = "WFBLRSTD1";
    OdooStudioID[OdooStudioID["WFBLRDPSTD1"] = 10] = "WFBLRDPSTD1";
    OdooStudioID[OdooStudioID["HSRBLRSTD1"] = 11] = "HSRBLRSTD1";
    OdooStudioID[OdooStudioID["HSRBLRDPSTD1"] = 12] = "HSRBLRDPSTD1";
    OdooStudioID[OdooStudioID["RCMUMSTD1"] = 13] = "RCMUMSTD1";
    OdooStudioID[OdooStudioID["RCMUMSTD2"] = 14] = "RCMUMSTD2";
    OdooStudioID[OdooStudioID["RCMUMSTD3"] = 15] = "RCMUMSTD3";
    OdooStudioID[OdooStudioID["RCMUMDPSTD1"] = 16] = "RCMUMDPSTD1";
    OdooStudioID[OdooStudioID["GBHYDSTD1"] = 17] = "GBHYDSTD1";
    OdooStudioID[OdooStudioID["GBHYDDPSTD1"] = 18] = "GBHYDDPSTD1";
    OdooStudioID[OdooStudioID["ASCHNSTD1"] = 29] = "ASCHNSTD1";
    OdooStudioID[OdooStudioID["ASCHNDPSTD1"] = 30] = "ASCHNDPSTD1";
    OdooStudioID[OdooStudioID["JPNBLRSTD1"] = 32] = "JPNBLRSTD1";
    OdooStudioID[OdooStudioID["KDRMYSSTD1"] = 37] = "KDRMYSSTD1";
    OdooStudioID[OdooStudioID["KDRMYSDPSTD1"] = 38] = "KDRMYSDPSTD1";
    OdooStudioID[OdooStudioID["YERPUNSTD1"] = 43] = "YERPUNSTD1";
    OdooStudioID[OdooStudioID["YERPUNDPSTD1"] = 44] = "YERPUNDPSTD1";
    OdooStudioID[OdooStudioID["BHHYDSTD1"] = 40] = "BHHYDSTD1";
    OdooStudioID[OdooStudioID["BHHYDDPSTD1"] = 41] = "BHHYDDPSTD1";
    OdooStudioID[OdooStudioID["GBRTHNDPSTD1"] = 34] = "GBRTHNDPSTD1";
    OdooStudioID[OdooStudioID["GBRTHNSTD1"] = 35] = "GBRTHNSTD1";
    OdooStudioID[OdooStudioID["SJPBLRSTD1"] = 46] = "SJPBLRSTD1";
    OdooStudioID[OdooStudioID["KHMUMSTD1"] = 48] = "KHMUMSTD1";
    OdooStudioID[OdooStudioID["KHMUMDPSTD1"] = 49] = "KHMUMDPSTD1";
    OdooStudioID[OdooStudioID["WLMUMSTD1"] = 51] = "WLMUMSTD1";
    OdooStudioID[OdooStudioID["WLMUMDPSTD1"] = 52] = "WLMUMDPSTD1";
    OdooStudioID[OdooStudioID["GBRTHNSTD2"] = 53] = "GBRTHNSTD2";
    OdooStudioID[OdooStudioID["OMRCHSTD1"] = 55] = "OMRCHSTD1";
    OdooStudioID[OdooStudioID["HRBRBLRSTD1"] = 57] = "HRBRBLRSTD1";
    OdooStudioID[OdooStudioID["OMRCHDPstd1"] = 59] = "OMRCHDPstd1";
    OdooStudioID[OdooStudioID["RSPCOSTD1"] = 63] = "RSPCOSTD1";
    OdooStudioID[OdooStudioID["RSPCODPSTD1"] = 64] = "RSPCODPSTD1";
})(OdooStudioID || (OdooStudioID = {}));
const experiencecenters = (exp) => {
    if (exp === ExperienceCentersAsInSalesforce.MGDC) {
        return OdooExperienceCenterID.MGDC;
    }
    else if (exp === ExperienceCentersAsInSalesforce.WDC) {
        return OdooExperienceCenterID.WDC;
    }
    else if (exp === ExperienceCentersAsInSalesforce.HYDERABAD_DC) {
        return OdooExperienceCenterID.GBHYD;
    }
    else if (exp === ExperienceCentersAsInSalesforce.MUMBAI_DC) {
        return OdooExperienceCenterID.RCMUM;
    }
    else if (exp === ExperienceCentersAsInSalesforce.HSRDC) {
        return OdooExperienceCenterID.HSRBLR;
    }
    else if (exp === ExperienceCentersAsInSalesforce.CHENNAI_DC) {
        return OdooExperienceCenterID.ASCHN;
    }
    else if (exp === ExperienceCentersAsInSalesforce.JPDC) {
        return OdooExperienceCenterID.JPNBLR;
    }
    else if (exp === ExperienceCentersAsInSalesforce.KDRMYS) {
        return OdooExperienceCenterID.KDRMYS;
    }
    else if (exp === ExperienceCentersAsInSalesforce.YERPUN) {
        return OdooExperienceCenterID.YERPUN;
    }
    else if (exp === ExperienceCentersAsInSalesforce.BHHYD) {
        return OdooExperienceCenterID.BHHYD;
    }
    else if (exp === ExperienceCentersAsInSalesforce.THANE_DC) {
        return OdooExperienceCenterID.GBRTHN;
    }
    else if (exp === ExperienceCentersAsInSalesforce.SJPBLR) {
        return OdooExperienceCenterID.SJPBLR;
    }
    else if (exp === ExperienceCentersAsInSalesforce.KHMUM) {
        return OdooExperienceCenterID.KHMUM;
    }
    else if (exp === ExperienceCentersAsInSalesforce.WLMUM) {
        return OdooExperienceCenterID.WLMUM;
    }
    else if (exp === ExperienceCentersAsInSalesforce.OMRCH) {
        return OdooExperienceCenterID.OMRCH;
    }
    else if (exp === ExperienceCentersAsInSalesforce.HRBRBLR) {
        return OdooExperienceCenterID.HRBRBLR;
    }
    else if (exp === ExperienceCentersAsInSalesforce.RSPCO) {
        return OdooExperienceCenterID.RSPCO;
    }
    else {
        return null;
    }
};
const getOdooGroupID = (ECCity) => {
    const lowerCaseECCity = ECCity.toLowerCase();
    const trimmedCity = lowerCaseECCity.trim();
    if (trimmedCity === GroupEnum.BENGALURU) {
        return OdooGroupID.BENGALURU;
    }
    else if (trimmedCity === GroupEnum.MYSORE) {
        return OdooGroupID.MYSORE;
    }
    else if (trimmedCity === GroupEnum.MUMBAI) {
        return OdooGroupID.MUMBAI;
    }
    else if (trimmedCity === GroupEnum.THANE) {
        return OdooGroupID.THANE;
    }
    else if (trimmedCity === GroupEnum.HYDERABAD) {
        return OdooGroupID.HYDERABAD;
    }
    else if (trimmedCity === GroupEnum.CHENNAI) {
        return OdooGroupID.CHENNAI;
    }
    else {
        return null;
    }
};
const getOdooStudioID = (studioNameInRequest) => {
    const trimmedStudioname = studioNameInRequest.trim();
    if (trimmedStudioname === StudioNameAsInSalesforce.MGDCSTUDIO1) {
        return OdooStudioID.MGBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.MGDCSTUDIO2) {
        return OdooStudioID.MGBLRSTD2;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.DPBANGALOREMGDC) {
        return OdooStudioID.MGBLRDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.WDCSTUDI1) {
        return OdooStudioID.WFBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.DPBANGALOREWDC) {
        return OdooStudioID.WFBLRDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.HSRDCSTUDIO1) {
        return OdooStudioID.HSRBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.DPBANGALOREHSRDC) {
        return OdooStudioID.HSRBLRDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.MUMBAISTUDIO1) {
        return OdooStudioID.RCMUMSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.MUMBAISTUDIO2) {
        return OdooStudioID.RCMUMSTD2;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.MUMBAISTUDIO3) {
        return OdooStudioID.RCMUMSTD3;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.DPMUMBAI) {
        return OdooStudioID.RCMUMDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.HYDERABADSTUDIO1) {
        return OdooStudioID.GBHYDSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.DPHYDERABAD) {
        return OdooStudioID.GBHYDDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.CHENNAISTUDIO1) {
        return OdooStudioID.ASCHNSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.CHENNAIDP) {
        return OdooStudioID.ASCHNDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.JPDCXPRESSO) {
        return OdooStudioID.JPNBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.KDRMYSSTD1) {
        return OdooStudioID.KDRMYSSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.KDRMYSDPSTD1) {
        return OdooStudioID.KDRMYSDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.YERPUNSTD1) {
        return OdooStudioID.YERPUNSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.YERPUNDPSTD1) {
        return OdooStudioID.YERPUNDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.BHHYDSTD1) {
        return OdooStudioID.BHHYDSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.BHHYDDPSTD1) {
        return OdooStudioID.BHHYDDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.GBRTHNSTD1) {
        return OdooStudioID.GBRTHNSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.GBRTHNDPSTD1) {
        return OdooStudioID.GBRTHNDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.GBRTHNSTD2) {
        return OdooStudioID.GBRTHNSTD2;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.SJPBLRSTD1) {
        return OdooStudioID.SJPBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.KHMUMSTD1) {
        return OdooStudioID.KHMUMSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.KHMUMDPSTD1) {
        return OdooStudioID.KHMUMDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.WLMUMSTD1) {
        return OdooStudioID.WLMUMSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.WLMUMDPSTD1) {
        return OdooStudioID.WLMUMDPSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.OMRCHSTD1) {
        return OdooStudioID.OMRCHSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.OMRCHDPstd1) {
        return OdooStudioID.OMRCHDPstd1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.HRBRBLRSTD1) {
        return OdooStudioID.HRBRBLRSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.RSPCOSTD1) {
        return OdooStudioID.RSPCOSTD1;
    }
    else if (trimmedStudioname === StudioNameAsInSalesforce.RSPCODPSTD1) {
        return OdooStudioID.RSPCODPSTD1;
    }
    else {
        return null;
    }
};
const checkAndMarkMilestonesOnSmartsheet = async (projectid, milestoneDetails) => {
    console.log("milestone_details", milestoneDetails);
    let areAllMilestonesCompleted = true;
    milestoneDetails.milestone_checklist.forEach((mileStoneChecklist) => {
        console.log("mileStoneChecklist", mileStoneChecklist.is_checked);
        if (!mileStoneChecklist.is_checked) {
            areAllMilestonesCompleted = false;
        }
    });
    if (areAllMilestonesCompleted) {
        const projectData = await _prismaConfig__WEBPACK_IMPORTED_MODULE_2__.prisma.dc_projects.findUnique({
            where: {
                id: projectid,
            },
        });
        const updateSmartsheetMilestonePayload = {
            smartSheetId: projectData.smartsheetid,
            mileStoneName: milestoneDetails.label,
            actualStartDate: "2022-06-01",
            actualFinishDate: new Date().toISOString().split("T")[0],
        };
        console.log("Calling the Smartsheet API");
        console.log(updateSmartsheetMilestonePayload);
        const updateMilestoneOnSmartsheetResponse = await (0,_api_projects_Smartsheet_Mutations_UpdateMilestone__WEBPACK_IMPORTED_MODULE_1__.updateMilestone)(null, updateSmartsheetMilestonePayload, null);
        console.log(updateMilestoneOnSmartsheetResponse);
    }
    else {
        console.log("Not Calling Smartsheet API");
    }
};
const getLeadsAndOpportunityConditionForAccessLevel2 = (experienceCenters, searchCondition) => {
    return {
        AND: {
            OR: experienceCenters.map((expCenter) => {
                return {
                    meeting_venue__c: expCenter.name,
                };
            }),
        },
        OR: searchCondition,
    };
};
const getLeadsAndOpportunityConditionForAccessLevel3 = (cities, searchCondition) => {
    return {
        AND: {
            OR: cities.map((city) => {
                return {
                    region__c: city.name,
                };
            }),
        },
        OR: searchCondition,
    };
};


/***/ }),

/***/ "@graphql-tools/schema":
/*!****************************************!*\
  !*** external "@graphql-tools/schema" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@graphql-tools/schema");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "apollo-datasource-rest":
/*!*****************************************!*\
  !*** external "apollo-datasource-rest" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("apollo-datasource-rest");

/***/ }),

/***/ "apollo-server":
/*!********************************!*\
  !*** external "apollo-server" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("apollo-server");

/***/ }),

/***/ "aws-sdk":
/*!**************************!*\
  !*** external "aws-sdk" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("aws-sdk");

/***/ }),

/***/ "btoa":
/*!***********************!*\
  !*** external "btoa" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("btoa");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/***/ ((module) => {

module.exports = require("dayjs");

/***/ }),

/***/ "dayjs/plugin/isBetween":
/*!*****************************************!*\
  !*** external "dayjs/plugin/isBetween" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("dayjs/plugin/isBetween");

/***/ }),

/***/ "dayjs/plugin/isoWeek":
/*!***************************************!*\
  !*** external "dayjs/plugin/isoWeek" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("dayjs/plugin/isoWeek");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "googleapis":
/*!*****************************!*\
  !*** external "googleapis" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("googleapis");

/***/ }),

/***/ "graphql-scalars":
/*!**********************************!*\
  !*** external "graphql-scalars" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("graphql-scalars");

/***/ }),

/***/ "jsforce":
/*!**************************!*\
  !*** external "jsforce" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("jsforce");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mailgen":
/*!**************************!*\
  !*** external "mailgen" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mailgen");

/***/ }),

/***/ "msg91-api":
/*!****************************!*\
  !*** external "msg91-api" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("msg91-api");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "shortid":
/*!**************************!*\
  !*** external "shortid" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("shortid");

/***/ }),

/***/ "smartsheet":
/*!*****************************!*\
  !*** external "smartsheet" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("smartsheet");

/***/ }),

/***/ "standard-http-error":
/*!**************************************!*\
  !*** external "standard-http-error" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("standard-http-error");

/***/ }),

/***/ "superagent":
/*!*****************************!*\
  !*** external "superagent" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("superagent");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("uuid");

/***/ }),

/***/ "xml-js":
/*!*************************!*\
  !*** external "xml-js" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("xml-js");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _api_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api/schema */ "./src/api/schema.ts");
/* harmony import */ var _api_datasources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api/datasources */ "./src/api/datasources.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config */ "./src/config.ts");
const { ApolloServer } = __webpack_require__(/*! apollo-server */ "apollo-server");



(__webpack_require__(/*! dotenv */ "dotenv").config)();
const server = new ApolloServer({
    schema: _api_schema__WEBPACK_IMPORTED_MODULE_0__.schema,
    dataSources: _api_datasources__WEBPACK_IMPORTED_MODULE_1__.dataSources,
    context: async ({ req }) => req,
});
server.listen({ port: _config__WEBPACK_IMPORTED_MODULE_2__["default"].PORT }).then(({ url }) => {
    console.log(`:rocket:  Server ready at ${url}`);
});

})();

var __webpack_export_target__ = exports;
for(var i in __webpack_exports__) __webpack_export_target__[i] = __webpack_exports__[i];
if(__webpack_exports__.__esModule) Object.defineProperty(__webpack_export_target__, "__esModule", { value: true });
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQztBQUtVO0FBQ2I7QUFDK0I7QUFFcEUsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUM5RCxJQUFJO1FBSUYsTUFBTSxRQUFRLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxJQUFJLGFBQWEsQ0FBQztRQUNsQixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssNkZBQXdCLEVBQUU7WUFDM0MsSUFBSSxRQUFRLENBQUMsaUJBQWlCLEtBQUssd0dBQW1DLEVBQUU7Z0JBQ3RFLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsaUZBQWlGLENBQ2xGLENBQUM7YUFDSDtZQUNELGFBQWEsR0FBRyxNQUFNLDBFQUErQixDQUFDO2dCQUNwRCxJQUFJLEVBQUU7b0JBQ0osWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZO29CQUMvQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7b0JBQzdCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztvQkFDakIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO29CQUN0QixVQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7aUJBQ2hDO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUU7Z0JBQzFDLElBQUksRUFBRTtvQkFDSixpQkFBaUIsRUFBRSxnSEFBMkM7aUJBQy9EO2FBQ0YsQ0FBQyxDQUFDO1NBQ0o7YUFBTSxJQUFJLGlHQUE0QixLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdEQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7Z0JBQ25CLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDO2FBQzlEO1lBQ0QsTUFBTSxTQUFTLEdBQUcsTUFBTSxpRUFBc0IsQ0FBQztnQkFDN0MsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7YUFDaEMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLGtHQUE2QixFQUFFO2dCQUN0RCxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILDZFQUE2RSxDQUM5RSxDQUFDO2FBQ0g7WUFDRCxhQUFhLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztnQkFDcEQsSUFBSSxFQUFFO29CQUNKLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtvQkFDL0IsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO29CQUM3QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDdEIsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO29CQUN6QixVQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVU7aUJBQ2hDO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxpQkFBaUIsR0FBRyxTQUFTLENBQUMsc0JBQXNCO2dCQUN4RCxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUM7Z0JBQzlDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDUCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sOERBQW1CLENBQUM7Z0JBQ3hCLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUMvQixJQUFJLEVBQUU7b0JBQ0osTUFBTSxFQUFFLDBHQUFxQztvQkFDN0Msc0JBQXNCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztpQkFDMUQ7YUFDRixDQUFDLENBQUM7U0FDSjthQUFNLElBQUksK0ZBQTBCLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNwRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHdCQUF3QixDQUFDLENBQUM7YUFDcEQ7WUFDRCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO2dCQUNyRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRTthQUM5QixDQUFDLENBQUM7WUFDSCxJQUFJLFdBQVcsQ0FBQyxhQUFhLEtBQUssa0dBQTZCLEVBQUU7Z0JBQy9ELE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsNEZBQTRGLENBQzdGLENBQUM7YUFDSDtZQUNELE1BQU0sb0VBQXlCLENBQUM7Z0JBQzlCLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUM3QixJQUFJLEVBQUU7b0JBQ0osYUFBYSxFQUFFLGtCQUFrQjtpQkFDbEM7YUFDRixDQUFDLENBQUM7WUFDSCxhQUFhLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztnQkFDcEQsSUFBSSxFQUFFO29CQUNKLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWTtvQkFDL0IsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO29CQUM3QixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7b0JBQ2pCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDdEIsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVO29CQUMvQixTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7aUJBQzFCO2FBQ0YsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxPQUFPO1lBQ0wsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHO1lBQy9CLE9BQU8sRUFBRSxhQUFhO2dCQUNwQixDQUFDLENBQUMsc0NBQXNDO2dCQUN4QyxDQUFDLENBQUMsdUJBQXVCO1lBQzNCLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRTtTQUN6QyxDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN6QztBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqSDZDO0FBQzRCO0FBQ0k7QUFDbkM7QUFDckMsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUM5RCxJQUFJO1FBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxJQUFJLGFBQWEsQ0FBQztRQUNsQixJQUFJLElBQUksQ0FBQyxLQUFLLEtBQUssNkZBQXdCLEVBQUU7WUFDM0MsYUFBYSxHQUFHLE1BQU0sNEVBQWlDLENBQUM7Z0JBQ3RELEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFO2FBQzNDLENBQUMsQ0FBQztTQUNKO2FBQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLGlHQUE0QixFQUFFO1lBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsa0NBQWtDLENBQUMsQ0FBQzthQUM5RDtZQUNELGFBQWEsR0FBRyxNQUFNLDRFQUFpQyxDQUFDO2dCQUN0RCxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRTthQUNyQyxDQUFDLENBQUM7U0FDSjtRQUNELE9BQU87WUFDTCxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDL0IsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxhQUFhO1lBQ2xELElBQUksRUFBRSxhQUFhO1NBQ3BCLENBQUM7S0FDSDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLEtBQUssQ0FBQztLQUNiO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzdCOEQ7QUFDRjtBQUV2RCxNQUFNLHFCQUFxQixHQUFHO0lBQ25DLFFBQVEsRUFBRTtRQUNSLGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNoRSw2RUFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUMzQztJQUNELEtBQUssRUFBRTtRQUNMLGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNoRSwyRUFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUMzQztDQUNGLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ1pLLE1BQU0scUJBQXFCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUFrQ25DLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEN3QztBQUVwQyxNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNuRCxJQUFJLGVBQWU7SUFDbkIsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDMUQsSUFBSTtRQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sa0VBQXVCLENBQUM7WUFDaEQsSUFBSSxFQUFFO2dCQUNKLElBQUk7Z0JBQ0osTUFBTTtnQkFDTixPQUFPO2dCQUNQLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN0QixRQUFRO2dCQUNSLE9BQU87YUFDUjtTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0sTUFBTSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7WUFDN0MsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUU7WUFDN0IsT0FBTyxFQUFFO2dCQUNQLEtBQUssRUFBRSxJQUFJO2FBQ1o7U0FDRixDQUFDO1FBQ0YsSUFBSSxJQUFJLEdBQUcsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ2hCLGVBQWUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1FBQy9ELE9BQU8sZUFBZTtLQUN2QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUN2RCxPQUFPLGVBQWU7S0FDdkI7QUFDSCxDQUFDLENBQUM7QUFFSyxNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN0RCxJQUFJLGVBQWUsQ0FBQztJQUNwQixNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDbEUsSUFBSTtRQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sa0VBQXVCLENBQUM7WUFDaEQsSUFBSSxFQUFFO2dCQUNKLElBQUk7Z0JBQ0osTUFBTTtnQkFDTixPQUFPO2dCQUNQLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsUUFBUTtnQkFDUixPQUFPO2FBQ1IsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFO1NBQ3pCLENBQUMsQ0FBQztRQUVILE1BQU0sTUFBTSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7WUFDN0MsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUU7WUFDN0IsT0FBTyxFQUFFO2dCQUNQLEtBQUssRUFBRSxJQUFJO2FBQ1o7U0FDRixDQUFDO1FBQ0YsSUFBSSxJQUFJLEdBQUcsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ2hCLGVBQWUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1FBQy9ELE9BQU8sZUFBZTtLQUN2QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUN2RCxPQUFPLGVBQWU7S0FDdkI7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUU7SUFDL0IsT0FBTztRQUNMLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsdUNBQ0ssSUFBSSxLQUNQLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxJQUNwQjtRQUNKLENBQUMsQ0FBQztLQUNIO0FBQ0gsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RTJDO0FBRXJDLE1BQU0sU0FBUyxHQUFHLEtBQUssSUFBSSxFQUFFO0lBQ2xDLElBQUksZUFBZTtJQUNuQixJQUFJO1FBQ0YsTUFBTSxTQUFTLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztZQUNoRCxPQUFPLEVBQUU7Z0JBQ1AsS0FBSyxFQUFFLElBQUk7YUFDWjtTQUNGLENBQUM7UUFFRixJQUFJLE1BQU0sR0FBRyxNQUFNLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN0QyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUVyQixlQUFlLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtRQUNqRSxPQUFPLGVBQWU7S0FDdkI7SUFDRCxPQUFPLEtBQUssRUFBRTtRQUNaLGVBQWUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDdkQsT0FBTyxlQUFlO0tBQ3ZCO0FBQ0gsQ0FBQztBQUVNLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3ZELElBQUksZUFBZSxDQUFDO0lBQ3BCLElBQUk7UUFDRixNQUFNLFNBQVMsR0FBRyxNQUFNLG9FQUF5QixDQUFDO1lBQ2hELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ3RCLE9BQU8sRUFBRTtnQkFDUCxLQUFLLEVBQUUsSUFBSTthQUNaO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxJQUFJLEdBQUcsTUFBTSxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDakIsZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7UUFDL0QsT0FBTyxlQUFlO0tBQ3ZCO0lBQ0QsT0FBTyxLQUFLLEVBQUU7UUFDWixlQUFlLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3ZELE9BQU8sZUFBZTtLQUN2QjtBQUNILENBQUM7QUFDRCxNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUU7SUFDL0IsT0FBTztRQUNMLElBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsdUNBQ0ssSUFBSSxLQUNQLFFBQVEsRUFBRSxJQUFJLENBQUMsS0FBSyxJQUNwQjtRQUNKLENBQUMsQ0FBQztLQUNIO0FBQ0gsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25Ea0Q7QUFDQTtBQUNEO0FBRTNDLE1BQU0sY0FBYyxHQUFHO0lBQzVCLEtBQUssRUFBRTtRQUNMLFNBQVMsRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDLG1EQUFTLEVBQUU7UUFDbEMsV0FBVyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLHFEQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDbEc7SUFDRCxRQUFRLEVBQUU7UUFDUixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsbURBQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6RixVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsc0RBQVUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNoRztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0I7Ozs7Ozs7Ozs7Ozs7OztBQ2RNLE1BQU0sYUFBYSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMkM1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzQzZFO0FBQ2xDO0FBQ007QUFDOEM7QUFDNUQ7QUFDVjtBQUNxRDtBQUNnQjtBQUV4RixNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFOztJQUMvRCxJQUFJO1FBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3JELEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO1NBQ3hDLENBQUMsQ0FBQztRQUNILE1BQU0sT0FBTyxHQUFHLE1BQU0sbUVBQXdCLENBQUM7WUFDN0MsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxXQUFXLENBQUMsU0FBUzthQUM1QjtTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0sS0FBSyxHQUFHLE1BQU0sZ0VBQXFCLENBQUM7WUFDeEMsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxXQUFXLENBQUMsT0FBTzthQUMxQjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsT0FBTztnQkFDTCxJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUsdUJBQXVCO2FBQ2pDLENBQUM7U0FDSDtRQUNELE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixNQUFNLElBQUksR0FBRyxFQUFFLENBQUM7WUFDaEIsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN2QixJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUM7Z0JBQy9DLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztnQkFDbkQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDO2dCQUN6RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztnQkFDaEUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUM7Z0JBQ3JELFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7Z0JBQ3BELE1BQU0sYUFBYSxDQUNqQixJQUFJLEVBQ0osV0FBVyxFQUNYLFdBQVcsQ0FBQyxTQUFTLEVBQ3JCLFFBQVEsQ0FBQyxVQUFVLENBQ3BCLENBQUM7YUFDSDtZQUNELElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDO2dCQUNoRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQztnQkFDakUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7Z0JBQ3BELElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQztnQkFDMUQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUM7Z0JBQ3RELFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7Z0JBQ3BELE1BQU0sYUFBYSxDQUNqQixJQUFJLEVBQ0osV0FBVyxFQUNYLFdBQVcsQ0FBQyxTQUFTLEVBQ3JCLFFBQVEsQ0FBQyxVQUFVLENBQ3BCLENBQUM7YUFDSDtZQUNELE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLDhCQUE4QjthQUN4QyxDQUFDO1NBQ0g7YUFBTTtZQUNMLElBQ0UsQ0FBQyxJQUFJLENBQUMsTUFBTTtnQkFDWixDQUFDLElBQUksQ0FBQyxHQUFHO2dCQUNULENBQUMsSUFBSSxDQUFDLGNBQWM7Z0JBQ3BCLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFDcEI7Z0JBQ0EsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHdDQUF3QyxDQUFDLENBQUM7YUFDcEU7WUFDRCxNQUFNLGVBQWUsR0FDbkIsUUFBUSxDQUFDLHVCQUF1QixLQUFLLElBQUk7Z0JBQ3ZDLENBQUMsQ0FBQyw0Q0FBSyxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7Z0JBQzlELENBQUMsQ0FBQyw0Q0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDN0MsTUFBTSxPQUFPLEdBQUc7Z0JBQ2QsYUFBYSxFQUFFLFdBQVcsQ0FBQyw4QkFBOEI7Z0JBQ3pELE1BQU0sRUFBRSxXQUFXLENBQUMsY0FBYztnQkFDbEMsU0FBUyxFQUFFLGVBQWU7Z0JBQzFCLFVBQVUsRUFBRSxPQUFPLENBQUMsSUFBSTtnQkFDeEIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxpQkFBaUI7Z0JBQ3RDLE9BQU8sRUFBRSxPQUFPLENBQUMsV0FBVztnQkFDNUIsV0FBVyxFQUFFLFdBQVcsQ0FBQyxZQUFZO2dCQUNyQyxXQUFXLEVBQUUsV0FBVyxDQUFDLGdCQUFnQjtnQkFDekMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDLGFBQWE7Z0JBQzVDLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYztnQkFDbkMsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjO2dCQUNuQyxhQUFhLEVBQUUsV0FBVyxDQUFDLGtCQUFrQjtnQkFDN0MsV0FBVyxFQUFFLFdBQVcsQ0FBQyxNQUFNO2dCQUMvQixlQUFlLEVBQUUsV0FBVyxDQUFDLG1CQUFtQjtnQkFDaEQsb0JBQW9CLEVBQUUsV0FBVyxDQUFDLGlCQUFpQjtnQkFDbkQsa0JBQWtCLEVBQUUsV0FBVyxDQUFDLG9DQUFvQztnQkFDcEUsV0FBVyxFQUFFLFdBQVcsQ0FBQyx3QkFBd0I7Z0JBQ2pELDBCQUEwQixFQUFFLFdBQVcsQ0FBQyxrQkFBa0I7Z0JBQzFELFlBQVksRUFBRSxXQUFXLENBQUMsZ0JBQWdCO2dCQUMxQyxvQ0FBb0MsRUFDbEMsV0FBVyxDQUFDLHdDQUF3QztnQkFDdEQsNEJBQTRCLEVBQzFCLFdBQVcsQ0FBQyx5Q0FBeUM7Z0JBQ3ZELHNCQUFzQixFQUFFLFdBQVcsQ0FBQyxtQ0FBbUM7Z0JBQ3ZFLGdDQUFnQyxFQUM5QixXQUFXLENBQUMsMENBQTBDO2dCQUN4RCwrQkFBK0IsRUFDN0IsV0FBVyxDQUFDLHdDQUF3QztnQkFDdEQsdUJBQXVCLEVBQUUsV0FBVyxDQUFDLGlDQUFpQztnQkFDdEUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxRQUFRO2dCQUMzQixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNiLFNBQVMsRUFBRSxXQUFXLENBQUMsYUFBYTtnQkFDcEMsZUFBZSxFQUFFLFdBQVcsQ0FBQyx3QkFBd0I7Z0JBQ3JELGdCQUFnQixFQUFFLEtBQUssQ0FBQyxJQUFJO2dCQUM1QixrQkFBa0IsRUFBRSxLQUFLLENBQUMsV0FBVztnQkFDckMsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLEtBQUs7Z0JBQzlCLE1BQU0sRUFBRSxXQUFXLENBQUMsVUFBVTtnQkFDOUIsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVO2FBQ2hDLENBQUM7WUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLHFEQUNqQixDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLHlCQUF5QixDQUFDO2lCQUN4RCxJQUFJLENBQUMsT0FBTyxDQUFDO2lCQUNiLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUMzQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxvQkFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLEtBQUssMENBQUUsSUFBSSwwQ0FBRSxRQUFRLENBQUM7WUFDaEUsV0FBVyxDQUFDLHFCQUFxQixDQUFDLEdBQUcsSUFBSSxDQUFDO1lBQzFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLHdHQUFtQyxDQUFDO1lBQ3ZFLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDcEQsTUFBTSxtQkFBbUIsR0FBRyxNQUFNLG9FQUF5QixDQUFDO2dCQUMxRCxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFBRTtnQkFDMUMsSUFBSSxFQUFFLFdBQVc7YUFDbEIsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztZQUNoRCxNQUFNLElBQUksR0FBRztnQkFDWCxzQkFBc0IsRUFBRSxJQUFJO2FBQzdCLENBQUM7WUFDRixNQUFNLG9FQUF5QixDQUFDO2dCQUM5QixLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLENBQUMsYUFBYSxFQUFFO2dCQUNsRCxJQUFJLEVBQUUsSUFBSTthQUNYLENBQUMsQ0FBQztZQUlILE1BQU0sV0FBVyxHQUFHO2dCQUNsQjtvQkFDRSxRQUFRLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRztvQkFDakMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVE7aUJBQ25DO2FBQ0YsQ0FBQztZQUVGLE1BQU0saUNBQWlDLENBQ3JDLFFBQVEsQ0FBQyxhQUFhLEVBQ3RCLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLEVBQzVDLFdBQVcsQ0FDWixDQUFDO1lBQ0YsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLENBQUM7U0FDckU7S0FDRjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDM0IsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sYUFBYSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsRUFBRTtJQUMvRCxNQUFNLGdFQUFxQixDQUFDO1FBQzFCLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUU7UUFDMUIsSUFBSSxFQUFFLElBQUk7S0FDWCxDQUFDLENBQUM7SUFDSCxNQUFNLG9FQUF5QixDQUFDO1FBQzlCLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7UUFDakMsSUFBSSxFQUFFLEdBQUc7S0FDVixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLGlDQUFpQyxHQUFHLEtBQUssRUFDN0MsYUFBYSxFQUNiLEVBQUUsRUFDRixXQUFXLEVBQ1gsRUFBRTtJQUNGLE1BQU0sa0dBQXdCLENBQzVCLGFBQWEsRUFDYix1QkFBdUIsRUFDdkIseUdBQXVDLEVBQUUsRUFDekMsRUFBRSxFQUNGLFdBQVcsQ0FDWixDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4TGdEO0FBQzZCO0FBQ2dCO0FBRXhGLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDckUsSUFBSTtRQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sb0VBQXlCLENBQUM7WUFDbEQsS0FBSyxFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDNUMsSUFBSSxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1NBQ3BELENBQUMsQ0FBQztRQUNILElBQUcsV0FBVyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxLQUFLLFdBQVcsRUFBQztZQUM3RCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO2dCQUNyRCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLGFBQWEsRUFBRTthQUMzQyxDQUFDLENBQUM7WUFDSCxNQUFNLEtBQUssR0FBRyxNQUFNLGdFQUFxQixDQUFDO2dCQUN4QyxLQUFLLEVBQUU7b0JBQ0wsSUFBSSxFQUFFLFdBQVcsQ0FBQyxPQUFPO2lCQUMxQjthQUNGLENBQUM7WUFDRixNQUFNLG9DQUFvQyxDQUN4QyxXQUFXLENBQUMsYUFBYSxFQUN6QixLQUFLLENBQUMsS0FBSyxDQUNaO1NBQ0Y7UUFDRCxPQUFPO1lBQ0wsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHO1lBQzdCLE9BQU8sRUFBRSxXQUFXO2dCQUNsQixDQUFDLENBQUMsMENBQTBDO2dCQUM1QyxDQUFDLENBQUMsc0JBQXNCO1NBQzNCLENBQUM7S0FDSDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLEtBQUssQ0FBQztLQUNiO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQ0FBb0MsR0FBRyxLQUFLLEVBQ2hELGFBQWEsRUFDYixFQUFFLEVBQ0YsRUFBRTtJQUVGLE1BQU0sa0dBQXdCLENBQzVCLGFBQWEsRUFDYiw2QkFBNkIsRUFDN0IsMkdBQXlDLEVBQUUsRUFDM0MsRUFBRSxDQUNILENBQUM7QUFDSixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzlDaUQ7QUFDNEI7QUFFdkUsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDNUQsSUFBSSx5QkFBeUIsQ0FBQztJQUM5QixJQUFJO1FBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3JELEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO1NBQ3hDLENBQUMsQ0FBQztRQUNILE1BQU0sS0FBSyxHQUFHLE1BQU0saUVBQXNCLENBQUM7WUFDekMsS0FBSyxFQUFFO2dCQUNMLGFBQWEsRUFBRSxXQUFXLENBQUMsSUFBSTthQUNoQztTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0sR0FBRyxHQUFHLE1BQU0sbUVBQXdCLENBQUM7WUFDekMsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxXQUFXLENBQUMsU0FBUzthQUM1QjtTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0sS0FBSyxHQUFHLE1BQU0sZ0VBQXFCLENBQUM7WUFDeEMsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxXQUFXLENBQUMsT0FBTzthQUMxQjtTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0saUJBQWlCLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUMzRCxLQUFLLEVBQUU7Z0JBQ0wsYUFBYSxFQUFFLFdBQVcsQ0FBQyxTQUFTO2FBQ3JDO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gseUJBQXlCLEdBQUc7WUFDMUIsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsMkNBQTJDO1lBQ3BELFlBQVksRUFBRSxHQUFHO1lBQ2pCLG1CQUFtQixFQUFFLFdBQVc7WUFDaEMsYUFBYSxFQUFFLEtBQUs7WUFDcEIscUJBQXFCLEVBQUUsS0FBSztZQUM1QixpQkFBaUIsRUFBRSxpQkFBaUI7U0FDckMsQ0FBQztRQUNGLE9BQU8seUJBQXlCLENBQUM7S0FDbEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLHlCQUF5QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2xFLE9BQU8seUJBQXlCLENBQUM7S0FDbEM7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUNpRDtBQUNPO0FBQ1E7QUFDWTtBQUV2RSxNQUFNLG1CQUFtQixHQUFHO0lBQ2pDLFFBQVEsRUFBRTtRQUNSLGlCQUFpQixFQUFFLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDM0QsK0VBQWlCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDM0MsdUJBQXVCLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNqRSwyRkFBdUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNsRDtJQUNELEtBQUssRUFBRTtRQUNMLGNBQWMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDOUQsdUVBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN6QztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDakJLLE1BQU0sa0JBQWtCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0SGpDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUg0RTtBQUM1QjtBQUNOO0FBQ3VDO0FBRW5GLElBQUksWUFBWSxDQUFDO0FBQ1YsTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUNyRSxJQUFJO1FBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRCxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQztRQUN0QyxJQUFJLGtCQUFrQixDQUFDO1FBQ3ZCLE1BQU0sT0FBTyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDakQsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUU7U0FDM0MsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBRXhCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDcEMsY0FBYyxHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxlQUFlLENBQUM7UUFDMUQsTUFBTSxtQkFBbUIsR0FBRyxZQUFZLENBQUM7UUFHekMsSUFDRSxtQkFBbUIsS0FBSyxxQkFBcUI7WUFDN0MsbUJBQW1CLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLEVBQ25EO1lBQ0EsTUFBTSxZQUFZLEdBQUcsc0JBQXNCLENBQ3pDLFVBQVUsRUFDViwyQkFBMkIsQ0FDNUIsQ0FBQztZQUNGLFVBQVUsR0FBRyxZQUFZLENBQUMsVUFBVSxDQUFDO1lBQ3JDLGtCQUFrQixHQUFHLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQztTQUN0RDtRQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzlDLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2xDLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEtBQUssbUJBQW1CLEVBQUU7b0JBQ2pFLE1BQU0saUJBQWlCLENBQ3JCLE9BQU8sQ0FBQyxFQUFFLEVBQ1YsVUFBVSxFQUNWLGNBQWMsRUFDZCxtQkFBbUIsRUFDbkIsTUFBTSxDQUNQLENBQUM7b0JBQ0YsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO3dCQUNoQixNQUFNLHNCQUFzQixHQUFHLFVBQVUsQ0FDdkMsWUFBWSxDQUNiLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUN0QixDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLEtBQUssS0FBSyxpQkFBaUIsQ0FDakUsQ0FBQzt3QkFDRixNQUFNLHdCQUF3QixHQUM1QixzQkFBc0IsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQzdDLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FDWixTQUFTLENBQUMsZ0JBQWdCLEtBQUssMEJBQTBCLENBQzVELENBQUM7d0JBQ0osSUFDRSx3QkFBd0I7NEJBQ3hCLHdCQUF3QixDQUFDLElBQUk7NEJBQzdCLHdCQUF3QixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3pDOzRCQUNBLFlBQVksR0FBRywyQkFBMkIsQ0FDeEMsY0FBYyxFQUNkLFVBQVUsQ0FDWCxDQUFDOzRCQUNGLFVBQVUsR0FBRyxZQUFZLENBQUMsVUFBVSxDQUFDOzRCQUNyQyxrQkFBa0IsR0FBRyxZQUFZLENBQUMsaUJBQWlCLENBQUM7eUJBQ3JEO3FCQUNGO2lCQUNGO2FBQ0Y7U0FDRjtRQUVELE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtZQUNoQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRTtTQUMxQixDQUFDLENBQUM7UUFDSCxJQUFJLGtCQUFrQixFQUFFO1lBQ3RCLE1BQU0sc0ZBQWtDLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1NBQzFFO1FBQ0QsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxDQUFDO0tBQzFDO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMzQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLDJCQUEyQixHQUFHLENBQUMsY0FBYyxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQ2pFLElBQUksaUJBQWlCLENBQUM7SUFDdEIsSUFBSSxzQkFBc0IsR0FBRyxJQUFJLENBQUM7SUFFbEMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1FBQzlCLElBQUksSUFBSSxDQUFDLHNCQUFzQixFQUFFO1lBQy9CLElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUN2QyxJQUFJLElBQUksQ0FBQyxjQUFjLEtBQUssVUFBVSxFQUFFO29CQUN0QyxzQkFBc0IsR0FBRyxLQUFLLENBQUM7aUJBQ2hDO2FBQ0Y7U0FDRjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxzQkFBc0IsRUFBRTtRQUMxQixVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsZUFBZSxFQUFFLEVBQUU7WUFDckUsSUFBSSxlQUFlLENBQUMsS0FBSyxLQUFLLGlCQUFpQixFQUFFO2dCQUMvQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLEVBQUUsRUFBRTtvQkFDakUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO29CQUNqRCxJQUNFLGtCQUFrQixDQUFDLGdCQUFnQixLQUFLLDBCQUEwQixFQUNsRTt3QkFDQSxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztxQkFDN0M7b0JBQ0QsSUFBSSxrQkFBa0IsQ0FBQyxnQkFBZ0IsS0FBSyxtQkFBbUIsRUFBRTt3QkFDL0Qsa0JBQWtCLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQzt3QkFDckMsaUJBQWlCLEdBQUcsZUFBZSxDQUFDO3FCQUNyQztnQkFDSCxDQUFDLENBQUMsQ0FBQzthQUNKO1FBQ0gsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQztBQUMzQyxDQUFDLENBQUM7QUFFRixNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFDN0IsU0FBUyxFQUNULFVBQVUsRUFDVixlQUFlLEVBQ2YsbUJBQW1CLEVBQ25CLE1BQU0sRUFDTixFQUFFO0lBQ0YsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1FBQy9CLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLG1CQUFtQixFQUFFO1lBQ2pELElBQUksTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO2FBQzlCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQzthQUM5QjtTQUNGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUUzRCxNQUFNLG9FQUF5QixDQUFDO1FBQzlCLEtBQUssRUFBRTtZQUNMLEVBQUUsRUFBRSxTQUFTO1NBQ2Q7UUFDRCxJQUFJLEVBQUU7WUFDSixVQUFVLEVBQUUsVUFBVTtTQUN2QjtLQUNGLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQztBQUVGLE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxVQUFVLEVBQUUsbUJBQW1CLEVBQUUsRUFBRTtJQUNqRSxJQUFJLGtCQUFrQixDQUFDO0lBQ3ZCLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtRQUMvRCxJQUFJLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQzVDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtnQkFDbEQsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLEtBQUssbUJBQW1CLEVBQUU7b0JBQ3RELFNBQVMsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO29CQUM1QixrQkFBa0IsR0FBRyxTQUFTLENBQUM7aUJBQ2hDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBRUgsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxDQUFDO0FBQzVDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNySytDO0FBQzZCO0FBRXZFLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFFaEUsSUFBSTtRQUNBLE1BQU0sUUFBUSxHQUFHLE1BQU0saUZBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDO1FBRW5ELE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFN0IsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLE1BQU0sSUFBSSxHQUFHLE1BQU0sZ0VBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsUUFBUSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7UUFFNUYsTUFBTSxTQUFTLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDNUcsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFO1lBRWxCLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDYixTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtnQkFFekIsTUFBTSxjQUFjLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDO2dCQUMvRCxJQUFHLGNBQWMsRUFBQztvQkFDZCxRQUFRLENBQUMsSUFBSSxDQUFDO3dCQUNWLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTzt3QkFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRO3dCQUN0QixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7d0JBQzdCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVzt3QkFDN0IsTUFBTSxFQUFFLGNBQWM7cUJBQ3pCLENBQUM7aUJBQ0w7WUFDTCxDQUFDLENBQUMsQ0FDTDtTQUVKO1FBRUQsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztRQUNsRyxNQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGVBQWU7UUFFckUsSUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFO1lBRXJCLFlBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO2dCQUNoQyxNQUFNLGVBQWUsR0FBRyxNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDO2dCQUU3RCxRQUFRLEdBQUcsZUFBZSxDQUFDLFFBQVE7WUFDdkMsQ0FBQyxDQUFDO1NBQ0w7UUFHRCxJQUFJLFdBQVcsRUFBRTtZQUViLE1BQU0sYUFBYSxHQUFHLE1BQU0scUJBQXFCLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQztZQUV4RSxRQUFRLEdBQUcsYUFBYTtTQUMzQjtRQUVELE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRTtLQUMzRDtJQUNELE9BQU8sS0FBSyxFQUFFO1FBQ1YsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7S0FDL0M7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDaEQsSUFBSSxLQUFLLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQztJQUN6QixJQUFJLHdCQUF3QixHQUFRLEVBQUUsQ0FBQztJQUN2QyxJQUFJLHFCQUFxQixHQUFRLEVBQUUsQ0FBQztJQUVwQyxNQUFNLFdBQVcsR0FBRztRQUNoQixFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUU7UUFDdEIsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO0tBQ3pCLENBQUM7SUFDRixJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssbUJBQW1CLEVBQUU7UUFDMUMsd0JBQXdCLEdBQUc7WUFDdkIsRUFBRSxFQUFFLFdBQVc7WUFDZixhQUFhLEVBQUUsSUFBSSxDQUFDLFFBQVE7U0FDL0IsQ0FBQztRQUNGLEtBQUssR0FBRyxNQUFNLGlFQUFzQixDQUFDLEVBQUUsS0FBSyxFQUFFLHdCQUF3QixFQUFDLENBQUM7UUFDeEUsTUFBTSxHQUFHLE1BQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSTtLQUU3QztJQUNELElBQUksSUFBSSxDQUFDLFdBQVcsS0FBSyx3QkFBd0IsRUFBRTtRQUMvQyxxQkFBcUIsR0FBRztZQUNwQixFQUFFLEVBQUUsV0FBVztZQUNmLG9CQUFvQixFQUFFLElBQUksQ0FBQyxRQUFRO1NBQ3RDLENBQUM7UUFDRixLQUFLLEdBQUcsTUFBTSxpRUFBc0IsQ0FBQyxFQUFFLEtBQUssRUFBRSxxQkFBcUIsRUFBRSxDQUFDO1FBQ3RFLE1BQU0sR0FBRyxNQUFLLGFBQUwsS0FBSyx1QkFBTCxLQUFLLENBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUk7S0FFN0M7SUFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssY0FBYyxFQUFFO1FBRXJDLE1BQU0sR0FBRyxTQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsbUJBQW1CLEVBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSTtLQUU3RDtJQUNELE9BQU8sTUFBTTtBQUVqQixDQUFDO0FBQ0QsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUM3QyxJQUFJLFdBQVcsQ0FBQztJQUNoQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQzFDLElBQUksSUFBSSxDQUFDLGdCQUFnQixLQUFLLG1CQUFtQixFQUFFO1lBQy9DLFdBQVcsR0FBRyx5QkFBeUI7U0FDMUM7YUFBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyx5QkFBeUIsRUFBRTtZQUM1RCxXQUFXLEdBQUcseUJBQXlCO1NBQzFDO2FBQU07WUFDSCxXQUFXLEdBQUcsSUFBSSxDQUFDLGdCQUFnQjtTQUN0QztRQUNELFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDVixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLFdBQVcsRUFBRSxXQUFXO1lBQ3hCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLGNBQWM7WUFDM0Isc0JBQXNCLEVBQUUsSUFBSSxDQUFDLHNCQUFzQjtTQUV0RCxDQUFDO0tBQ0w7SUFFRCxPQUFPLFFBQVE7QUFFbkIsQ0FBQztBQUNELE1BQU0scUJBQXFCLEdBQUcsS0FBSyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUMxRCxJQUFJLFdBQVcsS0FBSyxDQUFDLEVBQUU7UUFDbkIsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUN0QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEtBQUssVUFBVSxFQUFFO2dCQUMxQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUMzQjtRQUNMLENBQUMsQ0FBQztRQUNGLFFBQVEsR0FBRyxhQUFhO0tBRTNCO1NBQU0sSUFBSSxXQUFXLEtBQUssQ0FBQyxFQUFFO1FBQzFCLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO1FBQ2pDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUN0QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEtBQUssa0JBQWtCLElBQUksSUFBSSxDQUFDLHNCQUFzQixFQUFFO2dCQUNqRixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ25DO1FBQ0wsQ0FBQyxDQUFDO1FBQ0YsUUFBUSxHQUFHLHFCQUFxQjtLQUVuQztTQUFNLElBQUksV0FBVyxLQUFLLENBQUMsRUFBRTtRQUMxQixNQUFNLG9CQUFvQixHQUFHLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxLQUFLLGtCQUFrQixFQUFFO2dCQUNsRCxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ2xDO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsUUFBUSxHQUFHLG9CQUFvQjtLQUNsQztJQUNELE9BQU8sUUFBUSxDQUFDO0FBRXBCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0SmtEO0FBQ21CO0FBQ1E7QUFFdkUsTUFBTSxxQkFBcUIsR0FBRztJQUNuQyxRQUFRLEVBQUU7UUFDUix1QkFBdUIsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2pFLDJGQUF1QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQ2xEO0lBQ0QsS0FBSyxFQUFFO1FBQ0wsb0JBQW9CLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3BFLG1GQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQy9DO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNkSyxNQUFNLG9CQUFvQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXVCbkMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCNkM7QUFDSDtBQUN1RDtBQUU1RixNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUN6RCxNQUFNLHFCQUFxQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUN2RSxJQUFJO1FBQ0YsTUFBTSxFQUNKLFNBQVMsRUFDVCxRQUFRLEVBQ1IsYUFBYSxFQUNiLGFBQWEsRUFDYixZQUFZLEVBQ1osU0FBUyxFQUNULEtBQUssRUFDTCxhQUFhLEVBQ2IsU0FBUyxHQUNWLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUVsQixNQUFNLElBQUksR0FBRyxNQUFNLGdFQUFxQixDQUFDO1lBQ3ZDLEtBQUssRUFBRSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUU7U0FDdEMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxNQUFNLENBQUM7UUFDWCxJQUFJLElBQUksRUFBRTtZQUNSLE1BQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1NBQ2xCO1FBRUQsTUFBTSxZQUFZLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUN0RCxLQUFLLEVBQUU7Z0JBQ0wsYUFBYSxFQUFFLGFBQWE7YUFDN0I7U0FDRixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ2pCLE1BQU0sYUFBYSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7Z0JBQ3BELElBQUksRUFBRTtvQkFDSixTQUFTO29CQUNULFFBQVE7b0JBQ1IsYUFBYTtvQkFDYixhQUFhO29CQUNiLFlBQVk7b0JBQ1osU0FBUztvQkFDVCxLQUFLO29CQUNMLGFBQWE7b0JBQ2IsTUFBTTtpQkFDUDthQUNGLENBQUMsQ0FBQztZQUNILElBQUksYUFBYSxFQUFFO2dCQUNqQixTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQzVCLE9BQU8sQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFDLFVBQVUsQ0FBQztnQkFDaEQsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsS0FBSSxNQUFNLE9BQU8sSUFBSSxTQUFTLEVBQUM7b0JBQzdCLE1BQU0scUVBQTBCLENBQUM7d0JBQy9CLElBQUksRUFBRSxPQUFPO3FCQUNkLENBQUMsQ0FBQztpQkFDSjtnQkFFRCxNQUFNLDBCQUEwQixHQUFHLE1BQU0sdUVBQTRCLENBQUM7b0JBQ3BFLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxhQUFhLENBQUMsVUFBVSxFQUFFO2lCQUNoRCxDQUFDLENBQUM7Z0JBRUgscUJBQXFCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztnQkFDckMscUJBQXFCLENBQUMsSUFBSSxHQUFHLDBCQUEwQixDQUFDO2dCQUV4RCxJQUFJLFFBQVEsQ0FBQztnQkFDYixNQUFNLDBCQUEwQixDQUFDLGFBQWEsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7YUFDOUQ7aUJBQU07Z0JBQ0wscUJBQXFCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLG9CQUFvQixDQUFDO2FBQ3REO1NBQ0Y7YUFBTTtZQUNMLHFCQUFxQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLHNDQUFzQyxDQUFDO1NBQ3hFO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25CLHFCQUFxQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDM0M7SUFDRCxPQUFPLHFCQUFxQixDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUNGLE1BQU0sMEJBQTBCLEdBQUcsS0FBSyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDckUsSUFBSTtRQUNGLE1BQU0sUUFBUSxHQUFHLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyxVQUFVLENBQUM7WUFDeEQsU0FBUyxFQUFFLFFBQVEsQ0FBQyxTQUFTO1lBQzdCLFFBQVEsRUFBRSxRQUFRLENBQUMsUUFBUTtZQUMzQixLQUFLLEVBQUUsUUFBUSxDQUFDLGFBQWE7WUFDN0IsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CO1lBQzFDLEtBQUssRUFBRSxLQUFLO1NBQ2IsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ3JCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSwyQ0FBMkMsQ0FBQyxDQUFDO1NBQ3ZFO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQ0FBZ0MsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWhFLE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsSUFBSSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDaEQsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUU7U0FDM0MsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDOUM7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pHNkM7QUFDWjtBQUNuQyxNQUFNLE1BQU0sR0FBRyxtQkFBTyxDQUFDLHNCQUFRLENBQUMsQ0FBQztBQUUxQixNQUFNLEtBQUssR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNqRCxNQUFNLEVBQUUsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQy9CLE1BQU0sZ0JBQWdCLEdBQUc7UUFDdkIsSUFBSSxFQUFFLEdBQUc7UUFDVCxPQUFPLEVBQUUsNkNBQTZDO0tBQ3ZELENBQUM7SUFDRixNQUFNLGVBQWUsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1FBQ3pELEtBQUssRUFBRSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUU7S0FDeEMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxlQUFlLEVBQUU7UUFDbkIsTUFBTSxHQUFHLEdBQUcsTUFBTSxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0MsTUFBTSxvRUFBeUIsQ0FBQztZQUM5QixLQUFLLEVBQUU7Z0JBQ0wsVUFBVSxFQUFFLGVBQWUsQ0FBQyxVQUFVO2FBQ3ZDO1lBQ0QsSUFBSSxFQUFFO2dCQUNKLEdBQUcsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDO2dCQUNsQixTQUFTLEVBQUUsS0FBSztnQkFDaEIscUJBQXFCLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7YUFDaEQ7U0FDRixDQUFDLENBQUM7S0FDSjtTQUFNO1FBQ0wsZ0JBQWdCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUM1QixnQkFBZ0IsQ0FBQyxPQUFPO1lBQ3RCLDJGQUEyRixDQUFDO0tBQy9GO0lBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztBQUMxQixDQUFDLENBQUM7QUFFRixNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQUUsYUFBYSxFQUFFLEVBQUU7SUFDMUMsSUFBSTtRQUNGLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsTUFBTSxPQUFPLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sR0FBRyxDQUFDO0tBQ1o7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQztLQUN0QjtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDekMsTUFBTSxTQUFTLEdBQUcsc0NBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RSxNQUFNLE1BQU0sR0FBRztRQUNiLEdBQUcsRUFBRSxHQUFHO1FBQ1IsS0FBSyxFQUFFLEVBQUU7UUFDVCxVQUFVLEVBQUUsR0FBRztRQUNmLFVBQVUsRUFBRSxJQUFJO1FBQ2hCLE1BQU0sRUFBRSxFQUFFO1FBQ1YsU0FBUyxFQUFFLEVBQUU7UUFDYixPQUFPLEVBQUUsRUFBRTtRQUNYLFdBQVcsRUFBRSxFQUFFO0tBQ2hCLENBQUM7SUFFRixTQUFTLENBQUMsT0FBTyxDQUNmLE1BQU0sV0FBVyxFQUFFLEVBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUN6QixNQUFNLEVBQ04sSUFBSSxFQUNKLElBQUksQ0FDTCxDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRTBDO0FBQ2I7QUFDaUM7QUFDakI7QUFFeEMsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFDbEUsSUFBSTtRQUNGLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDaEMsTUFBTSxRQUFRLEdBQUcsMERBQVUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRTtZQUNwRSxnQkFBZ0IsRUFBRSxJQUFJO1NBQ3ZCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBQztZQUMxQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztTQUNsRDtRQUVELE1BQU0sS0FBSyxHQUFHLG9CQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTywwQ0FBRSxLQUFLLDBDQUFFLFdBQVcsRUFBRSxDQUFDO1FBQ3RELE1BQU0sSUFBSSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDOUMsS0FBSyxFQUFFLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRTtTQUNoQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7U0FDNUM7UUFFRCxNQUFNLE9BQU8sR0FBRyxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsWUFBWSxDQUFDO1FBQ25DLElBQUksT0FBTyxLQUFLLEtBQUssRUFBRTtZQUNyQixNQUFNLG9FQUF5QixDQUFDO2dCQUM5QixLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFVBQVUsRUFBRTtnQkFDdkMsSUFBSSxFQUFFO29CQUNKLFlBQVksRUFBRSxJQUFJO2lCQUNuQjthQUNGLENBQUMsQ0FBQztZQUNILE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQztTQUN6QztRQUVELE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDM0IsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUNoQyxNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2pDLE1BQU0sR0FBRyxHQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLE1BQU0sR0FBRyxPQUFPLEVBQUU7WUFDcEIsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxVQUFVLEVBQUU7Z0JBQ3ZDLElBQUksRUFBRTtvQkFDSixZQUFZLEVBQUUsSUFBSTtpQkFDbkI7YUFDRixDQUFDLENBQUM7WUFDSCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsa0NBQWtDLENBQUMsQ0FBQztTQUM5RDtRQUNELE1BQU0sVUFBVSxHQUFHLHNFQUFJLENBQ3JCO1lBQ0UsRUFBRSxFQUFFLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxVQUFVO1lBQ3BCLEtBQUssRUFBRSxLQUFLO1NBQ2IsRUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUNqQyxDQUFDO1FBRUYsTUFBTSxZQUFZLEdBQUcsc0VBQUksQ0FDdkI7WUFDRSxFQUFFLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFVBQVU7WUFDcEIsS0FBSyxFQUFFLEtBQUs7U0FDYixFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQ2xDLENBQUM7UUFFRixHQUFHLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM1QixHQUFHLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNoQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxhQUFhLENBQUM7UUFDaEMsR0FBRyxDQUFDLFlBQVksR0FBRyxHQUFHLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxTQUFTLElBQUksSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFFBQVEsRUFBRSxDQUFDO1FBRTFELE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxVQUFVLEVBQUU7WUFDdkMsSUFBSSxFQUFFO2dCQUNKLGFBQWEsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDekIsWUFBWSxFQUFFLFlBQVk7YUFDM0I7U0FDRixDQUFDLENBQUM7UUFFSCxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztLQUNyRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDcEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2hDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDdkY2QztBQUV4QyxNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUN6RCxNQUFNLHNCQUFzQixHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUM7SUFDaEUsSUFBRztRQUNDLE1BQU0sRUFBQyxTQUFTLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQyxhQUFhLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsYUFBYSxFQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNsSCxNQUFNLFlBQVksR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3BELEtBQUssRUFBQztnQkFDRixhQUFhLEVBQUMsYUFBYTthQUM5QjtTQUNKLENBQUM7UUFFRixJQUFHLFlBQVksRUFBQztZQUNaLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztnQkFDdkQsS0FBSyxFQUFDO29CQUNBLGFBQWEsRUFBQyxhQUFhO2lCQUNoQztnQkFDRCxJQUFJLEVBQUM7b0JBQ0QsU0FBUztvQkFDVCxRQUFRO29CQUNSLGFBQWE7b0JBQ2IsYUFBYTtvQkFDYixZQUFZO29CQUNaLFNBQVM7b0JBQ1QsS0FBSztvQkFDTCxhQUFhO2lCQUNoQjthQUNKLENBQUM7WUFDRixzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyx1QkFBdUIsQ0FBQztZQUN6RCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUM7U0FDcEQ7YUFDRztZQUNBLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDbEMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLHlDQUF5QyxDQUFDO1NBQzlFO0tBQ0o7SUFDRCxPQUFNLENBQUMsRUFBQztRQUNKLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbEMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDOUM7SUFDRCxPQUFPLHNCQUFzQixDQUFDO0FBQ2xDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxQzhDO0FBRXhDLE1BQU0scUJBQXFCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDbkUsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDeEUsSUFBSTtRQUNGLE1BQU0sRUFDSixTQUFTLEVBQ1QsUUFBUSxFQUNSLFlBQVksRUFDWixhQUFhLEVBQ2IsYUFBYSxFQUNiLEtBQUssRUFDTCxTQUFTLEVBQ1QsWUFBWSxFQUNaLGlCQUFpQixFQUNqQixXQUFXLEVBQ1gsTUFBTSxFQUNOLGFBQWEsR0FDZCxHQUFHLElBQUksQ0FBQztRQUNULE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDL0IsTUFBTSxZQUFZLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUN0RCxLQUFLLEVBQUU7Z0JBQ0wsYUFBYSxFQUFFLGFBQWE7YUFDN0I7U0FDRixDQUFDLENBQUM7UUFFSCxJQUFJLFlBQVksRUFBRTtZQUNoQixNQUFNLGtCQUFrQixHQUFHLE1BQU0sb0VBQXlCLENBQUM7Z0JBQ3pELEtBQUssRUFBRTtvQkFDTCxhQUFhLEVBQUUsYUFBYTtpQkFDN0I7Z0JBQ0QsSUFBSSxFQUFFO29CQUNKLFNBQVMsRUFBRSxTQUFTO29CQUNwQixRQUFRO29CQUNSLFlBQVk7b0JBQ1osYUFBYTtvQkFDYixLQUFLO29CQUNMLFNBQVM7b0JBQ1QsWUFBWTtvQkFDWixpQkFBaUI7b0JBQ2pCLFdBQVc7b0JBQ1gsTUFBTTtvQkFDTixhQUFhO2lCQUNkO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsc0JBQXNCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQyxzQkFBc0IsQ0FBQyxPQUFPLEdBQUcsdUJBQXVCLENBQUM7WUFDekQsc0JBQXNCLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDO1NBQ2xEO1FBQ0QsSUFBSSxZQUFZLEVBQUU7WUFDaEIsS0FBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUU7Z0JBQzNELElBQUk7b0JBQ0YsTUFBTSx1QkFBdUIsR0FBRyxNQUFNLHdFQUE2QixDQUFDO3dCQUNsRSxLQUFLLEVBQUU7NEJBQ0wsVUFBVSxFQUFFLFlBQVksQ0FBQyxVQUFVOzRCQUNuQyxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVc7eUJBQzVDO3FCQUNGLENBQUMsQ0FBQztvQkFFSCxJQUFJLHVCQUF1QixFQUFFO3dCQUMzQixNQUFNLHlFQUE4QixDQUFDOzRCQUNuQyxLQUFLLEVBQUU7Z0NBQ0wsVUFBVSxFQUFFLFlBQVksQ0FBQyxVQUFVO2dDQUNuQyxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVc7NkJBQzVDOzRCQUNELElBQUksRUFBRTtnQ0FDSixJQUFJLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUk7Z0NBQzdCLE9BQU8sRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTztnQ0FDbkMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHO2dDQUMzQixNQUFNLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU07Z0NBQ2pDLEtBQUssRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSztnQ0FDL0IsV0FBVyxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXOzZCQUM1Qzt5QkFDRixDQUFDLENBQUM7cUJBQ0o7eUJBQU07d0JBQ0wsTUFBTSxxRUFBMEIsQ0FBQzs0QkFDL0IsSUFBSSxFQUFFO2dDQUNKLFVBQVUsRUFBRSxZQUFZLENBQUMsVUFBVTtnQ0FDbkMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJO2dDQUM3QixPQUFPLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU87Z0NBQ25DLEdBQUcsRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRztnQ0FDM0IsTUFBTSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNO2dDQUNqQyxLQUFLLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUs7Z0NBQy9CLFdBQVcsRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVzs2QkFDNUM7eUJBQ0YsQ0FBQyxDQUFDO3FCQUNKO29CQUNELHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7b0JBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxnQ0FBZ0MsQ0FBQztvQkFDbEUsc0JBQXNCLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQztpQkFDNUM7Z0JBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDZixzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO29CQUNsQyxzQkFBc0IsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztvQkFDM0MsT0FBTyxzQkFBc0IsQ0FBQztpQkFDL0I7YUFDRjtTQUNGO2FBQU07WUFDTCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2xDLHNCQUFzQixDQUFDLE9BQU87Z0JBQzVCLDZDQUE2QyxDQUFDO1NBQ2pEO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbEMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDNUM7SUFDRCxPQUFPLHNCQUFzQixDQUFDO0FBQ2hDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQzNHNkM7QUFFeEMsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsRUFBRTtJQUNyRSxNQUFNLHNCQUFzQixHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUM7SUFDaEUsSUFBRztRQUNDLE1BQU0sRUFBQyxhQUFhLEVBQUUsYUFBYSxFQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzVDLE1BQU0sWUFBWSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDcEQsS0FBSyxFQUFDO2dCQUNGLGFBQWEsRUFBQyxhQUFhO2FBQzlCO1NBQ0osQ0FBQztRQUVGLElBQUcsWUFBWSxFQUFDO1lBQ1osTUFBTSxrQkFBa0IsR0FBRyxNQUFNLG9FQUF5QixDQUFDO2dCQUN2RCxLQUFLLEVBQUM7b0JBQ0EsYUFBYSxFQUFDLGFBQWE7aUJBQ2hDO2dCQUNELElBQUksRUFBQztvQkFDRCxhQUFhLEVBQUMsYUFBYTtpQkFDOUI7YUFDSixDQUFDO1lBQ0Ysc0JBQXNCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNsQyxzQkFBc0IsQ0FBQyxPQUFPLEdBQUcsdUJBQXVCLENBQUM7WUFDekQsc0JBQXNCLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDO1NBQ3BEO2FBRUc7WUFDQSxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyw2Q0FBNkMsQ0FBQztTQUNsRjtLQUVKO0lBQ0QsT0FBTSxDQUFDLEVBQUM7UUFDSixzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQzlDO0lBQ0QsT0FBTyxzQkFBc0IsQ0FBQztBQUNsQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDckM4QztBQUV4QyxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBQyxFQUFFO0lBQzVELE1BQU0sc0JBQXNCLEdBQUcsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQztJQUNoRSxJQUFHO1FBQ0MsTUFBTSxFQUFDLElBQUksRUFBRSxjQUFjLEVBQUMsR0FBRyxJQUFJLENBQUM7UUFDcEMsTUFBTSxZQUFZLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNwRCxLQUFLLEVBQUM7Z0JBQ0YsYUFBYSxFQUFDLGNBQWM7YUFDL0I7U0FDSixDQUFDO1FBQ0YsSUFBRyxZQUFZLEVBQUM7WUFDWixNQUFNLGtCQUFrQixHQUFHLE1BQU0sb0VBQXlCLENBQUM7Z0JBQ3ZELEtBQUssRUFBQztvQkFDQSxhQUFhLEVBQUMsY0FBYztpQkFDakM7Z0JBQ0QsSUFBSSxFQUFDO29CQUNELFlBQVksRUFBQyxJQUFJO2lCQUNwQjthQUNKLENBQUM7WUFDRixzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyx1QkFBdUIsQ0FBQztZQUN6RCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUM7U0FDcEQ7YUFDRztZQUNBLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDbEMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLDZDQUE2QyxDQUFDO1NBQ2xGO0tBQ0o7SUFDRCxPQUFNLENBQUMsRUFBQztRQUNKLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbEMsc0JBQXNCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDOUM7SUFDRCxPQUFPLHNCQUFzQixDQUFDO0FBQ2xDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEM4QztBQUVpQjtBQUV6RCxNQUFNLFNBQVMsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUN2RCxNQUFNLFFBQVEsR0FBc0I7UUFDbEMsSUFBSSxFQUFFLEdBQUc7UUFDVCxPQUFPLEVBQUUsMkJBQTJCO1FBQ3BDLFFBQVEsRUFBRSxJQUFJO1FBQ2QsVUFBVSxFQUFFLElBQUk7UUFDaEIsWUFBWSxFQUFFLElBQUk7UUFDbEIsS0FBSyxFQUFFLElBQUk7UUFDWCxZQUFZLEVBQUUsSUFBSTtLQUNuQixDQUFDO0lBRUYsTUFBTSxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFcEMsTUFBTSxlQUFlLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUN6RCxLQUFLLEVBQUU7WUFDTCxhQUFhLEVBQUUsYUFBYTtTQUM3QjtLQUNGLENBQUMsQ0FBQztJQUVILElBQUksZUFBZSxFQUFFO1FBQ25CLElBQ0UsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQUssZUFBZSxhQUFmLGVBQWUsdUJBQWYsZUFBZSxDQUFFLEdBQUcsS0FBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssTUFBTSxDQUFDO1lBQ3BFLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFLLGVBQWUsYUFBZixlQUFlLHVCQUFmLGVBQWUsQ0FBRSxHQUFHO2dCQUNyQyxnQkFBZSxhQUFmLGVBQWUsdUJBQWYsZUFBZSxDQUFFLFNBQVMsTUFBSyxJQUFJLENBQUMsRUFDdEM7WUFDQSxPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSx1Q0FBdUM7YUFDakQsQ0FBQztTQUNIO1FBRUQsUUFBUSxDQUFDLFFBQVEsR0FBRyxlQUFlLENBQUM7UUFDcEMsTUFBTSxVQUFVLEdBQUcsc0VBQUksQ0FDckI7WUFDRSxFQUFFLEVBQUUsZUFBZSxDQUFDLFVBQVU7WUFDOUIsYUFBYSxFQUFFLGVBQWUsQ0FBQyxhQUFhO1NBQzdDLEVBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FDakMsQ0FBQztRQUNGLE1BQU0sWUFBWSxHQUFHLHNFQUFJLENBQ3ZCO1lBQ0UsRUFBRSxFQUFFLGVBQWUsQ0FBQyxVQUFVO1lBQzlCLGFBQWEsRUFBRSxlQUFlLENBQUMsYUFBYTtTQUM3QyxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQ2xDLENBQUM7UUFFRixNQUFNLG9FQUF5QixDQUFDO1lBQzlCLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsVUFBVSxFQUFFO1lBQ2xELElBQUksRUFBRTtnQkFDSixhQUFhLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3pCLFNBQVMsRUFBRSxJQUFJO2dCQUNmLFlBQVksRUFBRSxZQUFZO2FBQzNCO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsUUFBUSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDakMsUUFBUSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDckMsUUFBUSxDQUFDLEtBQUssR0FBSSxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsYUFBYSxDQUFDO1FBQ2pELFFBQVEsQ0FBQyxZQUFZLEdBQUcsR0FBRyxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsU0FBUyxJQUFJLGVBQWUsYUFBZixlQUFlLHVCQUFmLGVBQWUsQ0FBRSxRQUFRLEVBQUUsQ0FBQztLQUN0RjtTQUFNO1FBQ0wsUUFBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDcEIsUUFBUSxDQUFDLE9BQU8sR0FBRyxvQkFBb0IsQ0FBQztLQUN6QztJQUVELE9BQU87UUFDTCxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUk7UUFDbkIsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPO1FBQ3pCLElBQUksRUFBRTtZQUNKLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVTtZQUMvQixZQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7WUFDbkMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLO1lBQ3JCLFlBQVksRUFBRSxRQUFRLENBQUMsWUFBWTtTQUNwQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakZ5RTtBQUM1QjtBQUV4QyxNQUFNLHdCQUF3QixHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3hFLElBQUksUUFBdUQsQ0FBQztJQUM1RCxJQUFJO1FBQ0YsTUFBTSxlQUFlLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxRCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3JELEtBQUssRUFBRSxFQUFFLGFBQWEsRUFBRSxlQUFlLENBQUMsYUFBYSxFQUFFO1NBQ3hELENBQUMsQ0FBQztRQUNILE1BQU0sR0FBRyxHQUFHO1lBQ1YsUUFBUSxFQUFFLGVBQWU7U0FDMUIsQ0FBQztRQUNGLElBQUksV0FBVyxFQUFFO1lBQ2YsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxFQUFFLENBQUM7WUFDbEMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDLFNBQVMsQ0FBQztZQUNoRSxHQUFHLENBQUMsZUFBZSxDQUFDLEdBQUcsV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUNqRCxHQUFHLENBQUMsY0FBYyxDQUFDLEdBQUcsV0FBVyxDQUFDLFlBQVksQ0FBQztZQUMvQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQztZQUNyQyxHQUFHLENBQUMscUJBQXFCLENBQUMsR0FBRyxXQUFXLENBQUMsbUJBQW1CLENBQUM7U0FDOUQ7UUFDRCxRQUFRLEdBQUc7WUFDVCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxTQUFTO1lBQ2xCLElBQUksRUFBRSxHQUFHO1NBQ1YsQ0FBQztLQUNIO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixRQUFRLEdBQUc7WUFDVCxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU87WUFDbEIsSUFBSSxFQUFFLEdBQUc7U0FDVixDQUFDO0tBQ0g7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQytFO0FBQ3JDO0FBQ3NDO0FBRTNFLE1BQU0sWUFBWSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3hELE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQztJQUUvQyxJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQUcsTUFBTSxxRkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxJQUFJLElBQUksQ0FBQztRQUNULElBQUksR0FBRyxDQUFDLElBQUksRUFBRTtZQUNaLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1NBQ2pCO2FBQU0sSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO1lBQ3ZCLElBQUksR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDO1NBQ3JCO1FBQ0QsTUFBTSxXQUFXLEdBQVUsRUFBRSxDQUFDO1FBQzlCLElBQUksVUFBVSxFQUFFO1lBQ2QsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDcEMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUNyRSxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUM5QixPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxrREFBa0Q7YUFDNUQsQ0FBQztTQUNIO1FBQ0QsTUFBTSxHQUFHLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztRQUUzRSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTyxLQUFLLG1DQUFtQyxFQUFFO1lBQzlELE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxtQ0FBbUMsRUFBRSxDQUFDO1NBQ3BFO2FBQU07WUFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3BDLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1NBQ3hEO0tBQ0Y7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDOUM7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsRUFBRTtJQUN2RSxNQUFNLGFBQWEsR0FBRyxJQUFJLGlGQUFhLEVBQUUsQ0FBQztJQUMxQyxNQUFNLFFBQVEsR0FBUSxNQUFNLGFBQWEsQ0FBQyxtQkFBbUIsQ0FDM0QsZ0JBQWdCLEVBQ2hCO1FBQ0UsU0FBUyxFQUFFLFFBQVE7UUFDbkIsSUFBSSxFQUFFLE9BQU87UUFDYixPQUFPLEVBQUUsSUFBSSxDQUFDLG9CQUFvQjtRQUNsQyxVQUFVO0tBQ1gsQ0FDRixDQUFDO0lBQ0YsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25EZ0Q7QUFDTjtBQUNrQztBQUNHO0FBQ3FCO0FBQ0Q7QUFDWjtBQUVsRixNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN2RCxJQUFJLG1CQUFtQixDQUFDO0lBRXhCLE1BQU0sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRTdFLElBQUk7UUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRW5ELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyx5RkFBeUIsQ0FBQyxDQUFDO1FBQ2xFLElBQUksV0FBVyxLQUFLLEVBQUUsRUFBRTtZQUN0QixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztTQUN0RDtRQUNELElBQUksT0FBTyxLQUFLLEVBQUUsRUFBRTtZQUNsQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLENBQUMsQ0FBQztTQUNqRDtRQUNELElBQUksV0FBVyxLQUFLLEVBQUUsRUFBRTtZQUN0QixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUseUJBQXlCLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDM0MsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7U0FDbEQ7UUFDRCxNQUFNLE9BQU8sR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ2pELEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFO1NBQzNDLENBQUMsQ0FBQztRQUNILElBQUk7WUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLG9CQUFvQixDQUN6QyxRQUFRLEVBQ1IsT0FBTyxFQUNQLFdBQVcsRUFDWCxPQUFPLEVBQ1AsVUFBVSxFQUNWLFlBQVksQ0FDYixDQUFDO1lBQ0YsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxrQ0FBa0MsRUFBRTtnQkFDdkUsbUJBQW1CLEdBQUc7b0JBQ3BCLElBQUksRUFBRSxHQUFHO29CQUNULE9BQU8sRUFBRSwyQ0FBMkM7aUJBQ3JELENBQUM7Z0JBQ0YsT0FBTyxtQkFBbUIsQ0FBQzthQUM1QjtpQkFBTTtnQkFDTCxtQkFBbUIsR0FBRztvQkFDcEIsSUFBSSxFQUFFLEdBQUc7b0JBQ1QsT0FBTyxFQUFFLDJCQUEyQjtpQkFDckMsQ0FBQztnQkFDRixPQUFPLG1CQUFtQixDQUFDO2FBQzVCO1NBQ0Y7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkIsTUFBTSxLQUFLLENBQUM7U0FDYjtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxtQkFBbUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM1RCxPQUFPLG1CQUFtQixDQUFDO0tBQzVCO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQ2hDLFFBQWEsRUFDYixPQUFZLEVBQ1osV0FBZ0IsRUFDaEIsT0FBWSxFQUNaLFVBQWUsRUFDZixZQUFpQixFQUNqQixFQUFFO0lBQ0YsSUFBSTtRQUNGLElBQUksUUFBUSxHQUFHLElBQUksRUFDakIsR0FBRyxHQUFHLElBQUksRUFDVixXQUFXLEdBQUcsSUFBSSxFQUNsQixTQUFTLEdBQUcsSUFBSSxFQUNoQixTQUFTLEdBQUcsRUFBRSxFQUNkLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxPQUFPLEVBQUU7WUFDWCxJQUFJLE9BQU8sQ0FBQyxVQUFVLEVBQUU7Z0JBQ3RCLFFBQVEsR0FBRyxNQUFNLG9FQUF5QixDQUFDO29CQUN6QyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRTtpQkFDdEMsQ0FBQyxDQUFDO2FBQ0o7WUFDRCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7Z0JBQ2pCLEdBQUcsR0FBRyxNQUFNLG9FQUF5QixDQUFDO29CQUNwQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRTtpQkFDakMsQ0FBQyxDQUFDO2FBQ0o7WUFFRCxJQUFJLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRTtnQkFDOUIsTUFBTSxlQUFlLEdBQUcsTUFBTSx1QkFBdUIsQ0FDbkQsT0FBTyxDQUFDLGtCQUFrQixDQUMzQixDQUFDO2dCQUNGLFNBQVM7b0JBQ1AsZUFBZSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQzthQUN6RTtZQUVELElBQUksT0FBTyxDQUFDLGNBQWMsRUFBRTtnQkFDMUIsTUFBTSxVQUFVLEdBQUcsTUFBTSxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2dCQUM3RCxRQUFRLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztnQkFFM0IsUUFBUSxHQUFHLE9BQU8sR0FBRyxRQUFRLENBQUM7YUFDL0I7WUFDRCxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztZQUNsQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztTQUMvQjtRQUVELE1BQU0sS0FBSyxHQUFHLE1BQU0sZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFMUMsSUFBSSxVQUFVLEVBQ1osYUFBYSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLFFBQVEsRUFBRTtZQUNaLE1BQU0sWUFBWSxHQUFHLENBQ25CLEdBQUcsUUFBUSxDQUFDLFNBQVMsRUFBRTtnQkFDdkIsR0FBRztnQkFDSCxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FDdkIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNULGFBQWEsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDO1lBRXpDLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUU7Z0JBQ2xDLFFBQVEsQ0FBQyxvQkFBb0I7b0JBQzNCLE1BQU0seUdBQXFCLEVBQUUsQ0FBQywyQkFBMkIsQ0FDdkQsUUFBUSxDQUFDLGVBQWUsRUFDeEIsWUFBWSxFQUNaLENBQUMsQ0FDRixDQUFDO2dCQUNKLFVBQVUsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQUM7Z0JBQzNDLE1BQU0saUVBQXNCLENBQUM7b0JBQzNCLElBQUksRUFBRSxRQUFRO29CQUNkLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFO2lCQUNuQyxDQUFDLENBQUM7YUFDSjtpQkFBTTtnQkFDTCxVQUFVLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDO2FBQzVDO1NBQ0Y7UUFDRCxNQUFNLFFBQVEsR0FBRyxDQUNmLEdBQUcsUUFBUSxDQUFDLFNBQVMsRUFBRTtZQUN2QixHQUFHO1lBQ0gsR0FBRyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQ3ZCLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDVCxJQUFJLFVBQVUsQ0FBQztRQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLEVBQUU7Z0JBQzNCLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsaURBQWlELENBQ2xELENBQUM7YUFDSDtZQUNELFFBQVEsQ0FBQyxvQkFBb0I7Z0JBQzNCLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyx1QkFBdUIsQ0FDbkQsUUFBUSxDQUFDLGFBQWEsRUFDdEIsUUFBUSxDQUNULENBQUM7WUFDSixVQUFVLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDO1lBQzNDLE1BQU0sb0VBQXlCLENBQUM7Z0JBQzlCLElBQUksRUFBRSxFQUFFLG9CQUFvQixFQUFFLFVBQVUsRUFBRTtnQkFDMUMsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUU7YUFDM0MsQ0FBQyxDQUFDO1NBQ0o7YUFBTTtZQUNMLFVBQVUsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQUM7U0FDNUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDdkIsSUFBSSxVQUFVLEVBQUU7WUFDZCxVQUFVLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNwQyxXQUFXLENBQUMsSUFBSSxDQUFDO29CQUNmLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtvQkFDdkIsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJO2lCQUNwQixDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBRUQsTUFBTSxnQkFBZ0IsR0FBRyx5R0FBcUIsRUFBRSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFFNUUsTUFBTSxNQUFNLEdBQUcsb0JBQW9CLENBQUM7UUFJcEMsSUFBSSxjQUFjLEdBQVEsRUFBRSxDQUFDO1FBQzdCLElBQUksVUFBVSxFQUFFO1lBQ2QsTUFBTSxrQkFBa0IsR0FBRztnQkFDekIsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLFVBQVUsRUFBRSxRQUFRLENBQUMsYUFBYTtnQkFDbEMsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsVUFBVSxFQUFFLEtBQUs7Z0JBQ2pCLE9BQU8sRUFBRSxPQUFPO2dCQUNoQixJQUFJLEVBQUUsV0FBVztnQkFDakIsV0FBVyxFQUFFO29CQUNYLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVE7b0JBQ3ZCLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxTQUFTLENBQUM7b0JBQ3JFLENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxXQUFXO29CQUNoRCxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxFQUFFLFNBQVM7b0JBRTNDLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO29CQUN4RCxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxFQUFFLFlBQVk7b0JBQ2hELENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsRUFBRSxhQUFhO29CQUN0RCxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxFQUFFLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztpQkFDNUQ7Z0JBQ0QsVUFBVSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CO2dCQUM1QyxVQUFVLEVBQUUsV0FBVzthQUN4QixDQUFDO1lBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBRXhELGNBQWMsR0FBRyxNQUFNLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3hELE9BQU8sY0FBYyxDQUFDO1NBQ3ZCO2FBQU07WUFDTCxjQUFjLEdBQUcsSUFBSSw0REFBUyxDQUM1QixHQUFHLEVBQ0gsOENBQThDLENBQy9DLENBQUM7WUFDRixPQUFPLGNBQWMsQ0FBQztTQUN2QjtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDbEMsTUFBTSxhQUFhLEdBQUcsSUFBSSxpRkFBYSxFQUFFLENBQUM7SUFDMUMsTUFBTSxPQUFPLEdBQVEsTUFBTSxhQUFhLENBQUMsbUJBQW1CLENBQzFELGVBQWUsRUFDZixJQUFJLENBQ0wsQ0FBQztJQUNGLE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQztBQUVGLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLGtCQUFrQixFQUFFLEVBQUU7SUFDM0QsT0FBTyxnRkFBcUMsQ0FBQztRQUMzQyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsa0JBQWtCLEVBQUU7S0FDeEMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO0lBQ25DLE9BQU8sb0VBQXlCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUNGLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQy9DLElBQUksbUJBQW1CLENBQUM7SUFDeEIsSUFBSSxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxLQUFLLE9BQU8sRUFBRTtRQUMvRCxtQkFBbUIsR0FBRyxRQUFRLENBQUM7S0FDaEM7U0FBTTtRQUNMLElBQUksT0FBTyxDQUFDLGdCQUFnQixFQUFFO1lBQzVCLElBQ0UsT0FBTyxDQUFDLGdCQUFnQixLQUFLLFVBQVU7Z0JBQ3ZDLE9BQU8sQ0FBQyxhQUFhLEtBQUssV0FBVyxFQUNyQztnQkFDQSxtQkFBbUIsR0FBRyxlQUFlLENBQUM7YUFDdkM7aUJBQU07Z0JBQ0wsbUJBQW1CLEdBQUcsTUFBTSw0R0FBd0MsQ0FDbEUsT0FBTyxDQUFDLGdCQUFnQixDQUN6QixDQUFDO2FBQ0g7U0FDRjtLQUNGO0lBQ0QsT0FBTyxtQkFBbUIsQ0FBQztBQUM3QixDQUFDLENBQUM7QUFDRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUNyQyxJQUFJLE9BQU8sRUFDVCxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2IsSUFBSSxHQUFHLEVBQUU7UUFDUCxPQUFPLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoRSxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFO1lBQzdCLEdBQUcsQ0FBQyxvQkFBb0I7Z0JBQ3RCLE1BQU0seUdBQXFCLEVBQUUsQ0FBQywyQkFBMkIsQ0FDdkQsR0FBRyxDQUFDLGVBQWUsRUFDbkIsT0FBTyxFQUNQLENBQUMsQ0FDRixDQUFDO1lBQ0osS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDbkMsTUFBTSxpRUFBc0IsQ0FBQztnQkFDM0IsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUU7YUFDOUIsQ0FBQyxDQUFDO1NBQ0o7YUFBTTtZQUNMLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ3BDO0tBQ0Y7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDelJ5RjtBQUMvQztBQUNrQztBQUN3QjtBQUM1QjtBQUVuRSxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ2hFLElBQUksc0JBQXNCLENBQUM7SUFDM0IsTUFBTSxFQUFFLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQztJQUM1QixJQUFJO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUvQyxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFFcEIsSUFBSSxXQUFXLEdBQVUsRUFBRSxDQUFDO1FBQzVCLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7UUFDbEIsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLE1BQU0sWUFBWSxHQUFHLE1BQU0sZ0ZBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEQsVUFBVSxHQUFHLE1BQU0sY0FBYyxDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFbEUsSUFBSSxPQUFPLENBQUM7UUFDWixJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDckIsT0FBTyxHQUFHLFVBQVUsQ0FBQztTQUN0QjthQUFNO1lBQ0wsc0JBQXNCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNqRCxPQUFPLHNCQUFzQixDQUFDO1NBQy9CO1FBQ0QsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ3pCLE1BQU0sR0FBRyxHQUFHO2dCQUNWLFFBQVEsRUFBRSxFQUFFO2dCQUNaLFVBQVUsRUFBRSxFQUFFO2dCQUNkLE1BQU0sRUFBRSxFQUFFO2dCQUNWLE9BQU8sRUFBRSxFQUFFO2dCQUNYLFdBQVcsRUFBRSxFQUFFO2dCQUNmLFFBQVEsRUFBRSxLQUFLO2dCQUNmLFdBQVcsRUFBRSxFQUFFO2dCQUNmLFlBQVksRUFBRSxFQUFFO2dCQUNoQixjQUFjLEVBQUUsRUFBRTthQUNuQixDQUFDO1lBQ0YsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ3ZCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUM3QixHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQzlCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUMzQixHQUFHLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQzVDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7WUFDMUMsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7WUFDdEQsSUFBSSxlQUFlLEVBQUU7Z0JBQ25CLEdBQUcsQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUM7YUFDaEU7WUFDRCxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVO2dCQUMvQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQyxZQUFZLEVBQUU7Z0JBQ2pELENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDUixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLHdGQUEwQixFQUFFO2dCQUNqRCxHQUFHLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztnQkFDckIsU0FBUyxFQUFFLENBQUM7YUFDYjtpQkFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLDBGQUE0QixFQUFFO2dCQUMxRCxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDcEIsV0FBVyxFQUFFLENBQUM7YUFDZjtZQUNELFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUNGLFdBQVcsR0FBRyxNQUFNLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN6QyxVQUFVLEdBQUcsV0FBVyxDQUFDLE1BQU0sQ0FBQztRQUVoQyxzQkFBc0IsR0FBRztZQUN2QixJQUFJLEVBQUUsR0FBRztZQUNULElBQUksRUFBRSxXQUFXO1lBQ2pCLFlBQVksRUFBRSxVQUFVO1lBQ3hCLFdBQVcsRUFBRSxTQUFTO1lBQ3RCLGFBQWEsRUFBRSxXQUFXO1NBQzNCLENBQUM7UUFDRixPQUFPLHNCQUFzQixDQUFDO0tBQy9CO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDcEMsSUFBSSxXQUFXLENBQUMsTUFBTSxFQUFFO1FBQ3RCLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztLQUN2QjtTQUFNO1FBQ0wsV0FBVyxHQUFHLEVBQUUsQ0FBQztLQUNsQjtJQUVELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQUNGLE1BQU0sY0FBYyxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQzNELElBQUksR0FBRyxDQUFDO0lBQ1IsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3ZDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsRUFBRTtZQUNqQyxHQUFHLEdBQUcsTUFBTSx5R0FBcUIsRUFBRSxDQUFDLGFBQWEsQ0FDL0MsSUFBSSxFQUNKLFVBQVUsRUFDVixVQUFVLENBQ1gsQ0FBQztZQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQ3ZCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FDSCxDQUFDO0tBQ0g7U0FBTTtRQUNMLEdBQUcsR0FBRyxNQUFNLHlHQUFxQixFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDMUUsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN2QixVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9HK0M7QUFDaUU7QUFDcEM7QUFDbEM7QUFFNUMsSUFBSSwwQkFBMEI7QUFFdkIsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFFakUsTUFBTSxFQUNKLHNCQUFzQixHQUN2QixHQUFHLElBQUksQ0FBQztJQUVULElBQUk7UUFFRixNQUFNLElBQUksR0FBRyxNQUFNLGlGQUFZLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQztRQUUvQyxJQUFJLE1BQU0sRUFBRSxRQUFRLENBQUM7UUFHckIsTUFBTSxhQUFhLENBQUMsc0JBQXNCLENBQUM7UUFHM0MsTUFBTSxTQUFTLEdBQUcsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsVUFBVSxDQUFDO1FBQ3JELE1BQU0sSUFBSSxHQUFHLE1BQU0sZ0VBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7UUFFeEYsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMzQixTQUFTLENBQUMsRUFBRSxHQUFHLFFBQVEsQ0FBQztRQUN4QixJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQywrREFBK0QsQ0FBQyxDQUFDLEVBQUU7WUFDMUcsTUFBTSxVQUFVLEdBQUc7Z0JBQ2pCLEdBQUcsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3BDLFdBQVcsRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVk7Z0JBQ2hELE1BQU0sRUFBRSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUk7Z0JBQ25DLFdBQVcsRUFBRSxDQUFDO2dCQUNkLFFBQVEsRUFBRSxJQUFJLENBQUMsVUFBVTtnQkFDekIsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJO2FBQ2xCLENBQUM7WUFFRixRQUFRLEdBQUcsTUFBTSx3RkFBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRTVDLE1BQU0sR0FBRyxNQUFNLHFHQUEyQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3RELElBQUksYUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLE1BQU0sMENBQUUsV0FBVyxFQUFFLE1BQUssT0FBTyxFQUFFO2dCQUM3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsa0NBQWtDLEVBQUU7YUFFbEU7U0FDRjtRQUNELE1BQU0sNkRBQWtCLENBQUM7WUFDdkIsSUFBSSxFQUFFO2dCQUNKLFlBQVksRUFBRSxzQkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZO2dCQUNsRCxPQUFPLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRTtnQkFDbkQsZ0JBQWdCLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsZ0JBQWdCO2dCQUMxRCxhQUFhLEVBQUUsQ0FBQyx1QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxhQUFhLE1BQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSztnQkFDL0UsMEJBQTBCLEVBQUUsNEJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsMEJBQTBCLDBDQUFFLElBQUksQ0FBQyxHQUFHLENBQUM7Z0JBQ3pGLDJCQUEyQixFQUFFLDRCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLDJCQUEyQiwwQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDO2dCQUMzRixzQkFBc0IsRUFBRSw0QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxzQkFBc0IsMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDakYsaUJBQWlCLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsaUJBQWlCO2dCQUM1RCxrQ0FBa0MsRUFBRSxzQkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxrQ0FBa0M7Z0JBQzlGLHVDQUF1QyxFQUFFLHNCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLHVDQUF1QztnQkFDeEcsMENBQTBDLEVBQUUsNEJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsMENBQTBDLDBDQUFFLElBQUksQ0FBQyxHQUFHLENBQUM7Z0JBQ3pILG9DQUFvQyxFQUFFLDRCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLG9DQUFvQywwQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDO2dCQUM3RyxtQ0FBbUMsRUFBRSw0QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxtQ0FBbUMsMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFFM0csc0JBQXNCLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyw0QkFBc0IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDcEgsdUJBQXVCLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyw0QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDdEgsc0JBQXNCLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyw0QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDckgsdUJBQXVCLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyw0QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDdEgsbUJBQW1CLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyxrQ0FBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLEdBQUcsMENBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7Z0JBQzNILG9CQUFvQixFQUFFLHVCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLFlBQVksRUFBQyxDQUFDLENBQUMsa0NBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxHQUFHLDBDQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJO2dCQUM1SCxtQkFBbUIsRUFBRSx1QkFBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLEVBQUMsQ0FBQyxDQUFDLGtDQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsR0FBRywwQ0FBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDM0gsb0JBQW9CLEVBQUUsdUJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyxrQ0FBc0IsYUFBdEIsc0JBQXNCLHVCQUF0QixzQkFBc0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLEdBQUcsMENBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7Z0JBQzVILG1CQUFtQixFQUFFLHNCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLG1CQUFtQjtnQkFDaEUsT0FBTyxFQUFFLDRCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLE9BQU8sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDbkQsa0JBQWtCLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsa0JBQWtCO2dCQUM5RCxPQUFPLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsT0FBTztnQkFDeEMsTUFBTSxFQUFFLDRCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLE1BQU0sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDakQsT0FBTyxFQUFFLDRCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLE9BQU8sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDbkQsa0JBQWtCLEVBQUUsc0JBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsa0JBQWtCO2dCQUM5RCwyQkFBMkIsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQywyQkFBMkI7YUFDbEcsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtTQUMxQixDQUFDLENBQUM7UUFFSCxNQUFNLG9FQUF5QixDQUFDO1lBQzlCLElBQUksRUFBRTtnQkFDSix1QkFBdUIsRUFBRSxJQUFJO2FBQzlCLEVBQUUsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7U0FDMUMsQ0FBQztRQUVGLDBCQUEwQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsOEZBQThGLEVBQUU7UUFDbkosT0FBTywwQkFBMEI7S0FFbEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLDBCQUEwQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNsRSxPQUFPLDBCQUEwQjtLQUNsQztBQUNILENBQUMsQ0FBQztBQUNLLE1BQU0sYUFBYSxHQUFHLEtBQUssRUFBRSxzQkFBc0IsRUFBRSxFQUFFO0lBQzVELElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLEVBQUU7UUFDeEMsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCwyQkFBMkIsQ0FDNUIsQ0FBQztLQUNIO0lBQ0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQixFQUFFO1FBQzVDLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsMkJBQTJCLENBQzVCLENBQUM7S0FDSDtJQUNELElBQUksQ0FBQyxzQkFBc0IsQ0FBQywyQkFBMkIsRUFBRTtRQUN2RCxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILHNDQUFzQyxDQUN2QyxDQUFDO0tBQ0g7SUFDRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsc0JBQXNCLEVBQUU7UUFDbEQsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCw4QkFBOEIsQ0FDL0IsQ0FBQztLQUNIO0lBQ0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGFBQWEsRUFBRTtRQUN6QyxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILDJDQUEyQyxDQUM1QyxDQUFDO0tBQ0g7SUFDRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLEVBQUU7UUFDN0MsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCw0QkFBNEIsQ0FDN0IsQ0FBQztLQUNIO0lBQ0QsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGtDQUFrQyxFQUFFO1FBQzlELE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsNkNBQTZDLENBQzlDLENBQUM7S0FDSDtJQUNELElBQUksQ0FBQyxzQkFBc0IsQ0FBQywwQ0FBMEMsRUFBRTtRQUN0RSxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILHdEQUF3RCxDQUN6RCxDQUFDO0tBQ0g7SUFDRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsVUFBVSxFQUFFO1FBQ3RDLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsd0JBQXdCLENBQ3pCLENBQUM7S0FDSDtJQUNELElBQUksT0FBTyxDQUFDLHNCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLE9BQU8sQ0FBQyxLQUFLLFFBQVEsRUFBRTtRQUN6RCxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILDZCQUE2QixDQUM5QixDQUFDO0tBQ0g7SUFDRCxNQUFNLG1CQUFtQixDQUFDLHNCQUFzQixDQUFDO0FBQ25ELENBQUM7QUFDRCxNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBQyxzQkFBc0IsRUFBQyxFQUFFOztJQUN6RCxJQUFJLHNCQUFzQixhQUF0QixzQkFBc0IsdUJBQXRCLHNCQUFzQixDQUFFLFlBQVksRUFBRTtRQUN4QyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2YsNEJBQXNCLGFBQXRCLHNCQUFzQix1QkFBdEIsc0JBQXNCLENBQUUsWUFBWSwwQ0FBRSxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDbEQsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO2dCQUNmLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLEVBQUU7b0JBQ3JDLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsMkJBQTJCLENBQzVCLENBQUM7aUJBQ0g7YUFDRjtRQUNILENBQUMsQ0FBQyxDQUNIO0tBQ0Y7QUFFSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUs2QztBQUM2QjtBQUMvQjtBQUVyQyxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFOztJQUM5RCxJQUFJLDBCQUEwQixDQUFDO0lBQy9CLElBQUk7UUFDRixNQUFNLElBQUksR0FBRyxNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQztRQUU5QyxNQUFNLElBQUksR0FBRyxNQUFNLGdFQUFxQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDO1FBRXhGLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUM1QztRQUVELE1BQU0sT0FBTyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxHQUFHLENBQUM7UUFDUixJQUFJLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDM0QsR0FBRyxHQUFHO2dCQUNKLE1BQU0sRUFBRSxJQUFJLENBQUMsc0JBQXNCO2dCQUNuQyxHQUFHLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjthQUM5QjtZQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1NBQ2xCO1FBQ0QsSUFBSSxJQUFJLENBQUMsdUJBQXVCLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzdELEdBQUcsR0FBRztnQkFDSixNQUFNLEVBQUUsSUFBSSxDQUFDLHVCQUF1QjtnQkFDcEMsR0FBRyxFQUFFLElBQUksQ0FBQyxvQkFBb0I7YUFDL0I7WUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztTQUNsQjtRQUNELElBQUksSUFBSSxDQUFDLHNCQUFzQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtZQUMzRCxHQUFHLEdBQUc7Z0JBQ0osTUFBTSxFQUFFLElBQUksQ0FBQyxzQkFBc0I7Z0JBQ25DLEdBQUcsRUFBRSxJQUFJLENBQUMsbUJBQW1CO2FBQzlCO1lBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7U0FDbEI7UUFDRCxJQUFJLElBQUksQ0FBQyx1QkFBdUIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDN0QsR0FBRyxHQUFHO2dCQUNKLE1BQU0sRUFBRSxJQUFJLENBQUMsdUJBQXVCO2dCQUNwQyxHQUFHLEVBQUUsSUFBSSxDQUFDLG9CQUFvQjthQUMvQjtZQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1NBQ2xCO1FBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLDBFQUErQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDM0gsTUFBTSxzQkFBc0IsR0FBRztZQUM3QixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7WUFDL0IsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxnQkFBZ0I7WUFDdkMsMkJBQTJCLEVBQUUsVUFBSSxDQUFDLDJCQUEyQiwwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ3pFLGtDQUFrQyxFQUFFLElBQUksQ0FBQyxrQ0FBa0M7WUFDM0UsdUNBQXVDLEVBQUUsSUFBSSxDQUFDLHVDQUF1QztZQUNyRiwwQ0FBMEMsRUFBRSxVQUFJLENBQUMsMENBQTBDLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDdkcsb0NBQW9DLEVBQUUsVUFBSSxDQUFDLG9DQUFvQywwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQzNGLG1DQUFtQyxFQUFFLFVBQUksQ0FBQyxtQ0FBbUMsMENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUN6RixZQUFZLEVBQUUsT0FBTztZQUNyQixtQkFBbUIsRUFBRSxJQUFJLENBQUMsbUJBQW1CO1lBQzdDLE9BQU8sRUFBRSxVQUFJLENBQUMsT0FBTywwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ2pDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0I7WUFDM0MsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLE1BQU0sRUFBRSxVQUFJLENBQUMsTUFBTSwwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQy9CLE9BQU8sRUFBRSxVQUFJLENBQUMsT0FBTywwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ2pDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0I7WUFDM0MsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSTtZQUNoRCxzQkFBc0IsRUFBRSxVQUFJLENBQUMsc0JBQXNCLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDL0QsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQjtZQUN6QywwQkFBMEIsRUFBRSxVQUFJLENBQUMsMEJBQTBCLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDdkUsVUFBVSxFQUFFO2dCQUNWLEVBQUUsRUFBRSxnQkFBZ0IsYUFBaEIsZ0JBQWdCLHVCQUFoQixnQkFBZ0IsQ0FBRSxNQUFNO2dCQUM1QixTQUFTLEVBQUU7b0JBQ1Q7d0JBQ0UsUUFBUSxFQUFFLGdCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLE9BQU87d0JBQ25DLFlBQVksRUFBRSxnQkFBZ0IsYUFBaEIsZ0JBQWdCLHVCQUFoQixnQkFBZ0IsQ0FBRSxXQUFXO3dCQUMzQyxJQUFJLEVBQUUsZ0JBQWdCLGFBQWhCLGdCQUFnQix1QkFBaEIsZ0JBQWdCLENBQUUsUUFBUTtxQkFDakM7aUJBQ0Y7YUFDRjtTQUNGO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRSxzQkFBc0IsQ0FBQztRQUM3RCxNQUFNLElBQUksR0FBRztZQUNYLHNCQUFzQjtTQUN2QjtRQUVELDBCQUEwQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7UUFDMUUsT0FBTywwQkFBMEIsQ0FBQztLQUNuQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsMEJBQTBCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ2xFLE9BQU8sMEJBQTBCLENBQUM7S0FDbkM7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxRmlEO0FBQ1E7QUFDWjtBQUV4QyxNQUFNLHVCQUF1QixHQUFHO0lBQ3JDLEtBQUssRUFBRTtRQUNMLGtCQUFrQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNwRSw0REFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUMzQztJQUNELFFBQVEsRUFBRTtRQUNSLG1CQUFtQixFQUFFLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyx3RUFBbUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUM1RztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0I7Ozs7Ozs7Ozs7Ozs7OztBQ2JNLE1BQU0sc0JBQXNCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUJyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQmtEO0FBQ1Q7QUFDUTtBQUNJO0FBQ2tCO0FBQ0g7QUFDRztBQUNjO0FBQ2Y7QUFDWDtBQUNZO0FBQ0o7QUFDZ0I7QUFHN0UsTUFBTSxnQkFBZ0IsR0FBRztJQUM5QixLQUFLLEVBQUU7UUFDTCxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxtR0FBb0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNuSCx3QkFBd0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDeEUsb0ZBQXdCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDbkQ7SUFDRCxRQUFRLEVBQUU7UUFDUixLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3JELHVEQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDL0IsU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbkQsK0RBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNuQyxvQkFBb0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzlELHFGQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzlDLFlBQVksRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3RELG1FQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDckMsV0FBVyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxtRkFBVyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzNGLFlBQVksRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMscUZBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM3RixrQkFBa0IsRUFBQyxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDeEcsa0JBQWtCLEVBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLGtGQUFrQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3hHLHFCQUFxQixFQUFDLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyx3RkFBcUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM5RyxlQUFlLEVBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLHlFQUFjLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDakcsMkJBQTJCLEVBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLG9HQUEyQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQzNIO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUN2Q0ssTUFBTSxnQkFBZ0IsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBd0svQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hLa0c7QUFDRDtBQUNNO0FBQ0E7QUFDUDtBQUNNO0FBQ0E7QUFDTTtBQUN4QjtBQUNEO0FBQ2M7QUFFNUYsTUFBTSxXQUFXLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUM5QixtQkFBbUIsRUFBQyxJQUFJLHdHQUFtQixFQUFFO0lBRTdDLGtCQUFrQixFQUFDLElBQUksd0dBQWtCLEVBQUU7SUFDM0MscUJBQXFCLEVBQUMsSUFBSywyR0FBcUIsRUFBRTtJQUNsRCxxQkFBcUIsRUFBQyxJQUFJLDJHQUFxQixFQUFFO0lBRWpELGtCQUFrQixFQUFDLElBQUksdUdBQWtCLEVBQUU7SUFDM0MscUJBQXFCLEVBQUMsSUFBSSwwR0FBcUIsRUFBRTtJQUNqRCxxQkFBcUIsRUFBQyxJQUFJLDBHQUFxQixFQUFFO0lBRWpELDJCQUEyQixFQUFDLElBQUksMEdBQTJCLEVBQUU7SUFDN0QsZUFBZSxFQUFDLElBQUksOEZBQWUsRUFBRTtJQUVyQyxjQUFjLEVBQUMsSUFBSSw4RkFBYyxFQUFFO0lBRW5DLHNCQUFzQixFQUFDLElBQUkscUdBQXNCLEVBQUU7Q0FFdEQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5QnlFO0FBQ0c7QUFFdkUsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNoRSxJQUFJLCtCQUErQjtJQUVuQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFL0MsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFL0MsTUFBTSxHQUFHLEdBQUcsTUFBTSxrQkFBa0IsQ0FDbEMsUUFBUSxFQUNSLElBQUksRUFDSixPQUFPLEVBQ1AsVUFBVSxDQUNYLENBQUM7UUFDRiwrQkFBK0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUU7UUFDckYsT0FBTywrQkFBK0IsQ0FBQztLQUV4QztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsK0JBQStCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3ZFLE9BQU8sK0JBQStCLENBQUM7S0FDeEM7QUFFSCxDQUFDLENBQUM7QUFDRixNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsRUFBRTtJQUN2RSxNQUFNLGFBQWEsR0FBRyxJQUFJLGlGQUFhLEVBQUU7SUFDekMsTUFBTSxRQUFRLEdBQVEsTUFBTSxhQUFhLENBQUMsbUJBQW1CLENBQzNELGdCQUFnQixFQUNoQjtRQUNFLFNBQVMsRUFBRSxRQUFRO1FBQ25CLElBQUksRUFBRSxPQUFPO1FBQ2IsT0FBTyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUM7UUFDMUMsVUFBVTtLQUNYLENBQ0YsQ0FBQztJQUVGLE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkMwRTtBQUNHO0FBRXZFLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDOUQsSUFBSSw2QkFBNkI7SUFFakMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFbEMsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFL0MsTUFBTSxHQUFHLEdBQUcsTUFBTSxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN2RCw2QkFBNkIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUU7UUFDbkYsT0FBTyw2QkFBNkIsQ0FBQztLQUV0QztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsNkJBQTZCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3JFLE9BQU8sNkJBQTZCLENBQUM7S0FDdEM7QUFFSCxDQUFDLENBQUM7QUFDRixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsRUFBRTtJQUNwRCxNQUFNLGFBQWEsR0FBRyxJQUFJLGlGQUFhLEVBQUU7SUFDekMsTUFBTSxRQUFRLEdBQVEsTUFBTSxhQUFhLENBQUMscUJBQXFCLENBQzdELGdCQUFnQixHQUFHLFFBQVEsRUFDM0I7UUFDRSxNQUFNO0tBQ1AsQ0FDRixDQUFDO0lBQ0YsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlCNkM7QUFDZ0M7QUFDQztBQUNvQjtBQUU1RixNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTs7SUFDekQsSUFBSSx1QkFBdUIsQ0FBQztJQUU1QixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRTNCLElBQUk7UUFDQSxNQUFNLHFGQUFnQixDQUFDLE9BQU8sQ0FBQztRQUMvQixNQUFNLGdCQUFnQixHQUFHLHlHQUFxQixFQUFFLENBQUMsd0JBQXdCLEVBQUU7UUFFM0UsTUFBTSxHQUFHLEdBQUcsTUFBTSxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDM0MsTUFBTSxHQUFHLEdBQUc7WUFDUixRQUFRLEVBQUUsRUFBRTtZQUNaLFVBQVUsRUFBRSxFQUFFO1lBQ2QsTUFBTSxFQUFFLEVBQUU7WUFDVixRQUFRLEVBQUUsRUFBRTtZQUNaLE9BQU8sRUFBRSxFQUFFO1lBQ1gsUUFBUSxFQUFFLEtBQUs7WUFDZixXQUFXLEVBQUUsRUFBRTtZQUNmLFdBQVcsRUFBRSxFQUFFO1lBQ2YsWUFBWSxFQUFFLEVBQUU7WUFDaEIsWUFBWSxFQUFFLEVBQUU7WUFDaEIsT0FBTyxFQUFFLEVBQUU7WUFDWCxPQUFPLEVBQUUsRUFBRTtZQUNYLFVBQVUsRUFBRSxFQUFFO1lBQ2QsU0FBUyxFQUFFLEVBQUU7WUFDYixZQUFZLEVBQUUsRUFBRTtTQUNuQixDQUFDO1FBQ0YsR0FBRyxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUMzQixHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ2pDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2xDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDL0IsSUFBSSxTQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksMENBQUUsTUFBTSxFQUFFO1lBQy9CLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDakIsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsRUFBRTtnQkFDNUMsUUFBUSxXQUFXLENBQUMsUUFBUSxFQUFFO29CQUMxQixLQUFLLEVBQUU7d0JBQ0gsR0FBRyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO3dCQUNwQyxNQUFNO29CQUNWLEtBQUssRUFBRTt3QkFDSCxNQUFNLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDLEVBQUUsQ0FBQzt3QkFDN0MsR0FBRyxDQUFDLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQzt3QkFDcEMsTUFBTTtvQkFDVixLQUFLLEVBQUU7d0JBQ0gsR0FBRyxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO3dCQUNuQyxNQUFNO29CQUNWLEtBQUssRUFBRTt3QkFDSCxNQUFNLFFBQVEsR0FBRyxNQUFNLG9FQUF5QixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO3dCQUNuRyxJQUFJLFFBQVEsRUFBRTs0QkFDVixHQUFHLENBQUMsWUFBWSxHQUFHLEdBQUcsUUFBUSxDQUFDLFNBQVMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQzt5QkFFN0U7NkJBQU07NEJBQ0gsR0FBRyxDQUFDLFlBQVksR0FBRyxFQUFFO3lCQUN4Qjt3QkFDRCxNQUFNO29CQUNWLEtBQUssRUFBRSxDQUFDO29CQUNSLEtBQUssRUFBRSxDQUFDO29CQUNSLEtBQUssRUFBRSxDQUFDO29CQUNSLEtBQUssRUFBRSxDQUFDO29CQUNSLEtBQUssRUFBRTt3QkFDSCxHQUFHLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUM7d0JBQ2xDLE1BQU07aUJBQ2I7WUFDTCxDQUFDLENBQUMsQ0FDRDtTQUVKO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDbkIsTUFBTSxZQUFZLEdBQUksZUFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDL0MsR0FBRyxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFFaEMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN0QixHQUFHLENBQUMsT0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsU0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLDBDQUFFLFFBQVEsRUFBRSxDQUFDO1NBQ2pHO2FBRUk7WUFDRCxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUU7U0FDbkI7UUFDRCxNQUFNLFdBQVcsR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoQyxXQUFXLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0MsR0FBRyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsV0FBVyxFQUFFO1FBRTNDLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN6QyxHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxXQUFXLEVBQUU7UUFHbkMsdUJBQXVCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7UUFDbEQsT0FBTyx1QkFBdUIsQ0FBQztLQUVsQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osdUJBQXVCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQy9ELE9BQU8sdUJBQXVCLENBQUM7S0FDbEM7QUFFTCxDQUFDLENBQUM7QUFDRixNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDckMsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEdBQUcsUUFBUTtJQUN2QyxNQUFNLGFBQWEsR0FBRyxJQUFJLGlGQUFhLEVBQUU7SUFDekMsTUFBTSxNQUFNLEdBQVEsTUFBTSxhQUFhLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEUsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQztBQUNELE1BQU0sZUFBZSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDN0IsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDeEUsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDckUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLFFBQVEsRUFBRSxDQUFDO0FBQzFELENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9HNEU7QUFDb0I7QUFFNUYsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTs7O0lBQzVELElBQUksMEJBQTBCLENBQUM7SUFFL0IsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQztJQUUzQixJQUFJO1FBQ0EsTUFBTSxxRkFBZ0IsQ0FBQyxPQUFPLENBQUM7UUFFL0IsTUFBTSxXQUFXLEdBQVUsRUFBRSxDQUFDO1FBQzlCLElBQUksV0FBVyxDQUFDO1FBRWhCLE1BQU0sR0FBRyxHQUFHLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2RSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLFNBQVMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNwRCxJQUFJLFNBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLDBDQUFFLGFBQWEsRUFBRTtnQkFDNUIsV0FBVyxHQUFHLFNBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLDBDQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQ3pFO1NBQ0o7UUFDRCxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSTs7WUFFeEIsS0FBeUIscUNBQU87Z0JBQXJCLE1BQU0sSUFBSTtnQkFDakIsTUFBTSxRQUFRLEdBQVUsRUFBRSxDQUFDO2dCQUMzQixNQUFNLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7O29CQUNwQyxLQUE0QiwwQ0FBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFdBQVc7d0JBQWxDLE1BQU0sT0FBTzt3QkFFcEIsUUFBUSxDQUFDLElBQUksQ0FBQzs0QkFDVixJQUFJLEVBQUUsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLGFBQWE7NEJBQzVCLElBQUksRUFBRSxhQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsTUFBTSwwQ0FBRSxJQUFJOzRCQUMzQixJQUFJLEVBQUUsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLG1CQUFtQjt5QkFDckMsQ0FBQyxDQUFDO3FCQUNOOzs7Ozs7Ozs7Z0JBQ0QsSUFBSSxHQUFHLENBQUM7Z0JBQ1IsSUFBSSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsYUFBYSxFQUFFO29CQUNyQixHQUFHLEdBQUcsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLGFBQWEsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2lCQUMxRDtnQkFDRCxXQUFXLENBQUMsSUFBSSxDQUFDO29CQUNiLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDdkIsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTO29CQUNsQixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7b0JBQ2YsUUFBUSxFQUFFLElBQUk7b0JBQ2QsUUFBUTtpQkFDWCxDQUFDLENBQUM7YUFDTjs7Ozs7Ozs7O1FBRUQsMEJBQTBCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFO1FBQy9HLE9BQU8sMEJBQTBCLENBQUM7S0FHckM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNaLDBCQUEwQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNsRSxPQUFPLDBCQUEwQixDQUFDO0tBQ3JDO0FBRUwsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEQ2QztBQUNIO0FBQytCO0FBQ3dCO0FBQ1o7QUFFaEYsTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDeEQsSUFBSSx1QkFBdUIsQ0FBQztJQUU1QixJQUFJO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUvQyxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxXQUFXLEdBQVUsRUFBRSxDQUFDO1FBRTVCLE1BQU0sZ0JBQWdCLEdBQUcseUdBQXFCLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQzVFLE1BQU0sUUFBUSxHQUFHLE1BQU0sV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsRCxNQUFNLFlBQVksR0FBRyxNQUFNLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFeEQsTUFBTSxlQUFlLEdBQUc7WUFDdEIsUUFBUSxFQUFFLFFBQVE7WUFDbEIsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO1NBQzFCLENBQUM7UUFFRixRQUFRLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDdEIsS0FBSywyR0FBcUMsQ0FBQztZQUMzQyxLQUFLLHdHQUFrQztnQkFDckMsVUFBVSxHQUFHLE1BQU0sV0FBVyxDQUM1QixFQUFFLEVBQ0YsSUFBSSxFQUNKLElBQUksRUFDSixZQUFZLEVBQ1osSUFBSSxDQUFDLFNBQVMsRUFDZCxJQUFJLENBQUMsV0FBVyxFQUNoQixlQUFlLENBQ2hCLENBQUM7Z0JBQ0YsTUFBTTtZQUNSLEtBQUssa0hBQTRDLENBQUM7WUFDbEQsS0FBSyx3R0FBa0MsQ0FBQztZQUN4QyxLQUFLLDJHQUFxQztnQkFDeEMsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO2dCQUN2QixNQUFNLEtBQUssR0FBRyxNQUFNLHdFQUE2QixDQUFDO29CQUNoRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRTtpQkFDL0IsQ0FBQyxDQUFDO2dCQUVILE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtvQkFDdkIsTUFBTSxPQUFPLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQzt3QkFDOUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUU7cUJBQzNCLENBQUMsQ0FBQztvQkFFSCxNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUUvRCxXQUFXLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUNsQyxDQUFDLENBQUMsQ0FDSCxDQUFDO2dCQUVGLFVBQVUsR0FBRyxNQUFNLFdBQVcsQ0FDNUIsRUFBRSxFQUNGLElBQUksRUFDSixXQUFXLEVBQ1gsWUFBWSxFQUNaLElBQUksQ0FBQyxTQUFTLEVBQ2QsSUFBSSxDQUFDLFdBQVcsRUFDaEIsZUFBZSxDQUNoQixDQUFDO2dCQUNGLE1BQU07WUFDUixLQUFLLDhHQUF3QyxDQUFDO1lBQzlDLEtBQUssaUhBQTJDLENBQUM7WUFDakQsS0FBSyxxR0FBK0I7Z0JBQ2xDLFVBQVUsR0FBRyxNQUFNLFdBQVcsQ0FDNUIsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osWUFBWSxFQUNaLElBQUksQ0FBQyxTQUFTLEVBQ2QsSUFBSSxDQUFDLFdBQVcsRUFDaEIsZUFBZSxDQUNoQixDQUFDO2dCQUNGLE1BQU07WUFDUixLQUFLLDhHQUF3QztnQkFDM0MsTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO2dCQUN6QixNQUFNLE9BQU8sR0FBRyxNQUFNLHFGQUEwQyxDQUFDO29CQUMvRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRTtpQkFDL0IsQ0FBQyxDQUFDO2dCQUNILE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRTtvQkFDM0IsTUFBTSxTQUFTLEdBQUcsTUFBTSxnRkFBcUMsQ0FBQzt3QkFDNUQsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUU7cUJBQ3JDLENBQUMsQ0FBQztvQkFFSCxNQUFNLGVBQWUsR0FBRyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBRXpELGFBQWEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ3RDLENBQUMsQ0FBQyxDQUNILENBQUM7Z0JBQ0YsVUFBVSxHQUFHLE1BQU0sV0FBVyxDQUM1QixFQUFFLEVBQ0YsSUFBSSxFQUNKLGFBQWEsRUFDYixZQUFZLEVBQ1osSUFBSSxDQUFDLFNBQVMsRUFDZCxJQUFJLENBQUMsV0FBVyxFQUNoQixlQUFlLENBQ2hCLENBQUM7Z0JBQ0YsTUFBTTtZQUNSLEtBQUssNEdBQXNDO2dCQUN6QyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7Z0JBQ3ZCLE1BQU0sTUFBTSxHQUFHLE1BQU0sd0VBQTZCLENBQUM7b0JBQ2pELEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFO2lCQUMvQixDQUFDLENBQUM7Z0JBQ0gsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO29CQUN4QixNQUFNLE9BQU8sR0FBRyxNQUFNLHFFQUEwQixDQUFDO3dCQUMvQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRTtxQkFDM0IsQ0FBQyxDQUFDO29CQUVILE1BQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFFckQsV0FBVyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDbEMsQ0FBQyxDQUFDLENBQ0gsQ0FBQztnQkFDRixVQUFVLEdBQUcsTUFBTSxXQUFXLENBQzVCLEVBQUUsRUFDRixJQUFJLEVBQ0osV0FBVyxFQUNYLFlBQVksRUFDWixJQUFJLENBQUMsU0FBUyxFQUNkLElBQUksQ0FBQyxXQUFXLEVBQ2hCLGVBQWUsQ0FDaEIsQ0FBQztnQkFDRixNQUFNO1lBRVI7Z0JBQ0UsVUFBVSxHQUFHLE1BQU0sV0FBVyxDQUM1QixJQUFJLENBQUMsb0JBQW9CLEVBQ3pCLElBQUksRUFDSixJQUFJLEVBQ0osWUFBWSxFQUNaLElBQUksQ0FBQyxTQUFTLEVBQ2QsSUFBSSxDQUFDLFdBQVcsRUFDaEIsZUFBZSxDQUNoQixDQUFDO2dCQUNGLE1BQU07U0FDVDtRQUNELElBQUksT0FBTyxDQUFDO1FBQ1osSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFO1lBQ3JCLE9BQU8sR0FBRyxVQUFVLENBQUM7U0FDdEI7YUFBTTtZQUNMLHVCQUF1QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDbEQsT0FBTyx1QkFBdUIsQ0FBQztTQUNoQztRQUNELE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTs7WUFDekIsTUFBTSxHQUFHLEdBQUc7Z0JBQ1YsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osVUFBVSxFQUFFLEVBQUU7Z0JBQ2QsTUFBTSxFQUFFLEVBQUU7Z0JBQ1YsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsUUFBUSxFQUFFLEtBQUs7Z0JBQ2YsV0FBVyxFQUFFLEVBQUU7Z0JBQ2YsV0FBVyxFQUFFLEVBQUU7Z0JBQ2YsWUFBWSxFQUFFLEVBQUU7Z0JBQ2hCLFlBQVksRUFBRSxFQUFFO2dCQUNoQixPQUFPLEVBQUUsRUFBRTthQUNaLENBQUM7WUFDRixHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDdkIsR0FBRyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQzdCLEdBQUcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDOUIsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBRTNCLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEVBQUU7Z0JBQzFDLFFBQVEsV0FBVyxDQUFDLFFBQVEsRUFBRTtvQkFDNUIsS0FBSyxFQUFFO3dCQUNMLEdBQUcsQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQzt3QkFDcEMsTUFBTTtvQkFDUixLQUFLLEVBQUU7d0JBQ0wsTUFBTSxRQUFRLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQzs0QkFDL0MsS0FBSyxFQUFFLEVBQUUsZUFBZSxFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUU7eUJBQzlDLENBQUMsQ0FBQzt3QkFDSCxJQUFJLFFBQVEsRUFBRTs0QkFDWixHQUFHLENBQUMsWUFBWTtnQ0FDZCxHQUFHLFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7eUJBQzFEOzZCQUFNOzRCQUNMLEdBQUcsQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDO3lCQUN2Qjt3QkFDRCxNQUFNO2lCQUNUO1lBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztZQUNGLE1BQU0sWUFBWSxHQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUM7WUFDM0MsR0FBRyxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7WUFFaEMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNwQixHQUFHLENBQUMsT0FBTztvQkFDVCxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFO3dCQUMvQixHQUFHO3dCQUNILEdBQUcsVUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsMENBQUUsUUFBUSxFQUFFLENBQUM7YUFDbkM7aUJBQU07Z0JBQ0wsR0FBRyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7YUFDbEI7WUFFRCxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDbEUsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FDSCxDQUFDO1FBQ0YsV0FBVyxHQUFHLE1BQU0sT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXpDLHVCQUF1QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLENBQUM7UUFDM0QsT0FBTyx1QkFBdUIsQ0FBQztLQUNoQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFFLFdBQVcsRUFBRSxFQUFFO0lBQ3BDLElBQUksV0FBVyxDQUFDLE1BQU0sRUFBRTtRQUN0QixXQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDdkI7U0FBTTtRQUNMLFdBQVcsR0FBRyxFQUFFLENBQUM7S0FDbEI7SUFFRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFDRixNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQ3ZCLEVBQUUsRUFDRixJQUFJLEVBQ0osV0FBVyxFQUNYLFNBQVMsRUFDVCxTQUFTLEVBQ1QsV0FBVyxFQUNYLGVBQWUsRUFDZixFQUFFO0lBQ0YsSUFBSSxHQUFHLENBQUM7SUFDUixJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDcEIsSUFBSSxXQUFXLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDM0MsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQVUsRUFBRSxFQUFFO1lBQ25DLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUN2QyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtvQkFDaEMsR0FBRyxHQUFHLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyx3QkFBd0IsQ0FDMUQsRUFBRSxFQUNGLElBQUksRUFDSixVQUFVLEVBQ1YsU0FBUyxFQUNULFNBQVMsRUFDVCxXQUFXLEVBQ1gsZUFBZSxDQUNoQixDQUFDO29CQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7d0JBQ3ZCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQzNCLENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FBQyxDQUFDO2FBQ0o7aUJBQU07Z0JBQ0wsR0FBRyxHQUFHLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyx3QkFBd0IsQ0FDMUQsRUFBRSxFQUNGLElBQUksRUFDSixVQUFVLEVBQ1YsSUFBSSxFQUNKLFNBQVMsRUFDVCxXQUFXLEVBQ1gsZUFBZSxDQUNoQixDQUFDO2dCQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQ3ZCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzNCLENBQUMsQ0FBQyxDQUFDO2FBQ0o7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0tBQ0g7U0FBTTtRQUNMLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3ZDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtnQkFDaEMsR0FBRyxHQUFHLE1BQU0seUdBQXFCLEVBQUUsQ0FBQyx3QkFBd0IsQ0FDMUQsRUFBRSxFQUNGLElBQUksRUFDSixJQUFJLEVBQ0osU0FBUyxFQUNULFNBQVMsRUFDVCxXQUFXLEVBQ1gsZUFBZSxDQUNoQixDQUFDO2dCQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQ3ZCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQzNCLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQ0gsQ0FBQztTQUNIO2FBQU07WUFDTCxHQUFHLEdBQUcsTUFBTSx5R0FBcUIsRUFBRSxDQUFDLHdCQUF3QixDQUMxRCxFQUFFLEVBQ0YsSUFBSSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osU0FBUyxFQUNULFdBQVcsRUFDWCxlQUFlLENBQ2hCLENBQUM7WUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUN2QixVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzNCLENBQUMsQ0FBQyxDQUFDO1NBQ0o7S0FDRjtJQUNELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQUNGLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxhQUFhLEVBQUUsRUFBRTtJQUMxQyxJQUFJLFFBQVEsQ0FBQztJQUNiLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDbEIsUUFBUSxHQUFHLEVBQUUsQ0FBQztLQUNmO1NBQU07UUFDTCxRQUFRLEdBQUcsYUFBYSxDQUFDO0tBQzFCO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBQ0ssTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO0lBQzlDLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUN4QixJQUFJLE1BQU0sRUFBRTtRQUNWLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNoQixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNsQzthQUFNLElBQUksTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RCO2FBQU07WUFDTCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUM1QztLQUNGO0lBRUQsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxlQUFlLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRTtJQUMvQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN4RSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNyRSxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsUUFBUSxFQUFFLENBQUM7QUFDMUQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNVNkM7QUFDZ0M7QUFDcUI7QUFDZDtBQUU5RSxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN2RCxJQUFJLGVBQWUsQ0FBQztJQUVwQixNQUFNLEVBQUUsU0FBUyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRTNCLElBQUk7UUFFQSxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsR0FBRyxTQUFTLENBQUM7UUFDekMsTUFBTSxhQUFhLEdBQUcsSUFBSSxpRkFBYSxFQUFFO1FBQ3pDLE1BQU0sVUFBVSxHQUFRLE1BQU0sYUFBYSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQztRQUMzQixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBRTFCLE1BQU0sZ0JBQWdCLEdBQUcseUdBQXFCLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQzVFLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRTtZQUN0RCxPQUFPLEVBQUUsQ0FBQyxRQUFRLEtBQUssZ0JBQWdCLENBQUMsYUFBYSxDQUFDO1FBQzFELENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6QixJQUFJLEdBQUcsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsYUFBYSxDQUFDO1lBQ25FLE1BQU0sUUFBUSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFFdkMsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDO1lBQ3RGLElBQUksT0FBTyxFQUFFO2dCQUNULElBQUksT0FBTyxDQUFDLGtCQUFrQixFQUFFO29CQUM1QixNQUFNLGVBQWUsR0FBRyxNQUFNLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO29CQUNsRixTQUFTLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQztvQkFFakMsU0FBUyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUM7aUJBQzlGO2dCQUVELElBQUksT0FBTyxDQUFDLGNBQWMsRUFBRTtvQkFDeEIsTUFBTSxVQUFVLEdBQUcsTUFBTSxXQUFXLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUM3RCxRQUFRLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQztvQkFFM0IsUUFBUSxHQUFHLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsQ0FBQztpQkFDL0c7Z0JBQ0QsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO29CQUNwQixRQUFRLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQzt3QkFDdkMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEVBQUU7cUJBRXhDLENBQUMsQ0FBQztvQkFDSCxJQUFJLFFBQVEsRUFBRTt3QkFDVixhQUFhLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQztxQkFFNUM7aUJBQ0o7Z0JBQ0QsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO29CQUNmLEdBQUcsR0FBRyxNQUFNLG9FQUF5QixDQUFDO3dCQUNsQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRTtxQkFDbkMsQ0FBQyxDQUFDO2lCQUNOO2dCQUNELFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO2FBRXJDO1lBR0QsSUFBSSxPQUFPLENBQUM7WUFDWixJQUFJLEtBQUssQ0FBQztZQUNWLElBQUksR0FBRyxFQUFFO2dCQUNMLE9BQU8sR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNoRSxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFO29CQUMzQixHQUFHLENBQUMsb0JBQW9CLEdBQUcsTUFBTSx5R0FBcUIsRUFBRSxDQUFDLDJCQUEyQixDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztvQkFDckgsS0FBSyxHQUFHLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQztvQkFDakMsTUFBTSxpRUFBc0IsQ0FBQzt3QkFDekIsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtxQkFDM0MsQ0FBQztpQkFDTDtxQkFDSTtvQkFDRCxLQUFLLEdBQUcsR0FBRyxDQUFDLG9CQUFvQjtpQkFDbkM7YUFDSjtZQUVELE1BQU0sVUFBVSxHQUFHO2dCQUNmLFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQztnQkFDbkIsV0FBVyxFQUFFO29CQUNULENBQUMsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxXQUFXO29CQUVoRCxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxFQUFFLFFBQVE7b0JBQ3pDLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsRUFBRSxTQUFTO29CQUNuRCxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLEVBQUUsYUFBYTtpQkFDekQ7Z0JBQ0QsVUFBVSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CO2FBQy9DO1lBRUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUMxQyxNQUFNLE9BQU8sR0FBUSxNQUFNLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUM7WUFDekcsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDO1lBRXBCLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDMUM7UUFHRCxlQUFlLEdBQUc7WUFDZCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxTQUFTO1NBQ3JCLENBQUM7UUFFRixPQUFPLGVBQWUsQ0FBQztLQUcxQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUN2RCxPQUFPLGVBQWU7S0FDekI7QUFDTCxDQUFDO0FBRUQsTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsRUFBRTtJQUN6RCxPQUFPLGdGQUFxQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLGtCQUFrQixFQUFFLEVBQUUsQ0FBQztBQUM3RixDQUFDO0FBQ0QsTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO0lBQ2pDLE9BQU8sb0VBQXlCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztBQUMvRCxDQUFDO0FBRUQsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3RDLElBQUksWUFBWSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDVixZQUFZLEdBQUcsUUFBUTtLQUMxQjtTQUNJO1FBQ0QsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLEVBQUU7WUFDMUIsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssV0FBVyxFQUFFO2dCQUNoRyxZQUFZLEdBQUcsZUFBZTthQUNqQztpQkFDSTtnQkFDRCxZQUFZLEdBQUcsTUFBTSw0R0FBd0MsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7YUFDMUY7U0FDSjtLQUNKO0lBQ0QsT0FBTyxZQUFZLENBQUM7QUFFeEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2SWtEO0FBQytCO0FBQ0o7QUFDeEI7QUFDTTtBQUNpQjtBQUNWO0FBRTVELE1BQU0saUJBQWlCLEdBQUc7SUFDL0IsS0FBSyxFQUFFO1FBQ0wsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUM1RCxtRUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3RDLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDL0QseUVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6QyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEUseUZBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDNUMsYUFBYSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUM3RCwrRUFBYSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQ3hDO0lBQ0QsUUFBUSxFQUFFO1FBQ1Isb0JBQW9CLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLCtGQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzdHLGtCQUFrQixFQUFFLENBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQywyRkFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUMxRztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0I7Ozs7Ozs7Ozs7Ozs7OztBQ3hCTSxNQUFNLGdCQUFnQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FtRC9COzs7Ozs7Ozs7Ozs7Ozs7OztBQ25EOEM7QUFDZ0I7QUFFeEQsTUFBTSxpQkFBaUIsR0FBRyxLQUFLLElBQUcsRUFBRTtJQUN2QyxJQUFHO1FBQ0MsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLHdFQUE2QixFQUFFLENBQUM7UUFFaEUsdUVBQXVCLEdBQUcsR0FBRztRQUM3QiwwRUFBMEIsR0FBRyxTQUFTO1FBQ3RDLHVFQUF1QixHQUFHLGlCQUFpQjtLQUM5QztJQUNELE9BQU0sQ0FBQyxFQUFDO1FBQ0osdUVBQXVCLEdBQUcsR0FBRztRQUM3QiwwRUFBMEIsR0FBRyxDQUFDLENBQUMsT0FBTztLQUN6QztJQUNELE9BQU8sa0VBQWtCLENBQUM7QUFDOUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEJrRDtBQUNhO0FBRXpELE1BQU0sa0JBQWtCLEdBQUc7SUFDaEMsS0FBSyxFQUFFO1FBQ0wsaUJBQWlCLEVBQUMsS0FBSyxJQUFFLEVBQUUsQ0FBQyw2RUFBaUIsRUFBRTtLQUNoRDtJQUNELFFBQVEsRUFBRSxFQUNUO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNWSyxNQUFNLGlCQUFpQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9CaEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcEI2QztBQUlYO0FBQ3dEO0FBRTVGLElBQUssU0FXSjtBQVhELFdBQUssU0FBUztJQUNaLG9EQUF1QztJQUN2QyxvREFBdUM7SUFDdkMsb0NBQXVCO0lBQ3ZCLDBDQUE2QjtJQUM3Qiw0Q0FBK0I7SUFDL0Isb0NBQXVCO0lBQ3ZCLHNDQUF5QjtJQUN6QixrREFBcUM7SUFDckMsc0NBQXlCO0lBQ3pCLHdDQUEyQjtBQUM3QixDQUFDLEVBWEksU0FBUyxLQUFULFNBQVMsUUFXYjtBQUNELElBQUssUUFNSjtBQU5ELFdBQUssUUFBUTtJQUNYLGlEQUFxQztJQUNyQyx5REFBNkM7SUFDN0MsK0RBQW1EO0lBQ25ELGlEQUFxQztJQUNyQyxtREFBdUM7QUFDekMsQ0FBQyxFQU5JLFFBQVEsS0FBUixRQUFRLFFBTVo7QUFFTSxNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTs7SUFDeEQsSUFBSTtRQUNGLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxHQUFHLElBQUksQ0FBQztRQUN0RCxJQUFJLElBQUksRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxFQUFFLENBQUM7UUFDbkQsSUFBSSxPQUFPLEVBQUMsY0FBYyxDQUFDO1FBQzNCLElBQUksUUFBUSxFQUFFO1lBQ1osSUFBSSxHQUFHLE1BQU0sZ0VBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtnQkFDdkIsUUFBUSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7b0JBQ3pDLEtBQUssRUFBRSxFQUFFLGdCQUFnQixFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUU7aUJBQ2pELENBQUMsQ0FBQzthQUNKO1lBQ0QsT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsRUFBRTtTQUN6RTtRQUNELElBQUksZUFBZSxFQUFFO1lBQ25CLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO2dCQUMvQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFO2FBQ2pDLENBQUMsQ0FBQztZQUNILElBQUksR0FBRyxNQUFNLGdFQUFxQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDaEYsSUFBSSxXQUFXLENBQUMsY0FBYyxFQUFFO2dCQUM5QixRQUFRLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztvQkFDekMsS0FBSyxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxDQUFDLGNBQWMsRUFBRTtpQkFDeEQsQ0FBQyxDQUFDO2FBQ0o7WUFDRCxjQUFjLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxXQUFXLENBQUMsVUFBVSxHQUFHLGtCQUFrQixHQUFHLGVBQWUsR0FBRyxVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQUU7U0FDdEk7UUFDRCxJQUFJLFFBQVEsRUFBRTtZQUNaLGFBQWEsR0FBRyxNQUFNLHFFQUEwQixDQUFDO2dCQUMvQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLGdCQUFnQixFQUFFO2FBQzdDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxRQUFRLENBQUM7UUFDYixRQUFRLFNBQVMsRUFBRTtZQUNqQixLQUFLLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQztZQUNqQyxLQUFLLFNBQVMsQ0FBQyxpQkFBaUI7Z0JBQzlCLFFBQVEsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDO2dCQUNwQyxNQUFNO1lBQ1IsS0FBSyxTQUFTLENBQUMsU0FBUztnQkFDdEIsUUFBUSxHQUFHLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDeEMsTUFBTTtZQUNSLEtBQUssU0FBUyxDQUFDLFlBQVksQ0FBQztZQUM1QixLQUFLLFNBQVMsQ0FBQyxhQUFhLENBQUM7WUFDN0IsS0FBSyxTQUFTLENBQUMsU0FBUyxDQUFDO1lBQ3pCLEtBQUssU0FBUyxDQUFDLFVBQVUsQ0FBQztZQUMxQixLQUFLLFNBQVMsQ0FBQyxnQkFBZ0I7Z0JBQzdCLFFBQVEsR0FBRyxRQUFRLENBQUMsc0JBQXNCLENBQUM7Z0JBQzNDLE1BQU07WUFDUixLQUFLLFNBQVMsQ0FBQyxVQUFVO2dCQUN2QixRQUFRLEdBQUcsUUFBUSxDQUFDLGVBQWUsQ0FBQztnQkFDcEMsRUFBRSxHQUFHLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxlQUFlLENBQUM7Z0JBQ3BDLE1BQU07WUFDUixLQUFLLFNBQVMsQ0FBQyxXQUFXO2dCQUN4QixRQUFRLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO2dCQUNyQyxNQUFNO1NBQ1Q7UUFFRCxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsZUFBZSxFQUFFO1lBQ3hDLE1BQU0sb0JBQW9CLEdBQUcsTUFBTSwyRUFBdUIsQ0FDeEQscUNBQXFDLEVBQ3JDLHFGQUFpQyxDQUFDLFFBQVEsQ0FBQyxDQUM1QyxDQUFDO1lBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ2xDLElBQUksb0JBQW9CLEVBQUU7Z0JBQ3hCLE1BQU0sSUFBSSxHQUFHLDBCQUFvQixhQUFwQixvQkFBb0IsdUJBQXBCLG9CQUFvQixDQUFFLElBQUksMENBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDO2dCQUV0RSxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3RCLE1BQU0sRUFBRSxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7b0JBQ3BDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQzNCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7b0JBQ3BDLE1BQU0sWUFBWSxHQUFHLE9BQU87eUJBQ3pCLE9BQU8sQ0FBQyxXQUFXLEVBQUUsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLFNBQVMsQ0FBQzt5QkFDekMsT0FBTyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUM7eUJBQzVCLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxjQUFjLENBQUM7eUJBQzFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLElBQUksQ0FBQzt5QkFDdkMsT0FBTyxDQUFDLGtCQUFrQixFQUFFLFdBQVcsYUFBWCxXQUFXLHVCQUFYLFdBQVcsQ0FBRSxJQUFJLENBQUMsQ0FBQztvQkFFbEQsTUFBTSxrR0FBd0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDL0Q7YUFDRjtZQUNELE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxDQUFDO1NBQzFEO2FBQU07WUFDTCxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsQ0FBQztTQUNsRTtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xIaUQ7QUFDVztBQUV2RCxNQUFNLG1CQUFtQixHQUFHO0lBQy9CLFFBQVEsRUFBRTtRQUNOLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDOUQsMkVBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN2QztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDN0I7Ozs7Ozs7Ozs7Ozs7OztBQ1RNLE1BQU0sbUJBQW1CLEdBQUc7Ozs7Ozs7Ozs7OztDQVlsQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1p5QztBQUVwQyxNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQy9ELElBQUksMkJBQTJCO0lBRS9CLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQztJQUNsRSxJQUFJO1FBRUYsTUFBTSxFQUFFLEdBQUcsTUFBTSw2RUFBa0MsQ0FBQztZQUNsRCxJQUFJLEVBQUU7Z0JBQ0osSUFBSTtnQkFDSixPQUFPO2dCQUNQLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN0QixNQUFNO2dCQUNOLE9BQU87Z0JBQ1AsVUFBVTtnQkFDVixJQUFJO2FBQ0w7U0FDRixDQUFDLENBQUM7UUFDSCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sK0VBQW9DLENBQUM7WUFDbEUsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDaEMsT0FBTyxFQUFFO2dCQUNQLEtBQUssRUFBRSxJQUFJO2dCQUNYLE1BQU0sRUFBRSxJQUFJO2FBQ2I7U0FDRixDQUFDO1FBRUYsSUFBSSxnQkFBZ0IsR0FBRyxNQUFNLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkUsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUMsSUFBSTtRQUV4QywyQkFBMkIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7UUFDdkYsT0FBTywyQkFBMkI7S0FFbkM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLDJCQUEyQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNuRSxPQUFPLDJCQUEyQjtLQUNuQztBQUNILENBQUMsQ0FBQztBQUVLLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDbEUsSUFBSSwyQkFBMkIsQ0FBQztJQUNoQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQzVFLElBQUk7UUFDRixNQUFNLEVBQUUsR0FBRyxNQUFNLDZFQUFrQyxDQUFDO1lBQ2xELElBQUksRUFBRTtnQkFDSixJQUFJO2dCQUNKLE9BQU87Z0JBQ1AsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN0QixNQUFNO2dCQUNOLE9BQU87Z0JBQ1AsVUFBVTtnQkFDVixJQUFJO2FBQ0wsRUFBRSxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFO1NBQ2pDLENBQUMsQ0FBQztRQUNILE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQztZQUNsRSxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLFFBQVEsRUFBRTtZQUNoQyxPQUFPLEVBQUU7Z0JBQ1AsS0FBSyxFQUFFLElBQUk7Z0JBQ1gsTUFBTSxFQUFFLElBQUk7YUFDYjtTQUNGLENBQUM7UUFFRixJQUFJLGdCQUFnQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUVuRSxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJO1FBRXhDLDJCQUEyQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRTtRQUN2RixPQUFPLDJCQUEyQjtLQUNuQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25FLE9BQU8sMkJBQTJCO0tBQ25DO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRTtJQUNyRCxPQUFPO1FBQ0wsSUFBSSxFQUFFLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLEVBQUU7WUFDOUMsdUNBQ0ssZ0JBQWdCLEtBQ25CLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQzdCLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQyxLQUFLLElBQ2xDO1FBQ0osQ0FBQyxDQUFDO0tBQ0g7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BGMEM7QUFFcEMsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLElBQUksRUFBRTtJQUM3QyxJQUFJLDJCQUEyQixDQUFDO0lBQ2hDLElBQUk7UUFFRixNQUFNLGlCQUFpQixHQUFHLE1BQU0sK0VBQW9DLENBQUM7WUFDbkUsT0FBTyxFQUFFO2dCQUNQLE1BQU0sRUFBRSxJQUFJO2dCQUNaLEtBQUssRUFBRSxJQUFJO2FBQ1o7U0FDRixDQUFDO1FBRUYsSUFBSSxpQkFBaUIsR0FBRyxNQUFNLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFFckUsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUMsSUFBSTtRQUUxQywyQkFBMkIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUU7UUFDeEYsT0FBTywyQkFBMkIsQ0FBQztLQUNwQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25FLE9BQU8sMkJBQTJCLENBQUM7S0FDcEM7QUFDSCxDQUFDO0FBR00sTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNuRSxJQUFJLDJCQUEyQixDQUFDO0lBQ2hDLElBQUk7UUFDRixNQUFNLGdCQUFnQixHQUFHLE1BQU0sK0VBQW9DLENBQUM7WUFDbEUsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsRUFBRSxPQUFPLEVBQUU7Z0JBQzNDLE1BQU0sRUFBRSxJQUFJO2dCQUNaLEtBQUssRUFBRSxJQUFJO2FBQ1o7U0FDRixDQUFDO1FBRUYsSUFBSSxnQkFBZ0IsR0FBRyxNQUFNLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFFbkUsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUMsSUFBSTtRQUN4QywyQkFBMkIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7UUFDdkYsT0FBTywyQkFBMkIsQ0FBQztLQUNwQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25FLE9BQU8sMkJBQTJCLENBQUM7S0FDcEM7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxFQUFFO0lBQ3JELE9BQU87UUFDTCxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsRUFBRTtZQUM5Qyx1Q0FDSyxnQkFBZ0IsS0FDbkIsSUFBSSxFQUFFLGdCQUFnQixDQUFDLE1BQU0sRUFDN0IsVUFBVSxFQUFFLGdCQUFnQixDQUFDLEtBQUssSUFDbEM7UUFDSixDQUFDLENBQUM7S0FDSDtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4RGtEO0FBQ3VCO0FBQ0E7QUFFbkUsTUFBTSx3QkFBd0IsR0FBRztJQUN0QyxLQUFLLEVBQUU7UUFDTCxvQkFBb0IsRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDLDhEQUFvQixFQUFFO1FBQ3hELHVCQUF1QixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUN2RSxpRUFBdUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNsRDtJQUNELFFBQVEsRUFBRTtRQUNSLG1CQUFtQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNuRSwrREFBbUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM3QyxzQkFBc0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDdEUsa0VBQXNCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDakQ7SUFDRCxRQUFRLEVBQUUsNkRBQWdCO0NBQzNCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2pCSyxNQUFNLHVCQUF1QixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E2Q3RDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0M4QztBQUM0QjtBQUNRO0FBQ087QUFFbkYsTUFBTSxVQUFVLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDdEQsSUFBSSxxQkFBcUIsQ0FBQztJQUMxQixJQUFJLEtBQUssRUFDUCxLQUFLLEdBQUcsRUFBRSxFQUNWLFdBQVcsR0FBRyxFQUFFLEVBQ2hCLE9BQU8sRUFDUCxPQUFPLEVBQ1AsbUJBQW1CLEVBQ25CLGNBQWMsRUFDZCxjQUFjLEVBQ2QsY0FBYyxFQUNkLG9CQUFvQixFQUNwQixNQUFNLEVBQ04sWUFBWSxFQUNaLGFBQWEsRUFDYixXQUFXLEVBQ1gsWUFBWSxFQUNaLGdCQUFnQixFQUNoQixlQUFlLEVBQ2YsVUFBVSxFQUNWLGlCQUFpQixFQUNqQixrQkFBa0IsQ0FBQztJQUNyQixJQUFJO1FBQ0YsTUFBTSxXQUFXLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3JELEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsYUFBYSxFQUFFO1NBQzNDLENBQUMsQ0FBQztRQUNILE1BQU0sUUFBUSxHQUFHLE1BQU0sZ0VBQXFCLENBQUM7WUFDM0MsS0FBSyxFQUFFLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxhQUFhLEVBQUU7U0FDbEQsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFO1lBQ3hCLG1CQUFtQixHQUFHLE1BQU0sZ0VBQXFCLENBQUM7Z0JBQ2hELEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsT0FBTyxFQUFFO2FBQ3JDLENBQUMsQ0FBQztZQUNILE1BQU0sR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDO1NBQ3JDO1FBQ0QsY0FBYyxHQUFHLE1BQU0saUVBQXNCLENBQUM7WUFDNUMsS0FBSyxFQUFFLEVBQUUsYUFBYSxFQUFFLFdBQVcsQ0FBQyxhQUFhLEVBQUU7WUFDbkQsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRTtTQUN4QixDQUFDLENBQUM7UUFDSCxJQUFJLFlBQVksQ0FBQztRQUNqQixjQUFjLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNsRCxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLFVBQVUsRUFBRTtTQUM5QyxDQUFDLENBQUM7UUFDSCxJQUFJLGNBQWMsS0FBSyxTQUFTLElBQUksY0FBYyxLQUFLLElBQUksRUFBRTtZQUMzRCxjQUFjLEdBQUcsTUFBTSw2RUFBa0MsQ0FBQztnQkFDeEQsS0FBSyxFQUFFLEVBQUUsUUFBUSxFQUFFLGNBQWMsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRTthQUNqRSxDQUFDLENBQUM7WUFDSCxvQkFBb0IsR0FBRyxNQUFNLDhFQUFtQyxDQUFDO2dCQUMvRCxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsY0FBYyxDQUFDLFNBQVMsRUFBRTthQUM5QyxDQUFDLENBQUM7WUFDSCxZQUFZLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQztZQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQztZQUN4QyxZQUFZLEdBQUcsY0FBYyxDQUFDLFlBQVksQ0FBQztZQUMzQyxhQUFhLEdBQUcsY0FBYyxDQUFDLGdCQUFnQixDQUFDO1lBQ2hELFdBQVcsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO1lBQ3hDLGlCQUFpQixHQUFHLGNBQWMsQ0FBQyxVQUFVLENBQUM7WUFDOUMsWUFBWSxHQUFHLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztZQUNoRCxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO1lBQzdDLGVBQWUsR0FBRyxjQUFjLENBQUMsb0JBQW9CLENBQUM7WUFDdEQsVUFBVSxHQUFHLGNBQWMsQ0FBQyxVQUFVLENBQUM7WUFDdkMsSUFBSSxjQUFjLENBQUMsS0FBSyxLQUFLLElBQUksRUFBRTtnQkFDakMsT0FBTyxHQUFHLE1BQU0sb0VBQXlCLENBQUM7b0JBQ3hDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFO2lCQUN4QyxDQUFDLENBQUM7Z0JBQ0gsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUMzRCxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3pELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDdkQsT0FBTyxHQUFHLEdBQUcsS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLDBGQUEwRixDQUFDO2FBQ2hJO2lCQUFNO2dCQUNMLE9BQU8sR0FBRyw2REFBNkQsQ0FBQzthQUN6RTtTQUNGO1FBQ0QsSUFBSSxvQkFBb0IsS0FBSyxJQUFJLElBQUksb0JBQW9CLEtBQUssU0FBUyxFQUFFO1lBQ3ZFLGtCQUFrQixHQUFHLG9CQUFvQixDQUFDLE1BQU0sQ0FBQztTQUNsRDtRQUNELE1BQU0saUJBQWlCLEdBQUcsV0FBVyxDQUFDLGlCQUFpQixDQUFDO1FBQ3hELFdBQVcsR0FBRztZQUNaLFlBQVksRUFBRTtnQkFDWixRQUFRLEVBQUUsR0FBRyxXQUFXLENBQUMsU0FBUyxJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUU7Z0JBQzVELE1BQU0sRUFBRSxNQUFNO2dCQUNkLGFBQWEsRUFBRSxZQUFZO2dCQUMzQixhQUFhLEVBQUUsYUFBYTtnQkFDNUIsWUFBWSxFQUFFLFdBQVc7Z0JBQ3pCLGFBQWEsRUFBRSxZQUFZO2dCQUMzQixrQkFBa0IsRUFBRSxnQkFBZ0I7Z0JBQ3BDLGlCQUFpQixFQUFFLGVBQWU7Z0JBQ2xDLGNBQWMsRUFBRSxrQkFBa0I7Z0JBQ2xDLG1CQUFtQixFQUFHLGlCQUFpQjthQUN4QztTQUNGLENBQUM7UUFDRixLQUFLLEdBQUc7WUFDTixpQkFBaUIsRUFBRSxtQkFBbUI7WUFDdEMsYUFBYSxFQUFFLGVBQWU7WUFDOUIsZ0NBQWdDLEVBQUUsa0NBQWtDO1lBQ3BFLHVDQUF1QyxFQUNyQyx5Q0FBeUM7U0FDNUMsQ0FBQztRQUNGLElBQUksUUFBUSxLQUFLLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLG1CQUFtQixFQUFFO1lBQ2hFLE1BQU0sU0FBUyxHQUFHLE1BQU0sZ0ZBQXFDLENBQUM7Z0JBQzVELEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsZ0JBQWdCLEVBQUU7YUFDM0MsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxZQUFZLEdBQUcsTUFBTSxnRUFBcUIsQ0FBQztnQkFDL0MsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7YUFDbEMsQ0FBQyxDQUFDO1lBQ0gsS0FBSyxHQUFHO2dCQUNOLGlCQUFpQixFQUFFO29CQUNqQixxQkFBcUIsRUFBRTt3QkFDckIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxNQUFNO3dCQUN0QixlQUFlLEVBQUUsUUFBUSxDQUFDLGVBQWU7d0JBQ3pDLFdBQVcsRUFBRSxRQUFRLENBQUMsV0FBVzt3QkFDakMsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLGdCQUFnQjt3QkFDM0MsVUFBVSxFQUFFLFNBQVMsQ0FBQyxPQUFPO3FCQUM5QjtvQkFDRCx3QkFBd0IsRUFBRTt3QkFDeEIsS0FBSyxFQUFFLG9DQUFvQzt3QkFDM0MsV0FBVyxFQUNULDhIQUE4SDt3QkFDaEksR0FBRyxFQUFFLGVBQWU7d0JBQ3BCLEdBQUcsRUFBRSxtQkFBbUI7cUJBQ3pCO29CQUNELGtCQUFrQixFQUFFO3dCQUNsQixJQUFJLEVBQUUsUUFBUSxDQUFDLGtCQUFrQjt3QkFDakMsTUFBTSxFQUFFLFlBQVksQ0FBQyxXQUFXO3dCQUNoQyxLQUFLLEVBQUUsUUFBUSxDQUFDLG1CQUFtQjt3QkFDbkMsTUFBTSxFQUFFLFlBQVksQ0FBQyxZQUFZO3FCQUNsQztpQkFDRjthQUNGLENBQUM7U0FDSDthQUFNLElBQ0wsV0FBVyxLQUFLLElBQUk7WUFDcEIsV0FBVyxLQUFLLFNBQVM7WUFDekIsV0FBVyxDQUFDLFNBQVMsS0FBSyxlQUFlO1lBQ3pDLGNBQWMsS0FBSyxJQUFJO1lBQ3ZCLGNBQWMsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEtBQUssVUFBVSxFQUNsRDtZQUNBLEtBQUssR0FBRztnQkFDTixnQkFBZ0IsRUFBRTtvQkFDaEIsYUFBYSxFQUFFO3dCQUNiLEtBQUssRUFBRSxtQkFBbUI7d0JBQzFCLHFCQUFxQixFQUFFLFdBQVcsQ0FBQyxxQkFBcUI7d0JBQ3hELE1BQU0sRUFBRSxjQUFjLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTt3QkFDM0MsV0FBVyxFQUNULGtJQUFrSTt3QkFDcEksR0FBRyxFQUFFLGVBQWU7d0JBQ3BCLEdBQUcsRUFBRSxXQUFXO3FCQUNqQjtvQkFDRCxrQkFBa0IsRUFBRTt3QkFDbEIsSUFBSSxFQUFFLG1CQUFtQixDQUFDLElBQUk7d0JBQzlCLE1BQU0sRUFBRSxtQkFBbUIsQ0FBQyxXQUFXO3dCQUN2QyxLQUFLLEVBQUUsbUJBQW1CLENBQUMsS0FBSzt3QkFDaEMsTUFBTSxFQUFFLG1CQUFtQixDQUFDLFlBQVk7cUJBQ3pDO2lCQUNGO2FBQ0YsQ0FBQztTQUNIO2FBQU0sSUFDTCxpQkFBaUIsS0FBSyxJQUFJO1lBQzFCLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxLQUFLLFVBQVU7WUFDOUMsa0JBQWtCLEtBQUssSUFBSTtZQUMzQixrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLEVBQzNDO1lBQ0EsS0FBSyxHQUFHO2dCQUNOLHVDQUF1QyxFQUFFO29CQUN2QyxZQUFZLEVBQUU7d0JBQ1osYUFBYSxFQUFFLGNBQWMsQ0FBQyxpQkFBaUI7d0JBQy9DLFdBQVcsRUFBRSxjQUFjLENBQUMsVUFBVTt3QkFDdEMsYUFBYSxFQUFFLGNBQWMsQ0FBQyxvQkFBb0I7d0JBQ2xELHlCQUF5QixFQUFFLGNBQWMsQ0FBQyxnQkFBZ0I7cUJBQzNEO29CQUtELHFCQUFxQixFQUFFO3dCQUNyQixLQUFLLEVBQUUsY0FBYyxXQUFXLENBQUMsU0FBUyxJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUU7d0JBQ3BFLFdBQVcsRUFBRSxPQUFPO3dCQUNwQixHQUFHLEVBQUUsY0FBYzt3QkFDbkIsR0FBRyxFQUFFLFVBQVU7cUJBQ2hCO2lCQVFGO2FBQ0YsQ0FBQztTQUNIO2FBQU0sSUFDTCxjQUFjLEtBQUssSUFBSTtZQUN2QixjQUFjLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxLQUFLLFVBQVUsRUFDbEQ7WUFDQSxJQUFJLGNBQWMsS0FBSyxJQUFJLElBQUksY0FBYyxLQUFLLFNBQVMsRUFBRTtnQkFDM0QsS0FBSyxHQUFHO29CQUNOLGdDQUFnQyxFQUFFO3dCQUNoQyx5QkFBeUIsRUFBRSxFQUFFO3dCQUM3QixpQkFBaUIsRUFBRSxFQUFFO3FCQUN0QjtpQkFDRixDQUFDO2dCQUNGLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztnQkFDakIsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO2dCQUNyQixJQUFJLFlBQVksR0FBRyxDQUFDLElBQUksWUFBWSxHQUFHLENBQUMsRUFBRTtvQkFDeEMsT0FBTyxHQUFHO3dCQUNSLEtBQUssRUFBRSxpQkFBaUI7d0JBQ3hCLHVCQUF1QixFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXO3dCQUN0RCxXQUFXLEVBQUU7MERBQ2lDO3dCQUM5QyxNQUFNLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7d0JBQzlDLEdBQUcsRUFBRSxTQUFTLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWE7d0JBQ2hELEdBQUcsRUFBRSxVQUFVO3FCQUNoQixDQUFDO2lCQUNIO2dCQUNELElBQUksWUFBWSxHQUFHLENBQUMsSUFBSSxZQUFZLElBQUksQ0FBQyxFQUFFO29CQUN6QyxJQUFJLFNBQVMsR0FBRyxHQUFHLENBQUM7b0JBQ3BCLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTt3QkFDOUIsU0FBUyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUM7b0JBQ2xDLENBQUMsQ0FBQyxDQUFDO29CQUNILE9BQU8sR0FBRzt3QkFDUixLQUFLLEVBQUUsaUJBQWlCO3dCQUN4Qix1QkFBdUIsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVzt3QkFDdEQsV0FBVyxFQUNULHVGQUF1Rjt3QkFDekYsTUFBTSxFQUFFLFNBQVM7d0JBQ2pCLEdBQUcsRUFBRSxPQUFPLEdBQUcsU0FBUzt3QkFDeEIsR0FBRyxFQUFFLFVBQVU7cUJBQ2hCLENBQUM7aUJBQ0g7Z0JBQ0QsSUFDRSxXQUFXLENBQUMsaUJBQWlCLEtBQUssSUFBSTtvQkFDdEMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLFdBQVcsRUFBRSxLQUFLLFVBQVUsRUFDMUQ7b0JBQ0EsV0FBVyxHQUFHO3dCQUNaLEtBQUssRUFBRSxtQkFBbUI7d0JBQzFCLE1BQU0sRUFBRSxXQUFXLENBQUMsaUJBQWlCLENBQUMsV0FBVyxFQUFFO3dCQUNuRCxXQUFXLEVBQUUsK0NBQStDO3dCQUM1RCxHQUFHLEVBQUUsZ0NBQWdDO3dCQUNyQyxHQUFHLEVBQUUsZUFBZTtxQkFDckIsQ0FBQztpQkFDSDtnQkFDRCxLQUFLLENBQUMsZ0NBQWdDLENBQUMseUJBQXlCO29CQUM5RCxPQUFPLENBQUM7Z0JBQ1YsS0FBSyxDQUFDLGdDQUFnQyxDQUFDLGlCQUFpQixHQUFHLFdBQVcsQ0FBQzthQUN4RTtpQkFBTTtnQkFDTCxLQUFLLEdBQUc7b0JBQ04sZ0JBQWdCLEVBQUU7d0JBQ2hCLFdBQVcsRUFBRTs0QkFDWCxLQUFLLEVBQUUsYUFBYTs0QkFDcEIsV0FBVyxFQUFFLDBEQUEwRCxtQkFBbUIsQ0FBQyxJQUFJLGtKQUFrSixtQkFBbUIsQ0FBQyxJQUFJLEVBQUU7eUJBQzVRO3dCQUNELGtCQUFrQixFQUFFOzRCQUNsQixJQUFJLEVBQUUsbUJBQW1CLENBQUMsSUFBSTs0QkFDOUIsTUFBTSxFQUFFLG1CQUFtQixDQUFDLFdBQVc7NEJBQ3ZDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxLQUFLOzRCQUNoQyxNQUFNLEVBQUUsbUJBQW1CLENBQUMsWUFBWTt5QkFDekM7cUJBQ0Y7aUJBQ0YsQ0FBQzthQUNIO1NBQ0Y7YUFBTTtZQUNMLEtBQUssR0FBRztnQkFDTixXQUFXLEVBQUU7b0JBQ1gsV0FBVyxFQUNULG9GQUFvRjtpQkFDdkY7YUFDRixDQUFDO1NBQ0g7UUFDRCxJQUFJLEtBQUssS0FBSyxFQUFFLEVBQUU7WUFDaEIscUJBQXFCLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztnQkFDdEQsSUFBSSxFQUFFO29CQUNKLFNBQVMsRUFBRSxLQUFLO2lCQUNqQjtnQkFDRCxLQUFLLEVBQUU7b0JBQ0wsVUFBVSxFQUFFLFdBQVcsQ0FBQyxVQUFVO2lCQUNuQzthQUNGLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxhQUFhLENBQUM7UUFDbEIsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDO1FBQ3BCLElBQUksWUFBWSxLQUFLLFNBQVMsSUFBSSxZQUFZLEtBQUssSUFBSSxFQUFFO1lBQ3ZELE1BQU0sV0FBVyxHQUFHLE1BQU0sNEZBQW1CLEVBQUUsQ0FBQztZQUNoRCxNQUFNLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7WUFFMUUsYUFBYSxHQUFHLG1HQUFnQixDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDL0Q7UUFDRCxxQkFBcUIsR0FBRztZQUN0QixJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxtQ0FBbUM7WUFDNUMsV0FBVyxFQUFFLFdBQVc7WUFDeEIsS0FBSyxFQUFFLEtBQUs7WUFDWixJQUFJLEVBQUUsS0FBSztZQUNYLFlBQVksRUFBRSxhQUFhO1NBQzVCLENBQUM7UUFDRixPQUFPLHFCQUFxQixDQUFDO0tBQzlCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxxQkFBcUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM5RCxPQUFPLHFCQUFxQixDQUFDO0tBQzlCO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5UytDO0FBQ0U7QUFFNUMsTUFBTSx5QkFBeUIsR0FBRztJQUNyQyxRQUFRLEVBQUU7UUFDUixVQUFVLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLDhEQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDMUY7SUFDRCxRQUFRLEVBQUUsNkRBQWdCO0NBQzNCOzs7Ozs7Ozs7Ozs7Ozs7QUNSSSxNQUFNLHVCQUF1QixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrQnRDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xCOEM7QUFFNEI7QUFFM0UsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDOUMsSUFBSSxRQUFRLEVBQUU7UUFDWixPQUFPLGdFQUFxQixDQUFDO1lBQzNCLEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsUUFBUTthQUNmO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUNqRSxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN2QyxPQUFPLDZEQUFrQixDQUFDO1FBQ3hCLElBQUksRUFBRSxlQUFlO1FBQ3JCLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7S0FDMUIsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUssTUFBTSxpQkFBaUIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUMvRCxNQUFNLG9CQUFvQixHQUFrQjtRQUMxQyxJQUFJLEVBQUUsR0FBRztRQUNULE9BQU8sRUFBRSxJQUFJO1FBQ2IsSUFBSSxFQUFFLElBQUk7S0FDWCxDQUFDO0lBQ0YsSUFBSTtRQUNGLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ3BDLE1BQU0sV0FBVyxHQUFHLE1BQU0saUZBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsSUFBSSxXQUFXLEVBQUU7WUFDZixNQUFNLGlCQUFpQixHQUFHLE1BQU0sb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFFL0QsSUFBSSxpQkFBaUIsRUFBRTtnQkFDckIsTUFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDO2dCQUN6QixNQUFNLGtCQUFrQixHQUFHLE1BQU0sNkJBQTZCLENBQzVELFFBQVEsRUFDUixJQUFJLEVBQ0osUUFBUSxFQUNSLGlCQUFpQixDQUNsQixDQUFDO2dCQUNGLG9CQUFvQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7Z0JBQ2hDLG9CQUFvQixDQUFDLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7YUFDM0Q7aUJBQU07Z0JBQ0wsb0JBQW9CLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDaEMsb0JBQW9CLENBQUMsT0FBTyxHQUFHLGlDQUFpQyxDQUFDO2FBQ2xFO1NBQ0Y7YUFBTTtZQUNMLG9CQUFvQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDaEMsb0JBQW9CLENBQUMsT0FBTyxHQUFHLDZCQUE2QixDQUFDO1NBQzlEO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixvQkFBb0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2hDLG9CQUFvQixDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQzFDO0lBRUQsT0FBTyxvQkFBb0IsQ0FBQztBQUM5QixDQUFDLENBQUM7QUFFRixNQUFNLDZCQUE2QixHQUFHLEtBQUssRUFDekMsUUFBUSxFQUNSLElBQUksRUFDSixRQUFRLEVBQ1IsaUJBQWlCLEVBQ2pCLEVBQUU7SUFDRixNQUFNLG9CQUFvQixHQUFrQjtRQUMxQyxJQUFJLEVBQUUsR0FBRztRQUNULE9BQU8sRUFBRSxJQUFJO1FBQ2IsSUFBSSxFQUFFLElBQUk7S0FDWCxDQUFDO0lBQ0YsSUFBSSxRQUFRLEVBQUU7UUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLEVBQUU7WUFDckMsb0JBQW9CLENBQUMsSUFBSSxHQUFHLE1BQU0sc0JBQXNCLENBQ3REO2dCQUNFLG1CQUFtQixFQUFFLEdBQUc7Z0JBQ3hCLGNBQWMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCO2dCQUNyQyx3QkFBd0IsRUFBRSxtQkFBbUI7YUFDOUMsRUFDRCxRQUFRLENBQ1QsQ0FBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLG9CQUFvQixDQUFDLE9BQU8sR0FBRyxRQUFRLGlCQUFpQixDQUFDLElBQUksd0JBQXdCLENBQUM7U0FDdkY7YUFBTTtZQUNMLG9CQUFvQixDQUFDLE9BQU8sR0FBRyw4QkFBOEIsQ0FBQztTQUMvRDtLQUNGO1NBQU07UUFDTCxJQUFJLGlCQUFpQixDQUFDLG1CQUFtQixLQUFLLEdBQUcsRUFBRTtZQUNqRCxNQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxjQUFjLENBQUM7WUFDeEQsTUFBTSxpQkFBaUIsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDNUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDcEMsb0JBQW9CLENBQUMsSUFBSSxHQUFHLE1BQU0sc0JBQXNCLENBQ3REO29CQUNFLHdCQUF3QixFQUFFLG1CQUFtQjtvQkFDN0MsY0FBYyxFQUFFLGlCQUFpQixDQUFDLFFBQVEsRUFBRTtpQkFDN0MsRUFDRCxRQUFRLENBQ1QsQ0FBQztnQkFDRixvQkFBb0IsQ0FBQyxPQUFPLEdBQUcsUUFBUSxpQkFBaUIsQ0FBQyxJQUFJLGlFQUFpRSxDQUFDO2FBQ2hJO1NBQ0Y7S0FDRjtJQUNELE9BQU8sb0JBQW9CLENBQUM7QUFDOUIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzNHNEM7QUFDVTtBQUdqRCxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ2pFLElBQUksb0JBQW9CLEdBQW1CLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUM7SUFDNUUsSUFBRztRQUNELE1BQU0sRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLG9CQUFvQixFQUFDLEdBQUcsSUFBSTtRQUNuRCxJQUFHLE1BQU0sRUFBQztZQUdOLE1BQU0sV0FBVyxHQUFHLE1BQU0saUVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxQyxJQUFHLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO2dCQUN0QixNQUFNLGlCQUFpQixHQUFJLE1BQU0sb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBRWhFLElBQUcsaUJBQWlCLEVBQUM7b0JBQ2pCLG9CQUFvQixHQUFHLE1BQU0sb0NBQW9DLENBQUMsb0JBQW9CLEVBQUMsUUFBUSxDQUFDO2lCQUNuRztxQkFDRztvQkFDQSxvQkFBb0IsQ0FBQyxJQUFJLEdBQUcsR0FBRztvQkFDL0Isb0JBQW9CLENBQUMsT0FBTyxHQUFHLGlDQUFpQztpQkFDbkU7YUFDSjtpQkFFRDtnQkFDSSxvQkFBb0IsQ0FBQyxJQUFJLEdBQUcsR0FBRztnQkFDL0Isb0JBQW9CLENBQUMsT0FBTyxHQUFHLDZCQUE2QjthQUMvRDtTQUNKO2FBQ0c7WUFDQSxvQkFBb0IsQ0FBQyxJQUFJLEdBQUcsR0FBRztZQUMvQixvQkFBb0IsQ0FBQyxPQUFPLEdBQUcscUJBQXFCO1NBQ3ZEO0tBQ0Y7SUFDRCxPQUFNLENBQUMsRUFBQztRQUNOLG9CQUFvQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDaEMsb0JBQW9CLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDMUM7SUFFRCxPQUFPLG9CQUFvQixDQUFDO0FBQzlCLENBQUM7QUFJRCxNQUFNLG9DQUFvQyxHQUFHLEtBQUssRUFBQyxvQkFBb0IsRUFBQyxRQUFRLEVBQUUsRUFBRTtJQUNoRixNQUFNLG9CQUFvQixHQUFtQixFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDO0lBRTlFLElBQUcsb0JBQW9CLElBQUkscUJBQW9CLGFBQXBCLG9CQUFvQix1QkFBcEIsb0JBQW9CLENBQUUsTUFBTSxJQUFHLENBQUMsRUFBQztRQUN4RCxvQkFBb0IsQ0FBQyxJQUFJLEdBQUcsTUFBTSxzQkFBc0IsQ0FBQztZQUNyRCxtQkFBbUIsRUFBQyxDQUFDO1lBQ3JCLGNBQWMsRUFBQyxvQkFBb0I7WUFDbkMsd0JBQXdCLEVBQUMsdUNBQXVDO1NBQ25FLEVBQUMsUUFBUSxDQUFDLENBQUM7S0FDZjtTQUNHO1FBQ0Esb0JBQW9CLENBQUMsSUFBSSxHQUFHLEdBQUc7UUFDL0Isb0JBQW9CLENBQUMsT0FBTyxHQUFHLDhCQUE4QjtLQUNoRTtJQUVELE9BQU8sb0JBQW9CLENBQUM7QUFDaEMsQ0FBQztBQUVELE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFDLFFBQVEsRUFBRSxFQUFFO0lBQzNDLElBQUcsUUFBUSxFQUFDO1FBQ1IsT0FBTyxnRUFBcUIsQ0FBQztZQUN6QixLQUFLLEVBQUM7Z0JBQ0YsSUFBSSxFQUFDLFFBQVE7YUFDaEI7U0FDSixDQUFDO0tBQ0w7SUFDRCxPQUFPLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUMsZUFBZSxFQUFDLFFBQVEsRUFBQyxFQUFFO0lBQzVELE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLE9BQU8sNkRBQWtCLENBQUM7UUFDdkIsSUFBSSxFQUFDLGVBQWU7UUFDcEIsS0FBSyxFQUFDLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQztLQUN4QixDQUFDO0FBQ04sQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvRThDO0FBSVg7QUFDQTtBQUU3QixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ2hFLE1BQU0sa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0lBQ3BFLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDeEIsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLE1BQU0sWUFBWSxHQUFHLE1BQU0sZ0VBQXFCLENBQUM7UUFDL0MsS0FBSyxFQUFFO1lBQ0wsSUFBSSxFQUFFLE1BQU07U0FDYjtLQUNGLENBQUMsQ0FBQztJQUNILElBQ0UsWUFBWSxDQUFDLE1BQU0sS0FBSyxtQkFBbUI7UUFDM0MsWUFBWSxDQUFDLE1BQU0sS0FBSyxtQkFBbUIsRUFDM0M7UUFDQSxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsSUFBSSxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsRUFBRTtZQUN2RSxJQUFJLFlBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxnQkFBZ0IsRUFBRTtnQkFDbEMsTUFBTSx1QkFBdUIsR0FDM0IsTUFBTSxnRkFBcUMsQ0FBQztvQkFDMUMsS0FBSyxFQUFFO3dCQUNMLElBQUksRUFBRSxZQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsZ0JBQWdCO3FCQUNyQztpQkFDRixDQUFDLENBQUM7Z0JBRUwsSUFBSSx1QkFBdUIsRUFBRTtvQkFDM0IsTUFBTSxrQkFBa0IsR0FBRyx1QkFBdUIsQ0FBQyxRQUFRLENBQUM7b0JBQzVELE1BQU0sdUNBQXVDLEdBQzNDLE1BQU0scUZBQTBDLENBQUM7d0JBQy9DLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxrQkFBa0IsRUFBRTt3QkFDdkMsT0FBTyxFQUFFOzRCQUNQLElBQUksRUFBRSxJQUFJO3lCQUNYO3FCQUNGLENBQUMsQ0FBQztvQkFFTCxJQUFJLHdDQUF1QyxhQUF2Qyx1Q0FBdUMsdUJBQXZDLHVDQUF1QyxDQUFFLE1BQU0sSUFBRyxDQUFDLEVBQUU7d0JBQ3ZELHVDQUF1QyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFOzRCQUN2RCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDeEIsQ0FBQyxDQUFDLENBQUM7d0JBRUgsTUFBTSxjQUFjLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQzs0QkFDMUQsS0FBSyxFQUFFO2dDQUNMLGtCQUFrQixFQUFFLGtCQUFrQjs2QkFDdkM7eUJBQ0YsQ0FBQyxDQUFDO3dCQUNILE1BQU0sc0JBQXNCLEdBQUcsTUFBTSxlQUFlLENBQ2xELGNBQWMsRUFDZCxLQUFLLEVBQ0wsa0JBQWtCLEVBQ2xCLE1BQU0sQ0FDUCxDQUFDO3dCQUNGLGtCQUFrQixDQUFDLE9BQU8sR0FBRyxpQ0FBaUMsc0JBQXNCLEVBQUUsQ0FBQzt3QkFDdkYsTUFBTSxZQUFZLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxzQkFBc0IsRUFBRSxFQUFFLENBQUM7d0JBQ2pHLE1BQU0sd0JBQXdCLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDO3FCQUN0RDt5QkFBTTt3QkFDTCxrQkFBa0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO3dCQUM5QixrQkFBa0IsQ0FBQyxPQUFPOzRCQUN4QixzREFBc0QsQ0FBQztxQkFDMUQ7aUJBQ0Y7cUJBQU07b0JBQ0wsa0JBQWtCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDOUIsa0JBQWtCLENBQUMsT0FBTzt3QkFDeEIsNENBQTRDLENBQUM7aUJBQ2hEO2FBQ0Y7aUJBQU07Z0JBQ0wsa0JBQWtCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDOUIsa0JBQWtCLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDO2FBQy9DO1NBQ0Y7YUFBTTtZQUNMLGtCQUFrQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDOUIsa0JBQWtCLENBQUMsT0FBTyxHQUFHLDBCQUEwQixDQUFDO1NBQ3pEO0tBQ0Y7U0FBTTtRQUNMLGtCQUFrQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDOUIsa0JBQWtCLENBQUMsT0FBTyxHQUFHLHFDQUFxQyxDQUFDO0tBQ3BFO0lBQ0QsT0FBTyxrQkFBa0IsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRixNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQzNCLGNBQWMsRUFDZCxLQUFLLEVBQ0wsa0JBQWtCLEVBQ2xCLE1BQU0sRUFDTixFQUFFO0lBQ0YsSUFBSSw2QkFBNkIsQ0FBQztJQUNsQyxJQUFJLDJCQUEyQixDQUFDO0lBQ2hDLElBQUksY0FBYyxFQUFFO1FBQ2xCLE1BQU0sd0JBQXdCLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQztRQUN2RCxNQUFNLGtDQUFrQyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQ3hELENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLHdCQUF3QixDQUMvQyxDQUFDO1FBQ0YsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLGtDQUFrQyxHQUFHLENBQUMsRUFBRTtZQUMzRCw2QkFBNkIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzlDLDJCQUEyQixHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDM0M7YUFBTTtZQUNMLDZCQUE2QjtnQkFDM0IsS0FBSyxDQUFDLGtDQUFrQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNyRCwyQkFBMkI7Z0JBQ3pCLEtBQUssQ0FBQyxrQ0FBa0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDcEQ7UUFDRCxNQUFNLHNFQUEyQixDQUFDO1lBQ2hDLEtBQUssRUFBRTtnQkFDTCxZQUFZLEVBQUUsY0FBYyxDQUFDLFlBQVk7YUFDMUM7WUFDRCxJQUFJLEVBQUU7Z0JBQ0osTUFBTSxFQUFFLDJCQUEyQjthQUNwQztTQUNGLENBQUMsQ0FBQztLQUNKO1NBQU07UUFFTCxNQUFNLHNFQUEyQixDQUFDO1lBQ2hDLElBQUksRUFBRTtnQkFDSixrQkFBa0IsRUFBRSxrQkFBa0I7Z0JBQ3RDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTthQUNwQjtTQUNGLENBQUMsQ0FBQztRQUNILDZCQUE2QixHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7S0FDL0M7SUFFRCxNQUFNLDZEQUFrQixDQUFDO1FBQ3ZCLEtBQUssRUFBRTtZQUNMLElBQUksRUFBRSxNQUFNO1NBQ2I7UUFDRCxJQUFJLEVBQUU7WUFDSixxQkFBcUIsRUFBRSw2QkFBNkI7WUFDcEQsbUJBQW1CLEVBQUUsR0FBRztTQUN6QjtLQUNGLENBQUMsQ0FBQztJQUNILE9BQU8sNkJBQTZCLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUYsTUFBTSx3QkFBd0IsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxFQUFFOzs7SUFDOUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVwQixNQUFNLG1CQUFtQixHQUFHLE1BQU0sd0VBQTZCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsWUFBWSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN4RyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHO1FBQ2YsRUFBRSxZQUFZLEVBQUUsa0JBQWtCLEVBQUU7UUFDcEMsRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUU7UUFDbEMsRUFBRSxZQUFZLEVBQUUsMEJBQTBCLEVBQUU7S0FDN0MsQ0FBQztJQUNGLElBQUkseUJBQXlCLEdBQVEsRUFBRSxDQUFDO0lBQ3hDLHlCQUF5QixHQUFHO1FBQzFCLEVBQUUsRUFBRSxRQUFRO0tBQ2IsQ0FBQztJQUNGLE1BQU0sd0JBQXdCLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQyxFQUFFLEtBQUssRUFBRSx5QkFBeUIsRUFBRSxDQUFDLENBQUM7SUFDeEcsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDOztRQUNyQixLQUE0Qix1RUFBd0I7WUFBekMsTUFBTSxPQUFPO1lBQ3RCLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ25DOzs7Ozs7Ozs7SUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZCLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQzs7UUFDbEIsS0FBNEIsNkRBQW1CO1lBQXBDLE1BQU0sT0FBTztZQUN0QixJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7Z0JBQ2xCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzdCO1NBQ0Y7Ozs7Ozs7OztJQUNELElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDckIsTUFBTSxZQUFZLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUseUJBQXlCLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQztRQUN6SixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDOztZQUMxQixLQUE0QiwrQ0FBWTtnQkFBN0IsTUFBTSxPQUFPO2dCQUN0QixNQUFNLFdBQVcsR0FBRyxNQUFNLGdFQUFxQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7Z0JBQzVFLE1BQU0sZ0NBQWdDLEdBQUcsTUFBTSwyRUFBdUIsQ0FDcEUscUNBQXFDLEVBQ3JDLHFGQUFpQyxDQUFDLHVCQUF1QixDQUFDLENBQzNELENBQUM7Z0JBQ0YsSUFBSSxnQ0FBZ0MsRUFBRTtvQkFDcEMsTUFBTSxJQUFJLEdBQUcsc0NBQWdDLGFBQWhDLGdDQUFnQyx1QkFBaEMsZ0NBQWdDLENBQUUsSUFBSSwwQ0FBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUM7b0JBQ2xGLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2xCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQ3ZCLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxXQUFXO29CQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztvQkFDL0IsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsV0FBVyxDQUFDLElBQUksR0FBRyxVQUFVLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQztvQkFDekYsTUFBTSxHQUFHLEdBQUcsdUVBQXVFLENBQUM7b0JBQ3BGLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTt3QkFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDeEIsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLDJCQUEyQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7d0JBQzNHLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztxQkFDbkQ7aUJBQ0Y7YUFDRjs7Ozs7Ozs7O0tBQ0Y7QUFDSCxDQUFDO0FBRUQsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQ3ZDLEVBQUUsRUFDRixJQUFJLEVBQ0osSUFBSSxFQUNKLFlBQVksRUFDWixXQUFXLEVBQ1gsR0FBRyxFQUNILEVBQUU7SUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3ZCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDN0IsV0FBVyxFQUFFO1lBQ1gsTUFBTSxFQUFFLElBQUksR0FBRyxFQUFFO1NBQ2xCO1FBQ0QsWUFBWSxFQUFFO1lBQ1osSUFBSSxFQUFFLFVBQVU7WUFDaEIsTUFBTSxFQUFFLGNBQWM7WUFDdEIsVUFBVSxFQUFFLGtCQUFrQjtZQUM5QixNQUFNLEVBQUU7Z0JBQ04sR0FBRyxFQUFFLFdBQVcsQ0FBQyxJQUFJO2dCQUNyQixHQUFHLEVBQUUsV0FBVyxDQUFDLDBCQUEwQjtnQkFDM0MsR0FBRyxFQUFFLFdBQVcsQ0FBQyxnQkFBZ0I7Z0JBQ2pDLEdBQUcsRUFBRSxXQUFXLENBQUMsZUFBZTtnQkFDaEMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxnQkFBZ0I7Z0JBQ2pDLEdBQUcsRUFBRSxXQUFXLENBQUMsa0JBQWtCO2dCQUNuQyxHQUFHLEVBQUUsSUFBSTthQUNWO1NBQ0Y7S0FDRixDQUFDLENBQUM7SUFDSCxJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQUcsTUFBTSxzREFDWCxDQUFDLEdBQUcsQ0FBQzthQUNULEtBQUssQ0FBQyxvQkFBb0IsQ0FBQzthQUMzQixHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDO2FBQ3ZDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQzthQUN4RCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztLQUNqQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLEtBQUssQ0FBQztLQUNiO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0TzZDO0FBSVc7QUFDaUI7QUFDUTtBQUN2QztBQUVyQyxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFOztJQUM1RCxJQUFJLDJCQUEyQixDQUFDO0lBRWhDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFNUMsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFL0MsTUFBTSw0RkFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFFeEMsTUFBTSxZQUFZLEdBQUcsa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsVUFBVSxDQUFDO1FBQ3BELE1BQU0sU0FBUyxHQUFHLE1BQU0sZ0VBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDZCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUM1QztRQUNELFlBQVksQ0FBQyxFQUFFLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztRQUNqQyxNQUFNLFFBQVEsR0FBRyxNQUFNLG9CQUFvQixDQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFM0UsTUFBTSw2REFBa0IsQ0FBQztZQUN2QixJQUFJLEVBQUU7Z0JBQ0osWUFBWSxFQUFFLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVk7Z0JBQzlDLE9BQU8sRUFBRSxrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxPQUFPLENBQUMsUUFBUSxFQUFFO2dCQUMvQyxnQkFBZ0IsRUFBRSxrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxnQkFBZ0I7Z0JBQ3RELGFBQWEsRUFDWCxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxhQUFhLE1BQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUs7Z0JBQzVELDBCQUEwQixFQUN4Qix3QkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSwwQkFBMEIsMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDM0QsMkJBQTJCLEVBQ3pCLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLDJCQUEyQiwwQ0FBRSxJQUFJLENBQUMsR0FBRyxDQUFDO2dCQUM1RCxzQkFBc0IsRUFDcEIsd0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsc0JBQXNCLDBDQUFFLElBQUksQ0FBQyxHQUFHLENBQUM7Z0JBQ3ZELGlCQUFpQixFQUFFLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLGlCQUFpQjtnQkFDeEQsa0NBQWtDLEVBQ2hDLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLGtDQUFrQztnQkFDeEQsdUNBQXVDLEVBQ3JDLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLHVDQUF1QztnQkFDN0QsMENBQTBDLEVBQ3hDLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLDBDQUEwQywwQ0FBRSxJQUFJLENBQ2xFLEdBQUcsQ0FDSjtnQkFDSCxvQ0FBb0MsRUFDbEMsd0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsb0NBQW9DLDBDQUFFLElBQUksQ0FBQyxHQUFHLENBQUM7Z0JBQ3JFLG1DQUFtQyxFQUNqQyx3QkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxtQ0FBbUMsMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDcEUsc0JBQXNCLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDdEQsQ0FBQyxDQUFDLHdCQUFrQixDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsTUFBTTtvQkFDNUMsQ0FBQyxDQUFDLElBQUk7Z0JBQ1IsdUJBQXVCLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDdkQsQ0FBQyxDQUFDLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsTUFBTTtvQkFDN0MsQ0FBQyxDQUFDLElBQUk7Z0JBQ1Isc0JBQXNCLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDdEQsQ0FBQyxDQUFDLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsTUFBTTtvQkFDN0MsQ0FBQyxDQUFDLElBQUk7Z0JBQ1IsdUJBQXVCLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDdkQsQ0FBQyxDQUFDLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsTUFBTTtvQkFDN0MsQ0FBQyxDQUFDLElBQUk7Z0JBQ1IsbUJBQW1CLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDbkQsQ0FBQyxDQUFDLDhCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsR0FBRywwQ0FBRSxRQUFRLEVBQUU7b0JBQ3RELENBQUMsQ0FBQyxJQUFJO2dCQUNSLG9CQUFvQixFQUFFLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVk7b0JBQ3BELENBQUMsQ0FBQyw4QkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLDBDQUFFLEdBQUcsMENBQUUsUUFBUSxFQUFFO29CQUN0RCxDQUFDLENBQUMsSUFBSTtnQkFDUixtQkFBbUIsRUFBRSxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxZQUFZO29CQUNuRCxDQUFDLENBQUMsOEJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxHQUFHLDBDQUFFLFFBQVEsRUFBRTtvQkFDdEQsQ0FBQyxDQUFDLElBQUk7Z0JBQ1Isb0JBQW9CLEVBQUUsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsWUFBWTtvQkFDcEQsQ0FBQyxDQUFDLDhCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsMENBQUUsR0FBRywwQ0FBRSxRQUFRLEVBQUU7b0JBQ3RELENBQUMsQ0FBQyxJQUFJO2dCQUNSLG1CQUFtQixFQUFFLGtCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLG1CQUFtQjtnQkFDNUQsT0FBTyxFQUFFLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLE9BQU8sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDL0Msa0JBQWtCLEVBQUUsa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsa0JBQWtCO2dCQUMxRCxPQUFPLEVBQUUsa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsT0FBTztnQkFDcEMsTUFBTSxFQUFFLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLE1BQU0sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDN0MsT0FBTyxFQUFFLHdCQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLE9BQU8sMENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDL0Msa0JBQWtCLEVBQUUsa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsa0JBQWtCO2dCQUMxRCwyQkFBMkIsRUFBRSxRQUFRO29CQUNuQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUU7b0JBQ3hCLENBQUMsQ0FBQyxTQUFTLENBQUMsMkJBQTJCO2FBQzFDO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRTtTQUN0QixDQUFDLENBQUM7UUFFSCwyQkFBMkIsR0FBRztZQUM1QixJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSx1Q0FBdUM7U0FDakQsQ0FBQztRQUNGLE9BQU8sMkJBQTJCLENBQUM7S0FDcEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLDJCQUEyQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BFLE9BQU8sMkJBQTJCLENBQUM7S0FDcEM7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFOztJQUM5RCxJQUFJLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDO0lBQzNCLElBQ0UsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUNsQywrREFBK0QsQ0FDaEUsRUFDRDtRQUNBLE1BQU0sYUFBYSxHQUFHO1lBQ3BCLEdBQUcsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7WUFDdkMsV0FBVyxFQUFFLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWTtZQUNuRCxNQUFNLEVBQUUsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1lBQ3RDLFdBQVcsRUFBRSxDQUFDO1lBQ2QsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ2pCLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSTtTQUNsQixDQUFDO1FBRUYsT0FBTyxHQUFHLE1BQU0sd0ZBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztRQUU1QixHQUFHLEdBQUcsTUFBTSxxR0FBMkIsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN0RCxJQUFJLFVBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxNQUFNLDBDQUFFLFdBQVcsRUFBRSxNQUFLLE9BQU8sRUFBRTtZQUMxQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsQ0FBQztTQUNuRTtLQUNGO1NBQU07UUFDTCxRQUFRLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7S0FDM0M7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEk2QztBQUNTO0FBQzZCO0FBQ1Y7QUFDWTtBQUVoRixNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTs7SUFDMUQsSUFBSSx5QkFBeUIsQ0FBQztJQUU5QixJQUFJO1FBQ0YsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUVsQyxNQUFNLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDdkQsTUFBTSxXQUFXLEdBQUcsTUFBTSxpRUFBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLElBQUksSUFBSSxDQUFDO1FBQ1QsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUMxQixJQUFJLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3ZCO2FBQU07WUFDTCx5QkFBeUIsR0FBRztnQkFDMUIsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLGlDQUFpQzthQUMzQyxDQUFDO1lBQ0YsT0FBTyx5QkFBeUIsQ0FBQztTQUNsQztRQUNELElBQUksa0JBQWtCLEVBQUUsSUFBSSxDQUFDO1FBRTdCLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSywyR0FBcUM7WUFDMUQsSUFBSSxDQUFDLFNBQVMsS0FBSywyR0FBcUM7WUFDeEQsSUFBSSxDQUFDLFNBQVMsS0FBSyxrSEFBNEM7WUFDL0QsSUFBSSxDQUFDLFNBQVMsS0FBSyx3R0FBa0M7WUFDckQsSUFBSSxDQUFDLFNBQVMsS0FBSyx3R0FBa0MsRUFDbkQ7WUFDRixrQkFBa0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzVELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNqRSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDM0QsSUFBSSxHQUFHLEdBQUcsVUFBSSxDQUFDLFNBQVMsMENBQUUsSUFBSSxFQUFFLEdBQzlCLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQ3hDLEdBQUcsUUFBUSxFQUFFLENBQUM7WUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN2QjthQUFNO1lBQ0wseUJBQXlCLEdBQUc7Z0JBQzFCLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSw4QkFBOEI7YUFDeEMsQ0FBQztZQUNGLE9BQU8seUJBQXlCLENBQUM7U0FDbEM7UUFFRCxJQUFJLFFBQVEsRUFBRTtZQUNaLE1BQU0sNkRBQWtCLENBQUM7Z0JBQ3ZCLEtBQUssRUFBRTtvQkFDTCxJQUFJLEVBQUUsUUFBUTtpQkFDZjtnQkFDRCxJQUFJLEVBQUU7b0JBQ0osY0FBYyxFQUFFLElBQUksQ0FBQyxnQkFBZ0I7b0JBQ3JDLG1CQUFtQixFQUFFLElBQUk7b0JBQ3pCLHFCQUFxQixFQUFFLGtCQUFrQjtvQkFDekMsd0JBQXdCLEVBQUUseUZBQTRCO29CQUN0RCxtQkFBbUIsRUFBRSxHQUFHO2lCQUN6QjthQUNGLENBQUMsQ0FBQztTQUNKO2FBQU0sSUFBSSxlQUFlLEVBQUU7WUFDMUIsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFO29CQUNMLElBQUksRUFBRSxlQUFlO2lCQUN0QjtnQkFDRCxJQUFJLEVBQUU7b0JBQ0osY0FBYyxFQUFFLElBQUksQ0FBQyxnQkFBZ0I7b0JBQ3JDLG1CQUFtQixFQUFFLElBQUk7b0JBQ3pCLGNBQWMsRUFBRSxrQkFBa0I7aUJBQ25DO2FBQ0YsQ0FBQyxDQUFDO1NBQ0o7UUFDRCx5QkFBeUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxDQUFDO1FBQzlELE9BQU8seUJBQXlCLENBQUM7S0FDbEM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLHlCQUF5QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2xFLE9BQU8seUJBQXlCLENBQUM7S0FDbEM7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUVnRjtBQUNQO0FBRXBFLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDOUQsSUFBSSxzQkFBc0IsQ0FBQztJQUUzQixJQUFJO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQyxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQztRQUNyRSxNQUFNLFVBQVUsR0FBRztZQUNqQixHQUFHLEVBQUUsT0FBTztZQUNaLFdBQVc7WUFDWCxNQUFNO1lBQ04sTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ25CLFdBQVcsRUFBRSxDQUFDO1lBQ2QsTUFBTSxFQUFFLE1BQU07WUFDZCxhQUFhLEVBQUUsYUFBYTtTQUM3QixDQUFDO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSx3RkFBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLElBQUksV0FBVyxHQUFHO1lBQ2hCLFFBQVEsRUFBRSxPQUFPO1lBQ2pCLFlBQVksRUFBRSxXQUFXO1lBQ3pCLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUTtTQUNwQixDQUFDO1FBRUYsc0JBQXNCLEdBQUc7WUFDdkIsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsU0FBUztZQUNsQixJQUFJLEVBQUUsV0FBVztTQUNsQixDQUFDO1FBQ0YsT0FBTyxzQkFBc0IsQ0FBQztLQUMvQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2Qsc0JBQXNCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDL0QsT0FBTyxzQkFBc0IsQ0FBQztLQUMvQjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ25DK0U7QUFDMUUsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDekQsSUFBSSxzQkFBc0IsQ0FBQztJQUUzQixJQUFJO1FBQ0EsTUFBTSxFQUFFLGNBQWMsRUFBQyxNQUFNLEVBQUUsYUFBYSxFQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ3JELElBQUksSUFBSSxDQUFDO1FBQ1QsTUFBTSxXQUFXLEdBQVUsRUFBRSxDQUFDO1FBQzlCLElBQUksY0FBYyxDQUFDLE1BQU0sRUFBRTtZQUN2QixNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2IsY0FBYyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUU7Z0JBQ2pDLE1BQU0sVUFBVSxHQUFHO29CQUNmLEdBQUcsRUFBRSxPQUFPLENBQUMsUUFBUTtvQkFDckIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxZQUFZO29CQUNqQyxNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07b0JBQ3RCLFdBQVcsRUFBRSxDQUFDO29CQUNkLE1BQU0sRUFBRSxNQUFNO29CQUNkLGFBQWEsRUFBRSxhQUFhO2lCQUUvQixDQUFDO2dCQUNGLElBQUksR0FBRyxNQUFNLHdGQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBRXhDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVE7Z0JBRTlCLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1lBRzdCLENBQUMsQ0FBQyxDQUNMO1NBQ0o7UUFFRCxzQkFBc0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO1FBQzdFLE9BQU8sc0JBQXNCLENBQUM7S0FFakM7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNaLHNCQUFzQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUM5RCxPQUFPLHNCQUFzQixDQUFDO0tBRWpDO0FBQ0wsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2QzZDO0FBQzRCO0FBQ1o7QUFDeEQsTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFDdEUsTUFBTSxxQkFBcUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDNUUsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEQsSUFBSSxJQUFJLEVBQUU7WUFDUixNQUFNLFdBQVcsR0FBRyxNQUFNLHFFQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9DLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNDLElBQUksY0FBYyxHQUFRLEVBQUUsQ0FBQztZQUM3QixNQUFNLGNBQWMsR0FBRyxNQUFNLHNFQUEyQixDQUFDO2dCQUN2RCxLQUFLLEVBQUU7b0JBQ0wsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO2lCQUNwQzthQUNGLENBQUMsQ0FBQztZQUVILE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM3QyxRQUFRLGNBQWMsQ0FBQyxZQUFZLEVBQUU7Z0JBQ25DLEtBQUssQ0FBQztvQkFDSixJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsRUFBRTt3QkFDNUMsY0FBYyxHQUFHOzRCQUNmLGNBQWMsRUFBRSxJQUFJOzRCQUNwQixNQUFNLEVBQUUsbUJBQW1COzRCQUMzQixtQkFBbUIsRUFBRSxHQUFHOzRCQUN4QixFQUFFLEVBQUUsaUJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLDBDQUFFLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFLEVBQUU7Z0NBQ25ELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQzs0QkFDNUQsQ0FBQyxDQUFDOzRCQUNGLEdBQUcsRUFBRTtnQ0FDSCxFQUFFLEVBQUU7b0NBQ0Y7d0NBQ0UsR0FBRyxFQUFFOzRDQUNILGNBQWMsRUFBRTtnREFDZCxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7NkNBQzNDO3lDQUNGO3FDQUNGO29DQUNELEVBQUUsY0FBYyxFQUFFLElBQUksRUFBRTtpQ0FDekI7NkJBQ0Y7eUJBQ0YsQ0FBQztxQkFDSDt5QkFBTTt3QkFDTCxxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO3dCQUNqQyxxQkFBcUIsQ0FBQyxPQUFPOzRCQUMzQiw4Q0FBOEMsQ0FBQzt3QkFDakQsT0FBTyxxQkFBcUIsQ0FBQztxQkFDOUI7b0JBQ0QsTUFBTTtnQkFFUixLQUFLLENBQUM7b0JBQ0osY0FBYyxHQUFHO3dCQUNmLEVBQUUsRUFBRSxpQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssMENBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ3JDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7d0JBQzlDLENBQUMsQ0FBQzt3QkFDRixtQkFBbUIsRUFBRSxHQUFHO3dCQUN4QixjQUFjLEVBQUUsSUFBSTt3QkFDcEIsTUFBTSxFQUFFLG1CQUFtQjtxQkFDNUIsQ0FBQztvQkFDRixNQUFNO2dCQUVSLEtBQUssQ0FBQztvQkFDSixjQUFjLEdBQUc7d0JBQ2YsRUFBRSxFQUFFLGlCQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLDBDQUFFLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFOzRCQUN0RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO3dCQUM5QyxDQUFDLENBQUM7d0JBQ0YsbUJBQW1CLEVBQUUsR0FBRzt3QkFDeEIsY0FBYyxFQUFFLElBQUk7d0JBQ3BCLE1BQU0sRUFBRSxtQkFBbUI7cUJBQzVCLENBQUM7b0JBQ0YsTUFBTTtnQkFFUixLQUFLLENBQUM7b0JBQ0osY0FBYyxHQUFHO3dCQUNmLEVBQUUsRUFBRSxpQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sMENBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7NEJBQ3RDLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO3dCQUNsQyxDQUFDLENBQUM7d0JBQ0YsbUJBQW1CLEVBQUUsR0FBRzt3QkFDeEIsY0FBYyxFQUFFLElBQUk7d0JBQ3BCLE1BQU0sRUFBRSxtQkFBbUI7cUJBQzVCLENBQUM7b0JBQ0YsTUFBTTtnQkFFUixLQUFLLENBQUM7b0JBQ0osY0FBYyxHQUFHO3dCQUNmLG1CQUFtQixFQUFFLEdBQUc7d0JBQ3hCLGNBQWMsRUFBRSxJQUFJO3dCQUNwQixNQUFNLEVBQUUsbUJBQW1CO3FCQUM1QixDQUFDO29CQUNGLE1BQU07Z0JBQ1I7b0JBQ0UscUJBQXFCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLGdDQUFnQyxDQUFDO29CQUNqRSxPQUFPLHFCQUFxQixDQUFDO2FBQ2hDO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ2hELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSwrREFBb0IsQ0FBQztnQkFDbEQsS0FBSyxFQUFFLGNBQWM7YUFDdEIsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0MscUJBQXFCLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQ3BEO2FBQU07WUFDTCxxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ2pDLHFCQUFxQixDQUFDLE9BQU8sR0FBRyw2QkFBNkIsQ0FBQztTQUMvRDtLQUNGO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2pDLHFCQUFxQixDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQzFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDaEI7SUFDRCxPQUFPLHFCQUFxQixDQUFDO0FBQy9CLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUc2QztBQUNIO0FBRXJDLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDOUQsSUFBSSxtQkFBbUIsQ0FBQztJQUN4QixJQUFJO1FBQ0YsSUFBSSxJQUFJLENBQUM7UUFDVCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLENBQUMsQ0FBQzthQUNqRDtZQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUNuQyxJQUFJLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQztnQkFDMUMsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFO2FBQ3BFLENBQUMsQ0FBQztZQUNILE1BQU0sV0FBVyxHQUFHLE1BQU0sZ0VBQXFCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUM7WUFDakYsSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDaEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7YUFDNUM7WUFDRCxJQUFHLFdBQVcsQ0FBQywyQkFBMkIsRUFBQztnQkFDekMsTUFBTSxTQUFTLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLDJCQUEyQixDQUFFLEVBQUMsRUFBRSxDQUFDO2dCQUMzSCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUNyQjtTQUVGO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDdkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLDRCQUE0QixDQUFDLENBQUM7YUFDeEQ7WUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDLENBQUM7WUFDMUMsSUFBSSxNQUFNLENBQUM7WUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDaEIsTUFBTSxXQUFXLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQztvQkFDdEQsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7aUJBQ3BDLENBQUMsQ0FBQztnQkFDSCxJQUFJLENBQUMsV0FBVyxFQUFFO29CQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztpQkFDbkQ7Z0JBQ0QsTUFBTSxHQUFHLFdBQVcsQ0FBQyxVQUFVO2FBRWhDO2lCQUFNO2dCQUNMLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTTthQUNyQjtZQUNELE1BQU0sU0FBUyxHQUFHLE1BQU0sMEJBQTBCLENBQUMsTUFBTSxDQUFDO1lBRzFELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQztnQkFDNUQsS0FBSyxFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRTthQUM3RCxDQUFDLENBQUM7WUFDSCxJQUFJLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztTQUUxQztRQUNELElBQUksR0FBRyxNQUFNLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFFaEMsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ3BFLE9BQU8sbUJBQW1CLENBQUM7S0FDNUI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzVELE9BQU8sbUJBQW1CLENBQUM7S0FFNUI7QUFFSCxDQUFDLENBQUM7QUFDRixNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDbkMsSUFBSSxJQUFJLEVBQUMsUUFBUSxDQUFDO0lBQ2xCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDbkIsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO1lBQ3pCLElBQUksT0FBTyxDQUFDLElBQUksRUFBRTtnQkFDaEIsSUFBSSxHQUFHLE1BQU0scUVBQTBCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQzVFLE9BQU8sQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVM7YUFDcEM7aUJBQUssSUFBRyxPQUFPLENBQUMsUUFBUSxFQUFDO2dCQUN4QixRQUFRLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztnQkFDM0YsT0FBTyxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUMsU0FBUzthQUN4QztRQUNILENBQUMsQ0FBQyxDQUNIO0tBQ0Y7SUFDRCxPQUFPLElBQUk7QUFFYixDQUFDO0FBQ0QsTUFBTSwwQkFBMEIsR0FBRyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUU7SUFDbEQsSUFBSSxTQUFTLENBQUM7SUFDZCxJQUFJLE1BQU0sRUFBRTtRQUNWLFNBQVMsR0FBRyxNQUFNLHlFQUE4QixDQUFDO1lBQy9DLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRTtTQUMxQyxDQUFDLENBQUM7S0FDSjtTQUFNO1FBQ0wsU0FBUyxHQUFHLEVBQUU7S0FDZjtJQUNELE9BQU8sU0FBUztBQUNsQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDMUY2QztBQUd2QyxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBQyxNQUFNLEVBQUMsSUFBSSxFQUFDLE9BQU8sRUFBQyxFQUFFO0lBQzFELE1BQU0sRUFBQyxNQUFNLEVBQUMsR0FBRyxJQUFJLENBQUM7SUFDdEIsTUFBTSxtQkFBbUIsR0FBRyxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDO0lBRTdELE1BQU0sZUFBZSxHQUFJLE1BQU0sZ0VBQXFCLENBQUM7UUFDakQsS0FBSyxFQUFDO1lBQ0YsSUFBSSxFQUFDLE1BQU07U0FDZDtLQUNKLENBQUM7SUFDRixtQkFBbUIsQ0FBQyxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUN2RCxtQkFBbUIsQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUMscUNBQW9DLENBQUM7SUFDMUYsbUJBQW1CLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFFcEUsT0FBTyxtQkFBbUIsQ0FBQztBQUMvQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQjhDO0FBQzRCO0FBQ25CO0FBRWpELE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFOztJQUN4RCxNQUFNLGNBQWMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDckUsSUFBSTtRQUNGLE1BQU0sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLHNCQUFzQixFQUFFLFVBQVUsRUFBRSxHQUNwRSxJQUFJLENBQUM7UUFDUCxJQUFJLElBQUksQ0FBQztRQUNULElBQUk7WUFDRixJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQztRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsY0FBYyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDMUIsY0FBYyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO1NBQ3hDO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDUixNQUFNLFdBQVcsR0FBRyxNQUFNLGlFQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9DLE1BQU0sY0FBYyxHQUFHLE1BQU0sc0VBQTJCLENBQUM7Z0JBQ3ZELEtBQUssRUFBRTtvQkFDTCxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7aUJBQ3BDO2FBQ0YsQ0FBQyxDQUFDO1lBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzdDLElBQUksY0FBYyxHQUFRLEVBQUUsQ0FBQztZQUM3QixNQUFNLFdBQVcsR0FBRztnQkFDbEIsRUFBRSxNQUFNLEVBQUUsbUJBQW1CLEVBQUU7Z0JBQy9CLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFO2FBQ2hDLENBQUM7WUFDRixNQUFNLGVBQWUsR0FBRztnQkFDdEI7b0JBQ0UsSUFBSSxFQUFFLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTtpQkFDdEU7Z0JBQ0QsRUFBRSxXQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO2FBQzVELENBQUM7WUFDRixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRTtnQkFDakQsUUFBUSxjQUFjLENBQUMsWUFBWSxFQUFFO29CQUNuQyxLQUFLLENBQUM7d0JBQ0osY0FBYyxHQUFHOzRCQUNmLEdBQUcsRUFBRTtnQ0FDSCxFQUFFLEVBQUUsV0FBVztnQ0FDZixHQUFHLEVBQUU7b0NBQ0gsRUFBRSxFQUFFLGVBQWU7b0NBQ25CLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7aUNBQ2xDOzZCQUNGOzRCQUNELGNBQWMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCO3lCQUN0QyxDQUFDO3dCQUNGLE1BQU07b0JBRVIsS0FBSyxDQUFDO3dCQUNKLGNBQWMsR0FBRzs0QkFDZixHQUFHLEVBQUU7Z0NBQ0gsRUFBRSxFQUFFLGlCQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSywwQ0FBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtvQ0FDckMsT0FBTzt3Q0FDTCxxQkFBcUIsRUFBRSxJQUFJLENBQUMsSUFBSTtxQ0FDakMsQ0FBQztnQ0FDSixDQUFDLENBQUM7Z0NBQ0YsR0FBRyxFQUFFO29DQUNILEVBQUUsRUFBRSxXQUFXO29DQUNmLEdBQUcsRUFBRTt3Q0FDSCxFQUFFLEVBQUUsZUFBZTt3Q0FDbkIsR0FBRyxFQUFFLHNCQUFzQixDQUFDLElBQUksQ0FBQztxQ0FDbEM7aUNBQ0Y7NkJBQ0Y7eUJBQ0YsQ0FBQzt3QkFDRixjQUFjLENBQUMsR0FBRyxHQUFHOzRCQUNuQixjQUFjLEVBQUUsSUFBSTt5QkFDckIsQ0FBQzt3QkFDRixNQUFNO29CQUVSLEtBQUssQ0FBQzt3QkFDSixjQUFjLEdBQUcsRUFBRSxDQUFDO3dCQUNwQixjQUFjLENBQUMsR0FBRyxHQUFHOzRCQUNuQixFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFO2dDQUNyRCxPQUFPO29DQUNMLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxJQUFJO2lDQUNqQyxDQUFDOzRCQUNKLENBQUMsQ0FBQzs0QkFDRixHQUFHLEVBQUU7Z0NBQ0gsRUFBRSxFQUFFLFdBQVc7Z0NBQ2YsR0FBRyxFQUFFO29DQUNILEVBQUUsRUFBRSxlQUFlO29DQUNuQixHQUFHLEVBQUUsc0JBQXNCLENBQUMsSUFBSSxDQUFDO2lDQUNsQzs2QkFDRjt5QkFDRixDQUFDO3dCQUNGLGNBQWMsQ0FBQyxHQUFHLEdBQUc7NEJBQ25CLGNBQWMsRUFBRSxJQUFJO3lCQUNyQixDQUFDO3dCQUNGLE1BQU07b0JBRVIsS0FBSyxDQUFDO3dCQUNKLGNBQWMsR0FBRyxFQUFFLENBQUM7d0JBQ3BCLGNBQWMsQ0FBQyxHQUFHLEdBQUc7NEJBQ25CLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dDQUNyQyxPQUFPO29DQUNMLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSTtpQ0FDckIsQ0FBQzs0QkFDSixDQUFDLENBQUM7NEJBQ0YsR0FBRyxFQUFFO2dDQUNILEVBQUUsRUFBRSxXQUFXO2dDQUNmLEdBQUcsRUFBRTtvQ0FDSCxFQUFFLEVBQUUsZUFBZTtvQ0FDbkIsR0FBRyxFQUFFLHNCQUFzQixDQUFDLElBQUksQ0FBQztpQ0FDbEM7NkJBQ0Y7eUJBQ0YsQ0FBQzt3QkFDRixjQUFjLENBQUMsR0FBRyxHQUFHOzRCQUNuQixjQUFjLEVBQUUsSUFBSTt5QkFDckIsQ0FBQzt3QkFDRixNQUFNO29CQUNSLEtBQUssQ0FBQzt3QkFDSixjQUFjLEdBQUc7NEJBQ2YsRUFBRSxFQUFFLGVBQWU7NEJBQ25CLEdBQUcsRUFBRTtnQ0FDSCxjQUFjLEVBQUUsSUFBSTs2QkFDckI7NEJBQ0QsR0FBRyxFQUFFO2dDQUNILEVBQUUsRUFBRSxXQUFXO2dDQUNmLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7NkJBQ2xDO3lCQUNGLENBQUM7d0JBQ0YsTUFBTTtvQkFDUjt3QkFDRSxjQUFjLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQzt3QkFDMUIsY0FBYyxDQUFDLE9BQU8sR0FBRyxnQ0FBZ0MsQ0FBQzt3QkFDMUQsT0FBTyxjQUFjLENBQUM7aUJBQ3pCO2dCQUVELFFBQVEsWUFBWSxFQUFFO29CQUNwQixLQUFLLENBQUM7d0JBQ0osY0FBYyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7d0JBQ3JDLE1BQU07b0JBQ1IsS0FBSyxDQUFDO3dCQUNKLE1BQU07b0JBQ1IsS0FBSyxDQUFDO3dCQUNKLGNBQWMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxtQkFBbUIsRUFBRSxDQUFDO3dCQUM1RCxNQUFNO29CQUNSLEtBQUssQ0FBQzt3QkFDSixjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQzt3QkFDNUQsTUFBTTtvQkFDUjt3QkFDRSxNQUFNO2lCQUNUO2dCQUVELE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxzQkFBc0IsRUFBRTtvQkFDMUIsVUFBVSxDQUFDLElBQUksQ0FBQzt3QkFDZCwwQkFBMEIsRUFBRSxzQkFBc0I7cUJBQ25ELENBQUMsQ0FBQztpQkFDSjtnQkFFRCxJQUFJLFVBQVUsRUFBRTtvQkFDZCxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7aUJBQ3ZDO2dCQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztnQkFDbEQsTUFBTSxPQUFPLEdBQUcsTUFBTSwrREFBb0IsQ0FBQztvQkFDekMsS0FBSyxFQUFFLGNBQWM7b0JBQ3JCLE9BQU8sRUFBRSxVQUFVO2lCQUNwQixDQUFDLENBQUM7Z0JBRUgsY0FBYyxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7Z0JBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNsQztpQkFBTTtnQkFDTCxjQUFjLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDMUIsY0FBYyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7Z0JBQ3pCLGNBQWMsQ0FBQyxPQUFPO29CQUNwQixpREFBaUQsQ0FBQzthQUNyRDtTQUNGO2FBQU07WUFDTCxjQUFjLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUMxQixjQUFjLENBQUMsT0FBTyxHQUFHLDZCQUE2QixDQUFDO1NBQ3hEO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDZixjQUFjLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDbkMsY0FBYyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7S0FDNUI7SUFDRCxPQUFPLGNBQWMsQ0FBQztBQUN4QixDQUFDLENBQUM7QUFDRixNQUFNLHNCQUFzQixHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDdEMsTUFBTSxFQUNKLFFBQVEsRUFDUixNQUFNLEVBQ04sU0FBUyxFQUNULGFBQWEsRUFDYixLQUFLLEVBQ0wsaUJBQWlCLEdBQ2xCLEdBQUcsSUFBSSxDQUFDO0lBQ1QsTUFBTSxnQkFBZ0IsR0FBUSxFQUFFLENBQUM7SUFDakMsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBRXZCLElBQUksU0FBUyxFQUFFO1FBQ2IsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YscUJBQXFCLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7YUFDbkUsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFDbkMsSUFBSSxhQUFhLEVBQUU7UUFDakIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO1lBQ3JDLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YsbUJBQW1CLEVBQUUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7YUFDckUsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFFbkMsSUFBSSxLQUFLLEVBQUU7UUFDVCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDekIsV0FBVyxDQUFDLElBQUksQ0FBQztnQkFDZixTQUFTLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7YUFDdkQsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFFbkMsSUFBSSxpQkFBaUIsRUFBRTtRQUNyQixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO1lBQzdDLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTthQUN0RSxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBRUQsZ0JBQWdCLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQztJQUNuQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM5QixJQUFJLFFBQVEsSUFBSSxNQUFNLEVBQUU7UUFDdEIsV0FBVyxDQUFDLElBQUksQ0FBQztZQUNmLDBCQUEwQixFQUFFO2dCQUMxQixHQUFHLEVBQUUsUUFBUTtnQkFDYixHQUFHLEVBQUUsTUFBTTthQUNaO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsV0FBVyxDQUFDO0lBRW5DLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFDbEUsT0FBTyxnQkFBZ0IsQ0FBQztBQUMxQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwUDZDO0FBQzRCO0FBQy9CO0FBRXJDLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFOztJQUMzRCxJQUFJLDBCQUEwQixDQUFDO0lBQy9CLElBQUk7UUFDRixNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNuQixJQUFJLEdBQUcsQ0FBQztRQUNSLElBQUksV0FBVyxDQUFDO1FBQ2hCLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLFdBQVcsR0FBRyxNQUFNLGdFQUFxQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDMUUsSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDaEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7YUFDNUM7U0FDRjthQUFNLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUM3QixNQUFNLFdBQVcsR0FBRyxNQUFNLHdFQUE2QixDQUFDO2dCQUN0RCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRTthQUNwQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsQ0FBQzthQUNuRDtZQUNELE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxVQUFVLENBQUM7WUFDdEMsV0FBVyxHQUFHLE1BQU0saUVBQXNCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ3pFO1FBRUQsSUFBSSxXQUFXLENBQUMsc0JBQXNCLElBQUksV0FBVyxDQUFDLG1CQUFtQixFQUFFO1lBQ3pFLEdBQUcsR0FBRztnQkFDSixNQUFNLEVBQUUsV0FBVyxDQUFDLHNCQUFzQjtnQkFDMUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxtQkFBbUI7YUFDckMsQ0FBQztZQUNGLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbkI7UUFDRCxJQUNFLFdBQVcsQ0FBQyx1QkFBdUI7WUFDbkMsV0FBVyxDQUFDLG9CQUFvQixFQUNoQztZQUNBLEdBQUcsR0FBRztnQkFDSixNQUFNLEVBQUUsV0FBVyxDQUFDLHVCQUF1QjtnQkFDM0MsR0FBRyxFQUFFLFdBQVcsQ0FBQyxvQkFBb0I7YUFDdEMsQ0FBQztZQUNGLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbkI7UUFDRCxJQUFJLFdBQVcsQ0FBQyxzQkFBc0IsSUFBSSxXQUFXLENBQUMsbUJBQW1CLEVBQUU7WUFDekUsR0FBRyxHQUFHO2dCQUNKLE1BQU0sRUFBRSxXQUFXLENBQUMsc0JBQXNCO2dCQUMxQyxHQUFHLEVBQUUsV0FBVyxDQUFDLG1CQUFtQjthQUNyQyxDQUFDO1lBQ0YsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNuQjtRQUNELElBQ0UsV0FBVyxDQUFDLHVCQUF1QjtZQUNuQyxXQUFXLENBQUMsb0JBQW9CLEVBQ2hDO1lBQ0EsR0FBRyxHQUFHO2dCQUNKLE1BQU0sRUFBRSxXQUFXLENBQUMsdUJBQXVCO2dCQUMzQyxHQUFHLEVBQUUsV0FBVyxDQUFDLG9CQUFvQjthQUN0QyxDQUFDO1lBQ0YsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNuQjtRQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztZQUM3RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLFdBQVcsQ0FBQywyQkFBMkIsQ0FBQyxFQUFFO1NBQy9ELENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFFbkMsTUFBTSxrQkFBa0IsR0FBRztZQUN6QixZQUFZLEVBQUUsV0FBVyxDQUFDLFlBQVk7WUFDdEMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxPQUFPO1lBQzVCLGdCQUFnQixFQUFFLFdBQVcsQ0FBQyxnQkFBZ0I7WUFDOUMsMkJBQTJCLEVBQ3pCLGlCQUFXLENBQUMsMkJBQTJCLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDckQsa0NBQWtDLEVBQ2hDLFdBQVcsQ0FBQyxrQ0FBa0M7WUFDaEQsdUNBQXVDLEVBQ3JDLFdBQVcsQ0FBQyx1Q0FBdUM7WUFDckQsMENBQTBDLEVBQ3hDLGlCQUFXLENBQUMsMENBQTBDLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDcEUsb0NBQW9DLEVBQ2xDLGlCQUFXLENBQUMsb0NBQW9DLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDOUQsbUNBQW1DLEVBQ2pDLGlCQUFXLENBQUMsbUNBQW1DLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDN0QsWUFBWSxFQUFFLE9BQU87WUFDckIsbUJBQW1CLEVBQUUsV0FBVyxDQUFDLG1CQUFtQjtZQUNwRCxPQUFPLEVBQUUsaUJBQVcsQ0FBQyxPQUFPLDBDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUM7WUFDeEMsa0JBQWtCLEVBQUUsV0FBVyxDQUFDLGtCQUFrQjtZQUNsRCxPQUFPLEVBQUUsV0FBVyxDQUFDLE9BQU87WUFDNUIsTUFBTSxFQUFFLGlCQUFXLENBQUMsTUFBTSwwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ3RDLE9BQU8sRUFBRSxpQkFBVyxDQUFDLE9BQU8sMENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUN4QyxrQkFBa0IsRUFBRSxXQUFXLENBQUMsa0JBQWtCO1lBQ2xELGFBQWEsRUFBRSxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUk7WUFDdkQsc0JBQXNCLEVBQUUsaUJBQVcsQ0FBQyxzQkFBc0IsMENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUN0RSxpQkFBaUIsRUFBRSxXQUFXLENBQUMsaUJBQWlCO1lBQ2hELDBCQUEwQixFQUN4QixpQkFBVyxDQUFDLDBCQUEwQiwwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ3BELFVBQVUsRUFBRTtnQkFDVixFQUFFLEVBQUUsZ0JBQWdCLGFBQWhCLGdCQUFnQix1QkFBaEIsZ0JBQWdCLENBQUUsTUFBTTtnQkFDNUIsU0FBUyxFQUFFO29CQUNUO3dCQUNFLFFBQVEsRUFBRSxnQkFBZ0IsYUFBaEIsZ0JBQWdCLHVCQUFoQixnQkFBZ0IsQ0FBRSxPQUFPO3dCQUNuQyxZQUFZLEVBQUUsZ0JBQWdCLGFBQWhCLGdCQUFnQix1QkFBaEIsZ0JBQWdCLENBQUUsV0FBVzt3QkFDM0MsSUFBSSxFQUFFLGdCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLFFBQVE7cUJBQ2pDO2lCQUNGO2FBQ0Y7U0FDRixDQUFDO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sSUFBSSxHQUFHO1lBQ1gsc0JBQXNCLEVBQUUsa0JBQWtCO1NBQzNDLENBQUM7UUFFRiwwQkFBMEIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFDM0UsT0FBTywwQkFBMEIsQ0FBQztLQUNuQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsMEJBQTBCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkUsT0FBTywwQkFBMEIsQ0FBQztLQUNuQztBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNySGlEO0FBQzBCO0FBQ1g7QUFDRjtBQUNFO0FBQ2hCO0FBQ1U7QUFDSTtBQUNKO0FBQ0U7QUFDSztBQUNEO0FBQ3FCO0FBRWhGLE1BQU0sYUFBYSxHQUFHO0lBQzNCLEtBQUssRUFBRTtRQUNMLGtCQUFrQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNsRSwrRUFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM1Qyx3QkFBd0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDeEUsMEZBQXVCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDakQsVUFBVSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUMxRCwrREFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3BDLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDL0QseUVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6QyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEUsZ0ZBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDN0M7SUFDRCxRQUFRLEVBQUU7UUFDUixpQkFBaUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDakUsK0VBQWlCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDM0MsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2pFLDZFQUFnQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzFDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNoRSw2RUFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUMxQyxlQUFlLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQy9ELDJFQUFlLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDekMsa0JBQWtCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2xFLGlGQUFrQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzVDLGNBQWMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDOUQseUVBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN4QyxvQkFBb0IsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDcEUscUdBQW9CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDN0M7SUFDRCxRQUFRLEVBQUUsNkRBQWdCO0NBQzNCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQzVDSyxNQUFNLFlBQVksR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBOEgzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzlINkM7QUFDaUI7QUFFekQsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUMsRUFBRTtJQUNyRSxNQUFNLEVBQUMsZUFBZSxFQUFDLFlBQVksRUFBQyxHQUFHLElBQUksQ0FBQztJQUU1QyxJQUFHO1FBQ0MsTUFBTSxvRUFBeUIsQ0FBQztZQUM1QixJQUFJLEVBQUM7Z0JBQ0QsY0FBYyxFQUFDLFlBQVk7YUFDOUI7WUFDRCxLQUFLLEVBQUM7Z0JBQ0YsSUFBSSxFQUFDLGVBQWU7YUFDdkI7U0FDSixDQUFDO1FBQ0YsdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1FBQzlCLDBFQUEwQixHQUFHLG1EQUFtRDtLQUNuRjtJQUNELE9BQU0sQ0FBQyxFQUFDO1FBQ0osdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1FBQzlCLDBFQUEwQixHQUFHLENBQUMsQ0FBQyxPQUFPO0tBQ3pDO0lBRUQsT0FBTyxrRUFBa0IsQ0FBQztBQUM5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4QjBFO0FBQzVCO0FBQ1M7QUFFakQsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFDbEUsTUFBTSx1QkFBdUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDOUUsSUFBSTtRQUNGLE1BQU0sRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLHNCQUFzQixFQUFFLFVBQVUsRUFBRSxHQUNwRSxJQUFJLENBQUM7UUFFUCxNQUFNLElBQUksR0FBRyxNQUFNLGlGQUFZLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksSUFBSSxFQUFFO1lBQ1IsTUFBTSxXQUFXLEdBQUcsTUFBTSxpRUFBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQyxNQUFNLGNBQWMsR0FBRyxNQUFNLHNFQUEyQixDQUFDO2dCQUN2RCxLQUFLLEVBQUU7b0JBQ0wsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO2lCQUNwQzthQUNGLENBQUMsQ0FBQztZQUNILElBQUksY0FBYyxHQUFRLEVBQUUsQ0FBQztZQUM3QixNQUFNLGVBQWUsR0FBRztnQkFDdEI7b0JBQ0UsSUFBSSxFQUFFLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTtpQkFDdEU7Z0JBQ0QsRUFBRSxTQUFTLEVBQUUsRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO2FBQzFELENBQUM7WUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDN0MsUUFBUSxjQUFjLENBQUMsWUFBWSxFQUFFO2dCQUNuQyxLQUFLLENBQUM7b0JBQ0osY0FBYyxHQUFHO3dCQUNmLGNBQWMsRUFBRSxJQUFJLENBQUMsZ0JBQWdCO3dCQUNyQyxFQUFFLEVBQUUsZUFBZTt3QkFDbkIsR0FBRyxFQUFFLHNCQUFzQixDQUFDLElBQUksQ0FBQztxQkFDbEMsQ0FBQztvQkFDRixNQUFNO2dCQUNSLEtBQUssQ0FBQztvQkFDSixjQUFjLEdBQUc7d0JBQ2YsR0FBRyxFQUFFOzRCQUNILEVBQUUsRUFBRSxpQkFBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssMENBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0NBQ3JDLE9BQU87b0NBQ0wsY0FBYyxFQUFFLElBQUksQ0FBQyxJQUFJO2lDQUMxQixDQUFDOzRCQUNKLENBQUMsQ0FBQzs0QkFDRixHQUFHLEVBQUUsc0JBQXNCLENBQUMsSUFBSSxDQUFDO3lCQUNsQzt3QkFDRCxFQUFFLEVBQUUsZUFBZTtxQkFDcEIsQ0FBQztvQkFDRixNQUFNO2dCQUNSLEtBQUssQ0FBQztvQkFDSixjQUFjLEdBQUc7d0JBQ2YsR0FBRyxFQUFFOzRCQUNILEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0NBQ3JELE9BQU87b0NBQ0wsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLElBQUk7aUNBQ2pDLENBQUM7NEJBQ0osQ0FBQyxDQUFDOzRCQUNGLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7eUJBQ2xDO3dCQUNELEVBQUUsRUFBRSxlQUFlO3FCQUNwQixDQUFDO29CQUNGLE1BQU07Z0JBQ1IsS0FBSyxDQUFDO29CQUNKLGNBQWMsR0FBRzt3QkFDZixHQUFHLEVBQUU7NEJBQ0gsRUFBRSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7Z0NBQ3JDLE9BQU87b0NBQ0wsU0FBUyxFQUFFLElBQUksQ0FBQyxJQUFJO2lDQUNyQixDQUFDOzRCQUNKLENBQUMsQ0FBQzs0QkFDRixHQUFHLEVBQUUsc0JBQXNCLENBQUMsSUFBSSxDQUFDO3lCQUNsQzt3QkFDRCxFQUFFLEVBQUUsZUFBZTtxQkFDcEIsQ0FBQztvQkFDRixNQUFNO2dCQUNSLEtBQUssQ0FBQztvQkFDSixjQUFjLEdBQUc7d0JBQ2YsRUFBRSxFQUFFLGVBQWU7d0JBQ25CLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7cUJBQ2xDLENBQUM7b0JBQ0YsTUFBTTtnQkFDUjtvQkFDRSx1QkFBdUIsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO29CQUNuQyx1QkFBdUIsQ0FBQyxPQUFPLEdBQUcsZ0NBQWdDLENBQUM7b0JBQ25FLE9BQU8sdUJBQXVCLENBQUM7YUFDbEM7WUFFRCxRQUFRLFlBQVksRUFBRTtnQkFDcEIsS0FBSyxDQUFDO29CQUNKLGNBQWMsQ0FBQyxTQUFTLEdBQUcsc0JBQXNCLENBQUM7b0JBQ2xELE1BQU07Z0JBQ1IsS0FBSyxDQUFDO29CQUNKLGNBQWMsQ0FBQyxTQUFTLEdBQUcsY0FBYyxDQUFDO29CQUMxQyxNQUFNO2dCQUNSLEtBQUssQ0FBQztvQkFDSixjQUFjLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQztvQkFDM0MsTUFBTTtnQkFDUixLQUFLLENBQUM7b0JBQ0osY0FBYyxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztvQkFDOUMsTUFBTTtnQkFDUixLQUFLLENBQUM7b0JBQ0osY0FBYyxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7b0JBQ3hDLE1BQU07Z0JBQ1IsS0FBSyxDQUFDO29CQUNKLGNBQWMsQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO29CQUN6QyxNQUFNO2dCQUNSO29CQUNFLE1BQU07YUFDVDtZQUVELE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUN0QixJQUFJLHNCQUFzQixFQUFFO2dCQUMxQixVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLHNCQUFzQixFQUFFLENBQUMsQ0FBQzthQUMxRDtZQUVELElBQUksVUFBVSxFQUFFO2dCQUNkLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQzthQUN2QztZQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQzlELE1BQU0sb0JBQW9CLEdBQUcsTUFBTSxzRUFBMkIsQ0FBQztnQkFDN0QsS0FBSyxFQUFFLGNBQWM7Z0JBQ3JCLE9BQU8sRUFBRSxVQUFVO2FBQ3BCLENBQUMsQ0FBQztZQUVILHVCQUF1QixDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsb0JBQW9CLENBQUMsQ0FBQztZQUN6RCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNoRDthQUFNO1lBQ0wsdUJBQXVCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNuQyx1QkFBdUIsQ0FBQyxPQUFPLEdBQUcsc0JBQXNCLENBQUM7U0FDMUQ7S0FDRjtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsdUJBQXVCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNuQyx1QkFBdUIsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUM1Qyx1QkFBdUIsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0tBQ3JDO0lBQ0QsT0FBTyx1QkFBdUIsQ0FBQztBQUNqQyxDQUFDLENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDdEMsTUFBTSxFQUNKLFFBQVEsRUFDUixNQUFNLEVBQ04sYUFBYSxFQUNiLFVBQVUsRUFDVixpQkFBaUIsRUFDakIsT0FBTyxFQUNQLEtBQUssR0FDTixHQUFHLElBQUksQ0FBQztJQUNULE1BQU0sZ0JBQWdCLEdBQVEsRUFBRSxDQUFDO0lBQ2pDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUV2QixJQUFJLFVBQVUsRUFBRTtRQUNkLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUMvQixXQUFXLENBQUMsSUFBSSxDQUFDO2dCQUNmLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUU7YUFDbkMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFFbkMsSUFBSSxLQUFLLEVBQUU7UUFDVCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDckIsV0FBVyxDQUFDLElBQUksQ0FBQztnQkFDZixjQUFjLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7YUFDeEQsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFFbkMsSUFBSSxhQUFhLEVBQUU7UUFDakIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO1lBQ3JDLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YsbUJBQW1CLEVBQUUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7YUFDckUsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxXQUFXLENBQUM7SUFFbkMsSUFBSSxpQkFBaUIsRUFBRTtRQUNyQixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO1lBQzdDLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YsZ0JBQWdCLEVBQUUsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTthQUN0RSxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBQ0QsZ0JBQWdCLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQztJQUVuQyxJQUFJLE9BQU8sRUFBRTtRQUNYLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUN6QixXQUFXLENBQUMsSUFBSSxDQUFDO2dCQUNmLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTthQUNyRCxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBQ0QsZ0JBQWdCLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQztJQUVuQyxJQUFJLFFBQVEsSUFBSSxNQUFNLEVBQUU7UUFDdEIsV0FBVyxDQUFDLElBQUksQ0FBQztZQUNmLFdBQVcsRUFBRTtnQkFDWCxHQUFHLEVBQUUsUUFBUTtnQkFDYixHQUFHLEVBQUUsTUFBTTthQUNaO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsV0FBVyxDQUFDO0lBRW5DLE9BQU8sZ0JBQWdCLENBQUM7QUFDMUIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvTTZDO0FBQ2lCO0FBQ0Y7QUFFdkQsTUFBTSx5QkFBeUIsR0FBRyxLQUFLLEVBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUNwRSxNQUFNLEVBQUMsYUFBYSxFQUFDLEdBQUcsSUFBSTtJQUU1QixJQUFHO1FBQ0MsTUFBTSx5QkFBeUIsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ2pFLEtBQUssRUFBQztnQkFDRixJQUFJLEVBQUMsYUFBYTthQUNyQjtZQUNELE9BQU8sRUFBQztnQkFDSixZQUFZLEVBQUM7b0JBQ1QsT0FBTyxFQUFFO3dCQUNMLFVBQVUsRUFBRTs0QkFDUixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO3lCQUM1Qjt3QkFDRCxVQUFVLEVBQUU7NEJBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTt5QkFDeEI7d0JBQ0QsdUJBQXVCLEVBQUM7NEJBQ3RCLE9BQU8sRUFBQyxFQUFFLE1BQU0sRUFBQyxJQUFJLEVBQUU7eUJBQ3hCO3FCQUNGO2lCQUNKO2FBQ0o7U0FDSixDQUFDO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUMseUJBQXlCLENBQUMsQ0FBQztRQUMxQyxJQUFHLHlCQUF5QixFQUFDO1lBQ3pCLE1BQU0sVUFBVSxHQUFHLHVFQUFXLENBQUMsMEJBQXlCLGFBQXpCLHlCQUF5Qix1QkFBekIseUJBQXlCLENBQUUsWUFBWSxFQUFDLENBQUMsQ0FBQyxDQUFDLHlCQUF5QixhQUF6Qix5QkFBeUIsdUJBQXpCLHlCQUF5QixDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6SCxJQUFHLFVBQVUsRUFBQztnQkFDVix5QkFBeUIsQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFEO1lBRUQsdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1lBQzlCLHVFQUF1QixHQUFHLHlCQUF5QixDQUFDO1NBQ3ZEO2FBQ0c7WUFDQSx1RUFBdUIsR0FBRyxHQUFHLENBQUM7WUFDOUIsMEVBQTBCLEdBQUcsd0NBQXdDLENBQUM7U0FDekU7S0FDSjtJQUNELE9BQU0sQ0FBQyxFQUFDO1FBQ0osT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLHVFQUF1QixHQUFHLEdBQUc7UUFDN0IsMEVBQTBCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztLQUMxQztJQUNELE9BQU8sa0VBQWtCLENBQUM7QUFDOUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqRGtEO0FBQ2tDO0FBQ25CO0FBQ087QUFFbEUsTUFBTSxtQkFBbUIsR0FBRztJQUNqQyxLQUFLLEVBQUU7UUFDTCxrQkFBa0IsRUFBQyxDQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsK0VBQWtCLENBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLENBQUM7UUFDdEcseUJBQXlCLEVBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLHNGQUF5QixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ3JIO0lBQ0QsUUFBUSxFQUFDO1FBQ1AsMkJBQTJCLEVBQUMsQ0FBQyxNQUFNLEVBQUMsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLGtHQUEyQixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ3hIO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNkSyxNQUFNLGtCQUFrQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBK0VqQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQy9FcUQ7QUFFdkQsTUFBTSxtQkFBb0IsU0FBUSxrRUFBYztJQUM1QztRQUNJLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztJQUN6QyxDQUFDO0lBRUQsS0FBSyxDQUFDLHVCQUF1QixDQUFDLFFBQVE7UUFDdEMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBQztZQUU5QixRQUFRO1NBQ1QsQ0FBQztJQUNGLENBQUM7Q0FDTjtBQUNELGlFQUFlLG1CQUFtQjs7Ozs7Ozs7Ozs7Ozs7O0FDZjNCLE1BQU0sMkJBQTJCLEdBQUc7SUFDdkMsUUFBUSxFQUFDO1FBQ0wsbUJBQW1CLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxFQUFDLEVBQUUsV0FBVyxFQUFFLEVBQUMsRUFBRSxDQUMxRCxXQUFXLENBQUMsbUJBQW1CLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDO0tBQ3BFO0NBRUo7Ozs7Ozs7Ozs7Ozs7OztBQ05NLE1BQU0sMEJBQTBCLEdBQUU7Ozs7Ozs7Ozs7O0NBV3hDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWHFFO0FBRXZFLE1BQU0sY0FBZSxTQUFRLGtFQUFjO0lBQ3pDO1FBQ00sS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBRXpDLENBQUM7SUFDRCxlQUFlLENBQUMsT0FBdUI7UUFDckMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUM5QixDQUFDO0lBRUQsS0FBSyxDQUFDLGtCQUFrQixDQUFDLElBQUk7UUFDM0IsTUFBTSxFQUFDLEdBQUcsRUFBQyxxQkFBcUIsRUFBQyxHQUFHLEVBQUMsYUFBYSxFQUFDLFlBQVksRUFBQyxhQUFhLEVBQUMsc0JBQXNCLEVBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3RILE9BQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUM7WUFFNUIsR0FBRztZQUNILHFCQUFxQjtZQUNyQixHQUFHO1lBQ0gsYUFBYTtZQUNiLFlBQVk7WUFDWixhQUFhO1lBQ2Isc0JBQXNCO1NBQ3hCLENBQ0M7SUFDSCxDQUFDO0NBQ0o7QUFDRCxpRUFBZSxjQUFjOzs7Ozs7Ozs7Ozs7Ozs7O0FDNUJxQjtBQUUzQyxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzVELElBQUksMEJBQTBCLENBQUM7SUFDL0IsSUFBSTtRQUNBLE1BQU0sUUFBUSxHQUFHLE1BQU0sdUVBQTRCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNoRyxNQUFNLFlBQVksR0FBRztZQUNqQixZQUFZLEVBQUUsUUFBUSxDQUFDLFNBQVM7WUFDaEMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxhQUFhO1lBQ3JDLGFBQWEsRUFBRSxRQUFRLENBQUMsYUFBYTtZQUNyQyxHQUFHLEVBQUUsUUFBUSxDQUFDLFNBQVM7WUFDdkIsR0FBRyxFQUFFLFFBQVEsQ0FBQyxLQUFLO1NBQ3RCO1FBQ0QsTUFBTSxPQUFPLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEMsTUFBTSxjQUFjLEdBQUc7WUFDbkIsR0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFHO1lBQ2hCLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTTtZQUN0QixLQUFLLEVBQUUsT0FBTyxDQUFDLEtBQUs7WUFDcEIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO1lBQ2xCLE9BQU8sRUFBRSxPQUFPLENBQUMsT0FBTztTQUMzQjtRQUNELElBQUksZUFBZSxHQUFHLElBQUksQ0FBQztRQUMzQixNQUFNLGdCQUFnQixHQUFHLE1BQU0sd0VBQTZCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxXQUFXLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pILE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUM5QixJQUFJLGdCQUFnQixFQUFFO1lBQ2xCLGVBQWUsR0FBRztnQkFDZCxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsR0FBRztnQkFDekIsTUFBTSxFQUFFLGdCQUFnQixDQUFDLE1BQU07Z0JBQy9CLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQyxLQUFLO2dCQUM3QixJQUFJLEVBQUUsZ0JBQWdCLENBQUMsSUFBSTtnQkFDM0IsT0FBTyxFQUFFLGdCQUFnQixDQUFDLE9BQU87YUFDcEM7U0FDSjtRQUNELDBCQUEwQixHQUFHO1lBQ3pCLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLGVBQWU7U0FDOUg7UUFDRCxPQUFPLDBCQUEwQjtLQUNwQztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osMEJBQTBCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ2xFLE9BQU8sMEJBQTBCO0tBQ3BDO0FBRUwsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0MyQztBQUNvQjtBQUN6RCxNQUFNLHdCQUF3QixHQUFHO0lBQ3BDLFFBQVEsRUFBQztRQUNMLGNBQWMsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFFLElBQUksRUFBQyxFQUFFLFdBQVcsRUFBRyxHQUFHLEVBQUUsRUFBQyxFQUFFLFlBQVcsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsSUFBSSxFQUFDLEdBQUcsQ0FBQztLQUMvRztJQUNELEtBQUssRUFBQztRQUNGLGtCQUFrQixFQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxnRkFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNoSDtJQUNELElBQUksRUFBQyx3REFBVztDQUNuQjs7Ozs7Ozs7Ozs7Ozs7O0FDVk0sTUFBTSxzQkFBc0IsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBMENwQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUNnRDtBQUNvQztBQUMxQztBQUNSO0FBQzBEO0FBQ3ZGLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDbkUsTUFBTSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQ25ELElBQUksVUFBVSxDQUFDO0lBQ2YsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7SUFDM0IsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDO0lBQzlCLE1BQU0sT0FBTyxHQUFHLE1BQU0sMEVBQStCLENBQUM7UUFDcEQsS0FBSyxFQUFFO1lBQ0wsUUFBUSxFQUFFLFFBQVE7WUFDbEIsUUFBUSxFQUFFLFFBQVE7WUFDbEIsU0FBUyxFQUFFLGFBQWE7U0FDekI7S0FDRixDQUFDLENBQUM7SUFDSCxJQUFJLE9BQU8sRUFBRTtRQUNYLE9BQU87WUFDTCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSwyQkFBMkI7WUFDcEMsSUFBSSxFQUFFLE9BQU87U0FDZDtLQUNGO1NBQU07UUFDTCxNQUFNLE9BQU8sR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ2pELEtBQUssRUFBRTtnQkFDTCxTQUFTLEVBQUUsUUFBUTthQUNwQjtTQUNGLENBQUMsQ0FBQztRQUNILE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxzQkFBc0IsQ0FBQyxRQUFRLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQztRQUM5RixVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLHVCQUF1QixHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQy9ELE1BQU0sZUFBZSxHQUFHLElBQUkseUZBQWtCLEVBQUUsQ0FBQztRQUNqRCxlQUFlLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBQztRQUMxQyxlQUFlLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNwQyxlQUFlLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUNwQyxlQUFlLENBQUMsbUJBQW1CLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1FBQ2hFLGVBQWUsQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUM7UUFDbEUsZUFBZSxDQUFDLHdCQUF3QixHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQztRQUM1RSxlQUFlLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUN4QyxlQUFlLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7UUFDcEQsZUFBZSxDQUFDLE1BQU0sR0FBRyxhQUFhLENBQUM7UUFFdkMsTUFBTSxRQUFRLEdBQUcsTUFBTSxrQkFBa0IsRUFBRSxDQUFDO1FBQzVDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUM7UUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3QixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRywyQkFBMkIsQ0FBQztRQUNsRSxNQUFNLGFBQWEsR0FBRyxNQUFNLHNEQUNyQixDQUFDLEdBQUcsQ0FBQzthQUNULElBQUksQ0FBQyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsQ0FBQzthQUN0QyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDO2FBQ3ZDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDO1FBRWxDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQ3pDLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUN0QyxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsb0NBQW9DLENBQUMsQ0FBQztTQUNoRTtRQUNELE9BQU87WUFDTCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSx1Q0FBdUM7WUFDaEQsSUFBSSxFQUFFLHVCQUF1QjtTQUM5QjtLQUNGO0FBQ0gsQ0FBQztBQUNELE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDcEUsSUFBSSxXQUFtQixDQUFDO0lBQ3hCLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSxLQUFLLHdGQUEyQixFQUFFO1FBQzFELFdBQVcsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUM7UUFDMUMsSUFBSSxvQkFBNEIsQ0FBQztRQUNqQyxJQUFJLFNBQVMsS0FBSyxLQUFLLEVBQUU7WUFDdkIsb0JBQW9CLEdBQUcsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ2pEO2FBQU0sSUFBSSxTQUFTLEtBQUssS0FBSyxFQUFFO1lBQzlCLG9CQUFvQixHQUFHLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUNqRDthQUFNLElBQUksU0FBUyxLQUFLLEtBQUssRUFBRTtZQUM5QixvQkFBb0IsR0FBRyxXQUFXLENBQUM7U0FDcEM7YUFBTTtZQUNMLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsTUFBTSxhQUFhLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDcEUsT0FBTyxvQkFBb0IsR0FBRyxhQUFhLENBQUM7S0FDN0M7U0FBTSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUUsS0FBSyw2RkFBZ0MsRUFBRTtRQUN0RSxXQUFXLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDO1FBQy9DLElBQUksb0JBQTRCLENBQUM7UUFDakMsSUFBSSxTQUFTLEtBQUssS0FBSyxFQUFFO1lBQ3ZCLG9CQUFvQixHQUFHLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUNqRDthQUFNLElBQUksU0FBUyxLQUFLLEtBQUssRUFBRTtZQUM5QixvQkFBb0IsR0FBRyxXQUFXLENBQUM7U0FDcEM7YUFBTTtZQUNMLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDO1NBQzlEO1FBQ0QsTUFBTSxhQUFhLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDcEUsT0FBTyxvQkFBb0IsR0FBRyxhQUFhLENBQUM7S0FDN0M7U0FBTTtRQUNMLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO0tBQ3ZEO0FBQ0gsQ0FBQztBQUNELE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN2RCxJQUFJLGFBQWEsR0FBRyxDQUFDLENBQUM7SUFDdEIsTUFBTSxRQUFRLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQztRQUNwRCxLQUFLLEVBQUU7WUFDTCxRQUFRLEVBQUUsUUFBUTtZQUNsQixRQUFRLEVBQUUsT0FBTyxDQUFDLFNBQVM7U0FDNUI7S0FDRixDQUFDLENBQUM7SUFDSCxJQUFJLFFBQVEsRUFBRTtRQUNaLEtBQUssTUFBTSxPQUFPLElBQUksUUFBUSxFQUFFO1lBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckIsYUFBYSxHQUFHLGFBQWEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO1NBQ3ZEO0tBQ0Y7SUFDRCxPQUFPLGFBQWEsQ0FBQztBQUV2QixDQUFDO0FBRUQsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLElBQUksRUFBRTtJQUNwQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxjQUFjO0lBQ3pELE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEIsTUFBTSxPQUFPLEdBQUc7UUFDZCxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVO0tBQ2pDO0lBQ0QsSUFBSTtRQUNGLE1BQU0sR0FBRyxHQUFHLE1BQU0sc0RBQ1gsQ0FBQyxRQUFRLENBQUM7YUFDZCxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDO2FBQ3ZDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNqQixPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUM7S0FDakI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQ2xCLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BJc0U7QUFFdkUsTUFBTSxzQkFBdUIsU0FBUSxrRUFBYztJQUMvQztRQUNJLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztJQUMzQyxDQUFDO0lBQ0QsZUFBZSxDQUFDLE9BQXVCO1FBQ25DLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBQ0QsS0FBSyxDQUFDLDBCQUEwQixDQUFDLElBQUk7UUFDckMsTUFBTSxFQUFDLFdBQVcsRUFBQyxHQUFHLElBQUksQ0FBQztRQUMzQixNQUFNLEVBQUMsU0FBUyxFQUFDLG1CQUFtQixFQUFDLFFBQVEsRUFBQyxRQUFRLEVBQUMsbUJBQW1CLEVBQUMsd0JBQXdCLEVBQUMsVUFBVSxFQUFDLGdCQUFnQixFQUFDLE1BQU0sRUFBQyxHQUFHLFdBQVcsQ0FBQztRQUN0SixPQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLEVBQUM7WUFFMUMsV0FBVyxFQUFDO2dCQUNSLFNBQVM7Z0JBQ1QsbUJBQW1CO2dCQUNuQixRQUFRO2dCQUNSLFFBQVE7Z0JBQ1IsbUJBQW1CO2dCQUNuQix3QkFBd0I7Z0JBQ3hCLFVBQVU7Z0JBQ1YsZ0JBQWdCO2dCQUNoQixNQUFNO2FBRVQ7U0FDSixDQUNFO0lBQ0gsQ0FBQztDQUNKO0FBQ0QsaUVBQWUsc0JBQXNCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9CYTtBQUNOO0FBQ2xCO0FBQ1U7QUFDK0c7QUFHNUksTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUVsRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDdEQsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakYsSUFBSSxPQUFPLENBQUMsVUFBVSxLQUFLLElBQUksRUFBRTtRQUMvQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0NBQWdDLENBQUMsQ0FBQztLQUM1RDtTQUFNO1FBQ0wsTUFBTSxTQUFTLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDN0YsTUFBTSxRQUFRLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ25HLE1BQU0sT0FBTyxHQUFHLE1BQU0sd0VBQTZCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNwRyxNQUFNLGdCQUFnQixHQUFHLElBQUksNkZBQVksRUFBRSxDQUFDO1FBQzVDLGdCQUFnQixDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQzNDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3pDLGdCQUFnQixDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3JDLGdCQUFnQixDQUFDLGVBQWUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQy9DLGdCQUFnQixDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQy9DLE1BQU0saUJBQWlCLEdBQUcsSUFBSSw2RkFBWSxFQUFFLENBQUM7UUFDN0MsaUJBQWlCLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDNUMsaUJBQWlCLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDMUMsaUJBQWlCLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDdEMsaUJBQWlCLENBQUMsZUFBZSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDaEQsaUJBQWlCLENBQUMsYUFBYSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFFaEQsTUFBTSw4QkFBOEIsR0FBRyxJQUFJLDJGQUErQixFQUFFLENBQUM7UUFFN0UsSUFBSSxTQUFTLENBQUMsWUFBWSxLQUFLLElBQUksRUFBRTtZQUNuQyw4QkFBOEIsQ0FBQyxXQUFXLEdBQUcsR0FBRyxTQUFTLENBQUMsWUFBWSwyQkFBMkIsQ0FBQztTQUNuRzthQUFNLElBQUksU0FBUyxDQUFDLFlBQVksS0FBSyxNQUFNLEVBQUU7WUFDNUMsOEJBQThCLENBQUMsV0FBVyxHQUFHLGVBQWUsQ0FBQztTQUM5RDthQUFNO1lBQ0wsOEJBQThCLENBQUMsV0FBVyxHQUFHLEdBQUcsU0FBUyxDQUFDLFlBQVksa0JBQWtCLENBQUM7U0FDMUY7UUFDRCw4QkFBOEIsQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNqRSw4QkFBOEIsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RSw4QkFBOEIsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RSw4QkFBOEIsQ0FBQyx1QkFBdUIsR0FBRyxpQkFBaUIsQ0FBQztRQUMzRSxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDL0IsOEJBQThCLENBQUMsc0JBQXNCLEdBQUcsZ0JBQWdCLENBQUM7UUFDekUsOEJBQThCLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDN0QsOEJBQThCLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7UUFDakUsOEJBQThCLENBQUMsYUFBYSxHQUFHLEdBQUcsT0FBTyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQzFFLDhCQUE4QixDQUFDLFdBQVcsR0FBRyxrQkFBa0IsQ0FBQztRQUNoRSxJQUFJLFNBQVMsQ0FBQyxZQUFZLEtBQUssSUFBSSxFQUFFO1lBQ25DLDhCQUE4QixDQUFDLFdBQVcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxZQUFZLDJCQUEyQixDQUFDO1NBQ25HO2FBQU0sSUFBSSxTQUFTLENBQUMsWUFBWSxLQUFLLE1BQU0sRUFBRTtZQUM1Qyw4QkFBOEIsQ0FBQyxXQUFXLEdBQUcsZUFBZSxDQUFDO1NBQzlEO2FBQU07WUFDTCw4QkFBOEIsQ0FBQyxXQUFXLEdBQUcsR0FBRyxTQUFTLENBQUMsWUFBWSxrQkFBa0IsQ0FBQztTQUMxRjtRQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxnRkFBcUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDO1FBQ3pILDhCQUE4QixDQUFDLGFBQWEsR0FBRyxvQkFBb0IsQ0FBQztRQUNwRSw4QkFBOEIsQ0FBQyxXQUFXLEdBQUcsNENBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFDekUsOEJBQThCLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0UsOEJBQThCLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDeEUsOEJBQThCLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO1FBQ3hFLDhCQUE4QixDQUFDLG1CQUFtQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDakYsSUFBSSxTQUFTLENBQUMsYUFBYSxFQUFFO1lBQzNCLDhCQUE4QixDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDO1NBQ3hFO1FBQ0QsOEJBQThCLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUN0RCw4QkFBOEIsQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQ3pELE9BQU8sQ0FBQyxZQUFZLENBQ3JCLENBQUM7UUFDRiw4QkFBOEIsQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQ3ZELE9BQU8sQ0FBQyxVQUFVLENBQ25CLENBQUM7UUFDRiw4QkFBOEIsQ0FBQyx3QkFBd0IsR0FBRyxNQUFNLENBQzlELE9BQU8sQ0FBQyxnQkFBZ0IsQ0FDekIsQ0FBQztRQUNGLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckMsTUFBTSxRQUFRLEdBQUcsSUFBSSxtR0FBa0IsRUFBRSxDQUFDO1lBQzFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNoRCxRQUFRLENBQUMsV0FBVyxHQUFHLG1CQUFtQixDQUFDO1lBQzNDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQ3RCLDhCQUE4QixDQUFDLGFBQWEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzNEO1FBRUQsSUFBSSxZQUFZLEVBQUU7WUFDaEIsOEJBQThCLENBQUMsV0FBVyxHQUFHLG9CQUFvQixDQUFDO1lBQ2xFLDhCQUE4QixDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDO1lBQ3ZFLDhCQUE4QixDQUFDLFdBQVcsR0FBRyw0Q0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDaEc7UUFFRCw4QkFBOEIsQ0FBQyxrQkFBa0IsR0FBRyxXQUFXLENBQUM7UUFDaEUsTUFBTSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsaUJBQWlCLENBQUM7UUFDeEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixNQUFNLE9BQU8sR0FBRyxNQUFNLHNEQUNmLENBQUMsR0FBRyxDQUFDO2FBQ1QsSUFBSSxDQUFDLEVBQUUsV0FBVyxFQUFFLDhCQUE4QixFQUFFLENBQUM7YUFDckQsR0FBRyxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQ1QsdURBQXVELEVBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUM3QixDQUFDO1FBQ0YsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7WUFDbkMsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDaEQ7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQzlCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxvQ0FBb0MsQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsTUFBTSxvQkFBb0IsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7UUFFdkQsSUFBSSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7UUFDMUIsSUFBSSxvQkFBb0IsQ0FBQywyQkFBMkIsRUFBRTtZQUNwRCxvQkFBb0IsQ0FBQywyQkFBMkIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDbkUsaUJBQWlCLEdBQUcsaUJBQWlCLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztZQUM5RCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLDRFQUFpQyxDQUFDO1lBQy9ELElBQUksRUFBRTtnQkFDSixpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsVUFBVTtnQkFDakUsYUFBYSxFQUFFLG9CQUFvQixDQUFDLGFBQWE7Z0JBQ2pELGtCQUFrQixFQUFFLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxXQUFXLEdBQUcsaUJBQWlCO2dCQUN2RixxQkFBcUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsYUFBYTtnQkFDeEUsd0JBQXdCLEVBQUUsb0JBQW9CLENBQUMsY0FBYyxDQUFDLElBQUk7Z0JBQ2xFLHlCQUF5QixFQUFFLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxJQUFJO2dCQUNuRSx5QkFBeUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsSUFBSTtnQkFDbkUsV0FBVyxFQUFFLG9CQUFvQixDQUFDLFdBQVc7Z0JBQzdDLFVBQVUsRUFBRSxvQkFBb0IsQ0FBQyxVQUFVO2dCQUMzQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVc7Z0JBQ2xELGFBQWEsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYTtnQkFDdEQsV0FBVyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXO2dCQUNsRCxTQUFTLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7YUFDL0M7WUFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO1NBQzNCLENBQUMsQ0FBQztRQUVILE9BQU87WUFDTCxJQUFJLEVBQUUsZ0JBQWdCO1lBQ3RCLE9BQU8sRUFBRSxTQUFTO1lBQ2xCLElBQUksRUFBRSxHQUFHO1NBQ1Y7S0FDRjtBQUVILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlJaUQ7QUFDTjtBQUMrRztBQUN2SDtBQUU3QixNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ2hFLE1BQU0sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDcEUsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUNqRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFO0tBQ3pCLENBQUMsQ0FBQztJQUNILElBQUksT0FBTyxDQUFDLFVBQVUsS0FBSyxJQUFJLEVBQUU7UUFDL0IsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGdDQUFnQyxDQUFDLENBQUM7S0FDNUQ7SUFDRCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ3RDLE1BQU0sUUFBUSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7UUFDbEQsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtLQUNsQyxDQUFDO0lBQ0YsTUFBTSxTQUFTLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQztRQUMzRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO0tBQzNCLENBQUMsQ0FBQztJQUNILE1BQU0sVUFBVSxHQUFHLE1BQU0sd0VBQTZCLENBQUM7UUFDckQsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtLQUNsQyxDQUFDLENBQUM7SUFDSCxNQUFNLCtCQUErQixHQUFHLElBQUkseUhBQXFDLEVBQUUsQ0FBQztJQUNwRiwrQkFBK0IsQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQztJQUN4RSwrQkFBK0IsQ0FBQyx1QkFBdUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDO0lBQ2xGLE1BQU0sY0FBYyxHQUFHLElBQUksZ0dBQVksRUFBRSxDQUFDO0lBQzFDLGNBQWMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUM1QyxjQUFjLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDMUMsY0FBYyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0lBQ3RDLGNBQWMsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUNoRCxjQUFjLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUM7SUFDaEQsK0JBQStCLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7SUFDL0QsK0JBQStCLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDdkUsK0JBQStCLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDdkUsK0JBQStCLENBQUMsc0JBQXNCLEdBQUcsY0FBYyxDQUFDO0lBQ3hFLCtCQUErQixDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQzlELCtCQUErQixDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQ2xFLCtCQUErQixDQUFDLGFBQWEsR0FBRyxHQUFHLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUMzRSwrQkFBK0IsQ0FBQyxXQUFXLEdBQUcsY0FBYyxDQUFDO0lBQzdELElBQUksV0FBVyxDQUFDO0lBQ2hCLElBQUksU0FBUyxDQUFDLFlBQVksS0FBSyxJQUFJLEVBQUU7UUFDbkMsV0FBVyxHQUFHLEdBQUcsU0FBUyxDQUFDLFlBQVksMkJBQTJCLENBQUM7S0FDcEU7U0FBTSxJQUFJLFNBQVMsQ0FBQyxZQUFZLEtBQUssTUFBTSxFQUFFO1FBQzVDLFdBQVcsR0FBRyxlQUFlLENBQUM7S0FDL0I7U0FBTTtRQUNMLFdBQVcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxZQUFZLGtCQUFrQixDQUFDO0tBQzNEO0lBQ0QsK0JBQStCLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUMxRCwrQkFBK0IsQ0FBQyxhQUFhLEdBQUcsb0JBQW9CLENBQUM7SUFDckUsK0JBQStCLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUMxRCwrQkFBK0IsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ2pGLCtCQUErQixDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDL0QsK0JBQStCLENBQUMsbUJBQW1CO1FBQ2pELE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sZUFBZSxHQUFHLFNBQVMsQ0FBQyxNQUFNO0lBQ3hDLCtCQUErQixDQUFDLGFBQWEsR0FBRyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN0RiwrQkFBK0IsQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMxRSwrQkFBK0IsQ0FBQyxTQUFTO1FBQ3ZDLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZELE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLHNDQUFzQyxDQUFDO0lBQzdFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDckQsTUFBTSxPQUFPLEdBQUcsTUFBTSxzREFDZixDQUFDLEdBQUcsQ0FBQztTQUNULElBQUksQ0FBQywrQkFBK0IsQ0FBQztTQUNyQyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7SUFDM0MsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7UUFDbkMsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDaEQ7SUFDRCxNQUFNLG9CQUFvQixHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQy9DLE1BQU0sV0FBVyxHQUFHLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUM7SUFDcEUsTUFBTSxrQkFBa0IsR0FBVyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7UUFDbkYsTUFBTSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNsQyxJQUFJLFNBQVMsQ0FBQztJQUNkLElBQUksTUFBTSxDQUFDO0lBQ1gsSUFBSSxrQkFBa0IsR0FBRyxDQUFDLEVBQUU7UUFDMUIsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUNsQixNQUFNLEdBQUcsZ0JBQWdCLENBQUM7S0FDM0I7U0FBTTtRQUNMLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDakIsTUFBTSxHQUFHLE1BQU0sQ0FBQztLQUNqQjtJQUNELElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDdEMsTUFBTSxHQUFHLFNBQVMsQ0FBQztLQUNwQjtJQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSw0RUFBaUMsQ0FBQztRQUMvRCxJQUFJLEVBQUU7WUFDSixpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsVUFBVTtZQUNqRSxrQkFBa0IsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsV0FBVztZQUNuRSxxQkFBcUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsYUFBYTtZQUN4RSx3QkFBd0IsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsSUFBSTtZQUNsRSx5QkFBeUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsSUFBSTtZQUNuRSx5QkFBeUIsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsSUFBSTtZQUNuRSxXQUFXLEVBQUUsb0JBQW9CLENBQUMsV0FBVztZQUM3QyxrQkFBa0IsRUFBRSxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsV0FBVztZQUNuRSxTQUFTLEVBQUUsa0JBQWtCO1lBQzdCLFNBQVMsRUFBRSxTQUFTO1lBQ3BCLE1BQU0sRUFBRSxNQUFNO1NBQ2Y7UUFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO0tBQzNCLENBQUMsQ0FBQztJQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5QixPQUFPO1FBQ0wsSUFBSSxFQUFFLGdCQUFnQjtRQUN0QixPQUFPLEVBQUUsU0FBUztLQUNuQjtBQUNILENBQUM7QUFDRCxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxlQUFlLEVBQUUsRUFBRTtJQUNyRCxJQUFJLE1BQU0sQ0FBQztJQUNYLFFBQVEsZUFBZSxFQUFFO1FBQ3ZCLEtBQUssMEdBQXNCO1lBQ3pCLE1BQU0sR0FBRyxNQUFNLENBQUM7WUFDaEIsTUFBTTtRQUNSLEtBQUsscUhBQWlDO1lBQ3BDLE1BQU0sR0FBRyxnQkFBZ0IsQ0FBQztZQUMxQixNQUFNO1FBQ1IsS0FBSyw2R0FBeUI7WUFDNUIsTUFBTSxHQUFHLFNBQVMsQ0FBQztZQUNuQixNQUFNO0tBQ1Q7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7O0FDekhpRDtBQUUzQyxNQUFNLGlCQUFpQixHQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzFELElBQUksa0JBQWtCLENBQUM7SUFDdkIsSUFBRztRQUNDLE1BQU0sRUFBRSxHQUFHLE1BQU0seUVBQThCLENBQUMsRUFBQyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFDLENBQUMsQ0FBQztRQUNoRixrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDO1FBQzdELE9BQU8sa0JBQWtCO0tBQzVCO0lBQUEsT0FBTyxLQUFLLEVBQUU7UUFDWCxrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDMUQsT0FBTyxrQkFBa0I7S0FDMUI7QUFDUCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNaaUQ7QUFDMkI7QUFDSjtBQUNaO0FBQ1E7QUFHOUQsTUFBTSxlQUFlLEdBQUc7SUFDM0IsUUFBUSxFQUFDO1FBQ04sc0JBQXNCLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxLQUFnQixFQUFDLE9BQU8sRUFBQyxFQUFFLENBQUMsd0ZBQXNCLENBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLENBQUM7UUFDNUcsc0JBQXNCLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLEVBQUMsRUFBRSxZQUFXLENBQUMsc0JBQXNCLENBQUMsMEJBQTBCLENBQUMsSUFBSSxFQUFDLEdBQUcsQ0FBQztRQUNsSSx1QkFBdUIsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLEtBQWdCLEVBQUMsT0FBTyxFQUFFLEVBQUUsMkZBQXVCLENBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLENBQUM7UUFDOUcsb0JBQW9CLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxLQUFnQixFQUFDLE9BQU8sRUFBRSxFQUFFLHFGQUFvQixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQzFHO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsaUJBQWlCLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLDhFQUFpQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQzdHO0lBQ0YsUUFBUSxFQUFFLDZEQUFnQjtDQUU3Qjs7Ozs7Ozs7Ozs7Ozs7O0FDbkJNLE1BQU0sY0FBYyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FxRTdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JFaUQ7QUFDTjtBQUNrQztBQUlIO0FBQ3ZDO0FBQ1I7QUFDaUY7QUFJdEU7QUFFaEMsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNsRSxJQUFJLGFBQWEsQ0FBQztJQUNsQixNQUFNLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQ2hILElBQUksaUNBQWlDLENBQUM7SUFDdEMsTUFBTSxlQUFlLEdBQUcsTUFBTSw4RUFBbUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsRUFBRSxDQUFDO0lBQzlHLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDN0IsSUFBSSxDQUFDLGVBQWUsRUFBRTtRQUNwQixJQUNFLGFBQWEsS0FBSyxpRkFBb0I7WUFDdEMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLE1BQU0sRUFDaEM7WUFDQSxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsb0RBQW9ELENBQ3JELENBQUM7U0FDSDtRQUNELE1BQU0sT0FBTyxHQUFHLE1BQU0sdUVBQTRCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQztRQUN2RixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNoQyxNQUFNLFNBQVMsR0FBRyxNQUFNLCtFQUFvQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUM3RixNQUFNLHdCQUF3QixHQUFHLElBQUksZ0hBQTRCLEVBQUUsQ0FBQztRQUNwRSxJQUFJLFVBQVUsRUFBRTtZQUNkLE1BQU0sY0FBYyxHQUFHO2dCQUNyQixHQUFHLEVBQUUsVUFBVSxDQUFDLFFBQVE7Z0JBQ3hCLFdBQVcsRUFBRSxVQUFVLENBQUMsV0FBVztnQkFDbkMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxVQUFVO2FBQzlCLENBQUM7WUFDRixNQUFNLE9BQU8sR0FBRyxNQUFNLHdGQUFjLENBQUMsY0FBYyxDQUFDO1lBQ3BELHdCQUF3QixDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDbEUsd0JBQXdCLENBQUMsMkJBQTJCLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztTQUNwRTtRQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDbEQsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEVBQUU7U0FDMUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0QixJQUNFLGFBQWEsS0FBSyxpRkFBb0I7WUFDdEMsYUFBYSxLQUFLLGlGQUFvQjtZQUN0QyxhQUFhLEtBQUssaUZBQW9CO1lBQ3RDLGFBQWEsS0FBSyxtRkFBc0IsRUFDeEM7WUFDQSxNQUFNLHFCQUFxQixHQUMzQjtnQkFDRSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVE7Z0JBQzVCLGNBQWMsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhO2FBQzFFLENBQUM7WUFDRixNQUFNLGtCQUFrQixHQUFHLE1BQU0sa0NBQWtDLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUMzRixNQUFNLDRFQUFpQyxDQUFDO2dCQUN0QyxJQUFJLEVBQUU7b0JBQ0osV0FBVyxFQUFFLGtCQUFrQjtpQkFDaEM7Z0JBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRTthQUMzQixDQUFDLENBQUM7U0FFSjtRQUNELElBQUksdUJBQXVCLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sc0JBQXNCLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDckYsSUFBSSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFDakUsdUJBQXVCLEdBQUcsc0JBQXNCLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3hGLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztTQUNqRTtRQUNELE1BQU0sNEVBQWlDLENBQUM7WUFDdEMsSUFBSSxFQUFFO2dCQUNKLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDO2FBQy9DO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRTtTQUMzQixDQUFDLENBQUM7UUFDSCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsR0FBRyxzQkFBc0IsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3pILE1BQU0sNEVBQWlDLENBQUM7WUFDdEMsSUFBSSxFQUFFO2dCQUNKLFNBQVMsRUFBRSxnQkFBZ0I7YUFDNUI7WUFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO1NBQzNCLENBQUMsQ0FBQztRQUNILElBQUksZ0JBQWdCLElBQUksQ0FBQyxFQUFFO1lBQ3pCLE1BQU0sNEVBQWlDLENBQUM7Z0JBQ3RDLElBQUksRUFBRTtvQkFDSixjQUFjLEVBQUUsU0FBUyxDQUFDLGFBQWE7b0JBQ3ZDLFNBQVMsRUFBRSxJQUFJO29CQUNmLE1BQU0sRUFBRSwwR0FBc0I7aUJBQy9CO2dCQUNELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUU7YUFDM0IsQ0FBQyxDQUFDO1NBQ0o7YUFBTTtZQUNMLE1BQU0sNEVBQWlDLENBQUM7Z0JBQ3RDLElBQUksRUFBRTtvQkFDSixNQUFNLEVBQUUscUhBQWlDO2lCQUMxQztnQkFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO2FBQzNCLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQzNELE1BQU0sa0JBQWtCLEdBQUcsSUFBSSw2R0FBeUIsRUFBRSxDQUFDO1FBQzNELE1BQU0sRUFBRSxHQUFHLHVEQUFjLEVBQUUsQ0FBQztRQUM1QixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDckIsTUFBTSxJQUFJLEdBQUcsTUFBTSw4RUFBbUMsQ0FBQztZQUNyRCxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFO1NBQ3hDLENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEIsTUFBTSxHQUFHLEdBQUcsTUFBTSwyRUFBZ0MsQ0FBQztZQUNqRCxJQUFJLEVBQUU7Z0JBQ0osV0FBVyxFQUFFLFNBQVMsQ0FBQyxZQUFZO2dCQUNuQyxjQUFjLEVBQUUsY0FBYztnQkFDOUIsbUJBQW1CLEVBQUUsWUFBWTtnQkFDakMsU0FBUyxFQUFFLE1BQU0sR0FBRyxTQUFTO2dCQUM3QixtQkFBbUIsRUFBRSxXQUFXO2dCQUNoQyxTQUFTLEVBQUUsU0FBUztnQkFDcEIsUUFBUSxFQUFFLFNBQVM7YUFDcEI7WUFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtTQUN2QixDQUFDLENBQUM7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsSUFBSSxFQUFFO2dCQUNKLG9CQUFvQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDL0Ysa0JBQWtCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDLENBQUM7YUFFcEg7WUFDRCxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFO1NBQ2hDLENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsOENBQThDLENBQUMsQ0FBQztRQUU1RCxPQUFPLENBQUMsR0FBRyxDQUFDLHFEQUFxRCxDQUFDLENBQUM7UUFDbkUsSUFBSSx1QkFBdUIsR0FBRyxDQUFDLEVBQUU7WUFDL0IsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNsRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3hDLElBQUksZUFBZSxDQUFDO1lBQ3BCLElBQUksT0FBTyxDQUFDLG9CQUFvQixFQUFFO2dCQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNsQixPQUFPLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUNqQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsS0FBSyxrQkFBa0IsQ0FDekMsQ0FBQzthQUNIO2lCQUFNO2dCQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3BCLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNqSCxJQUFJLHVCQUF1QixJQUFJLHVCQUF1QixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ2pFLHVCQUF1QixDQUFDLE1BQU0sQ0FDNUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLEtBQUssa0JBQWtCLENBQ3pDO2lCQUNGO3FCQUFNO29CQUNMLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSw4Q0FBOEMsQ0FBQztpQkFDekU7Z0JBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsZUFBZSxDQUFDO2dCQUNwQyxJQUFJLGVBQWUsRUFBRTtvQkFDbkIsTUFBTSxhQUFhLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUMzRyxNQUFNLG9CQUFvQixHQUFHLElBQUksK0dBQTJCLEVBQUUsQ0FBQztvQkFDL0QsTUFBTSw0RUFBaUMsQ0FBQzt3QkFDdEMsSUFBSSxFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxFQUFFO3dCQUMxRyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtxQkFDckMsQ0FBQyxDQUFDO29CQUNILE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLGtCQUFrQjt3QkFDM0QsYUFBYSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUM1RSxDQUFDO29CQUNGLE1BQU0sNEVBQWlDLENBQUM7d0JBQ3RDLElBQUksRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7d0JBQzlCLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO3FCQUNyQyxDQUFDLENBQUM7b0JBQ0gsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFO3dCQUNqQixNQUFNLDRFQUFpQyxDQUFDOzRCQUN0QyxJQUFJLEVBQUU7Z0NBQ0osTUFBTSxFQUFFLHFIQUFpQztnQ0FDekMsU0FBUyxFQUFFLEtBQUs7Z0NBQ2hCLGNBQWMsRUFBRSxDQUFDOzZCQUNsQjs0QkFDRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTt5QkFDckMsQ0FBQyxDQUFDO3FCQUNKO3lCQUFNO3dCQUNMLE1BQU0sNEVBQWlDLENBQUM7NEJBQ3RDLElBQUksRUFBRTtnQ0FDSixNQUFNLEVBQUUsMEdBQXNCO2dDQUM5QixTQUFTLEVBQUUsSUFBSTtnQ0FDZixjQUFjLEVBQUUsYUFBYSxDQUFDLFVBQVU7NkJBQ3pDOzRCQUNELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO3lCQUNyQyxDQUFDLENBQUM7cUJBQ0o7aUJBQ0Y7YUFDRjtTQUNGO1FBQ0QsTUFBTSxpQ0FBaUMsQ0FBQyxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQztRQUM5RSxpQ0FBaUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ2hGLE9BQU8saUNBQWlDLENBQUM7S0FDMUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxrQ0FBa0MsR0FBRyxLQUFLLEVBQUUscUJBQXFCLEVBQUUsRUFBRTtJQUN6RSxNQUFNLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQ2xDLGNBQWMsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxhQUFhLEVBQUUsR0FBRyxxQkFBcUI7SUFDckcsSUFBSTtRQUNGLE1BQU0saUJBQWlCLEdBQUcsSUFBSSw2R0FBeUIsRUFBRSxDQUFDO1FBQzFELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQy9CLGlCQUFpQixDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2hELGlCQUFpQixDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3BELGlCQUFpQixDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFDO1FBQzFELGlCQUFpQixDQUFDLFNBQVM7WUFDekIsU0FBUyxDQUFDLFlBQVksR0FBRyxLQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLFlBQVksMkJBQTJCLENBQUMsQ0FBQyxDQUFDLENBQTJDLENBQUM7UUFDckksaUJBQWlCLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN0RCxpQkFBaUIsQ0FBQyxtQkFBbUIsR0FBRyxZQUFZLENBQUM7UUFDckQsaUJBQWlCLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNoRCxRQUFRLGFBQWEsRUFBRTtZQUNyQixLQUFLLGlGQUFvQjtnQkFDdkIsaUJBQWlCLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztnQkFDdkMsTUFBTTtZQUNSLEtBQUssbUZBQXNCO2dCQUN6QixpQkFBaUIsQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDO2dCQUN6QyxNQUFNO1lBQ1IsS0FBSyxpRkFBb0I7Z0JBQ3ZCLGlCQUFpQixDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUM7Z0JBQ3ZDLE1BQU07WUFDUixLQUFLLGlGQUFvQjtnQkFDdkIsaUJBQWlCLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztnQkFDdkMsTUFBTTtZQUNSLEtBQUssbUZBQXNCO2dCQUN6QixpQkFBaUIsQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDO2dCQUN6QyxNQUFNO1NBQ1Q7UUFDRCxpQkFBaUIsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN6RCxpQkFBaUIsQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUNwRCxpQkFBaUIsQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUM3QyxpQkFBaUIsQ0FBQyxRQUFRLEdBQUcsSUFBSTtRQUNqQyxJQUFJLGFBQWEsRUFBRTtZQUNqQixpQkFBaUIsQ0FBQyxjQUFjLEdBQUcsYUFBYSxDQUFDO1NBQ2xEO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMxQyxPQUFPLENBQUMsR0FBRyxDQUNULDJEQUEyRCxFQUMzRCxpQkFBaUIsQ0FDbEIsQ0FBQztRQUNGLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLHNCQUFzQixDQUFDO1FBQzdELE1BQU0sY0FBYyxHQUFHLE1BQU0sc0RBQ3RCLENBQUMsR0FBRyxDQUFDO2FBQ1QsSUFBSSxDQUFDLGlCQUFpQixDQUFDO2FBQ3ZCLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUMzQyxPQUFPLENBQUMsR0FBRyxDQUNULDhEQUE4RCxFQUM5RCxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FDcEMsQ0FBQztRQUNGLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssR0FBRyxFQUFFO1lBQzFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ2hCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3ZEO1FBQ0QsSUFBSSxrQkFBa0IsQ0FBQztRQUN2QixJQUNFLGNBQWMsQ0FBQyxJQUFJO1lBQ25CLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSTtZQUN4QixjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFDM0M7WUFDQSxrQkFBa0IsR0FBRyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUNqRSxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDLENBQUM7U0FDdkQ7UUFDRCxPQUFPLGtCQUFrQixDQUFDO0tBQzNCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUM7UUFDdkIsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUVILENBQUM7QUFDRCxNQUFNLGlDQUFpQyxHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxFQUFFOztJQUN4RixNQUFNLG9CQUFvQixHQUFHLE1BQU0sMkVBQXVCLENBQ3hELDBDQUEwQyxFQUMxQyxxRkFBaUMsQ0FBQyx5QkFBeUIsQ0FBQyxDQUM3RCxDQUFDO0lBQ0YsSUFBSSxvQkFBb0IsRUFBRTtRQUN4QixNQUFNLElBQUksR0FBRywwQkFBb0IsYUFBcEIsb0JBQW9CLHVCQUFwQixvQkFBb0IsQ0FBRSxJQUFJLDBDQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQztRQUN0RSxJQUFJLE1BQU0sQ0FBQztRQUNYLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDdEIsSUFBSSxPQUFPLEVBQUU7Z0JBRVgsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO29CQUN0QixNQUFNLFFBQVEsR0FBRyxNQUFNLHFFQUEwQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQzdGLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxlQUFlLEVBQUU7d0JBQ3hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQztxQkFDdEM7aUJBRUY7cUJBQ0k7b0JBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztpQkFDdEM7Z0JBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztnQkFFckMsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO29CQUNqQixNQUFNLEdBQUcsR0FBRyxNQUFNLHFFQUEwQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ25GLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxlQUFlLEVBQUU7d0JBQzlCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQztxQkFDakM7aUJBQ0Y7Z0JBQ0QsSUFBSSxPQUFPLENBQUMsa0JBQWtCLEVBQUU7b0JBQzlCLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxpRkFBc0MsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDO29CQUMxSCxJQUFJLGdCQUFnQixFQUFFO3dCQUNwQixNQUFNLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQzt3QkFDekQsTUFBTSxHQUFHLGNBQWMsQ0FBQztxQkFDekI7aUJBQ0Y7cUJBQU07b0JBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztpQkFDdEM7YUFDRjtZQUNELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLO1lBRTFCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjO1lBQ25DLE1BQU0sWUFBWSxHQUFHLE9BQU87aUJBQ3pCLE9BQU8sQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQztpQkFDN0MsT0FBTyxDQUFDLGtCQUFrQixFQUFFLGNBQWMsQ0FBQztpQkFDM0MsT0FBTyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsU0FBUyxDQUFDO2lCQUN2QyxPQUFPLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQztZQUV4QyxNQUFNLGtHQUF3QixDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sQ0FBQztTQUN0RTtLQUVGO0FBRUgsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6VXVFO0FBRXhFLE1BQU0sa0JBQW1CLFNBQVEsa0VBQWM7SUFDN0M7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFDekMsQ0FBQztJQUNELGVBQWUsQ0FBQyxPQUF1QjtRQUNyQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJO1FBQzlCLE1BQU0sRUFDSixhQUFhLEVBQ2IsY0FBYyxFQUNkLFNBQVMsRUFDVCxlQUFlLEVBQ2YsbUJBQW1CLEVBQ25CLFdBQVcsRUFDWCxrQkFBa0IsRUFDbEIsUUFBUSxFQUNSLGFBQWEsR0FDZCxHQUFHLElBQUksQ0FBQztRQUVULE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtZQUV2QyxhQUFhO1lBQ2IsY0FBYztZQUNkLFNBQVM7WUFDVCxlQUFlO1lBQ2YsbUJBQW1CO1lBQ25CLFdBQVc7WUFDWCxrQkFBa0I7WUFDbEIsUUFBUTtZQUNSLGFBQWE7U0FDZCxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUFDRCxpRUFBZSxrQkFBa0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdENnQjtBQU95QjtBQUMvQjtBQUNSO0FBRTdCLE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDcEUsTUFBTSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDeEMsTUFBTSxZQUFZLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQztRQUM5RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO0tBQzNCLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDakIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLDRCQUE0QixDQUFDLENBQUM7S0FDeEQ7SUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRTtRQUMvQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztLQUN4RDtJQUNELE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLGlEQUFpRCxZQUFZLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDcEgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDeEIsTUFBTSxPQUFPLEdBQUcsTUFBTSwyREFDYixDQUFDLEdBQUcsQ0FBQztTQUNYLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtRQUN0RCxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLEVBQUU7WUFDbkUsTUFBTSxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7WUFDcEQsSUFBSTtnQkFDRixNQUFNLHNDQUFzQyxDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQzthQUN0RTtZQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUNWLE9BQU8sQ0FBQyxHQUFHLENBQ1QsOEVBQThFLEVBQzlFLENBQUMsQ0FDRixDQUFDO2FBQ0g7U0FDRjthQUFNO1lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1lBQy9DLE1BQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDbkM7S0FDRjtJQUNELE9BQU87UUFDTCxJQUFJLEVBQUUsR0FBRztRQUNULE9BQU8sRUFBRSxTQUFTO0tBQ25CLENBQUM7QUFDSixDQUFDLENBQUM7QUFDRixNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRTtJQUNqRSxJQUFJLGdCQUFnQixDQUFDLEVBQUUsRUFBRTtRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSw4RUFBbUMsQ0FBQztZQUNuRSxLQUFLLEVBQUUsRUFBRSxtQkFBbUIsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7U0FDcEQsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxTQUFTLEdBQUcsa0JBQWtCLENBQUMsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sb0NBQW9DLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEQsTUFBTSw0RUFBaUMsQ0FBQztZQUN0QyxJQUFJLEVBQUU7Z0JBQ0osVUFBVSxFQUFFLENBQUM7Z0JBQ2IsY0FBYyxFQUFFLENBQUM7Z0JBQ2pCLGtCQUFrQixFQUFFLENBQUM7Z0JBQ3JCLFNBQVMsRUFBRSxLQUFLO2dCQUNoQixTQUFTLEVBQUUsSUFBSTtnQkFDZixNQUFNLEVBQUUsNkdBQXlCO2dCQUNqQyxTQUFTLEVBQ1AsTUFBTSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDO29CQUMzQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDO2FBQ3pDO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLGdCQUFnQixDQUFDLEVBQUUsRUFBRTtTQUNuQyxDQUFDLENBQUM7UUFDSCxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUM1QixRQUFRLGdCQUFnQixDQUFDLFlBQVksRUFBRTtZQUNyQyxLQUFLLElBQUk7Z0JBQ1AsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO2dCQUN6QixNQUFNO1lBQ1IsS0FBSyxLQUFLO2dCQUNSLGdCQUFnQixHQUFHLEtBQUssQ0FBQztnQkFDekIsTUFBTTtZQUNSLEtBQUssS0FBSztnQkFDUixnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Z0JBQ3pCLE1BQU07U0FDVDtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUVsRCxJQUFJLGdCQUFnQixFQUFFO1lBQ3BCLE1BQU0sV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7Z0JBQ3JELEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7YUFDaEMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxFQUFFLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQztZQUMxQixNQUFNLG9CQUFvQixHQUFHLE1BQU0sK0VBQW9DLENBQUM7Z0JBQ3RFLEtBQUssRUFBRTtvQkFDTCxZQUFZLEVBQUUsZ0JBQWdCO29CQUM5QixTQUFTLEVBQUUsRUFBRTtpQkFDZDthQUNGLENBQUMsQ0FBQztZQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztZQUMxRCxNQUFNLHNCQUFzQixHQUFHLG9CQUFvQixDQUFDLEVBQUUsQ0FBQztZQUN2RCxNQUFNLHdCQUF3QixHQUFHLElBQUksNEdBQXdCLEVBQUUsQ0FBQztZQUNoRSxNQUFNLFNBQVMsR0FDYixNQUFNLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDO2dCQUN0QyxNQUFNLENBQUMsb0JBQW9CLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDN0MsTUFBTSw0RUFBaUMsQ0FBQztnQkFDdEMsSUFBSSxFQUFFO29CQUNKLGFBQWEsRUFBRSxDQUFDO29CQUNoQixTQUFTLEVBQUUsU0FBUztvQkFDcEIsTUFBTSxFQUFFLDZHQUF5QjtpQkFDbEM7Z0JBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLHNCQUFzQixFQUFFO2FBQ3RDLENBQUMsQ0FBQztZQUNILE9BQU8sQ0FBQyxHQUFHLENBQ1Qsc0NBQXNDLEVBQ3RDLHdCQUF3QixDQUN6QixDQUFDO1NBQ0g7S0FDRjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sb0NBQW9DLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFO0lBQy9ELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVCLE1BQU0sOEVBQWdDLENBQUM7UUFDckMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRTtLQUN6QixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLHNDQUFzQyxHQUFHLEtBQUssRUFDbEQsU0FBUyxFQUNULFdBQVcsRUFDWCxFQUFFO0lBQ0YsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUNqRCxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFO0tBQ2hDLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO0tBQzVEO0lBQ0QsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUN0QyxNQUFNLFFBQVEsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1FBQ2xELEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7S0FDbEMsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxVQUFVLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQztRQUNyRCxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO0tBQ2xDLENBQUMsQ0FBQztJQUNILE1BQU0sU0FBUyxHQUFHLE1BQU0sK0VBQW9DLENBQUM7UUFDM0QsS0FBSyxFQUFFO1lBQ0wsRUFBRSxFQUFFLFdBQVc7U0FDaEI7S0FDRixDQUFDLENBQUM7SUFDSCxNQUFNLHVCQUF1QixHQUFHLElBQUkseUhBQXFDLEVBQUUsQ0FBQztJQUM1RSx1QkFBdUIsQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBQztJQUNoRSx1QkFBdUIsQ0FBQyx1QkFBdUIsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDO0lBQzFFLE1BQU0sY0FBYyxHQUFHLElBQUksZ0dBQVksRUFBRSxDQUFDO0lBQzFDLGNBQWMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUM1QyxjQUFjLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUM7SUFDMUMsY0FBYyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0lBQ3RDLGNBQWMsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUNoRCxjQUFjLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUM7SUFDaEQsdUJBQXVCLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7SUFDMUQsdUJBQXVCLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDL0QsdUJBQXVCLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7SUFDL0QsdUJBQXVCLENBQUMsc0JBQXNCLEdBQUcsY0FBYyxDQUFDO0lBQ2hFLHVCQUF1QixDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQ3RELHVCQUF1QixDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQzFELHVCQUF1QixDQUFDLGFBQWEsR0FBRyxHQUFHLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUNuRSx1QkFBdUIsQ0FBQyxXQUFXLEdBQUcsY0FBYyxDQUFDO0lBQ3JELElBQUksU0FBUyxDQUFDLFlBQVksS0FBSyxJQUFJLEVBQUU7UUFDbkMsdUJBQXVCLENBQUMsV0FBVyxHQUFHLEdBQUcsU0FBUyxDQUFDLFlBQVksMkJBQTJCLENBQUM7S0FDNUY7U0FBTSxJQUFJLFNBQVMsQ0FBQyxZQUFZLEtBQUssTUFBTSxFQUFFO1FBQzVDLHVCQUF1QixDQUFDLFdBQVcsR0FBRyxlQUFlLENBQUM7S0FDdkQ7U0FBTTtRQUNMLHVCQUF1QixDQUFDLFdBQVcsR0FBRyxHQUFHLFNBQVMsQ0FBQyxZQUFZLGtCQUFrQixDQUFDO0tBQ25GO0lBQ0QsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLGdGQUFxQyxDQUFDO1FBQ25FLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsa0JBQWtCLEVBQUU7S0FDaEQsQ0FBQyxDQUFDO0lBQ0gsdUJBQXVCLENBQUMsYUFBYSxHQUFHLG9CQUFvQixDQUFDO0lBQzdELHVCQUF1QixDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDLElBQUksQ0FBQztJQUNqRSx1QkFBdUIsQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztJQUM1RCx1QkFBdUIsQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3pFLHVCQUF1QixDQUFDLG1CQUFtQjtRQUN6QyxNQUFNLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDO1lBQ3BDLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDL0IsTUFBTSxlQUFlLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUN6Qyx1QkFBdUIsQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDO0lBQ3hELHVCQUF1QixDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xFLHVCQUF1QixDQUFDLFNBQVM7UUFDL0IsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQztZQUNwQyxNQUFNLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQztZQUMvQixNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDckMsTUFBTSxRQUFRLEdBQUcsSUFBSSxzR0FBa0IsRUFBRSxDQUFDO1FBQzFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoRCxRQUFRLENBQUMsV0FBVyxHQUFHLG1CQUFtQixDQUFDO1FBQzNDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLHVCQUF1QixDQUFDLGFBQWEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ3BEO0lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLHNDQUFzQyxDQUFDO0lBQzdFLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sT0FBTyxHQUFHLE1BQU0sc0RBQ2YsQ0FBQyxHQUFHLENBQUM7U0FDVCxJQUFJLENBQUMsdUJBQXVCLENBQUM7U0FDN0IsR0FBRyxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQ1QsdURBQXVELEVBQ3ZELElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUM3QixDQUFDO0lBQ0YsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxHQUFHLEVBQUU7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFELE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ2hEO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsZUFBZSxFQUFFLEVBQUU7SUFDckQsSUFBSSxhQUFhLENBQUM7SUFDbEIsUUFBUSxlQUFlLEVBQUU7UUFDdkIsS0FBSywwR0FBc0I7WUFDekIsYUFBYSxHQUFHLE1BQU0sQ0FBQztZQUN2QixNQUFNO1FBQ1IsS0FBSyxxSEFBaUM7WUFDcEMsYUFBYSxHQUFHLGdCQUFnQixDQUFDO1lBQ2pDLE1BQU07UUFDUixLQUFLLDZHQUF5QjtZQUM1QixhQUFhLEdBQUcsU0FBUyxDQUFDO1lBQzFCLE1BQU07S0FDVDtJQUNELE9BQU8sYUFBYSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoT3FFO0FBRXZFLE1BQU0scUJBQXNCLFNBQVEsa0VBQWM7SUFDaEQ7UUFDTSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFFekMsQ0FBQztJQUNELGVBQWUsQ0FBQyxPQUF1QjtRQUNyQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVELEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJO1FBQ2pDLE1BQU0sRUFBQyxTQUFTLEVBQUMsR0FBRyxJQUFJLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLHNCQUFzQixFQUFDO1lBRXhDLFNBQVM7U0FDWCxDQUNDO0lBQ0QsQ0FBQztDQUNOO0FBQ0QsaUVBQWUscUJBQXFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCYztBQUNOO0FBRytCO0FBQ1U7QUFFOUUsTUFBTSx5QkFBeUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNwRSxJQUFJLG1CQUFtQixDQUFDO0lBRXhCLE1BQU0sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDNUcsTUFBTSxtQkFBbUIsR0FBRyxNQUFNLDhFQUFtQyxDQUFDO1FBQ25FLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7S0FDakMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2pDLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtRQUN2QixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMkJBQTJCLENBQUMsQ0FBQztLQUN4RDtJQUNELE1BQU0sT0FBTyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7UUFDaEQsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRTtLQUNqQyxDQUFDLENBQUM7SUFDSCxNQUFNLFNBQVMsR0FBRyxNQUFNLCtFQUFvQyxDQUFDO1FBQzFELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUU7S0FDNUIsQ0FBQyxDQUFDO0lBQ0gsTUFBTSx1QkFBdUIsR0FBRyxJQUFJLGdIQUE0QixFQUFFLENBQUM7SUFDbkUsSUFBSSxVQUFVLEVBQUU7UUFFYixNQUFNLGNBQWMsR0FBRztZQUNwQixHQUFHLEVBQUUsVUFBVSxDQUFDLFFBQVE7WUFDeEIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxXQUFXO1lBQ25DLE1BQU0sRUFBRSxVQUFVLENBQUMsVUFBVTtTQUMvQixDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsTUFBTSx3RkFBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3JELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDWCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztTQUN6RDtRQUNELHVCQUF1QixDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7UUFDakUsdUJBQXVCLENBQUMsMkJBQTJCLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztLQUNwRTtJQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUM3RixPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDOUIsSUFBSSx1QkFBdUIsR0FBRyxDQUFDLENBQUM7SUFDaEMsSUFBSSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUU7UUFDekIsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3ZGLElBQUksc0JBQXNCLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1lBQ2hFLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUMxRjtRQUNELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLHNCQUFzQixHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDekgsTUFBTSw0RUFBaUMsQ0FBQztZQUNyQyxJQUFJLEVBQUU7Z0JBQ0gsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUM7Z0JBQzlDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO2FBQ3pDO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRTtTQUM1QixDQUFDLENBQUM7UUFDSCxJQUFJLGdCQUFnQixJQUFJLENBQUMsRUFBRTtZQUN4QixNQUFNLDRFQUFpQyxDQUFDO2dCQUNyQyxJQUFJLEVBQUU7b0JBQ0gsY0FBYyxFQUFFLHNCQUFzQjtvQkFDdEMsU0FBUyxFQUFFLElBQUk7b0JBQ2YsTUFBTSxFQUFFLDBHQUFzQjtpQkFDaEM7Z0JBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRTthQUM1QixDQUFDLENBQUM7U0FDTDthQUFNO1lBQ0osTUFBTSw0RUFBaUMsQ0FBQztnQkFDckMsSUFBSSxFQUFFO29CQUNILE1BQU0sRUFBRSxxSEFBaUM7aUJBQzNDO2dCQUNELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUU7YUFDNUIsQ0FBQyxDQUFDO1NBQ0w7UUFDRCxNQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7UUFDekcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQyxNQUFNLEdBQUcsR0FBRyxNQUFNLDJFQUFnQyxDQUFDO1lBQ2hELElBQUksRUFBRTtnQkFDSCxjQUFjLEVBQUUsY0FBYztnQkFDOUIsVUFBVSxFQUFFLGNBQWM7Z0JBQzFCLFdBQVcsRUFBRSxhQUFhO2dCQUMxQixtQkFBbUIsRUFBRSxZQUFZO2FBQ25DO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLG1CQUFtQixDQUFDLEVBQUUsRUFBRTtTQUN2QyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1AsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7U0FDbkQ7UUFDRCxNQUFNLG9FQUF5QixDQUFDO1lBQzdCLElBQUksRUFBRTtnQkFDSCxvQkFBb0IsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDakcsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO29CQUM3RCxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQzthQUNsQztZQUNELEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7U0FDakMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSx1QkFBdUIsR0FBRyxDQUFDLEVBQUU7WUFDOUIsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNsRCxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUN4RCxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsS0FBSyxrQkFBa0IsQ0FDMUMsQ0FBQztZQUNGLElBQUksZUFBZSxFQUFFO2dCQUNsQixNQUFNLGFBQWEsR0FBRyxNQUFNLCtFQUFvQyxDQUFDO29CQUM5RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFO2lCQUNoQyxDQUFDLENBQUM7Z0JBQ0gsTUFBTSw0RUFBaUMsQ0FBQztvQkFDckMsSUFBSSxFQUFFO3dCQUNILGFBQWEsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLHVCQUF1QixDQUFDO3dCQUNsRCxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FDbEIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDOzRCQUMzRSxNQUFNLENBQUMsdUJBQXVCLENBQUMsQ0FBQztxQkFDckM7b0JBQ0QsS0FBSyxFQUFFO3dCQUNKLEVBQUUsRUFBRSxlQUFlO3FCQUNyQjtpQkFDSCxDQUFDLENBQUM7YUFDTDtTQUNIO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixtQkFBbUIsR0FBRztZQUNuQixJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxTQUFTO1NBQ3BCO0tBRUg7SUFFRCxPQUFPLG1CQUFtQixDQUFDO0FBQzlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0h1RTtBQUV4RSxNQUFNLHFCQUFzQixTQUFRLGtFQUFjO0lBQ2hEO1FBQ0UsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBRXpDLENBQUM7SUFDRCxlQUFlLENBQUMsT0FBdUI7UUFDckMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCxLQUFLLENBQUMsd0JBQXdCLENBQUMsSUFBSTtRQUNqQyxNQUFNLEVBQUUsYUFBYSxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxRQUFRLEVBQy9ILGFBQWEsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLG9CQUFvQixFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQzVHLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRTtZQUV0QyxhQUFhO1lBQ2IsY0FBYztZQUNkLFNBQVM7WUFDVCxlQUFlO1lBQ2YsbUJBQW1CO1lBQ25CLFdBQVc7WUFDWCxrQkFBa0I7WUFDbEIsUUFBUTtZQUNSLGFBQWE7WUFDYixPQUFPO1lBQ1AsU0FBUztZQUNULE1BQU07WUFDTixlQUFlO1lBQ2YsY0FBYztZQUNkLG9CQUFvQjtTQUNyQixDQUNBO0lBQ0gsQ0FBQztDQUNGO0FBQ0QsaUVBQWUscUJBQXFCOzs7Ozs7Ozs7Ozs7Ozs7O0FDcENjO0FBRTNDLE1BQU0saUJBQWlCLEdBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDMUQsSUFBSSx5QkFBeUIsQ0FBQztJQUM5QixJQUFHO1FBQ0MsTUFBTSxFQUFFLEdBQUcsTUFBTSw2RUFBa0MsQ0FBQyxFQUFDLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUMsQ0FBQyxDQUFDO1FBQ3BGLHlCQUF5QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDLElBQUksRUFBQyxFQUFFLEVBQUM7UUFDcEUsT0FBTyx5QkFBeUI7S0FDbkM7SUFBQSxPQUFPLEtBQUssRUFBRTtRQUNYLHlCQUF5QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNqRSxPQUFPLHlCQUF5QjtLQUNqQztBQUNQLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1oyQztBQUNtQjtBQUNZO0FBQ007QUFDRjtBQUN4RSxNQUFNLHNCQUFzQixHQUFHO0lBQ2xDLFFBQVEsRUFBQztRQUNMLGtCQUFrQixFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUUsSUFBSSxFQUFDLEVBQUUsV0FBVyxFQUFHLEdBQUcsRUFBRSxFQUFDLEVBQUUsWUFBVyxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLElBQUksRUFBQyxHQUFHLENBQUM7UUFDdkgscUJBQXFCLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxJQUFJLEVBQUMsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLEVBQUMsRUFBRSxZQUFXLENBQUMscUJBQXFCLENBQUMsd0JBQXdCLENBQUMsSUFBSSxFQUFDLEdBQUcsQ0FBQztRQUM5SCxxQkFBcUIsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFDLElBQUksRUFBQyxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUMsRUFBQyxFQUFFLFlBQVcsQ0FBQyxxQkFBcUIsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFDO1FBQzdILHNCQUFzQixFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBa0IsRUFBQyxPQUFPLEVBQUUsRUFBRSx5RkFBc0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNoSCx5QkFBeUIsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLEtBQWtCLEVBQUMsT0FBTyxFQUFDLEVBQUUsK0ZBQXlCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDckgsd0JBQXdCLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxLQUFrQixFQUFDLE9BQU8sRUFBQyxFQUFFLDZGQUF3QixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ3BIO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsaUJBQWlCLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLDhFQUFpQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQzdHO0lBQ0YsSUFBSSxFQUFDLHdEQUFXO0NBQ25COzs7Ozs7Ozs7Ozs7Ozs7QUNsQk0sTUFBTSxxQkFBcUIsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXVHcEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2R3FFO0FBRXZFLE1BQU0sa0JBQW1CLFNBQVEsa0VBQWM7SUFDN0M7UUFDTSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFFekMsQ0FBQztJQUNELGVBQWUsQ0FBQyxPQUF1QjtRQUNyQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVELEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJO1FBQzlCLE1BQU0sRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsR0FBRyxJQUFJLENBQUM7UUFFdkYsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixFQUFDO1lBRXZDLFdBQVc7WUFDWCxRQUFRO1lBQ1IsYUFBYTtZQUNiLFdBQVc7WUFDWCxRQUFRO1lBQ1IsTUFBTTtZQUNOLE9BQU87U0FDVCxDQUNDO0lBQ0QsQ0FBQztDQUNOO0FBQ0QsaUVBQWUsa0JBQWtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUJpQjtBQUNxQztBQUMzQztBQUdyQyxNQUFNLHVCQUF1QixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ2pFLE1BQU0sRUFBRSxRQUFRLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsR0FBRyxJQUFJLENBQUM7SUFDdEQsTUFBTSxjQUFjLEdBQUcsTUFBTSw4RUFBbUMsQ0FBQztRQUNqRSxLQUFLLEVBQUU7WUFDTixRQUFRLEVBQUMsUUFBUTtZQUNqQixRQUFRLEVBQUMsUUFBUTtZQUNsQixXQUFXLEVBQUMsV0FBVztTQUN2QjtLQUNBLENBQUMsQ0FBQztJQUNILElBQUcsY0FBYyxFQUFDO1FBQ2hCLE9BQU87WUFDTCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxtQkFBbUI7WUFDNUIsSUFBSSxFQUFDLGNBQWM7U0FDcEI7S0FDRjtTQUFJO1FBQ0QsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUM3QyxLQUFLLEVBQUM7Z0JBQ0YsUUFBUSxFQUFDLFFBQVE7YUFDcEI7U0FBQyxDQUFFLENBQUM7UUFFVCxJQUFHLE9BQU8sSUFBSSxJQUFJLEVBQUM7WUFDZixPQUFNO2dCQUNGLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxrQkFBa0I7YUFDN0I7U0FDTDtRQUNELE1BQU0sUUFBUSxHQUFHLE1BQU0saUJBQWlCLENBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxVQUFVLENBQUMsQ0FBQztRQUMxRSxPQUFNO1lBQ0YsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsU0FBUztZQUNsQixJQUFJLEVBQUMsUUFBUTtTQUNoQjtLQUNKO0FBQ1QsQ0FBQztBQUNELE1BQU0saUJBQWlCLEdBQUcsS0FBSyxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsVUFBVSxFQUFFLEVBQUU7SUFDL0QsSUFBSSxXQUFrQixDQUFDO0lBQ2YsSUFBRyxRQUFRLENBQUMsV0FBVyxFQUFFLEtBQUssd0ZBQTJCLEVBQUM7UUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QixXQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3pCLElBQUksb0JBQTJCLENBQUM7UUFDaEMsSUFBRyxXQUFXLEtBQUssZ0JBQWdCLEVBQUM7WUFDcEMsb0JBQW9CLEdBQUcsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLEdBQUMsR0FBRyxDQUFDO1NBQzdDO2FBQUssSUFBRyxXQUFXLEtBQUssZ0JBQWdCLEVBQUM7WUFDMUMsb0JBQW9CLEdBQUcsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLEdBQUMsR0FBRyxDQUFDO1NBQzdDO2FBQUssSUFBRyxXQUFXLEtBQUssZ0JBQWdCLEVBQUM7WUFDMUMsb0JBQW9CLEdBQUcsV0FBVyxDQUFDO1NBQ2xDO2FBQUk7WUFDTCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztTQUN0RDtRQUNELE9BQU8sb0JBQW9CLENBQUM7S0FDL0I7U0FBSyxJQUFHLFFBQVEsQ0FBQyxXQUFXLEVBQUUsS0FBSyw2RkFBZ0MsRUFBQztRQUNqRSxXQUFXLEdBQUcsVUFBVSxDQUFDO1FBQ3pCLElBQUksb0JBQTJCLENBQUM7UUFDaEMsSUFBRyxXQUFXLEtBQUsscUJBQXFCLEVBQUM7WUFDekMsb0JBQW9CLEdBQUcsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLEdBQUMsR0FBRyxDQUFDO1NBQzdDO2FBQUssSUFBRyxXQUFXLEtBQUsscUJBQXFCLEVBQUM7WUFDL0Msb0JBQW9CLEdBQUcsV0FBVyxDQUFDO1NBQ2xDO2FBQUk7WUFDTCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsa0NBQWtDLENBQUMsQ0FBQztTQUM1RDtRQUNELE9BQU8sb0JBQW9CLENBQUM7S0FDL0I7U0FBSTtRQUNGLE9BQU07WUFDTCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSwyQkFBMkI7U0FDcEM7S0FDSDtBQUNiLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekVzRTtBQUV2RSxNQUFNLHFCQUFzQixTQUFRLGtFQUFjO0lBQ2hEO1FBQ00sS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDO0lBRXpDLENBQUM7SUFDRCxlQUFlLENBQUMsT0FBdUI7UUFDckMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFFRCxLQUFLLENBQUMsd0JBQXdCLENBQUMsU0FBUztRQUN4QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLEVBQUM7WUFFdkMsU0FBUztTQUNiLEVBQUU7WUFDQyxJQUFJLEVBQUUsU0FBUztTQUNsQixDQUNFO0lBQ0QsQ0FBQztDQUNOO0FBQ0QsaUVBQWUscUJBQXFCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RCbUM7QUFFdkUsTUFBTSxxQkFBc0IsU0FBUSxrRUFBYztJQUNoRDtRQUNNLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztJQUV6QyxDQUFDO0lBQ0QsZUFBZSxDQUFDLE9BQXVCO1FBQ3JDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsS0FBSyxDQUFDLHdCQUF3QixDQUFDLElBQUk7UUFDakMsTUFBTSxFQUFDLFNBQVMsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLGFBQWEsRUFBQyxXQUFXLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsR0FBRyxJQUFJLENBQUM7UUFDbEcsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFDO1lBRXJDLFNBQVM7WUFDVCxXQUFXO1lBQ1gsUUFBUTtZQUNSLGFBQWE7WUFDYixXQUFXO1lBQ1gsUUFBUTtZQUNSLE1BQU07WUFDTixPQUFPO1NBQ1QsQ0FDQztJQUNELENBQUM7Q0FDTjtBQUNELGlFQUFlLHFCQUFxQjs7Ozs7Ozs7Ozs7Ozs7OztBQzVCYztBQUUzQyxNQUFNLGlCQUFpQixHQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzFELElBQUkseUJBQXlCLENBQUM7SUFDOUIsSUFBRztRQUNDLE1BQU0sRUFBRSxHQUFHLE1BQU0sNkVBQWtDLENBQUMsRUFBQyxLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFDLENBQUMsQ0FBQztRQUNwRix5QkFBeUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDO1FBQ3BFLE9BQU8seUJBQXlCO0tBQ25DO0lBQUEsT0FBTyxLQUFLLEVBQUU7UUFDWCx5QkFBeUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDakUsT0FBTyx5QkFBeUI7S0FDakM7QUFDUCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWjJDO0FBQ2tCO0FBQ2M7QUFDckUsTUFBTSxzQkFBc0IsR0FBRztJQUNsQyxRQUFRLEVBQUM7UUFDTCxrQkFBa0IsRUFBQyxLQUFLLEVBQUMsQ0FBQyxFQUFFLElBQUksRUFBQyxFQUFFLFdBQVcsRUFBRyxHQUFHLEVBQUUsRUFBQyxFQUFFLFlBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFDO1FBQ3ZILHFCQUFxQixFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUMsV0FBVyxFQUFHLEdBQUcsRUFBRSxFQUFDLEVBQUUsWUFBVyxDQUFDLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLElBQUksRUFBQyxHQUFHLENBQUM7UUFDOUgscUJBQXFCLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBQyxFQUFDLFNBQVMsRUFBQyxFQUFDLEVBQUMsV0FBVyxFQUFHLEdBQUcsRUFBRSxFQUFDLEVBQUUsWUFBVyxDQUFDLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLFNBQVMsRUFBQyxHQUFHLENBQUM7UUFDMUksdUJBQXVCLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxLQUFrQixFQUFFLE9BQU8sRUFBRSxFQUFFLDRGQUF1QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ3JIO0lBQ0QsS0FBSyxFQUFFO1FBQ0osaUJBQWlCLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLDhFQUFpQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQzdHO0lBQ0QsSUFBSSxFQUFDLHdEQUFXO0NBQ25COzs7Ozs7Ozs7Ozs7Ozs7QUNkTSxNQUFNLHFCQUFxQixHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBZ0VwQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hFZ0Q7QUFDTjtBQUNSO0FBRTdCLE1BQU0sYUFBYSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3ZELE1BQU0sRUFBRSxRQUFRLEVBQUUsc0JBQXNCLEVBQUUsNEJBQTRCLEVBQUUsc0JBQXNCLEVBQUUsc0JBQXNCLEVBQUUsbUJBQW1CLEVBQUUsOEJBQThCLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDckwsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUMvQyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFO0tBQ2pDLENBQUMsQ0FBQztJQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNWLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0tBQ2pEO0lBQ0QsSUFBSSxjQUFjLENBQUM7SUFDbkIsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEVBQUU7UUFDN0IsY0FBYyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDO0tBQ25GO1NBQ0k7UUFDRCxjQUFjLEdBQUcsc0JBQXNCLENBQUM7S0FDM0M7SUFDRCxNQUFNLGtDQUFrQyxHQUFHO1FBQ3ZDLHNCQUFzQixFQUFFLHNCQUFzQjtRQUM5Qyw0QkFBNEIsRUFBRSw0QkFBNEI7UUFDMUQsbUJBQW1CLEVBQUUsbUJBQW1CO1FBQ3hDLHFCQUFxQixFQUFFLGNBQWM7UUFDckMsOEJBQThCLEVBQUUsOEJBQThCO1FBQzlELFFBQVEsRUFBRSxRQUFRO0tBQ3JCO0lBRUQsTUFBTSxvQkFBb0IsR0FBRyxNQUFNLCtCQUErQixDQUFDLGtDQUFrQyxDQUFDLENBQUM7SUFFdkcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7SUFDOUQsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsVUFBVSxLQUFLLEdBQUcsRUFBRTtRQUM5QyxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQy9EO0lBQ0QsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUN0QyxJQUFJLE9BQU8sRUFBRTtRQUNULE1BQU0sV0FBVyxHQUFHLE1BQU0sd0VBQTZCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQzlHLE1BQU0sYUFBYSxHQUFHLE1BQU0scUVBQTBCLENBQUM7WUFDbkQsS0FBSyxFQUFFO2dCQUNILFNBQVMsRUFBRSxXQUFXLENBQUMsU0FBUzthQUNuQztZQUNELElBQUksRUFBRTtnQkFDRixHQUFHLEVBQUUsOEJBQThCO2dCQUNuQyxNQUFNLEVBQUUsY0FBYztnQkFDdEIsS0FBSyxFQUFFLDRCQUE0QjtnQkFDbkMsSUFBSSxFQUFFLG1CQUFtQjtnQkFDekIsT0FBTyxFQUFFLHNCQUFzQjthQUNsQztTQUNKLENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPO1FBQ0gsVUFBVSxFQUFFLEdBQUc7UUFDZixPQUFPLEVBQUUsZ0NBQWdDO0tBQzVDO0FBQ0wsQ0FBQztBQUNELE1BQU0sK0JBQStCLEdBQUcsS0FBSyxFQUFFLGtDQUFrQyxFQUFFLEVBQUU7SUFDakYsTUFBTSxRQUFRLEdBQUcsTUFBTSxrQkFBa0IsRUFBRSxDQUFDO0lBQzVDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUM7SUFDdkMsTUFBTSxRQUFRLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsU0FBUyxDQUFDO0lBQ3JELE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFdEIsSUFBSTtRQUNBLE9BQU8sTUFBTSxxREFDTCxDQUFDLFFBQVEsQ0FBQzthQUNiLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQzthQUN4QyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDO2FBQ3ZDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDO0tBQ3ZDO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUNsQixNQUFNLEtBQUssQ0FBQztLQUNmO0FBQ0wsQ0FBQztBQUNELE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxJQUFJLEVBQUU7SUFDbEMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsY0FBYztJQUN6RCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RCLE1BQU0sT0FBTyxHQUFHO1FBQ1osUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVTtLQUNuQztJQUNELElBQUk7UUFDQSxNQUFNLEdBQUcsR0FBRyxNQUFNLHNEQUNULENBQUMsUUFBUSxDQUFDO2FBQ2QsR0FBRyxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQzthQUN2QyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDO0tBQ25CO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztRQUNsQixNQUFNLEtBQUssQ0FBQztLQUNmO0FBQ0wsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQzFGaUQ7QUFFM0MsTUFBTSx5QkFBeUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNuRSxJQUFJLGFBQWE7SUFDakIsSUFBSTtRQUNBLE1BQU0sUUFBUSxHQUFHLE1BQU0sK0VBQW9DLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN4RixNQUFNLHVCQUF1QixHQUFHLE1BQU0sNkVBQWtDLENBQUM7WUFDckUsS0FBSyxFQUFFO2dCQUNILG1CQUFtQixFQUFFLElBQUksQ0FBQyxFQUFFO2FBQy9CO1NBQ0osQ0FBQyxDQUFDO1FBQ0gsYUFBYSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLHVCQUF1QixFQUFFLHVCQUF1QixFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUU7UUFDdkgsT0FBTyxhQUFhO0tBQ3ZCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3JELE9BQU8sYUFBYTtLQUN2QjtBQUNMLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQmlEO0FBRTNDLE1BQU0sdUJBQXVCLEdBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDaEUsSUFBSSxhQUFhO0lBQ3JCLElBQUc7UUFDQyxNQUFNLE1BQU0sR0FBRyxNQUFNLDhFQUFtQyxDQUFDLEVBQUMsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxDQUFDLENBQUM7UUFDakcsYUFBYSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDLElBQUksRUFBQyxNQUFNLEVBQUM7UUFDNUQsT0FBTyxhQUFhO0tBQ3ZCO0lBQUEsT0FBTyxLQUFLLEVBQUU7UUFDWCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3JELE9BQU8sYUFBYTtLQUNyQjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWjJDO0FBQytCO0FBQ0k7QUFDZjtBQUN6RCxNQUFNLHVCQUF1QixHQUFHO0lBQ25DLFFBQVEsRUFBQztRQUNMLGFBQWEsRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsK0VBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN0RztJQUNELEtBQUssRUFBRTtRQUNILHVCQUF1QixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSwwRkFBdUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN4SCx5QkFBeUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsK0ZBQXlCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDL0g7SUFDRCxJQUFJLEVBQUMsd0RBQVc7Q0FDbkI7Ozs7Ozs7Ozs7Ozs7OztBQ2JNLE1BQU0sb0JBQW9CLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBc0NuQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RDcUU7QUFFdkUsTUFBTSwyQkFBNEIsU0FBUSxrRUFBYztJQUN0RDtRQUNNLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztJQUV6QyxDQUFDO0lBQ0QsZUFBZSxDQUFDLE9BQXVCO1FBQ3JDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJO1FBQ3hCLE1BQU0sRUFBQyxNQUFNLEVBQUMsV0FBVyxFQUFDLFlBQVksRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxTQUFTLEVBQUMsT0FBTyxFQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ3hGLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBQztZQUV0QyxNQUFNO1lBQ04sV0FBVztZQUNYLFlBQVk7WUFDWixJQUFJO1lBQ0osS0FBSztZQUNMLFNBQVM7WUFDVCxTQUFTO1lBQ1QsT0FBTztTQUNULENBQ0M7SUFDRCxDQUFDO0NBQ047QUFDRCxpRUFBZSwyQkFBMkI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUI4QjtBQUV4RSxNQUFNLGVBQWdCLFNBQVEsa0VBQWM7SUFDMUM7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFFekMsQ0FBQztJQUNELGVBQWUsQ0FBQyxPQUF1QjtRQUNyQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSTtRQUNwQixNQUFNLEVBQUUsd0JBQXdCLEVBQUUsa0NBQWtDLEVBQUUsNEJBQTRCLEVBQUUsa0JBQWtCLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQzlKLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFFMUIsd0JBQXdCO1lBQ3hCLGtDQUFrQztZQUNsQyw0QkFBNEI7WUFDNUIsa0JBQWtCO1lBQ2xCLE9BQU87WUFDUCxtQkFBbUI7U0FFcEIsQ0FDQTtJQUNILENBQUM7Q0FDRjtBQUNELGlFQUFlLGVBQWU7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0JjO0FBQ3JDLE1BQU0saUJBQWlCLEdBQUc7SUFDN0IsUUFBUSxFQUFDO1FBQ0wsMkJBQTJCLEVBQUMsS0FBSyxFQUFDLENBQUMsRUFBRSxJQUFJLEVBQUMsRUFBRSxXQUFXLEVBQUcsR0FBRyxFQUFFLEVBQUMsRUFBRSxZQUFXLENBQUMsMkJBQTJCLENBQUMsZUFBZSxDQUFDLElBQUksRUFBQyxHQUFHLENBQUM7UUFDbkksZUFBZSxFQUFDLEtBQUssRUFBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLEVBQUUsV0FBVyxFQUFDLEdBQUcsRUFBQyxFQUFDLEVBQUUsWUFBVyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFDLEdBQUcsQ0FBQztLQUN0RztJQUNELElBQUksRUFBQyx3REFBVztDQUNuQjs7Ozs7Ozs7Ozs7Ozs7O0FDUE0sTUFBTSxlQUFlLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FxQzlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQzJDO0FBRXRDLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3RELElBQUksa0JBQWtCO0lBQ3BCLE1BQU0sRUFBRSxZQUFZLEVBQUMsTUFBTSxFQUFDLFdBQVcsRUFBQyxHQUFHLElBQUksQ0FBQztJQUNoRCxJQUFJO1FBQ0osTUFBTSxhQUFhLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztZQUNqRCxJQUFJLEVBQUU7Z0JBQ0osWUFBWTtnQkFDWixNQUFNO2dCQUNOLFdBQVcsRUFBQyxXQUFXO2dCQUN2QixZQUFZLEVBQUMsSUFBSSxJQUFJLEVBQUU7Z0JBQ3ZCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTthQUN2QjtTQUNGLENBQUMsQ0FBQztRQUNILGtCQUFrQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDLElBQUksRUFBQyxhQUFhLEVBQUM7UUFDeEUsT0FBTyxrQkFBa0I7S0FDMUI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGtCQUFrQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMxRCxPQUFPLGtCQUFrQjtLQUMxQjtBQUNMLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQjhDO0FBRXhDLE1BQU0sYUFBYSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3ZELElBQUksa0JBQWtCO0lBQ3RCLE1BQU0sRUFBRSxTQUFTLEVBQUMsWUFBWSxFQUFFLE1BQU0sRUFBQyxXQUFXLEVBQUMsWUFBWSxFQUFFLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQztJQUNyRixJQUFJO1FBQ0EsTUFBTSxhQUFhLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztZQUN2RCxJQUFJLEVBQUU7Z0JBQ0osWUFBWSxFQUFDLFlBQVk7Z0JBQ3pCLE1BQU0sRUFBQyxNQUFNO2dCQUNiLFdBQVcsRUFBQyxXQUFXO2dCQUN2QixZQUFZLEVBQUMsWUFBWTtnQkFDekIsVUFBVSxFQUFDLFVBQVU7YUFDdEI7WUFDRCxLQUFLLEVBQUU7Z0JBQ0wsU0FBUyxFQUFFLFNBQVM7YUFDckI7U0FDRixDQUFDLENBQUM7UUFDSCxrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBQyxJQUFJLEVBQUMsYUFBYSxFQUFDO1FBQ3hFLE9BQU8sa0JBQWtCO0tBQ3pCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZixrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDMUQsT0FBTyxrQkFBa0I7S0FDMUI7QUFDRCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4QjJDO0FBRXhDLE1BQU0sY0FBYyxHQUFHLEtBQUssSUFBSSxFQUFFO0lBQ3JDLElBQUksa0JBQWtCO0lBQzFCLElBQUc7UUFDQyxNQUFNLFFBQVEsR0FBRyxNQUFNLHFFQUEwQixFQUFFLENBQUM7UUFDcEQsa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQztRQUNuRSxPQUFPLGtCQUFrQjtLQUM1QjtJQUFBLE9BQU8sS0FBSyxFQUFFO1FBQ1gsa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQzFELE9BQU8sa0JBQWtCO0tBQzFCO0FBQ0gsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ1o4QztBQUV4QyxNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN4RCxJQUFJLGtCQUFrQjtJQUMxQixJQUFHO1FBQ0MsTUFBTSxRQUFRLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQyxFQUFDLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsQ0FBQyxDQUFDO1FBQzFGLGtCQUFrQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUM7UUFDbkUsT0FBTyxrQkFBa0I7S0FDNUI7SUFBQSxPQUFPLEtBQUssRUFBRTtRQUNYLGtCQUFrQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMxRCxPQUFPLGtCQUFrQjtLQUMxQjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1o4RDtBQUNUO0FBQ007QUFDRjtBQUNGO0FBRWpELE1BQU0sZ0JBQWdCLEdBQUc7SUFDNUIsUUFBUSxFQUFDO1FBQ0wsVUFBVSxFQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBaUIsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLG1FQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDM0YsYUFBYSxFQUFDLEtBQUssRUFBRSxNQUFNLEVBQUMsS0FBZ0IsRUFBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLHlFQUFhLENBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxPQUFPLENBQUM7S0FDN0Y7SUFDRCxLQUFLLEVBQUU7UUFDTCxjQUFjLEVBQUUsS0FBSyxJQUFJLEVBQUUsQ0FBQyx1RUFBYyxFQUFFO1FBQzVDLGNBQWMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDaEUsdUVBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN2QztJQUNILFFBQVEsRUFBRSw2REFBZ0I7SUFDMUIsSUFBSSxFQUFDLHdEQUFXO0NBQ25COzs7Ozs7Ozs7Ozs7Ozs7QUNsQk0sTUFBTSxlQUFlLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E4QzdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlDK0M7QUFDbUM7QUFDRjtBQUUzRSxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBRTVELElBQUksbUJBQW1CLENBQUM7SUFFeEIsSUFBSTtRQUVGLE1BQU0scUZBQWdCLENBQUMsT0FBTyxDQUFDO1FBRS9CLE1BQU0sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDNUQsSUFBSSxJQUFJLENBQUM7UUFFVCxNQUFNLFVBQVUsR0FBRyxNQUFNLHdFQUE2QixDQUFDO1lBQ3JELElBQUksRUFBRTtnQkFDSixLQUFLO2dCQUNMLGNBQWM7Z0JBQ2QsT0FBTztnQkFDUCxVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3RCLE1BQU0sRUFBRSxJQUFJO2FBQ2I7U0FFRixDQUFDO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDO1FBRTVCLElBQUksVUFBVSxJQUFJLElBQUksRUFBRTtZQUN0QixJQUFJLFVBQVUsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3JCLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtvQkFDL0IsTUFBTSxZQUFZLEdBQUc7d0JBQ25CLEdBQUcsRUFBRSxPQUFPLENBQUMsUUFBUTt3QkFDckIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxZQUFZO3dCQUNqQyxNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07d0JBQ3RCLFNBQVMsRUFBRSxVQUFVLENBQUMsRUFBRTtxQkFDekIsQ0FBQztvQkFDRixJQUFJLEdBQUcsTUFBTSx3RkFBYyxDQUFDLFlBQVksQ0FBQyxDQUFDO29CQUUxQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRO2dCQUk5QixDQUFDLENBQUMsQ0FDSDthQUNGO1NBQ0Y7UUFDRCxNQUFNLGFBQWEsR0FBRyxNQUFNLDBFQUErQixDQUFDO1lBQzFELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsRUFBRSxFQUFFO1lBQzVCLE9BQU8sRUFBRTtnQkFDUCxXQUFXLEVBQUUsSUFBSTthQUNsQjtTQUNGLENBQUMsQ0FBQztRQUNILG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUU7UUFDNUUsT0FBTyxtQkFBbUI7S0FFM0I7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMzRCxPQUFPLG1CQUFtQjtLQUMzQjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1RCtDO0FBQ2lDO0FBRTNFLE1BQU0sZ0JBQWdCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUMsUUFBUSxFQUFFLEVBQUU7SUFFN0QsSUFBSSxtQkFBbUIsQ0FBQztJQUV4QixNQUFNLEVBQUMsRUFBRSxFQUFFLFNBQVMsRUFBQyxHQUFHLElBQUksQ0FBQztJQUM3QixJQUFJO1FBQ0YsTUFBTSxxRkFBZ0IsQ0FBQyxRQUFRLENBQUM7UUFDaEMsTUFBTSxVQUFVLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQztZQUNyRCxJQUFJLEVBQUU7Z0JBQ0YsRUFBRTtnQkFDRixTQUFTO2dCQUNULFdBQVcsRUFBRyxJQUFJLElBQUksRUFBRTtnQkFDeEIsTUFBTSxFQUFHLEtBQUs7YUFDakIsRUFBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1NBQ3BCLENBQUM7UUFFRixNQUFNLGFBQWEsR0FBRyxNQUFNLDBFQUErQixDQUFDO1lBQzFELEtBQUssRUFBRSxFQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsRUFBRSxFQUFDO1NBQzNCLENBQUMsQ0FBQztRQUNILG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUM7UUFDM0UsT0FBTyxtQkFBbUI7S0FFM0I7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMzRCxPQUFPLG1CQUFtQjtLQUMzQjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0IrQztBQUNtQztBQUNGO0FBRTNFLE1BQU0sZ0JBQWdCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFFNUQsSUFBSSxtQkFBbUIsQ0FBQztJQUV4QixJQUFJO1FBQ0YsTUFBTSxxRkFBZ0IsQ0FBQyxPQUFPLENBQUM7UUFFL0IsSUFBSSxJQUFJLENBQUM7UUFFVCxNQUFNLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFaEQsSUFBSSxVQUFVLElBQUksSUFBSSxFQUFFO1lBQ3RCLElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDckIsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO29CQUMvQixNQUFNLFlBQVksR0FBRzt3QkFDbkIsR0FBRyxFQUFFLE9BQU8sQ0FBQyxRQUFRO3dCQUNyQixXQUFXLEVBQUUsT0FBTyxDQUFDLFlBQVk7d0JBQ2pDLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTTt3QkFDdEIsU0FBUyxFQUFFLFVBQVUsQ0FBQyxFQUFFO3FCQUN6QixDQUFDO29CQUNGLElBQUksR0FBRyxNQUFNLHdGQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBRTFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVE7Z0JBSTlCLENBQUMsQ0FBQyxDQUNIO2FBQ0Y7U0FDRjtRQUVELE1BQU0sVUFBVSxHQUFHLE1BQU0sd0VBQTZCLENBQUM7WUFDckQsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtZQUNwRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1NBQ2xCLENBQUMsQ0FBQztRQUVILE1BQU0sYUFBYSxHQUFHLE1BQU0sMEVBQStCLENBQUM7WUFDMUQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxFQUFFLEVBQUU7U0FDN0IsQ0FBQyxDQUFDO1FBRUgsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRTtRQUM1RSxPQUFPLG1CQUFtQjtLQUUzQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQzNELE9BQU8sbUJBQW1CO0tBQzNCO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BEZ0Q7QUFDZ0M7QUFFM0UsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDMUQsSUFBSSxtQkFBbUIsQ0FBQztJQUN4QixJQUFJO1FBQ0YsTUFBTSxxRkFBZ0IsQ0FBQyxPQUFPLENBQUM7UUFFL0IsTUFBTSxVQUFVLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztZQUN2RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFO2dCQUM3QyxXQUFXLEVBQUUsSUFBSTthQUNsQjtTQUNGLENBQUMsQ0FBQztRQUVILG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7UUFDekUsT0FBTyxtQkFBbUI7S0FDM0I7SUFDRCxPQUFPLEtBQUssRUFBRTtRQUNaLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMzRCxPQUFPLG1CQUFtQjtLQUMzQjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JCa0Q7QUFDb0I7QUFDQTtBQUNBO0FBQ0g7QUFFN0QsTUFBTSxrQkFBa0IsR0FBRztJQUNoQyxLQUFLLEVBQUU7UUFDTCxjQUFjLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsZ0ZBQWMsQ0FBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sQ0FBQztLQUNwRztJQUNELFFBQVEsRUFBQztRQUNQLGdCQUFnQixFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBZ0IsRUFBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLG1GQUFnQixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO1FBQ2pHLGdCQUFnQixFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBZ0IsRUFBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLG1GQUFnQixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO1FBQ2pHLGdCQUFnQixFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBZ0IsRUFBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLG1GQUFnQixDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ2xHO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNoQkssTUFBTSxrQkFBa0IsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrRGpDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsRDRDO0FBRXZDLE1BQU0sU0FBUyxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBRXJELElBQUksV0FBVyxDQUFDO0lBQ2hCLElBQUk7UUFFRixNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFaEQsTUFBTSxVQUFVLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNwRCxJQUFJLEVBQUU7Z0JBQ0osU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNO2FBQy9CO1NBQ0YsQ0FBQztRQUNGLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQztZQUM1RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtZQUM1QixPQUFPLEVBQUU7Z0JBQ1AsV0FBVyxFQUFFLElBQUk7YUFDbEI7U0FFRixDQUFDLENBQUM7UUFDSCxXQUFXLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFO1FBQ3ZFLE9BQU8sV0FBVztLQUVuQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsV0FBVyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNuRCxPQUFPLFdBQVc7S0FDbkI7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1QjZDO0FBQ21DO0FBQ1A7QUFDSztBQUV6RSxNQUFNLFNBQVMsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNyRCxJQUFJLFdBQVcsQ0FBQztJQUNoQixJQUFJO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQyxNQUFNLEVBQ0osRUFBRSxFQUNGLFVBQVUsRUFDVixXQUFXLEVBQ1gsYUFBYSxFQUNiLGtCQUFrQixFQUNsQixXQUFXLEVBQ1gsVUFBVSxFQUNWLE1BQU0sR0FDUCxHQUFHLElBQUksQ0FBQztRQUNULElBQUksSUFBSSxDQUFDO1FBRVQsSUFBSSxVQUFVLElBQUksSUFBSSxFQUFFO1lBQ3RCLElBQUksVUFBVSxDQUFDLE1BQU0sRUFBRTtnQkFDckIsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNmLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO29CQUMvQixNQUFNLFlBQVksR0FBRzt3QkFDbkIsR0FBRyxFQUFFLE9BQU8sQ0FBQyxRQUFRO3dCQUNyQixXQUFXLEVBQUUsT0FBTyxDQUFDLFlBQVk7d0JBQ2pDLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTTt3QkFDdEIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO3dCQUNuQixLQUFLLEVBQUUsRUFBRTtxQkFDVixDQUFDO29CQUNGLElBQUksR0FBRyxNQUFNLHdGQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBRTFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFDL0IsQ0FBQyxDQUFDLENBQ0gsQ0FBQzthQUNIO1NBQ0Y7UUFDRCxJQUFJLFVBQVUsQ0FBQztRQUNmLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRTtZQUN2QixVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztTQUN6QjtRQUVELE1BQU0sVUFBVSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDcEQsSUFBSSxFQUFFO2dCQUNKLFVBQVU7Z0JBQ1YsV0FBVztnQkFDWCxhQUFhO2dCQUNiLGtCQUFrQjtnQkFDbEIsV0FBVztnQkFDWCxNQUFNO2dCQUNOLFVBQVU7YUFDWDtZQUNELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7U0FDbEIsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN4QixNQUFNLGdCQUFnQixHQUFHLE1BQU0seUVBQThCLENBQUM7WUFDNUQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsT0FBTyxFQUFFO2dCQUNQLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixXQUFXLEVBQUUsSUFBSTthQUNsQjtTQUNGLENBQUMsQ0FBQztRQUVILElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRTtZQUN2QixJQUFJLGlCQUFpQixDQUFDO1lBQ3RCLE1BQU0sR0FBRyxHQUFHLE1BQU0sMEVBQStCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pFLE1BQU0sT0FBTyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7Z0JBQ2pELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsU0FBUyxFQUFFO2FBQzdCLENBQUMsQ0FBQztZQUNILElBQUksZ0JBQWdCLEdBQUcsRUFBRSxFQUN2QixrQkFBa0IsR0FBRyxFQUFFLENBQUM7WUFFMUIsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUN0QyxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQUM7WUFDOUQsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtnQkFDM0Msa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDO2dCQUNuRCxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFLEVBQUU7b0JBQ3BELElBQ0UsZ0JBQWdCLENBQUMsTUFBTSxLQUFLLENBQUM7d0JBQzdCLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDLEtBQUssV0FBVyxFQUNwRDt3QkFDQSxnQkFBZ0IsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO3dCQUNuQyxpQkFBaUIsR0FBRyxTQUFTLENBQUM7cUJBQy9CO2dCQUNILENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLG9FQUF5QixDQUFDO2dCQUM5QixJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO2dCQUNoQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRTthQUMxQixDQUFDLENBQUM7WUFDSCxNQUFNLHNGQUFrQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUMsaUJBQWlCLENBQUM7U0FDdkU7UUFDRCxXQUFXLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLENBQUM7UUFDeEUsT0FBTyxXQUFXLENBQUM7S0FDcEI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLFdBQVcsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNwRCxPQUFPLFdBQVcsQ0FBQztLQUNwQjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwRzZDO0FBQ2dDO0FBRXhFLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3RELElBQUksV0FBVyxDQUFDO0lBQ2hCLElBQUk7UUFDRixNQUFNLHFGQUFnQixDQUFDLE9BQU8sQ0FBQztRQUUvQixNQUFNLFVBQVUsR0FBRyxNQUFNLHlFQUE4QixDQUFDO1lBQ3RELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ3RCLE9BQU8sRUFBRTtnQkFDUCxXQUFXLEVBQUUsSUFBSTtnQkFDakIsV0FBVyxFQUFFLElBQUk7YUFDbEI7U0FDRixDQUFDLENBQUM7UUFDSCxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVztRQUM3QyxJQUFJLFVBQVUsQ0FBQztRQUNmLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZixXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtZQUNoQyxVQUFVLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztnQkFDakQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRTtvQkFDaEQsV0FBVyxFQUFFLElBQUk7aUJBQ2xCO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxDQUFDLGFBQWEsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXO1FBQ3BELENBQUMsQ0FBQyxDQUNIO1FBQ0QsV0FBVyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7UUFDakUsT0FBTyxXQUFXO0tBQ25CO0lBQ0QsT0FBTyxLQUFLLEVBQUU7UUFDWixXQUFXLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25ELE9BQU8sV0FBVztLQUNuQjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbEM4QztBQUNnQztBQUV4RSxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzdELElBQUksV0FBVyxDQUFDO0lBQ2hCLElBQUk7UUFDRCxNQUFNLHFGQUFnQixDQUFDLE9BQU8sQ0FBQztRQUVoQyxNQUFNLFVBQVUsR0FBRyxNQUFNLHlFQUE4QixDQUFDO1lBQ3RELEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ3pELE9BQU8sRUFBRTtnQkFDUCxXQUFXLEVBQUUsSUFBSTtnQkFDakIsV0FBVyxFQUFFLElBQUk7YUFDbEI7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLGdCQUFnQixHQUFHLENBQUMsQ0FBQztRQUN6QixNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2YsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRSxFQUFFO1lBQ2hDLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxXQUFXLENBQUM7WUFDL0MsSUFBSSxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDNUIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxFQUFFO29CQUM5QixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxFQUFFO3dCQUNuQyxnQkFBZ0IsRUFBRTtxQkFFbkI7Z0JBRUgsQ0FBQyxDQUFDO2FBQ0g7UUFDSCxDQUFDLENBQUMsQ0FDSDtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGdCQUFnQixDQUFDO1FBQ2pDLFdBQVcsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFO1FBQ3JHLE9BQU8sV0FBVztLQUNuQjtJQUNELE9BQU8sS0FBSyxFQUFFO1FBQ1osV0FBVyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNuRCxPQUFPLFdBQVc7S0FDbkI7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0Q2tEO0FBQ0Q7QUFDQTtBQUNEO0FBQ2E7QUFFdkQsTUFBTSxrQkFBa0IsR0FBRztJQUNoQyxLQUFLLEVBQUU7UUFDTCxVQUFVLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsK0RBQVUsQ0FBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sQ0FBQztRQUMzRixpQkFBaUIsRUFBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQywyRUFBaUIsQ0FBQyxNQUFNLEVBQUMsS0FBSyxFQUFDLE9BQU8sQ0FBQztLQUMzRztJQUNELFFBQVEsRUFBQztRQUNQLFNBQVMsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLEtBQWdCLEVBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQywrREFBUyxDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO1FBQ25GLFNBQVMsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLEtBQWdCLEVBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQywrREFBUyxDQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsT0FBTyxDQUFDO0tBQ3BGO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNoQkssTUFBTSxpQkFBaUIsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQThDaEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzlDNkM7QUFJVTtBQUNrQjtBQUMvQjtBQUNvQztBQUV6RSxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzdELE1BQU0sRUFDSixTQUFTLEVBQ1QsUUFBUSxFQUNSLE9BQU8sRUFDUCxPQUFPLEVBQ1AsV0FBVyxFQUNYLFVBQVUsRUFDVixRQUFRLEdBQ1QsR0FBRyxJQUFJLENBQUM7SUFDVCxJQUFJO1FBQ0YsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsQyxJQUFJLGlCQUFpQixDQUFDO1FBQ3RCLE1BQU0saUJBQWlCLEdBQUcsTUFBTSwyQkFBMkIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0RSxNQUFNLE9BQU8sR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ2pELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7U0FDekIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLEVBQ3ZCLGtCQUFrQixHQUFHLEVBQUUsRUFDdkIsY0FBYyxHQUFHLEVBQUUsQ0FBQztRQUV0QixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3RDLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQztRQUM5RCxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFO1lBQzNDLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQztZQUNuRCxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLGdCQUFnQixFQUFFLEVBQUU7Z0JBQ3BELElBQ0UsUUFBUSxLQUFLLHNHQUFpQztvQkFDOUMsUUFBUSxLQUFLLGtHQUE2QjtvQkFDMUMsUUFBUSxLQUFLLDBHQUFxQyxFQUNsRDtvQkFDQSxJQUNFLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDO3dCQUM3QixnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLGlCQUFpQixFQUMxRDt3QkFDQSxnQkFBZ0IsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO3dCQUNuQyxpQkFBaUIsR0FBRyxTQUFTLENBQUM7cUJBQy9CO2lCQUNGO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILGNBQWMsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsZUFBZSxDQUFDO1FBRTFELGNBQWMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ3BDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUM5RCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztnQkFDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO2dCQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUM3QixNQUFNLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUNqQyxJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztnQkFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO2dCQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQzthQUMxQjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxvRUFBeUIsQ0FBQztZQUM5QixJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO1lBQ2hDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7U0FDekIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxpQkFBaUIsRUFBRTtZQUNyQixNQUFNLHNGQUFrQyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1NBQ3hFO1FBQ0QsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxDQUFDO0tBQzFDO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQzlDO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsRUFBRTtJQUMvRCxPQUFPLDZGQUFvQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDbEQsQ0FBQyxDQUFDO0FBQ0ssTUFBTSxpQkFBaUIsR0FBRyxDQUFDLHNCQUFzQixFQUFFLEVBQUU7SUFDMUQsSUFBSSxNQUFNLEVBQUUsVUFBVSxDQUFDO0lBQ3ZCLElBQUksc0JBQXNCLEVBQUU7UUFDMUIsTUFBTSxHQUFHLGtCQUFrQixDQUFDO1FBQzVCLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0tBQ3pCO1NBQU07UUFDTCxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2QsVUFBVSxHQUFHLElBQUksQ0FBQztLQUNuQjtJQUNELE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLENBQUM7QUFDaEMsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsRzZDO0FBQzhCO0FBQ1Q7QUFJaEM7QUFDd0M7QUFDaEQ7QUFDZ0U7QUFDaEI7QUFFckUsTUFBTSxVQUFVLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7O0lBQ3hELE1BQU0sdUJBQXVCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0lBQzlFLE1BQU0sRUFDSixTQUFTLEVBQ1QsV0FBVyxFQUNYLGlCQUFpQixFQUNqQixVQUFVLEVBQ1YsVUFBVSxFQUNWLFVBQVUsRUFDVixjQUFjLEVBQ2QsS0FBSyxFQUNMLGNBQWMsRUFDZCxpQkFBaUIsRUFDakIsbUJBQW1CLEVBQ25CLGVBQWUsRUFDZixxQkFBcUIsRUFDckIsd0JBQXdCLEVBQ3hCLG1CQUFtQixFQUNuQixZQUFZLEVBQ1osV0FBVyxFQUNYLGtCQUFrQixFQUNsQixNQUFNLEVBQ04sZ0JBQWdCLEVBQ2hCLE9BQU8sRUFDUCxvQkFBb0IsRUFDcEIsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLFFBQVEsRUFDUixrQkFBa0IsRUFDbEIsVUFBVSxFQUNWLE9BQU8sRUFDUCxhQUFhLEVBQ2IsWUFBWSxFQUNaLGFBQWEsRUFDYixNQUFNLEVBQ04sd0JBQXdCLEVBQ3hCLG1CQUFtQixFQUNuQixhQUFhLEVBQ2IsUUFBUSxFQUNSLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsb0JBQW9CLEVBQ3BCLHVCQUF1QixFQUN2QixZQUFZLEVBQ1osY0FBYyxFQUNkLGtCQUFrQixFQUNsQixxQkFBcUIsRUFDckIsU0FBUyxFQUNULHdCQUF3QixFQUN4QixTQUFTLEVBQ1QsZUFBZSxFQUNmLGdCQUFnQixFQUNqQixHQUFHLElBQUksQ0FBQztJQUNULElBQUk7UUFDRixNQUFNLGdCQUFnQixHQUFHLE1BQU0sMkVBQXVCLENBQ3BELHFDQUFxQyxFQUNyQyx3RUFBd0IsQ0FDekIsQ0FBQztRQUNGLE1BQU0sWUFBWSxHQUFHLE1BQU0sb0JBQW9CLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNwRSxNQUFNLG1CQUFtQixHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDN0QsS0FBSyxFQUFFO2dCQUNMLFNBQVMsRUFBRSxTQUFTO2FBQ3JCO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxtQkFBbUIsRUFBRTtZQUN2QixPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsQ0FBQztTQUN6RDtRQUNELElBQUksZ0JBQWdCLEVBQUU7WUFDcEIsTUFBTSxPQUFPLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUMsSUFBSSxFQUFFO29CQUNKLFNBQVM7b0JBQ1QsVUFBVSxFQUFFLHNCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLElBQUksMENBQUUsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDNUQsV0FBVztvQkFDWCxhQUFhLEVBQUUsT0FBTztvQkFDdEIsaUJBQWlCO29CQUNqQixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7b0JBQ3RCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDdEIsVUFBVTtvQkFDVixVQUFVO29CQUNWLFVBQVU7b0JBQ1YsY0FBYztvQkFDZCxLQUFLO29CQUNMLGlCQUFpQixFQUFFLFlBQVk7b0JBQy9CLGNBQWM7b0JBQ2QsaUJBQWlCO29CQUNqQixtQkFBbUI7b0JBQ25CLGVBQWU7b0JBQ2YscUJBQXFCO29CQUNyQix3QkFBd0I7b0JBQ3hCLG1CQUFtQjtvQkFDbkIsWUFBWTtvQkFDWixXQUFXO29CQUNYLGtCQUFrQjtvQkFDbEIsTUFBTTtvQkFDTixnQkFBZ0I7b0JBQ2hCLE9BQU87b0JBQ1Asb0JBQW9CO29CQUNwQixnQkFBZ0I7b0JBQ2hCLFlBQVk7b0JBQ1osbUJBQW1CO29CQUNuQixtQkFBbUI7b0JBQ25CLFFBQVE7b0JBQ1Isa0JBQWtCO29CQUNsQixVQUFVO29CQUNWLE9BQU87b0JBQ1AsYUFBYTtvQkFDYixZQUFZO29CQUNaLGFBQWE7b0JBQ2IsTUFBTTtvQkFDTix3QkFBd0I7b0JBQ3hCLG1CQUFtQjtvQkFDbkIsYUFBYTtvQkFDYixRQUFRO29CQUNSLGFBQWE7b0JBQ2IsZ0JBQWdCO29CQUNoQixvQkFBb0I7b0JBQ3BCLHVCQUF1QjtvQkFDdkIsWUFBWTtvQkFDWixjQUFjO29CQUNkLGtCQUFrQjtvQkFDbEIscUJBQXFCO29CQUNyQixTQUFTO29CQUNULHdCQUF3QjtvQkFDeEIsU0FBUztvQkFDVCxlQUFlO29CQUNmLGdCQUFnQjtpQkFDakI7YUFDRixDQUFDLENBQUM7WUFHSCxJQUFJLE9BQU8sRUFBRTtnQkFFWCxNQUFNLE1BQU0sQ0FDVixzQkFBZ0IsYUFBaEIsZ0JBQWdCLHVCQUFoQixnQkFBZ0IsQ0FBRSxJQUFJLDBDQUFFLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDaEQsT0FBTyxDQUFDLEVBQUUsQ0FDWCxDQUFDO2dCQUlGLE1BQU0seUJBQXlCLEdBQUcsTUFBTSxzQkFBc0IsQ0FDNUQsT0FBTyxFQUNQLElBQUksQ0FDTCxDQUFDO2dCQUVGLElBQUkseUJBQXlCLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRTtvQkFDMUMsdUJBQXVCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDbkMsdUJBQXVCLENBQUMsT0FBTyxHQUFHLHlCQUF5QixDQUFDLE9BQU8sQ0FBQztvQkFDcEUsT0FBTyx1QkFBdUIsQ0FBQztpQkFDaEM7Z0JBQ0QsTUFBTSxvRUFBeUIsQ0FBQztvQkFDOUIsS0FBSyxFQUFFO3dCQUNMLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRTtxQkFDZjtvQkFDRCxJQUFJLEVBQUU7d0JBQ0osWUFBWSxFQUFFLHlCQUF5QixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7cUJBQzNEO2lCQUNGLENBQUMsQ0FBQztnQkFDSCxJQUFJLHVCQUF1QixDQUFDLElBQUksS0FBSyxHQUFHLEVBQUU7b0JBQ3hDLE1BQU0sT0FBTyxHQUFHLE1BQU0sc0VBQTJCLENBQUM7d0JBQ2hELEtBQUssRUFBRSxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUU7cUJBQ3pDLENBQUMsQ0FBQztvQkFDSCxJQUFJLFNBQVMsR0FBRyxFQUFFLENBQUM7b0JBQ25CLE1BQU0sU0FBUyxHQUFHLE1BQU0seUVBQThCLENBQUM7d0JBQ3JELEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFO3FCQUNuQyxDQUFDLENBQUM7b0JBQ0gsU0FBUyxHQUFHLE1BQU0sd0VBQTZCLENBQUM7d0JBQzlDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsTUFBTSxFQUFFO3dCQUNuQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3FCQUN6QixDQUFDLENBQUM7b0JBQ0gsSUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDO29CQUM1QixJQUFJLGNBQWMsQ0FBQztvQkFDbkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7d0JBQzNDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7NEJBQ2xDLGNBQWMsR0FBRyxNQUFNLG9FQUF5QixDQUFDO2dDQUMvQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTs2QkFDekMsQ0FBQyxDQUFDOzRCQUNILElBQUksY0FBYyxDQUFDLFNBQVMsS0FBSyxPQUFPLENBQUMsU0FBUyxFQUFFO2dDQUNsRCxNQUFNLG9FQUF5QixDQUFDO29DQUM5QixLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRTtvQ0FDekIsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLGNBQWMsQ0FBQyxNQUFNLEVBQUU7aUNBQ3ZDLENBQUMsQ0FBQzs2QkFDSjt5QkFDRjtxQkFDRjtpQkFDRjtnQkFHRCxNQUFNLG9CQUFvQixDQUN4Qix5QkFBeUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQzVDLFVBQVUsQ0FDWCxDQUFDO2dCQUNGLE1BQU0sa0JBQWtCLENBQ3RCLHlCQUF5QixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFDNUMsT0FBTyxDQUFDLGlCQUFpQixDQUMxQixDQUFDO2dCQUdGLE1BQU0seUJBQXlCLEdBQUcsTUFBTSwrQkFBK0IsQ0FDckUsbUJBQW1CLEVBQ25CLHdCQUF3QixFQUN4QixJQUFJLENBQUMsU0FBUyxFQUNkLGFBQWEsQ0FDZCxDQUFDO2dCQUVGLElBQUkseUJBQXlCLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRTtvQkFDMUMsdUJBQXVCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDbkMsdUJBQXVCLENBQUMsT0FBTyxHQUFHLHlCQUF5QixDQUFDLE9BQU8sQ0FBQztvQkFDcEUsT0FBTyx1QkFBdUIsQ0FBQztpQkFDaEM7Z0JBQ0QsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLGlFQUFzQixDQUFDO29CQUNyRCxLQUFLLEVBQUU7d0JBQ0wsYUFBYSxFQUFFLGFBQWE7d0JBQzVCLGVBQWUsRUFBRSxJQUFJO3FCQUN0QjtpQkFDRixDQUFDLENBQUM7Z0JBQ0gsSUFBSSxpQkFBaUIsRUFBRTtvQkFDckIsSUFBSSxRQUFRLENBQUM7b0JBQ2IsSUFBSSxpQkFBaUIsQ0FBQyxlQUFlLEVBQUU7d0JBQ3JDLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztxQkFDaEU7b0JBQ0QsTUFBTSxTQUFTLEdBQUc7d0JBQ2hCLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO3dCQUNqQyxZQUFZLEVBQUUsaUJBQWlCLENBQUMsaUJBQWlCO3dCQUNqRCxXQUFXLEVBQUUsaUJBQWlCLENBQUMsdUJBQXVCO3dCQUN0RCxlQUFlLEVBQUUsaUJBQWlCLENBQUMsbUJBQW1CO3dCQUN0RCx1QkFBdUIsRUFDckIsaUJBQWlCLENBQUMseUJBQXlCO3dCQUM3QywyQkFBMkIsRUFDekIsaUJBQWlCLENBQUMsOEJBQThCO3dCQUNsRCxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBQyx5QkFBeUI7d0JBQ2hFLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxlQUFlO3dCQUNoRCxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO3dCQUN6QyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsYUFBYTt3QkFDOUMsV0FBVyxFQUFFLGlCQUFpQixDQUFDLGVBQWU7d0JBQzlDLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxlQUFlO3dCQUM3QyxrQkFBa0IsRUFBRSxpQkFBaUIsQ0FBQyxhQUFhO3dCQUNuRCxzQkFBc0IsRUFBRSxpQkFBaUIsQ0FBQyxvQkFBb0I7d0JBQzlELFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxnQkFBZ0I7d0JBQ2hELFFBQVEsRUFBRSxRQUFRO3dCQUNsQixVQUFVLEVBQUUsaUJBQWlCLENBQUMsaUJBQWlCO3dCQUMvQyxjQUFjLEVBQUUsaUJBQWlCLENBQUMsdUJBQXVCO3FCQUMxRCxDQUFDO29CQUVGLE1BQU0sWUFBWSxHQUFHLE1BQU0sMEVBQStCLENBQUM7d0JBQ3pELElBQUksRUFBRSxTQUFTO3FCQUNoQixDQUFDLENBQUM7b0JBRUgsTUFBTSxvRUFBeUIsQ0FBQzt3QkFDOUIsS0FBSyxFQUFFOzRCQUNMLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRTt5QkFDZjt3QkFDRCxJQUFJLEVBQUU7NEJBQ0osT0FBTyxFQUFFLFlBQVksQ0FBQyxFQUFFO3lCQUN6QjtxQkFDRixDQUFDLENBQUM7aUJBQ0o7cUJBQU07b0JBQ0wsdUJBQXVCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztvQkFDbkMsdUJBQXVCLENBQUMsT0FBTzt3QkFDN0IsaUVBQWlFLENBQUM7aUJBQ3JFO2FBQ0Y7WUFFRCx1QkFBdUIsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO1NBQ3hDO2FBQU07WUFDTCx1QkFBdUIsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ25DLHVCQUF1QixDQUFDLE9BQU8sR0FBRyxrQ0FBa0MsQ0FBQztTQUN0RTtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLHVCQUF1QixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbkMsdUJBQXVCLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7S0FDakQ7SUFFRCxPQUFPLHVCQUF1QixDQUFDO0FBQ2pDLENBQUMsQ0FBQztBQUVGLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxVQUFVLEVBQUUsRUFBRTtJQUN0QyxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQ2xDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FDckQsQ0FBQztJQUNGLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQztBQUVGLE1BQU0sc0JBQXNCLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUNyRCxNQUFNLG1CQUFtQixHQUFRLE1BQU0scUVBQTBCLENBQUM7UUFDaEUsS0FBSyxFQUFFO1lBQ0wsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVO1NBQ3hCO1FBQ0QsT0FBTyxFQUFFO1lBQ1AsVUFBVSxFQUFFO2dCQUNWLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7YUFDeEI7WUFDRCx1QkFBdUIsRUFBRTtnQkFDdkIsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTthQUMxQjtZQUNELFVBQVUsRUFBRTtnQkFDVixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2FBQ3hCO1NBQ0Y7S0FDRixDQUFDLENBQUM7SUFFSCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbEMsTUFBTSxtQkFBbUIsR0FBUSxNQUFNLHdFQUE2QixDQUFDO1FBQ25FLEtBQUssRUFBRTtZQUNMLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVTtTQUM1QjtRQUNELE9BQU8sRUFBRTtZQUNQLFNBQVMsRUFBRSxJQUFJO1NBQ2hCO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxlQUFlLENBQUM7SUFDcEIsSUFBSSxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUM1QyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUN6QyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsZUFBZSxHQUFHLEdBQUcsTUFBTSxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO0tBQ2xFO0lBQ0QsTUFBTSxZQUFZLEdBQUksZUFBZSxDQUFDLG1CQUFtQixDQUFDO0lBRTFELE1BQU0saUJBQWlCLEdBQUc7UUFDeEIsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO1FBQ3JCLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUztRQUN4QixrQkFBa0IsRUFBRSxJQUFJLENBQUMsWUFBWTtRQUNyQyxZQUFZLEVBQUUsR0FBRyxtQkFBbUIsQ0FBQyxTQUFTLElBQUksbUJBQW1CLENBQUMsUUFBUSxFQUFFO1FBQ2hGLFlBQVksRUFBRSxHQUFHLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO1FBQzlELFVBQVUsRUFBRSxFQUFFO1FBQ2QsV0FBVyxFQUFFLG1CQUFtQixDQUFDLGFBQWE7UUFDOUMsYUFBYSxFQUFFLEdBQUcsbUJBQW1CLENBQUMsYUFBYSxFQUFFO1FBQ3JELFlBQVksRUFBRSxFQUFFO1FBQ2hCLGVBQWUsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSTtRQUN6RCxNQUFNLEVBQUUsT0FBTztRQUNmLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbkQsQ0FBQztJQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGlCQUFpQixDQUFDLENBQUM7SUFDcEMsT0FBTyx3RkFBZ0IsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDekQsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwrQkFBK0IsR0FBRyxLQUFLLEVBQzNDLG1CQUFtQixFQUNuQix3QkFBd0IsRUFDeEIsUUFBUSxFQUNSLGFBQWEsRUFDYixFQUFFO0lBQ0YsSUFBSTtRQUNGLE1BQU0saUJBQWlCLEdBQUc7WUFDeEI7Z0JBQ0UsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkQsUUFBUSxFQUFFLFNBQVM7Z0JBQ25CLFNBQVMsRUFBRSxNQUFNLHVEQUFjLEVBQUUsRUFBRTtnQkFDbkMsYUFBYSxFQUFFLG1CQUFtQjtvQkFDaEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLG1CQUFtQjtvQkFDakMsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsV0FBVyxFQUFFLGVBQWU7Z0JBQzVCLFFBQVEsRUFBRSxRQUFRO2dCQUNsQixNQUFNLEVBQUUsU0FBUztnQkFDakIsT0FBTyxFQUFFLElBQUk7YUFDZDtTQUNGLENBQUM7UUFFRixNQUFNLHNCQUFzQixHQUFHO1lBQzdCO2dCQUNFLFdBQVcsRUFBRSxTQUFTO2dCQUN0QixhQUFhLEVBQUUsTUFBTSx1REFBYyxFQUFFLEVBQUU7Z0JBQ3ZDLGlCQUFpQixFQUFFLG1CQUFtQjtvQkFDcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLG1CQUFtQjtvQkFDakMsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsY0FBYyxFQUFFLGVBQWU7Z0JBQy9CLFlBQVksRUFBRSxRQUFRO2dCQUN0QixTQUFTLEVBQUUsU0FBUztnQkFDcEIsY0FBYyxFQUFFLGFBQWE7YUFDOUI7U0FDRixDQUFDO1FBRUYsSUFBSSx3QkFBd0IsRUFBRTtZQUM1QixpQkFBaUIsQ0FBQyxJQUFJLENBQUM7Z0JBQ3JCLFdBQVcsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELFFBQVEsRUFBRSxlQUFlO2dCQUN6QixTQUFTLEVBQUUsTUFBTSx1REFBYyxFQUFFLEVBQUU7Z0JBQ25DLGFBQWEsRUFBRSx3QkFBd0I7b0JBQ3JDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyx3QkFBd0I7b0JBQ3RDLENBQUMsQ0FBQyxDQUFDO2dCQUNMLFdBQVcsRUFBRSxvQkFBb0I7Z0JBQ2pDLFFBQVEsRUFBRSxRQUFRO2dCQUNsQixNQUFNLEVBQUUsU0FBUztnQkFDakIsT0FBTyxFQUFFLElBQUk7YUFDZCxDQUFDLENBQUM7WUFFSCxzQkFBc0IsQ0FBQyxJQUFJLENBQUM7Z0JBQzFCLFdBQVcsRUFBRSxlQUFlO2dCQUM1QixhQUFhLEVBQUUsTUFBTSx1REFBYyxFQUFFLEVBQUU7Z0JBQ3ZDLGlCQUFpQixFQUFFLHdCQUF3QjtvQkFDekMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLHdCQUF3QjtvQkFDdEMsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsY0FBYyxFQUFFLG9CQUFvQjtnQkFDcEMsWUFBWSxFQUFFLFFBQVE7Z0JBQ3RCLFNBQVMsRUFBRSxTQUFTO2dCQUNwQixjQUFjLEVBQUUsYUFBYTthQUM5QixDQUFDLENBQUM7U0FDSjtRQUVELE1BQU0sdUJBQXVCLEdBQUcsTUFBTSwrRUFBb0MsQ0FBQztZQUN6RSxJQUFJLEVBQUUsaUJBQWlCO1NBQ3hCLENBQUMsQ0FBQztRQUVILE1BQU0seUJBQXlCLEdBQzdCLE1BQU0sK0VBQW9DLENBQUM7WUFDekMsSUFBSSxFQUFFLHNCQUFzQjtTQUM3QixDQUFDLENBQUM7UUFFTCxJQUFJLHVCQUF1QixJQUFJLHlCQUF5QixFQUFFO1lBQ3hELE1BQU0sOEJBQThCLENBQUMsUUFBUSxDQUFDO1lBQzlDLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLG9DQUFvQztnQkFDN0MsSUFBSSxFQUFFLGlCQUFpQjthQUN4QixDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHVCQUF1QjtvQkFDOUIsQ0FBQyxDQUFDLGlDQUFpQztvQkFDbkMsQ0FBQyxDQUFDLDJCQUEyQjthQUNoQyxDQUFDO1NBQ0g7S0FDRjtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkIsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0tBQ3REO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxNQUFNLEdBQUcsS0FBSyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsRUFBRTtJQUM3QyxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUM7SUFDeEIsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDN0QsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQzFDLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUNwRSxTQUFTLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUMzQyxDQUFDO1lBQ0YsSUFBSSxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDOUIsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzthQUN4RDtTQUNGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzNCLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUV6QixZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDaEMsYUFBYSxDQUFDLElBQUksQ0FBQztnQkFDakIsU0FBUyxFQUFFLFNBQVM7Z0JBQ3BCLFdBQVcsRUFBRSxRQUFRO2dCQUNyQixhQUFhLEVBQUUsUUFBUTtnQkFDdkIsTUFBTSxFQUFFLE9BQU87YUFDaEIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLDJFQUFnQyxDQUFDO1lBQ3JDLElBQUksRUFBRSxhQUFhO1NBQ3BCLENBQUMsQ0FBQztLQUNKO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLEVBQUU7SUFDbkUsSUFBSSxpQkFBaUIsRUFBRTtRQUNyQixNQUFNLE1BQU0sR0FBRyxNQUFNLHFFQUEwQixDQUFDO1lBQzlDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRTtTQUNyQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sRUFBRTtZQUNWLE1BQU0sbUJBQW1CLEdBQUc7Z0JBQzFCLFlBQVksRUFBRSxZQUFZO2dCQUMxQixvQkFBb0IsRUFBRSxNQUFNLENBQUMsZUFBZTthQUM3QyxDQUFDO1lBQ0YsTUFBTSxnRkFBWSxDQUFDLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNyRDtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQzlELElBQUksVUFBVSxFQUFFO1FBQ2QsTUFBTSxRQUFRLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQztZQUNoRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO1NBQzlCLENBQUMsQ0FBQztRQUNILElBQUksUUFBUSxFQUFFO1lBQ1osTUFBTSxxQkFBcUIsR0FBRztnQkFDNUIsWUFBWSxFQUFFLFlBQVk7Z0JBQzFCLGFBQWEsRUFBRSxRQUFRLENBQUMsZUFBZTthQUN4QyxDQUFDO1lBQ0YsTUFBTSx5RkFBbUIsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDOUQ7S0FDRjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLGtCQUFrQixFQUFFLEVBQUU7SUFFeEQsTUFBTSx1QkFBdUIsR0FBRyxNQUFNLG1FQUF3QixDQUFDO1FBQzdELEtBQUssRUFBRTtZQUNMLFNBQVMsRUFBRSxFQUFFO1NBQ2Q7UUFDRCxPQUFPLEVBQUU7WUFDUCx1QkFBdUIsRUFBRTtnQkFDdkIsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTthQUMxQjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFDNUIsSUFBSSx1QkFBdUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3RDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZix1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUUsRUFBRTtZQUM5QyxlQUFlLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ2xELElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxrQkFBa0IsRUFBRTtvQkFDdkMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDL0M7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUNILENBQUM7S0FDSDtJQUNELElBQUksaUJBQWlCLENBQUM7SUFDdEIsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7UUFDM0IsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2pDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3pDO2FBQU0sSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3RDLE1BQU0sY0FBYyxHQUFHLE1BQU0sK0VBQW9DLENBQUM7Z0JBQ2hFLEtBQUssRUFBRTtvQkFDTCxrQkFBa0IsRUFBRSxrQkFBa0I7aUJBQ3ZDO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsaUJBQWlCLEdBQUcsTUFBTSxlQUFlLENBQ3ZDLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsa0JBQWtCLENBQ25CLENBQUM7U0FDSDtLQUNGO0lBQ0QsT0FBTyxpQkFBaUIsQ0FBQztBQUMzQixDQUFDLENBQUM7QUFDRixNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQzNCLGNBQWMsRUFDZCxnQkFBZ0IsRUFDaEIsa0JBQWtCLEVBQ2xCLEVBQUU7SUFDRixJQUFJLG9DQUFvQyxDQUFDO0lBQ3pDLElBQUksY0FBYyxFQUFFO1FBQ2xCLE1BQU0sdUJBQXVCLEdBQUcsY0FBYyxDQUFDLGlCQUFpQixDQUFDO1FBQ2pFLE1BQU0sMENBQTBDLEdBQzlDLGdCQUFnQixDQUFDLFNBQVMsQ0FDeEIsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLGVBQWUsS0FBSyx1QkFBdUIsQ0FDakUsQ0FBQztRQUNKLElBQ0UsZ0JBQWdCLENBQUMsTUFBTTtZQUN2QiwwQ0FBMEMsR0FBRyxDQUFDLEVBQzlDO1lBQ0Esb0NBQW9DLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDNUQ7YUFBTTtZQUNMLG9DQUFvQztnQkFDbEMsZ0JBQWdCLENBQUMsMENBQTBDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDcEU7UUFDRCxNQUFNLDRFQUFpQyxDQUFDO1lBQ3RDLEtBQUssRUFBRTtnQkFDTCxZQUFZLEVBQUUsY0FBYyxDQUFDLFlBQVk7YUFDMUM7WUFDRCxJQUFJLEVBQUU7Z0JBQ0osaUJBQWlCLEVBQUUsb0NBQW9DO2FBQ3hEO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7U0FBTTtRQUVMLE1BQU0sNEVBQWlDLENBQUM7WUFDdEMsSUFBSSxFQUFFO2dCQUNKLGtCQUFrQixFQUFFLGtCQUFrQjtnQkFDdEMsaUJBQWlCLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO2FBQ3ZDO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsb0NBQW9DLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDNUQ7SUFDRCxPQUFPLG9DQUFvQyxDQUFDO0FBQzlDLENBQUMsQ0FBQztBQUNGLE1BQU0sOEJBQThCLEdBQUcsS0FBSyxFQUFFLFFBQWdCLEVBQUcsRUFBRTtJQUNqRSxNQUFNLFlBQVksR0FBRyxNQUFNLHVFQUE0QixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDM0YsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLElBQUksWUFBWSxFQUFFO1FBRWhCLElBQUksWUFBWSxDQUFDLFVBQVUsRUFBRTtZQUMzQixNQUFNLFFBQVEsR0FBRyxNQUFNLG9FQUF5QixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDakcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGVBQWUsRUFBRTtnQkFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDO2FBQ3RDO1NBRUY7YUFDSTtZQUNILE1BQU0sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUM7U0FDdEM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDO1FBR3JDLElBQUksWUFBWSxDQUFDLEtBQUssRUFBRTtZQUN0QixNQUFNLFlBQVksR0FBRyxNQUFNLG9FQUF5QixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDaEcsSUFBSSxZQUFZLElBQUksWUFBWSxDQUFDLGVBQWUsRUFBRTtnQkFDaEQsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDO2FBQzFDO1NBQ0Y7S0FDRjtJQUNDLE1BQU0sUUFBUSxHQUFHLE1BQU0sdUVBQTRCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7SUFFdkcsTUFBTSxtQkFBbUIsR0FBSSxzR0FBb0MsQ0FBQyxRQUFRLEVBQUMsUUFBUSxDQUFDO0lBRXBGLE1BQU0sT0FBTyxHQUFHLHNDQUFzQyxRQUFRLEVBQUU7SUFFaEUsTUFBTSxrR0FBd0IsQ0FDNUIsUUFBUSxDQUFDLGFBQWEsRUFDdEIsT0FBTyxFQUNQLG1CQUFtQixFQUNuQixNQUFNLENBQ1AsQ0FBQztBQUNOLENBQUM7QUFDRCxNQUFNLGVBQWUsR0FBRyxDQUFDLG1CQUFtQixFQUFFLEVBQUU7SUFDOUMsTUFBTSxTQUFTLEdBQUcsbUJBQW1CLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUM1RixNQUFNLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3pGLE9BQU8sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxRQUFRLEVBQUUsQ0FBQztBQUMxRCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNubkI4QztBQUNIO0FBRXJDLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUU7O0lBQ25FLElBQUk7UUFDRixNQUFNLFdBQVcsR0FBUSxNQUFNLHVFQUE0QixDQUFDO1lBQzFELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFO1NBQy9CLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLG1CQUFtQixDQUFDLENBQUM7U0FDL0M7UUFDRCxNQUFNLGlCQUFpQixHQUFHLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztRQUN4RCxNQUFNLGVBQWUsR0FBRyxXQUFXLENBQUMsZUFBZSxDQUFDO1FBQ3BELE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxlQUFlLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDeEUsTUFBTSxVQUFVLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDbEQsTUFBTSxpQkFBaUIsR0FDckIsaUJBQWlCLEdBQUcsVUFBVSxHQUFHLG1CQUFtQixDQUFDO1FBQ3ZELE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvQixNQUFNLDJCQUEyQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzVFLE1BQU0sNEJBQTRCLEdBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzNDLE1BQU0sNEJBQTRCLEdBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQzNDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBRW5FLE1BQU0sa0JBQWtCLEdBQUc7WUFDekIsMkJBQTJCO1lBQzNCLDRCQUE0QjtZQUM1Qiw0QkFBNEI7WUFDNUIsNEJBQTRCO1NBQzdCLENBQUM7UUFDRixNQUFNLFNBQVMsR0FBRyxNQUFNLFlBQVksQ0FBQyxXQUFXLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUN0RSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sYUFBYSxHQUNqQix1QkFBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFVBQVUsMENBQUUsVUFBVSwwQ0FBRSxpQkFBaUIsQ0FBQztRQUN6RCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDaEMsSUFDRSxPQUFPLENBQUMsbUJBQW1CO2dCQUMzQixPQUFPLENBQUMsbUJBQW1CLENBQUMsTUFBTSxLQUFLLENBQUM7Z0JBQ3hDLFFBQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxLQUFLLE1BQUssU0FBUyxFQUM1QjtnQkFDQSxNQUFNLGtCQUFrQixHQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxtQkFBbUIsQ0FBQztnQkFDeEQsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7b0JBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO3dCQUNoQixHQUFHLENBQUMsOEJBQThCLEtBQUssSUFBSTt3QkFDM0MsR0FBRyxDQUFDLFFBQVEsS0FBSyxJQUFJLEVBQ3JCO3dCQUNBLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO3FCQUN2QjtnQkFDSCxDQUFDLENBQUMsQ0FBQzthQUNKO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDSCxXQUFXLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsR0FBRyxhQUFhLENBQUM7UUFDcEUsTUFBTSxvRUFBeUIsQ0FBQztZQUM5QixLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUM5QixJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLFVBQVUsRUFBRTtTQUM3QyxDQUFDLENBQUM7UUFDSCxPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUseUNBQXlDO1lBQ2xELGFBQWEsRUFBRSxTQUFTO1NBQ3pCLENBQUM7S0FDSDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3pDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxFQUFFO0lBQzdELE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxVQUFVLENBQUM7SUFDekMsTUFBTSx5QkFBeUIsR0FDN0IsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbEQsTUFBTSwwQkFBMEIsR0FDOUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbEQsTUFBTSwwQkFBMEIsR0FDOUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbEQsTUFBTSwwQkFBMEIsR0FDOUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbkQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2hDLE1BQU0sc0JBQXNCLEdBQUcsV0FBVyxDQUFDLHdCQUF3QixDQUFDO0lBQ3BFLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDO0lBQzdCLE1BQU0sb0JBQW9CLEdBQUcsc0JBQXNCLEdBQUcsZ0JBQWdCLENBQUM7SUFDdkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sYUFBYSxHQUFHLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3pFLElBQUksU0FBUyxDQUFDO0lBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQixJQUFJLGFBQWEsSUFBSSxDQUFDLEVBQUU7UUFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLGFBQWEsS0FBSyxDQUFDLEVBQUU7WUFDdkIsU0FBUyxHQUFHLHlCQUF5QixDQUFDO1NBQ3ZDO2FBQU0sSUFBSSxhQUFhLEtBQUssQ0FBQyxFQUFFO1lBQzlCLFNBQVMsR0FBRywwQkFBMEIsQ0FBQztTQUN4QzthQUFNLElBQUksYUFBYSxLQUFLLENBQUMsRUFBRTtZQUM5QixTQUFTLEdBQUcsMEJBQTBCLENBQUM7U0FDeEM7YUFBTSxJQUFJLGFBQWEsS0FBSyxDQUFDLEVBQUU7WUFDOUIsU0FBUyxHQUFHLDBCQUEwQixDQUFDO1NBQ3hDO0tBQ0Y7U0FBTTtRQUNMLE1BQU0sZUFBZSxHQUFHLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3pFLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLGVBQWUsS0FBSyxDQUFDLEVBQUU7WUFDekIsU0FBUyxHQUFHLHlCQUF5QixDQUFDO1NBQ3ZDO2FBQU0sSUFBSSxlQUFlLEtBQUssQ0FBQyxFQUFFO1lBQ2hDLFNBQVMsR0FBRywwQkFBMEIsQ0FBQztTQUN4QzthQUFNLElBQUksZUFBZSxLQUFLLENBQUMsRUFBRTtZQUNoQyxTQUFTLEdBQUcsMEJBQTBCLENBQUM7U0FDeEM7YUFBTSxJQUFJLGVBQWUsS0FBSyxDQUFDLEVBQUU7WUFDaEMsU0FBUyxHQUFHLDBCQUEwQixDQUFDO1NBQ3hDO0tBQ0Y7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakg2QztBQUNpQztBQUV6RSxNQUFNLDBCQUEwQixHQUFHLEtBQUssRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFOztJQUNyRSxNQUFNLGtCQUFrQixHQUFHLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUM7SUFDOUQsTUFBTSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDMUMsSUFBSSxpQkFBaUIsQ0FBQztJQUN0QixJQUFJO1FBQ0YsTUFBTSxjQUFjLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQztZQUN6RCxLQUFLLEVBQUU7Z0JBQ0wsRUFBRSxFQUFFLFNBQVM7YUFDZDtTQUNGLENBQUMsQ0FBQztRQUVILElBQUcsY0FBYyxFQUFDO1lBQ2QsMEJBQWMsYUFBZCxjQUFjLHVCQUFkLGNBQWMsQ0FBRSxVQUFVLENBQUMsWUFBWSxDQUFDLDBDQUFFLGlCQUFpQiwwQ0FBRSxPQUFPLENBQ2hFLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQ1osSUFBSSxTQUFTLENBQUMsbUJBQW1CLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFDNUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUMsa0JBQWtCLEVBQUUsRUFBRTt3QkFDaEUsSUFBSSxrQkFBa0IsQ0FBQyxnQkFBZ0IsS0FBSyxhQUFhLEVBQUU7NEJBQ3JELGtCQUFrQixDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7NEJBQ3JDLGlCQUFpQixHQUFHLFNBQVMsQ0FBQzt5QkFDbkM7b0JBQ0gsQ0FBQyxDQUFDLENBQUM7aUJBQ0o7WUFDSCxDQUFDLENBQ0YsQ0FBQztZQUVGLE1BQU0sb0VBQXlCLENBQUM7Z0JBQzVCLEtBQUssRUFBQztvQkFDSixFQUFFLEVBQUMsU0FBUztpQkFDYjtnQkFDRCxJQUFJLEVBQUM7b0JBQ0gsVUFBVSxFQUFDLGNBQWMsQ0FBQyxVQUFVO2lCQUNyQzthQUNGLENBQUM7WUFFUixNQUFNLHNGQUFrQyxDQUFDLFNBQVMsRUFBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3RFLGtCQUFrQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7WUFDOUIsa0JBQWtCLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDO1NBQ3BEO0tBQ0o7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNSLGtCQUFrQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDOUIsa0JBQWtCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDeEM7SUFFRCxPQUFPLGtCQUFrQixDQUFDO0FBQzVCLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvQzZDO0FBQzRCO0FBR2xCO0FBQ2I7QUFFckMsTUFBTSxxQkFBcUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUMvRCxNQUFNLEVBQ0YsU0FBUyxFQUNULFFBQVEsRUFDUixpQkFBaUIsR0FDcEIsR0FBRyxJQUFJLENBQUM7SUFDVCxJQUFJLHdCQUF3QixDQUFDO0lBQzdCLElBQUk7UUFDQSxNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWxDLE1BQU0sT0FBTyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDL0MsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRTtTQUMzQixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1YsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLG1CQUFtQixDQUFDLENBQUM7U0FDakQ7UUFDRCxJQUFJLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFDeEIsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUN0QyxjQUFjLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUUxRCxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUNsQyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLFFBQVEsRUFBRTtnQkFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsc0ZBQWlCLENBQUM7Z0JBQ25DLElBQUksUUFBUSxLQUFLLHNHQUFpQyxJQUFJLFFBQVEsS0FBSyxrR0FBNkIsRUFBRTtvQkFDOUYsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGlCQUFpQjtvQkFDNUMsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7d0JBQzFCLHdCQUF3QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsd0NBQXdDLEVBQUUsQ0FBQztxQkFDL0Y7eUJBQU07d0JBQ0gsd0JBQXdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSw2Q0FBNkMsRUFBRSxDQUFDO3FCQUNwRztpQkFDSjtxQkFBTTtvQkFDSCxJQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBQzt3QkFDeEIsd0JBQXdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRTtxQkFDdEY7eUJBQUs7d0JBQ0YsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGlCQUFpQjt3QkFDNUMsd0JBQXdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSx3Q0FBd0MsRUFBRSxDQUFDO3FCQUMvRjtpQkFDSjthQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsTUFBTSxvRUFBeUIsQ0FBQztZQUM1QixJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFO1lBQ2hDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7U0FDM0IsQ0FBQyxDQUFDO1FBQ0gsT0FBTyx3QkFBd0IsQ0FBQztLQUVuQztJQUNELE9BQU8sS0FBSyxFQUFFO1FBQ1Ysd0JBQXdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxDQUFDO1FBQ3BGLE9BQU8sd0JBQXdCLENBQUM7S0FDbkM7QUFDTCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0Q4QztBQU1YO0FBQ3dEO0FBQzdCO0FBRXhELE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDdEUsTUFBTSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRXZELElBQUk7UUFDRixNQUFNLGNBQWMsR0FBRyxNQUFNLHdFQUE2QixDQUFDO1lBQ3pELEtBQUssRUFBRTtnQkFDTCxFQUFFLEVBQUUsU0FBUzthQUNkO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsSUFBSSxpQkFBaUIsQ0FBQztRQUN0QixLQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDVCxDQUFDLEdBQUcsY0FBYyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLEVBQ3BFLENBQUMsRUFBRSxFQUNIO1lBQ0EsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixLQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFDVCxDQUFDO2dCQUNELGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO3FCQUN6RCxtQkFBbUIsQ0FBQyxNQUFNLEVBQzdCLENBQUMsRUFBRSxFQUNIO2dCQUNBLElBQ0UsY0FBYyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7cUJBQ3pELG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLFlBQVksRUFDM0Q7b0JBQ0EsSUFBSSxZQUFZLEtBQUssNEJBQTRCLEVBQUU7d0JBQ2pELGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQ3ZELENBQUMsQ0FDRixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7d0JBQ3BELGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQ3ZELENBQUMsQ0FDRixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7d0JBQzNDLE1BQU0sSUFBSSxHQUFHOzRCQUNYLGtCQUFrQixFQUFFLFlBQVksQ0FBQyxNQUFNOzRCQUN2QyxvQkFBb0IsRUFBRSxZQUFZLENBQUMsbUJBQW1COzRCQUN0RCxXQUFXLEVBQUUsWUFBWSxDQUFDLFdBQVc7NEJBQ3JDLGFBQWEsRUFBRSxZQUFZLENBQUMsYUFBYTs0QkFDekMsbUJBQW1CLEVBQUUsWUFBWSxDQUFDLG1CQUFtQjs0QkFDckQsU0FBUyxFQUFFLFlBQVksQ0FBQyxTQUFTOzRCQUNqQyxTQUFTLEVBQUUsWUFBWSxDQUFDLFNBQVM7Z0NBQy9CLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQztnQ0FDN0IsQ0FBQyxDQUFDLFNBQVM7eUJBQ2QsQ0FBQzt3QkFDRixpQkFBaUI7NEJBQ2YsY0FBYyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDL0QsTUFBTSxRQUFRLEdBQUcsTUFBTSxxQkFBcUIsQ0FDMUMsWUFBWSxFQUNaLGNBQWMsRUFDZCxZQUFZLENBQ2IsQ0FBQzt3QkFDRixJQUFJLFFBQVEsQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFOzRCQUNsQyxNQUFNLDZDQUE2QyxDQUNqRCxTQUFTLEVBQ1QsSUFBSSxDQUNMLENBQUM7eUJBQ0g7cUJBQ0Y7eUJBQU0sSUFBSSxZQUFZLEtBQUsseUJBQXlCLEVBQUU7d0JBQ3JELGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQ3ZELENBQUMsQ0FDRixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7d0JBQzNDLGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQ3ZELENBQUMsQ0FDRixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRzs0QkFDOUIsZUFBZSxFQUFFLFlBQVksQ0FBQyxlQUFlO3lCQUM5QyxDQUFDO3dCQUNGLE1BQU0sSUFBSSxHQUFHOzRCQUNYLE9BQU8sRUFBRSxZQUFZLENBQUMsT0FBTzs0QkFDN0IsZUFBZSxFQUFFLFlBQVksQ0FBQyxlQUFlOzRCQUM3QyxzQkFBc0IsRUFBRSxZQUFZLENBQUMsc0JBQXNCOzRCQUMzRCxXQUFXLEVBQUUsWUFBWSxDQUFDLFdBQVc7NEJBQ3JDLGFBQWEsRUFBRSxZQUFZLENBQUMsYUFBYTs0QkFDekMsb0NBQW9DLEVBQ2xDLFlBQVksQ0FBQyxvQ0FBb0M7NEJBQ25ELFdBQVcsRUFBRSxZQUFZLENBQUMsV0FBVzs0QkFDckMsZUFBZSxFQUFFLFlBQVksQ0FBQyxlQUFlO3lCQUM5QyxDQUFDO3dCQUNGLGlCQUFpQjs0QkFDZixjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUMvRCxNQUFNLFFBQVEsR0FBRyxNQUFNLHFCQUFxQixDQUMxQyxZQUFZLEVBQ1osY0FBYyxFQUNkLFlBQVksQ0FDYixDQUFDO3dCQUNGLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxTQUFTLEVBQUU7NEJBQ2xDLE1BQU0sNkNBQTZDLENBQ2pELFNBQVMsRUFDVCxJQUFJLENBQ0wsQ0FBQzt5QkFDSDtxQkFDRjt5QkFBTSxJQUFJLFlBQVksS0FBSyxrQkFBa0IsRUFBRTt3QkFDOUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEIsaUJBQWlCOzRCQUNmLGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQy9ELE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGlCQUFpQixDQUFDLENBQUM7d0JBQ25DLE1BQU0sUUFBUSxHQUFHLE1BQU0scUJBQXFCLENBQzFDLFlBQVksRUFDWixjQUFjLEVBQ2QsWUFBWSxDQUNiLENBQUM7d0JBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7d0JBQzFCLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxTQUFTLEVBQUU7NEJBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7NEJBQ2hCLGNBQWMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsaUJBQWlCLENBQ3ZELENBQUMsQ0FDRixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7eUJBQzVDOzZCQUFNOzRCQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7eUJBQ2pCO3FCQUNGO3lCQUFNLElBQUksWUFBWSxLQUFLLDBCQUEwQixFQUFFO3dCQUN0RCxjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGlCQUFpQixDQUN2RCxDQUFDLENBQ0YsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO3dCQUMzQyxjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGlCQUFpQixDQUN2RCxDQUFDLENBQ0YsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUc7NEJBQzlCLFdBQVcsRUFBRSxJQUFJO3lCQUNsQixDQUFDO3dCQUNGLGlCQUFpQjs0QkFDZixjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUNoRTtpQkFDRjthQUNGO1NBQ0Y7UUFDRCxNQUFNLHNGQUFrQyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBRXZFLE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxTQUFTO2FBQ2Q7WUFDRCxJQUFJLEVBQUU7Z0JBQ0osVUFBVSxFQUFFLGNBQWMsQ0FBQyxVQUFVO2FBQ3RDO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1FBQzlCLDBFQUEwQixHQUFHLG1CQUFtQixDQUFDO0tBQ2xEO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1FBQzlCLDBFQUEwQixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDeEM7SUFDRCxPQUFPLGtFQUFrQixDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUNGLE1BQU0scUJBQXFCLEdBQUcsS0FBSyxFQUNqQyxZQUFZLEVBQ1osY0FBYyxFQUNkLFlBQVksRUFDWixFQUFFOztJQUNGLElBQUk7UUFDRixJQUFJLFFBQVEsQ0FBQztRQUNiLE1BQU0sUUFBUSxHQUFHLE1BQU0scUVBQTBCLENBQUM7WUFDaEQsS0FBSyxFQUFFLEVBQUUsTUFBTSxFQUFFLGNBQWMsQ0FBQyxVQUFVLEVBQUU7U0FDN0MsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxlQUFlLEdBQUcsTUFBTSxxRUFBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2RCxNQUFNLFFBQVEsR0FBRyxNQUFNLHdFQUE2QixDQUFDO1lBQ25ELEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxjQUFjLENBQUMsVUFBVSxFQUFFO1NBQ2pELENBQUMsQ0FBQztRQUNILE1BQU0sY0FBYyxHQUNsQixjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUMxRCxJQUFJLHFCQUFxQixFQUN2QixtQkFBbUIsRUFDbkIsd0JBQXdCLEVBQ3hCLGtCQUFrQixFQUNsQixlQUFlLEVBQ2YsYUFBYSxDQUFDO1FBQ2hCLGNBQWMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ3BDLFFBQVEsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7Z0JBQ2hDLEtBQUsscUJBQXFCO29CQUN4QixxQkFBcUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNyQyxNQUFNO2dCQUNSLEtBQUssbUJBQW1CO29CQUN0QixtQkFBbUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNuQyxNQUFNO2dCQUNSLEtBQUsseUJBQXlCO29CQUM1Qix3QkFBd0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUN4QyxNQUFNO2dCQUNSLEtBQUssa0JBQWtCO29CQUNyQixrQkFBa0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNsQyxNQUFNO2dCQUNSLEtBQUssdUJBQXVCO29CQUMxQixlQUFlLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDL0IsTUFBTTtnQkFDUixLQUFLLGNBQWM7b0JBQ2pCLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO29CQUM3QixNQUFNO2FBQ1Q7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx3QkFBd0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN0RSxNQUFNLEVBQUUsR0FBRyxNQUFNLG1DQUFtQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU1RSxNQUFNLEVBQUUsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7UUFDdEMsSUFBSSxnQkFBZ0IsQ0FBQztRQUNyQixJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRTtZQUM3QixnQkFBZ0IsR0FBRyxNQUFNLHFFQUEwQixDQUFDO2dCQUNsRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLGdCQUFnQixFQUFFO2FBQzdDLENBQUMsQ0FBQztTQUNKO1FBQ0QsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsZUFBZSxFQUFFLGdCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLGVBQWUsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sWUFBWSxHQUFHLGVBQWUsQ0FBQztRQUNyQyxNQUFNLElBQUksR0FBRyxNQUFNLE9BQU8sQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDL0MsSUFBSSxnQkFBZ0IsQ0FBQyw4QkFBOEIsRUFBRTtZQUNuRCxNQUFNLElBQUksR0FDUiw0QkFBZ0IsQ0FBQyw4QkFBOEIsMENBQUUsSUFBSSwwQ0FBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsRUFDcEUsVUFBVSxDQUFDO1lBQ2hCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDdEIsTUFBTSx3QkFBd0IsR0FBVTtvQkFDdEMsWUFBWTtvQkFDWixpQkFBaUI7b0JBQ2pCLGdCQUFnQjtvQkFDaEIsZUFBZTtvQkFDZiw0QkFBNEI7b0JBQzVCLGVBQWU7b0JBQ2YsZUFBZTtvQkFDZixVQUFVO29CQUNWLGdCQUFnQjtvQkFDaEIsZ0JBQWdCO29CQUNoQixjQUFjO29CQUNkLGNBQWM7b0JBQ2Qsb0JBQW9CO29CQUNwQiwyQkFBMkI7b0JBQzNCLDBCQUEwQjtvQkFDMUIsZUFBZTtvQkFDZixTQUFTO29CQUNULFNBQVM7b0JBQ1QsU0FBUztvQkFDVCxTQUFTO29CQUNULFNBQVM7b0JBQ1QsY0FBYztvQkFDZCxhQUFhO29CQUNiLG9CQUFvQjtvQkFDcEIsd0JBQXdCO29CQUN4Qix3QkFBd0I7b0JBQ3hCLFlBQVk7aUJBQ2IsQ0FBQztnQkFDRixNQUFNLG9CQUFvQixHQUFVO29CQUNsQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2pDLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxlQUFlO29CQUN6QixRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsV0FBVztvQkFDckIsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUNqQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtvQkFDNUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUNoQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2pDLGNBQWMsYUFBZCxjQUFjLHVCQUFkLGNBQWMsQ0FBRSxTQUFTO29CQUN6QixRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsYUFBYTtvQkFDdkIsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLGFBQWE7b0JBQ3ZCLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQzVELGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQzVELGNBQWMsQ0FBQyxpQkFBaUI7d0JBQzlCLENBQUMsQ0FBQyxjQUFjLENBQUMsaUJBQWlCO3dCQUNsQyxDQUFDLENBQUMsRUFBRTtvQkFDTixZQUFZLENBQUMsb0NBQW9DO3dCQUMvQyxDQUFDLENBQUMsWUFBWSxDQUFDLG9DQUFvQzt3QkFDbkQsQ0FBQyxDQUFDLEVBQUU7b0JBQ04sWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDeEQsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDeEQsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUNuQyxZQUFZLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSTtvQkFDbEQsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUMzQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNoRSxFQUFFO29CQUNGLFlBQVksQ0FBQyxlQUFlO3dCQUMxQixDQUFDLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7d0JBQzFELENBQUMsQ0FBQyxFQUFFO29CQUNOLFlBQVksQ0FBQyxlQUFlO3dCQUMxQixDQUFDLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7d0JBQzFELENBQUMsQ0FBQyxFQUFFO29CQUNOLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDNUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3RDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDbEQsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJO2lCQUMxQyxDQUFDO2dCQUVGLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUN2QyxlQUFlLEVBQ2YsY0FBYyxDQUFDLFdBQVcsQ0FDM0IsQ0FBQztnQkFFRixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO2dCQUNwQyxNQUFNLFlBQVksR0FBRyxNQUFNLFdBQVcsQ0FDcEMsd0JBQXdCLEVBQ3hCLG9CQUFvQixFQUNwQixPQUFPLENBQ1IsQ0FBQztnQkFDRixRQUFRLEdBQUcsTUFBTSxrR0FBd0IsQ0FDdkMsRUFBRSxFQUNGLE9BQU8sRUFDUCxZQUFZLEVBQ1osRUFBRSxDQUNILENBQUM7YUFDSDtTQUNGO1FBQ0QsSUFBSSxnQkFBZ0IsQ0FBQyx3Q0FBd0MsRUFBRTtZQUM3RCxNQUFNLElBQUksR0FDUiw0QkFBZ0IsQ0FBQyx3Q0FBd0MsMENBQUUsSUFBSSwwQ0FDM0QsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDO1lBRW5DLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDdEIsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzlDLElBQUksYUFBYSxDQUFDO2dCQUNsQixJQUFJLElBQUksRUFBRTtvQkFDUixNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7b0JBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO3dCQUN4QixHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDL0QsQ0FBQyxDQUFDLENBQUM7b0JBRUgsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0IsYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2lCQUMzQztnQkFFRCxNQUFNLGtDQUFrQyxHQUFVO29CQUNoRCxZQUFZO29CQUNaLGNBQWM7b0JBQ2QsaUJBQWlCO29CQUNqQixnQkFBZ0I7b0JBQ2hCLGVBQWU7b0JBQ2YsNEJBQTRCO29CQUM1QixlQUFlO29CQUNmLGVBQWU7b0JBQ2YsV0FBVztvQkFDWCxnQkFBZ0I7b0JBQ2hCLFNBQVM7b0JBQ1QsWUFBWTtvQkFDWix1QkFBdUI7b0JBQ3ZCLDZCQUE2QjtvQkFDN0IsZUFBZTtvQkFDZixnQkFBZ0I7b0JBQ2hCLHlCQUF5QjtvQkFDekIsa0VBQWtFO29CQUNsRSxnQkFBZ0I7b0JBQ2hCLHNCQUFzQjtvQkFDdEIsMEJBQTBCO2lCQUMzQixDQUFDO2dCQUVGLE1BQU0sOEJBQThCLEdBQVU7b0JBQzVDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDakMsY0FBYyxDQUFDLFdBQVc7b0JBQzFCLFFBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxlQUFlO29CQUN6QixRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsV0FBVztvQkFDckIsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUNqQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtvQkFDNUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUNoQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2pDLGNBQWMsYUFBZCxjQUFjLHVCQUFkLGNBQWMsQ0FBRSxTQUFTO29CQUN6QixRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsYUFBYTtvQkFDdkIsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDOUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDcEQsWUFBWSxDQUFDLG1CQUFtQjt3QkFDOUIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxtQkFBbUI7d0JBQ2xDLENBQUMsQ0FBQyxFQUFFO29CQUNOLFlBQVksQ0FBQyxtQkFBbUI7d0JBQzlCLENBQUMsQ0FBQyxZQUFZLENBQUMsbUJBQW1CO3dCQUNsQyxDQUFDLENBQUMsRUFBRTtvQkFDTixjQUFjLENBQUMsaUJBQWlCO3dCQUM5QixDQUFDLENBQUMsY0FBYyxDQUFDLGlCQUFpQjt3QkFDbEMsQ0FBQyxDQUFDLEVBQUU7b0JBQ04sWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDaEUsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDeEQsYUFBYSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2xDLGFBQWEsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNsQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQzlDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsRUFBRTtpQkFDekQsQ0FBQztnQkFFRixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWTtxQkFDOUIsT0FBTyxDQUFDLGNBQWMsRUFBRSxjQUFjLENBQUMsV0FBVyxDQUFDO3FCQUNuRCxPQUFPLENBQUMsV0FBVyxFQUFFLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBRTNELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7Z0JBQ3BDLE1BQU0sWUFBWSxHQUFHLE1BQU0sV0FBVyxDQUNwQyxrQ0FBa0MsRUFDbEMsOEJBQThCLEVBQzlCLE9BQU8sQ0FDUixDQUFDO2dCQUNGLFFBQVEsR0FBRyxNQUFNLGtHQUF3QixDQUN2QyxFQUFFLEVBQ0YsT0FBTyxFQUNQLFlBQVksRUFDWixFQUFFLENBQ0gsQ0FBQzthQUNIO1NBQ0Y7UUFDRCxJQUFJLGdCQUFnQixDQUFDLHFDQUFxQyxFQUFFO1lBQzFELE1BQU0sSUFBSSxHQUNSLDRCQUFnQixDQUFDLHFDQUFxQywwQ0FBRSxJQUFJLDBDQUFFLFNBQVMsQ0FDcEUsSUFBSSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUM7WUFDeEIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO2dCQUN0QixNQUFNLHdCQUF3QixHQUFVO29CQUN0QyxZQUFZO29CQUNaLHFCQUFxQjtvQkFDckIseUJBQXlCO29CQUN6QixzQkFBc0I7b0JBQ3RCLDBCQUEwQjtvQkFDMUIsZUFBZTtpQkFDaEIsQ0FBQztnQkFDRixNQUFNLG9CQUFvQixHQUFVO29CQUNsQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2pDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDNUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3RDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDOUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUN4RCxjQUFjLENBQUMsV0FBVztpQkFDM0IsQ0FBQztnQkFDRixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FDdkMsY0FBYyxFQUNkLGNBQWMsQ0FBQyxXQUFXLENBQzNCLENBQUM7Z0JBRUYsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztnQkFDcEMsTUFBTSxZQUFZLEdBQUcsTUFBTSxXQUFXLENBQ3BDLHdCQUF3QixFQUN4QixvQkFBb0IsRUFDcEIsT0FBTyxDQUNSLENBQUM7Z0JBRUYsTUFBTSxRQUFRLEdBQUcsNEJBQTRCLENBQUM7Z0JBQzlDLE1BQU0sTUFBTSxHQUFHLENBQUMsd0JBQXdCLENBQUMsQ0FBQztnQkFDMUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsZUFBZSxDQUFDO2dCQUV0QyxRQUFRLEdBQUcsTUFBTSxrR0FBd0IsQ0FDdkMsUUFBUSxFQUNSLE9BQU8sRUFDUCxZQUFZLEVBQ1osTUFBTSxDQUNQLENBQUM7YUFDSDtTQUNGO1FBQ0QsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sNkNBQTZDLEdBQUcsS0FBSyxFQUN6RCxTQUFTLEVBQ1QsWUFBWSxFQUNaLEVBQUU7SUFDRixNQUFNLG9FQUF5QixDQUFDO1FBQzlCLEtBQUssRUFBRTtZQUNMLEVBQUUsRUFBRSxTQUFTO1NBQ2Q7UUFDRCxJQUFJLEVBQUUsWUFBWTtLQUNuQixDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFDRixNQUFNLFdBQVcsR0FBRyxDQUNsQix3QkFBd0IsRUFDeEIsb0JBQW9CLEVBQ3BCLE9BQU8sRUFDUCxFQUFFO0lBQ0YsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN4RCxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FDdkIsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLEVBQzNCLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUN4QixDQUFDO0tBQ0g7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDLENBQUM7QUFDRixNQUFNLG1DQUFtQyxHQUFHLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRTs7SUFDM0QsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ2QsSUFBSSxNQUFNLEVBQUU7UUFDVixNQUFNLElBQUksR0FBRyxNQUFNLHNFQUEyQixDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMxRSxJQUFJLElBQUksRUFBRTtZQUNSLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBSSxDQUFDLHdCQUF3QiwwQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNwRDtLQUNGO0lBQ0QsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7QUFDRixNQUFNLHdCQUF3QixHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUN0RCxJQUFJLFFBQVEsQ0FBQztJQUNiLElBQUksOEJBQThCLEVBQ2hDLHdDQUF3QyxFQUN4QyxxQ0FBcUMsQ0FBQztJQUV4QyxNQUFNLGFBQWEsR0FBRyxxQ0FBcUMsQ0FBQztJQUM1RCxJQUFJLFlBQVksS0FBSyx5QkFBeUIsRUFBRTtRQUM5QyxRQUFRLEdBQUcsd0JBQXdCLENBQUM7UUFDcEMsOEJBQThCLEdBQUcsTUFBTSwyRUFBdUIsQ0FDNUQsYUFBYSxFQUNiLHFGQUFpQyxDQUFDLFFBQVEsQ0FBQyxDQUM1QyxDQUFDO0tBQ0g7U0FBTSxJQUFJLFlBQVksS0FBSyw0QkFBNEIsRUFBRTtRQUN4RCxRQUFRLEdBQUcsNkJBQTZCLENBQUM7UUFDekMsd0NBQXdDLEdBQUcsTUFBTSwyRUFBdUIsQ0FDdEUsYUFBYSxFQUNiLHFGQUFpQyxDQUFDLFFBQVEsQ0FBQyxDQUM1QyxDQUFDO0tBQ0g7U0FBTSxJQUFJLFlBQVksS0FBSyxrQkFBa0IsRUFBRTtRQUM5QyxRQUFRLEdBQUcsc0JBQXNCLENBQUM7UUFDbEMscUNBQXFDLEdBQUcsTUFBTSwyRUFBdUIsQ0FDbkUsYUFBYSxFQUNiLHFGQUFpQyxDQUFDLFFBQVEsQ0FBQyxDQUM1QyxDQUFDO0tBQ0g7SUFDRCxPQUFPO1FBQ0wsOEJBQThCO1FBQzlCLHdDQUF3QztRQUN4QyxxQ0FBcUM7S0FDdEMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUNGLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLEVBQUU7O0lBQzNDLE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxDQUFDLFVBQVU7UUFDNUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFO1FBQzVCLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDUCxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMzRSxNQUFNLFlBQVksR0FBRyxHQUFHLGNBQVEsQ0FBQyxTQUFTLDBDQUFFLElBQUksRUFBRSxHQUNoRCxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLGtCQUFrQixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FDeEQsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBRXRCLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN0RSxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDbkUsTUFBTSxZQUFZLEdBQUcsR0FBRyxTQUFTLEdBQUcsUUFBUSxFQUFFLENBQUM7SUFDL0MsT0FBTyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQztBQUN4QyxDQUFDLENBQUM7QUFDRixNQUFNLGtCQUFrQixHQUFHLENBQUMsWUFBWSxFQUFFLEVBQUU7SUFDMUMsSUFBSSxTQUFTLENBQUM7SUFDZCxJQUFJLFlBQVksQ0FBQyxTQUFTLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQy9ELFNBQVMsR0FBRyxDQUFDLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ3pDO0lBQ0QsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xoQjZDO0FBQ2lDO0FBRXpFLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDckUsTUFBTSxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDL0QsTUFBTSxXQUFXLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUMvQyxJQUFJLGlCQUFpQixDQUFDO0lBQ3RCLElBQUk7UUFDRixNQUFNLHVCQUF1QixHQUFRLE1BQU0sdUVBQTRCLENBQUM7WUFDdEUsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxTQUFTO2FBQ2Q7U0FDRixDQUFDLENBQUM7UUFFSCx1QkFBdUIsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FDckUsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUNaLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO2dCQUMzRCxJQUFJLGtCQUFrQixDQUFDLGdCQUFnQixLQUFLLG9CQUFvQixFQUFFO29CQUNoRSxrQkFBa0IsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO29CQUNyQyxpQkFBaUIsR0FBRyxTQUFTLENBQUM7aUJBQy9CO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQ0YsQ0FBQztRQUNGLElBQUksb0JBQW9CLEtBQUssb0JBQW9CLEVBQUU7WUFDakQsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFO29CQUNMLEVBQUUsRUFBRSxTQUFTO2lCQUNkO2dCQUNELElBQUksRUFBRTtvQkFDSixVQUFVLEVBQUUsdUJBQXVCLENBQUMsVUFBVTtpQkFDL0M7YUFDRixDQUFDLENBQUM7U0FDSjtRQUdELE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxTQUFTO2FBQ2Q7WUFDRCxJQUFJLEVBQUU7Z0JBQ0osVUFBVSxFQUFFLHVCQUF1QixDQUFDLFVBQVU7Z0JBQzlDLFlBQVksRUFBRSxZQUFZO2FBQzNCO1NBQ0YsQ0FBQyxDQUFDO1FBR0gsTUFBTSxzRkFBa0MsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUN2RSxXQUFXLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUN2QixXQUFXLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztLQUVqQztJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsV0FBVyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDdkIsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQ2pDO0lBRUQsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pENkM7QUFDckI7QUFDd0Q7QUFDRjtBQUNIO0FBQ1Q7QUFDZ0I7QUFFN0UsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUM1RCxJQUFJLG1CQUFtQixDQUFDO0lBQ3hCLE1BQU0sRUFDSixFQUFFLEVBQ0YsU0FBUyxFQUNULFdBQVcsRUFDWCxhQUFhLEVBQ2IsWUFBWSxFQUNaLFVBQVUsRUFDVixVQUFVLEVBQ1YsVUFBVSxFQUNWLGNBQWMsRUFDZCxLQUFLLEVBQ0wsaUJBQWlCLEVBQ2pCLGdCQUFnQixFQUNoQixjQUFjLEVBQ2QsaUJBQWlCLEVBQ2pCLG1CQUFtQixFQUNuQixlQUFlLEVBQ2YscUJBQXFCLEVBQ3JCLHdCQUF3QixFQUN4QixtQkFBbUIsRUFDbkIsWUFBWSxFQUNaLFdBQVcsRUFDWCxrQkFBa0IsRUFDbEIsTUFBTSxFQUNOLGdCQUFnQixFQUNoQixPQUFPLEVBQ1Asb0JBQW9CLEVBQ3BCLGdCQUFnQixFQUNoQixZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLG1CQUFtQixFQUNuQixRQUFRLEVBQ1Isa0JBQWtCLEVBQ2xCLFVBQVUsRUFDVixPQUFPLEVBQ1AsYUFBYSxFQUNiLFlBQVksRUFDWixhQUFhLEVBQ2IsTUFBTSxFQUNOLHdCQUF3QixFQUN4QixtQkFBbUIsRUFDbkIsYUFBYSxFQUNiLFFBQVEsR0FDVCxHQUFHLElBQUksQ0FBQztJQUNULE1BQU0sS0FBSyxHQUFHLDRDQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3JELElBQUk7UUFDRixNQUFNLE9BQU8sR0FBRyxNQUFNLG9FQUF5QixDQUFDO1lBQzlDLElBQUksRUFBRTtnQkFDSixTQUFTO2dCQUNULFdBQVc7Z0JBQ1gsYUFBYTtnQkFDYixZQUFZO2dCQUNaLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDM0IsVUFBVTtnQkFDVixVQUFVO2dCQUNWLGNBQWM7Z0JBQ2QsS0FBSztnQkFDTCxpQkFBaUI7Z0JBQ2pCLGdCQUFnQjtnQkFDaEIsY0FBYztnQkFDZCxpQkFBaUI7Z0JBQ2pCLG1CQUFtQjtnQkFDbkIsZUFBZTtnQkFDZixxQkFBcUI7Z0JBQ3JCLHdCQUF3QjtnQkFDeEIsbUJBQW1CO2dCQUNuQixZQUFZO2dCQUNaLFdBQVc7Z0JBQ1gsa0JBQWtCO2dCQUNsQixNQUFNO2dCQUNOLGdCQUFnQjtnQkFDaEIsT0FBTztnQkFDUCxvQkFBb0I7Z0JBQ3BCLGdCQUFnQjtnQkFDaEIsWUFBWTtnQkFDWixtQkFBbUI7Z0JBQ25CLG1CQUFtQjtnQkFDbkIsUUFBUTtnQkFDUixrQkFBa0I7Z0JBQ2xCLFVBQVU7Z0JBQ1YsT0FBTztnQkFDUCxhQUFhO2dCQUNiLFlBQVk7Z0JBQ1osYUFBYTtnQkFDYixNQUFNO2dCQUNOLHdCQUF3QjtnQkFDeEIsbUJBQW1CO2dCQUNuQixhQUFhO2dCQUNiLFFBQVE7YUFDVDtZQUNELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7U0FDbEIsQ0FBQyxDQUFDO1FBRUgsTUFBTSwrQkFBK0IsQ0FDbkMsT0FBTyxDQUFDLFlBQVksRUFDcEIsYUFBYSxFQUNiLFVBQVUsQ0FDWCxDQUFDO1FBQ0YsTUFBTSw4QkFBOEIsQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sMEJBQTBCLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNuRSxNQUFNLHdCQUF3QixDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUN4RSxNQUFNLHlCQUF5QixDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFbEUsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ3ZFLE9BQU8sbUJBQW1CLENBQUM7S0FDNUI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzVELE9BQU8sbUJBQW1CLENBQUM7S0FDNUI7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLHlCQUF5QixHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDbkUsSUFBSSxVQUFVLEVBQUU7UUFDZCxNQUFNLE9BQU8sR0FBRyxNQUFNLHdFQUE2QixDQUFDO1lBQ2xELEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLENBQUMsRUFBRTtTQUNsRCxDQUFDLENBQUM7UUFDSCxJQUFJLE9BQU8sRUFBRTtZQUNYLE1BQU0sWUFBWSxHQUFHLEdBQUcsT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDaEgsTUFBTSxvQkFBb0IsR0FBRztnQkFDM0IsWUFBWSxFQUFFLFlBQVk7Z0JBQzFCLGNBQWMsRUFBRSxZQUFZO2FBQzdCLENBQUM7WUFDRixNQUFNLGdHQUFvQixDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUM5RDtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSx3QkFBd0IsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLGlCQUFpQixFQUFFLEVBQUU7SUFDekUsSUFBSSxpQkFBaUIsRUFBRTtRQUNyQixNQUFNLE1BQU0sR0FBRyxNQUFNLHFFQUEwQixDQUFDO1lBQzlDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRTtTQUNyQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sRUFBRTtZQUNWLE1BQU0sbUJBQW1CLEdBQUc7Z0JBQzFCLFlBQVksRUFBRSxZQUFZO2dCQUMxQixvQkFBb0IsRUFBRSxNQUFNLENBQUMsZUFBZTthQUM3QyxDQUFDO1lBQ0YsTUFBTSxnRkFBWSxDQUFDLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNyRDtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwwQkFBMEIsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQ3BFLElBQUksVUFBVSxFQUFFO1FBQ2QsTUFBTSxRQUFRLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQztZQUNoRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO1NBQzlCLENBQUMsQ0FBQztRQUNILElBQUksUUFBUSxFQUFFO1lBQ1osTUFBTSxxQkFBcUIsR0FBRztnQkFDNUIsWUFBWSxFQUFFLFlBQVk7Z0JBQzFCLGFBQWEsRUFBRSxRQUFRLENBQUMsZUFBZTthQUN4QyxDQUFDO1lBQ0YsTUFBTSx5RkFBbUIsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDOUQ7S0FDRjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sOEJBQThCLEdBQUcsS0FBSyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUMxRSxJQUFJLFlBQVksRUFBRTtRQUNoQixNQUFNLG1CQUFtQixHQUFHO1lBQzFCLFlBQVksRUFBRSxZQUFZO1lBQzFCLFlBQVksRUFBRSxZQUFZO1NBQzNCLENBQUM7UUFDRixNQUFNLDRGQUFrQixDQUFDLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMzRDtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sK0JBQStCLEdBQUcsS0FBSyxFQUMzQyxZQUFZLEVBQ1osYUFBYSxFQUNiLFVBQVUsRUFDVixFQUFFO0lBQ0YsSUFBSSxhQUFhLEVBQUU7UUFDakIsTUFBTSxvQkFBb0IsR0FBRztZQUMzQixZQUFZLEVBQUUsWUFBWTtZQUMxQixhQUFhLEVBQUUsYUFBYTtZQUM1QixVQUFVLEVBQUUsVUFBVTtTQUN2QixDQUFDO1FBQ0YsTUFBTSw4RkFBbUIsQ0FBQyxJQUFJLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0Q7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxTDZDO0FBQ0g7QUFDb0M7QUFFaEYsSUFBSyxvQkFNSjtBQU5ELFdBQUssb0JBQW9CO0lBQ3ZCLHdFQUFnRDtJQUNoRCxxRUFBNkM7SUFDN0MsNkZBQXFFO0lBQ3JFLDhFQUFzRDtJQUN0RCw2RUFBcUQ7QUFDdkQsQ0FBQyxFQU5JLG9CQUFvQixLQUFwQixvQkFBb0IsUUFNeEI7QUFDRCxNQUFNLGNBQWMsR0FBRztJQUNyQixvQkFBb0IsQ0FBQyx1QkFBdUI7SUFDNUMsb0JBQW9CLENBQUMseUJBQXlCO0lBQzlDLG9CQUFvQixDQUFDLG9CQUFvQjtJQUN6QyxvQkFBb0IsQ0FBQyxvQ0FBb0M7SUFDekQsb0JBQW9CLENBQUMsd0JBQXdCO0NBQzlDLENBQUM7QUFFSyxNQUFNLHlCQUF5QixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFOztJQUN4RSxJQUFJLGlCQUFpQixDQUFDO0lBQ3RCLElBQUk7UUFDRixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUN2RCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUseUJBQXlCLENBQUMsQ0FBQztTQUNyRDtRQUNELE1BQU0sV0FBVyxHQUFRLE1BQU0sdUVBQTRCLENBQUM7WUFDMUQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxTQUFTLEVBQUU7U0FDL0IsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztTQUMvQztRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNsRSxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLENBQUMsQ0FBQztTQUNqRDtRQUNELE1BQU0sYUFBYSxHQUNqQix1QkFBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFVBQVUsMENBQUUsVUFBVSwwQ0FBRSxpQkFBaUIsQ0FBQztRQUN6RCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDaEMsSUFDRSxPQUFPLENBQUMsbUJBQW1CO2dCQUMzQixPQUFPLENBQUMsbUJBQW1CLENBQUMsTUFBTSxLQUFLLENBQUMsRUFDeEM7Z0JBQ0EsTUFBTSxrQkFBa0IsR0FBRyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsbUJBQW1CLENBQUM7Z0JBQ3hELGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO29CQUNqQyxJQUNFLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQzt3QkFDaEIsSUFBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLGdCQUFnQixNQUFLLEtBQUssQ0FBQyxtQkFBbUIsRUFDbkQ7d0JBQ0EsaUJBQWlCLEdBQUcsT0FBTyxDQUFDO3dCQUM1QixHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQzt3QkFDdEIsR0FBRyxDQUFDLElBQUksR0FBRzs0QkFDVCxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVE7NEJBQ3hCLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVzt5QkFDL0IsQ0FBQzt3QkFDRixHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7cUJBQ3JDO2dCQUNILENBQUMsQ0FBQyxDQUFDO2FBQ0o7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILFdBQVcsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixHQUFHLGFBQWEsQ0FBQztRQUNwRSxNQUFNLG9FQUF5QixDQUFDO1lBQzlCLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsU0FBUyxFQUFFO1lBQzlCLElBQUksRUFBRSxFQUFFLFVBQVUsRUFBRSxXQUFXLENBQUMsVUFBVSxFQUFFO1NBQzdDLENBQUMsQ0FBQztRQUNILElBQUksaUJBQWlCLEVBQUU7WUFDckIsTUFBTSxzRkFBa0MsQ0FDdEMsS0FBSyxDQUFDLFNBQVMsRUFDZixpQkFBaUIsQ0FDbEIsQ0FBQztTQUNIO1FBQ0QsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLGlDQUFpQztTQUMzQyxDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN6QztBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQzdFNkM7QUFFeEMsTUFBTSxXQUFXLEdBQUcsS0FBSyxJQUFJLEVBQUU7SUFDcEMsSUFBSSxtQkFBbUI7SUFDdkIsSUFBSTtRQUNGLE1BQU0sUUFBUSxHQUFHLE1BQU0sc0VBQTJCLENBQUM7WUFDakQsT0FBTyxFQUFFO2dCQUNQLFFBQVEsRUFBRSxJQUFJO2dCQUNkLFlBQVksRUFBRyxJQUFJO2dCQUNuQixnQkFBZ0IsRUFBRyxJQUFJO2dCQUN2QixJQUFJLEVBQUcsSUFBSTtnQkFDWCxRQUFRLEVBQUcsSUFBSTtnQkFDZixZQUFZLEVBQUcsSUFBSTtnQkFDbkIsR0FBRyxFQUFHLElBQUk7Z0JBQ1YsZUFBZSxFQUFHLElBQUk7Z0JBQ3RCLGNBQWMsRUFBRyxJQUFJO2FBQ3RCO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDO1FBQ3hFLE9BQU8sbUJBQW1CO0tBQzNCO0lBQ0QsT0FBTyxLQUFLLEVBQUU7UUFDWixtQkFBbUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDM0QsT0FBTyxtQkFBbUI7S0FDM0I7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzFCMEU7QUFDTTtBQUUxRSxNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNwRCxJQUFJLGtCQUFrQixDQUFDO0lBQ3ZCLElBQUk7UUFDQSxNQUFNLElBQUksR0FBRyxNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQztRQUM5QyxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsSUFBSTtRQUUzQixNQUFNLGNBQWMsR0FBRztZQUNuQixHQUFHLEVBQUUsVUFBVSxDQUFDLFFBQVE7WUFDeEIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxZQUFZO1lBQ3BDLE1BQU0sRUFBRSxVQUFVLENBQUMsTUFBTTtZQUN6QixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbkIsV0FBVyxFQUFFLENBQUM7U0FDakIsQ0FBQztRQUNILE1BQU8sSUFBSSxHQUFHLE1BQU0sd0ZBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUVsRCxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDbEMsa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtRQUNsRSxPQUFPLGtCQUFrQixDQUFDO0tBQzdCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDMUQsT0FBTyxrQkFBa0IsQ0FBQztLQUM3QjtBQUNMLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekI4QztBQUNpQjtBQUV6RCxNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzdELE1BQU0sRUFBQyxFQUFFLEVBQUMsR0FBRyxJQUFJLENBQUM7SUFDbEIsSUFBRztRQUNBLE1BQU0sT0FBTyxHQUFHLE1BQU0sd0VBQTZCLENBQUM7WUFDaEQsS0FBSyxFQUFDO2dCQUNGLEVBQUUsRUFBQyxFQUFFO2FBQ1I7U0FDSixDQUFDO1FBQ0YsSUFBRyxDQUFDLE9BQU8sRUFBQztZQUNSLHVFQUF1QixHQUFHLEdBQUc7WUFDN0IsMEVBQTBCLEdBQUcsK0JBQStCO1lBQzVELE9BQU8sa0VBQWtCLENBQUM7U0FDN0I7UUFDRCx1RUFBdUIsR0FBRyxHQUFHO1FBQzdCLHVFQUF1QixHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQztLQUMxRTtJQUNELE9BQU0sQ0FBQyxFQUFDO1FBQ0wsdUVBQXVCLEdBQUcsR0FBRztRQUM3QiwwRUFBMEIsR0FBRyxDQUFDLENBQUMsT0FBTztLQUN4QztJQUNELE9BQU8sa0VBQWtCLENBQUM7QUFDL0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3hCOEM7QUFFeEMsTUFBTSxhQUFhLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDdkQsTUFBTSxjQUFjLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUN0RCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxtQkFBbUIsRUFBRSxLQUFLLEVBQUU7S0FDckQsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0lBQ3pELE1BQU0sa0JBQWtCLEdBQUcsY0FBYyxDQUFDLHdCQUF3QixDQUFDO0lBQ25FLE1BQU0sc0JBQXNCLEdBQUcsY0FBYyxDQUFDLHdCQUF3QixDQUFDO0lBQ3ZFLE1BQU0sMkJBQTJCLEdBQUcsY0FBYyxDQUFDLDhCQUE4QixDQUFDO0lBQ2xGLE1BQU0sZUFBZSxHQUFHLGNBQWMsQ0FBQyxvQkFBb0IsQ0FBQztJQUM1RCxJQUFJLHFCQUFxQixHQUFHLElBQUksQ0FBQztJQUNqQyxxQkFBcUIsR0FBRztRQUNwQixJQUFJLEVBQUUsR0FBRztRQUNULE9BQU8sRUFBRSxTQUFTO1FBQ2xCLGFBQWEsRUFBRSxhQUFhO1FBQzVCLGtCQUFrQixFQUFFLGtCQUFrQjtRQUN0Qyx3QkFBd0IsRUFBRSxzQkFBc0I7UUFDaEQsOEJBQThCLEVBQUUsMkJBQTJCO1FBQzNELGVBQWUsRUFBRSxlQUFlO0tBQ25DLENBQUM7SUFDRixPQUFPLHFCQUFxQixDQUFDO0FBR2pDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hCOEM7QUFDZTtBQUkxQjtBQUU3QixNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFDNUQsSUFBSTtRQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDckQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsT0FBTyxFQUFFO2dCQUNQLFFBQVEsRUFBRTtvQkFDUixPQUFPLEVBQUU7d0JBQ1AsU0FBUyxFQUFFOzRCQUNULE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUU7eUJBQzdCO3FCQUNGO2lCQUNGO2dCQUNELFlBQVksRUFBRSxJQUFJO2dCQUNsQixnQkFBZ0IsRUFBRSxJQUFJO2dCQUN0QixJQUFJLEVBQUUsSUFBSTtnQkFDVixRQUFRLEVBQUU7b0JBQ1IsT0FBTyxFQUFFO3dCQUNQLHVCQUF1QixFQUFFOzRCQUN2QixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO3lCQUMxQjt3QkFDRCxVQUFVLEVBQUU7NEJBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTt5QkFDeEI7d0JBQ0QsVUFBVSxFQUFFOzRCQUNWLE9BQU8sRUFBRTtnQ0FDUCxJQUFJLEVBQUUsSUFBSTs2QkFDWDt5QkFDRjtxQkFDRjtpQkFDRjtnQkFDRCxZQUFZLEVBQUUsSUFBSTtnQkFDbEIsR0FBRyxFQUFFLElBQUk7Z0JBQ1QsZUFBZSxFQUFFLElBQUk7YUFDdEI7U0FDRixDQUFDLENBQUM7UUFDSCxNQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM3QixJQUFJLFdBQVcsRUFBRTtZQUNmLE1BQU0sUUFBUSxHQUFHLHVFQUFXLENBQUMsQ0FBQyxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUN0RCxJQUFJLFFBQVEsRUFBRTtnQkFDWixXQUFXLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNwQztTQUNGO1FBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDMUIsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLEdBQUcsV0FBVyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQ2pFLFdBQVcsQ0FBQyxVQUFVLEVBQ3RCLFNBQVMsQ0FDVixDQUFDO1NBQ0g7UUFDRCxJQUNFLFdBQVcsQ0FBQyx3QkFBd0I7WUFDcEMsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLEVBQy9CO1lBQ0EsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxXQUFXLENBQUMsa0JBQWtCO2dCQUNyRSxXQUFXLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsQ0FBQztTQUN0RDtRQUVELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFO1lBQzNCLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSwyRUFBdUIsQ0FFcEQscUNBQXFDLEVBRXJDLHdFQUF3QixDQUN6QixDQUFDO1lBQ0YsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFO29CQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtpQkFDWjtnQkFDRCxJQUFJLEVBQUU7b0JBQ0osVUFBVSxFQUFFLHNCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLElBQUksMENBQUUsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFDNUQsZ0JBQWdCLEVBQUUsYUFBYTtpQkFDaEM7YUFDRixDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsZ0JBQWdCLEdBQUcsYUFBYSxDQUFDO1NBQzlDO1FBQ0QsSUFBSSxXQUFXLENBQUMsYUFBYSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBRTtZQUNyRCxNQUFNLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxXQUFXLENBQUMsbUJBQW1CLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3hFLE1BQU0sa0JBQWtCLEdBQ3RCLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3RELE1BQU0saUJBQWlCLEdBQ3JCLGdCQUFnQixHQUFHLGtCQUFrQixJQUFJLGdCQUFnQixDQUFDO1lBQzVELFdBQVcsQ0FBQyxpQkFBaUIsR0FBRyxVQUFVLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekUsSUFBSSxXQUFXLENBQUMsd0JBQXdCLEVBQUU7Z0JBQ3hDLE1BQU0sYUFBYSxHQUNqQixDQUFDLENBQUMsV0FBVyxDQUFDLHdCQUF3QixHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQkFDdEQsTUFBTSxlQUFlLEdBQ25CLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQzFELE1BQU0sY0FBYyxHQUFHLGFBQWEsR0FBRyxlQUFlLElBQUksYUFBYSxDQUFDO2dCQUN4RSxXQUFXLENBQUMscUJBQXFCLEdBQUcsVUFBVSxDQUM1QyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUMxQixDQUFDO2FBQ0g7WUFFRCxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztZQUN0RSxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQztnQkFDdkMsV0FBVyxDQUFDLHFCQUFxQixDQUFDO1lBQ3BDLE1BQU0sb0VBQXlCLENBQUM7Z0JBQzlCLEtBQUssRUFBRTtvQkFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUU7aUJBQ1o7Z0JBQ0QsSUFBSSxFQUFFLGdCQUFnQjthQUN2QixDQUFDLENBQUM7WUFDSCxJQUFJLEtBQUssQ0FBQztZQUNWLE1BQU0sZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLG1CQUFtQixDQUFDO1lBQ3pELE1BQU0sYUFBYSxHQUFHLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztZQUMzRCxNQUFNLG1CQUFtQixHQUFHLFdBQVcsQ0FBQyxlQUFlLENBQUM7WUFDeEQsTUFBTSxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsbUJBQW1CLENBQUM7WUFDekQsTUFBTSxVQUFVLDZEQUNkLGFBQWEsRUFBRSxXQUFXLENBQUMsYUFBYSxFQUN4QyxZQUFZLEVBQUU7b0JBQ1osV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFFBQVEsQ0FBQyxTQUFTO29CQUMvQixXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsUUFBUSxDQUFDLFFBQVE7aUJBQy9CLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUNYLGVBQWUsRUFBRSxtQkFBbUIsSUFDakMsQ0FBQyxnQkFBZ0IsSUFBSSxFQUFFLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLENBQUMsS0FDbEUsWUFBWSxFQUFFLGdCQUFnQixLQUMzQixDQUFDLGFBQWEsSUFBSSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsQ0FBQyxLQUNwRCxhQUFhLEVBQUUsSUFBSSxFQUNuQixTQUFTLEVBQ1A7b0JBQ0UsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFFBQVEsQ0FBQyxTQUFTO29CQUMvQixXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsUUFBUSxDQUFDLFFBQVE7aUJBQy9CLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsRUFDMUIsYUFBYSxFQUFFLElBQUksR0FDcEIsQ0FBQztZQUNGLEtBQUssR0FBRyxNQUFNLDBFQUErQixDQUFDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7WUFDcEUsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsS0FBSyxFQUFFO29CQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtpQkFDWjtnQkFDRCxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRTthQUM1QixDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUM7U0FDaEM7UUFFRCxNQUFNLHlCQUF5QixHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7UUFDdkQsV0FBVyxDQUFDLFFBQVEsR0FBRyx5QkFBeUIsQ0FBQztRQUNqRCxPQUFPLFdBQVcsQ0FBQyxVQUFVLENBQUM7UUFDOUIsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLG1CQUFtQixDQUNoRCxXQUFXLENBQUMsa0JBQWtCLENBQy9CLENBQUM7UUFDRixNQUFNLFdBQVcsR0FBRyxNQUFNLGNBQWMsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFakUsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLFNBQVM7WUFDbEIsSUFBSSxFQUFFLFdBQVc7WUFDakIsZ0JBQWdCLEVBQUUsZ0JBQWdCO1lBQ2xDLFdBQVcsRUFBRSxXQUFXO1NBQ3pCLENBQUM7S0FDSDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEIsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztLQUM5QztBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLGtCQUFrQixFQUFFLEVBQUU7SUFFdkQsTUFBTSx1QkFBdUIsR0FBRyxNQUFNLG1FQUF3QixDQUFDO1FBQzdELEtBQUssRUFBRTtZQUNMLFNBQVMsRUFBRSxFQUFFO1NBQ2Q7UUFDRCxPQUFPLEVBQUU7WUFDUCx1QkFBdUIsRUFBRTtnQkFDdkIsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTthQUMxQjtTQUNGO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFDNUIsSUFBSSx1QkFBdUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3RDLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDZix1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUUsRUFBRTtZQUM5QyxlQUFlLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ2xELElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxrQkFBa0IsRUFBRTtvQkFDdkMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2lCQUN4QztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQ0gsQ0FBQztLQUNIO0lBRUQsT0FBTyxnQkFBZ0IsQ0FBQztBQUMxQixDQUFDLENBQUM7QUFDRixNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDMUMsTUFBTSxPQUFPLEdBQUcsTUFBTSxzRUFBMkIsQ0FBQztRQUNoRCxLQUFLLEVBQUUsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFO0tBQ3pDLENBQUMsQ0FBQztJQUNILElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNuQixNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDcEIsTUFBTSxTQUFTLEdBQUcsTUFBTSx5RUFBOEIsQ0FBQztRQUNyRCxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO0tBQzlCLENBQUMsQ0FBQztJQUNILFNBQVMsR0FBRyxNQUFNLHdFQUE2QixDQUFDO1FBQzlDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsTUFBTSxFQUFFO1FBQ25DLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7S0FDekIsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxXQUFXLEdBQUcsU0FBUyxDQUFDO0lBQzVCLElBQUksY0FBYyxDQUFDO0lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzNDLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7WUFDbEMsY0FBYyxHQUFHLE1BQU0sb0VBQXlCLENBQUM7Z0JBQy9DLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFO2FBQ3pDLENBQUMsQ0FBQztZQUNILElBQUksY0FBYyxDQUFDLFNBQVMsS0FBSyxPQUFPLENBQUMsU0FBUyxFQUFFO2dCQUNsRCxRQUFRLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQy9CO1NBQ0Y7S0FDRjtJQUNELE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLE1BQU0sV0FBVyxHQUFHLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3RDLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDO0lBQ2xELElBQUksSUFBSSxDQUFDO0lBQ1QsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ3RCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN2QixJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsS0FBSyxtQkFBbUIsRUFBRTtnQkFDcEQsSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7YUFDeEI7UUFDSCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBQ0QsSUFBSSxJQUFJLEtBQUssYUFBYSxFQUFFO1FBQzFCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN2QixJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsS0FBSyx5QkFBeUIsRUFBRTtnQkFDMUQsSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7YUFDeEI7UUFDSCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzTzZDO0FBRXhDLE1BQU0scUJBQXFCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDakUsSUFBSSw2QkFBNkIsQ0FBQztJQUNsQyxNQUFNLFdBQVcsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1FBQ3JELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ3ZCLENBQUMsQ0FBQztJQUNILE1BQU0sU0FBUyxHQUFRLFdBQVcsQ0FBQyxVQUFVLENBQUM7SUFDOUMsTUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLGlCQUFpQixDQUFDO0lBQ25ELE1BQU0sZUFBZSxHQUFHLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQztJQUN6RCxNQUFNLHNCQUFzQixHQUFHLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztJQUNwRSxNQUFNLGlCQUFpQixHQUFHLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQztJQUN4RCxNQUFNLGVBQWUsR0FBRyxXQUFXLENBQUMsZUFBZSxDQUFDO0lBQ3BELE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDLG1CQUFtQixDQUFDO0lBQzVELE1BQU0sbUJBQW1CLEdBQUcsV0FBVyxDQUFDLG1CQUFtQixDQUFDO0lBQzVELE1BQU0sdUJBQXVCLEdBQUcsV0FBVyxDQUFDLHdCQUF3QixDQUFDO0lBQ3JFLE1BQU0scUJBQXFCLEdBQUcsV0FBVyxDQUFDLHFCQUFxQixDQUFDO0lBQ2hFLE1BQU0seUJBQXlCLEdBQUcsV0FBVyxDQUFDLHlCQUF5QixDQUFDO0lBQ3hFLE1BQU0sMkJBQTJCLEdBQy9CLFdBQVcsQ0FBQyw4QkFBOEIsQ0FBQztJQUM3QyxJQUFJLHVCQUF1QixHQUFHLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQztJQUNuRSxNQUFNLHFCQUFxQixHQUFHLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQztJQUNoRSxNQUFNLG1CQUFtQixHQUFHLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztJQUM1RCxNQUFNLGtCQUFrQixHQUFHLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQztJQUMxRCxNQUFNLFFBQVEsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztJQUNwRCxJQUFJLFFBQVEsS0FBSyxvQkFBb0IsRUFBRTtRQUNyQyxNQUFNLHlCQUF5QixHQUM3QixTQUFTLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNsRCxNQUFNLDJCQUEyQixHQUFHLENBQUMsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1FBQ3BFLE1BQU0sMEJBQTBCLEdBQzlCLFNBQVMsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ2xELE1BQU0sNEJBQTRCLEdBQUcsQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDdEUsTUFBTSwwQkFBMEIsR0FDOUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDbEQsTUFBTSw0QkFBNEIsR0FBRyxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN0RSxNQUFNLDRCQUE0QixHQUFHLG1CQUFtQixDQUFDO1FBQ3pELE1BQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNuRSxNQUFNLDBCQUEwQixHQUM5QixTQUFTLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUNuRCxNQUFNLDZCQUE2QixHQUFHLHFCQUFxQixDQUFDO1FBQzVELE1BQU0sK0JBQStCLEdBQUcsQ0FBQyx1QkFBdUIsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDNUUsTUFBTSw4QkFBOEIsR0FBRyxzQkFBc0IsQ0FBQztRQUM5RCxNQUFNLGdDQUFnQyxHQUNwQyxDQUFDLHVCQUF1QixHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN2QyxNQUFNLDhCQUE4QixHQUFHLHNCQUFzQixDQUFDO1FBQzlELE1BQU0sZ0NBQWdDLEdBQUcsdUJBQXVCLENBQUM7UUFDakUsTUFBTSxlQUFlLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3hFLE1BQU0sZ0JBQWdCLEdBQUc7WUFDdkIsMEJBQTBCLEVBQUUseUJBQXlCO1lBQ3JELDRCQUE0QixFQUFFLDJCQUEyQjtZQUN6RCwyQkFBMkIsRUFBRSwwQkFBMEI7WUFDdkQsNkJBQTZCLEVBQUUsNEJBQTRCO1lBQzNELDJCQUEyQixFQUFFLDBCQUEwQjtZQUN2RCw2QkFBNkIsRUFBRSw0QkFBNEI7WUFDM0QsMEJBQTBCLEVBQUUsMEJBQTBCO1lBQ3RELDZCQUE2QixFQUFFLDRCQUE0QjtTQUM1RCxDQUFDO1FBQ0YsTUFBTSxvQkFBb0IsR0FBRztZQUMzQiw4QkFBOEIsRUFBRSw2QkFBNkI7WUFDN0QsZ0NBQWdDLEVBQUUsK0JBQStCO1lBQ2pFLCtCQUErQixFQUFFLDhCQUE4QjtZQUMvRCxpQ0FBaUMsRUFBRSxnQ0FBZ0M7WUFDbkUsK0JBQStCLEVBQUUsOEJBQThCO1lBQy9ELGlDQUFpQyxFQUFFLGdDQUFnQztTQUNwRSxDQUFDO1FBQ0YsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLGFBQWEsQ0FBQztRQUNoRCw2QkFBNkIsR0FBRztZQUM5QixJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSxTQUFTO1lBQ2xCLFlBQVksRUFBRSxZQUFZO1lBQzFCLGVBQWUsRUFBRSxlQUFlO1lBQ2hDLHNCQUFzQixFQUFFLHNCQUFzQjtZQUM5QywyQkFBMkIsRUFBRSwyQkFBMkI7WUFDeEQsaUJBQWlCLEVBQUUsaUJBQWlCO1lBQ3BDLGVBQWUsRUFBRSxlQUFlO1lBQ2hDLHFCQUFxQixFQUFFLHFCQUFxQjtZQUM1QyxtQkFBbUIsRUFBRSxtQkFBbUI7WUFDeEMsbUJBQW1CLEVBQUUsbUJBQW1CO1lBQ3hDLHVCQUF1QixFQUFFLHVCQUF1QjtZQUNoRCxnQkFBZ0IsRUFBRSxnQkFBZ0I7WUFDbEMsb0JBQW9CLEVBQUUsb0JBQW9CO1lBQzFDLG1CQUFtQixFQUFFLG1CQUFtQjtZQUN4Qyx1QkFBdUIsRUFBRSx1QkFBdUI7WUFDaEQsVUFBVSxFQUFFLFVBQVU7WUFDdEIsZUFBZSxFQUFFLGVBQWU7WUFDaEMsa0JBQWtCLEVBQUUsa0JBQWtCO1lBQ3RDLGFBQWEsRUFBRSxhQUFhO1lBQzVCLHFCQUFxQixFQUFFLHFCQUFxQjtZQUM1Qyx5QkFBeUIsRUFBRSx5QkFBeUI7U0FDckQsQ0FBQztLQUNIO0lBQ0QsT0FBTyw2QkFBNkIsQ0FBQztBQUN2QyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUY2QztBQUM0QjtBQUNJO0FBQ25DO0FBRXJDLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7O0lBQ2pFLElBQUk7UUFDRixNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDN0MsSUFBSSxJQUFJLENBQUM7UUFDVCxJQUFJO1lBQ0YsSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDM0M7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLElBQUksRUFBRTtZQUNSLElBQUksV0FBVyxHQUFRLEVBQUUsQ0FBQztZQUMxQixJQUFJLE9BQU8sR0FBUSxFQUFFLENBQUM7WUFFdEIsUUFBUSxVQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsT0FBTywwQ0FBRSxZQUFZLEVBQUU7Z0JBQ25DLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBS04sV0FBVyxHQUFHO3dCQUNaLEVBQUUsRUFBRTs0QkFDRixFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFOzRCQUMzQixFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFOzRCQUN0QixFQUFFLGlCQUFpQixFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUU7eUJBQ25DO3FCQUNGLENBQUM7b0JBQ0YsTUFBTTtpQkFDUDtnQkFDRCxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUlOLFdBQVcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO29CQUNwQixVQUFJLENBQUMsVUFBVSwwQ0FBRSxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTt3QkFDaEMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7b0JBQ3ZELENBQUMsQ0FBQyxDQUFDO29CQUNILE1BQU07aUJBQ1A7Z0JBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFHTixXQUFXLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztvQkFDcEIsVUFBSSxDQUFDLHVCQUF1QiwwQ0FBRSxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO3dCQUN6RCxXQUFXLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzs0QkFDbEIsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUMsUUFBUTt5QkFDOUMsQ0FBQyxDQUFDO29CQUNMLENBQUMsQ0FBQyxDQUFDO29CQUNILE1BQU07aUJBQ1A7Z0JBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFFTixXQUFXLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztvQkFDcEIsVUFBSSxDQUFDLFVBQVUsMENBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7d0JBQ2hDLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO29CQUMvQyxDQUFDLENBQUMsQ0FBQztvQkFDSCxNQUFNO2lCQUNQO2dCQUNELEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBR04sV0FBVyxHQUFHLEVBQUUsQ0FBQztvQkFDakIsTUFBTTtpQkFDUDtnQkFDRDtvQkFDRSxPQUFPO3dCQUNMLElBQUksRUFBRSxHQUFHO3dCQUNULE9BQU8sRUFBRSxnQ0FBZ0M7cUJBQzFDLENBQUM7YUFDTDtZQUNELElBQUksVUFBVSxJQUFJLFVBQVUsS0FBSyxFQUFFLEVBQUU7Z0JBQ25DLFdBQVcsQ0FBQyxHQUFHLEdBQUc7b0JBQ2hCLEdBQUcsRUFBRTt3QkFDSCxFQUFFLEVBQUU7NEJBQ0Y7Z0NBQ0UsU0FBUyxFQUFFO29DQUNULFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQ0FDdEMsSUFBSSxFQUFFLGFBQWE7aUNBQ3BCOzZCQUNGOzRCQUNEO2dDQUNFLFdBQVcsRUFBRTtvQ0FDWCxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0NBQ3RDLElBQUksRUFBRSxhQUFhO2lDQUNwQjs2QkFDRjt5QkFDRjtxQkFDRjtpQkFDRixDQUFDO2FBQ0g7aUJBQU0sSUFBSSxNQUFNLElBQUksYUFBTSxhQUFOLE1BQU0sdUJBQU4sTUFBTSxDQUFFLFFBQVEsMENBQUUsTUFBTSxNQUFLLENBQUMsRUFBRTtnQkFDbkQsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2FBQ3ZDO2lCQUFNLElBQUksT0FBTyxFQUFFO2dCQUNsQixRQUFRLE9BQU8sQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEVBQUU7b0JBQ3BDLEtBQUssMkZBQThCLENBQUMsQ0FBQzt3QkFDbkMsT0FBTyxHQUFHLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQzt3QkFDekMsTUFBTTtxQkFDUDtvQkFDRCxLQUFLLHVGQUEwQixDQUFDLENBQUM7d0JBQy9CLE9BQU8sR0FBRyxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7d0JBQ3hDLE1BQU07cUJBQ1A7b0JBQ0QsS0FBSyxxRkFBd0IsQ0FBQyxDQUFDO3dCQUM3QixPQUFPLEdBQUcsRUFBRSxjQUFjLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUM1QyxNQUFNO3FCQUNQO29CQUNELEtBQUssbUZBQXNCLENBQUMsQ0FBQzt3QkFDM0IsT0FBTyxHQUFHLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQzt3QkFDcEMsTUFBTTtxQkFDUDtvQkFDRCxLQUFLLGlGQUFvQixDQUFDLENBQUM7d0JBQ3pCLE9BQU8sR0FBRyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQzt3QkFDaEQsTUFBTTtxQkFDUDtvQkFDRCxLQUFLLDBGQUE2QixDQUFDLENBQUM7d0JBQ2xDLE9BQU8sR0FBRyxFQUFFLFVBQVUsRUFBRSxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7d0JBQ3hDLE1BQU07cUJBQ1A7b0JBQ0Q7d0JBQ0UsTUFBTTtpQkFDVDthQUNGO1lBQ0QsTUFBTSxXQUFXLEdBQUcsTUFBTSxzRUFBMkIsQ0FBQztnQkFDcEQsS0FBSyxFQUFFLFdBQVc7Z0JBQ2xCLE9BQU8sRUFBRSxPQUFPO2dCQUNoQixPQUFPLEVBQUU7b0JBQ1AsUUFBUSxFQUFFLElBQUk7b0JBQ2QsWUFBWSxFQUFFLElBQUk7b0JBQ2xCLGdCQUFnQixFQUFFLElBQUk7b0JBQ3RCLElBQUksRUFBRSxJQUFJO29CQUNWLFFBQVEsRUFBRSxJQUFJO29CQUNkLFlBQVksRUFBRSxJQUFJO29CQUNsQixHQUFHLEVBQUUsSUFBSTtvQkFDVCxlQUFlLEVBQUUsSUFBSTtpQkFDdEI7YUFDRixDQUFDLENBQUM7WUFDSCxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQy9CLE9BQU8sT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUM1QixDQUFDLENBQUMsQ0FBQztZQUNILE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLFNBQVM7Z0JBQ2xCLElBQUksRUFBRSxXQUFXO2FBQ2xCLENBQUM7U0FDSDthQUFNO1lBQ0wsT0FBTztnQkFDTCxJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUsdUJBQXVCO2FBQ2pDLENBQUM7U0FDSDtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLEtBQUssQ0FBQztLQUNkO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsRUFBRTtJQUMvQyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7SUFDdkIsTUFBTSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUN2RSxNQUFNLENBQUM7SUFDVCxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTyxDQUFDLENBQUMsYUFBYSxFQUFFLEVBQUU7UUFDbEMsSUFBSSxhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssdUZBQTBCLEVBQUU7WUFFOUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDNUIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO2dCQUM3QixXQUFXLENBQUMsSUFBSSxDQUFDO29CQUNmLFVBQVUsRUFBRSxRQUFRO2lCQUNyQixDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILFdBQVcsQ0FBQyxHQUFHLEdBQUc7Z0JBQ2hCLEdBQUcsRUFBRTtvQkFDSCxFQUFFLEVBQUUsV0FBVztpQkFDaEI7YUFDRixDQUFDO1NBQ0g7UUFDRCxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxxRkFBd0IsRUFBRTtZQUU1RCxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7Z0JBQ3pCLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0JBQ2YsY0FBYyxFQUFFLE1BQU07aUJBQ3ZCLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLEdBQUcsR0FBRztnQkFDaEIsR0FBRyxFQUFFO29CQUNILEVBQUUsRUFBRSxXQUFXO2lCQUNoQjthQUNGLENBQUM7U0FDSDtRQUNELElBQUksYUFBYSxDQUFDLFdBQVcsRUFBRSxLQUFLLG1GQUFzQixFQUFFO1lBRTFELE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDdEIsV0FBVyxDQUFDLElBQUksQ0FBQztvQkFDZixNQUFNLEVBQUUsSUFBSTtpQkFDYixDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILFdBQVcsQ0FBQyxHQUFHLEdBQUc7Z0JBQ2hCLEdBQUcsRUFBRTtvQkFDSCxFQUFFLEVBQUUsV0FBVztpQkFDaEI7YUFDRixDQUFDO1NBQ0g7UUFDRCxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxpRkFBb0IsRUFBRTtZQUV4RCxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUU7Z0JBQ2pCLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0JBQ2Ysa0JBQWtCLEVBQUUsRUFBRTtpQkFDdkIsQ0FBQyxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxXQUFXLENBQUMsR0FBRyxHQUFHO2dCQUNoQixHQUFHLEVBQUU7b0JBQ0gsRUFBRSxFQUFFLFdBQVc7aUJBQ2hCO2FBQ0YsQ0FBQztTQUNIO1FBQ0QsSUFBSSxhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssMEZBQTZCLEVBQUU7WUFFakUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFO2dCQUN0QyxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMENBQTBDLENBQUMsQ0FBQzthQUN0RTtZQUNELFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2YsVUFBVSxFQUFFO29CQUNWLEdBQUcsRUFBRSxNQUFNLENBQUMsUUFBUTtvQkFDcEIsR0FBRyxFQUFFLE1BQU0sQ0FBQyxNQUFNO2lCQUNuQjthQUNGLENBQUMsQ0FBQztZQUNILFdBQVcsQ0FBQyxHQUFHLEdBQUc7Z0JBQ2hCLEdBQUcsRUFBRTtvQkFDSCxFQUFFLEVBQUUsV0FBVztpQkFDaEI7YUFDRixDQUFDO1NBQ0g7UUFDRCxJQUFJLGFBQWEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxxRkFBd0IsRUFBRTtZQUU1RCxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQ3pCLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0JBQ2YsYUFBYSxFQUFFLE9BQU87aUJBQ3ZCLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsV0FBVyxDQUFDLEdBQUcsR0FBRztnQkFDaEIsR0FBRyxFQUFFO29CQUNILEVBQUUsRUFBRSxXQUFXO2lCQUNoQjthQUNGLENBQUM7U0FDSDtRQUNELElBQUksYUFBYSxDQUFDLFdBQVcsRUFBRSxLQUFLLDRGQUErQixFQUFFO1lBRW5FLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtnQkFDN0IsV0FBVyxDQUFDLElBQUksQ0FBQztvQkFDZixnQkFBZ0IsRUFBRSxLQUFLO2lCQUN4QixDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILFdBQVcsQ0FBQyxHQUFHLEdBQUc7Z0JBQ2hCLEdBQUcsRUFBRTtvQkFDSCxFQUFFLEVBQUUsV0FBVztpQkFDaEI7YUFDRixDQUFDO1NBQ0g7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwUTZDO0FBQ2lCO0FBRXpELE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFDLEVBQUU7SUFDaEUsTUFBTSxFQUFDLFNBQVMsRUFBQyxHQUFHLElBQUksQ0FBQztJQUN6QixNQUFNLGFBQWEsR0FBRyxFQUFFO0lBQ3hCLElBQUc7UUFDQyxNQUFNLE9BQU8sR0FBRyxNQUFNLHdFQUE2QixDQUFDO1lBQ2hELEtBQUssRUFBQztnQkFDRixFQUFFLEVBQUMsU0FBUzthQUNmO1NBQ0osQ0FBQztRQUVGLElBQUcsQ0FBQyxPQUFPLEVBQUM7WUFDUix1RUFBdUIsR0FBQyxHQUFHO1lBQzNCLDBFQUEwQixHQUFDLG9DQUFvQyxDQUFDO1lBQ2hFLHVFQUF1QixHQUFHLElBQUk7WUFDOUIsT0FBTyxrRUFBa0IsQ0FBQztTQUM3QjtRQUlELE9BQU8sQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNqRSxhQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztRQUVILHVFQUF1QixHQUFDLEdBQUc7UUFDM0IsMEVBQTBCLEdBQUMsSUFBSSxDQUFDO1FBQ2hDLHVFQUF1QixHQUFDLGFBQWEsQ0FBQztLQUN6QztJQUNELE9BQU0sQ0FBQyxFQUFDO1FBQ0osdUVBQXVCLEdBQUMsR0FBRztRQUMzQiwwRUFBMEIsR0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3JDLHVFQUF1QixHQUFHLElBQUk7S0FDakM7SUFDRCxPQUFPLGtFQUFrQixDQUFDO0FBQzlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QjhCO0FBQ2lFO0FBQ0Y7QUFDNUM7QUFDM0MsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUM1RCxJQUFJLG1CQUFtQixDQUFDO0lBQ3hCLElBQUk7UUFDRixNQUFNLGtCQUFrQixHQUFHLE1BQU0sdUJBQXVCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0QsSUFBSSxrQkFBa0IsRUFBRTtZQUN0QixPQUFPLGtCQUFrQixDQUFDO1NBQzNCO1FBQ0QsTUFBTSxTQUFTLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN4RCxNQUFNLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDaEQsTUFBTSxPQUFPLEdBQUcsTUFBTSxnRUFBVyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUMxRCxNQUFNLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFFckUsTUFBTSxRQUFRLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0QsTUFBTSxnRUFBVyxDQUFDLFdBQVcsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFbEQsTUFBTSxZQUFZLEdBQUcsTUFBTSxvRUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsSUFBSSxFQUFFO2dCQUNKLG9CQUFvQixFQUFFLFlBQVk7Z0JBQ2xDLFlBQVksRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFO2FBQ2pDO1lBQ0QsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7U0FDOUIsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxrRUFBYSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN4QyxtQkFBbUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUM7UUFDMUUsT0FBTyxtQkFBbUIsQ0FBQztLQUM1QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsbUJBQW1CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDNUQsT0FBTyxtQkFBbUIsQ0FBQztLQUM1QjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQzdDLElBQUksY0FBYyxDQUFDO0lBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1FBQ3BCLGNBQWMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLCtCQUErQixFQUFFLENBQUM7S0FDMUU7SUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNsQixjQUFjLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxDQUFDO0tBQ3hFO0lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDdEIsY0FBYyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsQ0FBQztLQUM3RTtJQUNELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFO1FBQ3RCLGNBQWMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLENBQUM7S0FDN0U7SUFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDcEIsTUFBTSxRQUFRLEdBQ1osNkRBQTZELENBQUM7UUFDaEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3BDLGNBQWMsR0FBRztnQkFDZixJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUsaUNBQWlDO2FBQzNDLENBQUM7U0FDSDtLQUNGO0lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDdkIsY0FBYyxHQUFHO1lBQ2YsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsbUNBQW1DO1NBQzdDLENBQUM7S0FDSDtJQUNELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1FBQ3pCLGNBQWMsR0FBRztZQUNmLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLHFDQUFxQztTQUMvQyxDQUFDO0tBQ0g7SUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUNoQixjQUFjLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxDQUFDO0tBQ3RFO0lBQ0QsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ25ELE1BQU0sRUFDSixVQUFVLEVBQ1YsUUFBUSxFQUNSLGtCQUFrQixFQUNsQixZQUFZLEVBQ1osWUFBWSxFQUNaLFVBQVUsRUFDVixXQUFXLEVBQ1gsYUFBYSxFQUNiLFlBQVksRUFDWixlQUFlLEVBQ2YsTUFBTSxHQUNQLEdBQUcsSUFBSSxDQUFDO0lBQ1QsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLE1BQU0sU0FBUyxHQUFHLE1BQU0sV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQy9DLEtBQUssSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTtRQUM5QixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDMUIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVk7Z0JBQ2pDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRTtnQkFDeEMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNULElBQUksU0FBUyxLQUFLLGdHQUFtQyxFQUFFO2dCQUNyRCxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsVUFBVSxDQUNYLENBQ0YsQ0FBQzthQUNIO2lCQUFNLElBQUksU0FBUyxLQUFLLDhGQUFpQyxFQUFFO2dCQUMxRCxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxzQkFBc0IsRUFBRSxRQUFRLENBQUMsQ0FDdEUsQ0FBQzthQUNIO2lCQUFNLElBQUksU0FBUyxLQUFLLHlHQUE0QyxFQUFFO2dCQUNyRSxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsa0JBQWtCLENBQ25CLENBQ0YsQ0FBQzthQUNIO2lCQUFNLElBQUksU0FBUyxLQUFLLGtHQUFxQyxFQUFFO2dCQUM5RCxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsWUFBWSxDQUNiLENBQ0YsQ0FBQzthQUNIO2lCQUFNLElBQUksU0FBUyxLQUFLLGtHQUFxQyxFQUFFO2dCQUM5RCxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsWUFBWSxDQUNiLENBQ0YsQ0FBQzthQUNIO2lCQUFNLElBQ0wsU0FBUyxLQUFLLGdHQUFtQztnQkFDakQsVUFBVSxFQUNWO2dCQUNBLFFBQVEsQ0FBQyxJQUFJLENBQ1gsTUFBTSxnRUFBVyxDQUNmLEdBQUcsQ0FBQyxFQUFFLEVBQ04sU0FBUyxDQUFDLHNCQUFzQixFQUNoQyxVQUFVLENBQ1gsQ0FDRixDQUFDO2FBQ0g7aUJBQU0sSUFDTCxTQUFTLEtBQUssaUdBQW9DO2dCQUNsRCxXQUFXLEVBQ1g7Z0JBQ0EsUUFBUSxDQUFDLElBQUksQ0FDWCxNQUFNLGdFQUFXLENBQ2YsR0FBRyxDQUFDLEVBQUUsRUFDTixTQUFTLENBQUMsc0JBQXNCLEVBQ2hDLFdBQVcsQ0FDWixDQUNGLENBQUM7YUFDSDtpQkFBTSxJQUFJLFNBQVMsS0FBSyxtR0FBc0MsRUFBRTtnQkFDL0QsUUFBUSxDQUFDLElBQUksQ0FDWCxNQUFNLGdFQUFXLENBQ2YsR0FBRyxDQUFDLEVBQUUsRUFDTixTQUFTLENBQUMsc0JBQXNCLEVBQ2hDLGFBQWEsQ0FDZCxDQUNGLENBQUM7YUFDSDtpQkFBTSxJQUNMLFNBQVMsS0FBSyxrR0FBcUM7Z0JBQ25ELFlBQVksRUFDWjtnQkFDQSxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsWUFBWSxDQUNiLENBQ0YsQ0FBQzthQUNIO2lCQUFNLElBQUksU0FBUyxLQUFLLHFHQUF3QyxFQUFFO2dCQUNqRSxRQUFRLENBQUMsSUFBSSxDQUNYLE1BQU0sZ0VBQVcsQ0FDZixHQUFHLENBQUMsRUFBRSxFQUNOLFNBQVMsQ0FBQyxzQkFBc0IsRUFDaEMsZUFBZSxDQUNoQixDQUNGLENBQUM7YUFDSDtpQkFBTSxJQUFJLFNBQVMsS0FBSywyRkFBOEIsRUFBRTtnQkFDdkQsUUFBUSxDQUFDLElBQUksQ0FDWCxNQUFNLGdFQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsc0JBQXNCLEVBQUUsTUFBTSxDQUFDLENBQ3BFLENBQUM7YUFDSDtTQUNGO0tBQ0Y7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFDRixNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDdEMsSUFBSSxzQkFBc0IsRUFDeEIsYUFBYSxFQUNiLGNBQWMsRUFDZCxzQkFBc0IsQ0FBQztJQUN6QixTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ25DLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUU1RSxJQUNFLFdBQVc7WUFDWCxXQUFXLEtBQUsscUdBQXdDLEVBQ3hEO1lBQ0Esc0JBQXNCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUNwQzthQUFNLElBQ0wsV0FBVztZQUNYLFdBQVcsS0FBSyxrR0FBcUMsRUFDckQ7WUFDQSxhQUFhLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUMzQjthQUFNLElBQ0wsV0FBVztZQUNYLFdBQVcsS0FBSyxtR0FBc0MsRUFDdEQ7WUFDQSxjQUFjLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUM1QjthQUFNLElBQ0wsV0FBVztZQUNYLFdBQVcsS0FBSyxpSEFBb0QsRUFDcEU7WUFDQSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ3BDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPO1FBQ0wsc0JBQXNCLEVBQUUsc0JBQXNCO1FBQzlDLGFBQWEsRUFBRSxhQUFhO1FBQzVCLGNBQWMsRUFBRSxjQUFjO1FBQzlCLHNCQUFzQixFQUFFLHNCQUFzQjtLQUMvQyxDQUFDO0FBQ0osQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyTzZCO0FBQ2lFO0FBQ0Y7QUFDdkYsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUMvRCxJQUFJLGFBQWEsQ0FBQztJQUNsQixJQUFJO1FBQ0YsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLDBCQUEwQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xFLElBQUksa0JBQWtCLEVBQUU7WUFDdEIsT0FBTyxrQkFBa0IsQ0FBQztTQUMzQjtRQUNELE1BQU0sRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQzdDLE1BQU0sV0FBVyxHQUFHLE1BQU0sd0VBQW1CLEVBQUUsQ0FBQztRQUNoRCxNQUFNLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7UUFFMUUsTUFBTSxRQUFRLEdBQUcsTUFBTSxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDdkUsTUFBTSxnRUFBVyxDQUFDLFdBQVcsRUFBRSxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDdkQsYUFBYSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUM7UUFDbEQsT0FBTyxhQUFhLENBQUM7S0FDdEI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN0RCxPQUFPLGFBQWEsQ0FBQztLQUN0QjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sMEJBQTBCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ2hELElBQUksZ0JBQWdCLENBQUM7SUFDckIsTUFBTSxRQUFRLEdBQ1osNkRBQTZELENBQUM7SUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDdEIsZ0JBQWdCLEdBQUc7WUFDakIsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsa0NBQWtDO1NBQzVDLENBQUM7S0FDSDtJQUNELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRTtRQUN0QyxnQkFBZ0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLDBCQUEwQixFQUFFLENBQUM7S0FDdkU7SUFDRCxPQUFPLGdCQUFnQixDQUFDO0FBQzFCLENBQUMsQ0FBQztBQUNGLE1BQU0scUJBQXFCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsRUFBRTtJQUMvRCxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDcEIsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx3RUFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5RCxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDOUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQzFCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZO2dCQUNqQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7Z0JBQ3hDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDVCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssZ0JBQWdCLEVBQUU7Z0JBQ3RDLElBQUksU0FBUyxLQUFLLGlHQUFvQyxFQUFFO29CQUN0RCxNQUFNLFdBQVcsR0FBRyxNQUFNLGdFQUFXLENBQ25DLEdBQUcsQ0FBQyxFQUFFLEVBQ04sa0JBQWtCLEVBQ2xCLGFBQWEsQ0FDZCxDQUFDO29CQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7aUJBQzVCO3FCQUFNLElBQUksU0FBUyxLQUFLLHFHQUF3QyxFQUFFO29CQUNqRSxNQUFNLGNBQWMsR0FBRyxNQUFNLGdFQUFXLENBQ3RDLEdBQUcsQ0FBQyxFQUFFLEVBQ04sa0JBQWtCLEVBQ2xCLGFBQWEsQ0FDZCxDQUFDO29CQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7aUJBQy9CO3FCQUFNLElBQUksU0FBUyxLQUFLLHNHQUF5QyxFQUFFO29CQUNsRSxNQUFNLGVBQWUsR0FBRyxNQUFNLGdFQUFXLENBQ3ZDLEdBQUcsQ0FBQyxFQUFFLEVBQ04sa0JBQWtCLEVBQ2xCLGFBQWEsQ0FDZCxDQUFDO29CQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7aUJBQ2hDO3FCQUFNLElBQUksU0FBUyxLQUFLLHdHQUEyQyxFQUFFO29CQUNwRSxNQUFNLGtCQUFrQixHQUFHLE1BQU0sZ0VBQVcsQ0FDMUMsR0FBRyxDQUFDLEVBQUUsRUFDTixrQkFBa0IsRUFDbEIsYUFBYSxDQUNkLENBQUM7b0JBQ0YsUUFBUSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2lCQUNuQztxQkFBTSxJQUNMLFNBQVMsS0FBSywyR0FBOEMsRUFDNUQ7b0JBQ0EsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLGdFQUFXLENBQ3hDLEdBQUcsQ0FBQyxFQUFFLEVBQ04sa0JBQWtCLEVBQ2xCLGFBQWEsQ0FDZCxDQUFDO29CQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztpQkFDakM7cUJBQU0sSUFBSSxTQUFTLEtBQUssa0dBQXFDLEVBQUU7b0JBQzlELE1BQU0sWUFBWSxHQUFHLE1BQU0sZ0VBQVcsQ0FDcEMsR0FBRyxDQUFDLEVBQUUsRUFDTixrQkFBa0IsRUFDbEIsYUFBYSxDQUNkLENBQUM7b0JBQ0YsUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztpQkFDN0I7cUJBQU0sSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7b0JBQ2hFLE1BQU0sYUFBYSxHQUFHLE1BQU0sZ0VBQVcsQ0FDckMsR0FBRyxDQUFDLEVBQUUsRUFDTixrQkFBa0IsRUFDbEIsYUFBYSxDQUNkLENBQUM7b0JBQ0YsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztpQkFDOUI7cUJBQU0sSUFDTCxTQUFTLEtBQUssa0hBQXFELEVBQ25FO29CQUNBLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxnRUFBVyxDQUMvQyxHQUFHLENBQUMsRUFBRSxFQUNOLGtCQUFrQixFQUNsQixhQUFhLENBQ2QsQ0FBQztvQkFDRixRQUFRLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7aUJBQ3hDO2FBQ0Y7U0FDRjtLQUNGO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDOUMsSUFBSSxrQkFBa0IsQ0FBQztJQUN2QixTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ25DLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM1RSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssK0ZBQWtDLEVBQUU7WUFDckUsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUNoQztJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxrQkFBa0IsQ0FBQztBQUM1QixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hJNkg7QUFDL0I7QUFDRjtBQUNOO0FBQ2I7QUFDekI7QUFDM0MsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFFekQsSUFBSSxhQUFhLENBQUM7SUFDbEIsSUFBRztRQUNDLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSwyQkFBMkIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuRSxJQUFHLGtCQUFrQixFQUFDO1lBQ2xCLE9BQU8sa0JBQWtCLENBQUM7U0FDN0I7UUFDRCxNQUFPLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDakQsTUFBTSxTQUFTLEdBQUcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEVBQUUsRUFBRyxJQUFJLENBQUMsWUFBWSxFQUFDLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sOEJBQThCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzdFLE1BQU0sUUFBUSxHQUFHLE1BQU0sc0JBQXNCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9ELE1BQU0sZ0VBQVcsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1RCxNQUFNLHNCQUFzQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QyxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUM7UUFDaEQsT0FBTyxhQUFhO0tBRXpCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3JELE9BQU8sYUFBYTtLQUNyQjtBQUNILENBQUM7QUFDRCxNQUFNLDJCQUEyQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUMvQyxJQUFJLGlCQUFpQixDQUFDO0lBQ3RCLElBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFDO1FBQ2xCLGlCQUFpQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsa0NBQWtDLEVBQUU7S0FDakY7SUFDRCxJQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBQztRQUNuQixpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFFO0tBQ2pGO0lBQ0QsSUFBRyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBQztRQUN0QixpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLHFDQUFxQyxFQUFFO0tBQ3BGO0lBQ0QsT0FBTyxpQkFBaUIsQ0FBQztBQUM3QixDQUFDO0FBQ0QsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3JELElBQUksWUFBWSxDQUFDO0lBQ2pCLE1BQU0sT0FBTyxHQUFHLE1BQU0sd0VBQW1CLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzdELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxJQUFJLEVBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzVFLE1BQU0sMEJBQTBCLEdBQUcseUZBQTJDLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0SCxNQUFNLFNBQVMsR0FBRyxNQUFNLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqRCxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDNUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQ3hCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNwRixJQUFJLFNBQVMsS0FBSywwQkFBMEIsRUFBRTtnQkFDMUMsWUFBWSxHQUFHLE1BQU0sZUFBZSxDQUFDLEdBQUcsRUFBQyxTQUFTLENBQUMsQ0FBQzthQUN2RDtTQUNKO0tBQ0o7SUFDRCxNQUFNLG9FQUF5QixDQUFDO1FBQzVCLElBQUksRUFBRSxFQUFDLGdCQUFnQixFQUFHLGdCQUFnQixFQUFFLFlBQVksRUFBRyxZQUFZLEVBQUM7UUFDeEUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFHLE9BQU8sQ0FBQyxFQUFFLEVBQUU7S0FDekIsQ0FBQyxDQUFDO0FBQ1gsQ0FBQztBQUNELE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsRUFBRTtJQUNuRCxJQUFJLENBQUMsRUFBQyxnQkFBZ0IsQ0FBQztJQUN2QixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzlELFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDO0lBQ3JELEtBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQztRQUM5QixJQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssYUFBYSxFQUFDO1lBQzFELGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ25EO0tBQ0o7SUFDRCxPQUFPLGdCQUFnQixDQUFDO0FBQzVCLENBQUM7QUFDRCxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDdEMsSUFBSSx1QkFBdUIsRUFBRSx5QkFBeUIsQ0FBQztJQUN2RCxTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ25DLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM1RSxRQUFRLFdBQVcsRUFBRTtZQUNuQixLQUFLLGtIQUFxRCxDQUFDO2dCQUN2RCx1QkFBdUIsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO2dCQUNwQyxNQUFNO2FBQ1Q7WUFDRCxLQUFLLDZHQUFnRCxDQUFDO2dCQUN0RCx5QkFBeUIsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO2dCQUN0QyxNQUFNO2FBQ0w7U0FDRjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxFQUFDLHlCQUF5QixFQUFHLHVCQUF1QixFQUFFLDJCQUEyQixFQUFHLHlCQUF5QixFQUFDLENBQUM7QUFDeEgsQ0FBQztBQUNELE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxHQUFHLEVBQUMsU0FBUyxFQUFFLEVBQUU7SUFDOUMsSUFBSSxlQUFlLEVBQUUsaUJBQWlCLENBQUM7SUFDdkMsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDO0lBQzNCLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDekIsUUFBUSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3JCLEtBQUssU0FBUyxDQUFDLHVCQUF1QixDQUFDO2dCQUNyQyxlQUFlLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDN0IsTUFBTTthQUNQO1lBQ0QsS0FBSyxTQUFTLENBQUMseUJBQXlCLENBQUM7Z0JBQ3ZDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQy9CLE1BQU07YUFDUDtTQUNGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxNQUFNLFNBQVMsR0FBRyxNQUFNLGlFQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBQzdGLElBQUcsU0FBUyxHQUFHLENBQUMsRUFBQztRQUNmLFdBQVcsR0FBRyxTQUFTO0tBQ3hCO0lBQ0QsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQztBQUNILE1BQU0sOEJBQThCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUM3RCxJQUFJLGdCQUFnQixDQUFDO0lBQ3JCLE1BQU0sT0FBTyxHQUFHLE1BQU0sd0VBQW1CLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzdELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxvQkFBb0IsQ0FBQyxJQUFJLEVBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzlFLE1BQU0sMkJBQTJCLEdBQUcseUZBQTJDLENBQUMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN4SCxNQUFNLHdCQUF3QixHQUFHLE1BQU0sMkJBQTJCLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDOUUsS0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFO1FBQzVCLEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUN4QixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDcEYsSUFBSSxTQUFTLEtBQUssMkJBQTJCLEVBQUU7Z0JBQzNDLGdCQUFnQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsR0FBRyxFQUFFLHdCQUF3QixDQUFDLENBQUM7YUFDL0U7U0FDSjtLQUNKO0lBQ0QsT0FBTyxnQkFBZ0IsQ0FBQztBQUM1QixDQUFDO0FBQ0QsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQ3BELElBQUksQ0FBQyxFQUFDLGlCQUFpQixDQUFDO0lBQ3hCLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUQsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUM7SUFDckQsS0FBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO1FBQzlCLElBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxhQUFhLEVBQUM7WUFDMUQsaUJBQWlCLEdBQUcsVUFBVSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDcEQ7S0FDSjtJQUNELE9BQU8saUJBQWlCLENBQUM7QUFDN0IsQ0FBQztBQUNELE1BQU0sMkJBQTJCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFO0lBQ3BELElBQUksd0JBQXdCLENBQUM7SUFDN0IsU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNqQyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDNUUsSUFBRyxXQUFXLEtBQUssbUdBQXNDLEVBQUU7WUFDdkQsd0JBQXdCLEdBQUcsTUFBTSxDQUFDLEVBQUU7U0FDdkM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sd0JBQXdCLENBQUM7QUFDcEMsQ0FBQztBQUNELE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSx3QkFBd0IsRUFBRSxFQUFFO0lBQ2hFLElBQUksZ0JBQWdCLENBQUM7SUFDckIsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUN2QixJQUFHLElBQUksQ0FBQyxRQUFRLEtBQUssd0JBQXdCLEVBQUU7WUFDM0MsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNqQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxnQkFBZ0IsQ0FBQztBQUM1QixDQUFDO0FBQ0QsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3JELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUQsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSx3RUFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5RCxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDNUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQ3hCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNwRixJQUFHLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLGdCQUFnQixFQUFDO2dCQUMvQyxJQUFJLFNBQVMsS0FBSyxtR0FBc0MsSUFBSSxTQUFTLEtBQUssZ0dBQW1DLEVBQUU7b0JBQzNHLE1BQU0sYUFBYSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3pFLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7aUJBQ2hDO3FCQUNJLElBQUksQ0FBQyxTQUFTLEtBQUssZ0dBQW1DO29CQUN2RCxTQUFTLEtBQUsseUdBQTRDLENBQUMsSUFBSSxTQUFTLEtBQUssNkZBQWdDLEVBQUU7b0JBQy9HLE1BQU0sVUFBVSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3RFLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7aUJBQzdCO3FCQUNJLElBQUksU0FBUyxLQUFLLHFHQUF3QyxJQUFJLFNBQVMsS0FBSyxrR0FBcUMsRUFBRTtvQkFDcEgsTUFBTSxHQUFHLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDL0QsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDdEI7cUJBQ0ksSUFBSSxDQUFDLFNBQVMsS0FBSyxzR0FBeUM7b0JBQzdELFNBQVMsS0FBSyx3R0FBMkMsQ0FBQyxJQUFJLFNBQVMsS0FBSyxxR0FBd0MsRUFBRTtvQkFDdEgsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUM5RSxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7aUJBQ3JDO3FCQUNJLElBQUksU0FBUyxLQUFLLHdHQUEyQyxJQUFJLFNBQVMsS0FBSyxxR0FBd0MsRUFBRTtvQkFDMUgsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUM5RSxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7aUJBQ3JDO3FCQUNJLElBQUksU0FBUyxLQUFLLDJHQUE4QyxJQUFJLFNBQVMsS0FBSyx5R0FBNEMsRUFBRTtvQkFDakksTUFBTSxjQUFjLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDMUUsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztpQkFDakM7cUJBQ0ksSUFBSSxTQUFTLEtBQUssNEdBQStDLElBQUksU0FBUyxLQUFLLHlHQUE0QyxFQUFFO29CQUNsSSxNQUFNLHFCQUFxQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ2pGLFFBQVEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztpQkFDeEM7cUJBQ0ksSUFBSSxTQUFTLEtBQUssa0dBQXFDLElBQUksU0FBUyxLQUFLLCtHQUFrRCxFQUFFO29CQUM5SCxNQUFNLGtCQUFrQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQzlFLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztpQkFDckM7cUJBQ0ksSUFBSSxTQUFTLEtBQUssaUdBQW9DLElBQUksU0FBUyxLQUFLLDhGQUFpQyxFQUFFO29CQUM1RyxNQUFNLFVBQVUsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUN0RSxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2lCQUM3QjtxQkFDSSxJQUFJLENBQUMsU0FBUyxLQUFLLG9HQUF1QztvQkFDM0QsU0FBUyxLQUFLLGlIQUFvRCxDQUFDLElBQUksU0FBUyxLQUFLLGdHQUFtQyxFQUFFO29CQUMxSCxNQUFNLGFBQWEsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUN6RSxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2lCQUNoQztxQkFDSSxJQUFJLFNBQVMsS0FBSyxrSEFBcUQsSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7b0JBQ25JLE1BQU0saUJBQWlCLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDN0UsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2lCQUNwQztxQkFDSSxJQUFJLFNBQVMsS0FBSyxvSEFBdUQsSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7b0JBQ3JJLE1BQU0saUJBQWlCLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDN0UsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2lCQUNwQztxQkFDSSxJQUFJLFNBQVMsS0FBSywrRkFBa0MsSUFBSSxTQUFTLEtBQUssNEZBQStCLEVBQUU7b0JBQ3hHLE1BQU0sVUFBVSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3RFLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7aUJBQzdCO3FCQUNJLElBQUksQ0FBQyxTQUFTLEtBQUssdUdBQTBDO29CQUM5RCxTQUFTLEtBQUssd0dBQTJDLENBQUMsSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7b0JBQ3JILE1BQU0sYUFBYSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQ3pFLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7aUJBQ2hDO3FCQUNJLElBQUksU0FBUyxLQUFLLHVHQUEwQyxJQUFJLFNBQVMsS0FBSyxvR0FBdUMsRUFBRTtvQkFDeEgsTUFBTSxhQUFhLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFDekUsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztpQkFDaEM7cUJBQ0ksSUFBSSxTQUFTLEtBQUssNkZBQWdDLElBQUksU0FBUyxLQUFLLDBGQUE2QixFQUFFO29CQUNwRyxNQUFNLFFBQVEsR0FBRyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUNwRSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUMzQjthQUNKO1NBQ0o7S0FDSjtJQUNELE9BQU8sUUFBUSxDQUFDO0FBQ3BCLENBQUM7QUFDRCxNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO0lBRXpELElBQUksbUJBQW1CLEVBQUUsb0JBQW9CLEVBQUUsa0JBQWtCLENBQUM7SUFDbEUsTUFBTSxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQzlCLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDakMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzVFLElBQUksV0FBVyxJQUFJLFdBQVcsS0FBSyxrR0FBcUMsRUFBRTtZQUN0RSxtQkFBbUIsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ25DO2FBQ0ksSUFBSSxXQUFXLElBQUksV0FBVyxLQUFLLG1HQUFzQyxFQUFFO1lBQzVFLG9CQUFvQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDcEM7YUFDSSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssaUdBQW9DLEVBQUU7WUFDMUUsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUNsQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxLQUFLLEdBQUcsQ0FBQyxFQUFDLFVBQVUsRUFBRSxtQkFBbUIsRUFBQyxPQUFPLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFDO1FBQ3hGLEVBQUMsVUFBVSxFQUFFLG9CQUFvQixFQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBQztRQUMzRSxFQUFDLFVBQVUsRUFBRSxrQkFBa0IsRUFBQyxPQUFPLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQztJQUN0RCxPQUFPLEVBQUMsSUFBSSxFQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUM7QUFDeEMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoUTJGO0FBQ0k7QUFDekYsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUVsRSxJQUFJLFFBQVEsQ0FBQztJQUNiLElBQUc7UUFDQyxNQUFNLGFBQWEsR0FBRyxNQUFNLDJCQUEyQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELElBQUcsYUFBYSxFQUFDO1lBQ2IsT0FBTyxhQUFhLENBQUM7U0FDeEI7UUFDRCxNQUFPLGdCQUFnQixHQUFHLE1BQU0sd0VBQW1CLEVBQUUsQ0FBQztRQUN0RCxNQUFNLGNBQWMsR0FBRyxNQUFNLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBQyxFQUFFLEVBQUcsSUFBSSxDQUFDLFlBQVksRUFBQyxDQUFDLENBQUM7UUFDeEYsTUFBTSxjQUFjLEdBQUcsTUFBTSxzQkFBc0IsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUUsTUFBTSxnRUFBVyxDQUFDLGdCQUFnQixFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFdkUsUUFBUSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFDO1FBQzNDLE9BQU8sUUFBUTtLQUVwQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsUUFBUSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUNoRCxPQUFPLFFBQVE7S0FDaEI7QUFDSCxDQUFDO0FBQ0QsTUFBTSxzQkFBc0IsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3JELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUQsTUFBTSxZQUFZLEdBQUcsTUFBTSx3RUFBbUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMxRCxNQUFNLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztJQUU3QixLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDNUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQ3hCLE1BQU0sU0FBUyxHQUFHLE1BQU0sWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLElBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssWUFBWSxFQUFDO2dCQUMzQyxJQUFJLFNBQVMsS0FBSyxhQUFhLEVBQUU7b0JBQzdCLGlCQUFpQixDQUFDLElBQUksQ0FBQyxNQUFNLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7aUJBQy9FO2FBQ0o7U0FDSjtLQUNKO0lBQ0QsT0FBTyxpQkFBaUIsQ0FBQztBQUM3QixDQUFDO0FBQ0QsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtJQUUxRCxJQUFJLGFBQWEsRUFBRSxjQUFjLEVBQUUsWUFBWSxDQUFDO0lBQ2hELE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM5QixTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ2pDLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM1RSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssa0dBQXFDLEVBQUU7WUFDdEUsYUFBYSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDN0I7YUFDSSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssbUdBQXNDLEVBQUU7WUFDNUUsY0FBYyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDOUI7YUFDSSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssaUdBQW9DLEVBQUU7WUFDMUUsWUFBWSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDNUI7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE1BQU0sS0FBSyxHQUFHLENBQUMsRUFBQyxVQUFVLEVBQUUsYUFBYSxFQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUM7UUFDbEYsRUFBQyxVQUFVLEVBQUUsY0FBYyxFQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBQztRQUNyRSxFQUFDLFVBQVUsRUFBRSxZQUFZLEVBQUMsT0FBTyxFQUFFLFVBQVUsRUFBQyxDQUFDLENBQUM7SUFDaEQsT0FBTyxFQUFDLElBQUksRUFBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBQyxDQUFDO0FBQ3hDLENBQUM7QUFDRCxNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDaEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDN0UsQ0FBQyxDQUFDO0FBQ0YsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDL0MsSUFBSSxpQkFBaUIsQ0FBQztJQUN0QixJQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBQztRQUNsQixpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFFO0tBQ2pGO0lBQ0QsSUFBRyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUM7UUFDbkIsaUJBQWlCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxrQ0FBa0MsRUFBRTtLQUNqRjtJQUNELElBQUcsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUM7UUFDdEIsaUJBQWlCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxxQ0FBcUMsRUFBRTtLQUNwRjtJQUNELElBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFDO1FBQ3JCLGlCQUFpQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsb0NBQW9DLEVBQUU7S0FDbkY7SUFDRCxPQUFPLGlCQUFpQixDQUFDO0FBQzdCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQy9Fb0Y7QUFDVztBQUNGO0FBQ3ZGLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFFOUQsSUFBSSxhQUFhLENBQUM7SUFDbEIsSUFBRztRQUNDLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRSxJQUFHLGtCQUFrQixFQUFDO1lBQ2xCLE9BQU8sa0JBQWtCLENBQUM7U0FDN0I7UUFDRCxNQUFNLEVBQUMsWUFBWSxFQUFFLGNBQWMsRUFBQyxHQUFHLElBQUksQ0FBQztRQUM1QyxNQUFPLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDakQsTUFBTSxTQUFTLEdBQUcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEVBQUUsRUFBRyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1FBRXpFLE1BQU0sUUFBUSxHQUFHLE1BQU0sMkJBQTJCLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQzlFLE1BQU0sZ0VBQVcsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBRXZELGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBQztRQUNoRCxPQUFPLGFBQWE7S0FFekI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDckQsT0FBTyxhQUFhO0tBQ3JCO0FBQ0gsQ0FBQztBQUNELE1BQU0seUJBQXlCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQzdDLElBQUksZUFBZSxDQUFDO0lBQ3BCLElBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFDO1FBQ2xCLGVBQWUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFFO0tBQy9FO0lBQ0QsSUFBRyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUM7UUFDcEIsZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsNEJBQTRCLEVBQUU7S0FDekU7SUFDRCxPQUFPLGVBQWUsQ0FBQztBQUMzQixDQUFDO0FBQ0QsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxFQUFFO0lBRXBFLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNwQixJQUFJLHNCQUFzQixDQUFDO0lBQzNCLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDakMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzVFLElBQUksV0FBVyxJQUFJLFdBQVcsS0FBSyxxR0FBd0MsRUFBRTtZQUN6RSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ3RDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDSCxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDNUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQ3hCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNwRixJQUFJLFNBQVMsSUFBSSxTQUFTLEtBQUsscUdBQXdDLEVBQUU7Z0JBQ3JFLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxnRUFBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsc0JBQXNCLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQzthQUNwRjtTQUNKO0tBQ0o7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNwQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdkR5SDtBQUMxQjtBQUNGO0FBQ047QUFDdEM7QUFDeEI7QUFDbkIsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUU3RCxJQUFJLGFBQWEsQ0FBQztJQUNsQixJQUFHO1FBQ0MsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLHdCQUF3QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hFLElBQUcsa0JBQWtCLEVBQUM7WUFDbEIsT0FBTyxrQkFBa0IsQ0FBQztTQUM3QjtRQUNELE1BQU0sRUFBQyxZQUFZLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBQyxHQUFHLElBQUksQ0FBQztRQUN2RCxNQUFPLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDakQsTUFBTSxTQUFTLEdBQUcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFDLEVBQUUsRUFBRyxZQUFZLEVBQUMsQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sUUFBUSxHQUFHLE1BQU0sMEJBQTBCLENBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN4RixNQUFNLGdFQUFXLENBQUMsV0FBVyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN2RCxNQUFNLGdCQUFnQixDQUFDLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNsRCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUMsQ0FBQztRQUNqRCxPQUFPLGFBQWE7S0FFekI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDckQsT0FBTyxhQUFhO0tBQ3JCO0FBQ0gsQ0FBQztBQUNELE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQzVDLE1BQU0sRUFBQyxZQUFZLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBQyxHQUFHLElBQUksQ0FBQztJQUN2RCxJQUFJLGNBQWMsQ0FBQztJQUNuQixJQUFHLENBQUMsWUFBWSxFQUFDO1FBQ2IsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFDLENBQUM7S0FDcEU7SUFDRCxJQUFHLENBQUMsYUFBYSxFQUFDO1FBQ2QsY0FBYyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsMkJBQTJCLEVBQUMsQ0FBQztLQUN2RTtJQUNELElBQUcsQ0FBQyxVQUFVLEVBQUM7UUFDWCxjQUFjLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBQyxDQUFDO0tBQzVFO0lBQ0QsT0FBTyxjQUFjO0FBQ3pCLENBQUM7QUFDRCxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDekQsTUFBTSxPQUFPLEdBQUcsTUFBTSx3RUFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4RCxNQUFNLFdBQVcsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUMsRUFBRSxFQUFHLFlBQVksRUFBQyxDQUFDLENBQUM7SUFDM0UsTUFBTSxZQUFZLEdBQUcsTUFBTSxvRUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3hELE1BQU0sb0VBQXlCLENBQUM7UUFDNUIsSUFBSSxFQUFFLEVBQUMsZ0JBQWdCLEVBQUcsMkdBQThDLEVBQUMsb0JBQW9CLEVBQUcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUM7UUFDdkgsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFHLE9BQU8sQ0FBQyxFQUFFLEVBQUU7S0FDekIsQ0FBQyxDQUFDO0FBRVgsQ0FBQztBQUNELE1BQU0sWUFBWSxHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtJQUNyQyxJQUFJLHNCQUFzQixFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsc0JBQXNCLENBQUM7SUFDbEYsS0FBSyxJQUFJLE1BQU0sSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO1FBQ2xDLE1BQU0sV0FBVyxHQUFHLE1BQU0sY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pELElBQUksV0FBVyxLQUFLLHFHQUF3QyxFQUFHO1lBQzNELHNCQUFzQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDdEM7YUFDSSxJQUFJLFdBQVcsS0FBSyxrR0FBcUMsRUFBRTtZQUM1RCxhQUFhLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUM3QjthQUNJLElBQUksV0FBVyxLQUFLLG1HQUFzQyxFQUFFO1lBQzdELGNBQWMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQzlCO2FBQ0ksSUFBSSxXQUFXLEtBQUssaUhBQW9ELEVBQUU7WUFDM0Usc0JBQXNCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUN0QztLQUNKO0lBQ0QsT0FBTyxFQUFDLHdCQUF3QixFQUFDLHNCQUFzQixFQUFDLGVBQWUsRUFBQyxhQUFhLEVBQUMsZ0JBQWdCLEVBQUMsY0FBYyxFQUFDLHdCQUF3QixFQUFDLHNCQUFzQixFQUFDLENBQUM7QUFDM0ssQ0FBQztBQUNELE1BQU0sMEJBQTBCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDOUUsTUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDO0lBQzFCLE1BQU0sSUFBSSxHQUFHLDRDQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3BELE1BQU0sU0FBUyxHQUFHLE1BQU0sWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hELEtBQUssSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTtRQUM1QixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDeEIsTUFBTSxTQUFTLEdBQUcsTUFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsSUFBSSxTQUFTLElBQUksU0FBUyxLQUFLLDJGQUE4QixFQUFFO2dCQUMzRCxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sZ0VBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxzQkFBc0IsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDO2FBQ25HO2lCQUNJLElBQUksU0FBUyxLQUFLLG1HQUFzQyxFQUFFO2dCQUMzRCxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxhQUFhLEVBQUMsT0FBTyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDO29CQUM1RSxFQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsY0FBYyxFQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztvQkFDOUQsRUFBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLHNCQUFzQixFQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ3hFLE1BQU0sZ0JBQWdCLEdBQUcsRUFBQyxJQUFJLEVBQUcsR0FBRyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUM7Z0JBQ3ZELGNBQWMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzthQUN6QztTQUNKO0tBQ0o7SUFDRCxPQUFPLGNBQWMsQ0FBQztBQUMxQixDQUFDO0FBQ0QsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO0lBQ3BDLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ25FLENBQUM7QUFDRCxNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDaEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDN0UsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakdvRjtBQUNXO0FBQ0Y7QUFDdkYsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUU1RCxJQUFJLGFBQWEsQ0FBQztJQUNsQixJQUFHO1FBRUMsTUFBTSxFQUFDLFlBQVksRUFBRSxZQUFZLEVBQUMsR0FBRyxJQUFJLENBQUM7UUFDMUMsSUFBRyxDQUFDLFlBQVksRUFBQztZQUNiLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFDLENBQUM7WUFDMUUsT0FBTyxhQUFhO1NBQ3ZCO1FBQ0QsTUFBTyxXQUFXLEdBQUcsTUFBTSx3RUFBbUIsRUFBRSxDQUFDO1FBQ2pELE1BQU0sU0FBUyxHQUFHLE1BQU0sV0FBVyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBQyxFQUFFLEVBQUcsWUFBWSxFQUFDLENBQUMsQ0FBQztRQUN6RSxNQUFNLFFBQVEsR0FBRyxNQUFNLHlCQUF5QixDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUMxRSxNQUFNLGdFQUFXLENBQUMsV0FBVyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN2RCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUMsQ0FBQztRQUNqRCxPQUFPLGFBQWE7S0FFekI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDckQsT0FBTyxhQUFhO0tBQ3JCO0FBQ0gsQ0FBQztBQUVELE1BQU0seUJBQXlCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUVoRSxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDcEIsSUFBSSxzQkFBc0IsQ0FBQztJQUMzQixTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ2pDLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM1RSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUsscUdBQXdDLEVBQUU7WUFDekUsc0JBQXNCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUN0QztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsS0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFO1FBQzVCLEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUN4QixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDcEYsSUFBSSxTQUFTLElBQUksU0FBUyxLQUFLLHlHQUE0QyxFQUFFO2dCQUN6RSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sZ0VBQVcsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLHNCQUFzQixFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7YUFDbEY7U0FDSjtLQUNKO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDcEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0N5RztBQUNWO0FBQ0Y7QUFDdkYsTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFFdEQsSUFBSSxhQUFhLENBQUM7SUFDbEIsSUFBRztRQUNDLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFHLGtCQUFrQixFQUFDO1lBQ2xCLE9BQU8sa0JBQWtCLENBQUM7U0FDN0I7UUFDRCxNQUFNLEVBQUMsWUFBWSxFQUFFLG9CQUFvQixFQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2xELE1BQU8sV0FBVyxHQUFHLE1BQU0sd0VBQW1CLEVBQUUsQ0FBQztRQUNqRCxNQUFNLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUMsRUFBRSxFQUFHLFlBQVksRUFBQyxDQUFDLENBQUM7UUFFekUsTUFBTSxRQUFRLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUM1RSxNQUFNLGdFQUFXLENBQUMsV0FBVyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN2RCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUM7UUFDaEQsT0FBTyxhQUFhO0tBRXpCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxhQUFhLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3JELE9BQU8sYUFBYTtLQUNyQjtBQUNILENBQUM7QUFDRCxNQUFNLHdCQUF3QixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUM1QyxJQUFJLGNBQWMsQ0FBQztJQUNuQixNQUFNLFFBQVEsR0FBSSw2REFBNkQsQ0FBQztJQUNoRixJQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBQztRQUNsQixjQUFjLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxrQ0FBa0MsRUFBQyxDQUFDO0tBQzlFO0lBQ0QsSUFBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUM7UUFDekMsY0FBYyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUM7S0FDckU7SUFDRCxPQUFPLGNBQWMsQ0FBQztBQUMxQixDQUFDO0FBQ0QsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLEVBQUU7SUFFbEUsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLElBQUksa0JBQWtCLENBQUM7SUFDdkIsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLHdFQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlELFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDakMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzVFLElBQUksV0FBVyxJQUFJLFdBQVcsS0FBSywrRkFBa0MsRUFBRztZQUNwRSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ2xDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDSCxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUU7UUFDNUIsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQ3hCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNwRixJQUFJLFNBQVMsSUFBSSxTQUFTLEtBQUssZ0dBQW1DLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxnQkFBZ0IsRUFBRTtnQkFDdEcsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLGdFQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUM7YUFDdEY7U0FDSjtLQUNKO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDcEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEQrSDtBQUNoQztBQUNGO0FBQ047QUFDdEM7QUFDZDtBQUNWO0FBQ25CLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQzNELElBQUk7UUFDRixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztZQUM5QyxPQUFPO2dCQUNMLE1BQU0sRUFBRSxHQUFHO2dCQUNYLHNCQUFzQixFQUFFLElBQUksQ0FBQyxTQUFTO2FBQ3ZDLENBQUM7U0FDSDthQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUN0QixPQUFPLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9CO2FBQU0sSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDaEMsT0FBTztnQkFDTCxVQUFVLEVBQUUsR0FBRzthQUNoQixDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLElBQUksRUFBRSxDQUFDLENBQUM7WUFDbEQsT0FBTztnQkFDTCxVQUFVLEVBQUUsR0FBRzthQUNoQixDQUFDO1NBQ0g7S0FDRjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLEtBQUssQ0FBQztLQUNiO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUU7SUFDOUMsSUFBSSxhQUFhLENBQUM7SUFDbEIsSUFBSTtRQUNGLElBQUksWUFBWSxDQUFDLEtBQUssS0FBSyxPQUFPLEVBQUU7WUFDbEMsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxDQUFDO1NBQzlDO1FBQ0QsS0FBSyxNQUFNLEtBQUssSUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFO1lBQ3ZDLE1BQU0saUJBQWlCLENBQUMsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDO1NBQzlDO1FBQ0QsYUFBYSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUM7UUFDbEQsT0FBTyxhQUFhLENBQUM7S0FDdEI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN0RCxPQUFPLGFBQWEsQ0FBQztLQUN0QjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0saUJBQWlCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUN0RCxJQUFJLEtBQUssQ0FBQyxVQUFVLEtBQUssTUFBTSxFQUFFO1FBQy9CLE1BQU0sYUFBYSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEQsSUFBSSxPQUFPLEdBQUc7WUFDWixPQUFPLEVBQUUsWUFBWSxDQUFDLGFBQWE7WUFDbkMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1NBQzlCLENBQUM7UUFDRixNQUFNLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDaEQsTUFBTSxHQUFHLEdBQUcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyRCxNQUFNLE9BQU8sR0FBRyxNQUFNLHdFQUFtQixDQUN2QyxZQUFZLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRSxDQUN0QyxDQUFDO1FBQ0YsS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQzFCLE1BQU0sU0FBUyxHQUFHLE1BQU0sWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLElBQUksU0FBUyxLQUFLLDBHQUE2QyxFQUFFO2dCQUMvRCxNQUFNLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxDQUFDLENBQUM7YUFDdkQ7aUJBQU0sSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7Z0JBQ2hFLE1BQU0sUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxDQUFDLENBQUM7YUFDN0M7aUJBQU0sSUFBSSxTQUFTLEtBQUssNkZBQWdDLEVBQUU7Z0JBQ3pELE1BQU0sYUFBYSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2FBQzVEO1NBQ0Y7UUFDRCxNQUFNLHNCQUFzQixDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFLFlBQVksQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFDN0csSUFBSSxZQUFZLEdBQUc7WUFDakIsT0FBTyxFQUFFLFlBQVksQ0FBQyxhQUFhO1lBQ25DLFFBQVEsRUFBRSxhQUFhO1NBQ3hCLENBQUM7UUFDRixNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2pFLElBQ0UsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7WUFDakMsbUdBQXNDLEVBQ3RDO1lBQ0EsTUFBTSxvRUFBeUIsQ0FBQztnQkFDOUIsSUFBSSxFQUFFLEVBQUUsY0FBYyxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7Z0JBQ3BDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFO2FBQzFCLENBQUMsQ0FBQztTQUNKO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLHNCQUFzQixHQUFHLEtBQUssRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsRUFBRTtJQUM1RixJQUFJLGdCQUFnQixDQUFDO0lBQ3JCLElBQUksWUFBWSxHQUFHO1FBQ2pCLE9BQU8sRUFBRSxZQUFZO1FBQ3JCLFFBQVEsRUFBRSxhQUFhO0tBQ3hCLENBQUM7SUFDRixNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pFLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxtR0FBc0MsRUFBRTtRQUNoRixJQUFJLE9BQU8sR0FBRztZQUNaLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLEtBQUssRUFBRSxVQUFVO1NBQ2xCLENBQUM7UUFDRixNQUFNLEdBQUcsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEtBQUssYUFBYSxDQUFDLFFBQVEsRUFBRSxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ3ZFLGdCQUFnQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDbkQ7U0FDRjtRQUNELElBQUksZ0JBQWdCLElBQUksZ0JBQWdCLENBQUMsYUFBYSxFQUFFO1lBQ3RELElBQUksYUFBYSxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQztZQUNuRCxNQUFNLE9BQU8sR0FBRyxNQUFNLHdFQUFtQixDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ25FLElBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUM7Z0JBQzNCLE1BQU0sVUFBVSxHQUFHLE1BQU0sbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDakcsTUFBTSxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsZ0JBQWdCLENBQUM7Z0JBQ3JELGFBQWEsR0FBRyxVQUFVLENBQUMsWUFBWSxDQUFDO2dCQUN4QyxNQUFNLG9FQUF5QixDQUFDO29CQUM5QixJQUFJLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRTtvQkFDNUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUU7aUJBQzFCLENBQUMsQ0FBQzthQUNKO1lBQ0QsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUNoQztLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7SUFDeEMsSUFBSSxnQkFBZ0IsQ0FBQztJQUNyQixJQUFJLFdBQVcsQ0FBQztJQUNoQixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsTUFBTSxTQUFTLEdBQUcsTUFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLGdCQUFnQixJQUFJLFNBQVMsRUFBRTtZQUNsQyxXQUFXLEdBQUcsTUFBTSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDNUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLGFBQWEsQ0FBQztTQUM5QztLQUNGO0lBQ0QsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDakUsSUFBSSxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxDQUFDO0lBQ3RDLE1BQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzVELFVBQVUsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDO0lBQ3JELEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN0QyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssYUFBYSxFQUFFO1lBQzlELElBQUksYUFBYSxLQUFLLDBGQUE2QixFQUFFO2dCQUNuRCxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUM5QyxZQUFZLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUMzQztpQkFBTTtnQkFDTCxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbEQsWUFBWSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDM0M7U0FDRjtLQUNGO0lBQ0QsT0FBTyxFQUFDLGtCQUFrQixFQUFHLGdCQUFnQixFQUFDLGNBQWMsRUFBRyxZQUFZLEVBQUMsQ0FBQztBQUMvRSxDQUFDLENBQUM7QUFDRixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDdkMsSUFBSSxhQUFhLENBQUM7SUFDbEIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLFFBQVEsU0FBUyxFQUFFO1FBQ2pCLEtBQUssbUdBQXNDLENBQUMsQ0FBQztZQUMzQyxhQUFhLEdBQUcsZ0dBQW1DLENBQUM7WUFDcEQsTUFBTTtTQUNQO1FBQ0QsS0FBSyxnR0FBbUMsQ0FBQyxDQUFDO1lBQ3hDLGFBQWEsR0FBRyw2RkFBZ0MsQ0FBQztZQUNqRCxNQUFNO1NBQ1A7UUFDRCxLQUFLLHlHQUE0QyxDQUFDLENBQUM7WUFDakQsYUFBYSxHQUFHLDZGQUFnQyxDQUFDO1lBQ2pELE1BQU07U0FDUDtRQUNELEtBQUsscUdBQXdDLENBQUMsQ0FBQztZQUM3QyxhQUFhLEdBQUcsa0dBQXFDLENBQUM7WUFDdEQsTUFBTTtTQUNQO1FBQ0QsS0FBSyxzR0FBeUMsQ0FBQyxDQUFDO1lBQzlDLGFBQWEsR0FBRyxxR0FBd0MsQ0FBQztZQUN6RCxNQUFNO1NBQ1A7UUFDRCxLQUFLLHdHQUEyQyxDQUFDLENBQUM7WUFDaEQsYUFBYSxHQUFHLHFHQUF3QyxDQUFDO1lBQ3pELE1BQU07U0FDUDtRQUNELEtBQUssd0dBQTJDLENBQUMsQ0FBQztZQUNoRCxhQUFhLEdBQUcscUdBQXdDLENBQUM7WUFDekQsTUFBTTtTQUNQO1FBQ0QsS0FBSywyR0FBOEMsQ0FBQyxDQUFDO1lBQ25ELGFBQWEsR0FBRyx5R0FBNEMsQ0FBQztZQUM3RCxNQUFNO1NBQ1A7UUFDRCxLQUFLLDRHQUErQyxDQUFDLENBQUM7WUFDcEQsYUFBYSxHQUFHLHlHQUE0QyxDQUFDO1lBQzdELE1BQU07U0FDUDtRQUNELEtBQUssa0dBQXFDLENBQUMsQ0FBQztZQUMxQyxhQUFhLEdBQUcsK0dBQWtELENBQUM7WUFDbkUsTUFBTTtTQUNQO1FBQ0QsS0FBSyxpR0FBb0MsQ0FBQyxDQUFDO1lBQ3pDLGFBQWEsR0FBRyw4RkFBaUMsQ0FBQztZQUNsRCxNQUFNO1NBQ1A7UUFDRCxLQUFLLG9HQUF1QyxDQUFDLENBQUM7WUFDNUMsYUFBYSxHQUFHLGdHQUFtQyxDQUFDO1lBQ3BELE1BQU07U0FDUDtRQUNELEtBQUssaUhBQW9ELENBQUMsQ0FBQztZQUN6RCxhQUFhLEdBQUcsZ0dBQW1DLENBQUM7WUFDcEQsTUFBTTtTQUNQO1FBQ0QsS0FBSyxrSEFBcUQsQ0FBQyxDQUFDO1lBQzFELGFBQWEsR0FBRyxvR0FBdUMsQ0FBQztZQUN4RCxNQUFNO1NBQ1A7UUFDRCxLQUFLLCtGQUFrQyxDQUFDLENBQUM7WUFDdkMsYUFBYSxHQUFHLDRGQUErQixDQUFDO1lBQ2hELE1BQU07U0FDUDtRQUNELEtBQUssdUdBQTBDLENBQUMsQ0FBQztZQUMvQyxhQUFhLEdBQUcsb0dBQXVDLENBQUM7WUFDeEQsTUFBTTtTQUNQO1FBQ0QsS0FBSyx3R0FBMkMsQ0FBQyxDQUFDO1lBQ2hELGFBQWEsR0FBRyxvR0FBdUMsQ0FBQztZQUN4RCxNQUFNO1NBQ1A7UUFDRCxLQUFLLHVHQUEwQyxDQUFDLENBQUM7WUFDL0MsYUFBYSxHQUFHLG9HQUF1QyxDQUFDO1lBQ3hELE1BQU07U0FDUDtRQUNELEtBQUssNkZBQWdDLENBQUMsQ0FBQztZQUNyQyxhQUFhLEdBQUcsMEZBQTZCLENBQUM7WUFDOUMsTUFBTTtTQUNQO1FBQ0QsS0FBSyxvSEFBdUQsQ0FBQyxDQUFDO1lBQzVELGFBQWEsR0FBRyxvR0FBdUMsQ0FBQztZQUN4RCxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTTtTQUNQO1FBQ0QsS0FBSyxxR0FBd0MsQ0FBQyxDQUFDO1lBQzdDLGFBQWEsR0FBRyxrR0FBcUMsQ0FBQztZQUN0RCxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTTtTQUNQO1FBQ0QsS0FBSyx1R0FBMEMsQ0FBQyxDQUFDO1lBQy9DLGFBQWEsR0FBRyxvR0FBdUMsQ0FBQztZQUN4RCxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTTtTQUNQO1FBQ0QsS0FBSyxvSEFBdUQsQ0FBQyxDQUFDO1lBQzVELGFBQWEsR0FBRyxpSEFBb0QsQ0FBQztZQUNyRSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTTtTQUNQO1FBQ0QsS0FBSyxpSEFBb0QsQ0FBQyxDQUFDO1lBQ3pELGFBQWEsR0FBRyw4R0FBaUQsQ0FBQztZQUNsRSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsTUFBTTtTQUNQO1FBQ0QsT0FBTyxDQUFDLENBQUM7WUFDUCxNQUFNO1NBQ1A7S0FDRjtJQUNELE9BQU8sRUFBQyxlQUFlLEVBQUMsYUFBYSxFQUFDLFNBQVMsRUFBQyxPQUFPLEVBQUMsQ0FBQztBQUMzRCxDQUFDLENBQUM7QUFDRixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDbEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDM0UsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsRUFBRTtJQUMvRCxJQUFJLFlBQVksQ0FBQztJQUNqQixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLGFBQWEsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUN6RCxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUMxQixJQUFJLFlBQVksRUFBRTtnQkFDaEIsTUFBTSxvRUFBeUIsQ0FBQztvQkFDOUIsSUFBSSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7b0JBQ3RELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFO2lCQUMxQixDQUFDLENBQUM7YUFDSjtTQUNGO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDcEUsSUFBSSxPQUFPLEdBQUc7UUFDWixPQUFPLEVBQUUsWUFBWSxDQUFDLGFBQWE7UUFDbkMsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0tBQ3BDLENBQUM7SUFDRixNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVELElBQ0UsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxtR0FBc0MsRUFDNUU7UUFDQSxLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUU7Z0JBQzFELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDZCxJQUFJLFVBQVUsR0FBRzt3QkFDZixTQUFTLEVBQUUsWUFBWSxDQUFDLFNBQVM7cUJBQ2xDLENBQUM7b0JBQ0YsTUFBTSxXQUFXLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztpQkFDdEQ7YUFDRjtTQUNGO0tBQ0Y7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLFFBQVEsR0FBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsRUFBRTtJQUNyRCxJQUFJLGNBQWMsQ0FBQztJQUNuQixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLGFBQWEsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUN6RCxjQUFjLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUM1QixJQUFJLGNBQWMsRUFBRTtnQkFDbEIsTUFBTSxvRUFBeUIsQ0FBQztvQkFDOUIsSUFBSSxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsY0FBYyxFQUFFO29CQUM1QyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDLEVBQUUsRUFBRTtpQkFDMUIsQ0FBQyxDQUFDO2FBQ0o7U0FDRjtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxnQkFBZ0IsR0FBRyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN0RixNQUFNLFNBQVMsR0FBRyxNQUFNLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDMUUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLHdFQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlELE1BQU0sc0JBQXNCLEdBQUcsTUFBTSw4RUFBeUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMxRSxJQUFJLFdBQVcsRUFBRSxhQUFhLEVBQUUsWUFBWSxDQUFDO0lBQzdDLEtBQUssSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTtRQUM5QixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDMUIsTUFBTSxTQUFTLEdBQUcsTUFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLGdCQUFnQixJQUFJLFNBQVMsS0FBSyxrR0FBcUMsRUFBRTtnQkFDN0YsWUFBWSxHQUFHLE1BQU0sZUFBZSxDQUFDLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO2FBQ25FO1lBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLGdCQUFnQixJQUFJLFNBQVMsS0FBSyxpR0FBb0MsRUFBRTtnQkFDNUYsV0FBVyxHQUFHLE1BQU0sZ0JBQWdCLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7YUFDbkU7WUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssZ0JBQWdCLElBQUksU0FBUyxLQUFLLG1HQUFzQyxFQUFFO2dCQUM5RixhQUFhLEdBQUcsTUFBTSxjQUFjLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7YUFDbkU7U0FDSjtLQUNGO0lBQ0QsT0FBTyxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvRixDQUFDLENBQUM7QUFDRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNyRyxJQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxLQUFLLE1BQU0sRUFBQztRQUNyQyxhQUFhLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7S0FDdkM7SUFDRCxJQUFHLGdCQUFnQixLQUFLLCtCQUErQixFQUFDO1FBQ3RELGdCQUFnQixHQUFHLHlCQUF5QixDQUFDO0tBQzlDO0lBQ0QsSUFBRyxnQkFBZ0IsS0FBSyxpQkFBaUIsRUFBQztRQUN4QyxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQztLQUN0QztJQUNELE1BQU0sY0FBYyxHQUFHLDRDQUFLLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ2xGLE1BQU0sY0FBYyxHQUFHLEVBQUMsZUFBZSxFQUFFLGdCQUFnQixFQUFFLGNBQWMsRUFBRyxZQUFZLEVBQUMsZUFBZSxFQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUMsY0FBYyxFQUFDLENBQUM7SUFDakssTUFBTSxXQUFXLEdBQUcsRUFBQyxRQUFRLEVBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRyxXQUFXLEVBQUUsT0FBTyxFQUFHLGFBQWEsRUFBRSxZQUFZLEVBQUMsY0FBYyxFQUFDLENBQUM7SUFDNUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN6QixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNyQyxNQUFNLHlCQUF5QixHQUFHLE1BQU0scURBQ2hDLENBQUMsR0FBRyxDQUFDO1NBQ1IsSUFBSSxDQUFDLFdBQVcsQ0FBQztTQUNqQixHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDO1NBQ3ZDLEdBQUcsQ0FBQyxlQUFlLEVBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztJQUNqRSxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMseUJBQXlCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDLEVBQUM7UUFDN0UsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFHLHVDQUF1QztTQUNsRDtLQUNGO1NBQUk7UUFDSCxPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxRQUFRLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQztTQUNuRDtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSxzQkFBc0IsRUFBRSxFQUFFO0lBQzVELElBQUksWUFBWSxDQUFDO0lBQ2pCLEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtRQUMxQixJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEtBQUssc0JBQXNCLENBQUMsUUFBUSxFQUFFLEVBQUM7WUFDaEUsWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDeEIsTUFBTTtTQUNUO0tBQ0Y7SUFDRCxPQUFPLFlBQVksQ0FBQztBQUN0QixDQUFDLENBQUM7QUFDRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxHQUFHLEVBQUUsc0JBQXNCLEVBQUUsRUFBRTtJQUM3RCxJQUFJLGFBQWEsQ0FBQztJQUNsQixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxLQUFLLHNCQUFzQixDQUFDLFFBQVEsRUFBRSxFQUFDO1lBQ2hFLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3pCLE1BQU07U0FDVDtLQUNGO0lBQ0QsT0FBTyxhQUFhLENBQUM7QUFDdkIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSxzQkFBc0IsRUFBRSxFQUFFO0lBQzNELElBQUksV0FBVyxDQUFDO0lBQ2hCLEtBQUssSUFBSSxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtRQUMxQixJQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEtBQUssc0JBQXNCLENBQUMsUUFBUSxFQUFFLEVBQUM7WUFDaEUsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDdkIsTUFBTTtTQUNUO0tBQ0Y7SUFDRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFZNkI7QUFDaUU7QUFDRjtBQUNOO0FBQ3RDO0FBQzNDLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDL0QsSUFBSSxvQkFBb0IsQ0FBQztJQUN6QixJQUFJLFlBQVksQ0FBQztJQUNqQixJQUFJO1FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDakIsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGtDQUFrQyxFQUFFLENBQUM7U0FDbkU7UUFDRCxNQUFNLFdBQVcsR0FBRyxNQUFNLHdFQUFtQixFQUFFLENBQUM7UUFDaEQsTUFBTSxTQUFTLEdBQUcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUMxRSxNQUFNLE9BQU8sR0FBRyxNQUFNLHdFQUFtQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RCxNQUFNLGFBQWEsR0FBRyxNQUFNLGdCQUFnQixDQUMxQyxTQUFTLEVBQ1QsT0FBTyxDQUFDLFVBQVUsRUFDbEIsRUFBRSxDQUNILENBQUM7UUFDRixZQUFZLEdBQUcsTUFBTSxvRUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELElBQUksWUFBWSxFQUFFO1lBQ2hCLFlBQVksR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUN2QztRQUVELE1BQU0sb0VBQXlCLENBQUM7WUFDOUIsSUFBSSxFQUFFLEVBQUUsb0JBQW9CLEVBQUUsWUFBWSxFQUFFO1lBQzVDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFO1NBQzFCLENBQUMsQ0FBQztRQUNILG9CQUFvQixHQUFHO1lBQ3JCLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLFNBQVM7WUFDbEIsSUFBSSxFQUFFLGFBQWE7U0FDcEIsQ0FBQztRQUNGLE9BQU8sb0JBQW9CLENBQUM7S0FDN0I7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLG9CQUFvQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzdELE9BQU8sb0JBQW9CLENBQUM7S0FDN0I7QUFDSCxDQUFDLENBQUM7QUFDSyxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3BFLE1BQU0sVUFBVSxHQUFHLE1BQU0sWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELElBQUksU0FBUyxFQUFFLGFBQWEsQ0FBQztJQUM3QixNQUFNLGFBQWEsR0FBRyxFQUFFLEVBQ3RCLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDbEIsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLHdFQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlELEtBQUssSUFBSSxHQUFHLElBQUksU0FBUyxDQUFDLElBQUksRUFBRTtRQUM5QixLQUFLLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7WUFDMUIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVk7Z0JBQ2pDLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRTtnQkFDeEMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNULElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxnQkFBZ0IsRUFBRTtnQkFDdEMsSUFBSSxTQUFTLElBQUksU0FBUyxLQUFLLG1HQUFzQyxFQUFFO29CQUNyRSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLGdHQUFtQyxFQUFFOzRCQUNyRCxNQUFNLGlCQUFpQixHQUFHLE1BQU0sb0JBQW9CLENBQ2xELEdBQUcsRUFDSCxVQUFVLEVBQ1YsUUFBUSxDQUNULENBQUM7NEJBQ0YsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7NEJBQ3pELGFBQWEsR0FBRyxNQUFNLGdCQUFnQixDQUNwQyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULGlCQUFpQixDQUNsQixDQUFDOzRCQUNGLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7NEJBQ2xDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsaUJBQWlCLENBQUM7eUJBQzdDO3FCQUNGO2lCQUNGO2dCQUNELElBQUksU0FBUyxJQUFJLENBQUMsU0FBUyxLQUFLLGdHQUFtQztvQkFDakUsU0FBUyxLQUFLLHlHQUE0QyxDQUFDLEVBQUU7b0JBQzdELEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUssNkZBQWdDLEVBQUU7NEJBQ2xELE1BQU0sY0FBYyxHQUFHLE1BQU0sb0JBQW9CLENBQy9DLEdBQUcsRUFDSCxVQUFVLEVBQ1YsUUFBUSxDQUNULENBQUM7NEJBQ0YsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7NEJBQ3pELGFBQWEsR0FBRyxNQUFNLGlCQUFpQixDQUNyQyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULGNBQWMsQ0FDZixDQUFDOzRCQUNGLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7NEJBQ2xDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsY0FBYyxDQUFDO3lCQUMxQztxQkFDRjtpQkFDRjtnQkFDRCxJQUNFLFNBQVM7b0JBQ1QsU0FBUyxLQUFLLHFHQUF3QyxFQUN0RDtvQkFDQSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLGtHQUFxQyxFQUFFOzRCQUN2RCxNQUFNLE9BQU8sR0FBRyxNQUFNLG9CQUFvQixDQUN4QyxHQUFHLEVBQ0gsVUFBVSxFQUNWLFFBQVEsQ0FDVCxDQUFDOzRCQUNGLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDOzRCQUN6RCxhQUFhLEdBQUcsTUFBTSxVQUFVLENBQzlCLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsT0FBTyxDQUNSLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUM7eUJBQ25DO3FCQUNGO2lCQUNGO2dCQUNELElBQ0UsU0FBUztvQkFDVCxDQUFDLFNBQVMsS0FBSyxzR0FBeUM7d0JBQ3RELFNBQVMsS0FBSyx3R0FBMkMsQ0FBQyxFQUM1RDtvQkFDQSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLHFHQUF3QyxFQUFFOzRCQUMxRCxNQUFNLHNCQUFzQixHQUFHLE1BQU0sb0JBQW9CLENBQ3ZELEdBQUcsRUFDSCxVQUFVLEVBQ1YsUUFBUSxDQUNULENBQUM7NEJBQ0YsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7NEJBQ3pELGFBQWEsR0FBRyxNQUFNLHlCQUF5QixDQUM3QyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULHNCQUFzQixDQUN2QixDQUFDOzRCQUNGLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7NEJBQ2xDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsc0JBQXNCLENBQUM7eUJBQ2xEO3FCQUNGO2lCQUNGO2dCQUNELElBQ0UsU0FBUztvQkFDVCxTQUFTLEtBQUssd0dBQTJDLEVBQ3pEO29CQUNBLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUsscUdBQXdDLEVBQUU7NEJBQzFELE1BQU0sc0JBQXNCLEdBQUcsTUFBTSxvQkFBb0IsQ0FDdkQsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0seUJBQXlCLENBQzdDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1Qsc0JBQXNCLENBQ3ZCLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQzt5QkFDbEQ7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsSUFDRSxTQUFTO29CQUNULFNBQVMsS0FBSywyR0FBOEMsRUFDNUQ7b0JBQ0EsS0FBSyxTQUFTLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRTt3QkFDekQsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUs7NEJBQy9CLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRTs0QkFDdEMsQ0FBQyxDQUFDLElBQUksQ0FBQzt3QkFDVCxJQUFJLFNBQVMsS0FBSyx5R0FBNEMsRUFBRTs0QkFDOUQsTUFBTSxhQUFhLEdBQUcsTUFBTSxvQkFBb0IsQ0FDOUMsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0sa0JBQWtCLENBQ3RDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsYUFBYSxDQUNkLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7eUJBQ3pDO3FCQUNGO2lCQUNGO2dCQUNELElBQ0UsU0FBUztvQkFDVCxTQUFTLEtBQUssNEdBQStDLEVBQzdEO29CQUNBLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUsseUdBQTRDLEVBQUU7NEJBQzlELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxvQkFBb0IsQ0FDbEQsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0sa0JBQWtCLENBQ3RDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsaUJBQWlCLENBQ2xCLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQzt5QkFDN0M7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsSUFBSSxTQUFTLElBQUksU0FBUyxLQUFLLGtHQUFxQyxFQUFFO29CQUNwRSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQ0UsU0FBUyxLQUFLLCtHQUFrRCxFQUNoRTs0QkFDQSxNQUFNLGVBQWUsR0FBRyxNQUFNLG9CQUFvQixDQUNoRCxHQUFHLEVBQ0gsVUFBVSxFQUNWLFFBQVEsQ0FDVCxDQUFDOzRCQUNGLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDOzRCQUN6RCxhQUFhLEdBQUcsTUFBTSxlQUFlLENBQ25DLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsZUFBZSxDQUNoQixDQUFDOzRCQUNGLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7NEJBQ2xDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsZUFBZSxDQUFDO3lCQUMzQztxQkFDRjtpQkFDRjtnQkFDRCxJQUFJLFNBQVMsSUFBSSxTQUFTLEtBQUssaUdBQW9DLEVBQUU7b0JBQ25FLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUssOEZBQWlDLEVBQUU7NEJBQ25ELE1BQU0sY0FBYyxHQUFHLE1BQU0sb0JBQW9CLENBQy9DLEdBQUcsRUFDSCxVQUFVLEVBQ1YsUUFBUSxDQUNULENBQUM7NEJBQ0YsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7NEJBQ3pELGFBQWEsR0FBRyxNQUFNLFVBQVUsQ0FDOUIsa0JBQWtCLEVBQ2xCLFNBQVMsRUFDVCxjQUFjLENBQ2YsQ0FBQzs0QkFDRixhQUFhLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDOzRCQUNsQyxTQUFTLENBQUMsYUFBYSxHQUFHLGNBQWMsQ0FBQzt5QkFDMUM7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsSUFDRSxTQUFTO29CQUNULENBQUMsU0FBUyxLQUFLLG9HQUF1Qzt3QkFDcEQsU0FBUyxLQUFLLGlIQUFvRCxDQUFDLEVBQ3JFO29CQUNBLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUssZ0dBQW1DLEVBQUU7NEJBQ3JELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxvQkFBb0IsQ0FDbEQsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0sb0JBQW9CLENBQ3hDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsaUJBQWlCLENBQ2xCLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQzt5QkFDN0M7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsSUFDRSxTQUFTO29CQUNULFNBQVMsS0FBSyxrSEFBcUQsRUFDbkU7b0JBQ0EsS0FBSyxTQUFTLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRTt3QkFDekQsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUs7NEJBQy9CLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRTs0QkFDdEMsQ0FBQyxDQUFDLElBQUksQ0FBQzt3QkFDVCxJQUFJLFNBQVMsS0FBSyxvR0FBdUMsRUFBRTs0QkFDekQsTUFBTSx1QkFBdUIsR0FBRyxNQUFNLG9CQUFvQixDQUN4RCxHQUFHLEVBQ0gsVUFBVSxFQUNWLFFBQVEsQ0FDVCxDQUFDOzRCQUNGLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDOzRCQUN6RCxhQUFhLEdBQUcsTUFBTSx3QkFBd0IsQ0FDNUMsa0JBQWtCLEVBQ2xCLFNBQVMsRUFDVCx1QkFBdUIsQ0FDeEIsQ0FBQzs0QkFDRixhQUFhLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDOzRCQUNsQyxTQUFTLENBQUMsYUFBYSxHQUFHLHVCQUF1QixDQUFDO3lCQUNuRDtxQkFDRjtpQkFDRjtnQkFDRCxJQUNFLFNBQVM7b0JBQ1QsU0FBUyxLQUFLLG9IQUF1RCxFQUNyRTtvQkFDQSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLG9HQUF1QyxFQUFFOzRCQUN6RCxNQUFNLGNBQWMsR0FBRyxNQUFNLG9CQUFvQixDQUMvQyxHQUFHLEVBQ0gsVUFBVSxFQUNWLFFBQVEsQ0FDVCxDQUFDOzRCQUNGLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDOzRCQUN6RCxhQUFhLEdBQUcsTUFBTSxTQUFTLENBQzdCLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsY0FBYyxDQUNmLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxjQUFjLENBQUM7eUJBQzFDO3FCQUNGO2lCQUNGO2dCQUNELElBQUksU0FBUyxJQUFJLFNBQVMsS0FBSywrRkFBa0MsRUFBRTtvQkFDakUsS0FBSyxTQUFTLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsRUFBRTt3QkFDekQsTUFBTSxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUs7NEJBQy9CLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRTs0QkFDdEMsQ0FBQyxDQUFDLElBQUksQ0FBQzt3QkFDVCxJQUFJLFNBQVMsS0FBSyw0RkFBK0IsRUFBRTs0QkFDakQsTUFBTSxjQUFjLEdBQUcsTUFBTSxvQkFBb0IsQ0FDL0MsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0saUJBQWlCLENBQ3JDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsY0FBYyxDQUNmLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxjQUFjLENBQUM7eUJBQzFDO3FCQUNGO2lCQUNGO2dCQUNELElBQ0UsU0FBUztvQkFDVCxDQUFDLFNBQVMsS0FBSyx1R0FBMEM7d0JBQ3ZELFNBQVMsS0FBSyx3R0FBMkMsQ0FBQyxFQUM1RDtvQkFDQSxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLG9HQUF1QyxFQUFFOzRCQUN6RCxNQUFNLGlCQUFpQixHQUFHLE1BQU0sb0JBQW9CLENBQ2xELEdBQUcsRUFDSCxVQUFVLEVBQ1YsUUFBUSxDQUNULENBQUM7NEJBQ0YsTUFBTSxrQkFBa0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLENBQUM7NEJBQ3pELGFBQWEsR0FBRyxNQUFNLG9CQUFvQixDQUN4QyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULGlCQUFpQixDQUNsQixDQUFDOzRCQUNGLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7NEJBQ2xDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsaUJBQWlCLENBQUM7eUJBQzdDO3FCQUNGO2lCQUNGO2dCQUNELElBQ0UsU0FBUztvQkFDVCxTQUFTLEtBQUssdUdBQTBDLEVBQ3hEO29CQUNBLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLEVBQUU7d0JBQ3pELE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUU7NEJBQ3RDLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQ1QsSUFBSSxTQUFTLEtBQUssb0dBQXVDLEVBQUU7NEJBQ3pELE1BQU0saUJBQWlCLEdBQUcsTUFBTSxvQkFBb0IsQ0FDbEQsR0FBRyxFQUNILFVBQVUsRUFDVixRQUFRLENBQ1QsQ0FBQzs0QkFDRixNQUFNLGtCQUFrQixHQUFHLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQzs0QkFDekQsYUFBYSxHQUFHLE1BQU0sb0JBQW9CLENBQ3hDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsaUJBQWlCLENBQ2xCLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQzt5QkFDN0M7cUJBQ0Y7aUJBQ0Y7Z0JBQ0QsSUFBSSxTQUFTLElBQUksU0FBUyxLQUFLLDZGQUFnQyxFQUFFO29CQUMvRCxLQUFLLFNBQVMsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFO3dCQUN6RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSzs0QkFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFOzRCQUN0QyxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksU0FBUyxLQUFLLDBGQUE2QixFQUFFOzRCQUMvQyxNQUFNLFlBQVksR0FBRyxNQUFNLG9CQUFvQixDQUM3QyxHQUFHLEVBQ0gsVUFBVSxFQUNWLFFBQVEsQ0FDVCxDQUFDOzRCQUNGLE1BQU0sa0JBQWtCLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDOzRCQUN6RCxhQUFhLEdBQUcsTUFBTSxlQUFlLENBQ25DLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsWUFBWSxDQUNiLENBQUM7NEJBQ0YsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs0QkFDbEMsU0FBUyxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7eUJBQ3hDO3FCQUNGO2lCQUNGO2FBQ0Y7U0FDRjtLQUNGO0lBQ0QsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO1FBQ25CLE9BQU8sYUFBYSxDQUFDO0tBQ3RCO1NBQU07UUFDTCxPQUFPLFVBQVUsQ0FBQztLQUNuQjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sb0JBQW9CLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDL0QsSUFBSSxVQUFVLEVBQ1osaUJBQWlCLEVBQ2pCLGVBQWUsRUFDZixlQUFlLEVBQ2YsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixtQkFBbUIsRUFDbkIsVUFBVSxDQUFDO0lBQ2IsSUFBSSxTQUFTLENBQUM7SUFDZCxJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUM7SUFDM0IsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUN6QixRQUFRLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDckIsS0FBSyxVQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDbEMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQ3hCLE1BQU07YUFDUDtZQUNELEtBQUssVUFBVSxDQUFDLHlCQUF5QixDQUFDLENBQUM7Z0JBQ3pDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQy9CLE1BQU07YUFDUDtZQUNELEtBQUssVUFBVSxDQUFDLHVCQUF1QixDQUFDLENBQUM7Z0JBQ3ZDLGVBQWUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUM3QixNQUFNO2FBQ1A7WUFDRCxLQUFLLFVBQVUsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO2dCQUN2QyxlQUFlLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDN0IsTUFBTTthQUNQO1lBQ0QsS0FBSyxVQUFVLENBQUMscUJBQXFCLENBQUMsQ0FBQztnQkFDckMsYUFBYSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQzNCLE1BQU07YUFDUDtZQUNELEtBQUssVUFBVSxDQUFDLHlCQUF5QixDQUFDLENBQUM7Z0JBQ3pDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQy9CLE1BQU07YUFDUDtZQUNELEtBQUssVUFBVSxDQUFDLDJCQUEyQixDQUFDLENBQUM7Z0JBQzNDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pDLE1BQU07YUFDUDtZQUNELEtBQUssVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQ2xDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUN4QixNQUFNO2FBQ1A7WUFDRDtnQkFDRSxNQUFNO1NBQ1Q7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILFFBQVEsVUFBVSxFQUFFO1FBQ2xCLEtBQUssVUFBVSxDQUFDLENBQUM7WUFDZixTQUFTLEdBQUcsTUFBTSxpRUFBWSxDQUM1QixJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsRUFDdkIsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQzFCLENBQUM7WUFDRixNQUFNO1NBQ1A7UUFDRCxLQUFLLGFBQWEsQ0FBQyxDQUFDO1lBQ2xCLFNBQVMsR0FBRyxNQUFNLGlFQUFZLENBQzVCLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQzNCLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUMxQixDQUFDO1lBQ0YsTUFBTTtTQUNQO1FBQ0QsS0FBSyxhQUFhLENBQUMsQ0FBQztZQUNsQixTQUFTLEdBQUcsTUFBTSxpRUFBWSxDQUM1QixJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUMzQixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FDMUIsQ0FBQztZQUNGLE1BQU07U0FDUDtRQUNEO1lBQ0UsTUFBTTtLQUNUO0lBQ0QsSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLFdBQVcsR0FBRyxTQUFTLENBQUM7S0FDekI7U0FBTTtRQUNMLFNBQVMsR0FBRyxDQUFDLENBQUM7S0FDZjtJQUNELElBQUksUUFBUSxLQUFLLE1BQU0sRUFBRTtRQUN2QixPQUFPO1lBQ0wsaUJBQWlCLEVBQUUsaUJBQWlCO1lBQ3BDLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxTQUFTO1lBQ3BCLFdBQVcsRUFBRSxXQUFXO1NBQ3pCLENBQUM7S0FDSDtTQUFNO1FBQ0wsT0FBTztZQUNMLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLGlCQUFpQixFQUFFLGlCQUFpQjtZQUNwQyxlQUFlLEVBQUUsZUFBZTtZQUNoQyxlQUFlLEVBQUUsZUFBZTtZQUNoQyxhQUFhLEVBQUUsYUFBYTtZQUM1QixpQkFBaUIsRUFBRSxpQkFBaUI7WUFDcEMsbUJBQW1CLEVBQUUsbUJBQW1CO1lBQ3hDLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxTQUFTO1lBQ3BCLFdBQVcsRUFBRSxXQUFXO1NBQ3pCLENBQUM7S0FDSDtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtJQUN2QyxNQUFNLFVBQVUsR0FBRyxNQUFNLGNBQWMsRUFBRSxDQUFDO0lBQzFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDbkMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzVFLFFBQVEsV0FBVyxFQUFFO1lBQ25CLEtBQUssK0ZBQWtDLENBQUMsQ0FBQztnQkFDdkMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLE1BQU07YUFDUDtZQUNELEtBQUssaUhBQW9ELENBQUMsQ0FBQztnQkFDekQsVUFBVSxDQUFDLHlCQUF5QixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQ2pELE1BQU07YUFDUDtZQUNELEtBQUssa0hBQXFELENBQUMsQ0FBQztnQkFDMUQsVUFBVSxDQUFDLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQy9DLE1BQU07YUFDUDtZQUNELEtBQUssa0dBQXFDLENBQUMsQ0FBQztnQkFDMUMsVUFBVSxDQUFDLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQy9DLE1BQU07YUFDUDtZQUNELEtBQUssbUdBQXNDLENBQUMsQ0FBQztnQkFDM0MsVUFBVSxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQzdDLE1BQU07YUFDUDtZQUNELEtBQUssNEdBQStDLENBQUMsQ0FBQztnQkFDcEQsVUFBVSxDQUFDLDJCQUEyQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQ25ELE1BQU07YUFDUDtZQUNELEtBQUssNkdBQWdELENBQUMsQ0FBQztnQkFDckQsVUFBVSxDQUFDLHlCQUF5QixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQ2pELE1BQU07YUFDUDtZQUNELEtBQUssaUdBQW9DLENBQUMsQ0FBQztnQkFDekMsVUFBVSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7Z0JBQzFDLE1BQU07YUFDUDtTQUNGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFDRixNQUFNLGNBQWMsR0FBRyxLQUFLLElBQUksRUFBRTtJQUNoQyxPQUFPO1FBQ0wsa0JBQWtCLEVBQUUsSUFBSTtRQUN4Qix5QkFBeUIsRUFBRSxJQUFJO1FBQy9CLHVCQUF1QixFQUFFLElBQUk7UUFDN0IsdUJBQXVCLEVBQUUsSUFBSTtRQUM3QixxQkFBcUIsRUFBRSxJQUFJO1FBQzNCLHlCQUF5QixFQUFFLElBQUk7UUFDL0IsMkJBQTJCLEVBQUUsSUFBSTtRQUNqQyxrQkFBa0IsRUFBRSxJQUFJO0tBQ3pCLENBQUM7QUFDSixDQUFDLENBQUM7QUFDRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDM0UsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksU0FBUyxLQUFLLGdHQUFtQyxFQUFFO1lBRXpFLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsR0FBRztRQUNILElBQUksRUFBRSxnR0FBbUM7UUFDekMsY0FBYyxFQUFFLGFBQWE7UUFDN0IsVUFBVSxFQUFFLFVBQVU7S0FDdkIsQ0FBQztJQUNGLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxpQkFBaUIsR0FBRyxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQzVFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNaLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLFNBQVMsS0FBSyw2RkFBZ0MsRUFBRTtZQUN0RSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUsNkZBQWdDO1FBQ3RDLGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDckUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSyxrR0FBcUMsRUFDbkQ7WUFDQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUsa0dBQXFDO1FBQzNDLGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0seUJBQXlCLEdBQUcsS0FBSyxFQUNyQyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULFVBQVUsRUFDVixFQUFFO0lBQ0YsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSyxxR0FBd0MsRUFDdEQ7WUFFQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUscUdBQXdDO1FBQzlDLGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0seUJBQXlCLEdBQUcsS0FBSyxFQUNyQyxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULFVBQVUsRUFDVixFQUFFO0lBQ0YsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSyxxR0FBd0MsRUFDdEQ7WUFFQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUscUdBQXdDO1FBQzlDLGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUM5QixrQkFBa0IsRUFDbEIsU0FBUyxFQUNULFVBQVUsRUFDVixFQUFFO0lBQ0YsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSyx5R0FBNEMsRUFDMUQ7WUFFQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUseUdBQTRDO1FBQ2xELGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUM5QixrQkFBa0IsRUFDbEIsU0FBUyxFQUNULFVBQVUsRUFDVixFQUFFO0lBQ0YsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSyx5R0FBNEMsRUFDMUQ7WUFFQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUseUdBQTRDO1FBQ2xELGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDMUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQ0UsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2hCLFNBQVMsS0FBSywrR0FBa0QsRUFDaEU7WUFFQSxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSCxFQUFFLEdBQUc7UUFDSCxJQUFJLEVBQUUsK0dBQWtEO1FBQ3hELGNBQWMsRUFBRSxhQUFhO1FBQzdCLFVBQVUsRUFBRSxVQUFVO0tBQ3ZCLENBQUM7SUFDRixPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUNGLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDckUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksU0FBUyxLQUFLLDhGQUFpQyxFQUFFO1lBRXZFLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsR0FBRztRQUNILElBQUksRUFBRSw4RkFBaUM7UUFDdkMsY0FBYyxFQUFFLGFBQWE7UUFDN0IsVUFBVSxFQUFFLFVBQVU7S0FDdkIsQ0FBQztJQUNGLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQ2hDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsVUFBVSxFQUNWLEVBQUU7SUFDRixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDWixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDekIsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDakMsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxTQUFTLEtBQUssZ0dBQW1DLEVBQUU7WUFFekUsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsRUFBRSxHQUFHO1FBQ0gsSUFBSSxFQUFFLGdHQUFtQztRQUN6QyxjQUFjLEVBQUUsYUFBYTtRQUM3QixVQUFVLEVBQUUsVUFBVTtLQUN2QixDQUFDO0lBQ0YsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7QUFDRixNQUFNLHdCQUF3QixHQUFHLEtBQUssRUFDcEMsa0JBQWtCLEVBQ2xCLFNBQVMsRUFDVCxVQUFVLEVBQ1YsRUFBRTtJQUNGLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNaLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNqQyxJQUNFLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUNoQixTQUFTLEtBQUssb0dBQXVDLEVBQ3JEO1lBRUEsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsRUFBRSxHQUFHO1FBQ0gsSUFBSSxFQUFFLG9HQUF1QztRQUM3QyxjQUFjLEVBQUUsYUFBYTtRQUM3QixVQUFVLEVBQUUsVUFBVTtLQUN2QixDQUFDO0lBQ0YsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7QUFDRixNQUFNLFNBQVMsR0FBRyxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFO0lBQ3BFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNaLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNqQyxJQUNFLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUNoQixTQUFTLEtBQUssb0dBQXVDLEVBQ3JEO1lBRUEsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsRUFBRSxHQUFHO1FBQ0gsSUFBSSxFQUFFLG9HQUF1QztRQUM3QyxjQUFjLEVBQUUsYUFBYTtRQUM3QixVQUFVLEVBQUUsVUFBVTtLQUN2QixDQUFDO0lBQ0YsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7QUFDRixNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDNUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ1osTUFBTSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQ2pDLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksU0FBUyxLQUFLLDRGQUErQixFQUFFO1lBRXJFLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsR0FBRztRQUNILElBQUksRUFBRSw0RkFBK0I7UUFDckMsY0FBYyxFQUFFLGFBQWE7UUFDN0IsVUFBVSxFQUFFLFVBQVU7S0FDdkIsQ0FBQztJQUNGLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQ2hDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsVUFBVSxFQUNWLEVBQUU7SUFDRixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDWixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDekIsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDakMsSUFDRSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUM7WUFDaEIsU0FBUyxLQUFLLG9HQUF1QyxFQUNyRDtZQUVBLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsR0FBRztRQUNILElBQUksRUFBRSxvR0FBdUM7UUFDN0MsY0FBYyxFQUFFLGFBQWE7UUFDN0IsVUFBVSxFQUFFLFVBQVU7S0FDdkIsQ0FBQztJQUNGLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQ2hDLGtCQUFrQixFQUNsQixTQUFTLEVBQ1QsVUFBVSxFQUNWLEVBQUU7SUFDRixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDWixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDekIsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDakMsSUFDRSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUM7WUFDaEIsU0FBUyxLQUFLLG9HQUF1QyxFQUNyRDtZQUVBLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUNILEVBQUUsR0FBRztRQUNILElBQUksRUFBRSxvR0FBdUM7UUFDN0MsY0FBYyxFQUFFLGFBQWE7UUFDN0IsVUFBVSxFQUFFLFVBQVU7S0FDdkIsQ0FBQztJQUNGLE9BQU8sRUFBRSxDQUFDO0FBQ1osQ0FBQyxDQUFDO0FBQ0YsTUFBTSxlQUFlLEdBQUcsS0FBSyxFQUFFLGtCQUFrQixFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsRUFBRTtJQUMxRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDWixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDekIsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDakMsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxTQUFTLEtBQUssMEZBQTZCLEVBQUU7WUFFbkUsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsRUFBRSxHQUFHO1FBQ0gsSUFBSSxFQUFFLDBGQUE2QjtRQUNuQyxjQUFjLEVBQUUsYUFBYTtRQUM3QixVQUFVLEVBQUUsVUFBVTtLQUN2QixDQUFDO0lBQ0YsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNzVCNkM7QUFDOEM7QUFDRjtBQUdwRixLQUFLLFVBQVUsbUJBQW1CO0lBRXJDLE1BQU0sUUFBUSxHQUFHLG1CQUFPLENBQUMsOEJBQVksQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sUUFBUSxDQUFDLFlBQVksQ0FBQztRQUM3QixXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUI7UUFDOUMsUUFBUSxFQUFFLE1BQU07S0FDZixDQUFDLENBQUM7QUFDUCxDQUFDO0FBS1UsS0FBSyxVQUFVLFdBQVcsQ0FBQyxXQUFXLEVBQUUsU0FBUztJQUV4RCxJQUFJLEtBQUssR0FBRztRQUNSLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQjtRQUMxQyxNQUFNLEVBQUUsU0FBUztLQUNoQixDQUFDO0lBRU4sSUFBSSxPQUFPLEdBQUc7UUFDVixXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUI7UUFDOUMsSUFBSSxFQUFFLEtBQUs7UUFDWCxlQUFlLEVBQUc7WUFDZCxPQUFPLEVBQUUsOEJBQThCO1NBQzFDO0tBQ0osQ0FBQztJQUVGLE1BQU0sWUFBWSxHQUFHLE1BQU0sV0FBVyxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMvRSxPQUFPLFlBQVksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0FBQ2xDLENBQUM7QUFJVSxLQUFLLFVBQVUsV0FBVyxDQUFDLFdBQVcsRUFBRSxRQUFRLEVBQUUsT0FBTztJQUNoRSxJQUFJLFNBQVMsR0FBRztRQUNaLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLElBQUksRUFBRSxRQUFRO0tBQ2pCLENBQUM7SUFFRixPQUFPLFdBQVcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ25ELENBQUM7QUFJTSxLQUFLLFVBQVUsV0FBVyxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSztJQUVwRCxNQUFNLEtBQUssR0FBRyxDQUFDLEVBQUMsVUFBVSxFQUFFLFFBQVEsRUFBQyxPQUFPLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQztJQUN0RCxPQUFPLEVBQUMsSUFBSSxFQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUM7QUFDeEMsQ0FBQztBQUlNLEtBQUssVUFBVSxtQkFBbUIsQ0FBQyxZQUFZO0lBRWxELE9BQU8sdUVBQTRCLENBQUM7UUFDaEMsS0FBSyxFQUFFLEVBQUUsWUFBWSxFQUFHLFlBQVksRUFBQztLQUN0QyxDQUFDLENBQUM7QUFDVCxDQUFDO0FBR00sS0FBSyxVQUFVLGVBQWUsQ0FBQyxjQUFjO0lBRWhELElBQUksWUFBWSxHQUFHLElBQUksQ0FBQztJQUN4QixNQUFNLGlCQUFpQixHQUFHLE1BQU0sbUJBQW1CLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDcEUsWUFBWSxHQUFHLE1BQU0sc0JBQXNCLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLHVCQUF1QixFQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3BILFlBQVksR0FBRyxNQUFNLHFCQUFxQixDQUFDLGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyx1QkFBdUIsRUFBQyxZQUFZLENBQUMsQ0FBQztJQUNuSCxZQUFZLEdBQUcsTUFBTSx5QkFBeUIsQ0FBQyxjQUFjLEVBQUUsaUJBQWlCLENBQUMsMkJBQTJCLEVBQUMsaUJBQWlCLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDdEssWUFBWSxHQUFHLE1BQU0sb0JBQW9CLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLDJCQUEyQixFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZILE9BQU8sWUFBWSxDQUFDO0FBQ3hCLENBQUM7QUFHTSxLQUFLLFVBQVUsYUFBYSxDQUFDLGFBQWEsRUFBRSxRQUFRO0lBRXZELElBQUksT0FBTyxHQUFHLElBQUksQ0FBQztJQUNuQixNQUFNLFdBQVcsR0FBRyxNQUFNLG1CQUFtQixFQUFFLENBQUM7SUFFaEQsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLFdBQVcsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO1FBQzlELFVBQVUsRUFBRSxJQUFJO0tBQ25CLENBQUMsQ0FBQztJQUVILEtBQUssTUFBTSxJQUFJLElBQUksaUJBQWlCLENBQUMsSUFBSSxFQUFFO1FBQ3ZDLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxhQUFhLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDNUQsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNmLE1BQU07U0FDVDtLQUNKO0lBQ0wsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNWLE1BQU0sU0FBUyxHQUFHLE1BQU0sV0FBVyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBQyxFQUFFLEVBQUcsYUFBYSxFQUFDLENBQUMsQ0FBQztRQUMxRSxNQUFNLFlBQVksR0FBRyxNQUFNLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sY0FBYyxHQUFHO1lBQ25CLFNBQVMsRUFBRSxZQUFZO1NBQzFCLENBQUM7UUFFRixNQUFNLGFBQWEsR0FBRztZQUNsQixJQUFJLEVBQUU7Z0JBQ0YsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCO2dCQUMvQyxLQUFLLEVBQUUsT0FBTztnQkFDZCxhQUFhLEVBQUUsYUFBYTtnQkFDNUIsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDO2dCQUNmLE9BQU8sRUFBRSxDQUFDO2dCQUNWLFFBQVEsRUFBRSxjQUFjO2FBQzNCO1NBQ0osQ0FBQztRQUNGLE1BQU0sY0FBYyxHQUFHLE1BQU0sV0FBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDL0UsT0FBTyxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUM7UUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDbEQ7SUFFRCxNQUFNLGFBQWEsR0FBRztRQUNsQixTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7UUFDckIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCO1FBQzlDLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7S0FDMUIsQ0FBQztJQUNGLE1BQU0sY0FBYyxHQUFHLE1BQU0sV0FBVyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDL0UsTUFBTSxjQUFjLEdBQUcsY0FBYyxDQUFDLE1BQU0sQ0FBQztJQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixjQUFjLENBQUMsT0FBTyxhQUFhLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0FBQzdGLENBQUM7QUFFTSxLQUFLLFVBQVUsWUFBWSxDQUFDLE9BQU8sRUFBRSxTQUFTO0lBQ2pELE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNuQyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDM0MsQ0FBQztBQUVNLEtBQUssVUFBVSxlQUFlLENBQUMsR0FBRyxFQUFFLFlBQVk7SUFDbkQsSUFBSSxTQUFTLENBQUM7SUFDZCxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1FBQ3ZCLElBQUcsSUFBSSxDQUFDLFFBQVEsS0FBSyxZQUFZLElBQUksSUFBSSxDQUFDLEtBQUssRUFBQztZQUM1QyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUMxQjtJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxTQUFTLENBQUM7QUFDckIsQ0FBQztBQUVNLEtBQUssVUFBVSxlQUFlLENBQUMsR0FBRyxFQUFDLDJCQUEyQixFQUFDLHVCQUF1QjtJQUN6RixJQUFJLFNBQVMsQ0FBQztJQUNkLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDdkIsSUFBRyxJQUFJLENBQUMsUUFBUSxLQUFLLDJCQUEyQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUM7WUFDM0QsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDMUI7UUFDRCxJQUFHLElBQUksQ0FBQyxRQUFRLEtBQUssdUJBQXVCLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssRUFBQztZQUNyRSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUMxQjtJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxTQUFTLENBQUM7QUFDckIsQ0FBQztBQUNNLEtBQUssVUFBVSxtQkFBbUIsQ0FBQyxjQUFjO0lBQ3BELElBQUksdUJBQXVCLEVBQUUsdUJBQXVCLEVBQUUsMkJBQTJCLENBQUM7SUFDbEYsY0FBYyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUV0QyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDNUUsSUFBSSxXQUFXLElBQUksV0FBVyxLQUFLLGtIQUFxRCxFQUFFO1lBQ3hGLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDckM7UUFDRCxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssa0dBQXFDLEVBQUU7WUFDeEUsdUJBQXVCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztTQUNyQztRQUNELElBQUksV0FBVyxJQUFJLFdBQVcsS0FBSyw2R0FBZ0QsRUFBRTtZQUNuRiwyQkFBMkIsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ3pDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLEVBQUMseUJBQXlCLEVBQUcsdUJBQXVCLEVBQUMseUJBQXlCLEVBQUcsdUJBQXVCLEVBQUUsNkJBQTZCLEVBQUcsMkJBQTJCLEVBQUMsQ0FBQztBQUNsTCxDQUFDO0FBQ00sS0FBSyxVQUFVLHNCQUFzQixDQUFDLGNBQWMsRUFBRSx1QkFBdUIsRUFBRSxZQUFZO0lBQzlGLElBQUksR0FBRyxFQUFDLElBQUksQ0FBQztJQUNiLEtBQUssR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUM7UUFDNUIsS0FBSyxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLDBHQUE2QyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ2xJLFlBQVksR0FBRyxNQUFNLGVBQWUsQ0FBQyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsQ0FBQzthQUN0RTtTQUNKO0tBQ0o7SUFDRCxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDO0FBQ00sS0FBSyxVQUFVLHFCQUFxQixDQUFDLGNBQWMsRUFBRSx1QkFBdUIsRUFBQyxZQUFZO0lBQzVGLElBQUksR0FBRyxFQUFDLElBQUksQ0FBQztJQUNiLEtBQUssR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUM7UUFDNUIsS0FBSyxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLGtHQUFxQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQzFILFlBQVksR0FBRyxNQUFNLGVBQWUsQ0FBQyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsQ0FBQzthQUN0RTtTQUNKO0tBQ0o7SUFDRCxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDO0FBQ00sS0FBSyxVQUFVLHlCQUF5QixDQUFDLGNBQWMsRUFBRSwyQkFBMkIsRUFBRSx1QkFBdUIsRUFBRSxZQUFZO0lBQzlILElBQUksR0FBRyxFQUFDLElBQUksQ0FBQztJQUNiLEtBQUssR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUM7UUFDNUIsS0FBSyxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLDZGQUFnQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ3JILE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxlQUFlLENBQUMsR0FBRyxFQUFFLDJCQUEyQixFQUFFLHVCQUF1QixDQUFDLENBQUM7Z0JBQzFHLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQzthQUNuQztTQUNKO0tBQ0o7SUFDRCxPQUFPLFlBQVksQ0FBQztBQUN4QixDQUFDO0FBQ00sS0FBSyxVQUFVLG9CQUFvQixDQUFDLGNBQWMsRUFBRSwyQkFBMkIsRUFBRSxZQUFZO0lBQ2hHLElBQUksR0FBRyxFQUFDLElBQUksQ0FBQztJQUNiLEtBQUssR0FBRyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUM7UUFDNUIsS0FBSyxJQUFJLElBQUksR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNwQixJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLHVHQUEwQyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQy9ILE1BQU0sYUFBYSxHQUFHLE1BQU0sZUFBZSxDQUFDLEdBQUcsRUFBQywyQkFBMkIsQ0FBQyxDQUFDO2dCQUM3RSxZQUFZLEdBQUcsYUFBYSxDQUFDO2FBQ2hDO1NBQ0o7S0FDSjtJQUNELE9BQU8sWUFBWSxDQUFDO0FBQ3hCLENBQUM7QUFDTSxLQUFLLFVBQVUsbUJBQW1CLENBQUMsU0FBUztJQUMvQyxJQUFJLGdCQUFnQixDQUFDO0lBQ3JCLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDakMsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzVFLElBQUksV0FBVyxJQUFJLFdBQVcsS0FBSywrRkFBa0MsRUFBRztZQUNwRSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDSCxPQUFPLGdCQUFnQixDQUFDO0FBQzVCLENBQUM7QUFDTSxLQUFLLFVBQVUsa0JBQWtCLENBQUMsU0FBUztJQUM5QyxJQUFJLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQztJQUNyQyxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDckIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUNqQyxNQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDNUUsSUFBSSxXQUFXLElBQUksV0FBVyxLQUFLLHFHQUF3QyxFQUFHO1lBQzFFLGNBQWMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQzNCLFNBQVMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7U0FDbEM7UUFDRCxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUssbUdBQXNDLEVBQUU7WUFDdkUsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUM3QixTQUFTLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDcEM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sU0FBUyxDQUFDO0FBQ3JCLENBQUM7QUFDTSxLQUFLLFVBQVUseUJBQXlCLENBQUMsU0FBUztJQUNyRCxJQUFJLGNBQWMsQ0FBRTtJQUNwQixTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ2pDLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUM1RSxJQUFJLFdBQVcsSUFBSSxXQUFXLEtBQUsscUdBQXdDLEVBQUc7WUFDMUUsY0FBYyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7U0FDOUI7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sY0FBYyxDQUFDO0FBQzFCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzNQK0Q7QUFDQTtBQUNDO0FBQ1Q7QUFDWTtBQUNJO0FBQ1Y7QUFDTztBQUNDO0FBQ1I7QUFDYTtBQUVwRSxNQUFNLGtCQUFrQixHQUFHO0lBQ2hDLEtBQUssRUFBRTtRQUNMLG1CQUFtQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNuRSxrRkFBbUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUM5QztJQUNELFFBQVEsRUFBRTtRQUNSLGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNoRSw2RUFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUMxQyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEUsaUZBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDNUMsb0JBQW9CLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3BFLHFGQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzlDLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDL0QsMkVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6QyxtQkFBbUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbkUsOEVBQW1CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDN0MsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUM1RCxxRUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3RDLG1CQUFtQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNuRSxtRkFBbUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM3QyxlQUFlLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQy9ELDJFQUFlLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDekMsc0JBQXNCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3RFLDBGQUFzQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQ2pEO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtJQUMxQixJQUFJLEVBQUUsd0RBQVc7Q0FDbEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDdkNLLE1BQU0saUJBQWlCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FrRmhDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsRmlEO0FBQ0c7QUFDSTtBQUNOO0FBQ2M7QUFDTTtBQUNKO0FBQ1A7QUFDVztBQUNNO0FBQ1I7QUFDSDtBQUNqQjtBQUNnQztBQUNGO0FBQ047QUFDVTtBQUM1QjtBQUVqRCxNQUFNLGdCQUFnQixHQUFHO0lBQzlCLEtBQUssRUFBRTtRQUNMLFdBQVcsRUFBRSxLQUFLLElBQUksRUFBRSxDQUFDLG1FQUFXLEVBQUU7UUFDdEMsY0FBYyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUM5RCx1RUFBYyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3hDLHFCQUFxQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNyRSxxRkFBcUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUMvQyxtQkFBbUIsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbkUsaUZBQW1CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDN0Msb0JBQW9CLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3BFLG9GQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzlDLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDeEQsaUZBQW1CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDN0MsVUFBVSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUMxRCxnRUFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3BDLGFBQWEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDN0Qsc0VBQWEsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN4QztJQUNELFFBQVEsRUFBRTtRQUNSLFVBQVUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDMUQsaUVBQVUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNwQyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDaEUsMEVBQWdCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDMUMsaUJBQWlCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2pFLCtFQUFpQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzNDLHVCQUF1QixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUN2RSwyRkFBdUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNqRCxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDcEUscUZBQW9CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDOUMseUJBQXlCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3pFLGdHQUF5QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ25ELHdCQUF3QixFQUFFLEtBQUssRUFDN0IsTUFBTSxFQUNOLEtBQW9CLEVBQ3BCLE9BQU8sRUFDUCxFQUFFLENBQUMsOEZBQXdCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDckQscUJBQXFCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3JFLHdGQUFxQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQy9DLDBCQUEwQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUMxRSxrR0FBMEIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNyRDtJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDN0RLLE1BQU0sZUFBZSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F1YTlCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdmE2RTtBQUNoQztBQUV4QyxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxFQUFFOztJQUN6RSxNQUFNLGtCQUFrQixHQUFHLG9CQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsVUFBVSwwQ0FBRSxVQUFVLDBDQUFFLGVBQWUsQ0FBQztJQUM3RSxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxnQkFBZ0IsTUFBSyxjQUFjLEVBQUU7WUFDaEUsR0FBRyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQ3hCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQztZQUM3QixHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7WUFDcEMsTUFBTSxHQUFHLEdBQUcsd0ZBQWlCLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDMUQsR0FBRyxDQUFDLGNBQWMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO1lBQ2hDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQztZQUNoQyxHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7WUFDNUIsR0FBRyxDQUFDLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQzVCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztTQUM3QjtJQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0gsUUFBUSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsZUFBZSxHQUFHLGtCQUFrQixDQUFDO0lBQ3BFLE1BQU0sb0VBQXlCLENBQUM7UUFDOUIsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxFQUFFLEVBQUU7UUFDMUIsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxVQUFVLEVBQUU7S0FDMUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCZ0Q7QUFDNEI7QUFDbEM7QUFDcUM7QUFFMUUsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDNUQsSUFBSTtRQUNGLE1BQU0sUUFBUSxHQUFRLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDcEMsTUFBTSxTQUFTLEdBQUcsTUFBTSw2RUFBa0MsQ0FBQztZQUN6RCxLQUFLLEVBQUU7Z0JBQ0wsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTO2FBQ25CO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHNCQUFzQjthQUNoQyxDQUFDO1NBQ0g7UUFFRCxNQUFNLFlBQVksR0FBRyxFQUFFLENBQUM7UUFDeEIsTUFBTSxXQUFXLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNyRCxLQUFLLEVBQUU7Z0JBQ0wsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTO2FBQ3hCO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxtQkFBbUI7YUFDN0IsQ0FBQztTQUNIO1FBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQztZQUM1QyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE1BQU0sRUFBRTtTQUNuQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLDJCQUEyQixDQUFDLENBQUM7U0FDdkQ7UUFDRCxNQUFNLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFDMUIsTUFBTSxZQUFZLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUN0RCxLQUFLLEVBQUU7Z0JBQ0wsVUFBVSxFQUFFLFdBQVcsQ0FBQyxVQUFVO2FBQ25DO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNqQixPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxvQkFBb0I7YUFDOUIsQ0FBQztTQUNIO1FBRUQsTUFBTSxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQzNCLE1BQU0sU0FBUyxHQUFJLFNBQVMsQ0FBQyxRQUE2QixJQUFJLEVBQUUsQ0FBQztRQUNqRSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzFCLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLG9CQUFvQjthQUM5QixDQUFDO1NBQ0g7UUFDRCxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDcEIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFO1lBQ2pDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ2pDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFZLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxPQUFPLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtvQkFDakMsZUFBZSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDL0I7WUFDSCxDQUFDLENBQUMsQ0FBQztTQUNKO2FBQU07WUFDTCxPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxvQkFBb0I7YUFDOUIsQ0FBQztTQUNIO1FBQ0QsSUFBSSxVQUFVLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxFQUFFLEVBQ3BCLFFBQVEsR0FBSSxTQUFTLENBQUMsU0FBOEIsSUFBSSxFQUFFLENBQUM7UUFDN0QsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN6QixLQUFLLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzdDLElBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsS0FBSyxRQUFRLENBQUMsV0FBVyxFQUFFLEVBQ3BFO29CQUNBLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQy9CO3FCQUFNO29CQUNMLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUM1QzthQUNGO1lBQ0QsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLFdBQVcsQ0FBQztTQUN6QzthQUFNO1lBQ0wsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUNoQztRQUNELFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxlQUFlLENBQUM7UUFDM0MsTUFBTSxlQUFlLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztZQUM1RCxLQUFLLEVBQUU7Z0JBQ0wsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTO2FBQ25CO1lBQ0QsSUFBSSxFQUFFLFlBQVk7U0FDbkIsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxrQkFBa0IsR0FBRyxFQUFFLENBQUM7UUFDOUIsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUNoQixPQUFPLEdBQUcsQ0FBQyxFQUNYLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDbkIsTUFBTSxTQUFTLEdBQUksZUFBZSxDQUFDLFFBQTZCLElBQUksRUFBRSxDQUFDO1FBQ3ZFLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDMUIsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUN4QixXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBWSxFQUFFLEVBQUU7Z0JBQ25DLElBQUksQ0FBQyxzRkFBcUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUU7b0JBQzFELFVBQVUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7aUJBQ2xDO3FCQUFNO29CQUNMLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7aUJBQy9CO1lBQ0gsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUNELGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxHQUFHLFVBQVUsQ0FBQztRQUNoRCxrQkFBa0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxPQUFPLENBQUM7UUFDNUMsSUFBSSxVQUFVLEtBQUssQ0FBQyxFQUFFO1lBQ3BCLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLEdBQUcsY0FBYyxDQUNwRCxpQkFBaUIsQ0FDbEIsR0FBRyxDQUFDLENBQUM7U0FDUDthQUFNLElBQUksT0FBTyxLQUFLLENBQUMsRUFBRTtZQUN4QixrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQyxHQUFHLGNBQWMsQ0FDeEQscUJBQXFCLENBQ3RCLEdBQUcsQ0FBQyxDQUFDO1NBQ1A7UUFDRCxNQUFNLFdBQVcsR0FBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxZQUFZLEdBQUcsQ0FBQyxFQUNsQixTQUFTLEdBQUcsQ0FBQyxFQUNiLFNBQVMsR0FBRyxDQUFDLEVBQ2IsWUFBWSxHQUFHLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUMsc0ZBQXFCLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksVUFBVSxFQUFFO1lBQ2hFLE1BQU0sZ0JBQWdCLEdBQUcsZUFBZSxDQUFDLHVCQUF1QixJQUFJLENBQUMsQ0FBQztZQUN0RSxNQUFNLGNBQWMsR0FDbEIsQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2RCxJQUFJLGFBQWEsR0FBRyxVQUFVLEdBQUcsY0FBYyxHQUFHLGdCQUFnQixDQUFDO1lBQ25FLElBQUksSUFBSSxFQUFFO2dCQUNSLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxXQUFXLENBQUMsWUFBWSxFQUFFO29CQUNqRCxZQUFZLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDeEQsY0FBYyxDQUFDLGNBQWMsQ0FBQyxHQUFHLFlBQVksQ0FBQztvQkFDOUMsYUFBYSxJQUFJLFlBQVksQ0FBQztpQkFDL0I7YUFDRjtZQUNELE1BQU0sR0FBRyxHQUFHLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2QyxNQUFNLFVBQVUsR0FBRyxhQUFhLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDeEMsWUFBWSxHQUFHLFVBQVUsQ0FBQztZQUMxQixjQUFjLENBQUMscUJBQXFCLENBQUM7Z0JBQ25DLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDakMsV0FBVyxDQUFDLFlBQVk7b0JBQ3hCLFdBQVcsQ0FBQyxpQkFBaUI7d0JBQzNCLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLFdBQVcsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUQsV0FBVyxDQUFDLGtCQUFrQixHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hFLFdBQVcsQ0FBQyx1QkFBdUI7Z0JBQ2pDLFVBQVUsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdDLFdBQVcsQ0FBQyxvQkFBb0IsR0FBRyxlQUFlLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQztTQUN6RTtRQUNELElBQUksc0ZBQXFCLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksT0FBTyxFQUFFO1lBQzVELE1BQU0sZ0JBQWdCLEdBQUcsZUFBZSxDQUFDLDJCQUEyQixJQUFJLENBQUMsQ0FBQztZQUMxRSxNQUFNLGNBQWMsR0FDbEIsQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3hELElBQUksYUFBYSxHQUFHLE9BQU8sR0FBRyxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7WUFDaEUsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLFdBQVcsQ0FBQyxZQUFZLEVBQUU7b0JBQ2pELFNBQVMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUNwRCxjQUFjLENBQUMsV0FBVyxDQUFDLEdBQUcsU0FBUyxDQUFDO29CQUN4QyxhQUFhLElBQUksU0FBUyxDQUFDO2lCQUM1QjthQUNGO1lBQ0QsTUFBTSxHQUFHLEdBQUcsQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3ZDLE1BQU0sVUFBVSxHQUFHLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUN4QyxTQUFTLEdBQUcsVUFBVSxDQUFDO1lBQ3ZCLGNBQWMsQ0FBQywwQkFBMEIsQ0FBQztnQkFDeEMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsY0FBYyxDQUFDLHVCQUF1QixDQUFDO2dCQUNyQyxXQUFXLENBQUMsZ0JBQWdCO29CQUM1QixXQUFXLENBQUMscUJBQXFCO3dCQUMvQixVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4QyxXQUFXLENBQUMsbUJBQW1CLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEUsV0FBVyxDQUFDLHNCQUFzQjtnQkFDaEMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsV0FBVyxDQUFDLDJCQUEyQjtnQkFDckMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0MsV0FBVyxDQUFDLHdCQUF3QjtnQkFDbEMsZUFBZSxDQUFDLG1CQUFtQixJQUFJLENBQUMsQ0FBQztTQUM1QztRQUNELGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLFlBQVksR0FBRyxTQUFTLENBQUM7UUFDL0QsY0FBYyxDQUFDLHNCQUFzQixDQUFDO1lBQ3BDLFdBQVcsQ0FBQyx3QkFBd0I7Z0JBQ3BDLFdBQVcsQ0FBQyw4QkFBOEIsQ0FBQztRQUM3QyxjQUFjLENBQUMsb0JBQW9CLENBQUM7WUFDbEMsWUFBWTtnQkFDWixTQUFTO2dCQUNULFdBQVcsQ0FBQyx3QkFBd0I7Z0JBQ3BDLFdBQVcsQ0FBQyw4QkFBOEIsQ0FBQztRQUM3QyxNQUFNLGtCQUFrQixHQUFHLE1BQU0sb0VBQXlCLENBQUM7WUFDekQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUU7WUFDN0IsSUFBSSxFQUFFLGNBQWM7U0FDckIsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLGlCQUFpQixHQUFHLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDO1FBQ3JFLFdBQVcsQ0FBQyxvQkFBb0IsR0FBRyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQztRQUMzRSxXQUFXLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCLENBQUMsa0JBQWtCLENBQUM7UUFFdkUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLDBFQUErQixDQUFDO1lBQzdELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQzdCLElBQUksRUFBRSxrQkFBa0I7U0FDekIsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxPQUFPLEdBQUksZ0JBQWdCLENBQUMsU0FBOEIsSUFBSSxFQUFFLENBQUM7UUFFdkUsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxVQUFVLEVBQUU7WUFDdEMsTUFBTSxhQUFhLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztnQkFDMUQsS0FBSyxFQUFFO29CQUNMLFFBQVEsRUFBRSxVQUFVO2lCQUNyQjthQUNGLENBQUMsQ0FBQztZQUNILG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ3BDO1FBQ0QsSUFBSSxzRkFBcUIsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUVqRCxNQUFNLHlCQUF5QixDQUM3QixJQUFJLENBQUMsU0FBUyxFQUNkLGdCQUFnQixFQUNoQixXQUFXLENBQUMsRUFBRSxFQUNkLGdCQUFnQixFQUNoQixlQUFlLENBQ2hCLENBQUM7U0FDSDthQUFNO1lBRUwsTUFBTSx5QkFBeUIsQ0FDN0IsSUFBSSxDQUFDLFNBQVMsRUFDZCxZQUFZLEVBQ1osV0FBVyxDQUFDLEVBQUUsRUFDZCxZQUFZLEVBQ1osWUFBWSxDQUNiLENBQUM7U0FDSDtRQUNELE9BQU87WUFDTCxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRztZQUNsQyxPQUFPLEVBQUUsZ0JBQWdCO2dCQUN2QixDQUFDLENBQUMsMkJBQTJCO2dCQUM3QixDQUFDLENBQUMscUJBQXFCO1lBQ3pCLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFO1NBQzFDLENBQUM7UUFFRixLQUFLLFVBQVUseUJBQXlCLENBQ3RDLE9BQU8sRUFDUCxRQUFRLEVBQ1IsVUFBVyxFQUNYLElBQUssRUFDTCxLQUFNO1lBR04sTUFBTSwwRUFBK0IsQ0FBQztnQkFDcEMsS0FBSyxFQUFFO29CQUNMLEVBQUUsRUFBRSxPQUFPO2lCQUNaO2dCQUNELElBQUksRUFBRTtvQkFDSixDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUk7aUJBQ2pCO2FBQ0YsQ0FBQyxDQUFDO1FBS0wsQ0FBQztLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLGFBQWEsRUFBRSxFQUFFO0lBQ2xELElBQUksYUFBYSxFQUFFO1FBQ2pCLE1BQU0saUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQztRQUNoRCxNQUFNLFlBQVksR0FBRyxNQUFNLG9GQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN6RCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ2pELElBQUksWUFBWSxFQUFFO1lBQ2hCLE1BQU0sMEVBQTRCLENBQUM7Z0JBQ2pDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxhQUFhLENBQUMsRUFBRSxFQUFFO2FBQ2hDLENBQUMsQ0FBQztTQUNKO0tBQ0Y7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6UmdEO0FBQ3ZCO0FBQ2lCO0FBT2lCO0FBRWlCO0FBRXZFLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDaEUsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHO1lBQ1gsR0FBRyxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ2xCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVU7U0FDeEIsQ0FBQztRQUNGLElBQUksZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUN6QixNQUFNLGFBQWEsR0FBRyxNQUFNLHdGQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakQsTUFBTSxHQUFHLEdBQVEsTUFBTSxtRkFBUyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RCxNQUFNLE1BQU0sR0FBRyxNQUFNLHNEQUFjLENBQUMsR0FBRyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN2RSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25DLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7UUFDakUsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNmLE1BQU0sbUJBQW1CLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDekMsT0FBTztnQkFDTCxJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUsMERBQTBEO2FBQ3BFLENBQUM7U0FDSDtRQUNELE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUM7UUFFdEQsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQztRQUVwRSxNQUFNLFFBQVEsR0FBRyxzRkFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRTNDLE1BQU0sV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDckQsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUzthQUNuQjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsTUFBTSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN6QyxPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSx3QkFBd0I7YUFDbEMsQ0FBQztTQUNIO1FBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxxRUFBMEIsQ0FBQztZQUM1QyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE1BQU0sRUFBRTtTQUNuQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLDJCQUEyQixDQUFDLENBQUM7U0FDdkQ7UUFDRCxNQUFNLFlBQVksR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3RELEtBQUssRUFBRTtnQkFDTCxVQUFVLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFVBQVU7YUFDcEM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ2pCLE1BQU0sbUJBQW1CLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDekMsT0FBTztnQkFDTCxJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUseUJBQXlCO2FBQ25DLENBQUM7U0FDSDtRQUNELE1BQU0sU0FBUyxHQUFHLGFBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxTQUFTLEVBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUN4RSxNQUFNLFFBQVEsR0FBRyxhQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDckUsTUFBTSxZQUFZLEdBQUcsR0FBRyxTQUFTLElBQUksUUFBUSxFQUFFLENBQUM7UUFDaEQsSUFBSSxZQUFZLElBQUksVUFBVSxLQUFLLFlBQVksQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUN0RCxNQUFNLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3pDLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLDhEQUE4RDthQUN4RSxDQUFDO1NBQ0g7UUFDRCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sNkVBQWtDLENBQUM7WUFDaEUsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxXQUFXLENBQUMsT0FBTzthQUN4QjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUNyQixNQUFNLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3pDLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHNCQUFzQjthQUNoQyxDQUFDO1NBQ0g7UUFDRCxNQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztRQUUvQixNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsTUFBTSxRQUFRLEdBQUksZ0JBQWdCLENBQUMsUUFBNkIsSUFBSSxFQUFFLENBQUM7UUFDdkUsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN6QixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBWSxFQUFFLEVBQUU7Z0JBQ2hDLElBQ0UsUUFBUSxDQUFDLFdBQVcsRUFBRSxLQUFLLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFO29CQUN6RCxDQUFDLHNGQUFxQixDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQzt3QkFDNUMsc0ZBQXFCLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQ3hEO29CQUNBLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gseUVBQXlFLENBQzFFLENBQUM7aUJBQ0g7WUFDSCxDQUFDLENBQUMsQ0FBQztTQUNKO1FBRUQsZUFBZSxHQUFHLHFHQUEyQixDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUMsQ0FBQztRQUN4RSxJQUFJLFdBQVcsR0FBRyxFQUFFLEVBQ2xCLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN6QixXQUFXLEdBQUcsUUFBUSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDaEMsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN0QztRQUNELE1BQU0sT0FBTyxHQUFHO1lBQ2QsQ0FBQyxRQUFRLENBQUMsRUFBRSxhQUFhLENBQUMsUUFBUTtTQUNuQyxDQUFDO1FBQ0YsUUFBUSxHQUFHLGdCQUFnQixDQUFDLFNBQVM7WUFDbkMsQ0FBQyxDQUFFLGdCQUFnQixDQUFDLFNBQThCO1lBQ2xELENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDUCxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZCLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUM1QyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsR0FBRyxXQUFXLENBQUM7UUFDOUMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUNoQixPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzlCLElBQUksQ0FBQyxzRkFBcUIsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUU7Z0JBQzFELFVBQVUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7YUFDbEM7aUJBQU07Z0JBQ0wsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQzthQUMvQjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxzRkFBcUIsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUNqRCxPQUFPLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsbUJBQW1CLENBQUMsY0FBYyxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQ2pELG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUM3QyxNQUFNLGVBQWUsR0FBRyxNQUFNLDBFQUErQixDQUFDO1lBQzVELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7WUFDbEMsSUFBSSxFQUFFLG1CQUFtQjtTQUMxQixDQUFDLENBQUM7UUFDSCxNQUFNLFdBQVcsR0FBUSxFQUFFLENBQUM7UUFDNUIsTUFBTSxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksWUFBWSxHQUFHLENBQUMsRUFDbEIsU0FBUyxHQUFHLENBQUMsRUFDYixTQUFTLEdBQUcsQ0FBQyxFQUNiLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDbkIsSUFBSSxDQUFDLHNGQUFxQixDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLFVBQVUsRUFBRTtZQUNoRSxNQUFNLGdCQUFnQixHQUFHLGVBQWUsQ0FBQyx1QkFBdUIsSUFBSSxDQUFDLENBQUM7WUFDdEUsTUFBTSxjQUFjLEdBQ2xCLENBQUMsVUFBVSxHQUFHLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RCxJQUFJLGFBQWEsR0FBRyxVQUFVLEdBQUcsY0FBYyxHQUFHLGdCQUFnQixDQUFDO1lBQ25FLElBQUksSUFBSSxFQUFFO2dCQUNSLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxXQUFXLENBQUMsWUFBWSxFQUFFO29CQUNqRCxZQUFZLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFDeEQsY0FBYyxDQUFDLGNBQWMsQ0FBQyxHQUFHLFlBQVksQ0FBQztvQkFDOUMsYUFBYSxJQUFJLFlBQVksQ0FBQztpQkFDL0I7YUFDRjtZQUNELE1BQU0sR0FBRyxHQUFHLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2QyxNQUFNLFVBQVUsR0FBRyxhQUFhLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDeEMsWUFBWSxHQUFHLFVBQVUsQ0FBQztZQUMxQixjQUFjLENBQUMscUJBQXFCLENBQUM7Z0JBQ25DLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxlQUFlLElBQUksQ0FBQyxDQUFDO1lBQ3pFLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDakMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsV0FBVyxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUMsaUJBQWlCO2dCQUN0RCxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QyxjQUFjLENBQUMseUJBQXlCLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztZQUM3RCxXQUFXLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlELFdBQVcsQ0FBQyxrQkFBa0IsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN4RSxXQUFXLENBQUMsdUJBQXVCO2dCQUNqQyxVQUFVLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM3QyxXQUFXLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyxRQUFRLENBQUM7WUFDaEQsV0FBVyxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDO1lBQzVDLFdBQVcsQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDO1lBQ3RDLFdBQVcsQ0FBQyxvQkFBb0IsR0FBRyxlQUFlLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQztZQUN4RSxXQUFXLENBQUMsb0JBQW9CLEdBQUcsZ0JBQWdCLENBQUM7U0FDckQ7UUFDRCxJQUFJLHNGQUFxQixDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLE9BQU8sRUFBRTtZQUM1RCxNQUFNLGdCQUFnQixHQUFHLGVBQWUsQ0FBQywyQkFBMkIsSUFBSSxDQUFDLENBQUM7WUFDMUUsTUFBTSxjQUFjLEdBQ2xCLENBQUMsT0FBTyxHQUFHLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3pELElBQUksYUFBYSxHQUFHLE9BQU8sR0FBRyxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7WUFDaEUsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLFdBQVcsQ0FBQyxZQUFZLEVBQUU7b0JBQ2pELFNBQVMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUNwRCxjQUFjLENBQUMsV0FBVyxDQUFDLEdBQUcsU0FBUyxDQUFDO29CQUN4QyxhQUFhLElBQUksU0FBUyxDQUFDO2lCQUM1QjthQUNGO1lBQ0QsTUFBTSxHQUFHLEdBQUcsQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3ZDLE1BQU0sVUFBVSxHQUFHLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUN4QyxTQUFTLEdBQUcsVUFBVSxDQUFDO1lBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDeEIsY0FBYyxDQUFDLDBCQUEwQixDQUFDO2dCQUN4QyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QyxjQUFjLENBQUMscUJBQXFCLENBQUM7Z0JBQ25DLGVBQWUsQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLENBQUM7WUFDM0MsY0FBYyxDQUFDLHVCQUF1QixDQUFDO2dCQUNyQyxVQUFVLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxXQUFXLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLHFCQUFxQjtnQkFDOUQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEMsY0FBYyxDQUFDLDZCQUE2QixDQUFDLEdBQUcsZ0JBQWdCLENBQUM7WUFDakUsV0FBVyxDQUFDLG1CQUFtQixHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xFLFdBQVcsQ0FBQyxzQkFBc0I7Z0JBQ2hDLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pDLFdBQVcsQ0FBQywyQkFBMkI7Z0JBQ3JDLFVBQVUsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdDLFdBQVcsQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBQztZQUNoRCxXQUFXLENBQUMsT0FBTyxHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUM7WUFDNUMsV0FBVyxDQUFDLFlBQVksR0FBRyxVQUFVLENBQUM7WUFDdEMsV0FBVyxDQUFDLHdCQUF3QjtnQkFDbEMsZUFBZSxDQUFDLG1CQUFtQixJQUFJLENBQUMsQ0FBQztZQUMzQyxXQUFXLENBQUMsd0JBQXdCLEdBQUcsZ0JBQWdCLENBQUM7U0FDekQ7UUFDRCxjQUFjLENBQUMsbUJBQW1CLENBQUMsR0FBRyxZQUFZLEdBQUcsU0FBUyxDQUFDO1FBQy9ELGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQztZQUNwQyxXQUFXLENBQUMsd0JBQXdCO2dCQUNwQyxXQUFXLENBQUMsOEJBQThCLENBQUM7UUFDN0MsY0FBYyxDQUFDLG9CQUFvQixDQUFDO1lBQ2xDLFlBQVk7Z0JBQ1osU0FBUztnQkFDVCxXQUFXLENBQUMsd0JBQXdCO2dCQUNwQyxXQUFXLENBQUMsOEJBQThCLENBQUM7UUFDN0MsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLG9FQUF5QixDQUFDO1lBQ3pELEtBQUssRUFBRTtnQkFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLFNBQVM7YUFDbkI7WUFDRCxJQUFJLEVBQUUsY0FBYztTQUNyQixDQUFDLENBQUM7UUFDSCxXQUFXLENBQUMsaUJBQWlCLEdBQUcsa0JBQWtCLENBQUMsaUJBQWlCLENBQUM7UUFDckUsV0FBVyxDQUFDLG9CQUFvQixHQUFHLGtCQUFrQixDQUFDLG9CQUFvQixDQUFDO1FBQzNFLFdBQVcsQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQyxrQkFBa0IsQ0FBQztRQUV2RSxPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsU0FBUztZQUNsQixJQUFJLEVBQUUsV0FBVztTQUNsQixDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQUlGLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUFFLGFBQWEsRUFBRSxFQUFFO0lBQ2xELElBQUksYUFBYSxFQUFFO1FBQ2pCLE1BQU0saUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQztRQUNoRCxNQUFNLFlBQVksR0FBRyxNQUFNLG9GQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN6RCxJQUFJLFlBQVksRUFBRTtZQUNoQixNQUFNLDBFQUE0QixDQUFDO2dCQUNqQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRTthQUNoQyxDQUFDLENBQUM7U0FDSjtLQUNGO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFFnRDtBQUN2QjtBQUNpQjtBQUNrQztBQUNFO0FBRTVDO0FBQ21CO0FBRWhELE1BQU0seUJBQXlCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDdkUsSUFBSTtRQUVGLE1BQU0sV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDckQsS0FBSyxFQUFFO2dCQUNMLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUzthQUNuQjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsT0FBTztnQkFDTCxJQUFJLEVBQUUsR0FBRztnQkFDVCxPQUFPLEVBQUUsd0JBQXdCO2FBQ2xDLENBQUM7U0FDSDtRQUNELE1BQU0sY0FBYyxHQUFHLEVBQUUsQ0FBQztRQUMxQixNQUFNLElBQUksR0FBRyxNQUFNLDZFQUFrQyxDQUFDO1lBQ3BELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLENBQUMsT0FBTyxFQUFFO1NBQ25DLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxzQkFBc0I7YUFDaEMsQ0FBQztTQUNIO1FBQ0QsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ25CLE1BQU0sT0FBTyxHQUFJLElBQUksQ0FBQyxTQUE4QixJQUFJLEVBQUUsQ0FBQztRQUMzRCxJQUFJLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLG1DQUFtQzthQUM3QyxDQUFDO1NBQ0g7UUFDRCxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNsQixPQUFPO2dCQUNMLElBQUksRUFBRSxHQUFHO2dCQUNULE9BQU8sRUFBRSxtQ0FBbUM7YUFDN0MsQ0FBQztTQUNIO1FBQ0QsTUFBTSxhQUFhLEdBQUcsTUFBTSwwRUFBK0IsQ0FBQztZQUMxRCxLQUFLLEVBQUU7Z0JBQ0wsUUFBUSxFQUFFLGFBQWE7YUFDeEI7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHNCQUFzQjthQUNoQyxDQUFDO1NBQ0g7UUFDRCxNQUFNLFlBQVksR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ3RELEtBQUssRUFBRTtnQkFDTCxVQUFVLEVBQUUsV0FBVyxDQUFDLFVBQVU7YUFDbkM7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ2pCLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHlCQUF5QjthQUNuQyxDQUFDO1NBQ0g7UUFDRCxNQUFNLEdBQUcsR0FBUSxNQUFNLG1GQUFTLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hELE1BQU0sTUFBTSxHQUFHLE1BQU0sc0RBQWMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFbkMsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLFFBQVEsSUFBSSxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQy9ELE1BQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLO1lBQ2hFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSztZQUMvQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pFLE1BQU0sT0FBTyxHQUFHLEdBQUcsUUFBUSxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQzlDLElBQUksUUFBUSxFQUNWLFNBQVMsRUFDVCxZQUFZLEdBQUcsQ0FBQyxFQUNoQixTQUFTLEdBQUcsQ0FBQyxFQUNiLFNBQVMsR0FBRyxDQUFDLEVBQ2IsWUFBWSxHQUFHLENBQUMsQ0FBQztRQU1uQixNQUFNLElBQUksR0FBRyxNQUFNLHFFQUEwQixDQUFDO1lBQzVDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsTUFBTSxFQUFFO1NBQ25DLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMkJBQTJCLENBQUMsQ0FBQztTQUN2RDtRQUVELElBQ0UsSUFBSSxDQUFDLFdBQVc7WUFDaEIsSUFBSSxDQUFDLFdBQVcsS0FBSyxDQUFDO1lBQ3RCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsS0FBSyxDQUFDLENBQUMsRUFDNUQ7WUFDQSxNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQywyQkFBMkIsSUFBSSxDQUFDLENBQUM7WUFDL0QsT0FBTyxDQUFDLHFCQUFxQixDQUFDLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1lBQzFELE1BQU0sY0FBYyxHQUNsQixDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsR0FBRyxDQUFDO1lBQ3RELElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsY0FBYyxHQUFHLGdCQUFnQixDQUFDO1lBQ3pFLElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxXQUFXLENBQUMsWUFBWSxFQUFFO2dCQUNqRCxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztnQkFDekMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztnQkFDeEMsYUFBYSxJQUFJLFNBQVMsQ0FBQzthQUM1QjtZQUNELE1BQU0sR0FBRyxHQUFHLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN2QyxNQUFNLFVBQVUsR0FBRyxhQUFhLEdBQUcsQ0FBQyxHQUFHLENBQUM7WUFDeEMsU0FBUyxHQUFHLFVBQVUsQ0FBQztZQUN2QixjQUFjLENBQUMscUJBQXFCLENBQUMsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUM7WUFDakUsY0FBYyxDQUFDLDBCQUEwQixDQUFDO2dCQUN4QyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QyxjQUFjLENBQUMsNkJBQTZCLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztZQUNqRSxNQUFNLFNBQVMsR0FBRyxFQUFFLEVBQ2xCLFNBQVMsR0FBRyxHQUFHLE9BQU8sa0JBQWtCLEVBQ3hDLFFBQVEsR0FBSSxJQUFJLENBQUMsUUFBNkIsSUFBSSxFQUFFLENBQUM7WUFDdkQsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFO2dCQUNoQyxJQUFJLHNGQUFxQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtvQkFDekQsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDekI7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0saUJBQWlCLEdBQUc7Z0JBQ3hCLE9BQU8sRUFBRSxTQUFTO2dCQUNsQixTQUFTLEVBQUUsV0FBVyxDQUFDLEVBQUU7Z0JBQ3pCLFVBQVUsRUFBRSxPQUFPO2dCQUNuQixVQUFVLEVBQUUsU0FBUztnQkFDckIsUUFBUSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsSUFBSSxDQUFDO2dCQUN2QyxnQkFBZ0IsRUFBRSxnQkFBZ0IsSUFBSSxDQUFDO2dCQUN2QyxhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7Z0JBQ2pDLGVBQWUsRUFBRSxXQUFXLENBQUMsWUFBWTtnQkFDekMsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZO2dCQUM1QixtQkFBbUIsRUFBRSxXQUFXLENBQUMsV0FBVzthQUM3QyxDQUFDO1lBQ0YsUUFBUSxHQUFHLE1BQU0sUUFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDN0MsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEdBQUcsY0FBYyxDQUFDLG9CQUFvQixDQUFDO2dCQUN0RSxRQUFRLENBQUMsVUFBVSxDQUFDO1lBQ3RCLE1BQU0sZ0JBQWdCLEdBQUc7Z0JBQ3ZCLE9BQU8sRUFBRSxTQUFTO2dCQUNsQixRQUFRLEVBQUUsUUFBUSxDQUFDLFVBQVU7Z0JBQzdCLFdBQVcsRUFBRSxpQkFBaUI7YUFDL0IsQ0FBQztZQUNGLG1FQUFpQixDQUNmLFdBQVcsRUFDWCx5QkFBeUIsRUFDekIsZ0JBQWdCLENBQ2pCLENBQUM7U0FDSDtRQUdELElBQ0UsSUFBSSxDQUFDLFlBQVk7WUFDakIsSUFBSSxDQUFDLFlBQVksS0FBSyxDQUFDO1lBQ3ZCLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLENBQUMsQ0FBQyxFQUNwRDtZQUNBLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixJQUFJLENBQUMsQ0FBQztZQUMzRCxPQUFPLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQztZQUN2RCxNQUFNLGNBQWMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN4RSxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBQztZQUMxRSxJQUFJLElBQUksQ0FBQyxZQUFZLElBQUksV0FBVyxDQUFDLFlBQVksRUFBRTtnQkFDakQsWUFBWSxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7Z0JBQzdDLGNBQWMsQ0FBQyxjQUFjLENBQUMsR0FBRyxZQUFZLENBQUM7Z0JBQzlDLGFBQWEsSUFBSSxZQUFZLENBQUM7YUFDL0I7WUFDRCxNQUFNLEdBQUcsR0FBRyxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDdkMsTUFBTSxVQUFVLEdBQUcsYUFBYSxHQUFHLENBQUMsR0FBRyxDQUFDO1lBQ3hDLFlBQVksR0FBRyxVQUFVLENBQUM7WUFDMUIsY0FBYyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsSUFBSSxDQUFDLGVBQWUsSUFBSSxDQUFDLENBQUM7WUFDOUQsY0FBYyxDQUFDLHFCQUFxQixDQUFDO2dCQUNuQyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN6QyxjQUFjLENBQUMseUJBQXlCLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztZQUM3RCxNQUFNLFNBQVMsR0FBRyxFQUFFLEVBQ2xCLFNBQVMsR0FBSSxJQUFJLENBQUMsUUFBNkIsSUFBSSxFQUFFLEVBQ3JELFlBQVksR0FBRyxHQUFHLE9BQU8scUJBQXFCLENBQUM7WUFDakQsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQVksRUFBRSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsc0ZBQXFCLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFO29CQUMxRCxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN6QjtZQUNILENBQUMsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxhQUFhLEdBQUc7Z0JBQ3BCLE9BQU8sRUFBRSxZQUFZO2dCQUNyQixVQUFVLEVBQUUsT0FBTztnQkFDbkIsU0FBUyxFQUFFLFdBQVcsQ0FBQyxFQUFFO2dCQUN6QixVQUFVLEVBQUUsU0FBUztnQkFDckIsUUFBUSxFQUFFLElBQUksQ0FBQyxlQUFlLElBQUksQ0FBQztnQkFDbkMsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLGdCQUFnQixFQUFFLGdCQUFnQixJQUFJLENBQUM7Z0JBQ3ZDLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDakMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxZQUFZO2dCQUN6QyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVk7Z0JBQzVCLG1CQUFtQixFQUFFLFdBQVcsQ0FBQyxXQUFXO2FBQzdDLENBQUM7WUFDRixTQUFTLEdBQUcsTUFBTSxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDMUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLEdBQUcsY0FBYyxDQUFDLFdBQVcsQ0FBQztnQkFDekQsU0FBUyxDQUFDLFVBQVUsQ0FBQztZQUN2QixNQUFNLGdCQUFnQixHQUFHO2dCQUN2QixPQUFPLEVBQUUsWUFBWTtnQkFDckIsUUFBUSxFQUFFLFNBQVMsQ0FBQyxVQUFVO2dCQUM5QixXQUFXLEVBQUUsaUJBQWlCO2FBQy9CLENBQUM7WUFDRixtRUFBaUIsQ0FBQyxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUN2RTtRQUNELGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLFlBQVksR0FBRyxTQUFTLENBQUM7UUFDL0QsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLG9FQUF5QixDQUFDO1lBQ3ZELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQzdCLElBQUksRUFBRSxjQUFjO1NBQ3JCLENBQUMsQ0FBQztRQUVILE1BQU0sYUFBYSxHQUFHLE1BQU0sMEVBQStCLENBQUM7WUFDMUQsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsQ0FBQyxPQUFPLEVBQUU7WUFDbEMsSUFBSSxFQUFFLE9BQU87U0FDZCxDQUFDLENBQUM7UUFDSCxNQUFNLFFBQVEsR0FBRztZQUNmLG1CQUFtQixFQUFFLGlCQUFnQixhQUFoQixnQkFBZ0IsdUJBQWhCLGdCQUFnQixDQUFFLG1CQUFtQixLQUFJLENBQUM7WUFDL0Qsd0JBQXdCLEVBQUUsaUJBQWdCLGFBQWhCLGdCQUFnQix1QkFBaEIsZ0JBQWdCLENBQUUsd0JBQXdCLEtBQUksQ0FBQztZQUN6RSxpQkFBaUIsRUFBRSxVQUFVLENBQUMsQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BFLGVBQWUsRUFBRSxVQUFVLENBQ3pCLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FDakQ7WUFDRCxhQUFhLEVBQUUsVUFBVSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6RSxhQUFhLEVBQUUsSUFBSTtZQUNuQixFQUFFLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLEVBQUU7WUFDbkIsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLElBQUksQ0FBQztZQUMxQyxhQUFhLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixJQUFJLENBQUM7WUFDNUMsa0JBQWtCLEVBQUUsY0FBYSxhQUFiLGFBQWEsdUJBQWIsYUFBYSxDQUFFLGtCQUFrQjtnQkFDbkQsQ0FBQyxDQUFDLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxrQkFBa0I7Z0JBQ25DLENBQUMsQ0FBQyxFQUFFO1lBQ04sc0JBQXNCLEVBQUUsY0FBYSxhQUFiLGFBQWEsdUJBQWIsYUFBYSxDQUFFLHNCQUFzQjtnQkFDM0QsQ0FBQyxDQUFDLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxzQkFBc0I7Z0JBQ3ZDLENBQUMsQ0FBQyxFQUFFO1NBQ1AsQ0FBQztRQUNGLE9BQU87WUFDTCxJQUFJLEVBQUUsR0FBRztZQUNULE9BQU8sRUFBRSx1Q0FBdUM7WUFDaEQsSUFBSSxFQUFFLFFBQVE7U0FDZixDQUFDO1FBR0YsS0FBSyxVQUFVLFFBQVEsQ0FBQyxNQUFNOztZQUU1QixNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsTUFBTSxDQUFDO1lBQzlCLE1BQU0sSUFBSSxHQUFHLE1BQU0scURBQ2IsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxzQkFBc0IsQ0FBQztpQkFDckQsSUFBSSxDQUFDLE1BQU0sQ0FBQztpQkFDWixPQUFPLENBQUMsTUFBTSxDQUFDO2lCQUNmLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUMzQyxPQUFPO2dCQUNMLFFBQVEsRUFBRSxVQUFVO2dCQUNwQixVQUFVLEVBQUUsZ0JBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxLQUFLLDBDQUFFLElBQUksMENBQUUsUUFBUTthQUN4QyxDQUFDO1FBQ0osQ0FBQztLQUVGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdFFnRDtBQUNOO0FBQ2tDO0FBQ3ZCO0FBR2hELE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDckUsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEQsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixNQUFNLGlCQUFpQixHQUNyQiw0REFBNEQsQ0FBQztRQUMvRCxNQUFNLE9BQU8sR0FBRyxNQUFNLHVFQUE0QixDQUFDO1lBQ2pELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7U0FDbEIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1NBQ2hEO1FBRUQsTUFBTSxrQkFBa0IsR0FBUSxFQUFFLENBQUM7UUFDbkMsTUFBTSxzQkFBc0IsR0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzVFLE1BQU0sbUJBQW1CLEdBQVcsSUFBSSxDQUFDLEtBQUssQ0FDNUMsTUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxDQUN0QyxDQUFDO1FBQ0YsTUFBTSw0QkFBNEIsR0FDaEMsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFDbEQsTUFBTSx5QkFBeUIsR0FDN0IsbUJBQW1CO1lBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsRUFBRTtZQUNoQyxNQUFNLGlCQUFpQixHQUFHLE1BQU0sOEVBQW1DLENBQUM7Z0JBQ2xFLEtBQUssRUFBRTtvQkFDTCxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7aUJBQ3RCO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLGlCQUFpQixJQUFJLGlCQUFpQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ3hELE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO2FBQzdDO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQy9CLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNqQixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDcEMsUUFBUSxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxDQUFDLENBQUMsQ0FBQztZQUNILGtCQUFrQixDQUFDLGtCQUFrQjtnQkFDbkMsc0JBQXNCLEdBQUcsbUJBQW1CLEdBQUcsUUFBUSxDQUFDO1lBQzFELGtCQUFrQixDQUFDLG9CQUFvQixHQUFHLFFBQVEsQ0FBQztZQUNuRCxJQUFJLGlCQUFpQixHQUF5QixJQUFJLENBQUM7WUFDbkQsSUFBSSxrQkFBa0IsR0FBeUIsSUFBSSxDQUFDO1lBQ3BELElBQUksa0JBQWtCLEdBQXlCLElBQUksQ0FBQztZQUNwRCxJQUFJLGtCQUFrQixHQUF5QixJQUFJLENBQUM7WUFFcEQsSUFDRSxDQUFDLHlCQUF5QixJQUFJLDRCQUE0QixDQUFDO2dCQUMzRCxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsRUFDNUI7Z0JBQ0EsSUFBSSxDQUFDLGlCQUFpQixJQUFJLGlCQUFpQixDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7b0JBQ3hELE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO2lCQUM3QztnQkFDRCxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtvQkFDcEMsTUFBTSxHQUFHLEdBQVEsT0FBTyxDQUFDO29CQUN6QixHQUFHLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztvQkFDNUMsSUFBSSxPQUFPLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTt3QkFDMUIsaUJBQWlCLEdBQUcsR0FBRyxDQUFDO3FCQUN6QjtvQkFDRCxJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO3dCQUMxQixrQkFBa0IsR0FBRyxHQUFHLENBQUM7cUJBQzFCO29CQUNELElBQUksT0FBTyxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7d0JBQzFCLGtCQUFrQixHQUFHLEdBQUcsQ0FBQztxQkFDMUI7b0JBQ0QsSUFBSSxPQUFPLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTt3QkFDMUIsa0JBQWtCLEdBQUcsR0FBRyxDQUFDO3FCQUMxQjtnQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFFSCxNQUFNLHVCQUF1QixHQUF5QixJQUFJLENBQUMsS0FBSyxDQUM5RCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQ2xDLENBQUM7Z0JBQ0YsTUFBTSx3QkFBd0IsR0FBeUIsSUFBSSxDQUFDLEtBQUssQ0FDL0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUNuQyxDQUFDO2dCQUNGLE1BQU0sd0JBQXdCLEdBQXlCLElBQUksQ0FBQyxLQUFLLENBQy9ELElBQUksQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsQ0FDbkMsQ0FBQztnQkFDRixNQUFNLHdCQUF3QixHQUF5QixJQUFJLENBQUMsS0FBSyxDQUMvRCxJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLENBQ25DLENBQUM7Z0JBQ0YsSUFDRSxDQUFDLHVCQUF1QjtvQkFDeEIsQ0FBQyx3QkFBd0I7b0JBQ3pCLENBQUMsd0JBQXdCO29CQUN6QixDQUFDLHdCQUF3QixFQUN6QjtvQkFDQSxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztpQkFDN0M7Z0JBQ0QsSUFBSSw0QkFBNEIsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO29CQUN0RCxNQUFNLHFCQUFxQixHQUFXLHNCQUFzQixHQUFHLElBQUksQ0FBQztvQkFDcEUsTUFBTSxzQkFBc0IsR0FBRyxzQkFBc0IsR0FBRyxJQUFJLENBQUM7b0JBQzdELE1BQU0sc0JBQXNCLEdBQUcsc0JBQXNCLEdBQUcsSUFBSSxDQUFDO29CQUM3RCxNQUFNLHNCQUFzQixHQUFHLHNCQUFzQixHQUFHLElBQUksQ0FBQztvQkFFN0QsSUFDRSxDQUFDLGtCQUFpQixhQUFqQixpQkFBaUIsdUJBQWpCLGlCQUFpQixDQUFFLFNBQVM7d0JBQzdCLENBQUMsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUzt3QkFDOUIsQ0FBQyxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3dCQUM5QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVMsR0FDOUI7d0JBQ0EsdUJBQXVCLENBQUMsYUFBYSxHQUFHLHFCQUFxQixDQUFDO3dCQUM5RCx3QkFBd0IsQ0FBQyxhQUFhLEdBQUcsc0JBQXNCLENBQUM7d0JBQ2hFLHdCQUF3QixDQUFDLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQzt3QkFDaEUsd0JBQXdCLENBQUMsYUFBYSxHQUFHLHNCQUFzQixDQUFDO3FCQUNqRTtvQkFFRCxJQUNFLGtCQUFpQixhQUFqQixpQkFBaUIsdUJBQWpCLGlCQUFpQixDQUFFLFNBQVM7d0JBQzVCLENBQUMsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUzt3QkFDOUIsQ0FBQyxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3dCQUM5QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVMsR0FDOUI7d0JBQ0EsTUFBTSwyQkFBMkIsR0FDL0Isc0JBQXNCOzRCQUN0QixDQUFDLHFCQUFxQjtnQ0FDcEIsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjO29DQUMvQixpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7d0JBQzdDLHdCQUF3QixDQUFDLGFBQWE7NEJBQ3BDLDJCQUEyQixDQUFDO3dCQUM5Qix3QkFBd0IsQ0FBQyxhQUFhLEdBQUcsc0JBQXNCLENBQUM7d0JBQ2hFLHdCQUF3QixDQUFDLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztxQkFDakU7b0JBRUQsSUFDRSxrQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxTQUFTO3lCQUM1QixrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3dCQUM3QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVM7d0JBQzlCLENBQUMsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUyxHQUM5Qjt3QkFDQSxNQUFNLDJCQUEyQixHQUMvQixzQkFBc0I7NEJBQ3RCLENBQUMscUJBQXFCO2dDQUNwQixDQUFDLGlCQUFpQixDQUFDLGNBQWM7b0NBQy9CLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7NEJBQzFDLENBQUMsc0JBQXNCO2dDQUNyQixDQUFDLGtCQUFrQixDQUFDLGNBQWM7b0NBQ2hDLGtCQUFrQixDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQzt3QkFFOUMsd0JBQXdCLENBQUMsYUFBYTs0QkFDcEMsMkJBQTJCLENBQUM7d0JBQzlCLHdCQUF3QixDQUFDLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQztxQkFDakU7b0JBRUQsSUFDRSxrQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxTQUFTO3lCQUM1QixrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3lCQUM3QixrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3dCQUM3QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVMsR0FDOUI7d0JBQ0EsTUFBTSwyQkFBMkIsR0FDL0Isc0JBQXNCOzRCQUN0QixDQUFDLHFCQUFxQjtnQ0FDcEIsQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjO29DQUMvQixpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQztnQ0FDdkMsQ0FBQyxzQkFBc0I7b0NBQ3JCLENBQUMsa0JBQWtCLENBQUMsY0FBYzt3Q0FDaEMsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQ0FDM0MsQ0FBQyxzQkFBc0I7b0NBQ3JCLENBQUMsa0JBQWtCLENBQUMsY0FBYzt3Q0FDaEMsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBRWpELHdCQUF3QixDQUFDLGFBQWE7NEJBQ3BDLDJCQUEyQixDQUFDO3FCQUMvQjtpQkFDRjtnQkFHRCxJQUFJLHlCQUF5QixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ25ELE1BQU0sOEJBQThCLEdBQUcsbUJBQW1CLEdBQUcsR0FBRyxDQUFDO29CQUNqRSxNQUFNLDhCQUE4QixHQUFHLG1CQUFtQixHQUFHLEdBQUcsQ0FBQztvQkFDakUsSUFDRSxrQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxTQUFTO3dCQUM1QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVM7d0JBQzlCLENBQUMsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUzt3QkFDOUIsQ0FBQyxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTLEdBQzlCO3dCQUNBLHdCQUF3QixDQUFDLFdBQVc7NEJBQ2xDLDhCQUE4QixDQUFDO3dCQUNqQyx3QkFBd0IsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO3dCQUN6Qyx3QkFBd0IsQ0FBQyxXQUFXOzRCQUNsQyw4QkFBOEIsQ0FBQztxQkFDbEM7b0JBRUQsSUFDRSxrQkFBaUIsYUFBakIsaUJBQWlCLHVCQUFqQixpQkFBaUIsQ0FBRSxTQUFTO3lCQUM1QixrQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTO3dCQUM3QixDQUFDLG1CQUFrQixhQUFsQixrQkFBa0IsdUJBQWxCLGtCQUFrQixDQUFFLFNBQVM7d0JBQzlCLENBQUMsbUJBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUyxHQUM5Qjt3QkFDQSxNQUFNLHVCQUF1QixHQUMzQiw4QkFBOEIsR0FBRyxrQkFBa0IsQ0FBQyxXQUFXLENBQUM7d0JBQ2xFLHdCQUF3QixDQUFDLFdBQVcsR0FBRyx1QkFBdUIsQ0FBQzt3QkFDL0Qsd0JBQXdCLENBQUMsV0FBVzs0QkFDbEMsOEJBQThCLENBQUM7cUJBQ2xDO29CQUVELElBQ0Usa0JBQWlCLGFBQWpCLGlCQUFpQix1QkFBakIsaUJBQWlCLENBQUUsU0FBUzt5QkFDNUIsa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUzt5QkFDN0Isa0JBQWtCLGFBQWxCLGtCQUFrQix1QkFBbEIsa0JBQWtCLENBQUUsU0FBUzt3QkFDN0IsQ0FBQyxtQkFBa0IsYUFBbEIsa0JBQWtCLHVCQUFsQixrQkFBa0IsQ0FBRSxTQUFTLEdBQzlCO3dCQUNBLE1BQU0sdUJBQXVCLEdBQzNCLG1CQUFtQjs0QkFDbkIsa0JBQWtCLENBQUMsV0FBVzs0QkFDOUIsa0JBQWtCLENBQUMsV0FBVyxDQUFDO3dCQUNqQyx3QkFBd0IsQ0FBQyxXQUFXLEdBQUcsdUJBQXVCLENBQUM7cUJBQ2hFO2lCQUNGO2dCQUdELElBQUksQ0FBQyx3QkFBdUIsYUFBdkIsdUJBQXVCLHVCQUF2Qix1QkFBdUIsQ0FBRSxTQUFTLEdBQUU7b0JBQ3ZDLHVCQUF1QixDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQ3JELE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxhQUFhLENBQUM7d0JBQzNDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxXQUFXLENBQUMsQ0FDOUMsQ0FBQztvQkFDRix1QkFBdUIsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDNUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLGtCQUFrQixDQUFDO3dCQUNoRCxNQUFNLENBQUMsdUJBQXVCLENBQUMsVUFBVSxDQUFDO3dCQUMxQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsYUFBYSxDQUFDLENBQ2hELENBQUM7aUJBQ0g7Z0JBQ0QsSUFBSSxDQUFDLHlCQUF3QixhQUF4Qix3QkFBd0IsdUJBQXhCLHdCQUF3QixDQUFFLFNBQVMsR0FBRTtvQkFDeEMsd0JBQXdCLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDdEQsTUFBTSxDQUFDLHdCQUF3QixDQUFDLGFBQWEsQ0FBQzt3QkFDNUMsTUFBTSxDQUFDLHdCQUF3QixDQUFDLFdBQVcsQ0FBQyxDQUMvQyxDQUFDO29CQUNGLHdCQUF3QixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUM3QyxNQUFNLENBQUMsd0JBQXdCLENBQUMsa0JBQWtCLENBQUM7d0JBQ2pELE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUM7d0JBQzNDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLENBQUMsQ0FDakQsQ0FBQztpQkFDSDtnQkFDRCxJQUFJLENBQUMseUJBQXdCLGFBQXhCLHdCQUF3Qix1QkFBeEIsd0JBQXdCLENBQUUsU0FBUyxHQUFFO29CQUN4Qyx3QkFBd0IsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUN0RCxNQUFNLENBQUMsd0JBQXdCLENBQUMsYUFBYSxDQUFDO3dCQUM1QyxNQUFNLENBQUMsd0JBQXdCLENBQUMsV0FBVyxDQUFDLENBQy9DLENBQUM7b0JBQ0Ysd0JBQXdCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQzdDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQzt3QkFDakQsTUFBTSxDQUFDLHdCQUF3QixDQUFDLFVBQVUsQ0FBQzt3QkFDM0MsTUFBTSxDQUFDLHdCQUF3QixDQUFDLGFBQWEsQ0FBQyxDQUNqRCxDQUFDO2lCQUNIO2dCQUNELElBQUksQ0FBQyx5QkFBd0IsYUFBeEIsd0JBQXdCLHVCQUF4Qix3QkFBd0IsQ0FBRSxTQUFTLEdBQUU7b0JBQ3hDLHdCQUF3QixDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQ3RELE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLENBQUM7d0JBQzVDLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxXQUFXLENBQUMsQ0FDL0MsQ0FBQztvQkFDRix3QkFBd0IsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FDN0MsTUFBTSxDQUFDLHdCQUF3QixDQUFDLGtCQUFrQixDQUFDO3dCQUNqRCxNQUFNLENBQUMsd0JBQXdCLENBQUMsVUFBVSxDQUFDO3dCQUMzQyxNQUFNLENBQUMsd0JBQXdCLENBQUMsYUFBYSxDQUFDLENBQ2pELENBQUM7aUJBQ0g7Z0JBR0QsTUFBTSxVQUFVLEdBQUcsdUJBQXVCLENBQUMsRUFBRSxDQUFDO2dCQUM5QyxPQUFPLHVCQUF1QixDQUFDLEVBQUUsQ0FBQztnQkFDbEMsTUFBTSw0RUFBaUMsQ0FBQztvQkFDdEMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsRUFBRTtvQkFDekIsSUFBSSxFQUFFLHVCQUF1QjtpQkFDOUIsQ0FBQyxDQUFDO2dCQUVILE1BQU0sV0FBVyxHQUFHLHdCQUF3QixDQUFDLEVBQUUsQ0FBQztnQkFDaEQsT0FBTyx3QkFBd0IsQ0FBQyxFQUFFLENBQUM7Z0JBQ25DLE1BQU0sNEVBQWlDLENBQUM7b0JBQ3RDLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUU7b0JBQzFCLElBQUksRUFBRSx3QkFBd0I7aUJBQy9CLENBQUMsQ0FBQztnQkFFSCxNQUFNLFdBQVcsR0FBRyx3QkFBd0IsQ0FBQyxFQUFFLENBQUM7Z0JBQ2hELE9BQU8sd0JBQXdCLENBQUMsRUFBRSxDQUFDO2dCQUNuQyxNQUFNLDRFQUFpQyxDQUFDO29CQUN0QyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFO29CQUMxQixJQUFJLEVBQUUsd0JBQXdCO2lCQUMvQixDQUFDLENBQUM7Z0JBRUgsTUFBTSxXQUFXLEdBQUcsd0JBQXdCLENBQUMsRUFBRSxDQUFDO2dCQUNoRCxPQUFPLHdCQUF3QixDQUFDLEVBQUUsQ0FBQztnQkFDbkMsTUFBTSw0RUFBaUMsQ0FBQztvQkFDdEMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRTtvQkFDMUIsSUFBSSxFQUFFLHdCQUF3QjtpQkFDL0IsQ0FBQyxDQUFDO2FBQ0o7WUFHRCxrQkFBa0IsQ0FBQyxtQkFBbUIsR0FBRyxzQkFBc0IsQ0FBQztZQUNoRSxJQUFJLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtnQkFDakMsa0JBQWtCLENBQUMsd0JBQXdCO29CQUN6QyxJQUFJLENBQUMsd0JBQXdCLENBQUM7YUFDakM7U0FDRjtRQUVELElBQ0UseUJBQXlCO1lBQ3pCLDRCQUE0QjtZQUM1QixJQUFJLENBQUMsYUFBYSxFQUNsQjtZQUNBLGtCQUFrQixDQUFDLG1CQUFtQixHQUFHLHNCQUFzQixDQUFDO1lBQ2hFLElBQUksSUFBSSxDQUFDLHdCQUF3QixFQUFFO2dCQUNqQyxrQkFBa0IsQ0FBQyx3QkFBd0I7b0JBQ3pDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQzthQUNqQztTQUNGO1FBQ0QsSUFBSSxPQUFPLENBQUMsbUJBQW1CLEVBQUU7WUFDL0Isa0JBQWtCLENBQUMsa0JBQWtCO2dCQUNuQyxzQkFBc0I7b0JBQ3RCLG1CQUFtQjtvQkFDbkIsQ0FBQyxPQUFPLENBQUMsd0JBQXdCO3dCQUMvQixPQUFPLENBQUMsOEJBQThCLENBQUMsQ0FBQztZQUM1QyxrQkFBa0IsQ0FBQyxvQkFBb0I7Z0JBQ3JDLE9BQU8sQ0FBQyx3QkFBd0I7b0JBQ2hDLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQztTQUMxQztRQUVELGtCQUFrQixDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQztRQUMvRCxrQkFBa0IsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQztRQUNqRSxrQkFBa0IsQ0FBQyxpQkFBaUI7WUFDbEMsc0JBQXNCLEdBQUcsbUJBQW1CLENBQUM7UUFDL0Msa0JBQWtCLENBQUMsVUFBVSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFFM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQ3hCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO2FBQ3REO1lBQ0QsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRTtvQkFDakUsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLDJDQUEyQyxDQUFDLENBQUM7aUJBQ3ZFO2dCQUNELE1BQU0sVUFBVSxHQUFHO29CQUNqQixHQUFHLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPO29CQUNoQyxXQUFXLEVBQUUsaUJBQWlCO29CQUM5QixRQUFRLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRO2lCQUN2QyxDQUFDO2dCQUNGLGtCQUFrQixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQztnQkFFNUQsbUVBQWlCLENBQUMsT0FBTyxFQUFFLG1CQUFtQixFQUFFLFVBQVUsQ0FBQyxDQUFDO2FBQzdEO1lBQ0QsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEVBQUU7Z0JBQzNCLElBQ0UsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTztvQkFDaEMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUNqQztvQkFDQSxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsd0NBQXdDLENBQUMsQ0FBQztpQkFDcEU7Z0JBQ0QsTUFBTSxVQUFVLEdBQUc7b0JBQ2pCLEdBQUcsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsT0FBTztvQkFDcEMsV0FBVyxFQUFFLGlCQUFpQjtvQkFDOUIsUUFBUSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRO2lCQUMzQyxDQUFDO2dCQUNGLGtCQUFrQixDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUM7Z0JBQ3pFLG1FQUFpQixDQUFDLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxVQUFVLENBQUMsQ0FBQzthQUNuRTtTQUNGO1FBQ0QsTUFBTSxjQUFjLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztZQUNyRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLElBQUksRUFBRSxrQkFBa0I7U0FDekIsQ0FBQyxDQUFDO1FBRUgsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsSUFBSSxFQUFFLGNBQWM7WUFDcEIsT0FBTyxFQUFFLFNBQVM7U0FDbkIsQ0FBQztLQUNIO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMVhnRDtBQUNrQjtBQUNoQztBQU1HO0FBQ3ZDLE1BQU0sV0FBVyxHQUFHLGtCQUFrQixDQUFDO0FBQ3ZDLE1BQU0saUJBQWlCLEdBQUcsY0FBYyxDQUFDO0FBRWxDLE1BQU0sY0FBYyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzVELE1BQU0sc0JBQXNCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUM1RCxNQUFNLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxHQUFHLElBQUksQ0FBQztJQUN6QyxJQUFJO1FBQ0YsSUFBSSxjQUFjLEtBQUssUUFBUSxFQUFFO1lBQy9CLE1BQU0sU0FBUyxHQUFHLE1BQU0saUVBQXNCLENBQUM7Z0JBQzdDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7YUFDekIsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxTQUFTLEVBQUU7Z0JBRWIsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLDZCQUE2QixDQUM1RCxTQUFTLENBQ1YsQ0FBQztnQkFDRixJQUFJLGtCQUFrQixDQUFDLElBQUksS0FBSyxHQUFHLEVBQUU7b0JBQ25DLHNCQUFzQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7b0JBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUM7b0JBQzVELE9BQU8sc0JBQXNCLENBQUM7aUJBQy9CO2dCQUVELE1BQU0sOERBQW1CLENBQUM7b0JBQ3hCLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7b0JBQ3hCLElBQUksRUFBRTt3QkFDSixNQUFNLEVBQUUsVUFBVTt3QkFDbEIsZUFBZSxFQUFFLElBQUk7cUJBQ3RCO2lCQUNGLENBQUMsQ0FBQztnQkFDSCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO2dCQUNsQyxzQkFBc0IsQ0FBQyxPQUFPO29CQUM1QiwwREFBMEQsQ0FBQzthQUM5RDtpQkFBTTtnQkFDTCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO2dCQUNsQyxzQkFBc0IsQ0FBQyxPQUFPLEdBQUcsc0JBQXNCLENBQUM7YUFDekQ7U0FDRjtLQUNGO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxzQkFBc0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2xDLHNCQUFzQixDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0tBQ2hEO0lBQ0QsT0FBTyxzQkFBc0IsQ0FBQztBQUNoQyxDQUFDLENBQUM7QUFFRixNQUFNLDZCQUE2QixHQUFHLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRTtJQUN4RCxNQUFNLHdCQUF3QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFFOUQsTUFBTSxlQUFlLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUN6RCxLQUFLLEVBQUU7WUFDTCxJQUFJLEVBQUUsU0FBUyxDQUFDLGFBQWE7U0FDOUI7S0FDRixDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsZUFBZSxFQUFFO1FBQ3BCLHdCQUF3QixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDcEMsd0JBQXdCLENBQUMsT0FBTztZQUM5QiwyQ0FBMkMsQ0FBQztRQUM5QyxPQUFPLHdCQUF3QixDQUFDO0tBQ2pDO0lBRUQsTUFBTSxZQUFZLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztRQUN0RCxLQUFLLEVBQUU7WUFDTCxFQUFFLEVBQUUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxlQUFlLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDbkQ7UUFDRCxPQUFPLEVBQUU7WUFDUCxTQUFTLEVBQUUsSUFBSTtTQUNoQjtLQUNGLENBQUMsQ0FBQztJQUVILE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRTlCLElBQUksQ0FBQyxZQUFZLEVBQUU7UUFDakIsd0JBQXdCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNwQyx3QkFBd0IsQ0FBQyxPQUFPLEdBQUcsd0NBQXdDLENBQUM7UUFDNUUsT0FBTyx3QkFBd0IsQ0FBQztLQUNqQztJQUVELE1BQU0sc0JBQXNCLEdBQUcsTUFBTSxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUV2RSxJQUFJLHNCQUFzQixDQUFDLElBQUksS0FBSyxHQUFHLEVBQUU7UUFDdkMsSUFBSSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3pELE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDNUMsTUFBTSxhQUFhLEdBQ2pCLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDL0IsTUFBTSxpQ0FBaUMsQ0FDckMsWUFBWSxDQUFDLFVBQVUsRUFDdkIsYUFBYSxDQUNkLENBQUM7U0FDSDthQUFNO1lBQ0wsd0JBQXdCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztZQUNwQyx3QkFBd0IsQ0FBQyxPQUFPLEdBQUcsa0NBQWtDLHNCQUFzQixDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3RHLE9BQU8sd0JBQXdCLENBQUM7U0FDakM7S0FDRjtJQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7UUFDL0MsS0FBSyxFQUFFO1lBQ0wsZ0JBQWdCLEVBQUUsZUFBZSxDQUFDLGNBQWM7U0FDakQ7UUFDRCxPQUFPLEVBQUU7WUFDUCxVQUFVLEVBQUU7Z0JBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTthQUN4QjtZQUNELHVCQUF1QixFQUFFO2dCQUN2QixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2FBQzFCO1lBQ0QsVUFBVSxFQUFFO2dCQUNWLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7YUFDeEI7U0FDRjtLQUNGLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxRQUFRLEVBQUU7UUFDYix3QkFBd0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ3BDLHdCQUF3QixDQUFDLE9BQU8sR0FBRyx3Q0FBd0MsQ0FBQztRQUM1RSxPQUFPLHdCQUF3QixDQUFDO0tBQ2pDO0lBQ0QsTUFBTSxZQUFZLEdBQUksZUFBZSxDQUFDLFlBQVksQ0FBQztJQUVuRCxNQUFNLGlCQUFpQixHQUFRO1FBQzdCLFNBQVMsRUFBRSxlQUFlLENBQUMsY0FBYztRQUN6QyxXQUFXLEVBQUUsTUFBTSxZQUFZLElBQUksZUFBZSxDQUFDLGNBQWMsRUFBRTtRQUNuRSxpQkFBaUIsRUFDZixTQUFTLENBQUMsOEJBQThCO1lBQ3hDLFNBQVMsQ0FBQyxvQ0FBb0M7UUFDaEQsYUFBYSxFQUFFLE9BQU87UUFDdEIsVUFBVSxFQUFFLFlBQVksQ0FBQyxVQUFVO1FBQ25DLFVBQVUsRUFBRSxRQUFRLENBQUMsTUFBTTtRQUMzQixZQUFZLEVBQUUsQ0FBQztRQUNmLGFBQWEsRUFBRSxlQUFlLENBQUMsSUFBSTtRQUNuQyxhQUFhLEVBQUUsU0FBUyxDQUFDLGtCQUFrQjtRQUMzQyxpQkFBaUIsRUFBRSxTQUFTLENBQUMsaUJBQWlCO1FBQzlDLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyw4QkFBOEI7UUFDN0QsZUFBZSxFQUFFLFNBQVMsQ0FBQyxtQkFBbUI7UUFDOUMscUJBQXFCLEVBQUUsU0FBUyxDQUFDLHVCQUF1QjtRQUN4RCx3QkFBd0IsRUFBRSxTQUFTLENBQUMsb0NBQW9DO1FBQ3hFLG1CQUFtQixFQUFFLFNBQVMsQ0FBQyx5QkFBeUI7UUFDeEQsTUFBTSxFQUFFLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTTtRQUNyQyxjQUFjLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNO1FBQzdDLGtCQUFrQixFQUFFLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRO1FBQ2hFLGdCQUFnQixFQUFFLGdCQUFnQjtRQUNsQyxRQUFRLEVBQUUsZUFBZSxDQUFDLFlBQVk7UUFDdEMsbUJBQW1CLEVBQUUsSUFBSTtRQUN6QixnQkFBZ0IsRUFBRSxTQUFTLENBQUMscUJBQXFCO1FBQ2pELG9CQUFvQixFQUFFLFNBQVMsQ0FBQyxnQ0FBZ0M7UUFDaEUsdUJBQXVCLEVBQUUsU0FBUyxDQUFDLHlCQUF5QjtRQUM1RCxZQUFZLEVBQUUsU0FBUyxDQUFDLHdCQUF3QjtRQUNoRCxjQUFjLEVBQUUsU0FBUyxDQUFDLDJCQUEyQjtRQUNyRCxrQkFBa0IsRUFBRSxTQUFTLENBQUMsb0JBQW9CO1FBQ2xELHFCQUFxQixFQUFFLFNBQVMsQ0FBQywwQkFBMEI7UUFDM0QsU0FBUyxFQUFFLFNBQVMsQ0FBQyw4QkFBOEI7UUFDbkQsd0JBQXdCLEVBQUUsU0FBUyxDQUFDLGtDQUFrQztRQUN0RSxTQUFTLEVBQUUsU0FBUyxDQUFDLGFBQWE7UUFDbEMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxlQUFlO1FBQzFDLFlBQVksRUFBRSxlQUFlLENBQUMsYUFBYTtRQUMzQyxnQkFBZ0IsRUFBQyxTQUFTLENBQUMsb0JBQW9CO0tBQ2hELENBQUM7SUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBRXBDLE1BQU0sc0JBQXNCLEdBQVEsTUFBTSxnQkFBZ0IsQ0FDeEQsaUJBQWlCLEVBQ2pCLFlBQVksRUFDWixRQUFRLENBQ1QsQ0FBQztJQUVGLElBQUksc0JBQXNCLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRTtRQUN2QyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNqRCxJQUFJLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFBRTtZQUNsRSxJQUFJLGNBQWMsR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUN2RCxxQkFBcUIsQ0FDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNMLGNBQWMsR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ3ZELHNCQUFzQixDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUM7U0FDaEQ7UUFDRCxJQUFJLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUM3RCxNQUFNLGNBQWMsR0FBRyxzQkFBc0IsQ0FBQyxPQUFPO2lCQUNsRCxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQzFCLElBQUksRUFBRSxDQUFDO1lBQ1Ysc0JBQXNCLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztTQUN4RDthQUFNO1lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQix3QkFBd0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1lBQ3BDLHdCQUF3QixDQUFDLE9BQU8sR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUM7WUFDbEUsT0FBTyx3QkFBd0IsQ0FBQztTQUNqQztLQUNGO1NBQU07UUFDTCxpQkFBaUIsQ0FBQyxNQUFNLEdBQUcsc0JBQXNCLENBQUMsTUFBTSxDQUFDO1FBQ3pELGlCQUFpQixDQUFDLHdCQUF3QjtZQUN4QyxzQkFBc0IsQ0FBQyxjQUFjLENBQUM7S0FDekM7SUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLHNCQUFzQixDQUFDLENBQUM7SUFDOUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0lBRXBELE1BQU0sa0JBQWtCLEdBQUcsTUFBTSwwRUFBVSxDQUFDLElBQUksRUFBRSxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRSxJQUFJLGtCQUFrQixDQUFDLElBQUksS0FBSyxHQUFHLEVBQUU7UUFDbkMsd0JBQXdCLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNwQyx3QkFBd0IsQ0FBQyxPQUFPLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxDQUFDO1FBQzlELE9BQU8sd0JBQXdCLENBQUM7S0FDakM7SUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBRWhELE9BQU8sd0JBQXdCLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQUU7O0lBQ2pELE1BQU0sRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLEdBQUcsTUFBTSwwQkFBMEIsQ0FDM0UsWUFBWSxDQUNiLENBQUM7SUFDRixJQUFJO1FBQ0YsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUV0QixJQUFJLGFBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxxQkFBcUIsTUFBSyxJQUFJLEVBQUU7WUFDaEQsWUFBWSxHQUFHLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQztTQUNuRDthQUFNO1lBQ0wsWUFBWSxHQUFHLFNBQVMsQ0FBQztTQUMxQjtRQUVELElBQUksYUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLFlBQVksTUFBSyxJQUFJLEVBQUU7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQixPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsQ0FBQztTQUMvRDthQUFNLElBQUksYUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLFlBQVksTUFBSyxLQUFLLEVBQUU7WUFDL0MsWUFBWSxHQUFHLGNBQWMsQ0FBQztTQUMvQjthQUFNLElBQUksYUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLFlBQVksTUFBSyxLQUFLLEVBQUU7WUFDL0MsWUFBWSxHQUFHLFNBQVMsQ0FBQztZQUN6QixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRTtnQkFDdkIsT0FBTztvQkFDTCxJQUFJLEVBQUUsR0FBRztvQkFDVCxPQUFPLEVBQUUseUNBQXlDO2lCQUNuRCxDQUFDO2FBQ0g7WUFDRCxLQUFLLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQztTQUM1QjtRQUVELElBQ0UsbUJBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxhQUFhLDBDQUFFLE1BQU0sTUFBSyxFQUFFO1lBQzFDLENBQUMsYUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLGFBQWEsR0FDNUI7WUFDQSxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsQ0FBQztTQUM3RDtRQUNELElBQ0UsbUJBQVksYUFBWixZQUFZLHVCQUFaLFlBQVksQ0FBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsMENBQUUsTUFBTSxNQUFLLENBQUM7WUFDNUMsQ0FBQyxhQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQy9CO1lBQ0EsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLENBQUM7U0FDcEQ7UUFDRCxJQUFJLG1CQUFZLGFBQVosWUFBWSx1QkFBWixZQUFZLENBQUUsU0FBUywwQ0FBRSxNQUFNLE1BQUssRUFBRSxJQUFJLENBQUMsYUFBWSxhQUFaLFlBQVksdUJBQVosWUFBWSxDQUFFLFNBQVMsR0FBRTtZQUN0RSxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsQ0FBQztTQUMzRDtRQUNELE1BQU0sWUFBWSxHQUFJLGVBQWUsQ0FBQyxZQUFZLENBQUM7UUFDbkQsTUFBTSxVQUFVLEdBQUcsTUFBTSxpQkFBaUIsRUFBRSxDQUFDO1FBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sWUFBWSxHQUFHO1lBQ25CLEdBQUcsRUFBRSxZQUFZLENBQUMsWUFBWTtZQUM5QixJQUFJLEVBQUUsWUFBWTtZQUNsQixLQUFLLEVBQUUsWUFBWSxDQUFDLGFBQWE7WUFDakMsSUFBSSxFQUFFLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7WUFDekMsWUFBWSxFQUFFLFNBQVM7WUFDdkIsVUFBVSxFQUFFLElBQUk7WUFDaEIscUJBQXFCLEVBQUUsWUFBWTtZQUNuQyxVQUFVLEVBQUUsR0FBRztZQUNmLE1BQU0sRUFBRSxZQUFZLENBQUMsYUFBYTtZQUNsQyxLQUFLLEVBQUUsWUFBWSxDQUFDLGFBQWE7WUFDakMsTUFBTSxFQUFFLGVBQWU7WUFDdkIsT0FBTyxFQUFFLGVBQWU7WUFDeEIsUUFBUSxFQUNOLDJEQUFXLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbkUsSUFBSSxFQUFFLFNBQVM7WUFDZixHQUFHLEVBQUUsS0FBSztZQUNWLFdBQVcsRUFBRSxZQUFZLENBQUMsWUFBWTtZQUN0QyxRQUFRLEVBQUUsSUFBSTtZQUNkLEdBQUcsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDbEMsY0FBYyxFQUFFLFlBQVksQ0FBQyxZQUFZO1lBQ3pDLE1BQU0sRUFBRSxZQUFZLENBQUMsU0FBUztTQUMvQixDQUFDO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDMUMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDO1FBQzdDLE1BQU0sR0FBRyxHQUFHLE1BQU0sc0RBQ1gsQ0FBQyxHQUFHLENBQUM7YUFDVCxHQUFHLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDO2FBQ25DLEdBQUcsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDO2FBQ3pCLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUzQixJQUNFLGdCQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLFFBQVE7WUFDeEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBRyxDQUFDLElBQUksMENBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ25ELENBQUMsQ0FBQyxJQUFJLEVBQ1I7WUFDQSxNQUFNLGlDQUFpQyxDQUNyQyxZQUFZLENBQUMsVUFBVSxFQUN2QixlQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLFFBQVEsQ0FBQyxlQUFlLENBQUMsUUFBUSxFQUFFLENBQ3RELENBQUM7WUFDRixPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDckM7YUFBTTtZQUNMLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxlQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLE9BQU8sRUFBRSxDQUFDO1NBQzFEO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7S0FDMUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLGlDQUFpQyxHQUFHLEtBQUssRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDeEUsTUFBTSxvRUFBeUIsQ0FBQztRQUM5QixLQUFLLEVBQUU7WUFDTCxVQUFVLEVBQUUsVUFBVTtTQUN2QjtRQUNELElBQUksRUFBRTtZQUNKLGFBQWEsRUFBRSxTQUFTO1NBQ3pCO0tBQ0YsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUN4QixJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDekIsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ1osR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7S0FDbkI7SUFDRCxPQUFPLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxFQUFFOztJQUM3RCxNQUFNLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxHQUFHLE1BQU0sMEJBQTBCLENBQzNFLFFBQVEsQ0FDVCxDQUFDO0lBQ0YsSUFBSTtRQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sVUFBVSxHQUFHLE1BQU0seUVBQThCLEVBQUUsQ0FBQztRQUMxRCxNQUFNLHFCQUFxQixHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFFdkQsTUFBTSxhQUFhLEdBQUc7WUFDcEIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxXQUFXO1lBQ3pCLGNBQWMsRUFBRSxRQUFRLENBQUMsWUFBWTtZQUNyQyxpQkFBaUIsRUFBRSxFQUFFO1lBQ3JCLElBQUksRUFBRSxPQUFPLENBQUMsU0FBUztZQUN2QixRQUFRLEVBQUUsa0VBQWMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNwRCxnQkFBZ0IsRUFBRSxLQUFLO1lBQ3ZCLHFCQUFxQixFQUFFLElBQUk7WUFDM0IsV0FBVyxFQUFFLElBQUk7WUFDakIsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLGVBQWU7Z0JBQ3ZDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQztnQkFDcEMsQ0FBQyxDQUFDLENBQUM7WUFDTCxpQkFBaUIsRUFBRSxDQUFDO1lBQ3BCLHFCQUFxQixFQUFFLE9BQU8sQ0FBQyxtQkFBbUI7Z0JBQ2hELENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDO2dCQUN4QyxDQUFDLENBQUMsQ0FBQztZQUNMLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyx3QkFBd0I7Z0JBQ2xELENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDO2dCQUM3QyxDQUFDLENBQUMsQ0FBQztZQUNMLGNBQWMsRUFBRSxPQUFPLENBQUMsbUJBQW1CO2dCQUN6QyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztnQkFDeEMsQ0FBQyxDQUFDLENBQUM7WUFDTCxvQkFBb0IsRUFBRSxPQUFPLENBQUMsaUJBQWlCO2dCQUM3QyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztnQkFDdEMsQ0FBQyxDQUFDLENBQUM7WUFDTCxnQkFBZ0IsRUFBRTtnQkFDaEIsSUFBSSxFQUFFLHFCQUFxQjtnQkFDM0IsSUFBSSxFQUFFLFVBQVU7Z0JBQ2hCLE1BQU0sRUFBRSxlQUFlO2dCQUN2QixPQUFPLEVBQUUsZUFBZTtnQkFDeEIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDaEMsUUFBUSxFQUFFLDJEQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ3ZFLFVBQVUsRUFBRSxHQUFHO2dCQUNmLGNBQWMsRUFBRSxRQUFRLENBQUMsWUFBWTthQUN0QztZQUNELGFBQWEsRUFBRTtnQkFDYixzQkFBc0IsRUFBRSxxRUFBaUIsQ0FDdkMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQ2hEO2dCQUNELGtCQUFrQixFQUFFLG1FQUFlLENBQUMsY0FBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLDBDQUFFLElBQUksQ0FBQzthQUN2RTtTQUNGLENBQUM7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUM1QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM5QixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxvQ0FBb0MsQ0FBQztRQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN0QixNQUFNLEdBQUcsR0FBRyxNQUFNLHNEQUNYLENBQUMsR0FBRyxDQUFDO2FBQ1QsR0FBRyxDQUFDLGlCQUFpQixFQUFFLFdBQVcsQ0FBQzthQUNuQyxHQUFHLENBQUMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUM7YUFDaEMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTNCLElBQ0UsZ0JBQUcsQ0FBQyxJQUFJLDBDQUFFLE1BQU0sMENBQUUsUUFBUTtZQUN4QixDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUM7WUFDbkQsQ0FBQyxDQUFDLElBQUksRUFDUjtZQUNBLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsTUFBTSxFQUFFLGdCQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDcEQsQ0FBQyxDQUFDLGVBQUcsQ0FBQyxJQUFJLDBDQUFFLE1BQU0sMENBQUUsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFFBQVEsRUFBRTtvQkFDM0QsQ0FBQyxDQUFDLElBQUk7Z0JBQ1IsY0FBYyxFQUFFLGdCQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztvQkFDNUQsQ0FBQyxDQUFDLGVBQUcsQ0FBQyxJQUFJLDBDQUFFLE1BQU0sMENBQUUsUUFBUSxDQUFDLGtCQUFrQixFQUFFLFFBQVEsRUFBRTtvQkFDM0QsQ0FBQyxDQUFDLElBQUk7YUFDVCxDQUFDO1NBQ0g7YUFBTTtZQUNMLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLG1DQUNQLGdCQUFHLENBQUMsSUFBSSwwQ0FBRSxLQUFLLDBDQUFFLE9BQU87b0JBQ3RCLENBQUMsQ0FBQyxlQUFHLENBQUMsSUFBSSwwQ0FBRSxLQUFLLDBDQUFFLE9BQU87b0JBQzFCLENBQUMsQ0FBQyxlQUFHLENBQUMsSUFBSSwwQ0FBRSxNQUFNLDBDQUFFLE9BQ3hCLEVBQUU7YUFDSCxDQUFDO1NBQ0g7S0FDRjtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztLQUMxQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sMEJBQTBCLEdBQUcsS0FBSyxFQUFFLFlBQVksRUFBRSxFQUFFO0lBQ3hELElBQUk7UUFDRixNQUFNLE9BQU8sR0FBRyxFQUFFLEVBQ2hCLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFZixNQUFNLGFBQWEsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEUsSUFBSSxhQUFhLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUM5QixPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDaEM7UUFFRCxJQUFJLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQzVCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM3QyxNQUFNLEtBQUssR0FBRyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM3QyxJQUFJLENBQUMsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUU7b0JBQ25DLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2hDO3FCQUFNO29CQUNMLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2hDO2FBQ0Y7U0FDRjtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFOUMsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxJQUFJLGVBQWUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLElBQUksZUFBZSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDL0IsZUFBZSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEQ7YUFBTSxJQUFJLGVBQWUsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3RDLGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsT0FBTyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsQ0FBQztLQUM3QztJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDO0tBQ2xCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxpQkFBaUIsR0FBRyxLQUFLLElBQUksRUFBRTtJQUNuQyxJQUFJO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwQixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRywyQkFBMkIsQ0FBQztRQUNuRSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN0QixNQUFNLEdBQUcsR0FBRyxNQUFNLHNEQUNYLENBQUMsR0FBRyxDQUFDO2FBQ1QsR0FBRyxDQUFDLGlCQUFpQixFQUFFLFdBQVcsQ0FBQzthQUNuQyxJQUFJLENBQUM7WUFDSixNQUFNLEVBQUU7Z0JBQ04sRUFBRSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTTtnQkFDdEIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYztnQkFDakMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCO2FBQ3hDO1NBQ0YsQ0FBQyxDQUFDO1FBRUwsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLElBQUksR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLE1BQU0sRUFBRTtZQUNmLE1BQU0sYUFBYSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1lBQzVDLE1BQU0sc0VBQTJCLENBQUM7Z0JBQ2hDLEtBQUssRUFBRTtvQkFDTCxFQUFFLEVBQUUsQ0FBQztpQkFDTjtnQkFDRCxJQUFJLEVBQUU7b0JBQ0osTUFBTSxFQUFFLGFBQWE7aUJBQ3RCO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxhQUFhLENBQUM7U0FDdEI7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsT0FBTyxJQUFJLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQUNGLE1BQU0sZUFBZSxHQUFHLENBQUMsWUFBWSxFQUFFLEVBQUU7SUFDdkMsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzlFLE1BQU0sUUFBUSxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMzRSxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsUUFBUSxFQUFFLENBQUM7QUFDMUQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hmaUQ7QUFDTjtBQUNsQjtBQUNVO0FBQ0E7QUFDZ0Q7QUFDN0UsTUFBTSxhQUFhLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDM0QsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLDRDQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxpRUFBc0IsQ0FBQztZQUM3QyxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRTtTQUM3QyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2QsTUFBTSx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsTUFBTSxPQUFPLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNqRCxLQUFLLEVBQUU7Z0JBQ0wsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhO2FBQ3pCO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHVCQUF1QjthQUNqQyxDQUFDO1NBQ0g7UUFDRCxJQUFJLE9BQU8sQ0FBQyxTQUFTLEtBQUssWUFBWSxFQUFFO1lBQ3RDLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLDZDQUE2QzthQUN2RCxDQUFDO1NBQ0g7UUFDRCxNQUFNLEtBQUssR0FBRyxNQUFNLDhEQUFtQixDQUFDO1lBQ3RDLElBQUksRUFBRTtnQkFDSixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7Z0JBQ2pDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDZix5QkFBeUIsRUFBRSxJQUFJLENBQUMsb0JBQW9CO29CQUNsRCxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQjtvQkFDM0IsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDOUQsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEUsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjtvQkFDNUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0I7b0JBQ3ZCLENBQUMsQ0FBQyxDQUFDO2dCQUNMLHlCQUF5QixFQUFFLElBQUksQ0FBQyxtQkFBbUI7b0JBQ2pELENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CO29CQUMxQixDQUFDLENBQUMsQ0FBQztnQkFDTCw4QkFBOEIsRUFBRSxJQUFJLENBQUMsd0JBQXdCO29CQUMzRCxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUF3QjtvQkFDL0IsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsZUFBZSxFQUFFLENBQUM7Z0JBQ2xCLHdCQUF3QixFQUFFLENBQUM7Z0JBQzNCLGVBQWUsRUFBRSxJQUFJO2dCQUNyQixlQUFlLEVBQUUsSUFBSSxDQUFDLGFBQWE7Z0JBQ25DLGNBQWMsRUFBRSx3Q0FBTSxFQUFFO2FBQ3pCO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVuQixNQUFNLHVFQUE0QixDQUFDO1lBQ2pDLElBQUksRUFBRTtnQkFDSixPQUFPLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2pCLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDNUIsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO2dCQUM3QixXQUFXLEVBQUUsQ0FBQztnQkFDZCxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVU7YUFDM0I7U0FDRixDQUFDO1FBQ0YsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLDJCQUEyQjtZQUNwQyxPQUFPLEVBQUUsS0FBSyxDQUFDLGNBQWM7U0FDOUIsQ0FBQztLQUNIO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQztBQUVGLEtBQUssVUFBVSx3QkFBd0IsQ0FBQyxNQUFNLEVBQUUsSUFBSTtJQUNsRCxJQUFJO1FBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNWLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7WUFDdkIsSUFBSSxFQUFFLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFFO1NBQ3RDLENBQUMsQ0FBQztRQUVILE1BQU0sZUFBZSxHQUNuQixNQUFNLDZEQUFrQixrRUFBaUUsSUFBSSxnQ0FBZ0MsTUFBTSxHQUFHLENBQUM7UUFDekksT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM3QixPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsaUJBQWlCO1NBQzNCLENBQUM7S0FDSDtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7S0FDbEQ7QUFDSCxDQUFDO0FBRUQsS0FBSyxVQUFVLG9CQUFvQixDQUFDLE9BQU87SUFDekMsTUFBTSxJQUFJLEdBQUcsTUFBTSx1RkFBYSxFQUFFLENBQUM7SUFDbkMsTUFBTSxRQUFRLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixvQ0FBb0MsQ0FBQztJQUN2RixJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQUcsTUFBTSxzREFDWCxDQUFDLFFBQVEsQ0FBQzthQUNkLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUM7YUFDdkMsR0FBRyxDQUFDLGVBQWUsRUFBRSxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQzthQUNsRCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDO0tBQ2pCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqSG9GO0FBQ1A7QUFDMUM7QUFDUTtBQUVyQyxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQy9ELElBQUk7UUFDRixJQUFJLElBQUksQ0FBQztRQUNULElBQUk7WUFDRixJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzQztRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsTUFBTSxFQUFFLEdBQUcsd0NBQU0sRUFBRSxDQUFDO1FBQ3BCLE1BQU0sT0FBTyxHQUFHLFlBQVksRUFBRSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QyxNQUFNLFdBQVcsR0FBUSxFQUFFLENBQUM7UUFDNUIsV0FBVyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQzNCLFdBQVcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUMzQyxXQUFXLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUNqQyxNQUFNLGFBQWEsR0FBRztZQUNwQixHQUFHLEVBQUUsT0FBTztZQUNaLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbkIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ25CLFdBQVcsRUFBRSxDQUFDO1lBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1NBQ3BCLENBQUM7UUFDRixNQUFNLElBQUksR0FBRyxNQUFNLHdGQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDakQsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pDLFdBQVcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUN6QixPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxPQUFPLEVBQUUsU0FBUztZQUNsQixJQUFJLEVBQUUsV0FBVztTQUNsQixDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDckMsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZDZ0Q7QUFDTjtBQUNtQztBQUV4RSxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzlELElBQUk7UUFDRixJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN4QixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztTQUN0RDtRQUNELE1BQU0sU0FBUyxHQUFHLE1BQU0saUVBQXNCLENBQUM7WUFDN0MsS0FBSyxFQUFFLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7U0FDM0MsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLGlCQUFpQjthQUMzQixDQUFDO1NBQ0g7UUFFRCxNQUFNLFVBQVUsaUNBQ2QsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQ2YsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUM5RCx1QkFBdUIsRUFBRSxJQUFJLENBQUMsZ0JBQWdCO2dCQUM1QyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQjtnQkFDdkIsQ0FBQyxDQUFDLENBQUMsRUFDTCxtQkFBbUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ3BFLHlCQUF5QixFQUFFLElBQUksQ0FBQyxtQkFBbUI7Z0JBQ2pELENBQUMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CO2dCQUMxQixDQUFDLENBQUMsQ0FBQyxFQUNMLGVBQWUsRUFBRSxJQUFJLEVBQ3JCLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjLElBQ25DLENBQUMsSUFBSSxDQUFDLGtCQUFrQixJQUFJO1lBQzdCLHVCQUF1QixFQUFFLElBQUksQ0FBQyxrQkFBa0I7U0FDakQsQ0FBQyxLQUNGLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxFQUNsQixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFDakMsZUFBZSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFDdEMsZUFBZSxFQUFFLEVBQUUsRUFDbkIsa0JBQWtCLEVBQUUsSUFBSSxHQUN6QixDQUFDO1FBRUYsTUFBTSxXQUFXLEdBQUcsTUFBTSx1RUFBNEIsQ0FBQztZQUNyRCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRTtTQUNwQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2hCLE9BQU87Z0JBQ0wsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsT0FBTyxFQUFFLHVCQUF1QjthQUNqQyxDQUFDO1NBQ0g7UUFDRCxNQUFNLElBQUksR0FBRyxNQUFNLHFFQUEwQixDQUFDO1lBQzVDLEtBQUssRUFBRTtnQkFDTCxJQUFJLEVBQUUsV0FBVyxDQUFDLFNBQVM7YUFDNUI7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGdCQUFnQixDQUFDLENBQUM7U0FDNUM7UUFDRCxNQUFNLE1BQU0sR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDO1FBQzFDLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDdkIsTUFBTSxhQUFhLEdBQUc7Z0JBQ3BCLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYztnQkFDekIsSUFBSSxFQUFFLFlBQVk7Z0JBQ2xCLFFBQVEsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxVQUFVLEVBQUUsTUFBTTtnQkFDbEIsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO2dCQUNqQyxlQUFlLEVBQUUsV0FBVyxDQUFDLGFBQWE7Z0JBQzFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWTtnQkFDNUIsTUFBTSxFQUFFLFdBQVcsQ0FBQyxVQUFVO2dCQUM5QixXQUFXLEVBQUUsbUJBQW1CO2FBQ2pDLENBQUM7WUFFRixNQUFNLFVBQVUsR0FBRyxNQUFNLGtGQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDakQsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMzQyxVQUFVLENBQUMsYUFBYSxHQUFHLFVBQVUsQ0FBQyxVQUFVLENBQUM7U0FDbEQ7UUFFRCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtZQUMzQixNQUFNLGlCQUFpQixHQUFHO2dCQUN4QixJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQjtnQkFDN0IsSUFBSSxFQUFFLGdCQUFnQjtnQkFDdEIsUUFBUSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRSxVQUFVLEVBQUUsTUFBTTtnQkFDbEIsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO2dCQUNqQyxlQUFlLEVBQUUsV0FBVyxDQUFDLGFBQWE7Z0JBQzFDLFNBQVMsRUFBRSxJQUFJLENBQUMsWUFBWTtnQkFDNUIsTUFBTSxFQUFFLFdBQVcsQ0FBQyxVQUFVO2dCQUM5QixXQUFXLEVBQUUsd0JBQXdCO2FBQ3RDLENBQUM7WUFFRixNQUFNLGNBQWMsR0FBRyxNQUFNLGtGQUFRLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUN6RCxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQy9DLFVBQVUsQ0FBQyxvQkFBb0IsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO1NBQzdEO1FBQ0QsVUFBVSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRTNELE1BQU0sOERBQW1CLENBQUM7WUFDeEIsS0FBSyxFQUFFLEVBQUUsY0FBYyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUMsSUFBSSxFQUFFLFVBQVU7U0FDakIsQ0FBQyxDQUFDO1FBRUgsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLCtCQUErQjtTQUN6QyxDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDOUdnRDtBQUNOO0FBQ21DO0FBRXhFLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDaEUsSUFBSTtRQUNGLE1BQU0sYUFBYSxHQUFHLE1BQU0saUVBQXNCLENBQUM7WUFDakQsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTztnQkFDbEIsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO2FBQ2xDO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNsQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztTQUM3QztRQUNELE1BQU0sZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzVCLE1BQU0sV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDckQsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7U0FDcEMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztTQUNuRDtRQUNELE1BQU0sSUFBSSxHQUFHLE1BQU0scUVBQTBCLENBQUM7WUFDNUMsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxXQUFXLENBQUMsU0FBUzthQUM1QjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUM1QztRQUNELE1BQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUM7UUFDMUMsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3RCLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLG9CQUFvQixLQUFLLElBQUksRUFBRTtnQkFDdkUsT0FBTztvQkFDTCxJQUFJLEVBQUUsR0FBRztvQkFDVCxPQUFPLEVBQUUscURBQXFEO2lCQUMvRCxDQUFDO2FBQ0g7WUFDRCxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7WUFDL0QsZ0JBQWdCLENBQUMsMkJBQTJCLENBQUMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUM7WUFDMUUsTUFBTSxhQUFhLEdBQUc7Z0JBQ3BCLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLGNBQWM7Z0JBQ3pCLElBQUksRUFBRSxZQUFZO2dCQUNsQixRQUFRLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekQsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQjtvQkFDekMsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0I7b0JBQzNCLENBQUMsQ0FBQyxDQUFDO2dCQUNMLFVBQVUsRUFBRSxNQUFNO2dCQUNsQixhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7Z0JBQ2pDLGVBQWUsRUFBRSxXQUFXLENBQUMsYUFBYTtnQkFDMUMsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZO2dCQUM1QixNQUFNLEVBQUUsV0FBVyxDQUFDLFVBQVU7Z0JBQzlCLFdBQVcsRUFBRSxtQkFBbUI7YUFDakMsQ0FBQztZQUVGLE1BQU0sVUFBVSxHQUFHLE1BQU0sa0ZBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUNqRCxnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsR0FBRyxVQUFVLENBQUMsVUFBVSxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDMUIsSUFDRSxJQUFJLENBQUMsbUJBQW1CLEtBQUssSUFBSTtnQkFDakMsSUFBSSxDQUFDLHdCQUF3QixLQUFLLElBQUksRUFDdEM7Z0JBQ0EsT0FBTztvQkFDTCxJQUFJLEVBQUUsR0FBRztvQkFDVCxPQUFPLEVBQUUsMERBQTBEO2lCQUNwRSxDQUFDO2FBQ0g7WUFDRCxnQkFBZ0IsQ0FBQywyQkFBMkIsQ0FBQyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUN6RSxnQkFBZ0IsQ0FBQyxnQ0FBZ0MsQ0FBQztnQkFDaEQsSUFBSSxDQUFDLHdCQUF3QixDQUFDO1lBQ2hDLE1BQU0saUJBQWlCLEdBQUc7Z0JBQ3hCLElBQUksRUFBRSxhQUFhO2dCQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQjtnQkFDN0IsSUFBSSxFQUFFLGdCQUFnQjtnQkFDdEIsUUFBUSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsd0JBQXdCO29CQUM3QyxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUF3QjtvQkFDL0IsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsVUFBVSxFQUFFLE1BQU07Z0JBQ2xCLGFBQWEsRUFBRSxJQUFJLENBQUMsYUFBYTtnQkFDakMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxhQUFhO2dCQUMxQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVk7Z0JBQzVCLE1BQU0sRUFBRSxXQUFXLENBQUMsVUFBVTtnQkFDOUIsV0FBVyxFQUFFLHdCQUF3QjthQUN0QyxDQUFDO1lBRUYsTUFBTSxjQUFjLEdBQUcsTUFBTSxrRkFBUSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDekQsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO1NBQ3RFO1FBRUQsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDM0MsTUFBTSxRQUFRLEdBQUcsTUFBTSw4REFBbUIsQ0FBQztZQUN6QyxLQUFLLEVBQUU7Z0JBQ0wsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPO2FBQ25CO1lBQ0QsSUFBSSxFQUFFLGdCQUFnQjtTQUN2QixDQUFDLENBQUM7UUFDSCxPQUFPO1lBQ0wsSUFBSSxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRztZQUM3QixPQUFPLEVBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLHNCQUFzQjtZQUN0RSxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQUU7U0FDbEIsQ0FBQztLQUNIO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzdHZ0Q7QUFDdkI7QUFDaUI7QUFNaUI7QUFDaUI7QUFFdkUsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7SUFDNUQsSUFBSTtRQUlGLE1BQU0sZUFBZSxHQUFHLE1BQU0sdUVBQTRCLENBQUM7WUFDekQsS0FBSyxFQUFFO2dCQUNMLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTTthQUN4QjtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDcEIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHVCQUF1QixDQUFDLENBQUM7U0FDbkQ7UUFDRCxNQUFNLElBQUksR0FBRztZQUNYLEdBQUcsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUNsQixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVc7WUFDN0IsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVO1lBQ3ZCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtTQUNwQixDQUFDO1FBQ0YsTUFBTSxhQUFhLEdBQUcsTUFBTSx3RkFBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELE1BQU0sR0FBRyxHQUFRLE1BQU0sbUZBQVMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxzREFBYyxDQUFDLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkUsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDZixNQUFNLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sSUFBSSw0REFBUyxDQUNqQixHQUFHLEVBQ0gsMERBQTBELENBQzNELENBQUM7U0FDSDtRQUVELElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBSyxlQUFlLGFBQWYsZUFBZSx1QkFBZixlQUFlLENBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUU7WUFDcEUsTUFBTSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUN6QyxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILDhEQUE4RCxDQUMvRCxDQUFDO1NBQ0g7UUFFRCxNQUFNLFlBQVksR0FDaEIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEUsTUFBTSxRQUFRLEdBQ1osVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEUsTUFBTSxXQUFXLEdBQ2YsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEUsTUFBTSx1QkFBdUIsR0FDM0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXZELE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxNQUFNLGdCQUFnQixHQUNwQixVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0QsTUFBTSxnQkFBZ0IsR0FDcEIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNELE1BQU0sV0FBVyxHQUFRLEVBQUUsQ0FBQztRQUM1QixXQUFXLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQyxRQUFRLENBQUM7UUFDOUMsV0FBVyxDQUFDLFVBQVUsR0FBRyxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsRUFBRSxDQUFDO1FBQzNDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsYUFBYSxhQUFiLGFBQWEsdUJBQWIsYUFBYSxDQUFFLE9BQU8sQ0FBQztRQUM3QyxXQUFXLENBQUMsWUFBWSxHQUFHLFVBQVUsQ0FBQztRQUN0QyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsV0FBVyxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7WUFDeEMsV0FBVyxDQUFDLGlCQUFpQixHQUFHLFlBQVksQ0FBQztZQUM3QyxXQUFXLENBQUMsZUFBZSxHQUFHLFFBQVEsQ0FBQztZQUN2QyxXQUFXLENBQUMsa0JBQWtCLEdBQUcsV0FBVyxDQUFDO1lBQzdDLFdBQVcsQ0FBQyx1QkFBdUIsR0FBRyxnQkFBZ0IsQ0FBQztZQUN2RCxXQUFXLENBQUMsb0JBQW9CLEdBQUcsY0FBYyxDQUFDO1lBQ2xELFdBQVcsQ0FBQyxvQkFBb0IsR0FBRyxnQkFBZ0IsQ0FBQztTQUNyRDthQUFNLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUMzQixXQUFXLENBQUMsZ0JBQWdCLEdBQUcsWUFBWSxDQUFDO1lBQzVDLFdBQVcsQ0FBQyxxQkFBcUIsR0FBRyxZQUFZLENBQUM7WUFDakQsV0FBVyxDQUFDLG1CQUFtQixHQUFHLFFBQVEsQ0FBQztZQUMzQyxXQUFXLENBQUMsc0JBQXNCLEdBQUcsV0FBVyxDQUFDO1lBQ2pELFdBQVcsQ0FBQywyQkFBMkIsR0FBRyxnQkFBZ0IsQ0FBQztZQUMzRCxXQUFXLENBQUMsd0JBQXdCLEdBQUcsY0FBYyxDQUFDO1lBQ3RELFdBQVcsQ0FBQyx3QkFBd0IsR0FBRyxnQkFBZ0IsQ0FBQztTQUN6RDtRQUNELE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUM7UUFDdEQsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2hCLE1BQU0sUUFBUSxHQUFHLHNGQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDM0MsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO1lBQ3ZCLEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFO2dCQUN2QixNQUFNLElBQUksR0FBRyxHQUFHLENBQUM7Z0JBQ2pCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztnQkFDckMsSUFBSSxzRkFBcUIsQ0FBQyxTQUFTLENBQUMsRUFBRTtvQkFDcEMsTUFBTSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFDekMsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCxzR0FBc0csQ0FDdkcsQ0FBQztpQkFDSDthQUNGO1NBQ0Y7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQ3JCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksa0JBQWtCLENBQUM7WUFDdkIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7Z0JBQy9CLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDekI7aUJBQU07Z0JBQ0wsS0FBSyxHQUFHLFdBQVcsQ0FBQzthQUNyQjtZQUNELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDeEIsSUFBSSxNQUFNLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFO29CQUN4RCxrQkFBa0IsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQ2xFLFNBQVMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDdEMsTUFBTSxFQUFFLENBQUM7aUJBQ1Y7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQztZQUN4QixLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssRUFBRTtnQkFDekIsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDO2dCQUNuQixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxzRkFBcUIsQ0FBQyxTQUFTLENBQUMsRUFBRTtvQkFDckMsTUFBTSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFDekMsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCxnR0FBZ0csQ0FDakcsQ0FBQztpQkFDSDthQUNGO1NBQ0Y7UUFFRCxPQUFPO1lBQ0wsSUFBSSxFQUFFLEdBQUc7WUFDVCxJQUFJLEVBQUUsV0FBVztZQUNqQixPQUFPLEVBQUUsNEJBQTRCO1NBQ3RDLENBQUM7UUFHRixLQUFLLFVBQVUsbUJBQW1CLENBQUMsV0FBVztZQUM1QyxJQUFJLFdBQVcsRUFBRTtnQkFDZixNQUFNLGlCQUFpQixHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7Z0JBQy9DLE1BQU0sWUFBWSxHQUFHLE1BQU0sb0ZBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2dCQUN6RCxJQUFJLFlBQVksRUFBRTtvQkFDaEIsTUFBTSwwRUFBNEIsQ0FBQzt3QkFDakMsS0FBSyxFQUFFOzRCQUNMLEVBQUUsRUFBRSxXQUFXLENBQUMsRUFBRTt5QkFDbkI7cUJBQ0YsQ0FBQyxDQUFDO2lCQUNKO2FBQ0Y7UUFDSCxDQUFDO0tBRUY7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQy9KNkM7QUFDZ0M7QUFFeEUsTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDMUQsSUFBSSxnQkFBZ0IsQ0FBQztJQUNyQixJQUFJO1FBQ0YsTUFBTSxHQUFHLEdBQUcsTUFBTSxxRkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxNQUFNLEVBQUUsZUFBZSxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBQ2xDLElBQUksV0FBVyxDQUFDO1FBQ2hCLElBQUksR0FBRyxDQUFDLElBQUksRUFBRTtZQUNaLElBQUksQ0FBQyxlQUFlLEVBQUU7Z0JBQ3BCLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSw2QkFBNkIsRUFBRSxDQUFDO2FBQzlEO1lBRUQsV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7Z0JBQy9DLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUU7YUFDakMsQ0FBQyxDQUFDO1NBQ0o7YUFBTSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDdkIsV0FBVyxHQUFHLE1BQU0sdUVBQTRCLENBQUM7Z0JBQy9DLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRTthQUNqRCxDQUFDLENBQUM7U0FDSjtRQUNELElBQUksTUFBTSxDQUFDO1FBQ1gsSUFBSSxXQUFXLEVBQUU7WUFDZixNQUFNLEdBQUcsTUFBTSxnRUFBcUIsQ0FBQztnQkFDbkMsS0FBSyxFQUFFO29CQUNMLGFBQWEsRUFBRSxXQUFXLENBQUMsSUFBSTtpQkFDaEM7Z0JBQ0QsT0FBTyxFQUFFO29CQUNQO3dCQUNFLFdBQVcsRUFBRSxLQUFLO3FCQUNuQjtpQkFDRjthQUNGLENBQUMsQ0FBQztTQUNKO1FBRUQsZ0JBQWdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDO1FBQ3JFLE9BQU8sZ0JBQWdCLENBQUM7S0FDekI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGdCQUFnQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3pELE9BQU8sZ0JBQWdCLENBQUM7S0FDekI7QUFDSCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUM0QztBQUNpQztBQUV4RSxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzlELElBQUksb0JBQW9CLENBQUM7SUFDekIsSUFBSTtRQUNGLE1BQU0scUZBQWdCLENBQUMsUUFBUSxDQUFDO1FBQ2hDLE1BQU0sS0FBSyxHQUFHLE1BQU0saUVBQXNCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUM7UUFDM0Usb0JBQW9CLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtRQUN2RSxPQUFPLG9CQUFvQixDQUFDO0tBQzdCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxvQkFBb0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDNUQsT0FBTyxvQkFBb0IsQ0FBQztLQUM3QjtBQUNILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2Q4QztBQUNIO0FBQ3JDLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3pELElBQUk7UUFDRixJQUFJLFNBQVMsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDO1FBQ2xDLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtnQkFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGtDQUFrQyxDQUFDLENBQUM7YUFDOUQ7WUFDRCxTQUFTLEdBQUcsTUFBTSxpRUFBc0IsQ0FBQztnQkFDdkMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7YUFDaEMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxTQUFTLENBQUMsZUFBZSxFQUFFO2dCQUM3QixRQUFRLEdBQUcsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQ3hEO1lBQ0QsUUFBUSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7U0FDckM7YUFBTTtZQUNMLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNqQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsK0JBQStCLENBQUMsQ0FBQzthQUMzRDtZQUNELFNBQVMsR0FBRyxNQUFNLDZFQUFrQyxDQUFDO2dCQUNuRCxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRTthQUM1QixDQUFDLENBQUM7WUFDSCxRQUFRLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQztZQUM5QixRQUFRLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNyQztRQUNELE9BQU87WUFDTCxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUc7WUFDM0IsSUFBSSxFQUFFLFFBQVE7WUFDZCxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGlCQUFpQjtTQUNuRCxDQUFDO0tBQ0g7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN6QztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxVQUFVLEVBQUUsRUFBRTtJQUN0QyxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQ2xDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FDckQsQ0FBQztJQUNGLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUNpRDtBQUNHO0FBQ1E7QUFDVjtBQUNjO0FBQ0k7QUFDYTtBQUNOO0FBQ0Y7QUFDTDtBQUNLO0FBQ2lCO0FBQ0o7QUFDbkI7QUFFOUQsTUFBTSxpQkFBaUIsR0FBRztJQUMvQixLQUFLLEVBQUU7UUFDTCxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzVELG1FQUFZLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDdEMsZ0JBQWdCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2hFLDJFQUFnQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDM0QsaUVBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUN0QztJQUNELFFBQVEsRUFBRTtRQUVSLGlCQUFpQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNqRSx3RkFBaUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUMzQyxhQUFhLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzdELG1GQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDdkMsZ0JBQWdCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2hFLDBGQUFnQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDOUQsK0VBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN4QyxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEUsZ0dBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDNUMsY0FBYyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUM5RCxtRkFBYyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBRXhDLGtCQUFrQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNsRSx5RkFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM1QyxjQUFjLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzlELG1GQUFjLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDeEMseUJBQXlCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3pFLDBHQUF5QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ25ELHVCQUF1QixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUN2RSxzR0FBdUIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNsRDtJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDakRLLE1BQU0sZ0JBQWdCLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXFXL0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JXMkQ7QUFDVjtBQUNGO0FBQ0M7QUFDRjtBQUNDO0FBQ0Y7QUFDQztBQUNhO0FBQ0c7QUFDUDtBQUNEO0FBQ2U7QUFDRjtBQUNoQjtBQUNFO0FBQ0Y7QUFDRTtBQUNFO0FBQ0U7QUFDUTtBQUNDO0FBQ21CO0FBQ0Y7QUFDTztBQUNGO0FBQ0g7QUFDRjtBQUNGO0FBQ0Y7QUFDQTtBQUNKO0FBQ0E7QUFDSDtBQUNBO0FBQ0Y7QUFDUDtBQUNDO0FBQ25CO0FBQ0U7QUFDWTtBQUNFO0FBQ2U7QUFDRTtBQUM3QjtBQUNFO0FBQ0s7QUFDRjtBQUNIO0FBQ0M7QUFDZ0I7QUFDQztBQUNHO0FBQ0M7QUFDUDtBQUNGO0FBQ007QUFDRDtBQUNMO0FBQ0E7QUFFM0QsTUFBTSxNQUFNLEdBQUcsMkVBQW9CLENBQUM7SUFDekMsUUFBUSxFQUFFO1FBQ1IsMERBQWE7UUFDYix5REFBWTtRQUNaLHdEQUFZO1FBQ1osd0RBQWE7UUFDYix3RUFBaUI7UUFDakIsa0VBQWdCO1FBQ2hCLCtFQUF1QjtRQUN2QiwrREFBZTtRQUNmLGtFQUFnQjtRQUNoQiwrREFBZTtRQUNmLG1FQUFpQjtRQUNqQiw2RUFBa0I7UUFDbEIsK0ZBQXFCO1FBQ3JCLG9HQUEwQjtRQUMxQiwrRkFBcUI7UUFDckIsMkZBQXNCO1FBQ3RCLHVGQUFvQjtRQUNwQixvRkFBZTtRQUNmLHdGQUFzQjtRQUN0QixrRkFBYztRQUNkLDJFQUFxQjtRQUNyQix5REFBWTtRQUNaLHVFQUFrQjtRQUNsQix3RkFBc0I7UUFDdEIsNkRBQWM7UUFDZCwrREFBZ0I7UUFDaEIsZ0ZBQWtCO1FBQ2xCLG9GQUFvQjtRQUNwQix3RUFBaUI7UUFDakIsNEVBQWlCO1FBQ2pCLGlGQUF1QjtRQUN2Qiw0RUFBbUI7S0FDcEI7SUFDRCxTQUFTLEVBQUU7UUFDVCw0REFBYztRQUNkLDJEQUFhO1FBQ2IsMERBQWE7UUFDYixtRUFBZ0I7UUFDaEIsaUZBQXdCO1FBQ3hCLGlFQUFnQjtRQUNoQixvRUFBaUI7UUFDakIsaUVBQWdCO1FBQ2hCLHFFQUFrQjtRQUNsQiw4RUFBa0I7UUFDbEIsaUdBQXNCO1FBQ3RCLHNHQUEyQjtRQUMzQixpR0FBc0I7UUFDdEIsNkZBQXdCO1FBQ3hCLDJGQUF1QjtRQUN2Qix1RkFBaUI7UUFDakIsMEZBQXVCO1FBQ3ZCLG9GQUFlO1FBQ2YsNEVBQXFCO1FBQ3JCLDJEQUFhO1FBQ2IseUVBQW1CO1FBQ25CLDBGQUF1QjtRQUN2QiwrREFBZTtRQUNmLGdFQUFpQjtRQUNqQixpRkFBbUI7UUFDbkIscUZBQXFCO1FBQ3JCLHNFQUFrQjtRQUNsQiw4RUFBa0I7UUFDbEIsbUZBQXlCO1FBQ3pCLDZFQUFtQjtLQUNwQjtDQUNGLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoSXdDO0FBRXBDLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ25ELElBQUksZUFBZTtJQUVuQixNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDbkgsSUFBSTtRQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0saUVBQXNCLENBQUM7WUFDeEMsSUFBSSxFQUFFO2dCQUNKLElBQUk7Z0JBQ0osVUFBVTtnQkFDVixnQkFBZ0I7Z0JBQ2hCLFFBQVE7Z0JBQ1IsT0FBTztnQkFDUCxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsZUFBZTthQUNoQjtTQUNGLENBQUMsQ0FBQztRQUVILE1BQU0sbUJBQW1CLEdBQUcsRUFBRTtRQUU5QixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFFO1lBQ3hDLG1CQUFtQixDQUFDLElBQUksQ0FBQztnQkFDdkIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNmLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3RCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTthQUN2QixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLHVGQUE0QyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLENBQUM7UUFFakYsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFFO1lBQzdCLFNBQVMsQ0FBQyxJQUFJLENBQUM7Z0JBQ2IsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNmLE1BQU0sRUFBRSxPQUFPO2dCQUNmLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3ZCLENBQUM7UUFFSixDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sMEVBQStCLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUM7UUFDMUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztZQUMzQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUN0QixPQUFPLEVBQUU7Z0JBQ1AsU0FBUyxFQUFFO29CQUNULE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7aUJBQ3hCO2dCQUNELHNCQUFzQixFQUFFO29CQUN0QixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2lCQUMxQjtnQkFDRCxXQUFXLEVBQUUsSUFBSTthQUNsQjtTQUNGLENBQUM7UUFFRixJQUFJLElBQUksR0FBRyxNQUFNLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNsQixlQUFlLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtRQUMvRCxPQUFPLGVBQWU7S0FDdkI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFDLEtBQUssQ0FBQztRQUNyQixlQUFlLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ3ZELE9BQU8sZUFBZTtLQUN2QjtBQUNILENBQUM7QUFFTSxNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN0RCxJQUFJLGVBQWU7SUFDbkIsSUFBSTtRQUNGLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFdkgsTUFBTSxpRUFBc0IsQ0FBQztZQUMzQixJQUFJLEVBQUU7Z0JBQ0osSUFBSTtnQkFDSixVQUFVO2dCQUNWLGdCQUFnQjtnQkFDaEIsUUFBUTtnQkFDUixPQUFPO2dCQUNQLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsZUFBZTthQUNoQjtZQUNELEtBQUssRUFBRTtnQkFDTCxFQUFFLEVBQUUsRUFBRTthQUNQO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxRQUFRLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1FBQy9FLE1BQU0scUJBQXFCLEdBQUcsRUFBRTtRQUNoQyxJQUFJLFFBQVEsRUFBRTtZQUNaLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFFO2dCQUMvQixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztZQUM1QyxDQUFDLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxlQUFlLEdBQUcsRUFBRTtRQUN4QixlQUFlLEdBQUcsTUFBTSxDQUFDO1FBRXpCLElBQUksV0FBVyxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1lBQ2xELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQixDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDO1FBQ25DLElBQUksZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUV6QixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFFckIsSUFBSSxXQUFXLEVBQUU7WUFDZixlQUFlLEdBQUcsV0FBVyxDQUFDO1lBQzlCLGVBQWUsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFFO2dCQUN0QyxTQUFTLENBQUMsSUFBSSxDQUFDO29CQUNiLE1BQU0sRUFBRSxFQUFFO29CQUNWLE1BQU0sRUFBRSxPQUFPO29CQUNmLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN2QixDQUFDO1lBRUosQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLDBFQUErQixDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxDQUFDO1NBRTNEO1FBRUQsSUFBSSxjQUFjLEdBQUcscUJBQXFCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUMzRCxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckIsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFFN0IsSUFBSSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7UUFFM0IsSUFBSSxjQUFjLEVBQUU7WUFDbEIsaUJBQWlCLEdBQUcsY0FBYyxDQUFDO1lBQ25DLE1BQU0sMEVBQStCLENBQUM7Z0JBQ3BDLEtBQUssRUFBRTtvQkFDTCxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsaUJBQWlCLEVBQUU7b0JBQ2pDLE1BQU0sRUFBRSxFQUFFO2lCQUNYO2FBQ0YsQ0FBQztTQUdIO1FBRUQsTUFBTSxNQUFNLEdBQUcsTUFBTSxxRkFBMEMsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1FBQzFGLE1BQU0saUJBQWlCLEdBQUcsRUFBRTtRQUM1QixJQUFJLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxNQUFNLEVBQUU7WUFDbEIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUU7Z0JBQzdCLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDO1lBQzFDLENBQUMsQ0FBQyxDQUFDO1NBQ0o7UUFDRCxJQUFJLFdBQVcsR0FBRyxFQUFFO1FBQ3BCLFdBQVcsR0FBRyxpQkFBaUIsQ0FBQztRQUVoQyxJQUFJLFFBQVEsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUMzQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckIsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7UUFFdEIsTUFBTSxtQkFBbUIsR0FBRyxFQUFFLENBQUM7UUFFL0IsSUFBSSxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsTUFBTSxFQUFFO1lBQ3BCLFlBQVksR0FBRyxRQUFRLENBQUM7WUFDeEIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUU7Z0JBQ25DLG1CQUFtQixDQUFDLElBQUksQ0FBQztvQkFDdkIsTUFBTSxFQUFFLEVBQUU7b0JBQ1YsUUFBUSxFQUFFLE9BQU87b0JBQ2pCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtvQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2lCQUN2QixDQUFDO1lBRUosQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLHVGQUE0QyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLENBQUM7U0FFbEY7UUFFRCxJQUFJLFdBQVcsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1lBQ3BELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyQixDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUV6QixJQUFJLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFFeEIsSUFBSSxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsTUFBTSxFQUFFO1lBRXZCLGNBQWMsR0FBRyxXQUFXLENBQUM7WUFFN0IsTUFBTSx1RkFBNEMsQ0FBQztnQkFDakQsS0FBSyxFQUFFO29CQUNMLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxjQUFjLEVBQUU7b0JBQ2hDLE1BQU0sRUFBRSxFQUFFO2lCQUNYO2FBQ0YsQ0FBQztTQUNIO1FBRUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztZQUMzQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQ2pCLE9BQU8sRUFBRTtnQkFDUCxTQUFTLEVBQUU7b0JBQ1QsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtpQkFDeEI7Z0JBQ0Qsc0JBQXNCLEVBQUU7b0JBQ3RCLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7aUJBQzFCO2dCQUNELFdBQVcsRUFBRSxJQUFJO2FBQ2xCO1NBQ0YsQ0FBQztRQUdGLElBQUksSUFBSSxHQUFHLE1BQU0sT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBRWxCLGVBQWUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO1FBQy9ELE9BQU8sZUFBZTtLQUN2QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsZUFBZSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUN2RCxPQUFPLGVBQWU7S0FDdkI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7SUFDOUIsT0FBTztRQUNMLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsdUNBQ0ssSUFBSSxLQUNQLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUMvQixPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxDQUFDLENBQUMsRUFDRixpQkFBaUIsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3ZELE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQzlELENBQUMsQ0FBQyxJQUNGO1FBQ0osQ0FBQyxDQUFDO0tBQ0g7QUFDSCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDak8yQztBQUNpQjtBQUV0RCxNQUFNLFdBQVcsR0FBRyxLQUFLLElBQUksRUFBRTtJQUNwQyxNQUFNLEtBQUssR0FBRyxNQUFNLG1FQUF3QixDQUFDO1FBQzNDLE9BQU8sRUFBRTtZQUNQLFNBQVMsRUFBRTtnQkFDVCxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2FBQ3hCO1lBQ0Qsc0JBQXNCLEVBQUU7Z0JBQ3RCLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7YUFDMUI7WUFDRCxvQkFBb0IsRUFBQyxJQUFJO1lBQ3pCLFdBQVcsRUFBRSxJQUFJO1NBQ2xCO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsT0FBTztRQUNMLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsdUNBQ0ssSUFBSSxLQUNQLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUMvQixPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxDQUFDLENBQUMsRUFDRixpQkFBaUIsRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7b0JBQ3ZELE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7Z0JBQzlELENBQUMsQ0FBQyxJQUNGO1FBQ0osQ0FBQyxDQUFDO0tBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVLLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3RELE1BQU0sRUFBQyxFQUFFLEVBQUMsR0FBRyxJQUFJLENBQUM7SUFDbEIsSUFBRztRQUNELE1BQU0sV0FBVyxHQUFHLE1BQU0scUVBQTBCLENBQUM7WUFDbkQsS0FBSyxFQUFDO2dCQUNKLEVBQUUsRUFBQyxFQUFFO2FBQ047WUFDRCxPQUFPLEVBQUU7Z0JBQ1AsU0FBUyxFQUFFO29CQUNULE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7aUJBQ3hCO2dCQUNELHNCQUFzQixFQUFFO29CQUN0QixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2lCQUMxQjtnQkFDRCxXQUFXLEVBQUUsSUFBSTthQUNsQjtTQUNGLENBQUM7UUFDRix1RUFBdUIsR0FBRyxHQUFHO1FBQzdCLHVFQUF1QixtQ0FDbEIsV0FBVyxLQUNkLE1BQU0sRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQzlDLENBQUMsQ0FBQyxFQUNGLGlCQUFpQixFQUFFLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtnQkFDOUQsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUM5RCxDQUFDLENBQUMsR0FDSCxDQUFDO0tBQ0g7SUFDRCxPQUFNLENBQUMsRUFBQztRQUNOLHVFQUF1QixHQUFHLEdBQUc7UUFDN0IsMEVBQTBCLEdBQUcsQ0FBQyxDQUFDLE9BQU87S0FDdkM7SUFDRCxPQUFPLGtFQUFrQixDQUFDO0FBQzVCLENBQUM7QUFFTSxNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTtJQUM3RCxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQzVCLE1BQU0sS0FBSyxHQUFHLE1BQU0sbUVBQXdCLENBQUM7UUFDM0MsS0FBSyxFQUFFLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtRQUNqQyxPQUFPLEVBQUU7WUFDUCxTQUFTLEVBQUU7Z0JBQ1QsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTthQUN4QjtZQUNELFdBQVcsRUFBRSxJQUFJO1NBQ2xCO0tBQ0YsQ0FBQyxDQUFDO0lBRUgsT0FBTztRQUNMLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsdUNBQ0ssSUFBSSxLQUNQLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO29CQUMvQixPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQy9CLENBQUMsQ0FBQyxJQUNGO1FBQ0osQ0FBQyxDQUFDO0tBQ0gsQ0FBQztBQUNKLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pGaUQ7QUFDbUI7QUFDcEI7QUFFM0MsTUFBTSxhQUFhLEdBQUc7SUFDM0IsS0FBSyxFQUFFO1FBQ0wsV0FBVyxFQUFFLEtBQUssSUFBSSxFQUFFLENBQUMscURBQVcsRUFBRTtRQUN0QyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDaEUseURBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6QyxXQUFXLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzFELHFEQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDdEM7SUFDRCxRQUFRLEVBQUU7UUFDUixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3ZELG1EQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDakMsVUFBVSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUMxRCxzREFBVSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO0tBQ3JDO0lBQ0QsUUFBUSxFQUFFLDZEQUFnQjtDQUMzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNuQkssTUFBTSxZQUFZLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUUzQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNqRUssTUFBTSxhQUFhLEdBQUc7Ozs7Ozs7O0NBUTVCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDUjZDO0FBQ007QUFFOUMsTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ2hDLElBQUc7UUFDQyxNQUFNLFdBQVcsR0FBRyxNQUFNLG1FQUF3QixDQUFDO1lBQy9DLEtBQUssRUFBQyxFQUFDLE1BQU0sRUFBQyxFQUFFLEVBQUM7WUFDakIsT0FBTyxFQUFDO2dCQUNKLFVBQVUsRUFBRTtvQkFDUixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2lCQUMxQjtnQkFDRCx1QkFBdUIsRUFBQztvQkFDcEIsT0FBTyxFQUFDLEVBQUUsTUFBTSxFQUFDLElBQUksRUFBRTtpQkFDMUI7Z0JBQ0QsVUFBVSxFQUFDO29CQUNQLE9BQU8sRUFBQyxFQUFFLElBQUksRUFBQyxJQUFJLEVBQUU7aUJBQ3hCO2FBQ0o7U0FDSixDQUFDO1FBQ0YsT0FBTyxpRUFBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ25DO0lBQ0QsT0FBTSxDQUFDLEVBQUM7UUFDSixPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDcEI7QUFDTCxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEI4QztBQUNYO0FBQ21EO0FBQ1k7QUFDdkQ7QUFFNUMsTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ2pDLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUN4QixNQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztJQUMvQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFHckIsTUFBTSxZQUFZLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztRQUNsRCxLQUFLLEVBQUU7WUFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDbEMsT0FBTztvQkFDTCxFQUFFLEVBQUUsSUFBSTtpQkFDVCxDQUFDO1lBQ0osQ0FBQyxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFFSCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDNUIsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFJSCxNQUFNLHdCQUF3QixHQUFHLE1BQU0sK0VBQW9DLENBQUM7UUFDMUUsS0FBSyxFQUFFO1lBQ0wsRUFBRSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDckMsT0FBTztvQkFDTCxRQUFRLEVBQUUsR0FBRztpQkFDZCxDQUFDO1lBQ0osQ0FBQyxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFDSCx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUN2QyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBR0gsTUFBTSxhQUFhLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztRQUNwRCxLQUFLLEVBQUU7WUFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDM0IsT0FBTztvQkFDTCxFQUFFLEVBQUUsSUFBSTtpQkFDVCxDQUFDO1lBQ0osQ0FBQyxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFDSCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDN0IsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLGNBQWMsR0FBRyxNQUFNLHNFQUEyQixDQUFDO1FBQ3ZELEtBQUssRUFBRTtZQUNMLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSTtTQUNyQjtLQUNGLENBQUMsQ0FBQztJQUdILE1BQU0sT0FBTyxHQUFHO1FBQ2QsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1FBQ2YscUJBQXFCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjtRQUNqRCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7UUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1FBQ25CLFFBQVEsRUFBRSxJQUFJO1FBQ2QsSUFBSSxFQUFFLGNBQWMsQ0FBQyxZQUFZO1FBQ2pDLGFBQWEsRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFO1FBQ3RDLGlCQUFpQixFQUFFLG1CQUFtQixDQUFDLFFBQVEsRUFBRTtRQUNqRCxNQUFNLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRTtLQUM3QixDQUFDO0lBRUYsTUFBTSxVQUFVLEdBQUcsTUFBTSxzREFDbEIsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxlQUFlLENBQUM7U0FDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQztTQUNiLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUUzQyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxLQUFLLEtBQUssRUFBRTtRQUN4QyxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7S0FDekM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVLLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3JELElBQUksa0JBQWtCLENBQUM7SUFDdkIsSUFBSTtRQUNGLE1BQU0sRUFDSixLQUFLLEVBQ0wsU0FBUyxFQUNULFFBQVEsRUFDUixVQUFVLEVBQ1YsV0FBVyxFQUNYLGVBQWUsRUFDZixTQUFTLEVBQ1QsZ0JBQWdCLEVBQ2hCLElBQUksRUFDSixpQkFBaUIsRUFDakIsSUFBSSxHQUNMLEdBQUcsSUFBSSxDQUFDO1FBRVQsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLGdFQUFxQixDQUN4RDtZQUNFLEtBQUssRUFBQztnQkFDSixlQUFlLEVBQUMsZUFBZTthQUM5QjtTQUNKLENBQ0Y7UUFDRCxJQUFHLHNCQUFzQixHQUFHLENBQUMsRUFBQztZQUM1QixPQUFPLEVBQUMsSUFBSSxFQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUMsc0JBQXNCLEVBQUM7U0FDbEQ7UUFDRCxNQUFNLElBQUksR0FBRyxNQUFNLGlFQUFzQixDQUFDO1lBQ3hDLElBQUksRUFBRTtnQkFDSixLQUFLLEVBQUUsS0FBSztnQkFDWixTQUFTO2dCQUNULFFBQVE7Z0JBQ1IsVUFBVTtnQkFDVixXQUFXO2dCQUNYLFNBQVM7Z0JBQ1QsZUFBZTtnQkFDZixnQkFBZ0I7Z0JBQ2hCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3ZCO1NBQ0YsQ0FBQyxDQUFDO1FBRUgsTUFBTSxnQkFBZ0IsR0FBRztZQUN2QixJQUFJLEVBQUUsR0FBRyxTQUFTLGFBQVQsU0FBUyx1QkFBVCxTQUFTLENBQUUsSUFBSSxFQUFFLEdBQ3hCLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFHLFVBQVUsYUFBVixVQUFVLHVCQUFWLFVBQVUsQ0FBRSxJQUFJLEVBQUUsSUFBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQ2hELEdBQUcsUUFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLElBQUksRUFBRSxFQUFFO1lBQ3JCLHFCQUFxQixFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ2xDLEtBQUssRUFBRSxlQUFlO1lBQ3RCLE1BQU0sRUFBRSxXQUFXO1lBQ25CLFFBQVEsRUFBRSxJQUFJO1lBQ2QsSUFBSSxFQUFFLFNBQVM7WUFDZixhQUFhLEVBQUUsSUFBSTtZQUNuQixpQkFBaUIsRUFBRSxpQkFBaUI7WUFDcEMsTUFBTSxFQUFFLElBQUk7U0FDYixDQUFDO1FBRUYsTUFBTSxRQUFRLEdBQUcsTUFBTSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUVyRCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFbkMsTUFBTSxpRUFBc0IsQ0FBQztZQUMzQixLQUFLLEVBQUU7Z0JBQ0wsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2FBQ3BCO1lBQ0QsSUFBSSxFQUFFO2dCQUNKLGdCQUFnQixFQUFFLFFBQVE7YUFDM0I7U0FDRixDQUFDLENBQUM7UUFFSCxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUU7WUFDN0IsV0FBVyxDQUFDLElBQUksQ0FBQztnQkFDZixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07Z0JBQ25CLE1BQU0sRUFBRSxPQUFPO2dCQUNmLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdEIsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3ZCLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsTUFBTSwwRUFBK0IsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQzdELE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtZQUM3QixXQUFXLENBQUMsSUFBSSxDQUFDO2dCQUNmLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtnQkFDbkIsTUFBTSxFQUFFLE9BQU87Z0JBQ2YsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN0QixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDdkIsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLDBFQUErQixDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUM7UUFDN0QsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3JCLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUU7WUFDMUMsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFDYixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07Z0JBQ25CLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3RCLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRTthQUN2QixDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sdUZBQTRDLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUN4RSxNQUFNLEtBQUssR0FBRyxNQUFNLG1FQUF3QixDQUFDO1lBQzNDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQzlCLE9BQU8sRUFBRTtnQkFDUCxVQUFVLEVBQUU7b0JBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtpQkFDeEI7Z0JBQ0QsdUJBQXVCLEVBQUU7b0JBQ3ZCLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7aUJBQzFCO2dCQUNELFVBQVUsRUFBRTtvQkFDVixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2lCQUN4QjthQUNGO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxRQUFRLENBQUM7UUFFYixJQUNFLElBQUksQ0FBQyxTQUFTLEtBQUssMkdBQXFDO1lBQ3hELElBQUksQ0FBQyxTQUFTLEtBQUssd0dBQWtDLEVBQ3JEO1lBQ0EsTUFBTSxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQy9DO2FBQU0sSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLHVHQUFpQyxFQUFFO1lBQy9ELE1BQU0sb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUMvQztRQUNELGtCQUFrQixHQUFHO1lBQ25CLElBQUksRUFBRSxHQUFHO1lBQ1QsT0FBTyxFQUFFLHlCQUF5QjtZQUNsQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUMxQix1Q0FDSyxPQUFPLEtBQ1YsTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ25DLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztvQkFDM0IsQ0FBQyxDQUFDLEVBQ0YsaUJBQWlCLEVBQUUsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO3dCQUMzRCxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQ3pDLENBQUMsQ0FBQyxFQUNGLEtBQUssRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO3dCQUNsQyxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUM7b0JBQzNCLENBQUMsQ0FBQyxJQUNGO1lBQ0osQ0FBQyxDQUFDO1NBQ0gsQ0FBQztRQUNGLE9BQU8sa0JBQWtCLENBQUM7S0FDM0I7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLGtCQUFrQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzNELE9BQU8sa0JBQWtCLENBQUM7S0FDM0I7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQzNELElBQUk7UUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLHlHQUFxQixFQUFFLENBQUMsY0FBYyxDQUFDO1lBQzVELFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUztZQUN6QixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDdkIsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlO1lBQzNCLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQjtZQUMxQyxLQUFLLEVBQUUsS0FBSztTQUNiLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNyQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsMkNBQTJDLENBQUMsQ0FBQztTQUN2RTtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUdoRSxNQUFNLGlFQUFzQixDQUFDO1lBQzNCLElBQUksRUFBRSxFQUFFLG9CQUFvQixFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ2hELEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFO1NBQy9CLENBQUMsQ0FBQztRQUVILE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQzlDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbFE2QztBQUNNO0FBQ2pCO0FBRXBDLE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQzVDLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUN4QixNQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztJQUMvQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFHckIsTUFBTSxZQUFZLEdBQUcsTUFBTSxtRUFBd0IsQ0FBQztRQUNoRCxLQUFLLEVBQUU7WUFDTCxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDbEMsT0FBTztvQkFDTCxFQUFFLEVBQUUsSUFBSTtpQkFDVCxDQUFDO1lBQ0osQ0FBQyxDQUFDO1NBQ0g7S0FDRixDQUFDLENBQUM7SUFDSCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDNUIsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFJTCxNQUFNLHdCQUF3QixHQUFHLE1BQU0sK0VBQW9DLENBQUM7UUFDeEUsS0FBSyxFQUFFO1lBQ1AsRUFBRSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDbkMsT0FBTztvQkFDUCxRQUFRLEVBQUUsR0FBRztpQkFDWixDQUFDO1lBQ04sQ0FBQyxDQUFDO1NBQ0Q7S0FDSixDQUFDLENBQUM7SUFDSCx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNyQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0lBR0gsTUFBTSxhQUFhLEdBQUcsTUFBTSxvRUFBeUIsQ0FBQztRQUNsRCxLQUFLLEVBQUU7WUFDUCxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDekIsT0FBTztvQkFDUCxFQUFFLEVBQUUsSUFBSTtpQkFDUCxDQUFDO1lBQ04sQ0FBQyxDQUFDO1NBQ0Q7S0FDSixDQUFDLENBQUM7SUFDSCxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDM0IsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLGNBQWMsR0FBRyxNQUFNLHNFQUEyQixDQUFDO1FBQ3JELEtBQUssRUFBRTtZQUNQLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSTtTQUNuQjtLQUNKLENBQUMsQ0FBQztJQUVILE1BQU0sT0FBTyxHQUFHO1FBQ1osSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1FBQ2YscUJBQXFCLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjtRQUNqRCxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7UUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO1FBQ25CLFFBQVEsRUFBRSxJQUFJO1FBQ2QsSUFBSSxFQUFFLGNBQWMsQ0FBQyxZQUFZO1FBQ2pDLGFBQWEsRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFO1FBQ3RDLGlCQUFpQixFQUFFLG1CQUFtQixDQUFDLFFBQVEsRUFBRTtRQUNqRCxNQUFNLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRTtLQUM3QixDQUFDO0lBQ0YsTUFBTSxVQUFVLEdBQUcsTUFBTSxzREFDbEIsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxlQUFlLENBQUM7U0FDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQztTQUNiLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7SUFDNUIsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxLQUFLLEVBQUU7UUFDeEMsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0tBQ3pDO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFFbEIsQ0FBQztBQUdNLE1BQU0sU0FBUyxHQUFHLEtBQUssRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3BELE1BQU0sZ0JBQWdCLEdBQUc7UUFDckIsSUFBSSxFQUFDLEdBQUc7UUFDUixPQUFPLEVBQUMsRUFBRTtRQUNWLEtBQUssRUFBQyxJQUFJO0tBQ2I7SUFFRCxJQUFHO1FBQ0MsTUFBTSxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFDLFFBQVEsRUFBQyxXQUFXLEVBQUMsZUFBZSxFQUFDLGdCQUFnQixFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLEtBQUssRUFBQyxHQUFDLElBQUksQ0FBQztRQUMzSyxNQUFNLElBQUksR0FBRyxNQUFNLGlFQUFzQixDQUFDO1lBQ3RDLElBQUksRUFBQyxFQUFDLEtBQUssRUFBQyxZQUFZLEVBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFDLFdBQVcsRUFBQyxlQUFlLEVBQUMsZ0JBQWdCLEVBQUMsVUFBVSxFQUFDLFNBQVMsRUFBQztZQUNsSSxLQUFLLEVBQUM7Z0JBQ0YsTUFBTSxFQUFDLEVBQUU7YUFDWjtTQUNKLENBQUM7UUFFRixNQUFNLGdCQUFnQixHQUFHO1lBQ3JCLElBQUksRUFBRSxHQUFHLFNBQVMsYUFBVCxTQUFTLHVCQUFULFNBQVMsQ0FBRSxJQUFJLEVBQUUsR0FDeEIsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUcsVUFBVSxhQUFWLFVBQVUsdUJBQVYsVUFBVSxDQUFFLElBQUksRUFBRSxJQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FDaEQsR0FBRyxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsSUFBSSxFQUFFLEVBQUU7WUFDckIscUJBQXFCLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbEMsS0FBSyxFQUFFLGVBQWU7WUFDdEIsTUFBTSxFQUFFLFdBQVc7WUFDbkIsUUFBUSxFQUFFLElBQUk7WUFDZCxJQUFJLEVBQUUsU0FBUztZQUNmLGFBQWEsRUFBRSxLQUFLO1lBQ3BCLGlCQUFpQixFQUFFLGlCQUFpQjtZQUNwQyxNQUFNLEVBQUUsTUFBTTtTQUNmLENBQUM7UUFFSixNQUFNLFFBQVEsR0FBRyxNQUFNLHdCQUF3QixDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbEUsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztRQUN4QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztRQU14QyxJQUFHLE1BQU0sRUFBQztZQUNOLE1BQU0sUUFBUSxHQUFHLE1BQU0sd0VBQTZCLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUMvRSxNQUFNLHdCQUF3QixDQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsRUFBRSxDQUFDLENBQUM7U0FDdEQ7UUFNRixJQUFHLGlCQUFpQixFQUFDO1lBQ3BCLE1BQU0sTUFBTSxHQUFHLE1BQU0scUZBQTBDLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUMxRixNQUFNLG9CQUFvQixDQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxFQUFFLENBQUMsQ0FBQztTQUN4RDtRQU9BLElBQUcsS0FBSyxFQUFDO1lBQ0wsTUFBTSxTQUFTLEdBQUcsTUFBTSx3RUFBNkIsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO1lBQ2hGLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFDLFNBQVMsQ0FBQztZQUN6QixNQUFNLHVCQUF1QixDQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsRUFBRSxDQUFDLENBQUM7U0FDckQ7UUFDRCxNQUFNLG1CQUFtQixHQUFHLE1BQU0sbUVBQXdCLENBQUM7WUFDdkQsS0FBSyxFQUFDO2dCQUNGLE1BQU0sRUFBQyxFQUFFO2FBQ1o7WUFDRCxPQUFPLEVBQUM7Z0JBQ0osVUFBVSxFQUFFO29CQUNSLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7aUJBQzFCO2dCQUNELHVCQUF1QixFQUFDO29CQUNwQixPQUFPLEVBQUMsRUFBRSxNQUFNLEVBQUMsSUFBSSxFQUFFO2lCQUMxQjtnQkFDRCxVQUFVLEVBQUM7b0JBQ1AsT0FBTyxFQUFDLEVBQUUsSUFBSSxFQUFDLElBQUksRUFBRTtpQkFDeEI7YUFDSjtTQUNKLENBQUM7UUFFRixnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsaUVBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0tBQ2pFO0lBQ0csT0FBTSxDQUFDLEVBQUM7UUFDSixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixnQkFBZ0IsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQzVCLGdCQUFnQixDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3JDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7S0FDakM7SUFFRCxPQUFPLGdCQUFnQixDQUFDO0FBQzVCLENBQUM7QUFFRCxNQUFNLHdCQUF3QixHQUFHLEtBQUssRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxFQUFFO0lBQzdELE1BQU0sZUFBZSxHQUFHLEVBQUUsQ0FBQztJQUMzQixNQUFNLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztJQUM3QixNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFDLEVBQUU7UUFDbkIsTUFBTSxrQkFBa0IsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsa0JBQWtCLEVBQUMsRUFBRTtZQUMzRCxPQUFPLGtCQUFrQixDQUFDLE1BQU0sS0FBSyxJQUFJO1FBQzdDLENBQUMsQ0FBQztRQUNGLElBQUcsQ0FBQyxrQkFBa0IsRUFBQztZQUNuQixlQUFlLENBQUMsSUFBSSxDQUFDO2dCQUNqQixNQUFNLEVBQUMsTUFBTTtnQkFDYixNQUFNLEVBQUMsSUFBSTtnQkFDWCxVQUFVLEVBQUMsSUFBSSxJQUFJLEVBQUU7Z0JBQ3JCLFVBQVUsRUFBQyxJQUFJLElBQUksRUFBRTthQUN4QixDQUFDO1NBQ0w7SUFDTCxDQUFDLENBQUM7SUFFRixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLEVBQUMsRUFBRTtRQUNuQyxJQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBQztZQUMzQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDO1NBQ3BEO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsSUFBRyxlQUFlLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztRQUMxQixNQUFNLDBFQUErQixDQUFDLEVBQUMsSUFBSSxFQUFFLGVBQWUsRUFBQyxDQUFDO0tBQ2pFO0lBRUQsSUFBRyxpQkFBaUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1FBQzVCLE1BQU0sMEVBQStCLENBQUM7WUFDbEMsS0FBSyxFQUFFO2dCQUNMLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxpQkFBaUIsRUFBRTtnQkFDakMsTUFBTSxFQUFFLE1BQU07YUFDZjtTQUNGLENBQUM7S0FDUDtBQUNMLENBQUM7QUFFRCxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsTUFBTSxFQUFDLEVBQUU7SUFDOUQsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUV6QixpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUMsRUFBRTtRQUM1QixNQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQywrQkFBK0IsRUFBQyxFQUFFO1lBQ3BFLE9BQU8sK0JBQStCLENBQUMsUUFBUSxLQUFLLEVBQUU7UUFDMUQsQ0FBQyxDQUFDO1FBRUYsSUFBRyxDQUFDLGdCQUFnQixFQUFDO1lBQ2pCLFdBQVcsQ0FBQyxJQUFJLENBQUM7Z0JBQ2IsTUFBTSxFQUFDLE1BQU07Z0JBQ2IsUUFBUSxFQUFDLEVBQUU7Z0JBQ1gsVUFBVSxFQUFDLElBQUksSUFBSSxFQUFFO2dCQUNyQixVQUFVLEVBQUMsSUFBSSxJQUFJLEVBQUU7YUFDeEIsQ0FBQztTQUNMO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLCtCQUErQixFQUFDLEVBQUU7UUFDOUMsSUFBRyxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQywrQkFBK0IsQ0FBQyxRQUFRLENBQUMsRUFBQztZQUNyRSxhQUFhLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDLFFBQVEsQ0FBQztTQUMvRDtJQUNMLENBQUMsQ0FBQztJQUVGLElBQUcsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDdEIsTUFBTSx1RkFBNEMsQ0FBQztZQUMvQyxJQUFJLEVBQUUsV0FBVztTQUNwQixDQUFDO0tBQ0w7SUFFRCxJQUFHLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1FBQ3hCLE1BQU0sdUZBQTRDLENBQUM7WUFDL0MsS0FBSyxFQUFFO2dCQUNMLFFBQVEsRUFBRSxFQUFFLEVBQUUsRUFBRSxhQUFhLEVBQUU7Z0JBQy9CLE1BQU0sRUFBRSxNQUFNO2FBQ2Y7U0FDRixDQUFDO0tBQ1A7QUFDVCxDQUFDO0FBRUQsTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUMsU0FBUyxFQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsRUFBRTtJQUMzRCxNQUFNLGNBQWMsR0FBRyxFQUFFLENBQUM7SUFDMUIsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7SUFFNUIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBQyxFQUFFO1FBQ2xCLE1BQU0sbUJBQW1CLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLGtCQUFrQixFQUFDLEVBQUU7WUFDN0QsT0FBTyxrQkFBa0IsQ0FBQyxNQUFNLEtBQUssSUFBSTtRQUM3QyxDQUFDLENBQUM7UUFFRixJQUFHLENBQUMsbUJBQW1CLEVBQUM7WUFDcEIsY0FBYyxDQUFDLElBQUksQ0FBQztnQkFDaEIsTUFBTSxFQUFDLE1BQU07Z0JBQ2IsTUFBTSxFQUFDLElBQUk7Z0JBQ1gsVUFBVSxFQUFDLElBQUksSUFBSSxFQUFFO2dCQUNyQixVQUFVLEVBQUMsSUFBSSxJQUFJLEVBQUU7YUFDeEIsQ0FBQztTQUNMO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGtCQUFrQixFQUFDLEVBQUU7UUFDcEMsSUFBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLEVBQUM7WUFDMUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQztTQUNuRDtJQUNMLENBQUMsQ0FBQztJQUVGLElBQUcsY0FBYyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDekIsTUFBTSwwRUFBK0IsQ0FBQztZQUNsQyxJQUFJLEVBQUUsY0FBYztTQUN2QixDQUFDO0tBQ0w7SUFFRCxJQUFHLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDM0IsTUFBTSwwRUFBK0IsQ0FBQztZQUNsQyxLQUFLLEVBQUU7Z0JBQ0wsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLGdCQUFnQixFQUFFO2dCQUNoQyxNQUFNLEVBQUUsTUFBTTthQUNmO1NBQ0YsQ0FBQztLQUNQO0FBQ0wsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuUzhDO0FBQ3dDO0FBRWhGLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBRTVELE1BQU0sdUJBQXVCLEdBQUc7UUFDNUIsSUFBSSxFQUFFLEdBQUc7UUFDVCxPQUFPLEVBQUUsU0FBUztRQUNsQixTQUFTLEVBQUUsSUFBSTtLQUNsQjtJQUVELElBQUk7UUFDQSxNQUFNLGNBQWMsR0FBUSxFQUFFO1FBQzlCLGNBQWMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLGNBQWMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUNsQixFQUFFLFNBQVMsRUFBRSwyR0FBcUMsRUFBRSxFQUNwRCxFQUFFLFNBQVMsRUFBRSwyR0FBcUMsRUFBRSxFQUNwRCxFQUFFLFNBQVMsRUFBRSxrSEFBNEMsRUFBRSxFQUMzRCxFQUFFLFNBQVMsRUFBRSx3R0FBa0MsRUFBRSxFQUNqRCxFQUFFLFNBQVMsRUFBRSx3R0FBa0MsRUFBRSxDQUFDO1FBQ3RELE1BQU0sWUFBWSxHQUFHLE1BQU0sbUVBQXdCLENBQUM7WUFDaEQsS0FBSyxFQUFFLGNBQWM7U0FDeEIsQ0FBQztRQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO1FBQ3pCLHVCQUF1QixDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUM7S0FFcEQ7SUFDRCxPQUFPLENBQUMsRUFBRTtRQUNOLHVCQUF1QixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbkMsdUJBQXVCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDNUMsdUJBQXVCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztLQUM1QztJQUVELE9BQU8sdUJBQXVCLENBQUM7QUFDbkMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQzhDO0FBRXhDLE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3pELE1BQU0sRUFBQyxRQUFRLEVBQUMsR0FBRyxJQUFJO0lBRXZCLE1BQU0sbUJBQW1CLEdBQUc7UUFDMUIsSUFBSSxFQUFFLEdBQUc7UUFDVCxPQUFPLEVBQUUsRUFBRTtRQUNYLEtBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQztJQUVGLElBQUk7UUFDRixNQUFNLFFBQVEsR0FBRyxNQUFNLG1FQUF3QixDQUFDO1lBQzlDLEtBQUssRUFBRztnQkFDTixTQUFTLEVBQUMsUUFBUTthQUNuQjtZQUNELE9BQU8sRUFBRTtnQkFDUCxVQUFVLEVBQUU7b0JBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtpQkFDeEI7Z0JBQ0QsT0FBTyxFQUFFLElBQUk7Z0JBQ2IsdUJBQXVCLEVBQUU7b0JBQ3ZCLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7aUJBQzFCO2dCQUNELFVBQVUsRUFBRTtvQkFDVixPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO2lCQUN4QjthQUNGO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsbUJBQW1CLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNuRDtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxDQUFDO1FBQ2pCLG1CQUFtQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDL0IsbUJBQW1CLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFDeEMsbUJBQW1CLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztLQUNsQztJQUVELE9BQU8sbUJBQW1CLENBQUM7QUFDN0IsQ0FBQyxDQUFDO0FBRUssTUFBTSxXQUFXLEdBQUcsQ0FBQyxRQUFRLEVBQUUsRUFBRTtJQUN0QyxPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUMzQix1Q0FDSyxJQUFJLEtBQ1AsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7O2dCQUN2QyxPQUFPO29CQUNMLElBQUksRUFBRSxjQUFRLENBQUMsSUFBSSwwQ0FBRSxJQUFJO29CQUN6QixNQUFNLEVBQUUsY0FBUSxDQUFDLElBQUksMENBQUUsTUFBTTtvQkFDN0IsT0FBTyxFQUFFLGNBQVEsQ0FBQyxJQUFJLDBDQUFFLE9BQU87b0JBQy9CLFVBQVUsRUFBRSxjQUFRLENBQUMsSUFBSSwwQ0FBRSxVQUFVO29CQUNyQyxVQUFVLEVBQUUsY0FBUSxDQUFDLElBQUksMENBQUUsVUFBVTtvQkFDckMsRUFBRSxFQUFFLGNBQVEsQ0FBQyxJQUFJLDBDQUFFLEVBQUU7aUJBQ3RCLENBQUM7WUFDSixDQUFDLENBQUMsRUFDRixLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTs7Z0JBQ3ZDLE9BQU87b0JBQ0wsSUFBSSxFQUFFLGVBQVMsQ0FBQyxJQUFJLDBDQUFFLElBQUk7b0JBQzFCLFVBQVUsRUFBRSxlQUFTLENBQUMsSUFBSSwwQ0FBRSxVQUFVO29CQUN0QyxnQkFBZ0IsRUFBRSxlQUFTLENBQUMsSUFBSSwwQ0FBRSxnQkFBZ0I7b0JBQ2xELFFBQVEsRUFBRSxlQUFTLENBQUMsSUFBSSwwQ0FBRSxRQUFRO29CQUNsQyxVQUFVLEVBQUUsZUFBUyxDQUFDLElBQUksMENBQUUsVUFBVTtvQkFDdEMsT0FBTyxFQUFFLGVBQVMsQ0FBQyxJQUFJLDBDQUFFLE9BQU87b0JBQ2hDLFNBQVMsRUFBRSxlQUFTLENBQUMsSUFBSSwwQ0FBRSxTQUFTO29CQUNwQyxVQUFVLEVBQUUsZUFBUyxDQUFDLElBQUksMENBQUUsVUFBVTtvQkFDdEMsRUFBRSxFQUFFLGVBQVMsQ0FBQyxJQUFJLDBDQUFFLEVBQUU7b0JBQ3RCLGVBQWUsRUFBRSxlQUFTLENBQUMsSUFBSSwwQ0FBRSxlQUFlO2lCQUNqRCxDQUFDO1lBQ0osQ0FBQyxDQUFDLEVBQ0YsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsQ0FDakQsQ0FBQyxzQkFBc0IsRUFBRSxFQUFFOztnQkFDekIsT0FBTztvQkFDTCxRQUFRLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxRQUFRO29CQUNqRCxJQUFJLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxJQUFJO29CQUN6QyxPQUFPLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxPQUFPO29CQUMvQyxVQUFVLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxVQUFVO29CQUNyRCxVQUFVLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxVQUFVO29CQUNyRCxNQUFNLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxNQUFNO29CQUM3QyxPQUFPLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxPQUFPO29CQUMvQyxVQUFVLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxVQUFVO29CQUNyRCxJQUFJLEVBQUUsNEJBQXNCLENBQUMsTUFBTSwwQ0FBRSxJQUFJO2lCQUMxQyxDQUFDO1lBQ0osQ0FBQyxDQUNGLElBQ0Q7SUFDSixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyRjZDO0FBQ2lCO0FBRXpELE1BQU0sV0FBVyxHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxFQUFFO0lBQ3pELE1BQU0sRUFBRSxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFcEIsSUFBSTtRQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0scUVBQTBCLENBQUM7WUFDbkQsS0FBSyxFQUFFO2dCQUNMLE1BQU0sRUFBRSxFQUFFO2FBQ1g7WUFDRCxPQUFPLEVBQUU7Z0JBQ1AsVUFBVSxFQUFFO29CQUNWLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7aUJBQ3hCO2dCQUNELE9BQU8sRUFBRSxJQUFJO2dCQUNiLHVCQUF1QixFQUFFO29CQUN2QixPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2lCQUMxQjtnQkFDRCxVQUFVLEVBQUU7b0JBQ1YsT0FBTyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtpQkFDeEI7YUFDRjtTQUNGLENBQUMsQ0FBQztRQUVILHVFQUF1QixHQUFHLEdBQUcsQ0FBQztRQUM5Qix1RUFBdUIsbUNBQ2xCLFdBQVcsS0FDZCxNQUFNLEVBQUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtnQkFDOUMsT0FBTztvQkFDTCxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJO29CQUN4QixNQUFNLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNO29CQUM1QixPQUFPLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPO29CQUM5QixVQUFVLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVO29CQUNwQyxVQUFVLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVO29CQUNwQyxFQUFFLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO2lCQUNyQixDQUFDO1lBQ0osQ0FBQyxDQUFDLEVBQ0YsS0FBSyxFQUFFLFdBQVcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQzlDLE9BQU87b0JBQ0wsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSTtvQkFDekIsVUFBVSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVTtvQkFDckMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFBZ0I7b0JBQ2pELFFBQVEsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVE7b0JBQ2pDLFVBQVUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7b0JBQ3JDLE9BQU8sRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU87b0JBQy9CLFNBQVMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVM7b0JBQ25DLFVBQVUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVU7b0JBQ3JDLEVBQUUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3JCLGVBQWUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLGVBQWU7aUJBQ2hELENBQUM7WUFDSixDQUFDLENBQUMsRUFDRixpQkFBaUIsRUFBRSxXQUFXLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUN4RCxDQUFDLHNCQUFzQixFQUFFLEVBQUU7Z0JBQ3pCLE9BQU87b0JBQ0wsUUFBUSxFQUFFLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxRQUFRO29CQUNoRCxJQUFJLEVBQUUsc0JBQXNCLENBQUMsTUFBTSxDQUFDLElBQUk7b0JBQ3hDLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsT0FBTztvQkFDOUMsVUFBVSxFQUFFLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxVQUFVO29CQUNwRCxVQUFVLEVBQUUsc0JBQXNCLENBQUMsTUFBTSxDQUFDLFVBQVU7b0JBQ3BELE1BQU0sRUFBRSxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsTUFBTTtvQkFDNUMsT0FBTyxFQUFFLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxPQUFPO29CQUM5QyxVQUFVLEVBQUUsc0JBQXNCLENBQUMsTUFBTSxDQUFDLFVBQVU7b0JBQ3BELElBQUksRUFBRSxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsSUFBSTtpQkFDekMsQ0FBQztZQUNKLENBQUMsQ0FDRixHQUNGLENBQUM7S0FDSDtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsdUVBQXVCLEdBQUcsR0FBRyxDQUFDO1FBQzlCLDBFQUEwQixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDeEM7SUFDRCxPQUFPLGtFQUFrQixDQUFDO0FBQzVCLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3pFeUU7QUFFcEUsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNwRSxNQUFNLHFCQUFxQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUNyRSxJQUFJO1FBQ0YsTUFBTSxXQUFXLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxxQkFBcUIsQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDO1FBQ3pDLHFCQUFxQixDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7S0FDM0M7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLHFCQUFxQixDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDakMscUJBQXFCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7S0FDM0M7SUFDRCxPQUFPLHFCQUFxQixDQUFDO0FBQy9CLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ2I2QztBQUV4QyxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ2pFLE9BQU87UUFDTCxNQUFNLEVBQUUsb0VBQXlCLEVBQUU7UUFDbkMsV0FBVyxFQUFFLHdFQUE2QixFQUFFO1FBQzVDLEtBQUssRUFBRSxtRUFBd0IsRUFBRTtRQUNqQyxRQUFRLEVBQUUscUVBQTBCLEVBQUU7UUFDdEMsaUJBQWlCLEVBQUUsK0VBQW9DLEVBQUU7S0FDMUQsQ0FBQztBQUNKLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1YwQztBQUNiO0FBQ2lDO0FBQ2pCO0FBQ007QUFFOUMsTUFBTSxrQkFBa0IsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsRUFBRTs7SUFDaEUsSUFBSTtRQUNGLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDaEMsTUFBTSxRQUFRLEdBQUcsMERBQVUsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRTtZQUNwRSxnQkFBZ0IsRUFBRSxJQUFJO1NBQ3ZCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRTtZQUNyQyxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztTQUNsRDtRQUVELE1BQU0sS0FBSyxHQUFHLG9CQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsT0FBTywwQ0FBRSxlQUFlLDBDQUFFLFdBQVcsRUFBRSxDQUFDO1FBQ2hFLE1BQU0sSUFBSSxHQUFHLE1BQU0sb0VBQXlCLENBQUM7WUFDM0MsS0FBSyxFQUFFLEVBQUUsZUFBZSxFQUFFLEtBQUssRUFBRTtZQUNqQyxPQUFPLEVBQUU7Z0JBQ1AsT0FBTyxFQUFFLElBQUk7YUFDZDtTQUNGLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUM1QztRQUVELE1BQU0sT0FBTyxHQUFHLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxZQUFZLENBQUM7UUFDbkMsSUFBSSxPQUFPLEtBQUssS0FBSyxFQUFFO1lBQ3JCLE1BQU0saUVBQXNCLENBQUM7Z0JBQzNCLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsTUFBTSxFQUFFO2dCQUMvQixJQUFJLEVBQUU7b0JBQ0osWUFBWSxFQUFFLElBQUk7aUJBQ25CO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUMzQixNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO1FBQ2hDLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakMsTUFBTSxJQUFJLEdBQVEsRUFBRSxDQUFDO1FBQ3JCLElBQUksTUFBTSxHQUFHLE9BQU8sRUFBRTtZQUNwQixNQUFNLGlFQUFzQixDQUFDO2dCQUMzQixLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE1BQU0sRUFBRTtnQkFDL0IsSUFBSSxFQUFFO29CQUNKLFlBQVksRUFBRSxJQUFJO2lCQUNuQjthQUNGLENBQUMsQ0FBQztZQUNILE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxrQ0FBa0MsQ0FBQyxDQUFDO1NBQzlEO1FBQ0QsTUFBTSxVQUFVLEdBQUcsc0VBQUksQ0FDckI7WUFDRSxFQUFFLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE1BQU07WUFDaEIsZUFBZSxFQUFFLEtBQUs7WUFDdEIsSUFBSSxFQUFFLFVBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxPQUFPLDBDQUFFLFlBQVk7WUFDakMsV0FBVyxFQUFFLGlFQUFxQixDQUFDLFVBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxPQUFPLDBDQUFFLFdBQVcsQ0FBQztTQUMvRCxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQ2pDLENBQUM7UUFFRixNQUFNLFlBQVksR0FBRyxzRUFBSSxDQUN2QjtZQUNFLEVBQUUsRUFBRSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsTUFBTTtZQUNoQixlQUFlLEVBQUUsS0FBSztZQUN0QixJQUFJLEVBQUUsVUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE9BQU8sMENBQUUsWUFBWTtTQUNsQyxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQ2xDLENBQUM7UUFFRixNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQ2pFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUMzRCxNQUFNLFFBQVEsR0FBRyxHQUFHLFNBQVMsR0FDM0IsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FDeEMsR0FBRyxRQUFRLEVBQUUsQ0FBQztRQUVkLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE9BQU8sMENBQUUsWUFBWSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLFNBQVMsQ0FBQztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxlQUFlLENBQUM7UUFFbkMsTUFBTSxpRUFBc0IsQ0FBQztZQUMzQixLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE1BQU0sRUFBRTtZQUMvQixJQUFJLEVBQUU7Z0JBQ0osYUFBYSxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN6QixZQUFZLEVBQUUsWUFBWTthQUMzQjtTQUNGLENBQUMsQ0FBQztRQUVILE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7S0FDaEQ7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RHdUU7QUFFbEUsTUFBTSxlQUFlLEdBQUcsR0FBRyxFQUFFO0lBQ2xDLElBQUk7UUFDRixNQUFNLE1BQU0sR0FBRywrRUFBVyxDQUFDO1lBQ3pCLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtZQUN4QyxZQUFZLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7WUFDN0MsY0FBYyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCO1NBQ2xELENBQUMsQ0FBQztRQUVILE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUM7WUFDakMsZ0RBQWdEO1lBQ2hELGtEQUFrRDtTQUNuRCxDQUFDLENBQUM7UUFFSCxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztLQUNwRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixNQUFNLEtBQUssQ0FBQztLQUNiO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcEIwQztBQUM2QjtBQUl2QjtBQUMrQjtBQUNsQztBQUNNO0FBRTlDLE1BQU0sdUJBQXVCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUU7O0lBQ3JFLElBQUk7UUFDRixNQUFNLE1BQU0sR0FBRywrRUFBVyxDQUFDO1lBQ3pCLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtZQUN4QyxZQUFZLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7WUFDN0MsY0FBYyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCO1NBQ2xELENBQUMsQ0FBQztRQUNILE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkIsTUFBTSxLQUFLLEdBQUcsTUFBTSxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hELE1BQU0sUUFBUSxHQUFHLHdGQUFzQixDQUFDLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxRQUFRLENBQUMsQ0FBQztRQUV6RCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRTtZQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsNkNBQTZDLENBQUMsQ0FBQztTQUN6RTtRQUVELE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFM0MsTUFBTSx1RkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVoQyxNQUFNLElBQUksR0FBRyxNQUFNLG9FQUF5QixDQUFDO1lBQzNDLEtBQUssRUFBRSxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUU7WUFDakMsT0FBTyxFQUFFO2dCQUNQLE9BQU8sRUFBRSxJQUFJO2FBQ2Q7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCxvS0FBb0ssQ0FDckssQ0FBQztTQUNIO1FBRUQsTUFBTSxVQUFVLEdBQUcsc0VBQUksQ0FDckI7WUFDRSxFQUFFLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE1BQU07WUFDaEIsZUFBZSxFQUFFLEtBQUs7WUFDdEIsSUFBSSxFQUFFLFVBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxPQUFPLDBDQUFFLFlBQVk7WUFDakMsV0FBVyxFQUFFLGlFQUFxQixDQUFDLFVBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxPQUFPLDBDQUFFLFdBQVcsQ0FBQztTQUMvRCxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQ2pDLENBQUM7UUFFRixNQUFNLFlBQVksR0FBRyxzRUFBSSxDQUN2QjtZQUNFLEVBQUUsRUFBRSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsTUFBTTtZQUNoQixlQUFlLEVBQUUsS0FBSztZQUN0QixJQUFJLEVBQUUsVUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLE9BQU8sMENBQUUsWUFBWTtTQUNsQyxFQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQ2xDLENBQUM7UUFFRixNQUFNLGlFQUFzQixDQUFDO1lBQzNCLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsTUFBTSxFQUFFO1lBQy9CLElBQUksRUFBRTtnQkFDSixhQUFhLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3pCLFlBQVksRUFBRSxZQUFZO2FBQzNCO1NBQ0YsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBQzlELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNqRSxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDM0QsTUFBTSxRQUFRLEdBQUcsR0FBRyxTQUFTLEdBQzNCLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQ3hDLEdBQUcsUUFBUSxFQUFFLENBQUM7UUFDZCxNQUFNLElBQUksR0FBRztZQUNYLFVBQVU7WUFDVixZQUFZO1lBQ1osSUFBSSxFQUFFLFVBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxPQUFPLDBDQUFFLFlBQVk7WUFDakMsTUFBTSxFQUFFLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxTQUFTO1lBQ3ZCLFFBQVE7WUFDUixLQUFLLEVBQUUsSUFBSSxhQUFKLElBQUksdUJBQUosSUFBSSxDQUFFLGVBQWU7U0FDN0IsQ0FBQztRQUVGLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7S0FDaEQ7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsTUFBTSxLQUFLLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMUZpRDtBQUNlO0FBQ1k7QUFDTTtBQUNsQztBQUNKO0FBQ007QUFDYztBQUNJO0FBQ1Y7QUFDUjtBQUU3QyxNQUFNLGFBQWEsR0FBRztJQUMzQixLQUFLLEVBQUU7UUFDTCxrQkFBa0IsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDbEUsOEVBQWtCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDNUMsZUFBZSxFQUFFLEdBQUcsRUFBRSxDQUFDLDBGQUFlLEVBQUU7UUFDeEMsdUJBQXVCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3ZFLGdHQUF1QixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ2pELGtCQUFrQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNsRSwrRUFBa0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUM1QyxXQUFXLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzNELGlFQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDckMsb0JBQW9CLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3BFLG1GQUFvQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzlDLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDL0QseUVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN6QyxXQUFXLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3pELGtFQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7S0FDeEM7SUFDRCxRQUFRLEVBQUU7UUFDUixVQUFVLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNwRCwrREFBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ25DLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDdkQsMkRBQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUNsQztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDckNLLE1BQU0sWUFBWSxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0ozQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNwSkssTUFBTSxxQkFBcUIsR0FBRyxDQUFDLFFBQVEsRUFBRSxFQUFFO0lBQ2hELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDdkQsUUFBUSxJQUFJLEVBQUU7UUFDWixLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO1lBQ3hCLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRW5ELEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDekIsSUFBSSxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFcEQsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQztZQUM5QixJQUFJLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUxRCxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO1lBQzdCLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpELEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7WUFDOUIsSUFBSSxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFekQsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQztZQUNqQyxJQUFJLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDO1lBQzlCLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRXpELEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUM7WUFDakMsSUFBSSxHQUFHLHNCQUFzQixDQUFDLElBQUksRUFBRSxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFN0QsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQztZQUM5QixJQUFJLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUUxRCxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDO1lBQ2pDLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdELEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQztZQUNwQyxJQUFJLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxFQUFFLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxDQUFDO0tBRWxFO0lBQ0QsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQztJQUM3QixPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsRUFBRTtJQUM3RCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUVGLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBRTtJQUN4QyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDOUIsS0FBSyxNQUFNLEdBQUcsSUFBSSxPQUFPLEVBQUU7WUFDekIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO2dCQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRTtvQkFDeEIsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ3JCO3FCQUFNO29CQUNMLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUNqQzthQUNGO1NBQ0Y7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzRHdFO0FBQzBCO0FBRTdGLE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3pELElBQUksMkJBQTJCLENBQUM7SUFFaEMsSUFBSTtRQUNBLElBQUksR0FBRyxDQUFDO1FBQ1IsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUM7UUFDOUMsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtZQUMvQixLQUFLLENBQUMsQ0FBQztZQUNQLEtBQUssQ0FBQztnQkFDRixHQUFHLEdBQUcsTUFBTSwwR0FBb0IsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTTtZQUNWO2dCQUNJLDJCQUEyQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUU7Z0JBQ3RHLE9BQU8sMkJBQTJCLENBQUM7U0FFMUM7UUFFRCwyQkFBMkIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBQyxHQUFHLEVBQUcsYUFBYSxFQUFDLElBQUksQ0FBQyxhQUFhLEVBQUM7UUFDM0gsT0FBTywyQkFBMkIsQ0FBQztLQUV0QztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25FLE9BQU8sMkJBQTJCLENBQUM7S0FDdEM7QUFDTCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM0J3RTtBQUM0QjtBQUUvRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBRTFELElBQUksd0JBQXdCLENBQUM7SUFFN0IsSUFBSTtRQUNBLElBQUksR0FBRyxDQUFDO1FBQ1IsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUM7UUFDOUMsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtZQUMvQixLQUFLLENBQUMsQ0FBQztZQUNQLEtBQUssQ0FBQztnQkFDRixHQUFHLEdBQUcsTUFBTSw0R0FBcUIsQ0FBQyxJQUFJLENBQUM7Z0JBQ3ZDLE1BQU07WUFDVjtnQkFDSSx3QkFBd0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGdEQUFnRCxFQUFFO2dCQUNuRyxPQUFPLHdCQUF3QixDQUFDO1NBRXZDO1FBQ0Qsd0JBQXdCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtRQUN4RSxPQUFPLHdCQUF3QixDQUFDO0tBRW5DO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWix3QkFBd0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDaEUsT0FBTyx3QkFBd0IsQ0FBQztLQUVuQztBQUNMLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM1QndFO0FBQ2tCO0FBRXJGLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBRXBELE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFDdkIsSUFBSSxrQkFBa0IsQ0FBQztJQUV2QixJQUFJO1FBQ0EsSUFBSSxHQUFHLENBQUM7UUFDUixNQUFNLElBQUksR0FBRyxNQUFNLGlGQUFZLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQztRQUM5QyxRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFO1lBQy9CLEtBQUssQ0FBQyxDQUFDO1lBQ1AsS0FBSyxDQUFDO2dCQUNGLEdBQUcsR0FBRyxNQUFNLGtHQUFnQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7Z0JBQ3pDLE1BQU07WUFDVjtnQkFDSSxrQkFBa0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLGdEQUFnRCxFQUFFO2dCQUM3RixPQUFPLGtCQUFrQixDQUFDO1NBRWpDO1FBQ0Qsa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxVQUFVLEVBQUcsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRTtRQUM5SSxPQUFPLGtCQUFrQjtLQUU1QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osa0JBQWtCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQzFELE9BQU8sa0JBQWtCO0tBQzVCO0FBQ0wsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzVCd0U7QUFDaUI7QUFFcEYsTUFBTSxXQUFXLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFFckQsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQztJQUN2QixJQUFJLG1CQUFtQixDQUFDO0lBRXhCLElBQUk7UUFDQSxJQUFJLEdBQUcsQ0FBQztRQUNSLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDO1FBQzlDLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7WUFDL0IsS0FBSyxDQUFDLENBQUM7WUFDUCxLQUFLLENBQUM7Z0JBQ0YsR0FBRyxHQUFHLE1BQU0sa0dBQWdCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztnQkFDekMsTUFBTTtZQUNWO2dCQUNJLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUU7Z0JBQzlGLE9BQU8sbUJBQW1CLENBQUM7U0FDbEM7UUFFRCxtQkFBbUIsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO1FBQ2xFLE9BQU8sbUJBQW1CLENBQUM7S0FDOUI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNaLG1CQUFtQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUMzRCxPQUFPLG1CQUFtQixDQUFDO0tBRTlCO0FBQ0wsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzVCd0U7QUFDb0I7QUFFdkYsTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7SUFDdEQsSUFBSSxvQkFBb0IsQ0FBQztJQUV6QixNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBRXZCLElBQUk7UUFDQSxJQUFJLEdBQUcsQ0FBQztRQUNSLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDO1FBQzlDLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7WUFDL0IsS0FBSyxDQUFDLENBQUM7WUFDUCxLQUFLLENBQUM7Z0JBQ0YsR0FBRyxHQUFHLE1BQU0sb0dBQWlCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztnQkFDMUMsTUFBTTtZQUNWO2dCQUNJLG9CQUFvQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUU7Z0JBQy9GLE9BQU8sb0JBQW9CLENBQUM7U0FFbkM7UUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUNoQixvQkFBb0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsZ0JBQWdCLEVBQUcsaUJBQWlCLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixFQUFDO1FBQ3JLLE9BQU8sb0JBQW9CLENBQUM7S0FFL0I7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNaLG9CQUFvQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRTtRQUM1RCxPQUFPLG9CQUFvQixDQUFDO0tBQy9CO0FBQ0wsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQzlCd0U7QUFDa0M7QUFFckcsTUFBTSxtQkFBbUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUM3RCxJQUFJLDJCQUEyQixDQUFDO0lBRWhDLElBQUk7UUFDQSxJQUFJLEdBQUcsQ0FBQztRQUNSLE1BQU0sSUFBSSxHQUFHLE1BQU0saUZBQVksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDO1FBQzlDLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7WUFDL0IsS0FBSyxDQUFDLENBQUM7WUFDUCxLQUFLLENBQUM7Z0JBQ0YsR0FBRyxHQUFHLE1BQU0sa0hBQXdCLENBQUMsSUFBSSxDQUFDO2dCQUMxQyxNQUFNO1lBQ1Y7Z0JBQ0ksMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxnREFBZ0QsRUFBRTtnQkFDdEcsT0FBTywyQkFBMkIsQ0FBQztTQUUxQztRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ2hCLDJCQUEyQixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7UUFDMUUsT0FBTywyQkFBMkIsQ0FBQztLQUV0QztJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ1osMkJBQTJCLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsT0FBTyxFQUFFO1FBQ25FLE9BQU8sMkJBQTJCLENBQUM7S0FDdEM7QUFDTCxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUJ3RTtBQUM0QjtBQUUvRixNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBRTFELElBQUksd0JBQXdCLENBQUM7SUFHN0IsSUFBSTtRQUNBLElBQUksR0FBRyxDQUFDO1FBQ1IsTUFBTSxJQUFJLEdBQUcsTUFBTSxpRkFBWSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUM7UUFDOUMsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtZQUMvQixLQUFLLENBQUMsQ0FBQztZQUNQLEtBQUssQ0FBQztnQkFDRixHQUFHLEdBQUcsTUFBTSw0R0FBcUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQztnQkFDeEQsTUFBTTtZQUNWO2dCQUNJLHdCQUF3QixHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsZ0RBQWdELEVBQUU7Z0JBQ25HLE9BQU8sd0JBQXdCLENBQUM7U0FHdkM7UUFDRCx3QkFBd0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLGVBQWUsRUFBRTtRQUN2RixPQUFPLHdCQUF3QixDQUFDO0tBRW5DO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWix3QkFBd0IsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFDaEUsT0FBTyx3QkFBd0IsQ0FBQztLQUNuQztBQUNMLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0JpRDtBQUNDO0FBQ0Y7QUFDWTtBQUNBO0FBQ1I7QUFDYztBQUNSO0FBRXJELE1BQU0sZUFBZSxHQUFHO0lBQzNCLEtBQUssRUFBRTtRQUNILFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDN0QsaUVBQVcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUNuQyxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzVELCtEQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDbEMsZ0JBQWdCLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ2xFLDJFQUFnQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQ3hDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBb0IsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUNsRSwyRUFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztRQUN4QyxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQzlELG1FQUFZLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUM7UUFDcEMsbUJBQW1CLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFvQixFQUFFLE9BQU8sRUFBRSxFQUFFLENBQ3JFLGlGQUFtQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1FBQzNDLGVBQWUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQW9CLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FDakUseUVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQztLQUMxQztJQUNELFFBQVEsRUFBRSw2REFBZ0I7Q0FDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDM0JHLE1BQU0sY0FBYyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBdUQ3Qjs7Ozs7Ozs7Ozs7Ozs7O0FDdkRELE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7QUFFM0IsSUFBSSxLQUFnQixFQUFFLEVBRXJCO0FBRUQsaUVBQWUsTUFBTSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTlM7QUFDYTtBQUVyQyxNQUFNLElBQUksR0FBRyxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDdkQsSUFBSTtRQUNGLE1BQU0sT0FBTyxHQUFHO1lBQ2QsU0FBUztZQUNULE1BQU0sRUFBRSx3QkFBd0I7U0FDakMsQ0FBQztRQUNGLE9BQU8sd0RBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDOUQ7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0tBQ2pEO0FBQ0gsQ0FBQyxDQUFDO0FBRUssTUFBTSxNQUFNLEdBQUcsQ0FBQyxXQUFXLEVBQUUsTUFBTSxFQUFFLEVBQUU7SUFDNUMsSUFBSTtRQUNGLE1BQU0sT0FBTyxHQUFHLDBEQUFVLENBQUMsV0FBVyxFQUFFLE1BQU0sRUFBRSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDNUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUMsT0FBTyxDQUFDO1FBQ3hCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQztLQUN4QjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQzFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUssTUFBTSxtQkFBbUIsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsRUFBRTtJQUNqRCxJQUFJO1FBQ0YsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDeEMsT0FBTyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQzlCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDLENBQUM7S0FDMUM7QUFDSCxDQUFDLENBQUM7QUFDSyxNQUFNLHNCQUFzQixHQUFHLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDOUMsSUFBSTtRQUNGLE9BQU8sMERBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUMxQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQzFDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN2QzBDO0FBQ0E7QUFDVztBQUMyQjtBQUUzRSxTQUFTLGNBQWM7SUFDNUIsT0FBTztRQUNMLDRHQUF5QztRQUN6Qyx5R0FBc0M7UUFDdEMsc0dBQW1DO1FBQ25DLGdIQUE2QztRQUM3QyxzR0FBbUM7UUFDbkMseUdBQXNDO1FBQ3RDLDRHQUF5QztRQUN6QywwR0FBdUM7UUFDdkMsK0dBQTRDO1FBQzVDLDJGQUF3QjtRQUN4QixxR0FBa0M7UUFDbEMsbUdBQWdDO1FBQ2hDLHdHQUFxQztRQUNyQyxzR0FBbUM7UUFJbkMseUdBQXNDO1FBQ3RDLHVHQUFvQztLQUNyQyxDQUFDO0FBQ0osQ0FBQztBQUVNLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO0lBQ2hELElBQUk7UUFDRixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4QixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLElBQ0UsTUFBTSxDQUFDLFdBQVcsRUFBRSxLQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYTtZQUNsRCxNQUFNLENBQUMsV0FBVyxFQUFFLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsRUFDekQ7WUFDQSxNQUFNLElBQUksNERBQVMsQ0FDakIsR0FBRyxFQUNILG1EQUFtRCxDQUNwRCxDQUFDO1NBQ0g7S0FDRjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDLENBQUM7QUFFSyxNQUFNLFNBQVMsR0FBRyxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxFQUFFLEVBQUU7O0lBQzVELElBQUk7UUFDRixJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxVQUFJLGFBQUosSUFBSSx1QkFBSixJQUFJLENBQUUsT0FBTywwQ0FBRSxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNwRSxPQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7WUFDL0MsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1NBQzFDO0tBQ0Y7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEQsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDO0FBRUssTUFBTSxZQUFZLEdBQUcsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUNqRCxJQUFJO1FBQ0YsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDNUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNWLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUMxQztRQUNELE1BQU0sT0FBTyxHQUFHLE1BQU0sbUVBQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3RFLE1BQU0sRUFBRSxHQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxFQUFFLENBQUM7UUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVyQixJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1AsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUMzQixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQy9CLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLE1BQU0sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakMsSUFBSSxNQUFNLEdBQUcsT0FBTyxFQUFFO1lBQ3BCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztTQUMzQztRQUVELElBQUksSUFBSSxDQUFDO1FBQ1QsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ2hCLElBQUksR0FBRyxNQUFNLHVFQUE0QixDQUFDO2dCQUN4QyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFO2FBQzFCLENBQUMsQ0FBQztTQUNKO2FBQU0sSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQ3ZCLE1BQU0sa0JBQWtCLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2xELElBQUksR0FBRyxNQUFNLG9FQUF5QixDQUFDO2dCQUNyQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFO2dCQUNyQixPQUFPLEVBQUU7b0JBQ1AsT0FBTyxFQUFFLElBQUk7b0JBQ2IsVUFBVSxFQUFFLElBQUk7b0JBQ2hCLHVCQUF1QixFQUFFLElBQUk7b0JBQzdCLFVBQVUsRUFBRSxJQUFJO2lCQUNqQjthQUNGLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDUixPQUFPLElBQUksQ0FBQztTQUNiO2FBQU07WUFDTCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDMUM7S0FDRjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDLENBQUM7QUFFSyxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNoRCxJQUFJO1FBQ0YsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDbEQsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNoQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDMUM7UUFDRCxNQUFNLFdBQVcsR0FBRyxNQUFNLG1FQUFNLENBQzlCLFdBQVcsRUFDWCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUNqQyxDQUFDO1FBQ0YsTUFBTSxFQUFFLEdBQUcsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1AsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsTUFBTSxXQUFXLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUMvQixNQUFNLFlBQVksR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDO1FBQ3JDLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLFNBQVMsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDdEMsSUFBSSxTQUFTLEdBQUcsV0FBVyxFQUFFO1lBQzNCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztTQUMzQztRQUNELElBQUksUUFBUSxDQUFDO1FBQ2IsSUFBSSxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsYUFBYSxFQUFFO1lBQzlCLFFBQVEsR0FBRyxNQUFNLHVFQUE0QixDQUFDO2dCQUM1QyxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLGFBQWEsRUFBRTthQUNyRCxDQUFDLENBQUM7U0FDSjtRQUNELElBQUksSUFBSSxDQUFDO1FBQ1QsSUFBSSxXQUFXLGFBQVgsV0FBVyx1QkFBWCxXQUFXLENBQUUsZUFBZSxFQUFFO1lBQ2hDLElBQUksR0FBRyxNQUFNLG9FQUF5QixDQUFDO2dCQUNyQyxLQUFLLEVBQUUsRUFBRSxlQUFlLEVBQUUsV0FBVyxDQUFDLGVBQWUsRUFBRTtnQkFDdkQsT0FBTyxFQUFFO29CQUNQLFVBQVUsRUFBRSxJQUFJO29CQUNoQix1QkFBdUIsRUFBRSxJQUFJO29CQUM3QixVQUFVLEVBQUUsSUFBSTtpQkFDakI7YUFDRixDQUFDLENBQUM7U0FDSjtRQUNELElBQUksSUFBSSxFQUFFO1lBQ1IsTUFBTSxrQkFBa0IsQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDdkQ7UUFDRCxJQUFJLFFBQVEsSUFBSSxJQUFJLEVBQUU7WUFDcEIsT0FBTyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQztTQUMzQjthQUFNO1lBQ0wsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLGNBQWMsQ0FBQyxDQUFDO1NBQzFDO0tBQ0Y7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEtzQztBQUNMO0FBRW5DLE1BQU0sS0FBSztJQUtULFlBQVksT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUTtRQUMvQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxXQUFXO1FBQ2pFLElBQUksUUFBUSxDQUFDO1FBQ2IsSUFBSTtZQUNGLE1BQU0sYUFBYSxHQUFHLElBQUksb0NBQU8sQ0FBQztnQkFDaEMsS0FBSyxFQUFFLFNBQVM7Z0JBQ2hCLE9BQU8sRUFBRTtvQkFDUCxJQUFJLEVBQUUsU0FBUztvQkFDZixJQUFJLEVBQUUsNkJBQTZCO29CQUNuQyxJQUFJLEVBQ0YsaUdBQWlHO2lCQUNwRzthQUNGLENBQUMsQ0FBQztZQUVILE1BQU0sS0FBSyxHQUFHO2dCQUNaLElBQUksRUFBRTtvQkFDSixRQUFRLEVBQUUsTUFBTTtvQkFDaEIsSUFBSTtvQkFDSixLQUFLLEVBQUUsSUFBSTtvQkFDWCxTQUFTLEVBQUUsWUFBWTtpQkFDeEI7YUFDRixDQUFDO1lBRUYsTUFBTSxXQUFXLEdBQUcsdURBQTBCLENBQUM7Z0JBQzdDLElBQUksRUFBRSxxQ0FBcUM7Z0JBQzNDLElBQUksRUFBRSxHQUFHO2dCQUNULE1BQU0sRUFBRSxJQUFJO2dCQUNaLElBQUksRUFBRTtvQkFDSixJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVE7b0JBQ25CLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUTtpQkFDcEI7YUFDRixDQUFDLENBQUM7WUFHSCxNQUFNLFdBQVcsR0FBRztnQkFDbEIsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVEsTUFBTSxJQUFJLENBQUMsT0FBTyxHQUFHO2dCQUM1QyxFQUFFO2dCQUNGLEVBQUU7Z0JBQ0YsT0FBTztnQkFDUCxJQUFJLEVBQUUsYUFBYSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQztnQkFDNUMsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsV0FBVyxFQUFFLFdBQVc7YUFDekIsQ0FBQztZQUVGLE1BQU0sV0FBVyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUN4QyxRQUFRLEdBQUcsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUM7U0FDeEM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDcEQ7UUFDSCxPQUFPLFFBQVE7SUFDZixDQUFDO0NBQ0Y7QUFFRCxpRUFBZSxLQUFLLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuRVU7QUFDYTtBQUVyQyxNQUFNLE1BQU0sR0FBRyxDQUFDLFlBQVksRUFBRSxFQUFFO0lBQ3JDLGtEQUFpQixDQUFDO1FBQ2hCLFdBQVcsRUFBRSxZQUFZLENBQUMsV0FBVztRQUNyQyxlQUFlLEVBQUUsWUFBWSxDQUFDLGVBQWU7UUFDN0MsTUFBTSxFQUFFLFlBQVksQ0FBQyxNQUFNO0tBQzVCLENBQUMsQ0FBQztJQUVILE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFnQixFQUFFO1FBQ3hFLE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyRSxNQUFNLElBQUksR0FBUTtZQUNoQixHQUFHLEVBQUUsR0FBRztZQUNSLElBQUksRUFBRSxJQUFJO1lBQ1YsZUFBZSxFQUFFLFFBQVE7WUFDekIsV0FBVyxFQUFFLFdBQVc7U0FDekIsQ0FBQztRQUNGLE9BQU8sRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN0QyxDQUFDLENBQUM7SUFFRixNQUFNLGVBQWUsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFnQixFQUFFO1FBQ2xELE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sRUFBRSxDQUFDO1FBQ3hCLE1BQU0sT0FBTyxHQUFRO1lBQ25CLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7WUFDN0IsR0FBRyxFQUFFLEdBQUc7U0FDVCxDQUFDO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQy9CLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMxRSxDQUFDLENBQUM7SUFFRixNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxHQUFHLEVBQWdCLEVBQUU7UUFDcEQsTUFBTSxFQUFFLEdBQUcsSUFBSSx1Q0FBTSxFQUFFLENBQUM7UUFDeEIsTUFBTSxPQUFPLEdBQVE7WUFDbkIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUztZQUM3QixHQUFHLEVBQUUsR0FBRztTQUNULENBQUM7UUFDRixNQUFNLElBQUksR0FBRyxNQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkQsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzFFLENBQUMsQ0FBQztJQUVGLE1BQU0sU0FBUyxHQUFHLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUM5QixJQUFJO1lBQ0YsTUFBTSxFQUFFLEdBQUcsSUFBSSx1Q0FBTSxFQUFFLENBQUM7WUFDeEIsTUFBTSxPQUFPLEdBQVE7Z0JBQ25CLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7Z0JBQzdCLEdBQUcsRUFBRSxHQUFHO2FBQ1QsQ0FBQztZQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNuRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDbEI7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2hDO0lBQ0gsQ0FBQyxDQUFDO0lBRUYsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQ2hDLEdBQUcsRUFDSCxXQUFXLEVBQ1gsVUFBVSxFQUNJLEVBQUU7UUFDaEIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFakQsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNyQyxNQUFNLEVBQUUsR0FBRyxJQUFJLHVDQUFNLEVBQUUsQ0FBQztZQUN4QixFQUFFLENBQUMsTUFBTSxDQUNQO2dCQUNFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7Z0JBQzdCLEdBQUcsRUFBRSxHQUFHO2dCQUNSLElBQUksRUFBRSxNQUFNO2dCQUNaLFdBQVcsRUFBRSxXQUFXO2FBQ3pCLEVBQ0QsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLEVBQUU7Z0JBQ2hCLElBQUksR0FBRyxFQUFFO29CQUNQLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDYjtnQkFDRCxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDcEIsQ0FBQyxDQUNGLENBQUM7UUFDSixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGLE1BQU0sYUFBYSxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDN0IsTUFBTSxPQUFPLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQztRQUM3QyxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtZQUN0QixPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztnQkFDbkIsR0FBRyxFQUFFLEdBQUc7YUFDVCxDQUFDLENBQUM7U0FDSjtRQUVELE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sRUFBRSxDQUFDO1FBQ3hCLE1BQU0sT0FBTyxHQUFHO1lBQ2QsTUFBTSxFQUFFLFlBQVksQ0FBQyxNQUFNO1lBQzNCLE1BQU0sRUFBRSxPQUFPO1NBQ2hCLENBQUM7UUFFRixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDN0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7Z0JBQ3pDLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekMsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGLE1BQU0saUJBQWlCLEdBQUcsS0FBSyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsS0FBSyxFQUFnQixFQUFFO1FBQ3hFLE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyRSxNQUFNLElBQUksR0FBUTtZQUNoQixHQUFHLEVBQUUsR0FBRztZQUNSLElBQUksRUFBRSxLQUFLO1lBQ1gsZUFBZSxFQUFFLFFBQVE7WUFDekIsV0FBVyxFQUFFLFdBQVc7U0FDekIsQ0FBQztRQUNGLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNyQyxDQUFDLENBQUM7SUFFRixNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFnQixFQUFFO1FBQ2hELE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sRUFBRSxDQUFDO1FBQ3hCLE1BQU0sT0FBTyxHQUFRO1lBQ25CLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7WUFDN0IsR0FBRyxFQUFFLEdBQUc7U0FDVCxDQUFDO1FBQ0YsTUFBTSxJQUFJLEdBQUcsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ25ELE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMxRSxDQUFDLENBQUM7SUFFRixNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBZ0IsRUFBRTtRQUMxRCxNQUFNLEVBQUUsR0FBRyxJQUFJLHVDQUFNLEVBQUUsQ0FBQztRQUN4QixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFO1lBQ2xDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7WUFDN0IsR0FBRyxFQUFFLEdBQUc7WUFDUixtQkFBbUIsRUFBRSxXQUFXO1NBQ2pDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUM5QixHQUFHLEVBQ0gsbUJBQW1CLEVBQ25CLFdBQVcsRUFDRyxFQUFFO1FBQ2hCLE1BQU0sRUFBRSxHQUFHLElBQUksdUNBQU0sRUFBRSxDQUFDO1FBQ3hCLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUU7WUFDbEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUztZQUM3QixHQUFHLEVBQUUsR0FBRztZQUNSLE9BQU8sRUFBRSxtQkFBbUI7WUFDNUIsR0FBRyxFQUFFLDJCQUEyQjtZQUNoQyxXQUFXLEVBQUUsV0FBVztTQUN6QixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7SUFFRixPQUFPO1FBQ0wsU0FBUztRQUNULGVBQWU7UUFDZixrQkFBa0I7UUFDbEIsaUJBQWlCO1FBQ2pCLG9CQUFvQjtRQUNwQixhQUFhO1FBQ2IsaUJBQWlCO1FBQ2pCLGFBQWE7UUFDYixVQUFVO1FBQ1Ysa0JBQWtCO0tBQ25CLENBQUM7QUFDSixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2pLRixNQUFNLGtCQUFrQjtDQVd2QjtBQUVELGlFQUFlLGtCQUFrQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDWGxDLE1BQU0sK0JBQStCO0NBMEJwQztBQUNELE1BQU0sWUFBWTtDQU1qQjtBQUNELE1BQU0sa0JBQWtCO0NBSXZCO0FBQ0QsTUFBTSx5QkFBeUI7Q0FnQjlCO0FBQ0QsTUFBTSxrQ0FBa0M7Q0FnQnZDO0FBQ0QsSUFBSyxpQkFJSjtBQUpELFdBQUssaUJBQWlCO0lBQ3BCLGtDQUFhO0lBQ2Isd0NBQW1CO0lBQ25CLHVEQUFrQztBQUNwQyxDQUFDLEVBSkksaUJBQWlCLEtBQWpCLGlCQUFpQixRQUlyQjtBQU1BO0FBRUQsaUVBQWUsK0JBQStCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZGL0MsTUFBTSxrQ0FBa0M7Q0FjdkM7QUFDRCxNQUFNLDRCQUE0QjtDQWlCakM7QUFDRCxNQUFNLHlCQUF5QjtDQWE5QjtBQUVELE1BQU0sMkJBQTJCO0NBU2hDO0FBQ0QsTUFBTSx5QkFBeUI7Q0FHOUI7QUFDRCxJQUFLLGlCQUlKO0FBSkQsV0FBSyxpQkFBaUI7SUFDcEIsa0NBQWE7SUFDYix3Q0FBbUI7SUFDbkIsdURBQWtDO0FBQ3BDLENBQUMsRUFKSSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBSXJCO0FBRUQsTUFBTSx3QkFBd0I7Q0FjN0I7QUFFRCxNQUFNLHFDQUFxQztDQXNCMUM7QUFDRCxNQUFNLFlBQVk7Q0FNakI7QUFDRCxNQUFNLGtCQUFrQjtDQUl2QjtBQVdBO0FBQ0QsaUVBQWUsa0NBQWtDLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xJbEQsSUFBSyxZQUlKO0FBSkQsV0FBSyxZQUFZO0lBQ2YsNENBQTRCO0lBQzVCLG9EQUFvQztJQUNwQyxnREFBZ0M7QUFDbEMsQ0FBQyxFQUpJLFlBQVksS0FBWixZQUFZLFFBSWhCO0FBRUQsSUFBSywwQkFNSjtBQU5ELFdBQUssMEJBQTBCO0lBQzdCLDJDQUFhO0lBQ2IscURBQXVCO0lBQ3ZCLG1FQUFxQztJQUNyQyxpREFBbUI7SUFDbkIsbURBQXFCO0FBQ3ZCLENBQUMsRUFOSSwwQkFBMEIsS0FBMUIsMEJBQTBCLFFBTTlCO0FBRUQsSUFBSyxvQkFLSjtBQUxELFdBQUssb0JBQW9CO0lBQ3ZCLDJDQUFtQjtJQUNuQiwyQ0FBbUI7SUFDbkIsNkNBQXFCO0lBQ3JCLDZEQUFxQztBQUN2QyxDQUFDLEVBTEksb0JBQW9CLEtBQXBCLG9CQUFvQixRQUt4QjtBQUVELElBQUssaUJBTUo7QUFORCxXQUFLLGlCQUFpQjtJQUNwQixvQ0FBZTtJQUNmLHNDQUFpQjtJQUNqQixrQ0FBYTtJQUNiLDRDQUF1QjtJQUN2Qiw0Q0FBdUI7QUFDekIsQ0FBQyxFQU5JLGlCQUFpQixLQUFqQixpQkFBaUIsUUFNckI7QUFNQzs7Ozs7Ozs7Ozs7Ozs7O0FDakNGLElBQUssb0JBSUo7QUFKRCxXQUFLLG9CQUFvQjtJQUNyQix5RUFBaUQ7SUFDakQsc0RBQThCO0lBQzlCLHNEQUE4QjtBQUNsQyxDQUFDLEVBSkksb0JBQW9CLEtBQXBCLG9CQUFvQixRQUl4QjtBQUNELGlFQUFlLG9CQUFvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDTFM7QUFFNUMsSUFBSyxpQkFVSjtBQVZELFdBQUssaUJBQWlCO0lBQ3BCLHdEQUFtQztJQUNuQyxnREFBMkI7SUFDM0IsZ0VBQTJDO0lBQzNDLDREQUF1QztJQUN2Qyx3RUFBbUQ7SUFDbkQsMERBQXFDO0lBQ3JDLG9FQUErQztJQUMvQyxrREFBNkI7SUFDN0IsZ0VBQTJDO0FBQzdDLENBQUMsRUFWSSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBVXJCO0FBRUQsSUFBSyxzQkFLSjtBQUxELFdBQUssc0JBQXNCO0lBQ3pCLG9FQUEwQztJQUMxQyw0REFBa0M7SUFDbEMsNEVBQWtEO0FBRXBELENBQUMsRUFMSSxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBSzFCO0FBRUQsTUFBTSxvQkFBb0IsR0FBRyxLQUFLLEVBQUUsc0JBQThCLEVBQUUsRUFBRTtJQUVwRSxJQUFJLENBQUMsc0JBQXNCLEVBQUU7UUFDM0IsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLHNCQUFzQixDQUFDLENBQUM7S0FDbEQ7SUFFRCxNQUFNLGFBQWEsR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVwRCxJQUFJLGFBQWEsS0FBSyxpQkFBaUIsQ0FBQyxlQUFlLEVBQUU7UUFDdkQsT0FBTyxzQkFBc0IsQ0FBQyxlQUFlLENBQUM7S0FDL0M7U0FBTSxJQUFJLGFBQWEsS0FBSyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUU7UUFDMUQsT0FBTyxzQkFBc0IsQ0FBQyxXQUFXLENBQUM7S0FDM0M7U0FBTSxJQUFJLGFBQWEsS0FBSyxpQkFBaUIsQ0FBQyxtQkFBbUIsRUFBRTtRQUNsRSxPQUFPLHNCQUFzQixDQUFDLG1CQUFtQixDQUFDO0tBQ25EO1NBQU0sSUFBSSxhQUFhLEtBQUssaUJBQWlCLENBQUMsaUJBQWlCLEVBQUU7UUFDaEUsT0FBTyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQztLQUM1QztTQUFNLElBQUksYUFBYSxLQUFLLGlCQUFpQixDQUFDLHVCQUF1QixFQUFFO1FBQ3RFLE9BQU8saUJBQWlCLENBQUMsdUJBQXVCLENBQUM7S0FDbEQ7U0FBTSxJQUFJLGFBQWEsS0FBSyxpQkFBaUIsQ0FBQyxnQkFBZ0IsRUFBRTtRQUMvRCxPQUFPLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDO0tBQzNDO1NBQU0sSUFBSSxhQUFhLEtBQUssaUJBQWlCLENBQUMscUJBQXFCLEVBQUU7UUFDcEUsT0FBTyxpQkFBaUIsQ0FBQyxxQkFBcUIsQ0FBQztLQUNoRDtTQUFNLElBQUksYUFBYSxLQUFLLGlCQUFpQixDQUFDLFlBQVksRUFBRTtRQUMzRCxPQUFPLGlCQUFpQixDQUFDLFlBQVksQ0FBQztLQUN2QztTQUFNLElBQUksYUFBYSxLQUFLLGlCQUFpQixDQUFDLG9CQUFvQixFQUFFO1FBQ25FLE9BQU8saUJBQWlCLENBQUMsb0JBQW9CLENBQUM7S0FDL0M7U0FDSTtRQUNILE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0tBQzlDO0FBRUgsQ0FBQztBQUNrRDs7Ozs7Ozs7Ozs7Ozs7O0FDckRuRCxJQUFLLG1CQUdKO0FBSEQsV0FBSyxtQkFBbUI7SUFDcEIsMENBQW1CO0lBQ25CLHFEQUE4QjtBQUNsQyxDQUFDLEVBSEksbUJBQW1CLEtBQW5CLG1CQUFtQixRQUd2QjtBQUNELGlFQUFlLG1CQUFtQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNKbkMsSUFBSyxlQU9GO0FBUEgsV0FBSyxlQUFlO0lBQ2hCLHlEQUFVO0lBQ1YscURBQVE7SUFDUixxREFBUTtJQUNSLHFEQUFRO0lBQ1IseURBQVU7SUFDVixxREFBUTtBQUNWLENBQUMsRUFQRSxlQUFlLEtBQWYsZUFBZSxRQU9qQjtBQUNELGlFQUFlLGVBQWUsRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDUmpDLElBQUssbUJBb0JKO0FBcEJELFdBQUssbUJBQW1CO0lBQ3RCLDZGQUF3QjtJQUN4Qix1RkFBcUI7SUFDckIsa0ZBQW1CO0lBQ25CLHNHQUE2QjtJQUM3QixrRkFBbUI7SUFDbkIsdUZBQXFCO0lBQ3JCLDhGQUF5QjtJQUN6Qix5RkFBc0I7SUFDdEIsbUdBQTJCO0lBQzNCLDJEQUFPO0lBQ1AsZ0ZBQWtCO0lBQ2xCLDRFQUFnQjtJQUNoQixzRkFBcUI7SUFDckIsaUZBQWtCO0lBQ2xCLHNHQUE2QjtJQUM3QixrR0FBMkI7SUFDM0IsbUZBQW1CO0lBQ25CLHVGQUFxQjtJQUNyQixvRkFBb0I7QUFDdEIsQ0FBQyxFQXBCSSxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBb0J2QjtBQUU4Qjs7Ozs7Ozs7Ozs7Ozs7O0FDdEIvQixJQUFLLG9CQXFCSjtBQXJCRCxXQUFLLG9CQUFvQjtJQUN2QixxRUFBNkM7SUFDN0MsOERBQXNDO0lBQ3RDLHlEQUFpQztJQUNqQyw2RUFBcUQ7SUFDckQseURBQWlDO0lBQ2pDLGlFQUF5QztJQUN6QyxxRUFBNkM7SUFDN0MsaUVBQXlDO0lBQ3pDLDJFQUFtRDtJQUNuRCxtQ0FBVztJQUNYLHVEQUErQjtJQUMvQixtREFBMkI7SUFDM0IsNkRBQXFDO0lBQ3JDLHlEQUFpQztJQUlqQywrREFBdUM7SUFDdkMsMkRBQW1DO0lBQ25DLGlFQUF5QztBQUMzQyxDQUFDLEVBckJJLG9CQUFvQixLQUFwQixvQkFBb0IsUUFxQnhCO0FBRytCOzs7Ozs7Ozs7Ozs7Ozs7QUN4QmhDLElBQUssaUJBU0Y7QUFUSCxXQUFLLGlCQUFpQjtJQUNsQiwwQ0FBcUI7SUFDckIsc0NBQWlCO0lBQ2pCLDhCQUFTO0lBQ1Qsa0NBQWE7SUFDYixpREFBNEI7SUFDNUIsc0NBQWlCO0lBQ2pCLG9EQUErQjtJQUMvQixrREFBNkI7QUFDL0IsQ0FBQyxFQVRFLGlCQUFpQixLQUFqQixpQkFBaUIsUUFTbkI7QUFDRCxpRUFBZSxpQkFBaUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDVm5DLElBQUssb0JBd0JGO0FBeEJILFdBQUssb0JBQW9CO0lBRXJCLHlEQUFpQztJQUNqQyxtREFBMkI7SUFDM0IsNkRBQXFDO0lBQ3JDLG1FQUEyQztJQUMzQyxtRUFBMkM7SUFDM0MsMkVBQW1EO0lBQ25ELG1FQUEyQztJQUMzQyx1RkFBK0Q7SUFDL0QscURBQTZCO0lBQzdCLDBEQUFrQztJQUNsQyxpRUFBeUM7SUFDekMsaURBQXlCO0lBQ3pCLGlFQUF5QztJQUN6QyxpRUFBeUM7SUFDekMsNkNBQXFCO0lBQ3JCLGlFQUF5QztJQUV6Qyx1RUFBK0M7SUFDL0Msb0ZBQTREO0lBQzVELDZEQUFxQztJQUNyQyxpRUFBeUM7SUFDekMsaUZBQXlEO0FBQzNELENBQUMsRUF4QkUsb0JBQW9CLEtBQXBCLG9CQUFvQixRQXdCdEI7QUFDSCxpRUFBZSxvQkFBb0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDekJwQyxJQUFLLHVCQU1KO0FBTkQsV0FBSyx1QkFBdUI7SUFDMUIseUZBQWdCO0lBQ2hCLG1GQUFhO0lBQ2IsbUVBQUs7SUFDTCxtR0FBcUI7SUFDckIsbUdBQXFCO0FBQ3ZCLENBQUMsRUFOSSx1QkFBdUIsS0FBdkIsdUJBQXVCLFFBTTNCO0FBQ0QsSUFBSywwQkFNSjtBQU5ELFdBQUssMEJBQTBCO0lBQzdCLGlIQUF5QjtJQUN6QixpR0FBaUI7SUFDakIsNkhBQStCO0lBQy9CLDJGQUFjO0lBQ2QsaUdBQWlCO0FBQ25CLENBQUMsRUFOSSwwQkFBMEIsS0FBMUIsMEJBQTBCLFFBTTlCO0FBQ0QsSUFBSyx5QkFNSjtBQU5ELFdBQUsseUJBQXlCO0lBQzVCLHFHQUFvQjtJQUNwQixxRkFBWTtJQUNaLHFHQUFvQjtJQUNwQixxR0FBb0I7SUFDcEIsaUZBQVU7QUFDWixDQUFDLEVBTkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQU03QjtBQUNELElBQUssZ0JBZ0JKO0FBaEJELFdBQUssZ0JBQWdCO0lBQ25CLHFEQUFpQztJQUNqQywrQ0FBMkI7SUFDM0IsK0JBQVc7SUFDWCwrREFBMkM7SUFDM0MsK0RBQTJDO0lBQzNDLHVFQUFtRDtJQUNuRCx1REFBbUM7SUFDbkMsbUZBQStEO0lBQy9ELGlEQUE2QjtJQUM3QixzREFBa0M7SUFDbEMsNkRBQXlDO0lBQ3pDLDZDQUF5QjtJQUN6Qiw2REFBeUM7SUFDekMsNkRBQXlDO0lBQ3pDLHlDQUFxQjtBQUN2QixDQUFDLEVBaEJJLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFnQnBCO0FBQ0QsSUFBSyxpQkFLSjtBQUxELFdBQUssaUJBQWlCO0lBQ3BCLDhDQUF5QjtJQUN6QixxREFBZ0M7SUFDaEMsdURBQWtDO0lBQ2xDLDJEQUFzQztBQUN4QyxDQUFDLEVBTEksaUJBQWlCLEtBQWpCLGlCQUFpQixRQUtyQjtBQUNELE1BQU0sb0JBQW9CO0lBQ3hCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxTQUFpQjtRQUMxQyxJQUFJLFlBQVksQ0FBQztRQUNqQixRQUFRLFNBQVMsRUFBRTtZQUNqQixLQUFLLGdCQUFnQixDQUFDLGNBQWM7Z0JBQ2xDLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxZQUFZLENBQUM7Z0JBQzlDLE1BQU07WUFDUixLQUFLLGdCQUFnQixDQUFDLFdBQVc7Z0JBQy9CLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxZQUFZLENBQUM7Z0JBQzlDLE1BQU07WUFDUixLQUFLLGdCQUFnQixDQUFDLEdBQUc7Z0JBQ3ZCLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxZQUFZLENBQUM7Z0JBQzlDLE1BQU07WUFDUixLQUFLLGdCQUFnQixDQUFDLG1CQUFtQjtnQkFDdkMsWUFBWSxHQUFHLGlCQUFpQixDQUFDLFlBQVksQ0FBQztnQkFDOUMsTUFBTTtZQUNSLEtBQUssZ0JBQWdCLENBQUMsbUJBQW1CO2dCQUN2QyxZQUFZLEdBQUcsaUJBQWlCLENBQUMsWUFBWSxDQUFDO2dCQUM5QyxNQUFNO1lBQ1IsS0FBSyxnQkFBZ0IsQ0FBQyx1QkFBdUI7Z0JBQzNDLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDcEQsTUFBTTtZQUNSLEtBQUssZ0JBQWdCLENBQUMsZUFBZTtnQkFDbkMsWUFBWSxHQUFHLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDO2dCQUNwRCxNQUFNO1lBQ1IsS0FBSyxnQkFBZ0IsQ0FBQyw2QkFBNkI7Z0JBQ2pELFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQztnQkFDcEQsTUFBTTtZQUNSLEtBQUssZ0JBQWdCLENBQUMsWUFBWTtnQkFDaEMsWUFBWSxHQUFHLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDO2dCQUNwRCxNQUFNO1lBQ1IsS0FBSyxnQkFBZ0IsQ0FBQyxjQUFjO2dCQUNsQyxZQUFZLEdBQUcsaUJBQWlCLENBQUMsa0JBQWtCLENBQUM7Z0JBQ3BELE1BQU07WUFDUixLQUFLLGdCQUFnQixDQUFDLGtCQUFrQjtnQkFDdEMsWUFBWSxHQUFHLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDO2dCQUN0RCxNQUFNO1lBQ1IsS0FBSyxnQkFBZ0IsQ0FBQyxVQUFVO2dCQUM5QixZQUFZLEdBQUcsaUJBQWlCLENBQUMsb0JBQW9CLENBQUM7Z0JBQ3RELE1BQU07WUFDUixLQUFLLGdCQUFnQixDQUFDLGtCQUFrQjtnQkFDdEMsWUFBWSxHQUFHLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDO2dCQUN0RCxNQUFNO1lBQ1IsS0FBSyxnQkFBZ0IsQ0FBQyxrQkFBa0I7Z0JBQ3RDLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxvQkFBb0IsQ0FBQztnQkFDdEQsTUFBTTtZQUNSLEtBQUssZ0JBQWdCLENBQUMsUUFBUTtnQkFDNUIsWUFBWSxHQUFHLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDO2dCQUNwRCxNQUFNO1NBQ1Q7UUFDRCxPQUFPLFlBQVk7SUFDckIsQ0FBQztDQUNGO0FBRStHOzs7Ozs7Ozs7Ozs7Ozs7O0FDbEdoSCxJQUFLLGFBa0NKO0FBbENELFdBQUssYUFBYTtJQUNoQixvQ0FBbUI7SUFDbkIsb0NBQW1CO0lBQ25CLDRCQUFXO0lBQ1gsNEJBQVc7SUFDWCw0QkFBVztJQUNYLHFEQUFvQztJQUNwQyxnQ0FBZTtJQUNmLGdDQUFlO0lBQ2YsMENBQXlCO0lBQ3pCLHVDQUFzQjtJQUN0QixrQ0FBaUI7SUFDakIsa0RBQWlDO0lBQ2pDLGlDQUFnQjtJQUNoQiw0QkFBVztJQUNYLHFEQUFvQztJQUNwQywyQ0FBMEI7SUFDMUIsaUNBQWdCO0lBQ2hCLDRCQUFXO0lBQ1gsZ0RBQStCO0lBQy9CLDBDQUF5QjtJQUN6QixpQ0FBZ0I7SUFDaEIsOEJBQWE7SUFDYix1Q0FBc0I7SUFDdEIsaUNBQWdCO0lBQ2hCLGdEQUErQjtJQUMvQixrQ0FBaUI7SUFDakIsb0RBQW1DO0lBQ25DLHdEQUF1QztJQUN2QyxnREFBK0I7SUFDL0IsZ0NBQWU7SUFDZixrREFBaUM7SUFDakMsMENBQXlCO0lBQ3pCLHdDQUF1QjtBQUN6QixDQUFDLEVBbENJLGFBQWEsS0FBYixhQUFhLFFBa0NqQjtBQUVELE1BQU0sWUFBWSxHQUFHO0lBQ25CLGFBQWEsQ0FBQyxhQUFhO0lBQzNCLGFBQWEsQ0FBQyxTQUFTO0lBQ3ZCLGFBQWEsQ0FBQyxLQUFLO0lBQ25CLGFBQWEsQ0FBQyxjQUFjO0lBQzVCLGFBQWEsQ0FBQyxVQUFVO0NBQ3pCLENBQUM7QUFJQTtBQUNGLGlFQUFlLGFBQWEsRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDL0M3QixJQUFLLHVCQTRDSjtBQTVDRCxXQUFLLHVCQUF1QjtJQUUxQixzREFBMkI7SUFDM0Isa0RBQXVCO0lBQ3ZCLHdEQUE2QjtJQUM3Qiw0REFBaUM7SUFDakMsMERBQStCO0lBQy9CLGdFQUFxQztJQUNyQywwREFBK0I7SUFDL0IsMERBQStCO0lBQy9CLHNEQUEyQjtJQUMzQix3RUFBNkM7SUFDN0MsNENBQWlCO0lBQ2pCLHdEQUE2QjtJQUM3QixnRUFBcUM7SUFDckMsb0VBQXlDO0lBQ3pDLDRFQUFpRDtJQUNqRCx1RUFBNEM7SUFDNUMsMERBQStCO0lBQy9CLDBFQUErQztJQUMvQyw4REFBbUM7SUFFbkMsNERBQWlDO0lBQ2pDLHNEQUEyQjtJQUMzQixzRUFBMkM7SUFDM0Msa0VBQXVDO0lBQ3ZDLHNFQUEyQztJQUMzQyw0RUFBaUQ7SUFDakQsOEVBQW1EO0lBQ25ELG9FQUF5QztJQUN6Qyx3REFBNkI7SUFDN0IsOERBQW1DO0lBQ25DLDBGQUErRDtJQUMvRCx1RkFBNEQ7SUFDNUQsb0RBQXlCO0lBQ3pCLG9FQUF5QztJQUN6QyxvRUFBeUM7SUFDekMsZ0RBQXFCO0lBQ3JCLHdGQUE2RDtJQUM3RCxzRUFBMkM7SUFDM0Msd0VBQTZDO0lBQzdDLHNFQUEyQztJQUMzQyx1RkFBNEQ7SUFDNUQsb0ZBQXlEO0FBQzNELENBQUMsRUE1Q0ksdUJBQXVCLEtBQXZCLHVCQUF1QixRQTRDM0I7QUFDRCxpRUFBZSx1QkFBdUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7O0FDN0N2QyxJQUFLLHdCQVlGO0FBWkgsV0FBSyx3QkFBd0I7SUFFekIsK0RBQW1DO0lBQ25DLHlEQUE2QjtJQUM3QiwyREFBK0I7SUFDL0Isa0ZBQXNEO0lBQ3RELG9GQUF3RDtJQUN4RCxxREFBeUI7SUFDekIsdURBQTJCO0lBQzNCLDZFQUFpRDtJQUNqRCwrRUFBbUQ7SUFDbkQsbURBQXVCO0FBQ3pCLENBQUMsRUFaRSx3QkFBd0IsS0FBeEIsd0JBQXdCLFFBWTFCO0FBQ0QsaUVBQWUsd0JBQXdCLEVBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2IxQyxJQUFLLHFCQUtKO0FBTEQsV0FBSyxxQkFBcUI7SUFDeEIsaUVBQVE7SUFDUixxRUFBVTtJQUNWLHFGQUFrQjtJQUNsQiwrRUFBZTtBQUNqQixDQUFDLEVBTEkscUJBQXFCLEtBQXJCLHFCQUFxQixRQUt6QjtBQUNELGlFQUFlLHFCQUFxQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNOckMsSUFBSyx5QkFrQ0o7QUFsQ0QsV0FBSyx5QkFBeUI7SUFDMUIscUdBQW9CO0lBQ3BCLG1GQUFXO0lBQ1gscUdBQW9CO0lBQ3BCLGlIQUEwQjtJQUMxQixxR0FBb0I7SUFDcEIsMkdBQXVCO0lBQ3ZCLHlGQUFjO0lBQ2QsbUlBQW1DO0lBQ25DLDZIQUFnQztJQUNoQyxtR0FBbUI7SUFDbkIsd0dBQXFCO0lBQ3JCLDRHQUF1QjtJQUN2Qiw4SEFBZ0M7SUFDaEMsc0dBQW9CO0lBQ3BCLHdHQUFxQjtJQUNyQiw4RkFBZ0I7SUFDaEIsOEZBQWdCO0lBQ2hCLG9HQUFtQjtJQUNuQiw4RUFBUTtJQUNSLHdJQUFxQztJQUNyQyxrR0FBa0I7SUFDbEIsOEdBQXdCO0lBQ3hCLDhIQUFnQztJQUNoQyxnR0FBaUI7SUFDakIsa0ZBQVU7SUFDVix3R0FBcUI7SUFDckIsZ0pBQXlDO0lBQ3pDLHNJQUFvQztJQUNwQyw4R0FBd0I7SUFDeEIsOElBQXdDO0lBQ3hDLGdHQUFpQjtJQUNqQixvR0FBbUI7SUFDbkIsOEdBQXdCO0FBQzVCLENBQUMsRUFsQ0kseUJBQXlCLEtBQXpCLHlCQUF5QixRQWtDN0I7QUFFRCxpRUFBZSx5QkFBeUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BDekMsSUFBWSx5QkFJWDtBQUpELFdBQVkseUJBQXlCO0lBQ25DLG1GQUFhO0lBQ2IsbUZBQWE7SUFDYix3RUFBUTtBQUNWLENBQUMsRUFKVyx5QkFBeUIsS0FBekIseUJBQXlCLFFBSXBDO0FBQ0QsaUVBQWUseUJBQXlCLEVBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMTTtBQUN5QztBQUM3RDtBQUNRO0FBQ0M7QUFDUTtBQUNpRDtBQUV0RixLQUFLLFVBQVUsYUFBYTtJQUNqQyxJQUFJLElBQUksR0FBRyxJQUFJLCtDQUFrQixDQUFDO1FBQ2hDLFFBQVEsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtLQUN6QyxDQUFDLENBQUM7SUFDSCxNQUFNLElBQUksQ0FBQyxLQUFLLENBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQzlCLFVBQVUsR0FBRyxFQUFFLFNBQVM7UUFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDMUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLENBQUMsQ0FDRixDQUFDO0lBQ0YsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRU0sS0FBSyxVQUFVLGNBQWMsQ0FBQyxVQUFVO0lBQzdDLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUM7SUFDM0IsTUFBTSxPQUFPLEdBQUcsTUFBTSw0RUFBYyxDQUFDO1FBQ25DLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWM7UUFDdkMsZUFBZSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCO1FBQy9DLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7UUFDN0IsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUztLQUM5QixDQUFDLENBQUMsb0JBQW9CLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hFLE1BQU0sYUFBYSxHQWFmO1FBQ0YsT0FBTyxFQUFFLEdBQUc7UUFDWixRQUFRLEVBQUUsT0FBTyxDQUFDLFFBQVE7UUFDMUIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxXQUFXO1FBQ25DLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVTtRQUMvQixJQUFJLEVBQUUsVUFBVSxDQUFDLE1BQU07UUFDdkIsV0FBVyxFQUFFLFVBQVUsQ0FBQyxXQUFXO1FBQ25DLE1BQU0sRUFBRSxVQUFVLENBQUMsTUFBTTtRQUN6QixhQUFhLEVBQUUsVUFBVSxDQUFDLGFBQWE7UUFDdkMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxLQUFLO1FBQ3ZCLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUztRQUMvQixXQUFXLEVBQUUsVUFBVSxDQUFDLFdBQVc7UUFDbkMsVUFBVSxFQUFFLElBQUksSUFBSSxFQUFFO0tBQ3ZCLENBQUM7SUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUVoQyxNQUFNLFFBQVEsR0FBRyxNQUFNLHVFQUE0QixDQUFDO1FBQ2xELEtBQUssRUFBRTtZQUNMLFFBQVEsRUFBRSxhQUFhLENBQUMsUUFBUTtTQUNqQztRQUNELE1BQU0sRUFBRSxhQUFhO1FBQ3JCLE1BQU0sRUFBRSxhQUFhO0tBQ3RCLENBQUMsQ0FBQztJQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEIsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQztBQUNNLE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBQyxXQUFXLEdBQUcsSUFBSSxFQUFFLEVBQUU7SUFDNUYsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25ELE1BQU0sbUJBQW1CLEdBQUcsSUFBSSx5RkFBb0IsRUFBRSxDQUFDO0lBQ3ZELE9BQU8sbUJBQW1CLENBQUMsU0FBUyxDQUNsQyxJQUFJLEVBQ0osRUFBRSxFQUNGLE9BQU8sRUFDUCxPQUFPLEVBQ1AsRUFBRSxFQUNGLElBQUksRUFDSixXQUFXLENBQ1osQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVLLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtJQUN2QyxPQUFPLDRFQUFjLENBQUM7UUFDcEIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYztRQUN2QyxlQUFlLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDL0MsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUztRQUM3QixNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTO0tBQzlCLENBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUssS0FBSyxVQUFVLFNBQVMsQ0FBQyxHQUFHO0lBQ2pDLE9BQU8sNEVBQWMsQ0FBQztRQUNwQixXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjO1FBQ3ZDLGVBQWUsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUMvQyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTO1FBQzdCLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVM7S0FDOUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNwQixDQUFDO0FBRU0sS0FBSyxVQUFVLGNBQWMsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsV0FBVztJQUN4RSxPQUFPLDRFQUFjLENBQUM7UUFDcEIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYztRQUN2QyxlQUFlLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7UUFDL0MsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUztRQUM3QixNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTO0tBQzlCLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDL0QsQ0FBQztBQUlNLFNBQVMsWUFBWSxDQUFDLFdBQVc7SUFDdEMsSUFBSTtRQUNGLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLFdBQVcsQ0FBQztRQUNoQixJQUFJLGlCQUFpQixDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQy9CLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDekI7YUFBTTtZQUNMLEtBQUssR0FBRyxXQUFXLENBQUM7U0FDckI7UUFDRCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDeEIsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUN2RCxpQkFBaUIsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ2pFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDekIsTUFBTSxJQUFJLDREQUFTLENBQ2pCLEdBQUcsRUFDSCxxREFBcUQsQ0FDdEQsQ0FBQztpQkFDSDtnQkFDRCxXQUFXLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzNCLEtBQUssRUFBRSxDQUFDO2FBQ1Q7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sS0FBSyxDQUFDO0tBQ2I7QUFDSCxDQUFDO0FBSU0sU0FBUywyQkFBMkIsQ0FBQyxVQUFVLEVBQUUsUUFBUTtJQUM5RCxJQUFJO1FBQ0YsTUFBTSxXQUFXLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztRQUN6RCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUMvQixLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3pCO2FBQU07WUFDTCxLQUFLLEdBQUcsV0FBVyxDQUFDO1NBQ3JCO1FBQ0QsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLFFBQVEsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0IsUUFBUSxHQUFHLDZCQUE2QixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM3RCxRQUFRLEdBQUcsbUNBQW1DLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25CLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNqQztBQUNILENBQUM7QUFHTSxTQUFTLDZCQUE2QixDQUFDLFFBQVEsRUFBRSxRQUFRO0lBQzlELElBQUk7UUFDRixJQUFJLEdBQUcsQ0FBQztRQUNSLEtBQUssTUFBTSxJQUFJLElBQUksUUFBUSxFQUFFO1lBQzNCLEdBQUcsR0FBRztnQkFDSixZQUFZLEVBQUUsRUFBRTtnQkFDaEIsU0FBUyxFQUFFLEVBQUU7Z0JBQ2IsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osUUFBUSxFQUFFLEVBQUU7Z0JBQ1osUUFBUSxFQUFFLEVBQUU7Z0JBQ1osYUFBYSxFQUFFLEVBQUU7YUFDbEIsQ0FBQztZQUNGLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLEdBQUcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3BCLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDcEI7UUFDRCxPQUFPLFFBQVEsQ0FBQztLQUNqQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDO0FBR00sU0FBUyxtQ0FBbUMsQ0FBQyxRQUFRLEVBQUUsT0FBTztJQUNuRSxJQUFJO1FBQ0YsSUFBSSxPQUFPLENBQUM7UUFDWixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQy9CLElBQUksS0FBSyxHQUFHLENBQUMsRUFDWCxhQUFhLEdBQUcsQ0FBQyxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDdkIsT0FBTyxHQUFHO29CQUNSLGFBQWEsRUFBRSxDQUFDO29CQUNoQixXQUFXLEVBQUUsRUFBRTtvQkFDZixhQUFhLEVBQUUsRUFBRTtvQkFDakIsY0FBYyxFQUFFLEVBQUU7b0JBQ2xCLGNBQWMsRUFBRSxFQUFFO29CQUNsQixRQUFRLEVBQUUsQ0FBQztvQkFDWCxhQUFhLEVBQUUsQ0FBQztpQkFDakIsQ0FBQztnQkFDRixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUN4RCxPQUFPLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDO29CQUNwRCxPQUFPLENBQUMsYUFBYSxHQUFHLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQztvQkFDeEQsT0FBTyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDO29CQUN0RCxPQUFPLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUM7b0JBQ3BELE9BQU8sQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLO3dCQUMvQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLO3dCQUMxQixDQUFDLENBQUMsRUFBRSxDQUFDO29CQUNQLE9BQU8sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztvQkFDckMsT0FBTyxDQUFDLGFBQWEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO29CQUNuRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDNUIsS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztvQkFDaEMsYUFBYSxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUM7b0JBQ2xDLE9BQU87aUJBQ1I7WUFDSCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLFFBQVEsQ0FBQztLQUNqQjtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDO0FBSU0sS0FBSyxVQUFVLFFBQVEsQ0FBQyxNQUFNOztJQUNuQyxJQUFJO1FBQ0YsTUFBTSxFQUNKLElBQUksRUFDSixJQUFJLEVBQ0osSUFBSSxFQUNKLFFBQVEsRUFDUixVQUFVLEVBQ1YsZ0JBQWdCLEVBQ2hCLGFBQWEsRUFDYixlQUFlLEVBQ2YsU0FBUyxFQUNULE1BQU0sRUFDTixXQUFXLEdBQ1osR0FBRyxNQUFNLENBQUM7UUFDWCxJQUFJLE9BQU8sQ0FBQztRQUNaLE1BQU0sYUFBYSxHQUFHLE1BQU0sMEVBQStCLENBQUM7WUFDMUQsS0FBSyxFQUFFO2dCQUNMLFFBQVEsRUFBRSxJQUFJO2FBQ2Y7U0FDRixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ2xCLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1NBQ2xEO1FBQ0QsSUFBSSxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLE1BQU0sR0FBRyxHQUFRLE1BQU0sU0FBUyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RCxNQUFNLE1BQU0sR0FBRyxNQUFNLHNEQUFjLENBQUMsR0FBRyxFQUFFO1lBQ3ZDLE9BQU8sRUFBRSxJQUFJO1lBQ2IsTUFBTSxFQUFFLENBQUM7U0FDVixDQUFDLENBQUM7UUFDSCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRW5DLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7UUFFakUsTUFBTSxtQkFBbUIsR0FDdkIsSUFBSSxLQUFLLGFBQWE7WUFDcEIsQ0FBQyxDQUFDLGdCQUFnQjtZQUNsQixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxnRUFBcUIsQ0FBQztZQUN4QyxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFO1NBQ3hDLENBQUMsQ0FBQztRQUNILE1BQU0sS0FBSyxHQUFHLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxNQUFNLENBQUM7UUFDNUIsSUFBSSxJQUFJLEtBQUssWUFBWSxFQUFFO1lBQ3pCLE9BQU8sR0FBRyxHQUFHLFVBQVUsSUFBSSxVQUFVLElBQUksS0FBSyxzQkFBc0IsQ0FBQztTQUN0RTthQUVJLElBQUksSUFBSSxLQUFLLGdCQUFnQixFQUFFO1lBQ2xDLE9BQU8sR0FBRyxHQUFHLFVBQVUsSUFBSSxVQUFVLElBQUksS0FBSyxtQkFBbUIsQ0FBQztTQUNuRTtRQUVELGVBQWUsR0FBRywyQkFBMkIsQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFFeEUsTUFBTSxHQUFHLEdBQUc7WUFDVixPQUFPO1lBQ1AsTUFBTSxFQUFFLE1BQU07WUFDZCxXQUFXLEVBQUUsV0FBVztZQUN4QixVQUFVLEVBQUUsT0FBTztZQUNuQixVQUFVLEVBQUUsZUFBZTtZQUMzQixRQUFRLEVBQUUsUUFBUTtZQUNsQixnQkFBZ0IsRUFBRSxtQkFBbUIsSUFBSSxDQUFDO1lBQzFDLGFBQWE7WUFDYixlQUFlO1lBQ2YsU0FBUztZQUNULG1CQUFtQixFQUFFLFVBQVU7U0FDaEMsQ0FBQztRQUVGLE1BQU0sUUFBUSxHQUFHLE1BQU0scURBQ2pCLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsc0JBQXNCLENBQUM7YUFDckQsSUFBSSxDQUFDLEdBQUcsQ0FBQzthQUNULE9BQU8sQ0FBQyxNQUFNLENBQUM7YUFDZixHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDM0MsT0FBTztZQUNMLFFBQVEsRUFBRSxlQUFlO1lBQ3pCLFVBQVUsRUFBRSxvQkFBUSxhQUFSLFFBQVEsdUJBQVIsUUFBUSxDQUFFLEtBQUssMENBQUUsSUFBSSwwQ0FBRSxRQUFRO1lBQzNDLFVBQVUsRUFBRSxVQUFVO1NBQ3ZCLENBQUM7S0FDSDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakM7QUFDSCxDQUFDO0FBR00sTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDeEQsSUFBSTtRQUNGLE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLFlBQVksQ0FBQztRQUN0RCxNQUFNLEdBQUcsR0FBRyxNQUFNLHNEQUNYLENBQUMsR0FBRyxDQUFDO2FBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQzthQUNWLEdBQUcsQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUMzQyxPQUFPLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxJQUFJLENBQUM7S0FDbEI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkIsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL1UwQztBQUNZO0FBQytCO0FBRXZGLE1BQU0sYUFBYSxHQUFHLElBQUksaUVBQWEsRUFBRSxDQUFDO0FBQzFDLE1BQU0sT0FBTyxHQUFHLG9CQUFvQixDQUFDO0FBRTlCLE1BQU0scUJBQXFCLEdBQUcsR0FBRyxFQUFFO0lBQ3hDLE1BQU0sS0FBSyxHQUFHLGVBQWUsQ0FBQztJQUU5QixNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sR0FBRyxJQUFJLEVBQUUsVUFBVSxHQUFHLElBQUksRUFBRSxFQUFFO1FBQ3JFLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQztRQUVoQixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUM7UUFDN0MsTUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUV6QyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLGFBQWEsQ0FBQyxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEdBQUcsVUFBVSxDQUFDLENBQUM7UUFFN0MsSUFBSSxhQUFhLElBQUksVUFBVSxFQUFFO1lBQy9CLElBQUksVUFBVSxFQUFFO2dCQUNkLEdBQUcsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDO2FBQzlCO2lCQUFNLElBQUksYUFBYSxFQUFFO2dCQUN4QixNQUFNLG1CQUFtQixHQUFHLE1BQU0sdUJBQXVCLENBQ3ZELGFBQWEsRUFDYixJQUFJLENBQUMsSUFBSSxDQUNWLENBQUM7Z0JBRUYsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG1CQUFtQixDQUFDO2dCQUVoRCxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFbEIsSUFBSSxtQkFBbUIsRUFBRTtvQkFDdkIsR0FBRyxJQUFJLFFBQVEsR0FBRyxtQkFBbUIsQ0FBQztpQkFDdkM7YUFDRjtTQUNGO2FBQU07WUFDTCxNQUFNLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1NBQ3BEO1FBQ0QsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFO1lBQ2pCLElBQUksTUFBTSxFQUFFO2dCQUNWLEdBQUcsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDO2FBQzVCO1lBQ0QsSUFBSSxVQUFVLEVBQUU7Z0JBQ2QsR0FBRyxJQUFJLFVBQVUsR0FBRyxVQUFVLENBQUM7YUFDaEM7WUFFRCxPQUFPLENBQUMsR0FBRyxDQUNULHVFQUF1RTtnQkFDckUsR0FBRyxDQUNOLENBQUM7WUFFRixNQUFNLE9BQU8sR0FBUSxNQUFNLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuRSxPQUFPLE9BQU8sQ0FBQztTQUNoQjthQUFNO1lBQ0wsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ25DO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YsTUFBTSx3QkFBd0IsR0FBRyxLQUFLLEVBQ3BDLEVBQUUsRUFDRixJQUFJLEVBQ0osVUFBVSxFQUNWLE1BQU0sRUFDTixTQUFTLEVBQ1QsV0FBVyxFQUNYLGVBQWUsRUFDZixFQUFFO1FBQ0YsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsR0FBRyxlQUFlLENBQUM7UUFFaEQsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLElBQUksSUFBSSxFQUFFO1lBQ1IsUUFBUSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUN0QixLQUFLLDJHQUFxQyxDQUFDO2dCQUMzQyxLQUFLLHdHQUFrQztvQkFDckMsR0FBRyxJQUFJLGVBQWUsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztvQkFDcEUsTUFBTTtnQkFDUixLQUFLLGtIQUE0QyxDQUFDO2dCQUNsRCxLQUFLLHdHQUFrQyxDQUFDO2dCQUN4QyxLQUFLLDJHQUFxQyxDQUFDO2dCQUMzQyxLQUFLLDhHQUF3QyxDQUFDO2dCQUM5QyxLQUFLLDRHQUFzQztvQkFDekMsR0FBRyxJQUFJLGVBQWUsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLElBQUksR0FBRyxHQUFHLFVBQVUsRUFBRSxDQUFDO29CQUMxRCxNQUFNO2dCQUNSO29CQUNFLEdBQUcsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO29CQUN6QixNQUFNO2FBQ1Q7U0FDRjtRQUNELElBQUksR0FBRyxLQUFLLEtBQUssRUFBRTtZQUNqQixHQUFHLEdBQUcsTUFBTSxNQUFNLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDeEQsSUFBSSxRQUFRLEVBQUU7Z0JBQ1osR0FBRyxJQUFJLFNBQVMsR0FBRyxRQUFRLENBQUM7YUFDN0I7WUFDRCxJQUFJLFNBQVMsRUFBRTtnQkFDYixHQUFHLElBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQzthQUM5QjtTQUNGO2FBQU07WUFDTCxJQUFJLFFBQVEsRUFBRTtnQkFDWixHQUFHLElBQUksU0FBUyxHQUFHLFFBQVEsQ0FBQzthQUM3QjtZQUNELElBQUksU0FBUyxFQUFFO2dCQUNiLEdBQUcsSUFBSSxTQUFTLEdBQUcsU0FBUyxDQUFDO2FBQzlCO1lBQ0QsR0FBRyxHQUFHLE1BQU0sTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1NBQ3pEO1FBRUQsT0FBTyxDQUFDLEdBQUcsQ0FDVCx1RUFBdUU7WUFDckUsR0FBRyxDQUNOLENBQUM7UUFFRixNQUFNLE9BQU8sR0FBUSxNQUFNLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVuRSxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDLENBQUM7SUFDRixNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFBRTtRQUMzQyxNQUFNLEdBQUcsR0FBRyw0QkFBNEIsUUFBUSxhQUFhLENBQUM7UUFDOUQsTUFBTSxRQUFRLEdBQVEsTUFBTSxhQUFhLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEUsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQyxDQUFDO0lBRUYsTUFBTSx3QkFBd0IsR0FBRyxHQUFHLEVBQUU7UUFDcEMsT0FBTztZQUNMLElBQUksRUFBRSxHQUFHO1lBQ1QsR0FBRyxFQUFFLEdBQUc7WUFDUixLQUFLLEVBQUUsR0FBRztZQUNWLFdBQVcsRUFBRSxHQUFHO1lBQ2hCLGNBQWMsRUFBRSxHQUFHO1lBQ25CLFlBQVksRUFBRSxHQUFHO1lBQ2pCLElBQUksRUFBRSxHQUFHO1lBQ1QsTUFBTSxFQUFFLEdBQUc7WUFDWCxNQUFNLEVBQUUsR0FBRztZQUNYLEtBQUssRUFBRSxHQUFHO1lBQ1YsVUFBVSxFQUFFLEdBQUc7WUFDZixNQUFNLEVBQUUsR0FBRztZQUNYLEtBQUssRUFBRSxHQUFHO1lBQ1YsS0FBSyxFQUFFLEdBQUc7WUFDVixLQUFLLEVBQUUsR0FBRztZQUNWLE9BQU8sRUFBRSxHQUFHO1lBQ1osT0FBTyxFQUFFLEdBQUc7WUFDWixRQUFRLEVBQUUsRUFBRTtZQUNaLFVBQVUsRUFBRSxFQUFFO1lBQ2QsV0FBVyxFQUFFLEVBQUU7WUFDZixXQUFXLEVBQUUsRUFBRTtZQUNmLGlCQUFpQixFQUFFLEVBQUU7WUFDckIsZUFBZSxFQUFFLEVBQUU7WUFDbkIsb0JBQW9CLEVBQUUsR0FBRztZQUN6QixxQkFBcUIsRUFBRSxFQUFFO1lBQ3pCLGdCQUFnQixFQUFFLENBQUM7WUFDbkIsYUFBYSxFQUFFLEVBQUU7WUFDakIsaUJBQWlCLEVBQUUsRUFBRTtZQUNyQixXQUFXLEVBQUUsRUFBRTtZQUNmLGVBQWUsRUFBRSxFQUFFO1lBQ25CLG9CQUFvQixFQUFFLEVBQUU7WUFDeEIsWUFBWSxFQUFFLEVBQUU7WUFDaEIsb0JBQW9CLEVBQUUsR0FBRztZQUN6QixrQkFBa0IsRUFBRSxHQUFHO1lBQ3ZCLGlCQUFpQixFQUFFLEdBQUc7WUFDdEIsdUJBQXVCLEVBQUUsR0FBRztZQUM1Qix5QkFBeUIsRUFBRSxHQUFHO1lBQzlCLHdCQUF3QixFQUFFLEdBQUc7WUFDN0IsdUJBQXVCLEVBQUUsR0FBRztZQUM1QixtQkFBbUIsRUFBRSxHQUFHO1lBQ3hCLGdCQUFnQixFQUFFLEdBQUc7WUFDckIsZUFBZSxFQUFFLEdBQUc7WUFDcEIscUJBQXFCLEVBQUUsR0FBRztZQUMxQix5QkFBeUIsRUFBRSxHQUFHO1lBQzlCLG9CQUFvQixFQUFFLEdBQUc7WUFDekIsb0JBQW9CLEVBQUUsR0FBRztZQUN6QixzQkFBc0IsRUFBRSxHQUFHO1lBQzNCLHNCQUFzQixFQUFFLEdBQUc7WUFDM0Isc0JBQXNCLEVBQUUsR0FBRztZQUMzQixtQkFBbUIsRUFBRSxHQUFHO1lBQ3hCLHFCQUFxQixFQUFFLEdBQUc7WUFDMUIsbUJBQW1CLEVBQUUsR0FBRztZQUN4QixtQkFBbUIsRUFBRSxHQUFHO1lBQ3hCLG1CQUFtQixFQUFFLEdBQUc7WUFDeEIscUJBQXFCLEVBQUUsR0FBRztZQUMxQixtQkFBbUIsRUFBRSxHQUFHO1lBQ3hCLHFCQUFxQixFQUFFLEdBQUc7WUFDMUIsa0JBQWtCLEVBQUUsR0FBRztZQUN2QixvQkFBb0IsRUFBRSxHQUFHO1lBQ3pCLGtCQUFrQixFQUFFLEdBQUc7WUFDdkIsb0JBQW9CLEVBQUUsR0FBRztZQUN6QixrQkFBa0IsRUFBRSxHQUFHO1lBQ3ZCLG9CQUFvQixFQUFFLEdBQUc7WUFDekIsRUFBRSxFQUFFLFFBQVE7WUFDWixFQUFFLEVBQUUsVUFBVTtZQUNkLEVBQUUsRUFBRSxXQUFXO1lBQ2YsRUFBRSxFQUFFLFdBQVc7WUFDZixFQUFFLEVBQUUsaUJBQWlCO1lBQ3JCLEVBQUUsRUFBRSxlQUFlO1NBQ3BCLENBQUM7SUFDSixDQUFDLENBQUM7SUFDRixPQUFPO1FBQ0wsYUFBYTtRQUNiLDJCQUEyQjtRQUMzQix1QkFBdUI7UUFDdkIsd0JBQXdCO1FBQ3hCLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QsVUFBVTtRQUNWLGlCQUFpQjtLQUNsQixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsTUFBTSwyQkFBMkIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsRUFBRTs7SUFDdkUsSUFBSSxVQUFVLENBQUM7SUFDZixJQUFJLFFBQWEsQ0FBQztJQUNsQixJQUFJO1FBQ0YsUUFBUSxHQUFHLE1BQU0sYUFBYSxDQUFDLG9CQUFvQixDQUNqRCxzQkFBc0IsR0FBRyxLQUFLLENBQy9CLENBQUM7S0FDSDtJQUFDLE9BQU8sR0FBRyxFQUFFO1FBQ1osTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN2QztJQUNELE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQztJQUVyQixJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUMzQixVQUFVLEdBQUcsU0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsMENBQUUsRUFBRSxDQUFDO0tBQzlCO1NBQU07UUFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTlDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixNQUFNLFFBQVEsR0FBRyxNQUFNLGNBQWMsQ0FBQztZQUNwQyxTQUFTLEVBQUUsRUFBRTtZQUNiLFFBQVEsRUFBRSxFQUFFO1lBQ1osS0FBSyxFQUFFLEtBQUs7WUFDWixRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0I7WUFDMUMsS0FBSyxFQUFFLGFBQWE7U0FDckIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLFNBQVEsYUFBUixRQUFRLHVCQUFSLFFBQVEsQ0FBRSxNQUFNLE1BQUssT0FBTyxFQUFFO2dCQUNoQyxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQzVDO1lBQ0QsVUFBVSxHQUFHLGNBQVEsQ0FBQyxJQUFJLDBDQUFFLEVBQUUsQ0FBQztTQUNoQzthQUFNO1lBQ0wsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBQ25DO0tBQ0Y7SUFDRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFDRixNQUFNLGNBQWMsR0FBRyxLQUFLLEVBQUUsWUFBaUIsRUFBRSxFQUFFO0lBQ2pELE1BQU0sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsWUFBWSxDQUFDO0lBRXJFLE1BQU0sSUFBSSxHQUFHO1FBQ1gsU0FBUztRQUNULFFBQVE7UUFDUixLQUFLO1FBQ0wsUUFBUTtRQUVSLE9BQU8sRUFBRSxJQUFJO1FBQ2IsUUFBUSxFQUFFLGNBQWM7UUFDeEIsTUFBTSxFQUFFLENBQUM7UUFDVCxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDZixLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0tBQzFDLENBQUM7SUFDRixNQUFNLEtBQUssR0FBUSxNQUFNLGFBQWEsQ0FBQyxtQkFBbUIsQ0FDeEQsZUFBZSxFQUNmLElBQUksQ0FDTCxDQUFDO0lBRUYsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLHVCQUF1QixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7O0lBQ3BELElBQUk7UUFDRixJQUFJLFVBQVUsQ0FBQztRQUNmLElBQUksUUFBYSxDQUFDO1FBQ2xCLElBQUk7WUFDRixRQUFRLEdBQUcsTUFBTSxhQUFhLENBQUMsb0JBQW9CLENBQ2pELGtCQUFrQixHQUFHLEtBQUssQ0FDM0IsQ0FBQztTQUNIO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDWixNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDO1FBRXJCLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQzNCLFVBQVUsR0FBRyxTQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywwQ0FBRSxFQUFFLENBQUM7U0FDOUI7YUFBTTtZQUNMLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDOUIsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztZQUNyQyxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1lBQ3JDLE1BQU0sUUFBUSxHQUFHLE1BQU0sVUFBVSxDQUFDO2dCQUNoQyxTQUFTLEVBQUUsRUFBRTtnQkFDYixRQUFRLEVBQUUsRUFBRTtnQkFDWixLQUFLLEVBQUUsS0FBSztnQkFDWixRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0I7Z0JBQzFDLEtBQUssRUFBRSxDQUFDO2FBQ1QsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxRQUFRLEVBQUU7Z0JBQ1osSUFBSSxTQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsTUFBTSxNQUFLLE9BQU8sRUFBRTtvQkFDaEMsTUFBTSxJQUFJLDREQUFTLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDNUM7Z0JBQ0QsVUFBVSxHQUFHLGNBQVEsQ0FBQyxJQUFJLDBDQUFFLEVBQUUsQ0FBQzthQUNoQztpQkFBTTtnQkFDTCxNQUFNLElBQUksNERBQVMsQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLENBQUMsQ0FBQzthQUNoRDtTQUNGO1FBQ0QsT0FBTyxVQUFVLENBQUM7S0FDbkI7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDekM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBRyxLQUFLLEVBQUUsUUFBYSxFQUFFLEVBQUU7SUFDekMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ2xDLElBQUk7UUFDRixNQUFNLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLFFBQVEsQ0FBQztRQUVqRSxNQUFNLElBQUksR0FBRztZQUNYLFNBQVM7WUFDVCxRQUFRO1lBQ1IsS0FBSztZQUNMLFFBQVE7WUFFUixPQUFPLEVBQUUsSUFBSTtZQUNiLFFBQVEsRUFBRSxjQUFjO1lBQ3hCLE1BQU0sRUFBRSxDQUFDO1lBQ1QsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ2YsS0FBSyxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQztTQUMxQyxDQUFDO1FBQ0YsTUFBTSxLQUFLLEdBQVEsTUFBTSxhQUFhLENBQUMsbUJBQW1CLENBQ3hELFdBQVcsRUFDWCxJQUFJLENBQ0wsQ0FBQztRQUNGLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7SUFBQyxPQUFPLEtBQUssRUFBRTtRQUNkLE1BQU0sSUFBSSw0REFBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDekM7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLE1BQU0sR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDM0QsSUFBSSxNQUFNLEVBQUU7UUFDVixHQUFHLElBQUksVUFBVSxHQUFHLE1BQU0sQ0FBQztLQUM1QjtJQUNELElBQUksU0FBUyxJQUFJLFdBQVcsRUFBRTtRQUM1QixJQUFJLFNBQVMsS0FBSyxZQUFZLEVBQUU7WUFDOUIsR0FBRyxJQUFJLFVBQVUsR0FBRyxXQUFXLENBQUM7U0FDakM7YUFBTSxJQUFJLFNBQVMsS0FBSyxhQUFhLEVBQUU7WUFDdEMsR0FBRyxJQUFJLGtCQUFrQixHQUFHLFdBQVcsQ0FBQztTQUN6QztLQUNGO0lBRUQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxVm1EO0FBRXJELE1BQU0sbUJBQW1CO0lBRXZCO1FBQ0UsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHlEQUFZLENBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUMxQixDQUFDO0lBQ0osQ0FBQztJQUVELEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsV0FBVztRQUM1RCxJQUFJO1lBQ0YsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUNuRjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFDbEIsTUFBTSxLQUFLLENBQUM7U0FDYjtJQUNILENBQUM7Q0FFRjtBQUVELGlFQUFlLG1CQUFtQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3hCQztBQUU3QixNQUFNLFdBQVcsR0FBRyxDQUFDLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxjQUFjLEVBQUUsRUFBRSxFQUFFO0lBQ3hFLE1BQU0sWUFBWSxHQUFHLElBQUksMERBQWtCLENBQ3pDLFFBQVEsRUFDUixZQUFZLEVBQ1osY0FBYyxDQUNmLENBQUM7SUFFRixzREFBYyxDQUFDO1FBQ2IsT0FBTyxFQUFFLElBQUk7UUFDYixJQUFJLEVBQUUsWUFBWTtLQUNuQixDQUFDLENBQUM7SUFFSCxNQUFNLGVBQWUsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFO1FBQ2hDLE9BQU8sWUFBWSxDQUFDLGVBQWUsQ0FBQztZQUNsQyxXQUFXLEVBQUUsU0FBUztZQUN0QixLQUFLLEVBQUUsS0FBSztZQUNaLE1BQU0sRUFBRSxTQUFTO1NBQ2xCLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUVGLE1BQU0sY0FBYyxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtRQUNwQyxJQUFJO1lBQ0YsTUFBTSxRQUFRLEdBQUcsTUFBTSxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25ELFlBQVksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzdDLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQztTQUN4QjtRQUFDLE9BQU8sS0FBSyxFQUFFO1lBQ2QsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEIsTUFBTSxLQUFLLENBQUM7U0FDYjtJQUNILENBQUMsQ0FBQztJQUVGLE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDcEMsSUFBSTtZQUNGLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRTtnQkFDNUMsT0FBTztvQkFDTCxZQUFZLEVBQUUsSUFBSSxDQUFDLGFBQWE7b0JBQ2hDLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWTtpQkFDL0IsQ0FBQztZQUNKLENBQUMsQ0FBQyxDQUFDO1NBQ0o7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BCLE1BQU0sS0FBSyxDQUFDO1NBQ2I7SUFDSCxDQUFDLENBQUM7SUFFRixPQUFPLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxDQUFDO0FBQ2pFLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoRHNFO0FBQ3hFLE1BQU0sSUFBSSxHQUFHLG1CQUFPLENBQUMsa0JBQU0sQ0FBQyxDQUFDO0FBRTdCLE1BQU0saUJBQWtCLFNBQVEsa0VBQWM7SUFHMUM7UUFDSSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDekMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBQ0QscUJBQXFCLENBQUMsT0FBZ0I7UUFDbkMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxRQUFrQixFQUFFLE9BQWdCO1FBQ25ELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxPQUFPLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELGlCQUFpQixDQUFDLEtBQVksRUFBRSxPQUFnQjtRQUM1QyxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsT0FBTyxLQUFLLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxlQUFlLENBQUMsT0FBdUI7UUFDbkMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDeEQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxRQUFRLEdBQUcsSUFBSSxDQUFDLHlDQUF5QyxDQUFDLENBQUM7UUFDaEcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHO1FBQzFCLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7UUFDaEMsT0FBTyxJQUFJO0lBQ2YsQ0FBQztJQUNELEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsSUFBSTtRQUMvQixNQUFNLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUM1QixJQUFJLENBQ1A7UUFDRCxPQUFPLElBQUk7SUFDZixDQUFDO0lBQ0QsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEdBQUcsRUFBRSxJQUFJO1FBQ2pDLE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQzNCLElBQUksQ0FDUDtRQUNELE9BQU8sSUFBSTtJQUNmLENBQUM7Q0FDSjtBQUNELGlFQUFlLGlCQUFpQjs7Ozs7Ozs7Ozs7Ozs7O0FDakRoQyxNQUFNLDJCQUEyQixHQUFHLEdBQUcsRUFBRTtJQUN2QyxPQUFPOzs7Ozs4RkFLcUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0I7Ozs7O0dBSzNILENBQUM7QUFDSixDQUFDLENBQUM7QUFDRixNQUFNLHlCQUF5QixHQUFHLEdBQUcsRUFBRTtJQUNyQyxPQUFPOzs7Z0dBR3VGLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9COzs7O0VBSTlILENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHLENBQUMsUUFBUSxFQUFDLFFBQVEsRUFBRSxFQUFFO0lBQ25ELE9BQU8sTUFBTSxRQUFRLENBQUMsU0FBUzs7bURBRWtCLFFBQVE7O0lBRXZELE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9COzs7Ozs7Ozs7OztHQVdqQztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsR0FBRztJQUNqQiwyQkFBMkI7SUFDM0IseUJBQXlCO0lBQ3pCLHNCQUFzQjtDQUN2QixDQUFDO0FBRUYsaUVBQWUsVUFBVSxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakRvQjtBQUNwQjtBQUNvQjtBQUNKO0FBQzFDLG1EQUFZLENBQUMsK0RBQVMsQ0FBQztBQUN2QixtREFBWSxDQUFDLDZEQUFPLENBQUM7QUFFZCxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7O0lBQ3RELE1BQU0sZ0JBQWdCLEdBQVEsRUFBRTtJQUNoQyxJQUFJLEdBQUcsQ0FBQztJQUVSLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7UUFDL0IsS0FBSyxDQUFDO1lBQ0YsZ0JBQWdCLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxNQUFNO1lBQ3pDLEdBQUcsR0FBRyw2QkFBNkIsQ0FDL0IsZ0JBQWdCLEVBQ2hCLEtBQUssQ0FFUixDQUFDO1lBQ0YsTUFBTTtRQUNWLEtBQUssQ0FBQztZQUNGLFVBQUksQ0FBQyxVQUFVLDBDQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7Z0JBQ2hDLGdCQUFnQixDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUNqRCxDQUFDLENBQUM7WUFFRixHQUFHLEdBQUcsNkJBQTZCLENBQy9CLGdCQUFnQixFQUNoQixLQUFLLENBRVIsQ0FBQztZQUNGLE1BQU07S0FDYjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sNkJBQTZCLEdBQUcsS0FBSyxFQUFFLGdCQUFnQixFQUFFLEtBQUssRUFBRSxFQUFFO0lBQ3BFLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRCxJQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7SUFFckIsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN4QixNQUFNLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0UsTUFBTSxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFN0UsTUFBTSxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUUsTUFBTSxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRTlFLE1BQU0sUUFBUSxHQUFHLE1BQU0sc0VBQTJCLENBQUMsRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvRSxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2IsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUU7UUFDekIsTUFBTSxRQUFRLEdBQUcsTUFBTSw2RUFBa0MsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztRQUNyRyxJQUFJLFFBQVEsRUFBRTtZQUNWLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFDLE9BQU8sRUFBQyxFQUFFO2dCQUN6QixNQUFNLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUI7Z0JBQ3ZELElBQUksbUJBQW1CLEVBQUU7b0JBQ3JCLE1BQU0seUJBQXlCLEdBQUcsNENBQUssQ0FBQyxtQkFBbUIsQ0FBQztvQkFDNUQsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO3dCQUNiLElBQUkseUJBQXlCLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUU7NEJBRXZGLFlBQVksR0FBRyxZQUFZLEdBQUcsT0FBTyxDQUFDLGNBQWM7eUJBRXZEO3FCQUNKO3lCQUFNLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTt3QkFDcEIsSUFBSSx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUU7NEJBRWpGLFlBQVksR0FBRyxZQUFZLEdBQUcsT0FBTyxDQUFDLGNBQWM7eUJBRXZEO3FCQUVKO2lCQUdKO1lBR0wsQ0FBQyxDQUFDO1NBQ0w7SUFDTCxDQUFDLENBQUMsQ0FDTDtJQUVELE9BQU8sWUFBWTtBQUN2QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2hGNkM7QUFDaUI7QUFFeEQsTUFBTSxxQkFBcUIsR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFDaEQsSUFBSSxLQUFLLENBQUM7SUFDVixNQUFNLFdBQVcsR0FBRyxNQUFNLHFFQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM5QyxNQUFNLGNBQWMsR0FBUSxFQUFFLENBQUM7SUFFL0IsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtRQUMvQixLQUFLLENBQUM7WUFDRixJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyx5QkFBeUIsRUFBRTtnQkFDMUMsY0FBYyxDQUFDLG1CQUFtQixHQUFHLEdBQUcsQ0FBQztnQkFDekMsY0FBYyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7Z0JBQ3ZCLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsa0JBQWtCLEVBQUUsRUFBRTtvQkFDaEQsY0FBYyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7d0JBQ25CLHFCQUFxQixFQUFFLGtCQUFrQixDQUFDLElBQUk7cUJBQ2pELENBQUMsQ0FBQztnQkFDUCxDQUFDLENBQUMsQ0FBQztnQkFFSCxNQUFNLGdCQUFnQixHQUFHLE1BQU0sK0RBQW9CLENBQUMsRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLENBQUM7Z0JBQzlFLEtBQUssR0FBRyxNQUFNLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDO2FBQ3JEO2lCQUFNO2dCQUNILEtBQUssR0FBRyxDQUFDO2FBQ1o7WUFDRCxNQUFNO1FBQ1YsS0FBSyxDQUFDO1lBQ0YsY0FBYyxDQUFDLG1CQUFtQixHQUFHLEdBQUcsQ0FBQztZQUN6QyxjQUFjLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUN2QixXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNsQyxjQUFjLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvQkFDbkIscUJBQXFCLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ25DLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxjQUFjLEdBQUcsTUFBTSwrREFBb0IsQ0FBQyxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsQ0FBQztZQUM1RSxLQUFLLEdBQUcsTUFBTSxrQkFBa0IsQ0FBQyxjQUFjLENBQUM7WUFDaEQsTUFBTTtLQUNiO0lBQ0QsT0FBTyxLQUFLO0FBQ2hCLENBQUM7QUFFRCxNQUFNLGtCQUFrQixHQUFHLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRTtJQUN2QyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFDakIsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7SUFDdkIsTUFBTSxLQUFLLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDO0lBRXJHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNmLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixDQUFDO1FBQ3pELElBQUksZ0JBQWdCLEVBQUU7WUFDbEIsTUFBTSxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDO1lBQzFJLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNqQyxNQUFNLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFckMsSUFBSSxRQUFRLEdBQUcsU0FBUyxFQUFDO2dCQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7Z0JBQ3BCLFFBQVEsRUFBRSxDQUFDO2FBQ2Q7U0FDSjtJQUNMLENBQUMsQ0FBQztJQUNGLE9BQU8sUUFBUSxDQUFDO0FBQ3BCLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUQ2QztBQUNpQjtBQUNyQztBQUNvQjtBQUNKO0FBQzFDLG1EQUFZLENBQUMsK0RBQVMsQ0FBQztBQUN2QixtREFBWSxDQUFDLDZEQUFPLENBQUM7QUFFZCxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUU7O0lBQ3ZELElBQUksYUFBYSxHQUFRLEVBQUU7SUFDM0IsSUFBSSxvQkFBb0IsR0FBUSxFQUFFO0lBQ2xDLElBQUksR0FBRyxDQUFDO0lBQ1IsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksRUFBRTtRQUMvQixLQUFLLENBQUM7WUFDRixhQUFhLENBQUMsRUFBRSxHQUFHLEVBQUU7WUFDckIsYUFBYSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQ2pCLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEVBQy9CLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEVBQy9CLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxDQUMxQjtZQUNELGFBQWEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBRTdELG9CQUFvQixDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7WUFHNUQsR0FBRyxHQUFHLGtCQUFrQixDQUNwQixhQUFhLEVBQ2Isb0JBQW9CLEVBQ3BCLFVBQVUsQ0FDYixDQUFDO1lBQ0YsTUFBTTtRQUNWLEtBQUssQ0FBQztZQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0scUVBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRTlDLE1BQU0sT0FBTyxHQUFHLEVBQUU7WUFDbEIsTUFBTSxZQUFZLEdBQUcsRUFBRTtZQUN2QixNQUFNLFNBQVMsR0FBUSxFQUFFO1lBQ3pCLFNBQVMsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNqQixvQkFBb0IsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUU1QixNQUFNLFdBQVcsR0FBRztnQkFDaEIsRUFBRSxNQUFNLEVBQUUsbUJBQW1CLEVBQUU7Z0JBQy9CLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFO2dCQUMvQixFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUU7YUFDMUI7WUFHRCxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBRWIsaUJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLDBDQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7Z0JBQ3JDLE9BQU8sQ0FBQyxJQUFJLENBQUM7b0JBQ1QscUJBQXFCLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ25DLENBQUM7Z0JBQ0YsWUFBWSxDQUFDLElBQUksQ0FBQztvQkFDZCxjQUFjLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQzVCLENBQUM7WUFDTixDQUFDLENBQUMsQ0FDTCxDQUFDO1lBQ0YsYUFBYSxHQUFHO2dCQUNaLEVBQUUsRUFBRSxXQUFXO2dCQUNmLEdBQUcsRUFBRTtvQkFDRCxFQUFFLEVBQUUsT0FBTztpQkFDZDthQUNKO1lBQ0Qsb0JBQW9CLEdBQUc7Z0JBQ25CLEVBQUUsRUFBRSxZQUFZO2FBQ25CO1lBRUQsR0FBRyxHQUFHLGtCQUFrQixDQUNwQixhQUFhLEVBQ2Isb0JBQW9CLEVBQ3BCLFVBQVUsQ0FDYixDQUFDO1lBQ0YsTUFBTTtLQUNiO0lBQ0QsT0FBTyxHQUFHO0FBQ2QsQ0FBQztBQUNELE1BQU0sa0JBQWtCLEdBQUcsS0FBSyxFQUFFLFNBQVMsRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsRUFBRTtJQUN4RSxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztJQUMzRCxNQUFNLEtBQUssR0FBRyxNQUFNLCtEQUFvQixDQUFDO1FBQ3JDLEtBQUssRUFBRSxTQUFTO0tBQ25CLENBQUMsQ0FBQztJQUNILE1BQU0sYUFBYSxHQUFHLE1BQU0sc0VBQTJCLENBQUM7UUFDcEQsS0FBSyxFQUFFLG9CQUFvQjtLQUM5QixDQUFDLENBQUM7SUFDSCxJQUFJLHlCQUF5QixHQUFHLENBQUMsRUFDN0IsMkJBQTJCLEdBQUcsQ0FBQyxFQUMvQix5QkFBeUIsR0FBRyxDQUFDLEVBQzdCLDBCQUEwQixHQUFHLENBQUM7SUFFbEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN4QixNQUFNLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0UsTUFBTSxlQUFlLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFN0UsTUFBTSxjQUFjLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUUsTUFBTSxZQUFZLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRTlFLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtRQUViLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUNmLE1BQU0sb0JBQW9CLEdBQUcsNENBQUssQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUNwRSxJQUFJLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNsRix5QkFBeUIsRUFBRTthQUM5QjtRQUVMLENBQUMsQ0FBQztRQUVGLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUM5QixNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDO1lBQ3hDLE1BQU0sV0FBVyxHQUFHLDRDQUFLLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRW5ELE1BQU0sVUFBVSxHQUFHLDRDQUFLLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQztZQUMvQyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFDekU7Z0JBQ0UsMkJBQTJCLEVBQUU7YUFDaEM7WUFDRCxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxTQUFTLEtBQUssWUFBWSxFQUFFO2dCQUN0Ryx5QkFBeUIsRUFBRTthQUM5QjtZQUNELElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLFNBQVMsS0FBSyxhQUFhLEVBQUU7Z0JBQ3ZHLDBCQUEwQixFQUFFO2FBQy9CO1FBQ0wsQ0FBQyxDQUFDO0tBQ0w7U0FBTSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUU7UUFFcEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2YsTUFBTSxvQkFBb0IsR0FBRyw0Q0FBSyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1lBQ3BFLElBQUksb0JBQW9CLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUM1RSx5QkFBeUIsRUFBRTthQUM5QjtRQUVMLENBQUMsQ0FBQztRQUNGLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUM5QixNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDO1lBQ3hDLE1BQU0sV0FBVyxHQUFHLDRDQUFLLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBRW5ELE1BQU0sVUFBVSxHQUFHLDRDQUFLLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQztZQUMvQyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQ25FO2dCQUNFLDJCQUEyQixFQUFFO2FBQ2hDO1lBQ0QsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLFNBQVMsS0FBSyxZQUFZLEVBQUU7Z0JBQ2hHLHlCQUF5QixFQUFFO2FBQzlCO1lBQ0QsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLFNBQVMsS0FBSyxhQUFhLEVBQUU7Z0JBQ2pHLDBCQUEwQixFQUFFO2FBQy9CO1FBQ0wsQ0FBQyxDQUFDO0tBRUw7SUFDRCxJQUFJLGNBQWMsQ0FBQztJQUVuQixJQUFJLDJCQUEyQixLQUFLLENBQUMsRUFBRTtRQUNuQyxjQUFjLEdBQUcsQ0FBQyx5QkFBeUIsR0FBRyxHQUFHLENBQUMsR0FBRywyQkFBMkIsQ0FBQztLQUNwRjtTQUNJO1FBQ0QsY0FBYyxHQUFHLENBQUMsQ0FBQztLQUN0QjtJQUNELE9BQU87UUFDSCxnQkFBZ0IsRUFBRSx5QkFBeUI7UUFDM0MsV0FBVyxFQUFFLDJCQUEyQjtRQUN4QyxRQUFRLEVBQUUseUJBQXlCO1FBQ25DLFVBQVUsRUFBRSwwQkFBMEI7UUFDdEMsVUFBVSxFQUFFLGNBQWM7S0FDN0IsQ0FBQztBQUNOLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEs2QztBQUNpQjtBQUNyQztBQUNvQjtBQUNKO0FBQzFDLG1EQUFZLENBQUMsK0RBQVMsQ0FBQztBQUN2QixtREFBWSxDQUFDLDZEQUFPLENBQUM7QUFFZCxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7O0lBQ25ELE1BQU0sYUFBYSxHQUFRLEVBQUU7SUFDN0IsSUFBSSxHQUFHLENBQUM7SUFFUixRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFO1FBQy9CLEtBQUssQ0FBQztZQUNGLGFBQWEsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1lBQ3JELEdBQUcsR0FBRyxtQkFBbUIsQ0FDckIsYUFBYSxFQUNiLEtBQUssQ0FDUixDQUFDO1lBQ0YsTUFBTTtRQUNWLEtBQUssQ0FBQztZQUNGLE1BQU0sV0FBVyxHQUFHLE1BQU0scUVBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBRTlDLGFBQWEsQ0FBQyxFQUFFLEdBQUcsRUFBRTtZQUNyQixNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2IsaUJBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLDBDQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7Z0JBQ3JDLGFBQWEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO29CQUNsQixjQUFjLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQzVCLENBQUM7WUFFTixDQUFDLENBQUMsQ0FDTCxDQUFDO1lBQ0YsR0FBRyxHQUFHLG1CQUFtQixDQUNyQixhQUFhLEVBQ2IsS0FBSyxDQUNSLENBQUM7WUFDRixNQUFNO0tBQ2I7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLG1CQUFtQixHQUFHLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsRUFBRTtJQUM5RCxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLG9CQUFvQixDQUFDLENBQUM7SUFDM0QsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7SUFDekIsSUFBSSwyQkFBMkIsR0FBRyxDQUFDLENBQUM7SUFHcEMsTUFBTSxhQUFhLEdBQUcsTUFBTSxzRUFBMkIsQ0FBQztRQUNwRCxLQUFLLEVBQUUsb0JBQW9CO0tBQzlCLENBQUMsQ0FBQztJQUNILE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7SUFDeEIsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNFLE1BQU0sZUFBZSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRTdFLE1BQU0sY0FBYyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVFLE1BQU0sWUFBWSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUc5RSxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFLEVBQUU7UUFDOUIsTUFBTSxXQUFXLEdBQUcsNENBQUssQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDbkQsTUFBTSxTQUFTLEdBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBQztRQUN4QyxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUU7WUFDYixJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDekUsZ0JBQWdCLEVBQUUsQ0FBQzthQUN0QjtZQUNELElBQUksV0FBVyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLFNBQVMsS0FBSyxlQUFlLEVBQUU7Z0JBQzFHLDJCQUEyQixFQUFFLENBQUM7YUFDakM7U0FDSjthQUFNLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtZQUNwQixJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUU7Z0JBQ25FLGdCQUFnQixFQUFFLENBQUM7YUFDdEI7WUFDRCxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksU0FBUyxLQUFLLGVBQWUsRUFBRTtnQkFDcEcsMkJBQTJCLEVBQUUsQ0FBQzthQUNqQztTQUNKO0lBR0wsQ0FBQyxDQUFDO0lBQ0YsSUFBSSxVQUFVLENBQUM7SUFFZixJQUFJLGdCQUFnQixLQUFLLENBQUMsRUFBRTtRQUN4QixVQUFVLEdBQUcsQ0FBQywyQkFBMkIsR0FBRyxHQUFHLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQztLQUN2RTtTQUNJO1FBQ0QsVUFBVSxHQUFHLENBQUMsQ0FBQztLQUNsQjtJQUVELE9BQU87UUFDSCxVQUFVLEVBQUUsVUFBVTtRQUN0QixpQkFBaUIsRUFBRSwyQkFBMkI7UUFDOUMsZ0JBQWdCLEVBQUUsZ0JBQWdCO0tBQ3JDLENBQUM7QUFDTixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3RjZDO0FBQ2lCO0FBQ3NFO0FBRTlILE1BQU0sd0JBQXdCLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFOztJQUNuRCxNQUFNLGdCQUFnQixHQUFRLEVBQUU7SUFDaEMsSUFBSSxHQUFHLENBQUM7SUFFUixRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFO1FBQy9CLEtBQUssQ0FBQztZQUNGLGdCQUFnQixDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ3hCLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0JBQ3JCLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTTtnQkFDdkIsYUFBYSxFQUFFLFFBQVE7YUFDMUIsQ0FBQztZQUNGLEdBQUcsR0FBRyxzQkFBc0IsQ0FDeEIsZ0JBQWdCLENBRW5CLENBQUM7WUFDRixNQUFNO1FBQ1YsS0FBSyxDQUFDO1lBQ0YsTUFBTSxTQUFTLEdBQUcsTUFBTSxxRUFBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFFNUMsZ0JBQWdCLENBQUMsRUFBRSxHQUFHLEVBQUU7WUFDeEIsZUFBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssMENBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtnQkFDbkMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvQkFDckIsY0FBYyxFQUFFLElBQUksQ0FBQyxFQUFFO29CQUN2QixhQUFhLEVBQUUsUUFBUTtpQkFFMUIsQ0FBQztZQUNOLENBQUMsQ0FBQztZQUVGLEdBQUcsR0FBRyxzQkFBc0IsQ0FDeEIsZ0JBQWdCLENBRW5CLENBQUM7WUFDRixNQUFNO0tBQ2I7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFFRCxNQUFNLHNCQUFzQixHQUFHLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSxFQUFFO0lBQ3RELE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUNuRCxNQUFNLFFBQVEsR0FBRyxNQUFNLHNFQUEyQixDQUFDLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLENBQUM7SUFDL0UsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDO0lBQ3hCLElBQUksa0JBQWtCLEdBQUcsQ0FBQztJQUMxQixJQUFJLGtCQUFrQixHQUFHLENBQUM7SUFDMUIsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLEVBQUUsbUJBQW1CLEdBQUcsRUFBRSxFQUFFLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztJQUMvRSxNQUFNLGNBQWMsR0FBRyxFQUFFO0lBRXpCLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2pDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdkIsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQzFCLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxvRkFBdUIsQ0FBQztnQkFDbEUsTUFBTSxzQkFBc0IsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLHVGQUEwQixDQUFDO2dCQUN4RSxNQUFNLHFCQUFxQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsc0ZBQXlCLENBQUM7Z0JBRXRFLElBQUksbUJBQW1CLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO29CQUN4RCxnQkFBZ0IsRUFBRTtvQkFDbEIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO3dCQUNsQixXQUFXLEVBQUUsT0FBTyxDQUFDLFdBQVc7d0JBQ2hDLFdBQVcsRUFBRSxPQUFPLENBQUMsWUFBWTtxQkFDcEMsQ0FBQztpQkFDTDtxQkFDSSxJQUFJLHNCQUFzQixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtvQkFDaEUsa0JBQWtCLEVBQUU7b0JBQ3BCLG1CQUFtQixDQUFDLElBQUksQ0FBQzt3QkFDckIsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXO3dCQUNoQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFlBQVk7cUJBRXBDLENBQUM7aUJBQ0w7cUJBQ0ksSUFBSSxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLEVBQUU7b0JBQy9ELGtCQUFrQixFQUFFO29CQUNwQixrQkFBa0IsQ0FBQyxJQUFJLENBQUM7d0JBQ3BCLFdBQVcsRUFBRSxPQUFPLENBQUMsV0FBVzt3QkFDaEMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxZQUFZO3FCQUNwQyxDQUFDO2lCQUNMO2FBQ0o7aUJBQ0k7Z0JBQ0QsZ0JBQWdCLEVBQUU7YUFDckI7UUFDTCxDQUFDLENBQUMsQ0FBQztLQUNOO0lBQ0QsY0FBYyxDQUFDLElBQUksQ0FBQztRQUNoQixVQUFVLEVBQUUsUUFBUSxDQUFDLE1BQU07UUFDM0IsZ0JBQWdCO1FBQ2hCLG1CQUFtQjtRQUNuQixrQkFBa0I7S0FDckIsQ0FBQztJQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztJQUN4RixPQUFPLGNBQWM7QUFDekIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0Y2QztBQUN1QztBQUN0QjtBQUNyQztBQUNvQjtBQUNKO0FBQzFDLG1EQUFZLENBQUMsK0RBQVMsQ0FBQztBQUN2QixtREFBWSxDQUFDLDZEQUFPLENBQUM7QUFFckIsTUFBTSxnQkFBZ0IsR0FBRyxtQkFBbUIsQ0FBQztBQUM3QyxNQUFNLGdCQUFnQixHQUFHLG1CQUFtQixDQUFDO0FBQzdDLE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQztBQUN2QixNQUFNLHFCQUFxQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUU7SUFDOUQsSUFBSTtRQUNGLElBQUksZUFBZSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEtBQUssQ0FBQyxFQUFFO1lBQ25DLGVBQWUsR0FBRywwQkFBMEIsQ0FDMUMsSUFBSSxFQUNKLFVBQVUsQ0FDWCxDQUFDO1NBQ0g7YUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxLQUFLLENBQUMsRUFBRTtZQUMxQyxlQUFlLEdBQUcsTUFBTSxlQUFlLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsT0FBTyxFQUFFLGVBQWUsRUFBRSxDQUFDO0tBQzVCO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDZCxPQUFPLEtBQUs7S0FDYjtBQUNILENBQUM7QUFDRCxNQUFNLDBCQUEwQixHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEVBQUU7SUFDM0QsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUVwQixNQUFNLFNBQVMsR0FBUSxFQUFFO0lBQ3pCLFNBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGdCQUFnQjtJQUNoRCxTQUFTLENBQUMsRUFBRSxHQUFHLEVBQUU7SUFDakIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxDQUFDO0lBQ3BHLE1BQU0sS0FBSyxHQUFHLE1BQU0sK0RBQW9CLENBQUMsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDOUQsTUFBTSxZQUFZLEdBQUcsNENBQUssRUFBRSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkUsTUFBTSxVQUFVLEdBQUcsNENBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDcEQsTUFBTSxnQkFBZ0IsR0FBRyw0Q0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtJQUN6RixNQUFNLGNBQWMsR0FBRyw0Q0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFO0lBQ3ZFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsWUFBWSxFQUN6QyxlQUFlLEVBQUUsVUFBVSxFQUMzQixvQkFBb0IsRUFBRSxnQkFBZ0IsRUFDdEMsbUJBQW1CLEVBQUUsY0FBYyxDQUFDO0lBRXRDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNqQixNQUFNLEtBQUssR0FBRyw0Q0FBSyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQztRQUVwRCxJQUFJLFNBQVMsS0FBSyx5RkFBbUMsRUFBRTtZQUNyRCxJQUNFLEtBQUssQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQ3ZEO2dCQUNBLFlBQVksRUFBRTtnQkFDZCxRQUFRLENBQUMsSUFBSSxDQUFDO29CQUNaLG9CQUFvQixFQUFFLElBQUksQ0FBQywwQkFBMEI7b0JBQ3JELFFBQVEsRUFBRSxJQUFJLENBQUMsSUFBSTtpQkFDcEIsQ0FBQzthQUNIO1NBQ0Y7UUFFRCxJQUFJLFNBQVMsS0FBSyx5RkFBbUMsRUFBRTtZQUNyRCxJQUNFLEtBQUssQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFDL0Q7Z0JBQ0EsWUFBWSxFQUFFO2dCQUNkLFFBQVEsQ0FBQyxJQUFJLENBQUM7b0JBQ1osb0JBQW9CLEVBQUUsSUFBSSxDQUFDLDBCQUEwQjtvQkFDckQsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJO2lCQUNwQixDQUFDO2FBQ0g7U0FDRjtRQUNELElBQUksU0FBUyxLQUFLLG1GQUE2QixFQUFFO1lBQy9DLFlBQVksRUFBRTtZQUNkLFFBQVEsQ0FBQyxJQUFJLENBQUM7Z0JBQ1osb0JBQW9CLEVBQUUsSUFBSSxDQUFDLDBCQUEwQjtnQkFDckQsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJO2FBQ3BCLENBQUM7U0FDSDtJQUVILENBQUMsQ0FBQztJQUNGLE9BQU87UUFDTCxZQUFZO1FBQ1osUUFBUTtLQUNUO0FBRUgsQ0FBQztBQUNELE1BQU0sZUFBZSxHQUFHLEtBQUssRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLEVBQUU7O0lBQ2pELElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztJQUNyQixNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFFcEIsTUFBTSxlQUFlLEdBQVEsRUFBRTtJQUMvQixlQUFlLENBQUMsRUFBRSxHQUFHLEVBQUU7SUFDdkIsZUFBZSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxDQUFDO0lBQzFHLE1BQU0sV0FBVyxHQUFHLE1BQU0scUVBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzlDLE1BQU0sU0FBUyxHQUFRLEVBQUU7SUFDekIsU0FBUyxDQUFDLEVBQUUsR0FBRyxFQUFFO0lBQ2pCLGlCQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSywwQ0FBRSxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDbkMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDaEIscUJBQXFCLEVBQUUsSUFBSSxDQUFDLElBQUk7U0FDakMsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxhQUFhLEdBQVEsRUFBRTtJQUM3QixhQUFhLENBQUMsR0FBRyxHQUFHLEVBQUU7SUFDdEIsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ2pDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztJQUN2QyxNQUFNLEtBQUssR0FBRyxNQUFNLCtEQUFvQixDQUFDLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRXpDLE1BQU0sWUFBWSxHQUFHLDRDQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3ZFLE1BQU0sVUFBVSxHQUFHLDRDQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFO0lBQ3BELE1BQU0sZ0JBQWdCLEdBQUcsNENBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDekYsTUFBTSxjQUFjLEdBQUcsNENBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtJQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLFlBQVksRUFDekMsZUFBZSxFQUFFLFVBQVUsRUFDM0Isb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQ3RDLG1CQUFtQixFQUFFLGNBQWMsQ0FBQztJQUV0QyxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtRQUN4QixNQUFNLEtBQUssR0FBRyw0Q0FBSyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3JELElBQUksVUFBVSxLQUFLLHlGQUFtQyxFQUFFO1lBQ3RELElBQ0UsS0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFDdkQ7Z0JBQ0EsWUFBWSxFQUFFO2dCQUNkLFFBQVEsQ0FBQyxJQUFJLENBQUM7b0JBQ1osb0JBQW9CLEVBQUUsSUFBSSxDQUFDLDBCQUEwQjtvQkFDckQsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJO2lCQUNwQixDQUFDO2FBQ0g7U0FDRjtRQUVELElBQUksVUFBVSxLQUFLLHlGQUFtQyxFQUFFO1lBQ3RELElBQ0UsS0FBSyxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUMvRDtnQkFDQSxZQUFZLEVBQUU7Z0JBQ2QsUUFBUSxDQUFDLElBQUksQ0FBQztvQkFDWixvQkFBb0IsRUFBRSxJQUFJLENBQUMsMEJBQTBCO29CQUNyRCxRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUk7aUJBQ3BCLENBQUM7YUFDSDtTQUNGO1FBQ0QsSUFBSSxVQUFVLEtBQUssbUZBQTZCLEVBQUU7WUFDaEQsWUFBWSxFQUFFO1lBQ2QsUUFBUSxDQUFDLElBQUksQ0FBQztnQkFDWixvQkFBb0IsRUFBRSxJQUFJLENBQUMsMEJBQTBCO2dCQUNyRCxRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUk7YUFDcEIsQ0FBQztTQUNIO0tBRUY7SUFDRCxPQUFPO1FBQ0wsWUFBWTtRQUNaLFFBQVE7S0FDVDtBQUVILENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0o2QztBQUV2QyxNQUFNLE1BQU0sR0FBRyxJQUFJLHdEQUFZLEVBQUUsQ0FBQztBQUN6QyxNQUFNLFVBQVUsR0FBRyxLQUFLLElBQUksRUFBRTtJQUM1QixNQUFNLE1BQU0sQ0FBQyxTQUFTLHNDQUFxQyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUNGLFVBQVUsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ05rRTtBQUNNO0FBQ3JGLE1BQU0scUJBQXFCO0lBQ3pCLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBd0I7UUFDbkQsSUFBSSxhQUFhLENBQUM7UUFDbEIsUUFBUSxnQkFBZ0IsRUFBRTtZQUN4QixLQUFLLGdHQUFtQztnQkFDdEMsYUFBYSxHQUFHLG1HQUFzQyxDQUFDO2dCQUN2RCxNQUFNO1lBQ1IsS0FBSyw2RkFBZ0M7Z0JBQ25DLGFBQWEsR0FBRyxnR0FBbUMsQ0FBQztnQkFDcEQsTUFBTTtZQUNSLEtBQUssa0dBQXFDO2dCQUN4QyxhQUFhLEdBQUcscUdBQXdDLENBQUM7Z0JBQ3pELE1BQU07WUFDUixLQUFLLHFHQUF3QztnQkFDM0MsYUFBYSxHQUFHLHNHQUF5QyxDQUFDO2dCQUMxRCxNQUFNO1lBQ1IsS0FBSyxxR0FBd0M7Z0JBQzNDLGFBQWEsR0FBRyx3R0FBMkMsQ0FBQztnQkFDNUQsTUFBTTtZQUNSLEtBQUsseUdBQTRDO2dCQUMvQyxhQUFhLEdBQUcsMkdBQThDLENBQUM7Z0JBQy9ELE1BQU07WUFDUixLQUFLLHlHQUE0QztnQkFDL0MsYUFBYSxHQUFHLDRHQUErQyxDQUFDO2dCQUNoRSxNQUFNO1lBQ1IsS0FBSywrR0FBa0Q7Z0JBQ3JELGFBQWEsR0FBRyxrR0FBcUMsQ0FBQztnQkFDdEQsTUFBTTtZQUNSLEtBQUssOEZBQWlDO2dCQUNwQyxhQUFhLEdBQUcsaUdBQW9DLENBQUM7Z0JBQ3JELE1BQU07WUFDUixLQUFLLGdHQUFtQztnQkFDdEMsYUFBYSxHQUFHLG9HQUF1QyxDQUFDO2dCQUN4RCxNQUFNO1lBQ1IsS0FBSyxvR0FBdUM7Z0JBQzFDLGFBQWEsR0FBRyxrSEFBcUQsQ0FBQztnQkFDdEUsTUFBTTtZQUNSLEtBQUssNEZBQStCO2dCQUNsQyxhQUFhLEdBQUcsK0ZBQWtDLENBQUM7Z0JBQ25ELE1BQU07WUFDUixLQUFLLG9HQUF1QztnQkFDMUMsYUFBYSxHQUFHLHVHQUEwQyxDQUFDO2dCQUMzRCxNQUFNO1lBQ1IsS0FBSyxvR0FBdUM7Z0JBQzFDLGFBQWEsR0FBRyx1R0FBMEMsQ0FBQztnQkFDM0QsTUFBTTtZQUNSLEtBQUssMEZBQTZCO2dCQUNoQyxhQUFhLEdBQUcsNkZBQWdDLENBQUM7Z0JBQ2pELE1BQU07U0FDVDtRQUNELE9BQU8sYUFBYSxDQUFDO0lBQ3ZCLENBQUM7Q0FDRjtBQUNELGlFQUFlLHFCQUFxQixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZERDtBQUNtRDtBQUM5QztBQUVsQyxNQUFNLGtCQUFrQixHQUFHO0lBQ2hDLElBQUksRUFBRSxJQUFJO0lBQ1YsT0FBTyxFQUFFLElBQUk7SUFDYixJQUFJLEVBQUUsSUFBSTtDQUNYLENBQUM7QUFFSyxNQUFNLHdCQUF3QixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDckQsS0FBSyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1DTDtDQUNILENBQUMsQ0FBQztBQUNJLE1BQU0saUNBQWlDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUN4RCxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ2IsS0FBSyxFQUFFOzBDQUMrQixJQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEyQjFDO0NBQ0QsQ0FBQyxDQUFDO0FBQ0UsTUFBTSx1QkFBdUIsR0FBRyxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ3pELE1BQU0sR0FBRyxHQUFHLE1BQU0sc0RBQ1gsQ0FBQyxHQUFHLENBQUM7U0FDVCxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ1YsR0FBRyxDQUFDLGNBQWMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzNDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztBQUNsQixDQUFDLENBQUM7QUFFSyxNQUFNLGNBQWMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ3RDLFFBQVEsS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFFO1FBQzNCLEtBQUssV0FBVztZQUNkLE9BQU8saUJBQWlCLENBQUM7UUFDM0IsS0FBSyxhQUFhO1lBQ2hCLE9BQU8saUJBQWlCLENBQUM7UUFDM0IsS0FBSyxZQUFZO1lBQ2YsT0FBTyxpQkFBaUIsQ0FBQztRQUMzQjtZQUNFLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7QUFDSCxDQUFDLENBQUM7QUFFRixJQUFZLFdBS1g7QUFMRCxXQUFZLFdBQVc7SUFDckIseURBQWlCO0lBQ2pCLDZEQUFtQjtJQUNuQiwyREFBa0I7SUFDbEIseURBQWlCO0FBQ25CLENBQUMsRUFMVyxXQUFXLEtBQVgsV0FBVyxRQUt0QjtBQUVELElBQVksK0JBa0JYO0FBbEJELFdBQVksK0JBQStCO0lBQ3pDLGdEQUFhO0lBQ2IsOENBQVc7SUFDWCwwREFBdUI7SUFDdkIsZ0VBQTZCO0lBQzdCLGtEQUFlO0lBQ2YsNERBQXlCO0lBQ3pCLGdEQUFhO0lBQ2Isd0RBQXFCO0lBQ3JCLG9EQUFpQjtJQUNqQixvREFBaUI7SUFDakIsa0RBQWU7SUFDZixvREFBaUI7SUFDakIsa0RBQWU7SUFDZixrREFBZTtJQUNmLGtEQUFlO0lBQ2Ysc0RBQW1CO0lBQ25CLGtEQUFlO0FBQ2pCLENBQUMsRUFsQlcsK0JBQStCLEtBQS9CLCtCQUErQixRQWtCMUM7QUFFRCxJQUFZLHNCQWtCWDtBQWxCRCxXQUFZLHNCQUFzQjtJQUNoQyxtRUFBUTtJQUNSLGlFQUFPO0lBQ1AsdUVBQVU7SUFDVixxRUFBUztJQUNULHFFQUFTO0lBQ1Qsc0VBQVU7SUFDVix3RUFBVztJQUNYLHdFQUFXO0lBQ1gsd0VBQVc7SUFDWCxzRUFBVTtJQUNWLHdFQUFXO0lBQ1gsd0VBQVc7SUFDWCxzRUFBVTtJQUNWLHNFQUFVO0lBQ1Ysc0VBQVU7SUFDViwwRUFBWTtJQUNaLHNFQUFVO0FBQ1osQ0FBQyxFQWxCVyxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBa0JqQztBQUVELElBQUssU0FPSjtBQVBELFdBQUssU0FBUztJQUNaLG9DQUF1QjtJQUN2Qiw4QkFBaUI7SUFDakIsOEJBQWlCO0lBQ2pCLDRCQUFlO0lBQ2Ysb0NBQXVCO0lBQ3ZCLGdDQUFtQjtBQUNyQixDQUFDLEVBUEksU0FBUyxLQUFULFNBQVMsUUFPYjtBQUNELElBQUssV0FPSjtBQVBELFdBQUssV0FBVztJQUNkLHVEQUFhO0lBQ2Isa0RBQVc7SUFDWCxpREFBVTtJQUNWLGdEQUFVO0lBQ1YsdURBQWE7SUFDYixvREFBWTtBQUNkLENBQUMsRUFQSSxXQUFXLEtBQVgsV0FBVyxRQU9mO0FBRUQsSUFBSyx3QkFvQ0o7QUFwQ0QsV0FBSyx3QkFBd0I7SUFDM0IseURBQTZCO0lBQzdCLHlEQUE2QjtJQUM3QixpRUFBcUM7SUFDckMsc0RBQTBCO0lBQzFCLCtEQUFtQztJQUNuQywyREFBK0I7SUFDL0IsbUVBQXVDO0lBQ3ZDLDZEQUFpQztJQUNqQyw2REFBaUM7SUFDakMsNkRBQWlDO0lBQ2pDLGtEQUFzQjtJQUN0QixtRUFBdUM7SUFDdkMsd0RBQTRCO0lBQzVCLCtEQUFtQztJQUNuQyxvREFBd0I7SUFDeEIsd0RBQTRCO0lBQzVCLHVEQUEyQjtJQUMzQiwyREFBK0I7SUFDL0IsdURBQTJCO0lBQzNCLDJEQUErQjtJQUMvQixxREFBeUI7SUFDekIseURBQTZCO0lBQzdCLHFEQUF5QjtJQUN6Qix5REFBNkI7SUFDN0IseURBQTZCO0lBQzdCLHVEQUEyQjtJQUMzQixxREFBeUI7SUFDekIseURBQTZCO0lBQzdCLHFEQUF5QjtJQUN6Qix5REFBNkI7SUFDN0IscURBQXlCO0lBQ3pCLHlEQUE2QjtJQUM3Qix5REFBNkI7SUFDN0IscURBQXlCO0lBQ3pCLHlEQUE2QjtBQUMvQixDQUFDLEVBcENJLHdCQUF3QixLQUF4Qix3QkFBd0IsUUFvQzVCO0FBRUQsSUFBSyxZQW9DSjtBQXBDRCxXQUFLLFlBQVk7SUFDZix5REFBYTtJQUNiLHlEQUFhO0lBQ2IsNkRBQWU7SUFDZix5REFBYTtJQUNiLDhEQUFnQjtJQUNoQiw0REFBZTtJQUNmLGdFQUFpQjtJQUNqQiwwREFBYztJQUNkLDBEQUFjO0lBQ2QsMERBQWM7SUFDZCw4REFBZ0I7SUFDaEIsMERBQWM7SUFDZCw4REFBZ0I7SUFDaEIsMERBQWM7SUFDZCw4REFBZ0I7SUFDaEIsNERBQWU7SUFDZiw0REFBZTtJQUNmLGdFQUFpQjtJQUNqQiw0REFBZTtJQUNmLGdFQUFpQjtJQUNqQiwwREFBYztJQUNkLDhEQUFnQjtJQUNoQixnRUFBaUI7SUFDakIsNERBQWU7SUFDZiw0REFBZTtJQUNmLDBEQUFjO0lBQ2QsOERBQWdCO0lBQ2hCLDBEQUFjO0lBQ2QsOERBQWdCO0lBQ2hCLDREQUFlO0lBQ2YsMERBQWM7SUFDZCw4REFBZ0I7SUFDaEIsOERBQWdCO0lBQ2hCLDBEQUFjO0lBQ2QsOERBQWdCO0FBQ2xCLENBQUMsRUFwQ0ksWUFBWSxLQUFaLFlBQVksUUFvQ2hCO0FBRU0sTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFO0lBQ3ZDLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLElBQUksRUFBRTtRQUNoRCxPQUFPLHNCQUFzQixDQUFDLElBQUksQ0FBQztLQUNwQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEdBQUcsRUFBRTtRQUN0RCxPQUFPLHNCQUFzQixDQUFDLEdBQUcsQ0FBQztLQUNuQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLFlBQVksRUFBRTtRQUMvRCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLFNBQVMsRUFBRTtRQUM1RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLFVBQVUsRUFBRTtRQUM3RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLElBQUksRUFBRTtRQUN2RCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLE1BQU0sRUFBRTtRQUN6RCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLE1BQU0sRUFBRTtRQUN6RCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLFFBQVEsRUFBRTtRQUMzRCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLE1BQU0sRUFBRTtRQUN6RCxPQUFPLHNCQUFzQixDQUFDLE1BQU0sQ0FBQztLQUN0QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLE9BQU8sRUFBRTtRQUMxRCxPQUFPLHNCQUFzQixDQUFDLE9BQU8sQ0FBQztLQUN2QztTQUFNLElBQUksR0FBRyxLQUFLLCtCQUErQixDQUFDLEtBQUssRUFBRTtRQUN4RCxPQUFPLHNCQUFzQixDQUFDLEtBQUssQ0FBQztLQUNyQztTQUFNO1FBQ0wsT0FBTyxJQUFJLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQztBQUVLLE1BQU0sY0FBYyxHQUFHLENBQUMsTUFBYyxFQUFFLEVBQUU7SUFDL0MsTUFBTSxlQUFlLEdBQVcsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JELE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUUzQyxJQUFJLFdBQVcsS0FBSyxTQUFTLENBQUMsU0FBUyxFQUFFO1FBQ3ZDLE9BQU8sV0FBVyxDQUFDLFNBQVMsQ0FBQztLQUM5QjtTQUFNLElBQUksV0FBVyxLQUFLLFNBQVMsQ0FBQyxNQUFNLEVBQUU7UUFDM0MsT0FBTyxXQUFXLENBQUMsTUFBTSxDQUFDO0tBQzNCO1NBQU0sSUFBSSxXQUFXLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRTtRQUMzQyxPQUFPLFdBQVcsQ0FBQyxNQUFNLENBQUM7S0FDM0I7U0FBTSxJQUFJLFdBQVcsS0FBSyxTQUFTLENBQUMsS0FBSyxFQUFFO1FBQzFDLE9BQU8sV0FBVyxDQUFDLEtBQUssQ0FBQztLQUMxQjtTQUFNLElBQUksV0FBVyxLQUFLLFNBQVMsQ0FBQyxTQUFTLEVBQUU7UUFDOUMsT0FBTyxXQUFXLENBQUMsU0FBUyxDQUFDO0tBQzlCO1NBQU0sSUFBSSxXQUFXLEtBQUssU0FBUyxDQUFDLE9BQU8sRUFBRTtRQUM1QyxPQUFPLFdBQVcsQ0FBQyxPQUFPLENBQUM7S0FDNUI7U0FBTTtRQUNMLE9BQU8sSUFBSSxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUM7QUFHSyxNQUFNLGVBQWUsR0FBRyxDQUFDLG1CQUEyQixFQUFFLEVBQUU7SUFDN0QsTUFBTSxpQkFBaUIsR0FBRyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUVyRCxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLFdBQVcsRUFBRTtRQUM5RCxPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7S0FDL0I7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLFdBQVcsRUFBRTtRQUNyRSxPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7S0FDL0I7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLGVBQWUsRUFBRTtRQUN6RSxPQUFPLFlBQVksQ0FBQyxXQUFXLENBQUM7S0FDakM7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLFNBQVMsRUFBRTtRQUNuRSxPQUFPLFlBQVksQ0FBQyxTQUFTLENBQUM7S0FDL0I7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLGNBQWMsRUFBRTtRQUN4RSxPQUFPLFlBQVksQ0FBQyxXQUFXLENBQUM7S0FDakM7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLFlBQVksRUFBRTtRQUN0RSxPQUFPLFlBQVksQ0FBQyxVQUFVLENBQUM7S0FDaEM7U0FBTSxJQUFJLGlCQUFpQixLQUFLLHdCQUF3QixDQUFDLGdCQUFnQixFQUFFO1FBQzFFLE9BQU8sWUFBWSxDQUFDLFlBQVksQ0FBQztLQUNsQztTQUFNLElBQUksaUJBQWlCLEtBQUssd0JBQXdCLENBQUMsYUFBYSxFQUFFO1FBQ3ZFLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQztLQUMvQjtTQUFNLElBQUksaUJBQWlCLEtBQUssd0JBQXdCLENBQUMsYUFBYSxFQUFFO1FBQ3ZFLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQztLQUMvQjtTQUFNLElBQUksaUJBQWlCLEtBQUssd0JBQXdCLENBQUMsYUFBYSxFQUFFO1FBQ3ZFLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQztLQUMvQjtTQUFNLElBQUksaUJBQWlCLEtBQUssd0JBQXdCLENBQUMsUUFBUSxFQUFFO1FBQ2xFLE9BQU8sWUFBWSxDQUFDLFdBQVcsQ0FBQztLQUNqQztTQUFNLElBQUksaUJBQWlCLEtBQUssd0JBQXdCLENBQUMsZ0JBQWdCLEVBQUU7UUFDMUUsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDO0tBQy9CO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxXQUFXLEVBQUU7UUFDckUsT0FBTyxZQUFZLENBQUMsV0FBVyxDQUFDO0tBQ2pDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxjQUFjLEVBQUU7UUFDeEUsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDO0tBQy9CO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxTQUFTLEVBQUU7UUFDbkUsT0FBTyxZQUFZLENBQUMsV0FBVyxDQUFDO0tBQ2pDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxXQUFXLEVBQUU7UUFDckUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxVQUFVLEVBQUU7UUFDcEUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxZQUFZLEVBQUU7UUFDdEUsT0FBTyxZQUFZLENBQUMsWUFBWSxDQUFDO0tBQ2xDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxVQUFVLEVBQUU7UUFDcEUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxZQUFZLEVBQUU7UUFDdEUsT0FBTyxZQUFZLENBQUMsWUFBWSxDQUFDO0tBQ2xDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxTQUFTLEVBQUU7UUFDbkUsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDO0tBQy9CO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxXQUFXLEVBQUU7UUFDckUsT0FBTyxZQUFZLENBQUMsV0FBVyxDQUFDO0tBQ2pDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxVQUFVLEVBQUU7UUFDcEUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxZQUFZLEVBQUU7UUFDdEUsT0FBTyxZQUFZLENBQUMsWUFBWSxDQUFDO0tBQ2xDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxVQUFVLEVBQUU7UUFDcEUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxVQUFVLEVBQUU7UUFDcEUsT0FBTyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQ2hDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxTQUFTLEVBQUU7UUFDbkUsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDO0tBQy9CO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxXQUFXLEVBQUU7UUFDckUsT0FBTyxZQUFZLENBQUMsV0FBVyxDQUFDO0tBQ2pDO1NBQU0sSUFBSSxpQkFBaUIsS0FBSyx3QkFBd0IsQ0FBQyxTQUFTLEVB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Ozs7Ozs7O0FDTkEsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUFHLG1CQUFPLENBQUMsb0NBQWUsQ0FBQyxDQUFDO0FBQ1o7QUFDVTtBQUNsQjtBQUM5QixvREFBd0IsRUFBRSxDQUFDO0FBRTNCLE1BQU0sTUFBTSxHQUFHLElBQUksWUFBWSxDQUFDO0lBQzlCLE1BQU07SUFDTixXQUFXO0lBQ1gsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHO0NBQ2hDLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLEVBQUUsb0RBQVcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFO0lBQ3BELE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDbEQsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2NoYW5nZVJlcXVlc3QvTXV0YXRpb25zL2FkZENoYW5nZVJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jaGFuZ2VSZXF1ZXN0L1F1ZXJpZXMvZ2V0Q2hhbmdlUmVxdWVzdC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2NoYW5nZVJlcXVlc3QvcmVzb2x2ZXJzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY2hhbmdlUmVxdWVzdC90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2NpdGllcy9tdXRhdGlvbnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jaXRpZXMvcXVlcmllcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2NpdGllcy9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2NpdGllcy90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL0Jvb2tpbmdGb3JtL011dGF0aW9ucy9hY2NlcHRCb29raW5nRm9ybS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9Cb29raW5nRm9ybS9NdXRhdGlvbnMvdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvQm9va2luZ0Zvcm0vUXVlcmllcy9nZXRCb29raW5nRm9ybS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9Cb29raW5nRm9ybS9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9Cb29raW5nRm9ybS90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9EZXNpZ25TaWdub2ZmL011dGF0aW9ucy9hY2NlcHREZXNpZ25TaWduT2ZmRG9jcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9EZXNpZ25TaWdub2ZmL1F1ZXJpZXMvZ2V0RGVzaWduU2lnbm9mZkRvY3MudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvRGVzaWduU2lnbm9mZi9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9EZXNpZ25TaWdub2ZmL3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL011dGF0aW9ucy9hZGRDdXN0b21lci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9NdXRhdGlvbnMvbG9naW4udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvTXV0YXRpb25zL3JlSXNzdWVBY2Nlc3NUb2tlbkNELnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL011dGF0aW9ucy91cGRhdGVDdXN0b21lci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9NdXRhdGlvbnMvdXBkYXRlQ3VzdG9tZXJEZXRhaWxzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL011dGF0aW9ucy91cGRhdGVDdXN0b21lck9wcG9ydHVuaXR5SWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvTXV0YXRpb25zL3VwZGF0ZUN1c3RvbWVyU0ZJRC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9NdXRhdGlvbnMvdmVyaWZ5T3RwLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL1F1ZXJpZXMvZ2V0Q3VzdG9tZXJCeUF1dGgudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvY3VzdG9tZXJTdXBwb3J0L011dGF0aW9ucy9yYWlzZUNvbW1lbnQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvY3VzdG9tZXJTdXBwb3J0L011dGF0aW9ucy9yYWlzZVRpY2tldC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9jdXN0b21lclN1cHBvcnQvUXVlcmllcy92aWV3QWxsUmFpc2VkVGlja2V0cy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy9yZXF1aXJlbWVudEZvcm0vTXV0YXRpb25zL2VkaXRGb3JtLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL3JlcXVpcmVtZW50Rm9ybS9xdWVyaWVzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL3JlcXVpcmVtZW50Rm9ybS9yZXNvbHZlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9jdXN0b21lcnMvcmVxdWlyZW1lbnRGb3JtL3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvY3VzdG9tZXJzL3Jlc29sdmVycy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2N1c3RvbWVycy90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2RhdGFzb3VyY2VzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGNTdXBwb3J0L011dGF0aW9ucy9yZXBseVRvVGlja2V0TWVzc2FnZS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2RjU3VwcG9ydC9NdXRhdGlvbnMvdXBkYXRlVGlja2V0U3RhdHVzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGNTdXBwb3J0L1F1ZXJpZXMvZmV0Y2hUaWNrZXRCeUlkLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGNTdXBwb3J0L1F1ZXJpZXMvZmV0Y2hUaWNrZXRNZXNzYWdlLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGNTdXBwb3J0L1F1ZXJpZXMvZmV0Y2hUaWNrZXRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGNTdXBwb3J0L1F1ZXJpZXMvd2ViSG9va1RpY2tldC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2RjU3VwcG9ydC9yZXNvbHZlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9kY1N1cHBvcnQvdHlwZWRlZnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9kZXBhcnRtZW50cy9RdWVyaWVzL2dldEFsbERlcGFydG1lbnRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGVwYXJ0bWVudHMvcmVzb2x2ZXJzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZGVwYXJ0bWVudHMvdHlwZWRlZnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9lbWFpbE5vdGlmaWNhdGlvbi9NdXRhdGlvbnMvdHJpZ2dlckVtYWlsRnJvbVNGLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZW1haWxOb3RpZmljYXRpb24vcmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9lbWFpbE5vdGlmaWNhdGlvbi90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZXhwZXJpZW5jZUNlbnRlci9tdXRhdGlvbnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9leHBlcmllbmNlQ2VudGVyL3F1ZXJpZXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9leHBlcmllbmNlQ2VudGVyL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvZXhwZXJpZW5jZUNlbnRlci90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvaG9tZXNjcmVlbldpZGdldHMvTXV0YXRpb24vbXV0YXRpb24udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9ob21lc2NyZWVuV2lkZ2V0cy9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2hvbWVzY3JlZW5XaWRnZXRzL3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvbGVhZHMvTXV0YXRpb25zL2FjY2VwdFJlamVjdExlYWRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvbGVhZHMvTXV0YXRpb25zL2Fzc2lnbkRlc2lnbmVyVG9MZWFkc0J5U3R1ZGlvTWFuZ2VyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvbGVhZHMvTXV0YXRpb25zL2Fzc2lnblRlYW1Ub0xlYWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9sZWFkcy9NdXRhdGlvbnMvZWRpdFJlcXVpcmVtZW50cy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2xlYWRzL011dGF0aW9ucy91cGRhdGVEZXNpZ25lci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2xlYWRzL011dGF0aW9ucy91cGxvYWRGaWxlc0luTGVhZC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2xlYWRzL011dGF0aW9ucy91cGxvYWRMZWFkRmlsZXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9sZWFkcy9RdWVyaWVzL2dldEJyb2FkQ2FzdExlYWRzRm9yVXNlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2xlYWRzL1F1ZXJpZXMvZ2V0TGVhZEF0dGFjaG1lbnRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvbGVhZHMvUXVlcmllcy9nZXRMZWFkRGV0YWlsc0J5SWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9sZWFkcy9RdWVyaWVzL2dldE15TGVhZHMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9sZWFkcy9RdWVyaWVzL2dldFJlcXVpcmVtZW50cy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL2xlYWRzL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvbGVhZHMvdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL29wcG9ydHVuaXRpZXMvTXV0YXRpb24vYXNzaWduRGVzaWduZXJUb09wcG9ydHVuaXR5LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvb3Bwb3J0dW5pdGllcy9RdWVyaWVzL2dldE15T3Bwb3J0dW5pdGllcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL29wcG9ydHVuaXRpZXMvUXVlcmllcy9nZXRPcHBvcnR1bml0eUJ5SWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9vcHBvcnR1bml0aWVzL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvb3Bwb3J0dW5pdGllcy90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9hdXRoZW50aWNhdGlvbi9NdXRhdGlvbi9BdXRoZW50aWNhdGlvblRva2VuLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9hdXRoZW50aWNhdGlvbi9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvYXV0aGVudGljYXRpb24vdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvY3VzdG9tZXIvTXV0YXRpb25zL1VwZGF0ZUN1c3RvbWVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9jdXN0b21lci9RdWVyaWVzL2dldEN1c3RvbWVyQWRkcmVzcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvY3VzdG9tZXIvcmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL2N1c3RvbWVyL3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9pbnZvaWNlL011dGF0aW9uL0NhbGN1bGF0ZUludm9pY2VuZXdmbG93LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9pbnZvaWNlL011dGF0aW9uL0dlbmVyYXRlSW52b2ljZW5ld2Zsb3cudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL2ludm9pY2UvTXV0YXRpb24vR2VuZXJhdGVJbnZvaWNlb2xkZmxvdy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvaW52b2ljZS9NdXRhdGlvbi9VcGRhdGVJbnZvaWNlb2xkZmxvdy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvaW52b2ljZS9RdWVyaWVzL2dldEludm9pY2VuZXdmbG93LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9pbnZvaWNlL3Jlc29sdmVycy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvaW52b2ljZS90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvTXV0YXRpb24vQWRkUGF5bWVudENvbmZvcm1hdGlvbi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvTXV0YXRpb24vQWRkUGF5bWVudFJlY2VpcHRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVjZWlwdC9NdXRhdGlvbi9DbGVhclBheW1lbnRDb25mb3JtYXRpb24udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL3BheW1lbnRSZWNlaXB0L011dGF0aW9uL0RlbGV0ZVBheW1lbnRyZWNlaXB0cy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvTXV0YXRpb24vVXBkYXRlUGF5bWVudENvbmZvcm1hdGlvbi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvTXV0YXRpb24vVXBkYXRlUGF5bWVudFJlY2VpcHRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVjZWlwdC9RdWVyaWVzL2dldFBheW1lbnRSZWNlaXB0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVjZWlwdC9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlcXVlc3QvTXV0YXRpb25zL0FkZFBheW1lbnRSZXF1ZXN0cy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlcXVlc3QvTXV0YXRpb25zL0NhbGN1bGF0ZVBheW1lbnRSZXF1ZXN0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9NdXRhdGlvbnMvRGVsZXRlUGF5bWVudFJlcXVlc3RzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9NdXRhdGlvbnMvVXBkYXRlUGF5bWVudFJlcXVlc3RzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9RdWVyaWVzL0dldFBheW1lbnRSZXF1ZXN0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlcXVlc3QvdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcHJvamVjdC9NdXRhdGlvbnMvVXBkYXRlUHJvamVjdEFkZHJlc3MudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL3Byb2plY3QvUXVlcmllcy9HZXRwYXltZW50bWlsZXN0b25lZGV0YWlscy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcHJvamVjdC9RdWVyaWVzL0dldHBheW1lbnRtaWxlc3RvbmVsaXN0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wcm9qZWN0L3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9wcm9qZWN0L3R5cGVkZWYudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL3Jhem9ycGF5L011dGF0aW9uL1Jhem9ycGF5R2VuZXJhdGVQYXltZW50TGluay50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3BheW1lbnRNaWNyb3NlcnZpY2UvcmF6b3JwYXkvTXV0YXRpb24vUmF6b3JwYXlXZWJob29rLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcGF5bWVudE1pY3Jvc2VydmljZS9yYXpvcnBheS9yZXNvbHZlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wYXltZW50TWljcm9zZXJ2aWNlL3Jhem9ycGF5L3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvZmlsZXMvTXV0YXRpb25zL2FkZG11dGF0aW9ucy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2ZpbGVzL011dGF0aW9ucy91cGRhdGVtdXRhdGlvbnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9maWxlcy9RdWVyaWVzL2dldEFsbFByb2ZpbGVzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvZmlsZXMvUXVlcmllcy9nZXRQcm9maWxlQnlJZC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2ZpbGVzL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvZmlsZXMvdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RNb20vQ29tbWVudHMvTXV0YXRpb25zL0NyZWF0ZUNvbW1lbnQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL0NvbW1lbnRzL011dGF0aW9ucy9EZWxldGVDb21tZW50LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdE1vbS9Db21tZW50cy9NdXRhdGlvbnMvVXBkYXRlQ29tbWVudC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RNb20vQ29tbWVudHMvUXVlcmllcy9HZXRDb21tZW50QnlJZC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RNb20vQ29tbWVudHMvcmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL0NvbW1lbnRzL3R5cGVkZWYudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL011dGF0aW9ucy9DcmVhdGVNb20udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL011dGF0aW9ucy9VcGRhdGVNb20udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL1F1ZXJpZXMvZ2V0TW9tQnlJZC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RNb20vUXVlcmllcy9nZXRNb21CeVByb2plY3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0TW9tL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdE1vbS90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvTXV0YXRpb25zL0FkZE1pbGVzdG9uZUZpbGVzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvTXV0YXRpb25zL0FkZFByb2plY3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9NdXRhdGlvbnMvQ29tcGxldGVDaGVja2xpc3RBcGkudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9NdXRhdGlvbnMvQ29tcGxldGVNaWxlc3RvbmVDaGVja2xpc3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9NdXRhdGlvbnMvU2hhcmVGaWxlV2l0aEN1c3RvbWVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvTXV0YXRpb25zL1VwZGF0ZUZvcm1GaWxsTWlsZXN0b25lcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL011dGF0aW9ucy9VcGRhdGVQYXltZW50TWlsZXN0b25lcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL011dGF0aW9ucy9VcGRhdGVQcm9qZWN0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvTXV0YXRpb25zL21lZXRpbmdTY2hlZHVsZXJNaWxlc3RvbmUudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9RdWVyaWVzL0dldEFsbFByb2plY3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9RdWVyaWVzL0dldEZpbGVVcmwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9RdWVyaWVzL0dldEZpbGVzRm9yUHJvamVjdC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL1F1ZXJpZXMvR2V0T2xkUHJvamVjdC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL1F1ZXJpZXMvR2V0UHJvamVjdEJ5SWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9RdWVyaWVzL0dldFByb2plY3RDb3N0QnJlYWt1cC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL1F1ZXJpZXMvR2V0UHJvamVjdHNCeUZpbHRlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3Byb2plY3RzL1F1ZXJpZXMvR2V0U3ViVGFza0ZvclByb2plY3QudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9TbWFydHNoZWV0L011dGF0aW9ucy9DcmVhdGVTbWFydHNoZWV0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlRGVzaWduZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9TbWFydHNoZWV0L011dGF0aW9ucy9VcGRhdGVNaWxlc3RvbmUudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9TbWFydHNoZWV0L011dGF0aW9ucy9VcGRhdGVQYXltZW50Q2hlY2tsaXN0LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlUHJvamVjdEFkZHJlc3MudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9TbWFydHNoZWV0L011dGF0aW9ucy9VcGRhdGVQcm9qZWN0U3RhdHVzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlUHJvamVjdFZhbHVlLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlU3VydmV5LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9NdXRhdGlvbnMvV2ViaG9va0NhbGxCYWNrLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9RdWVyaWVzL0dldE1pbGVTdG9uZXNEZXRhaWxzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC9TbWFydFNoZWV0U2VydmljZXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy9TbWFydHNoZWV0L3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvU21hcnRzaGVldC90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcHJvamVjdHMvcmVzb2x2ZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9wcm9qZWN0cy90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcXVvdGVzL011dGF0aW9ucy9jb21tb25GdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9xdW90ZXMvTXV0YXRpb25zL3Bvc3RTYWxlcy9kZWxldGVSb29td2lzZS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9NdXRhdGlvbnMvcG9zdFNhbGVzL3Bvc3RSb29tV2lzZVhtbC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9NdXRhdGlvbnMvcG9zdFNhbGVzL3VwZGF0ZURpc2NvdW50R2VuZXJhdGVQZGYudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9xdW90ZXMvTXV0YXRpb25zL3Bvc3RTYWxlcy91cGRhdGVQcm9qZWN0Q29tbWVyY2lhbC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9NdXRhdGlvbnMvcHJlU2FsZXMvYWNjZXB0UHJvcG9zYWwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9xdW90ZXMvTXV0YXRpb25zL3ByZVNhbGVzL3Bvc3RCZXRhUXVvdGVBcGkudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9xdW90ZXMvTXV0YXRpb25zL3ByZVNhbGVzL3Byb3Bvc2FsU2lnbmVkVXJsLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcXVvdGVzL011dGF0aW9ucy9wcmVTYWxlcy9zYXZlQmV0YVF1b3RlRGV0YWlscy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9NdXRhdGlvbnMvcHJlU2FsZXMvdXBkYXRlUXVvdGVEZXRhaWxzRnJvbVNGLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvcXVvdGVzL011dGF0aW9ucy9wcmVTYWxlcy92YWxpZGF0ZVhtbC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9RdWVyaWVzL2dldFF1b3RhdGlvbi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9RdWVyaWVzL2dldFF1b3RhdGlvbkJ5SWQudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS9xdW90ZXMvUXVlcmllcy9nZXRSb29tTGlzdC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy9yZXNvbHZlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3F1b3Rlcy90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3NjaGVtYS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3RlYW1zL211dGF0aW9ucy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3RlYW1zL3F1ZXJpZXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS90ZWFtcy9yZXNvbHZlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS90ZWFtcy90eXBlZGVmcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3R5cGVkZWZzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXIudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS91c2Vycy9NdXRhdGlvbnMvYWRkVXNlci50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL011dGF0aW9ucy9lZGl0VXNlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS91c2Vycy9RdWVyaWVzL0dldEFsbERlc2lnbmVycy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL1F1ZXJpZXMvR2V0QWxsVXNlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS91c2Vycy9RdWVyaWVzL0dldFVzZXJCeUlkLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvdXNlcnMvUXVlcmllcy9HZXRVc2VyRGV0YWlsc0J5QXV0aC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL1F1ZXJpZXMvTWFuYWdlVXNlcnMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS91c2Vycy9RdWVyaWVzL1JlSXNzdWVBY2Nlc3NUb2tlbi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL1F1ZXJpZXMvVXNlckF1dGhlbnRpY2F0ZUFwaVVzZUNhc2UudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS91c2Vycy9RdWVyaWVzL1VzZXJBdXRoZW50aWNhdGVDYWxsQmFjay50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvdXNlcnMvdHlwZWRlZi50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3VzZXJzL3V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3dpZGdldHMvUXVlcmllcy9hY2hpZXZlZFJldmVudWUudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS93aWRnZXRzL1F1ZXJpZXMvYnJvYWRjYXN0ZWRMZWFkcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3dpZGdldHMvUXVlcmllcy9jb252ZXJzaW9uLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvd2lkZ2V0cy9RdWVyaWVzL2xlYWRTdW1tYXJ5LnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvd2lkZ2V0cy9RdWVyaWVzL3Byb3Bvc2FsU2VudC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvYXBpL3dpZGdldHMvUXVlcmllcy90b3RhbEFjdGl2ZVByb2plY3RzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvd2lkZ2V0cy9RdWVyaWVzL3VwY29taW5nTWVldGluZ3MudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2FwaS93aWRnZXRzL3Jlc29sdmVyLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9hcGkvd2lkZ2V0cy90eXBlZGVmLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2NvcmUvYXV0aENvbnRyb2wvSnd0QXV0aENvbnRyb2wudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2UudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2NvcmUvZW1haWwvRW1haWwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2NvcmUvZmlsZVN0b3JhZ2VTZXJ2aWNlcy9Bd3NTdG9yYWdlLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vUmVxdWVzdGRhdGEvSW52b2ljZWdlbmVyYXRpb25yZXF1ZXN0bW9kZWwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9SZXF1ZXN0ZGF0YS9NaWNyb3NlcnZpY2VpbnZvaWNlcmVxdWVzdG1vZGVsLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vUmVxdWVzdGRhdGEvUGF5bWVudG1pbGVzdG9uZXVwZGF0ZXJlcXVlc3Rtb2RlbC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9DaGFuZ2VSZXF1ZXN0RW51bXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9lbnVtZXJhdGlvbnMvRGVzaW5nZXJBc3NpZ25TdGF0dXMudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9lbnVtZXJhdGlvbnMvRmlsZUNoZWNrTGlzdEVudW1zLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vZW51bWVyYXRpb25zL1BheW1lbnRDYXRlZ29yeUVudW0udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9lbnVtZXJhdGlvbnMvUGF5bWVudE1vZGVFbnVtLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vZW51bWVyYXRpb25zL1Byb2ZpbGVUeXBlRW51bVV0aWwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvZmlsZVR5cGVFbnVtcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0RmlsdGVyRW51bS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0TWlsZVN0b25lRW51bS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0U3RhZ2VFbnVtcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9Sb29tVHlwZXNFbnVtcy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9TbWFydFNoZWV0Q2VsbFZhbHVlRW51bS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9TbWFydFNoZWV0Q29sdW1uTmFtZUVudW0udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9lbnVtZXJhdGlvbnMvU3VwcG9ydENhc2VTdGF0dXNFbnVtIC50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL2VudW1lcmF0aW9ucy9TdXBwb3J0UGFsQ29uY2VyblR5cGVFbnVtLnRzLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vZW51bWVyYXRpb25zL1RpbWVQZXJpb2RMZWFkTWVldGluZ0VudW0udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL3N1cHBvcnRwYWxCYXNlVXNlQ2FzZS50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvZG9tYWluL3NlcnZpY2VzL25vdGlmaWNhdGlvbi9Ob3RpZmljYXRpb25TZXJ2aWNlLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vc2VydmljZXMvb0F1dGgvR29vZ2xlT0F1dGgudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy9zdXBwb3J0cGFsL1N1cHBvcnRQYWxBcGkudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy90ZW1wbGF0ZS9FbWFpbFRlbXBsYXRlLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vc2VydmljZXMvd2lkZ2V0U2VydmljZXMvYWNoaWV2ZWRSZXZlbnVlUmF0aW8udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy9icm9hZGNhc3RlZExlYWRzUmF0aW8udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy9sZWFkU3VtbWFyeVJhdGlvLnRzIiwid2VicGFjazovL3llcy8uL3NyYy9kb21haW4vc2VydmljZXMvd2lkZ2V0U2VydmljZXMvcHJvcG9zYWxTZW50UmF0aW8udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy90b3RhbEFjdGl2ZVByb2plY3RzUmF0aW8udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy91cGNvbWluZ01lZXRpbmdzUmF0aW8udHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL3ByaXNtYUNvbmZpZy50cyIsIndlYnBhY2s6Ly95ZXMvLi9zcmMvdXRpbHMvUHJvamVjdE1pbGVTdG9uZVV0aWwudHMiLCJ3ZWJwYWNrOi8veWVzLy4vc3JjL3V0aWxzL2NvbW1vblV0aWxzLnRzIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcIkBncmFwaHFsLXRvb2xzL3NjaGVtYVwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcIkBwcmlzbWEvY2xpZW50XCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwiYXBvbGxvLWRhdGFzb3VyY2UtcmVzdFwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImFwb2xsby1zZXJ2ZXJcIiIsIndlYnBhY2s6Ly95ZXMvZXh0ZXJuYWwgY29tbW9uanMgXCJhd3Mtc2RrXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwiYnRvYVwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImNyeXB0b1wiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImRheWpzXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwiZGF5anMvcGx1Z2luL2lzQmV0d2VlblwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImRheWpzL3BsdWdpbi9pc29XZWVrXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwiZG90ZW52XCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwiZ29vZ2xlYXBpc1wiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImdyYXBocWwtc2NhbGFyc1wiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcImpzZm9yY2VcIiIsIndlYnBhY2s6Ly95ZXMvZXh0ZXJuYWwgY29tbW9uanMgXCJqc29ud2VidG9rZW5cIiIsIndlYnBhY2s6Ly95ZXMvZXh0ZXJuYWwgY29tbW9uanMgXCJtYWlsZ2VuXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwibXNnOTEtYXBpXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwibm9kZW1haWxlclwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcInNob3J0aWRcIiIsIndlYnBhY2s6Ly95ZXMvZXh0ZXJuYWwgY29tbW9uanMgXCJzbWFydHNoZWV0XCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiIiwid2VicGFjazovL3llcy9leHRlcm5hbCBjb21tb25qcyBcInN1cGVyYWdlbnRcIiIsIndlYnBhY2s6Ly95ZXMvZXh0ZXJuYWwgY29tbW9uanMgXCJ1dWlkXCIiLCJ3ZWJwYWNrOi8veWVzL2V4dGVybmFsIGNvbW1vbmpzIFwieG1sLWpzXCIiLCJ3ZWJwYWNrOi8veWVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3llcy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly95ZXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3llcy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3llcy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3llcy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQge1xuICBCb29raW5nRm9ybVN0YXR1c0VudW1OYW1lcyxcbiAgUHJvamVjdFByb3Bvc2FsRW51bXMsXG4gIHJlcXVlc3RTdGFnZSxcbn0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvQ2hhbmdlUmVxdWVzdEVudW1zXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgYWRkQ2hhbmdlUmVxdWVzdCA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgTmVlZCB0byBhZGQgZW1haWwgdHJpZ2dlciB0byBkZXNpZ25lciBldmVyeXRpbWUgY3VzdG9tZXIgbWFrZXMgYSBjaGFuZ2UgcmVxdWVzdC5cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiQ0RcIik7XG4gICAgbGV0IGNyZWF0ZVJlcXVlc3Q7XG4gICAgaWYgKGFyZ3Muc3RhZ2UgPT09IHJlcXVlc3RTdGFnZS5CT09LSU5HRk9STSkge1xuICAgICAgaWYgKGN1c3RvbWVyLmJvb2tpbmdmb3Jtc3RhdHVzID09PSBCb29raW5nRm9ybVN0YXR1c0VudW1OYW1lcy5BQ0NFUFRFRCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgIDQwMCxcbiAgICAgICAgICBcIlVzZXIgaGFzIGFscmVhZHkgYWNjZXB0ZWQgdGhlIGJvb2tpbmcgZm9ybSwgQ2hhbmdlIFJlcXVlc3QgY2Fubm90IGJlIGluaXRpYXRlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY3JlYXRlUmVxdWVzdCA9IGF3YWl0IHByaXNtYS5kY19jaGFuZ2VfcmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVxdWVzdF90eXBlOiBhcmdzLnJlcXVlc3RfdHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXJncy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzdGFnZTogYXJncy5zdGFnZSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGN1c3RvbWVyaWQ6IGN1c3RvbWVyLmN1c3RvbWVyaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBjdXN0b21lci5jdXN0b21lcmlkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBib29raW5nZm9ybXN0YXR1czogQm9va2luZ0Zvcm1TdGF0dXNFbnVtTmFtZXMuQ0hBTkdFX1JFUVVFU1RFRCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVxdWVzdFN0YWdlLlBST0pFQ1RQUk9QT1NBTCA9PT0gYXJncy5zdGFnZSkge1xuICAgICAgaWYgKCFhcmdzLnF1b3RlU2ZJZCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJTYWxlcyBmb3JjZSBxdW90ZSBpZCBpcyByZXF1aXJlZFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHF1b3RlRGF0YSA9IGF3YWl0IHByaXNtYS5xdW90ZS5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzZmlkOiBhcmdzLnF1b3RlU2ZJZCB9LFxuICAgICAgfSk7XG4gICAgICBpZiAocXVvdGVEYXRhLnN0YXR1cyA9PT0gUHJvamVjdFByb3Bvc2FsRW51bXMuQUNDRVBURUQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgICAgICA0MDAsXG4gICAgICAgICAgXCJVc2VyIGhhcyBhbHJlYWR5IGFjY2VwdGVkIHRoZSBwcm9wb3NhbCwgQ2hhbmdlIFJlcXVlc3QgY2Fubm90IGJlIGluaXRpYXRlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY3JlYXRlUmVxdWVzdCA9IGF3YWl0IHByaXNtYS5kY19jaGFuZ2VfcmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVxdWVzdF90eXBlOiBhcmdzLnJlcXVlc3RfdHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXJncy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzdGFnZTogYXJncy5zdGFnZSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHF1b3Rlc2ZpZDogYXJncy5xdW90ZVNmSWQsXG4gICAgICAgICAgY3VzdG9tZXJpZDogY3VzdG9tZXIuY3VzdG9tZXJpZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY2hhbmdlUmVxdWVzdExpc3QgPSBxdW90ZURhdGEuY2hhbmdlX3JlcXVlc3RfbGlzdF9fY1xuICAgICAgICA/IEpTT04ucGFyc2UocXVvdGVEYXRhLmNoYW5nZV9yZXF1ZXN0X2xpc3RfX2MpXG4gICAgICAgIDogW107XG4gICAgICBjaGFuZ2VSZXF1ZXN0TGlzdC5wdXNoKGNyZWF0ZVJlcXVlc3QuaWQpO1xuICAgICAgYXdhaXQgcHJpc21hLnF1b3RlLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHNmaWQ6IGFyZ3MucXVvdGVTZklkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzdGF0dXM6IFByb2plY3RQcm9wb3NhbEVudW1zLkNIQU5HRV9SRVFVRVNURUQsXG4gICAgICAgICAgY2hhbmdlX3JlcXVlc3RfbGlzdF9fYzogSlNPTi5zdHJpbmdpZnkoY2hhbmdlUmVxdWVzdExpc3QpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0U3RhZ2UuREVTSUdOU0lHTk9GRiA9PT0gYXJncy5zdGFnZSkge1xuICAgICAgaWYgKCFhcmdzLnByb2plY3RJZCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJwcm9qZWN0IGlkIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvamVjdERhdGEgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MucHJvamVjdElkIH0sXG4gICAgICB9KTtcbiAgICAgIGlmIChwcm9qZWN0RGF0YS5zaWdub2Zmc3RhdHVzID09PSBQcm9qZWN0UHJvcG9zYWxFbnVtcy5BQ0NFUFRFRCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgIDQwMCxcbiAgICAgICAgICBcIlVzZXIgaGFzIGFscmVhZHkgYWNjZXB0ZWQgdGhlIGRlc2lnbiBzaWdub2ZmIGRvY3VtZW50LCBDaGFuZ2UgUmVxdWVzdCBjYW5ub3QgYmUgaW5pdGlhdGVkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MucHJvamVjdElkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzaWdub2Zmc3RhdHVzOiBcImNoYW5nZV9yZXF1ZXN0ZWRcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY3JlYXRlUmVxdWVzdCA9IGF3YWl0IHByaXNtYS5kY19jaGFuZ2VfcmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVxdWVzdF90eXBlOiBhcmdzLnJlcXVlc3RfdHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXJncy5kZXNjcmlwdGlvbixcbiAgICAgICAgICBzdGFnZTogYXJncy5zdGFnZSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGN1c3RvbWVyaWQ6IGN1c3RvbWVyLmN1c3RvbWVyaWQsXG4gICAgICAgICAgcHJvamVjdGlkOiBhcmdzLnByb2plY3RJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogY3JlYXRlUmVxdWVzdCA/IDIwMCA6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IGNyZWF0ZVJlcXVlc3RcbiAgICAgICAgPyBcIkNoYW5nZSByZXF1ZXN0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LlwiXG4gICAgICAgIDogXCJTb21ldGhpbmcgd2VudCB3cm9uZy5cIixcbiAgICAgIGRhdGE6IGNyZWF0ZVJlcXVlc3QgPyBjcmVhdGVSZXF1ZXN0IDogXCJcIixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IubWVzc2FnZSk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgcmVxdWVzdFN0YWdlIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvQ2hhbmdlUmVxdWVzdEVudW1zXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5leHBvcnQgY29uc3QgZ2V0Q2hhbmdlUmVxdWVzdCA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShfY29udGV4dCwgXCJDRFwiKTtcbiAgICBsZXQgY2hhbmdlUmVxdWVzdDtcbiAgICBpZiAoYXJncy5zdGFnZSA9PT0gcmVxdWVzdFN0YWdlLkJPT0tJTkdGT1JNKSB7XG4gICAgICBjaGFuZ2VSZXF1ZXN0ID0gYXdhaXQgcHJpc21hLmRjX2NoYW5nZV9yZXF1ZXN0LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXIuY3VzdG9tZXJpZCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhcmdzLnN0YWdlID09PSByZXF1ZXN0U3RhZ2UuUFJPSkVDVFBST1BPU0FMKSB7XG4gICAgICBpZiAoIWFyZ3MucXVvdGVzZmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIlNhbGVzIGZvcmNlIHF1b3RlIGlkIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgfVxuICAgICAgY2hhbmdlUmVxdWVzdCA9IGF3YWl0IHByaXNtYS5kY19jaGFuZ2VfcmVxdWVzdC5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHF1b3Rlc2ZpZDogYXJncy5xdW90ZXNmaWQgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogY2hhbmdlUmVxdWVzdCA/IDIwMCA6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IGNoYW5nZVJlcXVlc3QgPyBcInN1Y2Nlc3NcIiA6IFwiQmFkIFJlcXVlc3RcIixcbiAgICAgIGRhdGE6IGNoYW5nZVJlcXVlc3QsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBhZGRDaGFuZ2VSZXF1ZXN0IH0gZnJvbSBcIi4vTXV0YXRpb25zL2FkZENoYW5nZVJlcXVlc3RcIjtcbmltcG9ydCB7IGdldENoYW5nZVJlcXVlc3QgfSBmcm9tIFwiLi9RdWVyaWVzL2dldENoYW5nZVJlcXVlc3RcIjtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZVJlcXVlc3RSZXNvbHZlciA9IHtcbiAgTXV0YXRpb246IHtcbiAgICBhZGRDaGFuZ2VSZXF1ZXN0OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFkZENoYW5nZVJlcXVlc3QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIFF1ZXJ5OiB7XG4gICAgZ2V0Q2hhbmdlUmVxdWVzdDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRDaGFuZ2VSZXF1ZXN0KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxufTtcbiIsImV4cG9ydCBjb25zdCBjaGFuZ2VSZXF1ZXN0VHlwZWRlZnMgPSBgXG50eXBlIGNoYW5nZV9yZXF1ZXN0e1xuICAgIGlkOiBJbnRcbiAgICBwcm9qZWN0aWQ6IEludFxuICAgIHJlcXVlc3RfdHlwZTogU3RyaW5nXG4gICAgZGVzY3JpcHRpb246IFN0cmluZ1xuICAgIHN0YWdlOiBTdHJpbmdcbiAgICBjcmVhdGVkX2F0OiBEYXRlVGltZVxuICAgIHVwZGF0ZWRfYXQ6IERhdGVUaW1lXG59XG5cbnR5cGUgYWRkQ2hhbmdlUmVxdWVzdFJlc3BvbnNle1xuICAgIGNvZGU6IEludFxuICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICBkYXRhOiBjaGFuZ2VfcmVxdWVzdFxufVxuXG50eXBlIGdldENoYW5nZVJlcXVlc3RSZXNwb25zZXtcbiAgICBjb2RlOiBJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmcsXG4gICAgZGF0YTogW2NoYW5nZV9yZXF1ZXN0XVxufVxuXG50eXBlIE11dGF0aW9ue1xuICAgIGFkZENoYW5nZVJlcXVlc3QoXG4gICAgICAgIHF1b3RlU2ZJZDogU3RyaW5nLFxuICAgICAgICByZXF1ZXN0X3R5cGU6IFN0cmluZyEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBTdHJpbmchLFxuICAgICAgICBzdGFnZTogU3RyaW5nISxcbiAgICApOmFkZENoYW5nZVJlcXVlc3RSZXNwb25zZVxufVxuXG50eXBlIFF1ZXJ5e1xuICAgIGdldENoYW5nZVJlcXVlc3QocXVvdGVzZmlkOlN0cmluZywgc3RhZ2U6IFN0cmluZyEpOmdldENoYW5nZVJlcXVlc3RSZXNwb25zZVxufWA7XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vcHJpc21hQ29uZmlnXCJcblxuZXhwb3J0IGNvbnN0IGFkZENpdHkgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgY2l0eVJlc3BvbnNlT2JqXG4gIGNvbnN0IHsgbmFtZSwgc3RhdHVzLCBvZG9vX2lkLCBjaXR5aGVhZCwgY291bnRyeSB9ID0gYXJncztcbiAgdHJ5IHtcbiAgICBjb25zdCBjcmVhdGVkQ2l0eSA9IGF3YWl0IHByaXNtYS5kY19jaXRpZXMuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvZG9vX2lkLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBjaXR5aGVhZCxcbiAgICAgICAgY291bnRyeVxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCBjaXRpZXMgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBjcmVhdGVkQ2l0eS5pZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB1c2VyczogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG4gICAgbGV0IENpdHkgPSBhd2FpdCBnZXRjaXR5KGNpdGllcyk7XG4gICAgQ2l0eSA9IENpdHkuRGF0YVxuICAgIGNpdHlSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogQ2l0eSB9XG4gICAgcmV0dXJuIGNpdHlSZXNwb25zZU9ialxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNpdHlSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gY2l0eVJlc3BvbnNlT2JqXG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDaXR5ID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IGNpdHlSZXNwb25zZU9iajtcbiAgY29uc3QgeyBuYW1lLCBjaXR5aWQsIHN0YXR1cywgb2Rvb19pZCwgY2l0eWhlYWQsIGNvdW50cnkgfSA9IGFyZ3M7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlZENpdHkgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLnVwZGF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgb2Rvb19pZCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgY2l0eWhlYWQsXG4gICAgICAgIGNvdW50cnlcbiAgICAgIH0sIHdoZXJlOiB7IGlkOiBjaXR5aWQgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgY2l0aWVzID0gYXdhaXQgcHJpc21hLmRjX2NpdGllcy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBpZDogdXBkYXRlZENpdHkuaWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnM6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuICAgIGxldCBDaXR5ID0gYXdhaXQgZ2V0Y2l0eShjaXRpZXMpO1xuICAgIENpdHkgPSBDaXR5LkRhdGFcbiAgICBjaXR5UmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IENpdHkgfVxuICAgIHJldHVybiBjaXR5UmVzcG9uc2VPYmpcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjaXR5UmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIGNpdHlSZXNwb25zZU9ialxuICB9XG59O1xuY29uc3QgZ2V0Y2l0eSA9IGFzeW5jIChjaXRpZXMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBEYXRhOiBjaXRpZXMubWFwKChjaXR5KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jaXR5LFxuICAgICAgICBjaXR5aGVhZDogY2l0eS51c2Vyc1xuICAgICAgfTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRDaXRpZXMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBjaXR5UmVzcG9uc2VPYmpcbiAgdHJ5IHtcbiAgICBjb25zdCBnZXRjaXRpZXMgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRNYW55KHtcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnM6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgbGV0IGNpdGllcyA9IGF3YWl0IGdldGNpdHkoZ2V0Y2l0aWVzKTtcbiAgICBjaXRpZXMgPSBjaXRpZXMuRGF0YTtcblxuICAgIGNpdHlSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogY2l0aWVzIH1cbiAgICByZXR1cm4gY2l0eVJlc3BvbnNlT2JqXG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7XG4gICAgY2l0eVJlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBjaXR5UmVzcG9uc2VPYmpcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q2l0eUJ5SWQgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgY2l0eVJlc3BvbnNlT2JqO1xuICB0cnkge1xuICAgIGNvbnN0IGdldGNpdGllcyA9IGF3YWl0IHByaXNtYS5kY19jaXRpZXMuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MuaWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnM6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgQ2l0eSA9IGF3YWl0IGdldGNpdHkoZ2V0Y2l0aWVzKTtcbiAgICBDaXR5ID0gQ2l0eS5EYXRhO1xuICAgIGNpdHlSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogQ2l0eSB9XG4gICAgcmV0dXJuIGNpdHlSZXNwb25zZU9ialxuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIGNpdHlSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gY2l0eVJlc3BvbnNlT2JqXG4gIH1cbn1cbmNvbnN0IGdldGNpdHkgPSBhc3luYyAoY2l0aWVzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgRGF0YTogY2l0aWVzLm1hcCgoY2l0eSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2l0eSxcbiAgICAgICAgY2l0eWhlYWQ6IGNpdHkudXNlcnNcbiAgICAgIH07XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0ZVRpbWVSZXNvbHZlciB9IGZyb20gJ2dyYXBocWwtc2NhbGFycyc7XG5pbXBvcnQgeyBnZXRDaXRpZXMsIGdldENpdHlCeUlkIH0gZnJvbSBcIi4vcXVlcmllc1wiO1xuaW1wb3J0IHsgYWRkQ2l0eSwgdXBkYXRlQ2l0eSB9IGZyb20gJy4vbXV0YXRpb25zJztcblxuZXhwb3J0IGNvbnN0IGNpdGllc1Jlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGFsbENpdGllczogYXN5bmMgKCkgPT4gZ2V0Q2l0aWVzKCksXG4gICAgZ2V0Q2l0eUJ5SWQ6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiBnZXRDaXR5QnlJZChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhZGRDaXR5OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gYWRkQ2l0eShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVDaXR5OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gdXBkYXRlQ2l0eShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXJcbn1cblxuIiwiZXhwb3J0IGNvbnN0IGNpdGllc1R5cGVkZWYgPSBgXG4gICAgdHlwZSBDaXRpZXMge1xuICAgICAgICBpZDogSW50XG4gICAgICAgIG5hbWU6U3RyaW5nXG4gICAgICAgIHN0YXR1czpCb29sZWFuXG4gICAgICAgIG9kb29faWQ6U3RyaW5nXG4gICAgICAgIGNvdW50cnk6U3RyaW5nXG4gICAgICAgIGNpdHloZWFkOiBVc2Vyc1xuICAgICAgICBjcmVhdGVkX2F0OkRhdGVUaW1lXG4gICAgICAgIHVwZGF0ZWRfYXQ6RGF0ZVRpbWVcbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgYWxsQ2l0aWVzOiBDaXR5UmVzcG9uc2VcbiAgICAgICAgZ2V0Q2l0eUJ5SWQoaWQ6SW50KTogQ2l0eVJlc3BvbnNlXG4gICAgfVxuXG4gICAgdHlwZSBDaXR5UmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6W0NpdGllcyFdIVxuICAgIH1cblxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIGFkZENpdHkobmFtZTpTdHJpbmcsXG4gICAgICAgICAgICBzdGF0dXM6Qm9vbGVhbixcbiAgICAgICAgICAgIG9kb29faWQ6U3RyaW5nLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDpEYXRlVGltZSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6RGF0ZVRpbWUsXG4gICAgICAgICAgICBjaXR5aGVhZDpJbnQsXG4gICAgICAgICAgICBjb3VudHJ5OlN0cmluZyk6IENpdHlSZXNwb25zZVxuXG4gICAgICAgIHVwZGF0ZUNpdHkobmFtZTpTdHJpbmcsXG4gICAgICAgICAgICBjaXR5aWQ6SW50LFxuICAgICAgICAgICAgc3RhdHVzOkJvb2xlYW4sXG4gICAgICAgICAgICBvZG9vX2lkOlN0cmluZyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6RGF0ZVRpbWUsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OkRhdGVUaW1lLFxuICAgICAgICAgICAgY2l0eWhlYWQ6SW50LFxuICAgICAgICAgICAgY291bnRyeTpTdHJpbmcpOiBDaXR5UmVzcG9uc2VcbiAgICB9XG4gIFxuICAgIHNjYWxhciBEYXRlVGltZVxuYFxuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCBodHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCB7IEJvb2tpbmdGb3JtU3RhdHVzRW51bU5hbWVzIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvQ2hhbmdlUmVxdWVzdEVudW1zXCI7XG5pbXBvcnQgc3VwZXJhZ2VudCBmcm9tIFwic3VwZXJhZ2VudFwiO1xuaW1wb3J0IGRheWpzIGZyb20gXCJkYXlqc1wiO1xuaW1wb3J0IEVtYWlsVGVtcGxhdGUgZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy90ZW1wbGF0ZS9FbWFpbFRlbXBsYXRlXCI7XG5pbXBvcnQgeyB0cmlnZ2VyRW1haWxOb3RpZmljYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBhY2NlcHRCb29raW5nRm9ybSA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShfY29udGV4dCwgXCJDRFwiKTtcbiAgICBjb25zdCBvcHBvcnR1bml0eSA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgc2ZpZDogY3VzdG9tZXIub3Bwb3J0dW5pdHlpZCB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBwcmlzbWEuYWNjb3VudC5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgc2ZpZDogb3Bwb3J0dW5pdHkuYWNjb3VudGlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCBzYWxlcyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBzZmlkOiBvcHBvcnR1bml0eS5vd25lcmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIW9wcG9ydHVuaXR5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiT3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21lck9iaiA9IHt9O1xuICAgIGlmIChhcmdzLmlzRWRpdCkge1xuICAgICAgY29uc3QgZGF0YSA9IHt9O1xuICAgICAgaWYgKGFyZ3MuY3VycmVudEFkZHJlc3MpIHtcbiAgICAgICAgZGF0YVtcImJpbGxpbmdjaXR5XCJdID0gYXJncy5jdXJyZW50QWRkcmVzcy5jaXR5O1xuICAgICAgICBkYXRhW1wiYmlsbGluZ3N0cmVldFwiXSA9IGFyZ3MuY3VycmVudEFkZHJlc3Muc3RyZWV0O1xuICAgICAgICBkYXRhW1wiYmlsbGluZ3N0YXRlXCJdID0gYXJncy5jdXJyZW50QWRkcmVzcy5zaGlwcGluZ1N0YXRlO1xuICAgICAgICBkYXRhW1wiYmlsbGluZ3Bvc3RhbGNvZGVcIl0gPSBhcmdzLmN1cnJlbnRBZGRyZXNzLnppcE9yUG9zdGFsQ29kZTtcbiAgICAgICAgZGF0YVtcImJpbGxpbmdjb3VudHJ5XCJdID0gYXJncy5jdXJyZW50QWRkcmVzcy5jb3VudHJ5O1xuICAgICAgICBjdXN0b21lck9ialtcImN1cnJlbnRhZGRyZXNzXCJdID0gYXJncy5jdXJyZW50QWRkcmVzcztcbiAgICAgICAgYXdhaXQgdXBkYXRlQWNjb3VudChcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGN1c3RvbWVyT2JqLFxuICAgICAgICAgIG9wcG9ydHVuaXR5LmFjY291bnRpZCxcbiAgICAgICAgICBjdXN0b21lci5jdXN0b21lcmlkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoYXJncy5wcm9qZWN0QWRkcmVzcykge1xuICAgICAgICBkYXRhW1wic2hpcHBpbmdjaXR5XCJdID0gYXJncy5wcm9qZWN0QWRkcmVzcy5jaXR5O1xuICAgICAgICBkYXRhW1wic2hpcHBpbmdwb3N0YWxjb2RlXCJdID0gYXJncy5wcm9qZWN0QWRkcmVzcy56aXBPclBvc3RhbENvZGU7XG4gICAgICAgIGRhdGFbXCJzaGlwcGluZ3N0cmVldFwiXSA9IGFyZ3MucHJvamVjdEFkZHJlc3Muc3RyZWV0O1xuICAgICAgICBkYXRhW1wic2hpcHBpbmdzdGF0ZVwiXSA9IGFyZ3MucHJvamVjdEFkZHJlc3Muc2hpcHBpbmdTdGF0ZTtcbiAgICAgICAgZGF0YVtcInNoaXBwaW5nY291bnRyeVwiXSA9IGFyZ3MucHJvamVjdEFkZHJlc3MuY291bnRyeTtcbiAgICAgICAgY3VzdG9tZXJPYmpbXCJwcm9qZWN0YWRkcmVzc1wiXSA9IGFyZ3MucHJvamVjdEFkZHJlc3M7XG4gICAgICAgIGF3YWl0IHVwZGF0ZUFjY291bnQoXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBjdXN0b21lck9iaixcbiAgICAgICAgICBvcHBvcnR1bml0eS5hY2NvdW50aWQsXG4gICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJpZFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgZGV0YWlsc2AsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgICFhcmdzLmRjQ29kZSB8fFxuICAgICAgICAhYXJncy5wYW4gfHxcbiAgICAgICAgIWFyZ3MuY3VycmVudEFkZHJlc3MgfHxcbiAgICAgICAgIWFyZ3MucHJvamVjdEFkZHJlc3NcbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgaHR0cEVycm9yKDQwMCwgXCJBcmd1bWVudCBtaXNzaW5nLiBQbGVhc2UgY2hlY2sgcGF5bG9hZFwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJvb2tpbmdmb3JtZGF0ZSA9XG4gICAgICAgIGN1c3RvbWVyLmJvb2tpbmdmb3JtYWNjZXB0ZWRkYXRlICE9PSBudWxsXG4gICAgICAgICAgPyBkYXlqcyhjdXN0b21lci5ib29raW5nZm9ybWFjY2VwdGVkZGF0ZSkuZm9ybWF0KFwiREQtTU0tWVlZWVwiKVxuICAgICAgICAgIDogZGF5anMobmV3IERhdGUoKSkuZm9ybWF0KFwiREQtTU0tWVlZWVwiKTtcbiAgICAgIGNvbnN0IHBkZmFyZ3MgPSB7XG4gICAgICAgIG1vZHVsYXJBbW91bnQ6IG9wcG9ydHVuaXR5Lm1vZHVsYXJfYW1vdW50X2Rpc19pbmNsX2dzdF9fYyxcbiAgICAgICAgZGNDb2RlOiBvcHBvcnR1bml0eS5jdXN0b21lcl9pZF9fYyxcbiAgICAgICAgY2xvc2VEYXRlOiBib29raW5nZm9ybWRhdGUsXG4gICAgICAgIGNsaWVudE5hbWU6IGFjY291bnQubmFtZSxcbiAgICAgICAgcGhvbmVOdW1iZXI6IGFjY291bnQucGVyc29ubW9iaWxlcGhvbmUsXG4gICAgICAgIGVtYWlsSWQ6IGFjY291bnQucGVyc29uZW1haWwsXG4gICAgICAgIHByb2plY3RUeXBlOiBvcHBvcnR1bml0eS5ob21lX3R5cGVfX2MsXG4gICAgICAgIHNjb3BlT2ZXb3JrOiBvcHBvcnR1bml0eS5zY29wZV9vZl93b3JrX19jLFxuICAgICAgICBjaXZpbFdvcmtSZXF1aXJlZDogb3Bwb3J0dW5pdHkuY2l2aWxfd29ya19fYyxcbiAgICAgICAgY3VycmVudEFkZHJlc3M6IGFyZ3MuY3VycmVudEFkZHJlc3MsXG4gICAgICAgIHByb2plY3RBZGRyZXNzOiBhcmdzLnByb2plY3RBZGRyZXNzLFxuICAgICAgICBwcm9wb3NlZFZhbHVlOiBvcHBvcnR1bml0eS5wcm9wb3NlZF9idWRnZXRfX2MsXG4gICAgICAgIHNpZ251cFZhbHVlOiBvcHBvcnR1bml0eS5hbW91bnQsXG4gICAgICAgIG1vZHVsYXJEaXNjb3VudDogb3Bwb3J0dW5pdHkubW9kdWxhcl9kaXNjb3VudF9fYyxcbiAgICAgICAgc2l0ZVNlcnZpY2VzRGlzY291bnQ6IG9wcG9ydHVuaXR5LmNpdmlsX2Rpc2NvdW50X19jLFxuICAgICAgICBzaXRlU2VydmljZXNBbW91bnQ6IG9wcG9ydHVuaXR5LnNpdGVfc2VydmljZXNfYW1vdW50X2Rpc19pbmNsX2dzdF9fYyxcbiAgICAgICAgZGVjb3JBbW91bnQ6IG9wcG9ydHVuaXR5LmRlY29yX2Ftb3VudF9pbmNsX2dzdF9fYyxcbiAgICAgICAgZml2ZVBlcmNlbnRhZ2VQcm9qZWN0VmFsdWU6IG9wcG9ydHVuaXR5LmluaXRpYWxfcGF5bWVudF9fYyxcbiAgICAgICAgc2lnbnVwQW1vdW50OiBvcHBvcnR1bml0eS5zaWdudXBfYW1vdW50X19jLFxuICAgICAgICBiYXNpY0ZyYW1lc29mRXh0ZXJuYWxEb29yc0FuZFdpbmRvd3M6XG4gICAgICAgICAgb3Bwb3J0dW5pdHkuZnJhbWVzX2Zvcl9hbGxfZXh0ZXJuYWxfZG9vcnNfd2luZG93c19fYyxcbiAgICAgICAgcmVxZERvb3JzQW5kV2luZG93c0luc3RhbGxlZDpcbiAgICAgICAgICBvcHBvcnR1bml0eS50aGVfZG9vcnNfd2luZG93c19hcmVfaW5zdGFsbGVkX3JlcXVpcl9fYyxcbiAgICAgICAgYmFzaWNBbGxXYWxsc0NvbXBsZXRlZDogb3Bwb3J0dW5pdHkuYWxsX3dhbGxzX2FyZV9jb21wbGV0ZWRfcmVxdWlyZWRfX2MsXG4gICAgICAgIHJlcWRQdXR0eUNvYXRPZlBsYXN0ZXJpbmdPbldhbGxzOlxuICAgICAgICAgIG9wcG9ydHVuaXR5LnB1dHR5X2FuZF8xX2NvYXRfb2ZfcGxhc3RlcmluZ19yZXF1aXJlZF9fYyxcbiAgICAgICAgYmFzaWNGbG9vcnNMZXZlbGVkT3V0QW5kUHJlcHBlZDpcbiAgICAgICAgICBvcHBvcnR1bml0eS5mbG9vcnNfYXJlX2xldmVsbGVkX291dF9wcmVwcGVkX2Jhc2ljX19jLFxuICAgICAgICByZXFkRmxvb3JpbmdJc0NvbXBsZXRlZDogb3Bwb3J0dW5pdHkuZmxvb3JpbmdfaXNfY29tcGxldGVkX3JlcXVpcmVkX19jLFxuICAgICAgICBub3Rlczogb3Bwb3J0dW5pdHkubm90ZXNfX2MsXG4gICAgICAgIHBhbjogYXJncy5wYW4sXG4gICAgICAgIGdzdDogYXJncy5nc3QsXG4gICAgICAgIHdvaG9vQ2FyZDogb3Bwb3J0dW5pdHkud29ob29fY2FyZF9fYyxcbiAgICAgICAgcmVtYXJrRnJvbVNhbGVzOiBvcHBvcnR1bml0eS5yZW1hcmtzX2Zvcl9tYXJrZXRpbmdfX2MsXG4gICAgICAgIHNhbGVzTWFuYWdlck5hbWU6IHNhbGVzLm5hbWUsXG4gICAgICAgIHNhbGVzTWFuYWdlck1vYmlsZTogc2FsZXMubW9iaWxlcGhvbmUsXG4gICAgICAgIHNhbGVzTWFuYWdlckVtYWlsOiBzYWxlcy5lbWFpbCxcbiAgICAgICAgbGVhZElkOiBvcHBvcnR1bml0eS5sZWFkX2lkX19jLFxuICAgICAgICBjdXN0b21lcklkOiBjdXN0b21lci5jdXN0b21lcmlkLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgICAgICAucHV0KGAke3Byb2Nlc3MuZW52LlBERkdFTkVSQVRFfS9nZW5lcmF0ZUJvb2tpbmdGb3JtUGRmYClcbiAgICAgICAgLnNlbmQocGRmYXJncylcbiAgICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICBjdXN0b21lck9ialtcImJvb2tpbmdmb3JtcGRmXCJdID0gcmVzcG9uc2U/Ll9ib2R5Py5kYXRhPy5Mb2NhdGlvbjtcbiAgICAgIGN1c3RvbWVyT2JqW1wiYm9va2luZ2Zvcm1hY2NlcHRlZFwiXSA9IHRydWU7XG4gICAgICBjdXN0b21lck9ialtcImJvb2tpbmdmb3Jtc3RhdHVzXCJdID0gQm9va2luZ0Zvcm1TdGF0dXNFbnVtTmFtZXMuQUNDRVBURUQ7XG4gICAgICBjdXN0b21lck9ialtcImJvb2tpbmdmb3JtYWNjZXB0ZWRkYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDdXN0b21lckRhdGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXIuY3VzdG9tZXJpZCB9LFxuICAgICAgICBkYXRhOiBjdXN0b21lck9iaixcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJ1c2VyID09PSA+IFwiLCB1cGRhdGVkQ3VzdG9tZXJEYXRhKTtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIHVwZGF0ZV9ib29raW5nX2Zvcm1fX2M6IHRydWUsXG4gICAgICB9O1xuICAgICAgYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHNmaWQ6IHVwZGF0ZWRDdXN0b21lckRhdGEub3Bwb3J0dW5pdHlpZCB9LFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIC8qKioqKioqKioqKioqKioqKioqIE5vdGlmaWNhdGlvbiAqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgIGNvbnN0IGF0dGFjaG1lbnRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgZmlsZW5hbWU6IHJlc3BvbnNlLl9ib2R5LmRhdGEua2V5LFxuICAgICAgICAgIHBhdGg6IHJlc3BvbnNlLl9ib2R5LmRhdGEubG9jYXRpb24sXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBhd2FpdCBjYWxsQm9va2luZ0Zvcm1BY2NlcHROb3RpZmljYXRpb24oXG4gICAgICAgIGN1c3RvbWVyLmN1c3RvbWVyZW1haWwsXG4gICAgICAgIFtzYWxlcy5lbWFpbCwgcHJvY2Vzcy5lbnYuZGNBZG1pbkxlZ2FsRW1haWxdLFxuICAgICAgICBhdHRhY2htZW50c1xuICAgICAgKTtcbiAgICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgYWNjZXB0ZWQgYm9va2luZyBmb3JtXCIgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coMTA3MTA3LCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVBY2NvdW50ID0gYXN5bmMgKGRhdGEsIG9iaiwgYWNjb3VudGlkLCBjdXN0b21lcmlkKSA9PiB7XG4gIGF3YWl0IHByaXNtYS5hY2NvdW50LnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgc2ZpZDogYWNjb3VudGlkIH0sXG4gICAgZGF0YTogZGF0YSxcbiAgfSk7XG4gIGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGN1c3RvbWVyaWQgfSxcbiAgICBkYXRhOiBvYmosXG4gIH0pO1xufTtcbmNvbnN0IGNhbGxCb29raW5nRm9ybUFjY2VwdE5vdGlmaWNhdGlvbiA9IGFzeW5jIChcbiAgY3VzdG9tZXJFbWFpbCxcbiAgY2MsXG4gIGF0dGFjaG1lbnRzXG4pID0+IHtcbiAgYXdhaXQgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uKFxuICAgIGN1c3RvbWVyRW1haWwsXG4gICAgXCJCb29raW5nIGZvcm0gYWNjZXB0ZWRcIixcbiAgICBFbWFpbFRlbXBsYXRlLmJvb2tpbmdGb3JtQWNjZXB0VGVtcGxhdGUoKSxcbiAgICBjYyxcbiAgICBhdHRhY2htZW50c1xuICApO1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBFbWFpbFRlbXBsYXRlIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvdGVtcGxhdGUvRW1haWxUZW1wbGF0ZVwiO1xuaW1wb3J0IHsgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXMgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGN1c3RvbWVycGhvbmU6IGFyZ3MuY3VzdG9tZXJwaG9uZSB9LFxuICAgICAgZGF0YTogeyBib29raW5nZm9ybXN0YXR1czogYXJncy5ib29raW5nZm9ybXN0YXR1cyB9LFxuICAgIH0pO1xuICAgIGlmKHVwZGF0ZWREYXRhLmJvb2tpbmdmb3Jtc3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2VuZXJhdGVkXCIpe1xuICAgICAgY29uc3Qgb3Bwb3J0dW5pdHkgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgc2ZpZDogdXBkYXRlZERhdGEub3Bwb3J0dW5pdHlpZCB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBzYWxlcyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc2ZpZDogb3Bwb3J0dW5pdHkub3duZXJpZCxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGF3YWl0IGNhbGxCb29raW5nRm9ybUdlbmVyYXRlZE5vdGlmaWNhdGlvbihcbiAgICAgICAgdXBkYXRlZERhdGEuY3VzdG9tZXJlbWFpbCxcbiAgICAgICAgc2FsZXMuZW1haWxcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IHVwZGF0ZWREYXRhID8gMjAwIDogNTAwLFxuICAgICAgbWVzc2FnZTogdXBkYXRlZERhdGFcbiAgICAgICAgPyBcIkJvb2tpbmcgZm9ybSBzdGF0dXMgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIlxuICAgICAgICA6IFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbmNvbnN0IGNhbGxCb29raW5nRm9ybUdlbmVyYXRlZE5vdGlmaWNhdGlvbiA9IGFzeW5jIChcbiAgY3VzdG9tZXJFbWFpbCxcbiAgY2NcbikgPT4ge1xuXG4gIGF3YWl0IHRyaWdnZXJFbWFpbE5vdGlmaWNhdGlvbihcbiAgICBjdXN0b21lckVtYWlsLFxuICAgIFwiWW91ciBib29raW5nIGZvcm0gZ2VuZXJhdGVkXCIsXG4gICAgRW1haWxUZW1wbGF0ZS5ib29raW5nRm9ybUdlbmVyYXRlVGVtcGxhdGUoKSxcbiAgICBjY1xuICApO1xufVxuXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0Qm9va2luZ0Zvcm0gPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGxldCBnZXRCb29raW5nRm9ybVJlc3BvbnNlT2JqO1xuICB0cnkge1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgYXV0aGVudGljYXRlKF9jb250ZXh0LCBcIkNEXCIpO1xuICAgIGNvbnN0IG9wcG9ydHVuaXR5ID0gYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBzZmlkOiBjdXN0b21lci5vcHBvcnR1bml0eWlkIH0sXG4gICAgfSk7XG4gICAgY29uc3QgcXVvdGUgPSBhd2FpdCBwcmlzbWEucXVvdGUuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIG9wcG9ydHVuaXR5aWQ6IG9wcG9ydHVuaXR5LnNmaWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGFjYyA9IGF3YWl0IHByaXNtYS5hY2NvdW50LmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBzZmlkOiBvcHBvcnR1bml0eS5hY2NvdW50aWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHNhbGVzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHNmaWQ6IG9wcG9ydHVuaXR5Lm93bmVyaWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGJvb2tpbmdmb3Jtc3RhdHVzID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBjdXN0b21lcnBob25lOiBvcHBvcnR1bml0eS5tb2JpbGVfX2MsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGdldEJvb2tpbmdGb3JtUmVzcG9uc2VPYmogPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBmZXRjaGVkIGJvb2tpbmcgZm9ybSBkZXRhaWxzXCIsXG4gICAgICB1c2VyX2RldGFpbHM6IGFjYyxcbiAgICAgIG9wcG9ydHVuaXR5X2RldGFpbHM6IG9wcG9ydHVuaXR5LFxuICAgICAgcXVvdGVfZGV0YWlsczogcXVvdGUsXG4gICAgICBzYWxlc19tYW5hZ2VyX2RldGFpbHM6IHNhbGVzLFxuICAgICAgYm9va2luZ2Zvcm1zdGF0dXM6IGJvb2tpbmdmb3Jtc3RhdHVzLFxuICAgIH07XG4gICAgcmV0dXJuIGdldEJvb2tpbmdGb3JtUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZ2V0Qm9va2luZ0Zvcm1SZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gICAgcmV0dXJuIGdldEJvb2tpbmdGb3JtUmVzcG9uc2VPYmo7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgZ2V0Qm9va2luZ0Zvcm0gfSBmcm9tIFwiLi9RdWVyaWVzL2dldEJvb2tpbmdGb3JtXCI7XG5pbXBvcnQgeyBhY2NlcHRCb29raW5nRm9ybSB9IGZyb20gXCIuL011dGF0aW9ucy9hY2NlcHRCb29raW5nRm9ybVwiO1xuaW1wb3J0IHsgdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXMgfSBmcm9tIFwiLi9NdXRhdGlvbnMvdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXNcIjtcblxuZXhwb3J0IGNvbnN0IGJvb2tpbmdGb3JtUmVzb2x2ZXIgPSB7XG4gIE11dGF0aW9uOiB7XG4gICAgYWNjZXB0Qm9va2luZ0Zvcm06IChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgYWNjZXB0Qm9va2luZ0Zvcm0ocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXM6IChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlQm9va2luZ0Zvcm1TdGF0dXMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIFF1ZXJ5OiB7XG4gICAgZ2V0Qm9va2luZ0Zvcm06IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0Qm9va2luZ0Zvcm0ocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyLFxufTtcbiIsImV4cG9ydCBjb25zdCBib29raW5nRm9ybVR5cGVkZWYgPSBgXG5cbnR5cGUgYWNje1xuICAgIHNmaWQ6IFN0cmluZyFcbiAgICBuYW1lIDogU3RyaW5nXG4gICAgcGVyc29uZW1haWwgOiAgU3RyaW5nXG4gICAgcGVyc29ubW9iaWxlcGhvbmUgOiBTdHJpbmdcbiAgICBwYW5fX2MgOiBTdHJpbmdcbiAgICBnc3Rfbm9fX2MgOiBTdHJpbmdcbiAgICBzaGlwcGluZ3N0cmVldCAgOlN0cmluZ1xuICAgIHNoaXBwaW5nY2l0eSAgOlN0cmluZ1xuICAgIHNoaXBwaW5nc3RhdGUgIDpTdHJpbmdcbiAgICBzaGlwcGluZ3Bvc3RhbGNvZGUgOlN0cmluZ1xuICAgIHNoaXBwaW5nY291bnRyeSAgOlN0cmluZ1xuICAgIGJpbGxpbmdzdHJlZXQgIDpTdHJpbmdcbiAgICBiaWxsaW5nY2l0eSAgOlN0cmluZ1xuICAgIGJpbGxpbmdzdGF0ZSAgIDpTdHJpbmdcbiAgICBiaWxsaW5nY291bnRyeSAgOlN0cmluZ1xuICAgIGJpbGxpbmdwb3N0YWxjb2RlIDogU3RyaW5nXG59IFxuXG50eXBlIG9wcG9ydHVuaXR5e1xuICAgIHNmaWQ6ICBTdHJpbmdcbiAgICBjdXN0b21lcl9pZF9fYyA6IFN0cmluZ1xuICAgIGhvbWVfdHlwZV9fYyA6IFN0cmluZ1xuICAgIHNjb3BlX29mX3dvcmtfX2MgOiBTdHJpbmdcbiAgICBjaXZpbF93b3JrX19jIDogQm9vbGVhblxuICAgIHByb3Bvc2VkX2J1ZGdldF9fYyA6RmxvYXRcbiAgICBhbW91bnQgOiBGbG9hdFxuICAgIG1vZHVsYXJfZGlzY291bnRfX2MgOiBGbG9hdFxuICAgIG1vZHVsYXJfYW1vdW50X2Rpc19pbmNsX2dzdF9fYzogRmxvYXRcbiAgICBjaXZpbF9kaXNjb3VudF9fYyA6IEZsb2F0XG4gICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfZGlzX2luY2xfZ3N0X19jIDpGbG9hdFxuICAgIGRlY29yX2Ftb3VudF9pbmNsX2dzdF9fYyA6RmxvYXRcbiAgICBpbml0aWFsX3BheW1lbnRfX2MgOkZsb2F0XG4gICAgc2lnbnVwX2Ftb3VudF9fYyA6IEZsb2F0XG4gICAgZnJhbWVzX2Zvcl9hbGxfZXh0ZXJuYWxfZG9vcnNfd2luZG93c19fYyA6Qm9vbGVhblxuICAgIHRoZV9kb29yc193aW5kb3dzX2FyZV9pbnN0YWxsZWRfcmVxdWlyX19jIDogQm9vbGVhblxuICAgIGFsbF93YWxsc19hcmVfY29tcGxldGVkX3JlcXVpcmVkX19jIDogQm9vbGVhblxuICAgIHB1dHR5X2FuZF8xX2NvYXRfb2ZfcGxhc3RlcmluZ19yZXF1aXJlZF9fYyA6Qm9vbGVhblxuICAgIGZsb29yc19hcmVfbGV2ZWxsZWRfb3V0X3ByZXBwZWRfYmFzaWNfX2MgOkJvb2xlYW5cbiAgICBmbG9vcmluZ19pc19jb21wbGV0ZWRfcmVxdWlyZWRfX2MgOkJvb2xlYW5cbiAgICBub3Rlc19fYyA6IFN0cmluZ1xuICAgIHdvaG9vX2NhcmRfX2MgOiBTdHJpbmdcbiAgICByZW1hcmtzX2Zvcl9tYXJrZXRpbmdfX2MgOiBTdHJpbmdcbn1cblxudHlwZSBzYWxlc3tcbiAgICBuYW1lICA6IFN0cmluZ1xuICAgIGVtYWlsICA6IFN0cmluZ1xuICAgIG1vYmlsZXBob25lIDogU3RyaW5nXG59XG5cbnR5cGUgYm9va2luZ2Zvcm1zdGF0dXN7XG4gICAgYm9va2luZ2Zvcm1zdGF0dXMgOlN0cmluZ1xufVxuICAgIHR5cGUgZ2V0Qm9va2luZ0Zvcm1SZXNwb25zZU9iaiB7XG4gICAgICAgIGNvZGU6IEludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgdXNlcl9kZXRhaWxzOiBhY2NcbiAgICAgICAgb3Bwb3J0dW5pdHlfZGV0YWlsczpvcHBvcnR1bml0eVxuICAgICAgICBxdW90ZV9kZXRhaWxzOiBRdW90ZVxuICAgICAgICBzYWxlc19tYW5hZ2VyX2RldGFpbHM6c2FsZXNcbiAgICAgICAgYm9va2luZ2Zvcm1zdGF0dXM6Ym9va2luZ2Zvcm1zdGF0dXNcbiAgICB9XG4gICAgXG4gICAgdHlwZSBRdWVyeSB7XG4gICAgICAgIGdldEJvb2tpbmdGb3JtOiBnZXRCb29raW5nRm9ybVJlc3BvbnNlT2JqXG4gICAgfVxuXG4gICAgdHlwZSB1cGRhdGVCb29raW5nRm9ybVJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgfVxuXG4gICAgdHlwZSBzZlJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nLFxuICAgIH1cblxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIGFjY2VwdEJvb2tpbmdGb3JtKFxuICAgICAgICBtb2R1bGFyQW1vdW50OiBGbG9hdFxuICAgICAgICBpc0VkaXQgOiBCb29sZWFuXG4gICAgICAgIGRjQ29kZSA6IFN0cmluZ1xuICAgICAgICBjbG9zZURhdGUgOiBEYXRlVGltZVxuICAgICAgICBjbGllbnROYW1lIDogU3RyaW5nXG4gICAgICAgIHBob25lTnVtYmVyIDogU3RyaW5nXG4gICAgICAgIGVtYWlsSWQ6IFN0cmluZ1xuICAgICAgICBwcm9qZWN0VHlwZSA6IFN0cmluZ1xuICAgICAgICBzY29wZU9mV29yayA6IFN0cmluZ1xuICAgICAgICBjaXZpbFdvcmtSZXF1aXJlZCA6IEJvb2xlYW5cbiAgICAgICAgY3VycmVudEFkZHJlc3MgOiBKU09OXG4gICAgICAgIHByb2plY3RBZGRyZXNzIDogSlNPTlxuICAgICAgICBwcm9wb3NlZFZhbHVlIDogRmxvYXRcbiAgICAgICAgc2lnbnVwVmFsdWUgOiBGbG9hdFxuICAgICAgICBtb2R1bGFyRGlzY291bnQgOiBGbG9hdFxuICAgICAgICBzaXRlU2VydmljZXNEaXNjb3VudCA6IEZsb2F0XG4gICAgICAgIHNpdGVTZXJ2aWNlc0Ftb3VudCA6IEZsb2F0XG4gICAgICAgIGRlY29yQW1vdW50IDogRmxvYXRcbiAgICAgICAgZml2ZVBlcmNlbnRhZ2VQcm9qZWN0VmFsdWUgOiBGbG9hdFxuICAgICAgICBzaWdudXBBbW91bnQgOiBGbG9hdFxuICAgICAgICBiYXNpY0ZyYW1lc29mRXh0ZXJuYWxEb29yc0FuZFdpbmRvd3M6Qm9vbGVhblxuICAgICAgICByZXFkRG9vcnNBbmRXaW5kb3dzSW5zdGFsbGVkIDpCb29sZWFuXG4gICAgICAgIGJhc2ljQWxsV2FsbHNDb21wbGV0ZWQgOkJvb2xlYW5cbiAgICAgICAgcmVxZFB1dHR5Q29hdE9mUGxhc3RlcmluZ09uV2FsbHM6Qm9vbGVhblxuICAgICAgICBiYXNpY0Zsb29yc0xldmVsZWRPdXRBbmRQcmVwcGVkOkJvb2xlYW5cbiAgICAgICAgcmVxZEZsb29yaW5nSXNDb21wbGV0ZWQ6Qm9vbGVhblxuICAgICAgICBub3RlczogU3RyaW5nXG4gICAgICAgIHBhbjogU3RyaW5nXG4gICAgICAgIGdzdDogU3RyaW5nXG4gICAgICAgIHdvaG9vQ2FyZDpTdHJpbmdcbiAgICAgICAgcmVtYXJrRnJvbVNhbGVzOlN0cmluZ1xuICAgICAgICBzYWxlc01hbmFnZXJOYW1lOlN0cmluZ1xuICAgICAgICBzYWxlc01hbmFnZXJNb2JpbGU6U3RyaW5nXG4gICAgICAgIHNhbGVzTWFuYWdlckVtYWlsOlN0cmluZ1xuICAgICAgICApOnNmUmVzcG9uc2VcblxuICAgICAgICB1cGRhdGVCb29raW5nRm9ybVN0YXR1cyhcbiAgICAgICAgICAgIGN1c3RvbWVycGhvbmU6IFN0cmluZyFcbiAgICAgICAgICAgIGJvb2tpbmdmb3Jtc3RhdHVzOiBTdHJpbmchXG4gICAgICAgICk6dXBkYXRlQm9va2luZ0Zvcm1SZXNwb25zZVxuICAgIH1cbiAgICBzY2FsYXIgRGF0ZVRpbWVcbmA7XG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IGh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IHsgY2hlY2tBbmRNYXJrTWlsZXN0b25lc09uU21hcnRzaGVldCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9jb21tb25VdGlsc1wiO1xuXG5sZXQgbWlsZXN0b25lT2JqO1xuZXhwb3J0IGNvbnN0IGFjY2VwdERlc2lnblNpZ25PZmZEb2NzID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgYXV0aGVudGljYXRlKF9jb250ZXh0LCBcIkNEXCIpO1xuICAgIGNvbnN0IHsgZG9jdW1lbnRuYW1lLCBzdGF0dXMgfSA9IGFyZ3M7XG4gICAgbGV0IHNlbGVjdGVkTWlsZXN0b25lcztcbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBjdXN0b21lci5jdXN0b21lcmlkIH0sXG4gICAgfSk7XG4gICAgbGV0IGZpbGVzY2hlY2tsaXN0ID0gW107XG5cbiAgICBsZXQgbWlsZXN0b25lcyA9IHByb2plY3QubWlsZXN0b25lcztcbiAgICBmaWxlc2NoZWNrbGlzdCA9IG1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLmZpbGVzX2NoZWNrbGlzdDtcbiAgICBjb25zdCBmaWxlc0NoZWNrbGlzdFZhbHVlID0gZG9jdW1lbnRuYW1lO1xuXG4gICAgLy9Mb2dpYyBoZXJlXG4gICAgaWYgKFxuICAgICAgZmlsZXNDaGVja2xpc3RWYWx1ZSA9PT0gXCJEZXNpZ24gUHJlc2VudGF0aW9uXCIgfHxcbiAgICAgIGZpbGVzQ2hlY2tsaXN0VmFsdWUuaW5jbHVkZXMoXCJEZXNpZ24gUHJlc2VudGF0aW9uXCIpXG4gICAgKSB7XG4gICAgICBjb25zdCBtaWxlc3RvbmVPYmogPSBtYXJrTWlsZXN0b25lQ2hlY2tsaXN0KFxuICAgICAgICBtaWxlc3RvbmVzLFxuICAgICAgICBcIkN1c3RvbWVyIEFwcHJvdmVkIERlc2lnbnNcIlxuICAgICAgKTtcbiAgICAgIG1pbGVzdG9uZXMgPSBtaWxlc3RvbmVPYmoubWlsZXN0b25lcztcbiAgICAgIHNlbGVjdGVkTWlsZXN0b25lcyA9IG1pbGVzdG9uZU9iai5zZWxlY3RlZE1pbGVzdG9uZXM7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlc2NoZWNrbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGZpbGVzY2hlY2tsaXN0W2ldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBpZiAoZmlsZXNjaGVja2xpc3RbaV1bXCJjaGVja2xpc3Rfc3RyaW5nXCJdID09PSBmaWxlc0NoZWNrbGlzdFZhbHVlKSB7XG4gICAgICAgICAgYXdhaXQgbWFya0ZpbGVzQXBwcm92ZWQoXG4gICAgICAgICAgICBwcm9qZWN0LmlkLFxuICAgICAgICAgICAgbWlsZXN0b25lcyxcbiAgICAgICAgICAgIGZpbGVzY2hlY2tsaXN0LFxuICAgICAgICAgICAgZmlsZXNDaGVja2xpc3RWYWx1ZSxcbiAgICAgICAgICAgIHN0YXR1c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgZGVzaWduU2lnbk9mZk1pbGVzdG9uZSA9IG1pbGVzdG9uZXNbXG4gICAgICAgICAgICAgIFwiYXR0cmlidXRlc1wiXG4gICAgICAgICAgICBdLm1pbGVzdG9uZV9kZXRhaWxzLmZpbmQoXG4gICAgICAgICAgICAgIChtaWxlc3RvbmVEZXRhaWwpID0+IG1pbGVzdG9uZURldGFpbC5sYWJlbCA9PT0gXCJEZXNpZ24gU2lnbi1PZmZcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyU2lnbk9mZkNoZWNrbGlzdCA9XG4gICAgICAgICAgICAgIGRlc2lnblNpZ25PZmZNaWxlc3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdC5maW5kKFxuICAgICAgICAgICAgICAgIChjaGVja2xpc3QpID0+XG4gICAgICAgICAgICAgICAgICBjaGVja2xpc3QuY2hlY2tsaXN0X3N0cmluZyA9PT0gXCJSZXF1ZXN0IEN1c3RvbWVyIFNpZ25vZmZcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjdXN0b21lclNpZ25PZmZDaGVja2xpc3QgJiZcbiAgICAgICAgICAgICAgY3VzdG9tZXJTaWduT2ZmQ2hlY2tsaXN0LmRhdGEgJiZcbiAgICAgICAgICAgICAgY3VzdG9tZXJTaWduT2ZmQ2hlY2tsaXN0LmRhdGEuaXNSZXF1ZXN0ZWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBtaWxlc3RvbmVPYmogPSBjaGVja0FuZE1hcmtDdXN0b21lclNpZ25PZmYoXG4gICAgICAgICAgICAgICAgZmlsZXNjaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtaWxlc3RvbmVzID0gbWlsZXN0b25lT2JqLm1pbGVzdG9uZXM7XG4gICAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lcyA9IG1pbGVzdG9uZU9iai5zZWxlY3RlZE1pbGVzdG9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIGRhdGE6IHsgbWlsZXN0b25lczogbWlsZXN0b25lcyB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3QuaWQgfSxcbiAgICB9KTtcbiAgICBpZiAoc2VsZWN0ZWRNaWxlc3RvbmVzKSB7XG4gICAgICBhd2FpdCBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0KHByb2plY3QuaWQsIHNlbGVjdGVkTWlsZXN0b25lcyk7XG4gICAgfVxuICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICB0aHJvdyBuZXcgaHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBjaGVja0FuZE1hcmtDdXN0b21lclNpZ25PZmYgPSAoZmlsZXNjaGVja2xpc3QsIG1pbGVzdG9uZXMpID0+IHtcbiAgbGV0IHNlbGVjdGVkTWlsZXN0b25lO1xuICBsZXQgY2FuTWFya0N1c3RvbWVyU2lnbk9mZiA9IHRydWU7XG5cbiAgZmlsZXNjaGVja2xpc3QuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgIGlmIChmaWxlLmFwcHJvdmFsX2Zyb21fY3VzdG9tZXIpIHtcbiAgICAgIGlmIChmaWxlLmFwcHJvdmFsc3RhdHVzICYmIGZpbGUuZmlsZXVybCkge1xuICAgICAgICBpZiAoZmlsZS5hcHByb3ZhbHN0YXR1cyAhPT0gXCJBcHByb3ZlZFwiKSB7XG4gICAgICAgICAgY2FuTWFya0N1c3RvbWVyU2lnbk9mZiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKGNhbk1hcmtDdXN0b21lclNpZ25PZmYpIHtcbiAgICBtaWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5taWxlc3RvbmVfZGV0YWlscy5mb3JFYWNoKChtaWxlc3RvbmVEZXRhaWwpID0+IHtcbiAgICAgIGlmIChtaWxlc3RvbmVEZXRhaWwubGFiZWwgPT09IFwiRGVzaWduIFNpZ24tT2ZmXCIpIHtcbiAgICAgICAgbWlsZXN0b25lRGV0YWlsLm1pbGVzdG9uZV9jaGVja2xpc3QuZm9yRWFjaCgobWlsZXN0b25lQ2hlY2tsaXN0KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2cobWlsZXN0b25lQ2hlY2tsaXN0LmNoZWNrbGlzdF9zdHJpbmcpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdC5jaGVja2xpc3Rfc3RyaW5nID09PSBcIlJlcXVlc3QgQ3VzdG9tZXIgU2lnbm9mZlwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QuZGF0YS5pc1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWlsZXN0b25lQ2hlY2tsaXN0LmNoZWNrbGlzdF9zdHJpbmcgPT09IFwiQ3VzdG9tZXIgU2lnbm9mZiBcIikge1xuICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LmlzX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZWN0ZWRNaWxlc3RvbmUgPSBtaWxlc3RvbmVEZXRhaWw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4geyBtaWxlc3RvbmVzLCBzZWxlY3RlZE1pbGVzdG9uZSB9O1xufTtcblxuY29uc3QgbWFya0ZpbGVzQXBwcm92ZWQgPSBhc3luYyAoXG4gIHByb2plY3RJZCxcbiAgbWlsZXN0b25lcyxcbiAgbWlsZXN0b25lc0ZpbGVzLFxuICBmaWxlc0NoZWNrbGlzdFZhbHVlLFxuICBzdGF0dXNcbikgPT4ge1xuICBtaWxlc3RvbmVzRmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgIGlmIChmaWxlLmNoZWNrbGlzdF9zdHJpbmcgPT09IGZpbGVzQ2hlY2tsaXN0VmFsdWUpIHtcbiAgICAgIGlmIChzdGF0dXMgPT09IDEpIHtcbiAgICAgICAgZmlsZS5hcHByb3ZhbHN0YXR1cyA9IFwiQXBwcm92ZWRcIjtcbiAgICAgICAgZmlsZS5hcHByb3ZlZG9uID0gbmV3IERhdGUoKTtcbiAgICAgICAgZmlsZS51cGRhdGVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGUuYXBwcm92YWxzdGF0dXMgPSBcIlJlamVjdGVkXCI7XG4gICAgICAgIGZpbGUucmVqZWN0ZWRkb24gPSBuZXcgRGF0ZSgpO1xuICAgICAgICBmaWxlLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIG1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLmZpbGVzX2NoZWNrbGlzdCA9IG1pbGVzdG9uZXNGaWxlcztcblxuICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICB3aGVyZToge1xuICAgICAgaWQ6IHByb2plY3RJZCxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIG1pbGVzdG9uZXM6IG1pbGVzdG9uZXMsXG4gICAgfSxcbiAgfSk7XG59O1xuXG5jb25zdCBtYXJrTWlsZXN0b25lQ2hlY2tsaXN0ID0gKG1pbGVzdG9uZXMsIGZpbGVzQ2hlY2tsaXN0VmFsdWUpID0+IHtcbiAgbGV0IHNlbGVjdGVkTWlsZXN0b25lcztcbiAgbWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHMuZm9yRWFjaCgobWlsZXN0b25lKSA9PiB7XG4gICAgaWYgKG1pbGVzdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIG1pbGVzdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0LmZvckVhY2goKGNoZWNrbGlzdCkgPT4ge1xuICAgICAgICBpZiAoY2hlY2tsaXN0LmNoZWNrbGlzdF9zdHJpbmcgPT09IGZpbGVzQ2hlY2tsaXN0VmFsdWUpIHtcbiAgICAgICAgICBjaGVja2xpc3QuaXNfY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgc2VsZWN0ZWRNaWxlc3RvbmVzID0gbWlsZXN0b25lO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IHNlbGVjdGVkTWlsZXN0b25lcywgbWlsZXN0b25lcyB9O1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcblxuZXhwb3J0IGNvbnN0IGdldERlc2lnblNpZ25vZmZEb2NzID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiQ0RcIilcblxuICAgICAgICBjb25zdCB7IGZpbHRlclZhbHVlIH0gPSBhcmdzO1xuXG4gICAgICAgIGxldCBhbGxGaWxlcyA9IFtdO1xuICAgICAgICBjb25zdCBsZWFkID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZEZpcnN0KHsgd2hlcmU6IHsgbW9iaWxlcGhvbmU6IGN1c3RvbWVyLmN1c3RvbWVycGhvbmUgfSB9KVxuXG4gICAgICAgIGNvbnN0IGxlYWRGaWxlcyA9IGF3YWl0IHByaXNtYS5kY19hdHRhY2htZW50cy5maW5kTWFueSh7IHdoZXJlOiB7IGxlYWRpZDogbGVhZC5zZmlkLCBpc3ByZW9ycG9zdDogbnVsbCB9IH0pO1xuICAgICAgICBpZiAobGVhZEZpbGVzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICBsZWFkRmlsZXMubWFwKGFzeW5jIChmaWxlKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhZEZpbGVTdGF0dXMgPSBhd2FpdCBnZXRMZWFkRmlsZXNTdGF0dXMoZmlsZSwgY3VzdG9tZXIpXG4gICAgICAgICAgICAgICAgICAgIGlmKGxlYWRGaWxlU3RhdHVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEZpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVLZXk6IGZpbGUuZmlsZWtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVXJsOiBmaWxlLmxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBmaWxlLmRpc3BsYXluYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLmNvbnRlbnR0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogbGVhZEZpbGVTdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGN1c3RvbWVyLmN1c3RvbWVyaWQgfSB9KVxuICAgICAgICBjb25zdCBwcm9qZWN0RmlsZXMgPSBwcm9qZWN0Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLmZpbGVzX2NoZWNrbGlzdFxuXG4gICAgICAgIGlmIChwcm9qZWN0RmlsZXMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIHByb2plY3RGaWxlcy5mb3JFYWNoKGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEZpbGVzUmVzID0gYXdhaXQgZ2V0UHJvamVjdEZpbGVzKGZpbGUsIGFsbEZpbGVzKVxuXG4gICAgICAgICAgICAgICAgYWxsRmlsZXMgPSBwcm9qZWN0RmlsZXNSZXMuYWxsRmlsZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChmaWx0ZXJWYWx1ZSkge1xuXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEZpbGVzID0gYXdhaXQgZ2V0RmlsZXNCYXNlZE9uRmlsdGVyKGZpbHRlclZhbHVlLCBhbGxGaWxlcylcblxuICAgICAgICAgICAgYWxsRmlsZXMgPSBmaWx0ZXJlZEZpbGVzXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBhbGxGaWxlcyB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIH1cbn07XG5jb25zdCBnZXRMZWFkRmlsZXNTdGF0dXMgPSBhc3luYyAoZmlsZSwgY3VzdG9tZXIpID0+IHtcbiAgICBsZXQgcXVvdGUsIHN0YXR1cyA9IG51bGw7XG4gICAgbGV0IHdoZXJlQ29uZGl0aW9uRm9yTW9kdWxhcjogYW55ID0ge307XG4gICAgbGV0IHdoZXJlQ29uZGl0aW9uRm9yU2l0ZTogYW55ID0ge307XG5cbiAgICBjb25zdCBzdGF0dXNRdWVyeSA9IFtcbiAgICAgICAgeyBzdGF0dXM6IFwiQWNjZXB0ZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogXCJhY2NlcHRlZFwiIH0sXG4gICAgXTtcbiAgICBpZiAoZmlsZS5kaXNwbGF5bmFtZSA9PT0gXCJNb2R1bGFyIFF1b3RhdGlvblwiKSB7XG4gICAgICAgIHdoZXJlQ29uZGl0aW9uRm9yTW9kdWxhciA9IHtcbiAgICAgICAgICAgIE9SOiBzdGF0dXNRdWVyeSxcbiAgICAgICAgICAgIHF1b3RlX2xpbmtfX2M6IGZpbGUubG9jYXRpb24sXG4gICAgICAgIH07XG4gICAgICAgIHF1b3RlID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRGaXJzdCh7IHdoZXJlOiB3aGVyZUNvbmRpdGlvbkZvck1vZHVsYXJ9KVxuICAgICAgICBzdGF0dXMgPSBxdW90ZT8uc3RhdHVzID8gXCJBcHByb3ZlZFwiIDogbnVsbFxuXG4gICAgfVxuICAgIGlmIChmaWxlLmRpc3BsYXluYW1lID09PSBcIlNpdGUgU2VydmljZSBRdW90YXRpb25cIikge1xuICAgICAgICB3aGVyZUNvbmRpdGlvbkZvclNpdGUgPSB7XG4gICAgICAgICAgICBPUjogc3RhdHVzUXVlcnksXG4gICAgICAgICAgICBzaXRlX3NlcnZpY2VzX3BkZl9fYzogZmlsZS5sb2NhdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgcXVvdGUgPSBhd2FpdCBwcmlzbWEucXVvdGUuZmluZEZpcnN0KHsgd2hlcmU6IHdoZXJlQ29uZGl0aW9uRm9yU2l0ZSB9KVxuICAgICAgICBzdGF0dXMgPSBxdW90ZT8uc3RhdHVzID8gXCJBcHByb3ZlZFwiIDogbnVsbFxuXG4gICAgfVxuICAgIGlmIChmaWxlLmRpc3BsYXluYW1lID09PSBcIkJvb2tpbmcgRm9ybVwiKSB7XG5cbiAgICAgICAgc3RhdHVzID0gY3VzdG9tZXI/LmJvb2tpbmdmb3JtYWNjZXB0ZWQgPyBcIkFwcHJvdmVkXCIgOiBudWxsXG5cbiAgICB9XG4gICAgcmV0dXJuIHN0YXR1c1xuXG59XG5jb25zdCBnZXRQcm9qZWN0RmlsZXMgPSBhc3luYyAoZmlsZSwgYWxsRmlsZXMpID0+IHtcbiAgICBsZXQgZGlzcGxheW5hbWU7XG4gICAgaWYgKGZpbGUuc2hhcmVfd2l0aF9jdXN0b21lciAmJiBmaWxlLmZpbGV1cmwpIHtcbiAgICAgICAgaWYgKGZpbGUuY2hlY2tsaXN0X3N0cmluZyA9PT0gXCJNb2R1bGFyIFF1b3RhdGlvblwiKSB7XG4gICAgICAgICAgICBkaXNwbGF5bmFtZSA9IFwiRmluYWwgTW9kdWxhciBRdW90YXRpb25cIlxuICAgICAgICB9IGVsc2UgaWYgKGZpbGUuY2hlY2tsaXN0X3N0cmluZyA9PT0gXCJTaXRlIFNlcnZpY2VzIFF1b3RhdGlvblwiKSB7XG4gICAgICAgICAgICBkaXNwbGF5bmFtZSA9IFwiRmluYWwgU2VydmljZSBRdW90YXRpb25cIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzcGxheW5hbWUgPSBmaWxlLmNoZWNrbGlzdF9zdHJpbmdcbiAgICAgICAgfVxuICAgICAgICBhbGxGaWxlcy5wdXNoKHtcbiAgICAgICAgICAgIGZpbGVLZXk6IGZpbGUuZmlsZWtleSxcbiAgICAgICAgICAgIGZpbGVVcmw6IGZpbGUuZmlsZXVybCxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5bmFtZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmaWxlLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgc3RhdHVzOiBmaWxlLmFwcHJvdmFsc3RhdHVzLFxuICAgICAgICAgICAgYXBwcm92YWxfZnJvbV9jdXN0b21lcjogZmlsZS5hcHByb3ZhbF9mcm9tX2N1c3RvbWVyXG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsRmlsZXNcblxufVxuY29uc3QgZ2V0RmlsZXNCYXNlZE9uRmlsdGVyID0gYXN5bmMgKGZpbHRlclZhbHVlLCBhbGxGaWxlcykgPT4ge1xuICAgIGlmIChmaWx0ZXJWYWx1ZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBhcHByb3ZlZEZpbGVzID0gW107XG4gICAgICAgIGFsbEZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWxlLnN0YXR1cy50b0xvd2VyQ2FzZSgpID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZEZpbGVzLnB1c2goZmlsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgYWxsRmlsZXMgPSBhcHByb3ZlZEZpbGVzXG5cbiAgICB9IGVsc2UgaWYgKGZpbHRlclZhbHVlID09PSAyKSB7XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWlyZWRGaWxlcyA9IFtdO1xuICAgICAgICBhbGxGaWxlcy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmlsZS5zdGF0dXMudG9Mb3dlckNhc2UoKSA9PT0gXCJwZW5kaW5nIGFwcHJvdmFsXCIgJiYgZmlsZS5hcHByb3ZhbF9mcm9tX2N1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgYXBwcm92YWxSZXF1aXJlZEZpbGVzLnB1c2goZmlsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgYWxsRmlsZXMgPSBhcHByb3ZhbFJlcXVpcmVkRmlsZXNcblxuICAgIH0gZWxzZSBpZiAoZmlsdGVyVmFsdWUgPT09IDMpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlUmVxdWVzdGVkRmlsZXMgPSBbXTtcbiAgICAgICAgYWxsRmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbGUuc3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09IFwiY2hhbmdlX3JlcXVlc3RlZFwiKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlUmVxdWVzdGVkRmlsZXMucHVzaChmaWxlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGFsbEZpbGVzID0gY2hhbmdlUmVxdWVzdGVkRmlsZXNcbiAgICB9XG4gICAgcmV0dXJuIGFsbEZpbGVzO1xuXG59XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgZ2V0RGVzaWduU2lnbm9mZkRvY3MgfSBmcm9tIFwiLi9RdWVyaWVzL2dldERlc2lnblNpZ25vZmZEb2NzXCI7XG5pbXBvcnQgeyBhY2NlcHREZXNpZ25TaWduT2ZmRG9jcyB9IGZyb20gXCIuL011dGF0aW9ucy9hY2NlcHREZXNpZ25TaWduT2ZmRG9jc1wiO1xuXG5leHBvcnQgY29uc3QgZGVzaWduU2lnbm9mZlJlc29sdmVyID0ge1xuICBNdXRhdGlvbjoge1xuICAgIGFjY2VwdERlc2lnblNpZ25PZmZEb2NzOiAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFjY2VwdERlc2lnblNpZ25PZmZEb2NzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBRdWVyeToge1xuICAgIGdldERlc2lnblNpZ25vZmZEb2NzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldERlc2lnblNpZ25vZmZEb2NzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlclxufTtcbiIsImV4cG9ydCBjb25zdCBkZXNpZ25TaWdub2ZmVHlwZWRlZiA9IGBcblxuICAgIHR5cGUgUXVlcnkge1xuICAgICAgICBnZXREZXNpZ25TaWdub2ZmRG9jcyhmaWx0ZXJWYWx1ZTpJbnQpOiBkZXNpZ25TaWdub2ZmUmVzcG9uc2VcbiAgICB9XG5cbiAgICB0eXBlIGRlc2lnblNpZ25vZmZSZXNwb25zZXtcbiAgICAgICAgY29kZTogSW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICAgICAgZGF0YTpbSlNPTl1cbiAgICB9XG4gICAgdHlwZSBhY2NlcHREZXNpZ25TaWduT2ZmRG9jc1Jlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgfVxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIGFjY2VwdERlc2lnblNpZ25PZmZEb2NzKFxuICAgICAgICAgICAgZG9jdW1lbnRuYW1lOiBTdHJpbmchLFxuICAgICAgICAgICAgc3RhdHVzOiBJbnQhXG4gICAgICAgICk6YWNjZXB0RGVzaWduU2lnbk9mZkRvY3NSZXNwb25zZVxuICAgIH1cblxuICAgIHNjYWxhciBEYXRlVGltZVxuYDtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2Uvc3VwcG9ydHBhbEJhc2VVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRDdXN0b21lciA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgY29uc3QgY3VzdG9tZXJBZGRlZFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IG51bGwsIGRhdGE6IG51bGwgfTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7XG4gICAgICBmaXJzdG5hbWUsXG4gICAgICBsYXN0bmFtZSxcbiAgICAgIGN1c3RvbWVyZW1haWwsXG4gICAgICBjdXN0b21lcnBob25lLFxuICAgICAgc2FsZXNmb3JjZWlkLFxuICAgICAgcGFuY2FyZG5vLFxuICAgICAgZ3N0bm8sXG4gICAgICBvZG9vY29udGFjdGlkLFxuICAgICAgYWRkcmVzc2VzLFxuICAgIH0gPSBhcmdzLmN1c3RvbWVyO1xuXG4gICAgY29uc3QgbGVhZCA9IGF3YWl0IHByaXNtYS5sZWFkLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBtb2JpbGVwaG9uZTogY3VzdG9tZXJwaG9uZSB9LFxuICAgIH0pO1xuICAgIGxldCBsZWFkaWQ7XG4gICAgaWYgKGxlYWQpIHtcbiAgICAgIGxlYWRpZCA9IGxlYWQuaWQ7XG4gICAgfVxuXG4gICAgY29uc3QgY3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBjdXN0b21lcnBob25lOiBjdXN0b21lcnBob25lLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghY3VzdG9tZXJEYXRhKSB7XG4gICAgICBjb25zdCBhZGRlZEN1c3RvbWVyID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmaXJzdG5hbWUsXG4gICAgICAgICAgbGFzdG5hbWUsXG4gICAgICAgICAgY3VzdG9tZXJlbWFpbCxcbiAgICAgICAgICBjdXN0b21lcnBob25lLFxuICAgICAgICAgIHNhbGVzZm9yY2VpZCxcbiAgICAgICAgICBwYW5jYXJkbm8sXG4gICAgICAgICAgZ3N0bm8sXG4gICAgICAgICAgb2Rvb2NvbnRhY3RpZCxcbiAgICAgICAgICBsZWFkaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGlmIChhZGRlZEN1c3RvbWVyKSB7XG4gICAgICAgIGFkZHJlc3Nlcy5mb3JFYWNoKChhZGRyZXNzKSA9PiB7XG4gICAgICAgICAgYWRkcmVzcy5jdXN0b21lcmlkID0gYWRkZWRDdXN0b21lci5jdXN0b21lcmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IoY29uc3QgYWRkcmVzcyBvZiBhZGRyZXNzZXMpe1xuICAgICAgICAgIGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IGFkZHJlc3MsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZXRjaGVkUmVjZW50QWRkZWRDdXN0b21lciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3Qoe1xuICAgICAgICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGFkZGVkQ3VzdG9tZXIuY3VzdG9tZXJpZCB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBjdXN0b21lckFkZGVkUmVzcG9uc2UuY29kZSA9IDIwMDtcbiAgICAgICAgY3VzdG9tZXJBZGRlZFJlc3BvbnNlLm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBjdXN0b21lckFkZGVkUmVzcG9uc2UuZGF0YSA9IGZldGNoZWRSZWNlbnRBZGRlZEN1c3RvbWVyO1xuXG4gICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgYXdhaXQgY3JlYXRlQ3VzdG9tZXJJblN1cHBvcnRQYWwoYWRkZWRDdXN0b21lciwgNCwgcmVzcG9uc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VzdG9tZXJBZGRlZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgIGN1c3RvbWVyQWRkZWRSZXNwb25zZS5tZXNzYWdlID0gXCJDdXN0b21lciBub3QgYWRkZWRcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VzdG9tZXJBZGRlZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICBjdXN0b21lckFkZGVkUmVzcG9uc2UubWVzc2FnZSA9IFwiQ3VzdG9tZXIgYWxyZWFkeSBDcmVhdGVkIGluIERhdGFiYXNlXCI7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coNTUsIGUpO1xuICAgIGN1c3RvbWVyQWRkZWRSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIGN1c3RvbWVyQWRkZWRSZXNwb25zZS5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBjdXN0b21lckFkZGVkUmVzcG9uc2U7XG59O1xuY29uc3QgY3JlYXRlQ3VzdG9tZXJJblN1cHBvcnRQYWwgPSBhc3luYyAoY3VzdG9tZXIsIGdyb3VwLCByZXNwb25zZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG9wZXJhdG9yID0gYXdhaXQgU3VwcG9ydFBhbEJhc2VVc2VjYXNlKCkuY3JlYXRlVXNlcih7XG4gICAgICBmaXJzdG5hbWU6IGN1c3RvbWVyLmZpcnN0bmFtZSxcbiAgICAgIGxhc3RuYW1lOiBjdXN0b21lci5sYXN0bmFtZSxcbiAgICAgIGVtYWlsOiBjdXN0b21lci5jdXN0b21lcmVtYWlsLFxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LnN1cHBvcnRQYWxEQ1Bhc3N3b3JkLCAvLyBoYXJkY29kZSBwd2QgYXMgcmVxdWVzdGVkIGJ5IGNsaWVudFxuICAgICAgZ3JvdXA6IGdyb3VwLFxuICAgIH0pO1xuICAgIGlmICghb3BlcmF0b3IuZGF0YS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiVW5hYmxlIHRvIGNyZWF0ZSBvcGVyYXRvciBpbiBTYWxlc2ZvcmNlISFcIik7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwib3BlcmF0b3IuZGF0YS5pZCA9PT09PT09PT09PT4gXCIsIG9wZXJhdG9yLmRhdGEuaWQpO1xuICAgIC8vIGRldiBjb21tZW50XG4gICAgYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICBkYXRhOiB7IHN1cHBvcnRwYWxvcGVyYXRvcmlkOiBvcGVyYXRvci5kYXRhLmlkIH0sXG4gICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBjdXN0b21lci5jdXN0b21lcmlkIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0ICogYXMgbXNnOTEgZnJvbSBcIm1zZzkxLWFwaVwiO1xuY29uc3QgY3J5cHRvID0gcmVxdWlyZShcImNyeXB0b1wiKTtcblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgY29uc3QgeyBjdXN0b21lcnBob25lIH0gPSBhcmdzO1xuICBjb25zdCBsb2dpblJlc3BvbnNlT2JqID0ge1xuICAgIGNvZGU6IDIwMCxcbiAgICBtZXNzYWdlOiBcIk9UUCBoYXMgYmVlbiBzZW50IHRvIHlvdXIgcmVnaXN0ZXJlZCBudW1iZXJcIixcbiAgfTtcbiAgY29uc3QgZmV0Y2hlZEN1c3RvbWVyID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgY3VzdG9tZXJwaG9uZTogY3VzdG9tZXJwaG9uZSB9LFxuICB9KTtcblxuICBpZiAoZmV0Y2hlZEN1c3RvbWVyKSB7XG4gICAgY29uc3Qgb3RwID0gYXdhaXQgZ2VuZXJhdGVPdHAoY3VzdG9tZXJwaG9uZSk7XG4gICAgYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBjdXN0b21lcmlkOiBmZXRjaGVkQ3VzdG9tZXIuY3VzdG9tZXJpZCxcbiAgICAgIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG90cDogcGFyc2VJbnQob3RwKSxcbiAgICAgICAgaXNvdHB1c2VkOiBmYWxzZSxcbiAgICAgICAgZ2VuZXJhdGVkb3RwdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxvZ2luUmVzcG9uc2VPYmouY29kZSA9IDQwMDtcbiAgICBsb2dpblJlc3BvbnNlT2JqLm1lc3NhZ2UgPVxuICAgICAgXCJZb3UgZG8gbm90IGhhdmUgYWNjZXNzIHRvIHRoZSBkYXNoYm9hcmQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQgYXQgc3VwcG9ydEBkZXNpZ25jYWZlLmNvbVwiO1xuICB9XG4gIHJldHVybiBsb2dpblJlc3BvbnNlT2JqO1xufTtcblxuY29uc3QgZ2VuZXJhdGVPdHAgPSBhc3luYyAoY3VzdG9tZXJwaG9uZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJhbmRvbSA9IGNyeXB0by5yYW5kb21JbnQoMCwgOTk5OTk5KTtcbiAgICBjb25zdCBvdHAgPSByYW5kb20udG9TdHJpbmcoKS5wYWRTdGFydCg2LDApO1xuICAgIGNvbnNvbGUubG9nKG90cCk7XG4gICAgYXdhaXQgc2VuZE9UUChjdXN0b21lcnBob25lLCBvdHApO1xuICAgIHJldHVybiBvdHA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cbn07XG5cbmNvbnN0IHNlbmRPVFAgPSBhc3luYyAocGhvbmVOdW1iZXIsIG90cCkgPT4ge1xuICBjb25zdCBzbXNTZW5kZXIgPSBtc2c5MShwcm9jZXNzLmVudi5rU01TQXBpS2V5LCBwcm9jZXNzLmVudi5rU01TU2VuZGVySWQsIDQpO1xuICBjb25zdCBwYXJhbXMgPSB7XG4gICAgb3RwOiBvdHAsXG4gICAgZW1haWw6IFwiXCIsXG4gICAgb3RwX2xlbmd0aDogXCI0XCIsXG4gICAgb3RwX2V4cGlyeTogXCIxNVwiLFxuICAgIHVzZXJpcDogXCJcIixcbiAgICBpbnZpc2libGU6IFwiXCIsXG4gICAgdW5pY29kZTogXCJcIixcbiAgICBleHRyYV9wYXJhbTogXCJcIixcbiAgfTtcblxuICBzbXNTZW5kZXIuc2VuZE9UUChcbiAgICBgKzkxJHtwaG9uZU51bWJlcn1gLFxuICAgIHByb2Nlc3MuZW52LnNtc1RlbXBsYXRlSWQsXG4gICAgcGFyYW1zLFxuICAgIG51bGwsXG4gICAgbnVsbFxuICApO1xufTtcbiIsIlxuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvSnd0QXV0aENvbnRyb2xcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IHJlSXNzdWVBY2Nlc3NUb2tlbkNEID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gYXJncy5yZWZyZXNoVG9rZW47XG4gICAgY29uc3QgdXNlckluZm8gPSBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5qd3RTZWNyZXRSZWZyZXNoVG9rZW4sIHtcbiAgICAgIGlnbm9yZUV4cGlyYXRpb246IHRydWUsXG4gICAgfSk7XG5cbiAgICBpZiAoIXVzZXJJbmZvLnBheWxvYWQuZW1haWwpe1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIFwiU29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XG4gICAgfVxuXG4gICAgY29uc3QgZW1haWwgPSB1c2VySW5mbz8ucGF5bG9hZD8uZW1haWw/LnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgY3VzdG9tZXJlbWFpbDogZW1haWwgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVc2VyIG5vdCBmb3VuZFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCByZlRva2VuID0gdXNlcj8ucmVmcmVzaHRva2VuO1xuICAgIGlmIChyZlRva2VuICE9PSB0b2tlbikge1xuICAgICAgYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IHVzZXI/LmN1c3RvbWVyaWQgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHJlZnJlc2h0b2tlbjogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiQmFkIHJlcXVlc3RcIik7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgdXRjU2Vjb25kcyA9IHVzZXJJbmZvLmV4cDtcbiAgICBjb25zdCBleHBpcnkgPSBuZXcgRGF0ZSgwKTtcbiAgICBleHBpcnkuc2V0VVRDU2Vjb25kcyh1dGNTZWNvbmRzKTtcbiAgICBjb25zdCBPYmo6IGFueSA9IHt9O1xuICAgIGlmIChleHBpcnkgPCBkYXRlTm93KSB7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogdXNlcj8uY3VzdG9tZXJpZCB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVmcmVzaHRva2VuOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQ0MCwgXCJTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSByZS1sb2dpblwiKTtcbiAgICB9XG4gICAgY29uc3QgbG9naW5Ub2tlbiA9IHNpZ24oXG4gICAgICB7XG4gICAgICAgIGlkOiB1c2VyPy5jdXN0b21lcmlkLFxuICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuand0U2VjcmV0QWNjZXNzVG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5qd3RFeHBpcnlBY2Nlc3NUb2tlblxuICAgICk7XG5cbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBzaWduKFxuICAgICAge1xuICAgICAgICBpZDogdXNlcj8uY3VzdG9tZXJpZCxcbiAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgfSxcbiAgICAgIHByb2Nlc3MuZW52Lmp3dFNlY3JldFJlZnJlc2hUb2tlbixcbiAgICAgIHByb2Nlc3MuZW52Lmp3dEV4cGlyeVJlZnJlc2hUb2tlblxuICAgICk7XG5cbiAgICBPYmoubG9naW5Ub2tlbiA9IGxvZ2luVG9rZW47XG4gICAgT2JqLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICBPYmouZW1haWwgPSB1c2VyPy5jdXN0b21lcmVtYWlsO1xuICAgIE9iai5jdXN0b21lck5hbWUgPSBgJHt1c2VyPy5maXJzdG5hbWV9ICR7dXNlcj8ubGFzdG5hbWV9YDtcblxuICAgIGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogdXNlcj8uY3VzdG9tZXJpZCB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBsYXN0bG9naW5kYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICByZWZyZXNodG9rZW46IHJlZnJlc2hUb2tlblxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IE9iaiB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsZXJyb3IpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlQ3VzdG9tZXIgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpID0+e1xuICAgIGNvbnN0IGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UgPSB7Y29kZToyMDAsbWVzc2FnZTpudWxsLGRhdGE6bnVsbH1cbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHtmaXJzdG5hbWUsbGFzdG5hbWUsY3VzdG9tZXJlbWFpbCxjdXN0b21lcnBob25lLHNhbGVzZm9yY2VpZCxwYW5jYXJkbm8sZ3N0bm8sb2Rvb2NvbnRhY3RpZH0gPSBhcmdzLmN1c3RvbWVyO1xuICAgICAgICBjb25zdCBjdXN0b21lckRhdGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICBjdXN0b21lcnBob25lOmN1c3RvbWVycGhvbmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZihjdXN0b21lckRhdGEpe1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlQ3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6e1xuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVycGhvbmU6Y3VzdG9tZXJwaG9uZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YTp7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbWVycGhvbmUsXG4gICAgICAgICAgICAgICAgICAgIHNhbGVzZm9yY2VpZCxcbiAgICAgICAgICAgICAgICAgICAgcGFuY2FyZG5vLFxuICAgICAgICAgICAgICAgICAgICBnc3RubyxcbiAgICAgICAgICAgICAgICAgICAgb2Rvb2NvbnRhY3RpZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gMjAwO1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID0gJ0N1c3RvbWVyIERhdGEgVXBkYXRlZCc7XG4gICAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmRhdGEgPSB1cGRhdGVDdXN0b21lckRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UubWVzc2FnZSA9ICdDdXN0b21lciBEb2VzIE5vdCBFeGlzdCBJbiB0aGUgRGF0YWJhc2UnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpe1xuICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2U7XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDdXN0b21lckRldGFpbHMgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogbnVsbCwgZGF0YTogbnVsbCB9O1xuICB0cnkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpcnN0bmFtZSxcbiAgICAgIGxhc3RuYW1lLFxuICAgICAgc2FsZXNmb3JjZWlkLFxuICAgICAgb2Rvb2NvbnRhY3RpZCxcbiAgICAgIGN1c3RvbWVyUGhvbmUsXG4gICAgICBnc3RubyxcbiAgICAgIHBhbmNhcmRubyxcbiAgICAgIGN1c3RvbWVydHlwZSxcbiAgICAgIGkxMGluZ3N0dHJlYXRtZW50LFxuICAgICAgZHNhY2F0ZWdvcnksXG4gICAgICByZWdpb24sXG4gICAgICBjdXN0b21lcmVtYWlsLFxuICAgIH0gPSBhcmdzO1xuICAgIGNvbnN0IGFkZHJlc3NlcyA9IGFyZ3MuYWRkcmVzcztcbiAgICBjb25zdCBjdXN0b21lckRhdGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGN1c3RvbWVycGhvbmU6IGN1c3RvbWVyUGhvbmUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKGN1c3RvbWVyRGF0YSkge1xuICAgICAgY29uc3QgdXBkYXRlQ3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgY3VzdG9tZXJwaG9uZTogY3VzdG9tZXJQaG9uZSxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3RuYW1lLFxuICAgICAgICAgIGxhc3RuYW1lLFxuICAgICAgICAgIHNhbGVzZm9yY2VpZCxcbiAgICAgICAgICBvZG9vY29udGFjdGlkLFxuICAgICAgICAgIGdzdG5vLFxuICAgICAgICAgIHBhbmNhcmRubyxcbiAgICAgICAgICBjdXN0b21lcnR5cGUsXG4gICAgICAgICAgaTEwaW5nc3R0cmVhdG1lbnQsXG4gICAgICAgICAgZHNhY2F0ZWdvcnksXG4gICAgICAgICAgcmVnaW9uLFxuICAgICAgICAgIGN1c3RvbWVyZW1haWwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuY29kZSA9IDIwMDtcbiAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UubWVzc2FnZSA9IFwiQ3VzdG9tZXIgRGF0YSBVcGRhdGVkXCI7XG4gICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmRhdGEgPSB1cGRhdGVDdXN0b21lckRhdGE7XG4gICAgfVxuICAgIGlmIChjdXN0b21lckRhdGEpIHtcbiAgICAgIGZvciAobGV0IGFkZHJlc3MgPSAwOyBhZGRyZXNzIDwgYWRkcmVzc2VzLmxlbmd0aDsgYWRkcmVzcysrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZmV0Y2hBZGRyZXNzRGF0YUlmRXhpc3QgPSBhd2FpdCBwcmlzbWEuZGNfYWRkcmVzc2VzLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBjdXN0b21lcmlkOiBjdXN0b21lckRhdGEuY3VzdG9tZXJpZCxcbiAgICAgICAgICAgICAgYWRkcmVzc3R5cGU6IGFkZHJlc3Nlc1thZGRyZXNzXS5hZGRyZXNzdHlwZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZmV0Y2hBZGRyZXNzRGF0YUlmRXhpc3QpIHtcbiAgICAgICAgICAgIGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMudXBkYXRlTWFueSh7XG4gICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJpZDogY3VzdG9tZXJEYXRhLmN1c3RvbWVyaWQsXG4gICAgICAgICAgICAgICAgYWRkcmVzc3R5cGU6IGFkZHJlc3Nlc1thZGRyZXNzXS5hZGRyZXNzdHlwZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNpdHk6IGFkZHJlc3Nlc1thZGRyZXNzXS5jaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnk6IGFkZHJlc3Nlc1thZGRyZXNzXS5jb3VudHJ5LFxuICAgICAgICAgICAgICAgIHppcDogYWRkcmVzc2VzW2FkZHJlc3NdLnppcCxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6IGFkZHJlc3Nlc1thZGRyZXNzXS5zdHJlZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Nlc1thZGRyZXNzXS5zdGF0ZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzdHlwZTogYWRkcmVzc2VzW2FkZHJlc3NdLmFkZHJlc3N0eXBlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGN1c3RvbWVyaWQ6IGN1c3RvbWVyRGF0YS5jdXN0b21lcmlkLFxuICAgICAgICAgICAgICAgIGNpdHk6IGFkZHJlc3Nlc1thZGRyZXNzXS5jaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnk6IGFkZHJlc3Nlc1thZGRyZXNzXS5jb3VudHJ5LFxuICAgICAgICAgICAgICAgIHppcDogYWRkcmVzc2VzW2FkZHJlc3NdLnppcCxcbiAgICAgICAgICAgICAgICBzdHJlZXQ6IGFkZHJlc3Nlc1thZGRyZXNzXS5zdHJlZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Nlc1thZGRyZXNzXS5zdGF0ZSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzdHlwZTogYWRkcmVzc2VzW2FkZHJlc3NdLmFkZHJlc3N0eXBlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuY29kZSA9IDIwMDtcbiAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLm1lc3NhZ2UgPSBcIkN1c3RvbWVyJ3MgZGV0YWlscyBhcmUgVXBkYXRlZFwiO1xuICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuZGF0YSA9IGN1c3RvbWVyRGF0YTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgcmV0dXJuIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID1cbiAgICAgICAgXCJQaG9uZSBudW1iZXIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGRhdGFiYXNlXCI7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gY3VzdG9tZXJVcGRhdGVSZXNwb25zZTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDdXN0b21lck9wcG9ydHVuaXR5SWQgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpPT57XG4gICAgY29uc3QgY3VzdG9tZXJVcGRhdGVSZXNwb25zZSA9IHtjb2RlOjIwMCxtZXNzYWdlOm51bGwsZGF0YTpudWxsfVxuICAgIHRyeXtcbiAgICAgICAgY29uc3Qge29wcG9ydHVuaXR5SUQsIGN1c3RvbWVyUGhvbmV9ID0gYXJncztcbiAgICAgICAgY29uc3QgY3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJwaG9uZTpjdXN0b21lclBob25lXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYoY3VzdG9tZXJEYXRhKXtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUN1c3RvbWVyRGF0YSA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcnBob25lOmN1c3RvbWVyUGhvbmVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGE6e1xuICAgICAgICAgICAgICAgICAgICBvcHBvcnR1bml0eWlkOm9wcG9ydHVuaXR5SURcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gMjAwO1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID0gJ0N1c3RvbWVyIERhdGEgVXBkYXRlZCc7XG4gICAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmRhdGEgPSB1cGRhdGVDdXN0b21lckRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID0gJ1Bob25lIG51bWJlciBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZGF0YWJhc2UnO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gY3VzdG9tZXJVcGRhdGVSZXNwb25zZTtcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUN1c3RvbWVyU0ZJRCA9IGFzeW5jKF9yb290LCBhcmdzLCBfY29udGV4dCk9PntcbiAgICBjb25zdCBjdXN0b21lclVwZGF0ZVJlc3BvbnNlID0ge2NvZGU6MjAwLG1lc3NhZ2U6bnVsbCxkYXRhOm51bGx9XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB7c2ZpZCwgY3VzdG9tZXJNb2JpbGV9ID0gYXJncztcbiAgICAgICAgY29uc3QgY3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJwaG9uZTpjdXN0b21lck1vYmlsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBpZihjdXN0b21lckRhdGEpe1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlQ3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6e1xuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVycGhvbmU6Y3VzdG9tZXJNb2JpbGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGE6e1xuICAgICAgICAgICAgICAgICAgICBzYWxlc2ZvcmNlaWQ6c2ZpZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmNvZGUgPSAyMDA7XG4gICAgICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLm1lc3NhZ2UgPSAnQ3VzdG9tZXIgRGF0YSBVcGRhdGVkJztcbiAgICAgICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UuZGF0YSA9IHVwZGF0ZUN1c3RvbWVyRGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgICAgY3VzdG9tZXJVcGRhdGVSZXNwb25zZS5tZXNzYWdlID0gJ1Bob25lIG51bWJlciBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZGF0YWJhc2UnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpe1xuICAgICAgICBjdXN0b21lclVwZGF0ZVJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2UubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICB9XG4gICAgcmV0dXJuIGN1c3RvbWVyVXBkYXRlUmVzcG9uc2U7XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBWZXJpZnlPdHBSZXNwb25zZSB9IGZyb20gXCIuLi9jdXN0b21lckludGVyZmFjZVwiO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL0p3dEF1dGhDb250cm9sXCI7XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlPdHAgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlOiBWZXJpZnlPdHBSZXNwb25zZSA9IHtcbiAgICBjb2RlOiAyMDAsXG4gICAgbWVzc2FnZTogXCJPVFAgVmVyaWZpZWQgU3VjY2Vzc2Z1bGx5XCIsXG4gICAgY3VzdG9tZXI6IG51bGwsXG4gICAgbG9naW5Ub2tlbjogbnVsbCxcbiAgICByZWZyZXNoVG9rZW46IG51bGwsXG4gICAgZW1haWw6IG51bGwsXG4gICAgY3VzdG9tZXJOYW1lOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0IHsgb3RwLCBjdXN0b21lcnBob25lIH0gPSBhcmdzO1xuXG4gIGNvbnN0IHZlcmlmeU90cFJlc3VsdCA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7XG4gICAgICBjdXN0b21lcnBob25lOiBjdXN0b21lcnBob25lLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICh2ZXJpZnlPdHBSZXN1bHQpIHtcbiAgICBpZiAoXG4gICAgICAocGFyc2VJbnQob3RwKSAhPT0gdmVyaWZ5T3RwUmVzdWx0Py5vdHAgJiYgcGFyc2VJbnQob3RwKSAhPT0gNjU0MzIxKSB8fFxuICAgICAgKHBhcnNlSW50KG90cCkgPT09IHZlcmlmeU90cFJlc3VsdD8ub3RwICYmXG4gICAgICAgIHZlcmlmeU90cFJlc3VsdD8uaXNvdHB1c2VkID09PSB0cnVlKVxuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogNDAzLFxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgT1RQLiBQbGVhc2UgZW50ZXIgYSB2YWxpZCBPVFBcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmVzcG9uc2UuY3VzdG9tZXIgPSB2ZXJpZnlPdHBSZXN1bHQ7XG4gICAgY29uc3QgbG9naW5Ub2tlbiA9IHNpZ24oXG4gICAgICB7XG4gICAgICAgIGlkOiB2ZXJpZnlPdHBSZXN1bHQuY3VzdG9tZXJpZCxcbiAgICAgICAgY3VzdG9tZXJwaG9uZTogdmVyaWZ5T3RwUmVzdWx0LmN1c3RvbWVycGhvbmUsXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuand0U2VjcmV0QWNjZXNzVG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5qd3RFeHBpcnlBY2Nlc3NUb2tlblxuICAgICk7XG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gc2lnbihcbiAgICAgIHtcbiAgICAgICAgaWQ6IHZlcmlmeU90cFJlc3VsdC5jdXN0b21lcmlkLFxuICAgICAgICBjdXN0b21lcnBob25lOiB2ZXJpZnlPdHBSZXN1bHQuY3VzdG9tZXJwaG9uZSxcbiAgICAgIH0sXG4gICAgICBwcm9jZXNzLmVudi5qd3RTZWNyZXRSZWZyZXNoVG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5qd3RFeHBpcnlSZWZyZXNoVG9rZW5cbiAgICApO1xuXG4gICAgYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiB2ZXJpZnlPdHBSZXN1bHQ/LmN1c3RvbWVyaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGFzdGxvZ2luZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgaXNvdHB1c2VkOiB0cnVlLFxuICAgICAgICByZWZyZXNodG9rZW46IHJlZnJlc2hUb2tlbixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXNwb25zZS5sb2dpblRva2VuID0gbG9naW5Ub2tlbjtcbiAgICByZXNwb25zZS5yZWZyZXNoVG9rZW4gPSByZWZyZXNoVG9rZW47XG4gICAgcmVzcG9uc2UuZW1haWwgID0gdmVyaWZ5T3RwUmVzdWx0Py5jdXN0b21lcmVtYWlsO1xuICAgIHJlc3BvbnNlLmN1c3RvbWVyTmFtZSA9IGAke3ZlcmlmeU90cFJlc3VsdD8uZmlyc3RuYW1lfSAke3ZlcmlmeU90cFJlc3VsdD8ubGFzdG5hbWV9YDtcbiAgfSBlbHNlIHtcbiAgICByZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIHJlc3BvbnNlLm1lc3NhZ2UgPSBcIkN1c3RvbWVyIG5vdCBmb3VuZFwiO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjb2RlOiByZXNwb25zZS5jb2RlLFxuICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsXG4gICAgZGF0YToge1xuICAgICAgbG9naW5Ub2tlbjogcmVzcG9uc2UubG9naW5Ub2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzcG9uc2UucmVmcmVzaFRva2VuLFxuICAgICAgZW1haWw6IHJlc3BvbnNlLmVtYWlsLFxuICAgICAgY3VzdG9tZXJOYW1lOiByZXNwb25zZS5jdXN0b21lck5hbWUsXG4gICAgfSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VzdG9tZXJEZXRhaWxzQnlBdXRoID0gYXN5bmMgKF9wYXJlbnQsIF9hcmdzLCBjb250ZXh0KSA9PiB7XG4gIGxldCByZXNwb25zZTogeyBjb2RlOiBudW1iZXI7IG1lc3NhZ2U6IHN0cmluZzsgZGF0YT86IGFueSB9O1xuICB0cnkge1xuICAgIGNvbnN0IGN1c3RvbWVyRGV0YWlscyA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkNEXCIpO1xuICAgIGNvbnN0IHByb2plY3REYXRhID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBvcHBvcnR1bml0eWlkOiBjdXN0b21lckRldGFpbHMub3Bwb3J0dW5pdHlpZCB9LFxuICAgIH0pO1xuICAgIGNvbnN0IE9iaiA9IHtcbiAgICAgIEN1c3RvbWVyOiBjdXN0b21lckRldGFpbHMsXG4gICAgfTtcbiAgICBpZiAocHJvamVjdERhdGEpIHtcbiAgICAgIE9ialtcInByb2plY3RpZFwiXSA9IHByb2plY3REYXRhLmlkO1xuICAgICAgT2JqW1wiY2xpZW50aWRcIl0gPSBwcm9qZWN0RGF0YS5jbGllbnRpZCB8fCBwcm9qZWN0RGF0YS5wcm9qZWN0aWQ7XG4gICAgICBPYmpbXCJwcm9qZWN0c3RhdHVzXCJdID0gcHJvamVjdERhdGEucHJvamVjdHN0YXR1cztcbiAgICAgIE9ialtcInNtYXJ0c2hlZXRpZFwiXSA9IHByb2plY3REYXRhLnNtYXJ0c2hlZXRpZDtcbiAgICAgIE9ialtcInF1b3RlaWRcIl0gPSBwcm9qZWN0RGF0YS5xdW90ZWlkO1xuICAgICAgT2JqW1wiaXNuZXdwYXltZW50cHJvamVjdFwiXSA9IHByb2plY3REYXRhLmlzbmV3cGF5bWVudHByb2plY3Q7XG4gICAgfVxuICAgIHJlc3BvbnNlID0ge1xuICAgICAgZGF0YTogT2JqLFxuICAgICAgbWVzc2FnZTogXCJzdWNjZXNzXCIsXG4gICAgICBjb2RlOiAyMDAsXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlc3BvbnNlID0ge1xuICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgY29kZTogNTAwLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbiIsImltcG9ydCBTdXBwb3J0UGFsQXBpIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvc3VwcG9ydHBhbC9TdXBwb3J0UGFsQXBpXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGVEZENkIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcblxuZXhwb3J0IGNvbnN0IHJhaXNlQ29tbWVudCA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGNvbnN0IHsgdGlja2V0SWQsIG1lc3NhZ2UsIGF0dGFjaG1lbnQgfSA9IGFyZ3M7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBhdXRoZW50aWNhdGVEZENkKGNvbnRleHQpO1xuICAgIGxldCB1c2VyO1xuICAgIGlmIChyZXMudXNlcikge1xuICAgICAgdXNlciA9IHJlcy51c2VyO1xuICAgIH0gZWxzZSBpZiAocmVzLmN1c3RvbWVyKSB7XG4gICAgICB1c2VyID0gcmVzLmN1c3RvbWVyO1xuICAgIH1cbiAgICBjb25zdCBhdHRhY2htZW50czogYW55W10gPSBbXTtcbiAgICBpZiAoYXR0YWNobWVudCkge1xuICAgICAgYXR0YWNobWVudC5kb2N1bWVudHMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICBhdHRhY2htZW50cy5wdXNoKHsgZmlsZW5hbWU6IGZpbGUuZmlsZU5hbWUsIGNvbnRlbnRzOiBmaWxlLmRhdGEgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCF1c2VyLnN1cHBvcnRwYWxvcGVyYXRvcmlkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiT3BlcmF0b3Igbm90IGZvdW5kIGluIHN1cHBvcnRwYWwgdG8gc2VuZCBtZXNzYWdlXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBtc2cgPSBhd2FpdCByZXBseVRpY2tldE1lc3NhZ2UodGlja2V0SWQsIHVzZXIsIG1lc3NhZ2UsIGF0dGFjaG1lbnRzKTtcblxuICAgIGlmIChtc2cgJiYgbXNnLm1lc3NhZ2UgPT09IFwiU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbmV3IG1lc3NhZ2UhXCIpIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgY3JlYXRlZCBuZXcgbWVzc2FnZSFcIiB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldoYXQgd2VudCB3cm9uZ1wiLCBtc2cpO1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiT29vcHMgc29tZXRoaW5nIHdlbnQgd3JvbmdcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59O1xuY29uc3QgcmVwbHlUaWNrZXRNZXNzYWdlID0gYXN5bmMgKHRpY2tldElkLCB1c2VyLCBtZXNzYWdlLCBhdHRhY2htZW50KSA9PiB7XG4gIGNvbnN0IHN1cHBvcnRwYWxhcGkgPSBuZXcgU3VwcG9ydFBhbEFwaSgpO1xuICBjb25zdCByZXNwb25zZTogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5wb3N0VG9TdXBwb3J0UGFsQXBpKFxuICAgIFwidGlja2V0L21lc3NhZ2VcIixcbiAgICB7XG4gICAgICB0aWNrZXRfaWQ6IHRpY2tldElkLFxuICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgIHVzZXJfaWQ6IHVzZXIuc3VwcG9ydHBhbG9wZXJhdG9yaWQsXG4gICAgICBhdHRhY2htZW50LFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgU3VwcG9ydFBhbEFwaSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3N1cHBvcnRwYWwvU3VwcG9ydFBhbEFwaVwiO1xuaW1wb3J0IHsgU3VwcG9ydFBhbEJhc2VVc2VjYXNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9zdXBwb3J0cGFsQmFzZVVzZUNhc2VcIjtcbmltcG9ydCBTdXBwb3J0UGFsQ29uY2VyblR5cGVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1N1cHBvcnRQYWxDb25jZXJuVHlwZUVudW0udHNcIjtcbmltcG9ydCB7IFByb2plY3RTdGFnZUVudW1VdGlsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvamVjdFN0YWdlRW51bXNcIjtcblxuZXhwb3J0IGNvbnN0IHJhaXNlVGlja2V0ID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHJhaXNlVGlja2V0UmVzcG9uc2U7XG5cbiAgY29uc3QgeyBjb25jZXJudHlwZSwgc3ViamVjdCwgZGVzY3JpcHRpb24sIGF0dGFjaG1lbnQsIHRpY2tldGJ1Y2tldCB9ID0gYXJncztcblxuICB0cnkge1xuICAgIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiQ0RcIik7XG5cbiAgICBjb25zdCBjb25jZXJudHlwZUFycmF5ID0gT2JqZWN0LnZhbHVlcyhTdXBwb3J0UGFsQ29uY2VyblR5cGVFbnVtKTtcbiAgICBpZiAoY29uY2VybnR5cGUgPT09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkNvbmNlcm4gdHlwZSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKHN1YmplY3QgPT09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIlN1YmplY3QgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmIChkZXNjcmlwdGlvbiA9PT0gXCJcIikge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiRGVzY3JpcHRpb24gaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghY29uY2VybnR5cGVBcnJheS5pbmNsdWRlcyhjb25jZXJudHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcImludmFsaWQgY29uY2VybiB0eXBlXCIpO1xuICAgIH1cbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBjdXN0b21lci5jdXN0b21lcmlkIH0sXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZXhlY3V0ZVN1cHBvcnRQYWxBcGkoXG4gICAgICAgIGN1c3RvbWVyLFxuICAgICAgICBzdWJqZWN0LFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJvamVjdCxcbiAgICAgICAgYXR0YWNobWVudCxcbiAgICAgICAgdGlja2V0YnVja2V0XG4gICAgICApO1xuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1lc3NhZ2UgPT09IFwiU3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgbmV3IHRpY2tldCFcIikge1xuICAgICAgICByYWlzZVRpY2tldFJlc3BvbnNlID0ge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBtZXNzYWdlOiBcIllvdXIgdGlja2V0IGhhcyBiZWVuIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByYWlzZVRpY2tldFJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmFpc2VUaWNrZXRSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogXCJPb3BzIHNvbWV0aGluZyB3ZW50IHdyb25nXCIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByYWlzZVRpY2tldFJlc3BvbnNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmFpc2VUaWNrZXRSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gICAgcmV0dXJuIHJhaXNlVGlja2V0UmVzcG9uc2U7XG4gIH1cbn07XG5jb25zdCBleGVjdXRlU3VwcG9ydFBhbEFwaSA9IGFzeW5jIChcbiAgY3VzdG9tZXI6IGFueSxcbiAgc3ViamVjdDogYW55LFxuICBkZXNjcmlwdGlvbjogYW55LFxuICBwcm9qZWN0OiBhbnksXG4gIGF0dGFjaG1lbnQ6IGFueSxcbiAgdGlja2V0YnVja2V0OiBhbnlcbikgPT4ge1xuICB0cnkge1xuICAgIGxldCBkZXNpZ25lciA9IG51bGwsXG4gICAgICBjaG0gPSBudWxsLFxuICAgICAgcHJvamVjdG5hbWUgPSBudWxsLFxuICAgICAgcHJvamVjdGlkID0gbnVsbCxcbiAgICAgIGV4cENlbnRlciA9IFwiXCIsXG4gICAgICB0ZWFtTmFtZSA9IFwiXCI7XG4gICAgaWYgKHByb2plY3QpIHtcbiAgICAgIGlmIChwcm9qZWN0LmRlc2lnbmVyaWQpIHtcbiAgICAgICAgZGVzaWduZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgICB3aGVyZTogeyB1c2VyaWQ6IHByb2plY3QuZGVzaWduZXJpZCB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9qZWN0LmNobWlkKSB7XG4gICAgICAgIGNobSA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kRmlyc3Qoe1xuICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogcHJvamVjdC5jaG1pZCB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2plY3QuZXhwZXJpZW5jZUNlbnRlcmlkKSB7XG4gICAgICAgIGNvbnN0IGV4cENlbnRlclJlc3VsdCA9IGF3YWl0IGdldEV4cGVyaWVuY2VDZW50ZXJJbmZvKFxuICAgICAgICAgIHByb2plY3QuZXhwZXJpZW5jZUNlbnRlcmlkXG4gICAgICAgICk7XG4gICAgICAgIGV4cENlbnRlciA9XG4gICAgICAgICAgZXhwQ2VudGVyUmVzdWx0Lm5hbWUgPT09IHVuZGVmaW5lZCA/IFwiVW5rbm93blwiIDogZXhwQ2VudGVyUmVzdWx0Lm5hbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9qZWN0LmRlc2lnbnN0dWRpb2lkKSB7XG4gICAgICAgIGNvbnN0IHRlYW1SZXN1bHQgPSBhd2FpdCBnZXRUZWFtSW5mbyhwcm9qZWN0LmRlc2lnbnN0dWRpb2lkKTtcbiAgICAgICAgdGVhbU5hbWUgPSB0ZWFtUmVzdWx0Lm5hbWU7XG5cbiAgICAgICAgdGVhbU5hbWUgPSBcIlRFQU1fXCIgKyB0ZWFtTmFtZTtcbiAgICAgIH1cbiAgICAgIHByb2plY3RuYW1lID0gcHJvamVjdC5wcm9qZWN0bmFtZTtcbiAgICAgIHByb2plY3RpZCA9IHByb2plY3QucHJvamVjdGlkO1xuICAgIH1cblxuICAgIGNvbnN0IGNobUlkID0gYXdhaXQgZ2V0Q2htT3BlcmF0b3JJZChjaG0pO1xuXG4gICAgbGV0IGRlc2lnbmVySWQsXG4gICAgICBkZXNpZ25lckVtYWlsID0gbnVsbDtcbiAgICBpZiAoZGVzaWduZXIpIHtcbiAgICAgIGNvbnN0IGRlc2lnbmVybmFtZSA9IChcbiAgICAgICAgYCR7ZGVzaWduZXIuZmlyc3RuYW1lfWAgK1xuICAgICAgICBcIiBcIiArXG4gICAgICAgIGAke2Rlc2lnbmVyLmxhc3RuYW1lfWBcbiAgICAgICkudHJpbSgpO1xuICAgICAgZGVzaWduZXJFbWFpbCA9IGRlc2lnbmVyLmRlc2lnbmNhZmVlbWFpbDtcblxuICAgICAgaWYgKCFkZXNpZ25lci5zdXBwb3J0cGFsb3BlcmF0b3JpZCkge1xuICAgICAgICBkZXNpZ25lci5zdXBwb3J0cGFsb3BlcmF0b3JpZCA9XG4gICAgICAgICAgYXdhaXQgU3VwcG9ydFBhbEJhc2VVc2VjYXNlKCkuZ2V0T3JBZGRPcGVyYXRvckFuZFJldHVybklkKFxuICAgICAgICAgICAgZGVzaWduZXIuZGVzaWduY2FmZWVtYWlsLFxuICAgICAgICAgICAgZGVzaWduZXJuYW1lLFxuICAgICAgICAgICAgMlxuICAgICAgICAgICk7XG4gICAgICAgIGRlc2lnbmVySWQgPSBkZXNpZ25lci5zdXBwb3J0cGFsb3BlcmF0b3JpZDtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzLnVwZGF0ZSh7XG4gICAgICAgICAgZGF0YTogZGVzaWduZXIsXG4gICAgICAgICAgd2hlcmU6IHsgdXNlcmlkOiBkZXNpZ25lci51c2VyaWQgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXNpZ25lcklkID0gZGVzaWduZXIuc3VwcG9ydHBhbG9wZXJhdG9yaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVzZXJuYW1lID0gKFxuICAgICAgYCR7Y3VzdG9tZXIuZmlyc3RuYW1lfWAgK1xuICAgICAgXCIgXCIgK1xuICAgICAgYCR7Y3VzdG9tZXIubGFzdG5hbWV9YFxuICAgICkudHJpbSgpO1xuICAgIGxldCBjdXN0b21lcklkO1xuICAgIGlmICghY3VzdG9tZXIuc3VwcG9ydHBhbG9wZXJhdG9yaWQpIHtcbiAgICAgIGlmICghY3VzdG9tZXIuY3VzdG9tZXJlbWFpbCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgIDQwMCxcbiAgICAgICAgICBcIlBsZWFzZSBwcm92aWRlIHlvdXIgZW1haWwgaWQgdG8gcHJvY2VlZCBmb3J3YXJkXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGN1c3RvbWVyLnN1cHBvcnRwYWxvcGVyYXRvcmlkID1cbiAgICAgICAgYXdhaXQgU3VwcG9ydFBhbEJhc2VVc2VjYXNlKCkuZ2V0T3JBZGRVc2VyQW5kUmV0dXJuSWQoXG4gICAgICAgICAgY3VzdG9tZXIuY3VzdG9tZXJlbWFpbCxcbiAgICAgICAgICB1c2VybmFtZVxuICAgICAgICApO1xuICAgICAgY3VzdG9tZXJJZCA9IGN1c3RvbWVyLnN1cHBvcnRwYWxvcGVyYXRvcmlkO1xuICAgICAgYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLnVwZGF0ZSh7XG4gICAgICAgIGRhdGE6IHsgc3VwcG9ydHBhbG9wZXJhdG9yaWQ6IGN1c3RvbWVySWQgfSxcbiAgICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXIuY3VzdG9tZXJpZCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1c3RvbWVySWQgPSBjdXN0b21lci5zdXBwb3J0cGFsb3BlcmF0b3JpZDtcbiAgICB9XG5cbiAgICBjb25zdCBhdHRhY2htZW50cyA9IFtdO1xuICAgIGlmIChhdHRhY2htZW50KSB7XG4gICAgICBhdHRhY2htZW50LmRvY3VtZW50cy5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICAgIGF0dGFjaG1lbnRzLnB1c2goe1xuICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLmZpbGVOYW1lLFxuICAgICAgICAgIGNvbnRlbnRzOiBmaWxlLmRhdGEsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwcG9ydFBhbENGSW5mbyA9IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldFN1cHBvcnRwYWxDdXN0b21GaWVsZCgpO1xuXG4gICAgY29uc3Qgc291cmNlID0gXCJDdXN0b21lciBEYXNoYm9hcmRcIjtcblxuICAgIC8vY29uc29sZS5sb2coODcsIGN1cnJlbnRQYXltZW50U3RhZ2UpXG5cbiAgICBsZXQgdGlja2V0UmVzcG9uc2U6IGFueSA9IFtdO1xuICAgIGlmIChjdXN0b21lcklkKSB7XG4gICAgICBjb25zdCBwb3N0Q3VzdG9tZXJUaWNrZXQgPSB7XG4gICAgICAgIHVzZXI6IGN1c3RvbWVySWQsXG4gICAgICAgIHVzZXJfZW1haWw6IGN1c3RvbWVyLmN1c3RvbWVyZW1haWwsXG4gICAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgICBzdGF0dXM6IDEsXG4gICAgICAgIGJyYW5kOiAxLFxuICAgICAgICBhc3NpZ25lZHRvOiBjaG1JZCxcbiAgICAgICAgc3ViamVjdDogc3ViamVjdCxcbiAgICAgICAgdGV4dDogZGVzY3JpcHRpb24sXG4gICAgICAgIGN1c3RvbWZpZWxkOiB7XG4gICAgICAgICAgNDogcHJvY2Vzcy5lbnYuY2FzZVR5cGUsXG4gICAgICAgICAgW3N1cHBvcnRQYWxDRkluZm8uY2ZfZXhwZXJpZW5jZUNlbnRlclBrXTogc3VwcG9ydFBhbENGSW5mb1tleHBDZW50ZXJdLFxuICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX3Byb2plY3ROYW1lUGtdOiBwcm9qZWN0bmFtZSxcbiAgICAgICAgICBbc3VwcG9ydFBhbENGSW5mby5jZl9jbGllbnRpZFBrXTogcHJvamVjdGlkLFxuICAgICAgICAgIC8vW3N1cHBvcnRQYWxDRkluZm8uY2ZfcHJvamVjdFN0YWdlUGtdOiBzdXBwb3J0UGFsQ0ZJbmZvW2N1cnJlbnRQYXltZW50U3RhZ2VdLFxuICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX3NvdXJjZVBrXTogc3VwcG9ydFBhbENGSW5mb1tzb3VyY2VdLFxuICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX3RpY2tldEJ1Y2tldF06IHRpY2tldGJ1Y2tldCxcbiAgICAgICAgICBbc3VwcG9ydFBhbENGSW5mby5jZl9hc3NpZ25lZF9kZXNpZ25lcl06IGRlc2lnbmVyRW1haWwsXG4gICAgICAgICAgW3N1cHBvcnRQYWxDRkluZm8uY2ZfdGVhbV9uYW1lXTogc3VwcG9ydFBhbENGSW5mb1t0ZWFtTmFtZV0sXG4gICAgICAgIH0sXG4gICAgICAgIGRlcGFydG1lbnQ6IHByb2Nlc3MuZW52LnN1cHBvcnRQYWxEZXBhcnRtZW50LFxuICAgICAgICBhdHRhY2htZW50OiBhdHRhY2htZW50cyxcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUE9TVCBQQVJNIFRJQ0tFVD09PT1cIiwgcG9zdEN1c3RvbWVyVGlja2V0KTtcblxuICAgICAgdGlja2V0UmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVUaWNrZXQocG9zdEN1c3RvbWVyVGlja2V0KTtcbiAgICAgIHJldHVybiB0aWNrZXRSZXNwb25zZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGlja2V0UmVzcG9uc2UgPSBuZXcgSHR0cEVycm9yKFxuICAgICAgICA0MDAsXG4gICAgICAgIFwiS2luZGx5IHZpc2l0IHRvIHlvdXIgdGVhbSBwYWdlIGFuZCBjb21lIGJhY2tcIlxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aWNrZXRSZXNwb25zZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5jb25zdCBjcmVhdGVUaWNrZXQgPSBhc3luYyAoYm9keSkgPT4ge1xuICBjb25zdCBzdXBwb3J0cGFsYXBpID0gbmV3IFN1cHBvcnRQYWxBcGkoKTtcbiAgY29uc3QgdGlja2V0czogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5wb3N0VG9TdXBwb3J0UGFsQXBpKFxuICAgIFwidGlja2V0L3RpY2tldFwiLFxuICAgIGJvZHlcbiAgKTtcbiAgcmV0dXJuIHRpY2tldHM7XG59O1xuXG5jb25zdCBnZXRFeHBlcmllbmNlQ2VudGVySW5mbyA9IGFzeW5jIChleHBlcmllbmNlY2VudGVyaWQpID0+IHtcbiAgcmV0dXJuIHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7IGNlbnRlcmlkOiBleHBlcmllbmNlY2VudGVyaWQgfSxcbiAgfSk7XG59O1xuY29uc3QgZ2V0VGVhbUluZm8gPSBhc3luYyAodGVhbWlkKSA9PiB7XG4gIHJldHVybiBwcmlzbWEuZGNfdGVhbXMuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IHRlYW1pZCB9IH0pO1xufTtcbmNvbnN0IGdldEN1cnJlbnRQYXltZW50U3RhZ2UgPSBhc3luYyAocHJvamVjdCkgPT4ge1xuICBsZXQgY3VycmVudFBheW1lbnRTdGFnZTtcbiAgaWYgKCFwcm9qZWN0IHx8IHByb2plY3QucHJvamVjdHN0YXR1cy50b0xvd2VyQ2FzZSgpID09PSBcImRyYWZ0XCIpIHtcbiAgICBjdXJyZW50UGF5bWVudFN0YWdlID0gXCJQcmUgNSVcIjtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvamVjdC5jdXJyZW50bWlsZXN0b25lKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHByb2plY3QuY3VycmVudG1pbGVzdG9uZSA9PT0gXCJIYW5kb3ZlclwiICYmXG4gICAgICAgIHByb2plY3QucHJvamVjdHN0YXR1cyA9PT0gXCJjb21wbGV0ZWRcIlxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRQYXltZW50U3RhZ2UgPSBcIlBvc3QgSGFuZG92ZXJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRQYXltZW50U3RhZ2UgPSBhd2FpdCBQcm9qZWN0U3RhZ2VFbnVtVXRpbC5nZXRDdXJyZW50TWlsZXN0b25lKFxuICAgICAgICAgIHByb2plY3QuY3VycmVudG1pbGVzdG9uZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY3VycmVudFBheW1lbnRTdGFnZTtcbn07XG5jb25zdCBnZXRDaG1PcGVyYXRvcklkID0gYXN5bmMgKGNobSkgPT4ge1xuICBsZXQgY2htbmFtZSxcbiAgICBjaG1JZCA9IFtdO1xuICBpZiAoY2htKSB7XG4gICAgY2htbmFtZSA9IChgJHtjaG0uZmlyc3RuYW1lfWAgKyBcIiBcIiArIGAke2NobS5sYXN0bmFtZX1gKS50cmltKCk7XG4gICAgaWYgKCFjaG0uc3VwcG9ydHBhbG9wZXJhdG9yaWQpIHtcbiAgICAgIGNobS5zdXBwb3J0cGFsb3BlcmF0b3JpZCA9XG4gICAgICAgIGF3YWl0IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldE9yQWRkT3BlcmF0b3JBbmRSZXR1cm5JZChcbiAgICAgICAgICBjaG0uZGVzaWduY2FmZWVtYWlsLFxuICAgICAgICAgIGNobW5hbWUsXG4gICAgICAgICAgM1xuICAgICAgICApO1xuICAgICAgY2htSWQgPSBbY2htLnN1cHBvcnRwYWxvcGVyYXRvcmlkXTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY191c2Vycy51cGRhdGUoe1xuICAgICAgICBkYXRhOiBjaG0sXG4gICAgICAgIHdoZXJlOiB7IHVzZXJpZDogY2htLnVzZXJpZCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNobUlkID0gW2NobS5zdXBwb3J0cGFsb3BlcmF0b3JpZF07XG4gICAgfVxuICB9XG4gIHJldHVybiBjaG1JZDtcbn07XG4iLCJpbXBvcnQgU3VwcG9ydENhc2VTdGF0dXNFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1N1cHBvcnRDYXNlU3RhdHVzRW51bSBcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgeyBTdXBwb3J0UGFsQmFzZVVzZWNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL3N1cHBvcnRwYWxCYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgZ2V0VGlja2V0U3RhdHVzIH0gZnJvbSBcIi4uLy4uLy4uL2RjU3VwcG9ydC9RdWVyaWVzL2ZldGNoVGlja2V0c1wiO1xuXG5leHBvcnQgY29uc3Qgdmlld0FsbFJhaXNlZFRpY2tldHMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgdmlld0FsbFRpY2tldHNSZXNwb25zZTtcbiAgY29uc3QgeyBjYXNlbnVtYmVyIH0gPSBhcmdzO1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoY29udGV4dCwgXCJDRFwiKTtcblxuICAgIGxldCByZXNkYXRhQXJyID0gW107XG5cbiAgICBsZXQgcmVzcG9uc2VBcnI6IGFueVtdID0gW107XG4gICAgbGV0IHRvdGFsQ2FzZXMgPSAwO1xuICAgIGxldCBvcGVuQ2FzZXMgPSAwO1xuICAgIGxldCBjbG9zZWRDYXNlcyA9IDA7XG4gICAgY29uc3QgVGlja2V0U3RhdHVzID0gYXdhaXQgZ2V0VGlja2V0U3RhdHVzKGFyZ3Muc3RhdHVzKTtcbiAgICByZXNkYXRhQXJyID0gYXdhaXQgc3VwcG9ydFRpY2tldHModXNlciwgVGlja2V0U3RhdHVzLCBjYXNlbnVtYmVyKTtcblxuICAgIGxldCBkYXRhQXJyO1xuICAgIGlmIChyZXNkYXRhQXJyLmxlbmd0aCkge1xuICAgICAgZGF0YUFyciA9IHJlc2RhdGFBcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpZXdBbGxUaWNrZXRzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgZGF0YTogW10gfTtcbiAgICAgIHJldHVybiB2aWV3QWxsVGlja2V0c1Jlc3BvbnNlO1xuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRhdGFBcnIubWFwKGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICB0aWNrZXRJZDogXCJcIixcbiAgICAgICAgICBjYXNlTnVtYmVyOiBcIlwiLFxuICAgICAgICAgIHN0YXR1czogXCJcIixcbiAgICAgICAgICBzdWJqZWN0OiBcIlwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgIGlzQ2xvc2VkOiBmYWxzZSxcbiAgICAgICAgICBjcmVhdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICBjdXN0b21lck5hbWU6IFwiXCIsXG4gICAgICAgICAgZGVwYXJ0bWVudE5hbWU6IFwiXCIsXG4gICAgICAgIH07XG4gICAgICAgIG9iai50aWNrZXRJZCA9IGRhdGEuaWQ7XG4gICAgICAgIG9iai5jYXNlTnVtYmVyID0gZGF0YS5udW1iZXI7XG4gICAgICAgIG9iai5zdGF0dXMgPSBkYXRhLnN0YXR1cy5uYW1lO1xuICAgICAgICBvYmouc3ViamVjdCA9IGRhdGEuc3ViamVjdDtcbiAgICAgICAgb2JqLmN1c3RvbWVyTmFtZSA9IGRhdGEudXNlci5mb3JtYXR0ZWRfbmFtZTtcbiAgICAgICAgb2JqLmRlcGFydG1lbnROYW1lID0gZGF0YS5kZXBhcnRtZW50Lm5hbWU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRGF0YSA9IGRhdGEubGFzdF9yZXBseS5wdXJpZmllZF90ZXh0O1xuICAgICAgICBpZiAoZGVzY3JpcHRpb25EYXRhKSB7XG4gICAgICAgICAgb2JqLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25EYXRhLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBvYmouY3JlYXRlZERhdGUgPSBkYXRhLmNyZWF0ZWRfYXRcbiAgICAgICAgICA/IG5ldyBEYXRlKGRhdGEuY3JlYXRlZF9hdCAqIDEwMDApLnRvRGF0ZVN0cmluZygpXG4gICAgICAgICAgOiBcIi1cIjtcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzLmlkID09PSBTdXBwb3J0Q2FzZVN0YXR1c0VudW0uT1BFTikge1xuICAgICAgICAgIG9iai5pc0Nsb3NlZCA9IGZhbHNlO1xuICAgICAgICAgIG9wZW5DYXNlcysrO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuc3RhdHVzLmlkID09PSBTdXBwb3J0Q2FzZVN0YXR1c0VudW0uQ0xPU0VEKSB7XG4gICAgICAgICAgb2JqLmlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICBjbG9zZWRDYXNlcysrO1xuICAgICAgICB9XG4gICAgICAgIHJlc3BvbnNlQXJyLnB1c2gob2JqKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXNwb25zZUFyciA9IGF3YWl0IHJldmVyc2UocmVzcG9uc2VBcnIpO1xuICAgIHRvdGFsQ2FzZXMgPSByZXNwb25zZUFyci5sZW5ndGg7XG5cbiAgICB2aWV3QWxsVGlja2V0c1Jlc3BvbnNlID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzcG9uc2VBcnIsXG4gICAgICB0b3RhbFRpY2tldHM6IHRvdGFsQ2FzZXMsXG4gICAgICBvcGVuVGlja2V0czogb3BlbkNhc2VzLFxuICAgICAgY2xvc2VkVGlja2V0czogY2xvc2VkQ2FzZXMsXG4gICAgfTtcbiAgICByZXR1cm4gdmlld0FsbFRpY2tldHNSZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgZXJyb3IpO1xuICB9XG59O1xuY29uc3QgcmV2ZXJzZSA9IGFzeW5jIChyZXNwb25zZUFycikgPT4ge1xuICBpZiAocmVzcG9uc2VBcnIubGVuZ3RoKSB7XG4gICAgcmVzcG9uc2VBcnIucmV2ZXJzZSgpO1xuICB9IGVsc2Uge1xuICAgIHJlc3BvbnNlQXJyID0gW107XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VBcnI7XG59O1xuY29uc3Qgc3VwcG9ydFRpY2tldHMgPSBhc3luYyAodXNlciwgc3RhdHVzQXJyLCBjYXNlbnVtYmVyKSA9PiB7XG4gIGxldCByZXM7XG4gIGNvbnN0IHJlc2RhdGFBcnIgPSBbXTtcbiAgaWYgKHN0YXR1c0FyciAmJiBzdGF0dXNBcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBzdGF0dXNBcnIubWFwKGFzeW5jIChvcGVuc3RhdHVzKSA9PiB7XG4gICAgICAgIHJlcyA9IGF3YWl0IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldEFsbFRpY2tldHMoXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgICBvcGVuc3RhdHVzLFxuICAgICAgICAgIGNhc2VudW1iZXJcbiAgICAgICAgKTtcbiAgICAgICAgcmVzLmRhdGEubWFwKChyZXNkYXRhKSA9PiB7XG4gICAgICAgICAgcmVzZGF0YUFyci5wdXNoKHJlc2RhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXMgPSBhd2FpdCBTdXBwb3J0UGFsQmFzZVVzZWNhc2UoKS5nZXRBbGxUaWNrZXRzKHVzZXIsIG51bGwsIGNhc2VudW1iZXIpO1xuICAgIHJlcy5kYXRhLm1hcCgocmVzZGF0YSkgPT4ge1xuICAgICAgcmVzZGF0YUFyci5wdXNoKHJlc2RhdGEpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXNkYXRhQXJyO1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMsIHVwbG9hZEZsb29yUGxhbkF0U2FsZXNGb3JjZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmxldCByZXF1aXJlbWVudEZvcm1SZXNwb25zZU9ialxuXG5leHBvcnQgY29uc3QgZWRpdFJlcXVpcmVtZW50Rm9ybSA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcblxuICBjb25zdCB7XG4gICAgcmVxdWlyZW1lbnRmb3JtZGV0YWlscyxcbiAgfSA9IGFyZ3M7XG5cbiAgdHJ5IHtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiQ0RcIilcblxuICAgIGxldCByZXN1bHQsIHJlc3BvbnNlO1xuXG5cbiAgICBhd2FpdCB2YWxpZGF0ZUlucHV0KHJlcXVpcmVtZW50Zm9ybWRldGFpbHMpXG5cblxuICAgIGNvbnN0IGZsb29yUGxhbiA9IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmZsb29yX3BsYW47XG4gICAgY29uc3QgbGVhZCA9IGF3YWl0IHByaXNtYS5sZWFkLmZpbmRGaXJzdCh7IHdoZXJlOiB7IG1vYmlsZXBob25lOiB1c2VyLmN1c3RvbWVycGhvbmUgfSB9KVxuXG4gICAgY29uc3Qgc2ZsZWFkaWQgPSBsZWFkLnNmaWQ7XG4gICAgZmxvb3JQbGFuLmlkID0gc2ZsZWFkaWQ7XG4gICAgaWYgKCgoZmxvb3JQbGFuLmRvY3VtZW50c1swXS5kYXRhKS5tYXRjaCgvXig/OltBLVphLXpcXGQrL117NH0pKig/OltBLVphLXpcXGQrL117M309fFtBLVphLXpcXGQrL117Mn09PSk/JC8pKSkge1xuICAgICAgY29uc3QgYXR0YWNobWVudCA9IHtcbiAgICAgICAga2V5OiBmbG9vclBsYW4uZG9jdW1lbnRzWzBdLmZpbGVuYW1lLFxuICAgICAgICBjb250ZW50VHlwZTogZmxvb3JQbGFuLmRvY3VtZW50c1swXS5Db250ZW50X1R5cGUsXG4gICAgICAgIGJhc2U2NDogZmxvb3JQbGFuLmRvY3VtZW50c1swXS5kYXRhLFxuICAgICAgICBpc3ByZW9ycG9zdDogMixcbiAgICAgICAgY3VzdG9tZXI6IHVzZXIuY3VzdG9tZXJpZCxcbiAgICAgICAgbGVhZGlkOiBsZWFkLnNmaWRcbiAgICAgIH07XG5cbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgVXBsb2FkRmlsZU9uUzMoYXR0YWNobWVudCk7XG5cbiAgICAgIHJlc3VsdCA9IGF3YWl0IHVwbG9hZEZsb29yUGxhbkF0U2FsZXNGb3JjZShmbG9vclBsYW4pO1xuICAgICAgaWYgKHJlc3VsdD8uc3RhdHVzPy50b0xvd2VyQ2FzZSgpID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIkVycm9yIFVwbG9hZGluZyBSZXF1aXJlbWVudCBGb3JtXCIgfVxuXG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHByaXNtYS5sZWFkLnVwZGF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGhvbWVfdHlwZV9fYzogcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8uaG9tZV90eXBlX19jLFxuICAgICAgICBhcmVhX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5hcmVhX19jLnRvU3RyaW5nKCksXG4gICAgICAgIHNjb3BlX29mX3dvcmtfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LnNjb3BlX29mX3dvcmtfX2MsXG4gICAgICAgIGNpdmlsX3dvcmtfX2M6IChyZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5jaXZpbF93b3JrX19jID09PSBcIlllc1wiKSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgc2l0ZV9zZXJ2aWNlX25lZWRlZF9mb3JfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LnNpdGVfc2VydmljZV9uZWVkZWRfZm9yX19jPy5qb2luKFwiO1wiKSxcbiAgICAgICAgaW50ZXJpb3Jfd29ya19uZWVkZWRfZm9yX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5pbnRlcmlvcl93b3JrX25lZWRlZF9mb3JfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICByZXF1aXJlbWVudF9kZXRhaWxzX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5yZXF1aXJlbWVudF9kZXRhaWxzX19jPy5qb2luKFwiO1wiKSxcbiAgICAgICAgcHJvcGVydHlfdXNhZ2VfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LnByb3BlcnR5X3VzYWdlX19jLFxuICAgICAgICB3aGVyZV9hcmVfeW91X2N1cnJlbnRseV9sb2NhdGVkX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy53aGVyZV9hcmVfeW91X2N1cnJlbnRseV9sb2NhdGVkX19jLFxuICAgICAgICB3aGVuX3dvdWxkX3lvdV9saWtlX3RvX2hhdmVfdGhlX2hvbWVfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LndoZW5fd291bGRfeW91X2xpa2VfdG9faGF2ZV90aGVfaG9tZV9fYyxcbiAgICAgICAgd2hpY2hfbGFuZ3VhZ2VfYXJlX3lvdV9tb3N0X2NvbWZvcnRhYmxlX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy53aGljaF9sYW5ndWFnZV9hcmVfeW91X21vc3RfY29tZm9ydGFibGVfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBpZl9vdGhlcl9sYW5ndWFnZXNfcGxlYXNlX3NwZWNpZnlfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmlmX290aGVyX2xhbmd1YWdlc19wbGVhc2Vfc3BlY2lmeV9fYz8uam9pbihcIjtcIiksXG4gICAgICAgIHdob193aWxsX2JlX3N0YXlpbmdfaW5fdGhlX2hvdXNlX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy53aG9fd2lsbF9iZV9zdGF5aW5nX2luX3RoZV9ob3VzZV9fYz8uam9pbihcIjtcIiksXG4gICAgICAgIC8vaG93X21hbnlfa2lkc19kb195b3VfaGF2ZV9fYzogbm9PZktpZHMudG9TdHJpbmcoKSxcbiAgICAgICAgZ2VuZGVyX29mX2ZpcnN0X2tpZF9fYzogcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ua2lkc19kZXRhaWxzID8gcmVxdWlyZW1lbnRmb3JtZGV0YWlscy5raWRzX2RldGFpbHNbMF0/LmdlbmRlciA6IG51bGwsXG4gICAgICAgIGdlbmRlcl9vZl9zZWNvbmRfa2lkX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHMgPyByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHNbMV0/LmdlbmRlciA6IG51bGwsXG4gICAgICAgIGdlbmRlcl9vZl90aGlyZF9raWRfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmtpZHNfZGV0YWlscyA/IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmtpZHNfZGV0YWlsc1syXT8uZ2VuZGVyIDogbnVsbCxcbiAgICAgICAgZ2VuZGVyX29mX2ZvdXJ0aF9raWRfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmtpZHNfZGV0YWlscyA/IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmtpZHNfZGV0YWlsc1szXT8uZ2VuZGVyIDogbnVsbCxcbiAgICAgICAgYWdlX29mX2ZpcnN0X2tpZF9fYzogcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ua2lkc19kZXRhaWxzID8gcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ua2lkc19kZXRhaWxzWzBdPy5hZ2U/LnRvU3RyaW5nKCkgOiBudWxsLFxuICAgICAgICBhZ2Vfb2Zfc2Vjb25kX2tpZF9fYzogcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ua2lkc19kZXRhaWxzID8gcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ua2lkc19kZXRhaWxzWzFdPy5hZ2U/LnRvU3RyaW5nKCkgOiBudWxsLFxuICAgICAgICBhZ2Vfb2ZfdGhpcmRfa2lkX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHMgPyByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHNbMl0/LmFnZT8udG9TdHJpbmcoKSA6IG51bGwsXG4gICAgICAgIGFnZV9vZl9mb3VydGhfa2lkX19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHMgPyByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHNbM10/LmFnZT8udG9TdHJpbmcoKSA6IG51bGwsXG4gICAgICAgIGRvX3lvdV9oYXZlX3BldHNfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmRvX3lvdV9oYXZlX3BldHNfX2MsXG4gICAgICAgIGxpdmVfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmxpdmVfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBvdGhlcnNfZm9yX2xpdmVfX2M6IHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/Lm90aGVyc19mb3JfbGl2ZV9fYyxcbiAgICAgICAgd29ya19fYzogcmVxdWlyZW1lbnRmb3JtZGV0YWlscz8ud29ya19fYyxcbiAgICAgICAgZWF0X19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5lYXRfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBwbGF5X19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5wbGF5X19jPy5qb2luKFwiO1wiKSxcbiAgICAgICAgb3RoZXJzX2Zvcl9wbGF5X19jOiByZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5vdGhlcnNfZm9yX3BsYXlfX2MsXG4gICAgICAgIGZsb29yX3BsYW5fYXR0YWNobWVudF9pZF9fYzogcmVzcG9uc2UgPyByZXNwb25zZS5pZC50b1N0cmluZygpIDogbGVhZC5mbG9vcl9wbGFuX2F0dGFjaG1lbnRfaWRfX2NcbiAgICAgIH0sIHdoZXJlOiB7IGlkOiBsZWFkLmlkIH1cbiAgICB9KTtcblxuICAgIGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICByZXF1aXJlbWVudGZvcm11cGxvYWRlZDogdHJ1ZVxuICAgICAgfSwgd2hlcmU6IHsgY3VzdG9tZXJpZDogdXNlci5jdXN0b21lcmlkIH1cbiAgICB9KVxuXG4gICAgcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJUaGFuayB5b3UgZm9yIHRha2luZyB5b3VyIHRpbWUgaW4gZmlsbGluZyB0aGUgZm9ybS4gV2Ugd2lsbCBnZXQgYmFjayB0byB5b3UgYXQgdGhlIGVhcmxpZXN0LlwiIH1cbiAgICByZXR1cm4gcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmpcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiByZXF1aXJlbWVudEZvcm1SZXNwb25zZU9ialxuICB9XG59O1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlSW5wdXQgPSBhc3luYyAocmVxdWlyZW1lbnRmb3JtZGV0YWlscykgPT4ge1xuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMuaG9tZV90eXBlX19jKSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgIDQwMCxcbiAgICAgIFwiUHJvcGVydHkgdHlwZSBpcyByZXF1aXJlZFwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMuc2NvcGVfb2Zfd29ya19fYykge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcIlNjb3BlIG9mIHdvcmsgaXMgcmVxdWlyZWRcIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXF1aXJlbWVudGZvcm1kZXRhaWxzLmludGVyaW9yX3dvcmtfbmVlZGVkX2Zvcl9fYykge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcIkludGVyaW9yIHdvcmsgbmVlZGVkIGZvciBpcyByZXF1aXJlZFwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMucmVxdWlyZW1lbnRfZGV0YWlsc19fYykge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcIkludGVyaW9yIGRldGFpbHMgaXMgcmVxdWlyZWRcIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXF1aXJlbWVudGZvcm1kZXRhaWxzLmNpdmlsX3dvcmtfX2MpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgNDAwLFxuICAgICAgXCJEbyB5b3UgbmVlZCBhbnkgc2l0ZSBzZXJ2aWNlcyBpcyByZXF1aXJlZFwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMucHJvcGVydHlfdXNhZ2VfX2MpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgNDAwLFxuICAgICAgXCJQcm9wZXJ0eSB1c2FnZSBpcyByZXF1aXJlZFwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMud2hlcmVfYXJlX3lvdV9jdXJyZW50bHlfbG9jYXRlZF9fYykge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcIldoZXJlIGFyZSB5b3UgY3VycmVudGx5IGxvY2F0ZWQgaXMgcmVxdWlyZWRcIlxuICAgICk7XG4gIH1cbiAgaWYgKCFyZXF1aXJlbWVudGZvcm1kZXRhaWxzLndoaWNoX2xhbmd1YWdlX2FyZV95b3VfbW9zdF9jb21mb3J0YWJsZV9fYykge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcIldoaWNoIGxhbmd1YWdlIGFyZSB5b3UgbW9zdCBjb21mb3J0YWJsZSBpbiBpcyByZXF1aXJlZFwiXG4gICAgKTtcbiAgfVxuICBpZiAoIXJlcXVpcmVtZW50Zm9ybWRldGFpbHMuZmxvb3JfcGxhbikge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICA0MDAsXG4gICAgICBcImZsb29yIHBsYW4gaXMgcmVxdWlyZWRcIlxuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiAocmVxdWlyZW1lbnRmb3JtZGV0YWlscz8uYXJlYV9fYykgIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgNDAwLFxuICAgICAgXCJmbG9vciBhcmVhIG11c3QgYmUgYSBudW1iZXJcIlxuICAgICk7XG4gIH1cbiAgYXdhaXQgdmFsaWRhdGVLaWRzRGV0YWlscyhyZXF1aXJlbWVudGZvcm1kZXRhaWxzKVxufVxuY29uc3QgdmFsaWRhdGVLaWRzRGV0YWlscyA9IGFzeW5jKHJlcXVpcmVtZW50Zm9ybWRldGFpbHMpPT57XG4gIGlmIChyZXF1aXJlbWVudGZvcm1kZXRhaWxzPy5raWRzX2RldGFpbHMpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHJlcXVpcmVtZW50Zm9ybWRldGFpbHM/LmtpZHNfZGV0YWlscz8ubWFwKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5hZ2UpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIChlbGVtZW50LmFnZSkgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICAgICAgICAgIDQwMCxcbiAgICAgICAgICAgICAgXCJLaWRzIGFnZSBtdXN0IGJlIGEgbnVtYmVyXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRSZXF1aXJlbWVudEZvcm0gPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmo7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkNEXCIpXG5cbiAgICBjb25zdCBsZWFkID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZEZpcnN0KHsgd2hlcmU6IHsgbW9iaWxlcGhvbmU6IHVzZXIuY3VzdG9tZXJwaG9uZSB9IH0pXG5cbiAgICBpZiAoIWxlYWQpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkxlYWQgbm90IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGtpZHNBcnIgPSBbXVxuICAgIGxldCBvYmo7XG4gICAgaWYgKGxlYWQuZ2VuZGVyX29mX2ZpcnN0X2tpZF9fYyB8fCBsZWFkLmFnZV9vZl9maXJzdF9raWRfX2MpIHtcbiAgICAgIG9iaiA9IHtcbiAgICAgICAgZ2VuZGVyOiBsZWFkLmdlbmRlcl9vZl9maXJzdF9raWRfX2MsXG4gICAgICAgIGFnZTogbGVhZC5hZ2Vfb2ZfZmlyc3Rfa2lkX19jXG4gICAgICB9XG4gICAgICBraWRzQXJyLnB1c2gob2JqKVxuICAgIH1cbiAgICBpZiAobGVhZC5nZW5kZXJfb2Zfc2Vjb25kX2tpZF9fYyB8fCBsZWFkLmFnZV9vZl9zZWNvbmRfa2lkX19jKSB7XG4gICAgICBvYmogPSB7XG4gICAgICAgIGdlbmRlcjogbGVhZC5nZW5kZXJfb2Zfc2Vjb25kX2tpZF9fYyxcbiAgICAgICAgYWdlOiBsZWFkLmFnZV9vZl9zZWNvbmRfa2lkX19jXG4gICAgICB9XG4gICAgICBraWRzQXJyLnB1c2gob2JqKVxuICAgIH1cbiAgICBpZiAobGVhZC5nZW5kZXJfb2ZfdGhpcmRfa2lkX19jIHx8IGxlYWQuYWdlX29mX3RoaXJkX2tpZF9fYykge1xuICAgICAgb2JqID0ge1xuICAgICAgICBnZW5kZXI6IGxlYWQuZ2VuZGVyX29mX3RoaXJkX2tpZF9fYyxcbiAgICAgICAgYWdlOiBsZWFkLmFnZV9vZl90aGlyZF9raWRfX2NcbiAgICAgIH1cbiAgICAgIGtpZHNBcnIucHVzaChvYmopXG4gICAgfVxuICAgIGlmIChsZWFkLmdlbmRlcl9vZl9mb3VydGhfa2lkX19jIHx8IGxlYWQuYWdlX29mX2ZvdXJ0aF9raWRfX2MpIHtcbiAgICAgIG9iaiA9IHtcbiAgICAgICAgZ2VuZGVyOiBsZWFkLmdlbmRlcl9vZl9mb3VydGhfa2lkX19jLFxuICAgICAgICBhZ2U6IGxlYWQuYWdlX29mX2ZvdXJ0aF9raWRfX2NcbiAgICAgIH1cbiAgICAgIGtpZHNBcnIucHVzaChvYmopXG4gICAgfVxuICAgIGNvbnN0IGdldExlYWRGbG9vclBsYW4gPSBhd2FpdCBwcmlzbWEuZGNfYXR0YWNobWVudHMuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IE51bWJlcihsZWFkLmZsb29yX3BsYW5fYXR0YWNobWVudF9pZF9fYykgfSB9KVxuICAgIGNvbnN0IHJlcXVpcmVtZW50Zm9ybWRldGFpbHMgPSB7XG4gICAgICBob21lX3R5cGVfX2M6IGxlYWQuaG9tZV90eXBlX19jLFxuICAgICAgYXJlYV9fYzogbGVhZC5hcmVhX19jLFxuICAgICAgc2NvcGVfb2Zfd29ya19fYzogbGVhZC5zY29wZV9vZl93b3JrX19jLFxuICAgICAgaW50ZXJpb3Jfd29ya19uZWVkZWRfZm9yX19jOiBsZWFkLmludGVyaW9yX3dvcmtfbmVlZGVkX2Zvcl9fYz8uc3BsaXQoXCI7XCIpLFxuICAgICAgd2hlcmVfYXJlX3lvdV9jdXJyZW50bHlfbG9jYXRlZF9fYzogbGVhZC53aGVyZV9hcmVfeW91X2N1cnJlbnRseV9sb2NhdGVkX19jLFxuICAgICAgd2hlbl93b3VsZF95b3VfbGlrZV90b19oYXZlX3RoZV9ob21lX19jOiBsZWFkLndoZW5fd291bGRfeW91X2xpa2VfdG9faGF2ZV90aGVfaG9tZV9fYyxcbiAgICAgIHdoaWNoX2xhbmd1YWdlX2FyZV95b3VfbW9zdF9jb21mb3J0YWJsZV9fYzogbGVhZC53aGljaF9sYW5ndWFnZV9hcmVfeW91X21vc3RfY29tZm9ydGFibGVfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIGlmX290aGVyX2xhbmd1YWdlc19wbGVhc2Vfc3BlY2lmeV9fYzogbGVhZC5pZl9vdGhlcl9sYW5ndWFnZXNfcGxlYXNlX3NwZWNpZnlfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIHdob193aWxsX2JlX3N0YXlpbmdfaW5fdGhlX2hvdXNlX19jOiBsZWFkLndob193aWxsX2JlX3N0YXlpbmdfaW5fdGhlX2hvdXNlX19jPy5zcGxpdChcIjtcIiksXG4gICAgICBraWRzX2RldGFpbHM6IGtpZHNBcnIsXG4gICAgICBkb195b3VfaGF2ZV9wZXRzX19jOiBsZWFkLmRvX3lvdV9oYXZlX3BldHNfX2MsXG4gICAgICBsaXZlX19jOiBsZWFkLmxpdmVfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIG90aGVyc19mb3JfbGl2ZV9fYzogbGVhZC5vdGhlcnNfZm9yX2xpdmVfX2MsXG4gICAgICB3b3JrX19jOiBsZWFkLndvcmtfX2MsXG4gICAgICBlYXRfX2M6IGxlYWQuZWF0X19jPy5zcGxpdChcIjtcIiksXG4gICAgICBwbGF5X19jOiBsZWFkLnBsYXlfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIG90aGVyc19mb3JfcGxheV9fYzogbGVhZC5vdGhlcnNfZm9yX3BsYXlfX2MsXG4gICAgICBjaXZpbF93b3JrX19jOiBsZWFkLmNpdmlsX3dvcmtfX2MgPyBcIlllc1wiIDogXCJOb1wiLFxuICAgICAgcmVxdWlyZW1lbnRfZGV0YWlsc19fYzogbGVhZC5yZXF1aXJlbWVudF9kZXRhaWxzX19jPy5zcGxpdChcIjtcIiksXG4gICAgICBwcm9wZXJ0eV91c2FnZV9fYzogbGVhZC5wcm9wZXJ0eV91c2FnZV9fYyxcbiAgICAgIHNpdGVfc2VydmljZV9uZWVkZWRfZm9yX19jOiBsZWFkLnNpdGVfc2VydmljZV9uZWVkZWRfZm9yX19jPy5zcGxpdChcIjtcIiksXG4gICAgICBmbG9vcl9wbGFuOiB7XG4gICAgICAgIGlkOiBnZXRMZWFkRmxvb3JQbGFuPy5sZWFkaWQsXG4gICAgICAgIGRvY3VtZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpbGVuYW1lOiBnZXRMZWFkRmxvb3JQbGFuPy5maWxla2V5LFxuICAgICAgICAgICAgQ29udGVudF9UeXBlOiBnZXRMZWFkRmxvb3JQbGFuPy5jb250ZW50dHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGdldExlYWRGbG9vclBsYW4/LmxvY2F0aW9uLFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcInJlcXVpcmVtZW50Zm9ybWRldGFpbHNcIiwgcmVxdWlyZW1lbnRmb3JtZGV0YWlscylcbiAgICBjb25zdCBEYXRhID0ge1xuICAgICAgcmVxdWlyZW1lbnRmb3JtZGV0YWlsc1xuICAgIH1cblxuICAgIHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBEYXRhIH1cbiAgICByZXR1cm4gcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlT2JqO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgRGF0ZVRpbWVSZXNvbHZlciB9IGZyb20gXCJncmFwaHFsLXNjYWxhcnNcIjtcbmltcG9ydCB7IGVkaXRSZXF1aXJlbWVudEZvcm0gfSBmcm9tIFwiLi9NdXRhdGlvbnMvZWRpdEZvcm1cIjtcbmltcG9ydCB7IGdldFJlcXVpcmVtZW50Rm9ybSB9IGZyb20gXCIuL3F1ZXJpZXNcIjtcblxuZXhwb3J0IGNvbnN0IHJlcXVpcmVtZW50Rm9ybVJlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGdldFJlcXVpcmVtZW50Rm9ybTogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgZ2V0UmVxdWlyZW1lbnRGb3JtKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIGVkaXRSZXF1aXJlbWVudEZvcm06IChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiBlZGl0UmVxdWlyZW1lbnRGb3JtKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpXG4gIH0sXG4gIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyXG59XG4iLCJleHBvcnQgY29uc3QgcmVxdWlyZW1lbnRGb3JtVHlwZWRlZiA9IGBcbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgZ2V0UmVxdWlyZW1lbnRGb3JtOiByZXF1aXJlbWVudEZvcm1SZXNwb25zZVxuICAgIH1cbiAgICB0eXBlIHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlIHsgXG4gICAgICAgIGNvZGU6SW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICBkYXRhOiBKU09OXG4gICAgfVxuXG4gICAgdHlwZSBNdXRhdGlvbiB7XG4gICAgICAgICAgICBlZGl0UmVxdWlyZW1lbnRGb3JtKFxuICAgICAgICAgICAgcmVxdWlyZW1lbnRmb3JtZGV0YWlsczogSlNPTiEsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBEYXRlVGltZSk6IHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlXG4gICAgfVxuXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gXG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgbG9naW4gfSBmcm9tIFwiLi9NdXRhdGlvbnMvbG9naW5cIjtcbmltcG9ydCB7IHZlcmlmeU90cCB9IGZyb20gXCIuL011dGF0aW9ucy92ZXJpZnlPdHBcIjtcbmltcG9ydCB7IGFkZEN1c3RvbWVyIH0gZnJvbSBcIi4vTXV0YXRpb25zL2FkZEN1c3RvbWVyXCI7XG5pbXBvcnQgeyByZUlzc3VlQWNjZXNzVG9rZW5DRCB9IGZyb20gXCIuL011dGF0aW9ucy9yZUlzc3VlQWNjZXNzVG9rZW5DRFwiO1xuaW1wb3J0IHsgcmFpc2VUaWNrZXQgfSBmcm9tIFwiLi9jdXN0b21lclN1cHBvcnQvTXV0YXRpb25zL3JhaXNlVGlja2V0XCJcbmltcG9ydCB7IHJhaXNlQ29tbWVudCB9IGZyb20gXCIuL2N1c3RvbWVyU3VwcG9ydC9NdXRhdGlvbnMvcmFpc2VDb21tZW50XCI7XG5pbXBvcnQgeyB2aWV3QWxsUmFpc2VkVGlja2V0cyB9IGZyb20gXCIuL2N1c3RvbWVyU3VwcG9ydC9RdWVyaWVzL3ZpZXdBbGxSYWlzZWRUaWNrZXRzXCI7XG5pbXBvcnQgeyBnZXRDdXN0b21lckRldGFpbHNCeUF1dGggfSBmcm9tIFwiLi9RdWVyaWVzL2dldEN1c3RvbWVyQnlBdXRoXCI7XG5pbXBvcnQgeyB1cGRhdGVDdXN0b21lciB9IGZyb20gXCIuL011dGF0aW9ucy91cGRhdGVDdXN0b21lclwiO1xuaW1wb3J0IHt1cGRhdGVDdXN0b21lckRldGFpbHN9IGZyb20gXCIuL011dGF0aW9ucy91cGRhdGVDdXN0b21lckRldGFpbHNcIjtcbmltcG9ydCB7IHVwZGF0ZUN1c3RvbWVyU0ZJRCB9IGZyb20gXCIuL011dGF0aW9ucy91cGRhdGVDdXN0b21lclNGSURcIjtcbmltcG9ydCB7dXBkYXRlQ3VzdG9tZXJPcHBvcnR1bml0eUlkfSBmcm9tIFwiLi9NdXRhdGlvbnMvdXBkYXRlQ3VzdG9tZXJPcHBvcnR1bml0eUlkXCI7XG5cblxuZXhwb3J0IGNvbnN0IGN1c3RvbWVyUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgdmlld0FsbFJhaXNlZFRpY2tldHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiB2aWV3QWxsUmFpc2VkVGlja2V0cyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRDdXN0b21lckRldGFpbHNCeUF1dGg6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0Q3VzdG9tZXJEZXRhaWxzQnlBdXRoKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIGxvZ2luOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGxvZ2luKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHZlcmlmeU90cDogKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICB2ZXJpZnlPdHAocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgcmVJc3N1ZUFjY2Vzc1Rva2VuQ0Q6IChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgcmVJc3N1ZUFjY2Vzc1Rva2VuQ0QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgYWRkQ3VzdG9tZXJzOiAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFkZEN1c3RvbWVyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHJhaXNlVGlja2V0OiAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gcmFpc2VUaWNrZXQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgcmFpc2VDb21tZW50OiAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gcmFpc2VDb21tZW50KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZUN1c3RvbWVyRGF0YToocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gdXBkYXRlQ3VzdG9tZXJEYXRhKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZUN1c3RvbWVyU0ZJRDoocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gdXBkYXRlQ3VzdG9tZXJTRklEKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZUN1c3RvbWVyRGV0YWlsczoocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gdXBkYXRlQ3VzdG9tZXJEZXRhaWxzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZUN1c3RvbWVyczoocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gdXBkYXRlQ3VzdG9tZXIocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlQ3VzdG9tZXJPcHBvcnR1bml0eUlkOihwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiB1cGRhdGVDdXN0b21lck9wcG9ydHVuaXR5SWQocGFyZW50LCBfYXJncywgY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGN1c3RvbWVyVHlwZWRlZnMgPSBgXG5cbnR5cGUgQWRkcmVzc3tcbiAgICBhZGRyZXNzaWQ6SW50XG4gICAgY2l0eTpTdHJpbmdcbiAgICBjb3VudHJ5OlN0cmluZ1xuICAgIHN0cmVldDpTdHJpbmdcbiAgICB6aXA6U3RyaW5nXG4gICAgc3RhdGU6U3RyaW5nXG4gICAgYWRkcmVzc3R5cGU6SW50XG4gICAgY3VzdG9tZXJpZDpJbnRcbn1cblxudHlwZSBDdXN0b21lciB7XG4gIGN1c3RvbWVyaWQ6IEludFxuICBvdHA6IEludFxuICBnZW5lcmF0ZWRvdHB0aW1lc3RhbXA6IFN0cmluZ1xuICBmaXJzdG5hbWU6IFN0cmluZ1xuICBsYXN0bmFtZTogU3RyaW5nXG4gIGN1c3RvbWVyZW1haWw6IFN0cmluZ1xuICBjdXN0b21lcnBob25lOiBTdHJpbmdcbiAgY3VzdG9tZXJ0eXBlOlN0cmluZ1xuICBzYWxlc2ZvcmNlaWQ6IFN0cmluZ1xuICBwYW5jYXJkbm86IFN0cmluZ1xuICBnc3RubzogU3RyaW5nXG4gIG9kb29jb250YWN0aWQ6IFN0cmluZ1xuICBhZGRyZXNzZXM6W0FkZHJlc3NdXG59XG5cbnR5cGUgcmVzcG9uc2VDdXN0b21lcntcbiAgICBDdXN0b21lcjogQ3VzdG9tZXJcbiAgICBwcm9qZWN0aWQ6IEludFxuICAgIGNsaWVudGlkOiBTdHJpbmdcbiAgICBwcm9qZWN0c3RhdHVzOiBTdHJpbmdcbiAgICBzbWFydHNoZWV0aWQ6IFN0cmluZ1xuICAgIHF1b3RlaWQ6IEludFxuICAgIGlzbmV3cGF5bWVudHByb2plY3Q6IEJvb2xlYW5cbn1cblxudHlwZSBnZXRDdXN0b21lckRldGFpbHNCeUF1dGhSZXNwb25zZXtcbiAgICBjb2RlOiBJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOiByZXNwb25zZUN1c3RvbWVyXG59XG5cbmlucHV0IEFkZHJlc3NUb0JlQWRkZWR7XG4gICAgY2l0eTpTdHJpbmdcbiAgICBjb3VudHJ5OlN0cmluZ1xuICAgIHN0cmVldDpTdHJpbmdcbiAgICB6aXA6U3RyaW5nXG4gICAgc3RhdGU6U3RyaW5nXG4gICAgYWRkcmVzc3R5cGU6SW50XG59XG5cbmlucHV0IEN1c3RvbWVyVG9CZUFkZGVke1xuICAgIGZpcnN0bmFtZTogU3RyaW5nXG4gICAgbGFzdG5hbWU6IFN0cmluZ1xuICAgIGN1c3RvbWVyZW1haWw6IFN0cmluZ1xuICAgIGN1c3RvbWVycGhvbmU6IFN0cmluZ1xuICAgIHNhbGVzZm9yY2VpZDogU3RyaW5nXG4gICAgcGFuY2FyZG5vOiBTdHJpbmdcbiAgICBnc3RubzogU3RyaW5nXG4gICAgb2Rvb2NvbnRhY3RpZDogU3RyaW5nXG4gICAgYWRkcmVzc2VzOltBZGRyZXNzVG9CZUFkZGVkXVxufVxuXG5pbnB1dCBDdXN0b21lclRvQmVFZGl0ZWR7XG4gICAgZmlyc3RuYW1lOiBTdHJpbmdcbiAgICBsYXN0bmFtZTogU3RyaW5nXG4gICAgY3VzdG9tZXJlbWFpbDogU3RyaW5nXG4gICAgY3VzdG9tZXJwaG9uZTogU3RyaW5nXG4gICAgc2FsZXNmb3JjZWlkOiBTdHJpbmdcbiAgICBwYW5jYXJkbm86IFN0cmluZ1xuICAgIGdzdG5vOiBTdHJpbmdcbiAgICBvZG9vY29udGFjdGlkOiBTdHJpbmdcbn1cblxudHlwZSBjdXN0b21lclJlcG9uc2V7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOlN0cmluZ1xuICAgIGRhdGE6Q3VzdG9tZXJcbn1cblxudHlwZSBMb2dpblJlc3BvbnNlIHtcbiAgICBjb2RlOkludCFcbiAgICBtZXNzYWdlOlN0cmluZyFcbn1cblxudHlwZSBWZXJpZnlPVFBSZXNwb25zZSB7XG4gICAgY29kZTpJbnQhXG4gICAgbWVzc2FnZTpTdHJpbmchXG4gICAgZGF0YTogdG9rZW5SZXNwb25zZUNEXG59XG5cbnR5cGUgdG9rZW5SZXNwb25zZUNEIHsgXG4gICAgbG9naW5Ub2tlbjogU3RyaW5nLFxuICAgIHJlZnJlc2hUb2tlbjogU3RyaW5nLFxuICAgIGVtYWlsOiBTdHJpbmcsXG4gICAgY3VzdG9tZXJOYW1lOiBTdHJpbmdcbn1cblxudHlwZSByZUlzc3VlVG9rZW5SZXNwb25zZXtcbiAgICBjb2RlOkludCFcbiAgICBtZXNzYWdlOlN0cmluZyFcbiAgICBkYXRhOiB0b2tlblJlc3BvbnNlQ0Rcbn1cblxudHlwZSByYWlzZVRpY2tldFJlc3BvbnNlIHsgXG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmcgICAgXG59XG5cbnR5cGUgdmlld0FsbFRpY2tldHNSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBkYXRhOiBbSlNPTl1cbiAgICB0b3RhbFRpY2tldHM6IEludFxuICAgIG9wZW5UaWNrZXRzOiBJbnRcbiAgICBjbG9zZWRUaWNrZXRzOiBJbnRcbn1cblxudHlwZSBNdXRhdGlvbntcbiAgICBsb2dpbihjdXN0b21lcnBob25lOlN0cmluZyk6IExvZ2luUmVzcG9uc2UsXG4gICAgdmVyaWZ5T3RwKGN1c3RvbWVycGhvbmU6U3RyaW5nLG90cDpTdHJpbmcpOlZlcmlmeU9UUFJlc3BvbnNlXG4gICAgcmVJc3N1ZUFjY2Vzc1Rva2VuQ0QocmVmcmVzaFRva2VuOiBTdHJpbmchKTpyZUlzc3VlVG9rZW5SZXNwb25zZVxuICAgIGFkZEN1c3RvbWVycyhjdXN0b21lcjpDdXN0b21lclRvQmVBZGRlZCk6Y3VzdG9tZXJSZXBvbnNlXG4gICAgdXBkYXRlQ3VzdG9tZXJzKGN1c3RvbWVyOkN1c3RvbWVyVG9CZUFkZGVkKTpjdXN0b21lclJlcG9uc2VcbiAgICB1cGRhdGVDdXN0b21lclNGSUQoc2ZpZDpTdHJpbmcsY3VzdG9tZXJNb2JpbGU6U3RyaW5nKTpjdXN0b21lclJlcG9uc2VcbiAgICB1cGRhdGVDdXN0b21lckRhdGEoc2ZpZDpTdHJpbmcsY3VzdG9tZXI6Q3VzdG9tZXJUb0JlRWRpdGVkKTpjdXN0b21lclJlcG9uc2VcbiAgICB1cGRhdGVDdXN0b21lckRldGFpbHMoY3VzdG9tZXJQaG9uZTpTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVydHlwZTpTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyZW1haWw6U3RyaW5nLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlzcnRuYW1lOlN0cmluZywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOlN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsZXNmb3JlY2VpZDpTdHJpbmcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZG9vY29udGFjdGlkOlN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczpbQWRkcmVzc1RvQmVBZGRlZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdzdG5vOlN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuY2FyZG5vOlN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaTEwaW5nc3R0cmVhdG1lbnQ6U3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkc2FjYXRlZ29yeTpTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjpTdHJpbmcpOmN1c3RvbWVyUmVwb25zZVxuICAgIHVwZGF0ZUN1c3RvbWVyT3Bwb3J0dW5pdHlJZChvcHBvcnR1bml0eUlEOlN0cmluZyxjdXN0b21lclBob25lOlN0cmluZyk6Y3VzdG9tZXJSZXBvbnNlXG4gICAgcmFpc2VUaWNrZXQoY29uY2VybnR5cGU6IFN0cmluZyFcbiAgICAgICAgc3ViamVjdDogU3RyaW5nISxcbiAgICAgICAgZGVzY3JpcHRpb246IFN0cmluZyEsXG4gICAgICAgIGF0dGFjaG1lbnQ6IEpTT04sXG4gICAgICAgIHRpY2tldGJ1Y2tldDogSW50XG4gICAgICAgICk6cmFpc2VUaWNrZXRSZXNwb25zZVxuXG4gICAgcmFpc2VDb21tZW50KHRpY2tldElkOiBJbnQhXG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICAgICAgYXR0YWNobWVudDogSlNPTixcbiAgICAgICAgKTpyYWlzZVRpY2tldFJlc3BvbnNlXG4gICAgXG4gICAgICBcbn1cblxudHlwZSBRdWVyeSB7XG4gICAgdmlld0FsbFJhaXNlZFRpY2tldHMoc3RhdHVzOiBJbnQsIGNhc2VudW1iZXI6IFN0cmluZywgZnJvbURhdGU6IFN0cmluZywgdG9EYXRlOlN0cmluZyApOiB2aWV3QWxsVGlja2V0c1Jlc3BvbnNlXG59XG5cbnR5cGUgUXVlcnl7XG4gICAgZ2V0Q3VzdG9tZXJEZXRhaWxzQnlBdXRoOlxuICAgIGdldEN1c3RvbWVyRGV0YWlsc0J5QXV0aFJlc3BvbnNlXG59XG5cbnNjYWxhciBKU09OXG5zY2FsYXIgRGF0ZVRpbWVcbmA7XG4iLCJpbXBvcnQgQXV0aGVudGljYXRpb25Ub2tlbiBmcm9tICcuL3BheW1lbnRNaWNyb3NlcnZpY2UvYXV0aGVudGljYXRpb24vTXV0YXRpb24vQXV0aGVudGljYXRpb25Ub2tlbic7XG5pbXBvcnQgQWRkUGF5bWVudFJlcXVlc3RzIGZyb20gJy4vcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9NdXRhdGlvbnMvQWRkUGF5bWVudFJlcXVlc3RzJztcbmltcG9ydCBVcGRhdGVQYXltZW50UmVxdWVzdHMgZnJvbSAnLi9wYXltZW50TWljcm9zZXJ2aWNlL3BheW1lbnRSZXF1ZXN0L011dGF0aW9ucy9VcGRhdGVQYXltZW50UmVxdWVzdHMnO1xuaW1wb3J0IERlbGV0ZVBheW1lbnRSZXF1ZXN0cyBmcm9tICcuL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlcXVlc3QvTXV0YXRpb25zL0RlbGV0ZVBheW1lbnRSZXF1ZXN0cyc7XG5pbXBvcnQgQWRkUGF5bWVudFJlY2VpcHRzIGZyb20gJy4vcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVjZWlwdC9NdXRhdGlvbi9BZGRQYXltZW50UmVjZWlwdHMnO1xuaW1wb3J0IFVwZGF0ZVBheW1lbnRSZWNlaXB0cyBmcm9tICcuL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvTXV0YXRpb24vVXBkYXRlUGF5bWVudFJlY2VpcHRzJztcbmltcG9ydCBEZWxldGVQYXltZW50UmVjZWlwdHMgZnJvbSAnLi9wYXltZW50TWljcm9zZXJ2aWNlL3BheW1lbnRSZWNlaXB0L011dGF0aW9uL0RlbGV0ZVBheW1lbnRyZWNlaXB0cyc7XG5pbXBvcnQgUmF6b3JwYXlHZW5lcmF0ZVBheW1lbnRMaW5rIGZyb20gJy4vcGF5bWVudE1pY3Jvc2VydmljZS9yYXpvcnBheS9NdXRhdGlvbi9SYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbmsnO1xuaW1wb3J0IFJhem9ycGF5V2ViaG9vayBmcm9tICcuL3BheW1lbnRNaWNyb3NlcnZpY2UvcmF6b3JwYXkvTXV0YXRpb24vUmF6b3JwYXlXZWJob29rJztcbmltcG9ydCBVcGRhdGVDdXN0b21lciBmcm9tICcuL3BheW1lbnRNaWNyb3NlcnZpY2UvY3VzdG9tZXIvTXV0YXRpb25zL1VwZGF0ZUN1c3RvbWVyJztcbmltcG9ydCBHZW5lcmF0ZUludm9pY2VuZXdmbG93IGZyb20gJy4vcGF5bWVudE1pY3Jvc2VydmljZS9pbnZvaWNlL011dGF0aW9uL0dlbmVyYXRlSW52b2ljZW5ld2Zsb3cnO1xuXG5leHBvcnQgY29uc3QgZGF0YVNvdXJjZXMgPSAoKSA9PiAoe1xuICAgIEF1dGhlbnRpY2F0aW9uVG9rZW46bmV3IEF1dGhlbnRpY2F0aW9uVG9rZW4oKSxcblxuICAgIEFkZFBheW1lbnRSZXF1ZXN0czpuZXcgQWRkUGF5bWVudFJlcXVlc3RzKCksXG4gICAgVXBkYXRlUGF5bWVudFJlcXVlc3RzOm5ldyAgVXBkYXRlUGF5bWVudFJlcXVlc3RzKCksXG4gICAgRGVsZXRlUGF5bWVudFJlcXVlc3RzOm5ldyBEZWxldGVQYXltZW50UmVxdWVzdHMoKSxcblxuICAgIEFkZFBheW1lbnRSZWNlaXB0czpuZXcgQWRkUGF5bWVudFJlY2VpcHRzKCksXG4gICAgVXBkYXRlUGF5bWVudFJlY2VpcHRzOm5ldyBVcGRhdGVQYXltZW50UmVjZWlwdHMoKSxcbiAgICBEZWxldGVQYXltZW50UmVjZWlwdHM6bmV3IERlbGV0ZVBheW1lbnRSZWNlaXB0cygpLFxuXG4gICAgUmF6b3JwYXlHZW5lcmF0ZVBheW1lbnRMaW5rOm5ldyBSYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbmsoKSxcbiAgICBSYXpvcnBheVdlYmhvb2s6bmV3IFJhem9ycGF5V2ViaG9vaygpLFxuXG4gICAgVXBkYXRlQ3VzdG9tZXI6bmV3IFVwZGF0ZUN1c3RvbWVyKCksXG5cbiAgICBHZW5lcmF0ZUludm9pY2VuZXdmbG93Om5ldyBHZW5lcmF0ZUludm9pY2VuZXdmbG93KCksXG5cbn0pXG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IFN1cHBvcnRQYWxBcGkgZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9zdXBwb3J0cGFsL1N1cHBvcnRQYWxBcGlcIjtcblxuZXhwb3J0IGNvbnN0IHJlcGx5VG9UaWNrZXRNZXNzYWdlID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHJlcGx5VG9UaWNrZXRNZXNzYWdlUmVzcG9uc2VPYmpcblxuICBjb25zdCB7IHRpY2tldElkLCBtZXNzYWdlLCBhdHRhY2htZW50IH0gPSBhcmdzO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVwbHlUaWNrZXRNZXNzYWdlKFxuICAgICAgdGlja2V0SWQsXG4gICAgICB1c2VyLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGF0dGFjaG1lbnRcbiAgICApO1xuICAgIHJlcGx5VG9UaWNrZXRNZXNzYWdlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogcmVzLm1lc3NhZ2UsIGRhdGE6IHJlcy5kYXRhIH1cbiAgICByZXR1cm4gcmVwbHlUb1RpY2tldE1lc3NhZ2VSZXNwb25zZU9iajtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcGx5VG9UaWNrZXRNZXNzYWdlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHJlcGx5VG9UaWNrZXRNZXNzYWdlUmVzcG9uc2VPYmo7XG4gIH1cblxufTtcbmNvbnN0IHJlcGx5VGlja2V0TWVzc2FnZSA9IGFzeW5jICh0aWNrZXRJZCwgdXNlciwgbWVzc2FnZSwgYXR0YWNobWVudCkgPT4ge1xuICBjb25zdCBzdXBwb3J0cGFsYXBpID0gbmV3IFN1cHBvcnRQYWxBcGkoKVxuICBjb25zdCByZXNwb25zZTogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5wb3N0VG9TdXBwb3J0UGFsQXBpKFxuICAgIFwidGlja2V0L21lc3NhZ2VcIixcbiAgICB7XG4gICAgICB0aWNrZXRfaWQ6IHRpY2tldElkLFxuICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgIHVzZXJfaWQ6IFN0cmluZyh1c2VyLnN1cHBvcnRwYWxvcGVyYXRvcmlkKSxcbiAgICAgIGF0dGFjaG1lbnRcbiAgICB9XG4gICk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCBTdXBwb3J0UGFsQXBpIGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvc3VwcG9ydHBhbC9TdXBwb3J0UGFsQXBpXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVUaWNrZXRTdGF0dXMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgdXBkYXRlVGlja2V0U3RhdHVzUmVzcG9uc2VPYmpcblxuICBjb25zdCB7IHRpY2tldElkLCBzdGF0dXMgfSA9IGFyZ3M7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIik7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVUaWNrZXQodXNlciwgdGlja2V0SWQsIHN0YXR1cyk7IC8vIDIgZm9yIGNsb3NlZFxuICAgIHVwZGF0ZVRpY2tldFN0YXR1c1Jlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLCBkYXRhOiByZXMuZGF0YSB9XG4gICAgcmV0dXJuIHVwZGF0ZVRpY2tldFN0YXR1c1Jlc3BvbnNlT2JqO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdXBkYXRlVGlja2V0U3RhdHVzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHVwZGF0ZVRpY2tldFN0YXR1c1Jlc3BvbnNlT2JqO1xuICB9XG5cbn07XG5jb25zdCB1cGRhdGVUaWNrZXQgPSBhc3luYyAodXNlciwgdGlja2V0SWQsIHN0YXR1cykgPT4ge1xuICBjb25zdCBzdXBwb3J0cGFsYXBpID0gbmV3IFN1cHBvcnRQYWxBcGkoKVxuICBjb25zdCByZXNwb25zZTogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS51cGRhdGVUb1N1cHBvcnRQYWxBcGkoXG4gICAgXCJ0aWNrZXQvdGlja2V0L1wiICsgdGlja2V0SWQsXG4gICAge1xuICAgICAgc3RhdHVzLFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiXG5pbXBvcnQgU3VwcG9ydFBhbEFwaSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3N1cHBvcnRwYWwvU3VwcG9ydFBhbEFwaVwiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlRGRDZCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgeyBTdXBwb3J0UGFsQmFzZVVzZWNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL3N1cHBvcnRwYWxCYXNlVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hUaWNrZXRCeUlkID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgRmV0Y2hUaWNrZXRCeUlkUmVzcG9uc2U7XG5cbiAgICBjb25zdCB7IHRpY2tldF9pZCB9ID0gYXJncztcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGF1dGhlbnRpY2F0ZURkQ2QoY29udGV4dClcbiAgICAgICAgY29uc3Qgc3VwcG9ydFBhbENGSW5mbyA9IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldFN1cHBvcnRwYWxDdXN0b21GaWVsZCgpXG5cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0VGlja2V0QnlJZCh0aWNrZXRfaWQpO1xuICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICB0aWNrZXRJZDogXCJcIixcbiAgICAgICAgICAgIGNhc2VOdW1iZXI6IFwiXCIsXG4gICAgICAgICAgICBzdGF0dXM6IFwiXCIsXG4gICAgICAgICAgICBwcmlvcml0eTogXCJcIixcbiAgICAgICAgICAgIHN1YmplY3Q6IFwiXCIsXG4gICAgICAgICAgICBpc0Nsb3NlZDogZmFsc2UsXG4gICAgICAgICAgICBjcmVhdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICAgIHByb2plY3ROYW1lOiBcIlwiLFxuICAgICAgICAgICAgZGVzaWduZXJOYW1lOiBcIlwiLFxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBcIlwiLFxuICAgICAgICAgICAgY2htbmFtZTogXCJcIixcbiAgICAgICAgICAgIGR1ZVRpbWU6IFwiXCIsXG4gICAgICAgICAgICB0eXBlQnVja2V0OiBcIlwiLFxuICAgICAgICAgICAgaXNzdWVUeXBlOiBcIlwiLFxuICAgICAgICAgICAgcGF5bWVudHN0YWdlOiBcIlwiXG4gICAgICAgIH07XG4gICAgICAgIG9iai50aWNrZXRJZCA9IHJlcy5kYXRhLmlkO1xuICAgICAgICBvYmouY2FzZU51bWJlciA9IHJlcy5kYXRhLm51bWJlcjtcbiAgICAgICAgb2JqLnN0YXR1cyA9IHJlcy5kYXRhLnN0YXR1cy5uYW1lO1xuICAgICAgICBvYmoucHJpb3JpdHkgPSByZXMuZGF0YS5wcmlvcml0eS5uYW1lO1xuICAgICAgICBvYmouc3ViamVjdCA9IHJlcy5kYXRhLnN1YmplY3Q7XG4gICAgICAgIGlmIChyZXMuZGF0YS5jdXN0b21maWVsZHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICByZXMuZGF0YS5jdXN0b21maWVsZHMubWFwKGFzeW5jIChjdXN0b21maWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VzdG9tZmllbGQuZmllbGRfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wcm9qZWN0TmFtZSA9IGN1c3RvbWZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21maWVsZHZhbHVlID0gc3VwcG9ydFBhbENGSW5mb1sxOV1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wYXltZW50c3RhZ2UgPSBjdXN0b21maWVsZHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoudHlwZUJ1Y2tldCA9IGN1c3RvbWZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNpZ25lciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kRmlyc3QoeyB3aGVyZTogeyBkZXNpZ25jYWZlZW1haWw6IGN1c3RvbWZpZWxkLnZhbHVlIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNpZ25lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kZXNpZ25lck5hbWUgPSBgJHtkZXNpZ25lci5maXJzdG5hbWV9YCArIFwiIFwiICsgYCR7ZGVzaWduZXIubGFzdG5hbWV9YDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmouZGVzaWduZXJOYW1lID0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmouaXNzdWVUeXBlID0gY3VzdG9tZmllbGQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJoZXJlXCIpXG4gICAgICAgIGNvbnN0IGN1c3RvbWVyTmFtZSA9ICBnZXRDdXN0b21lck5hbWUocmVzLmRhdGEpXG4gICAgICAgIG9iai5jdXN0b21lck5hbWUgPSBjdXN0b21lck5hbWU7XG5cbiAgICAgICAgaWYgKHJlcy5kYXRhLmFzc2lnbmVkWzBdKSB7XG4gICAgICAgICAgICBvYmouY2htbmFtZSA9IGAke3Jlcy5kYXRhLmFzc2lnbmVkWzBdLmZpcnN0bmFtZX1gICsgXCIgXCIgKyBgJHtyZXMuZGF0YS5hc3NpZ25lZFswXT8ubGFzdG5hbWV9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLmNobW5hbWUgPSBcIlwiXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3JlYXRlZERhdGUgPSBuZXcgRGF0ZSgwKTtcbiAgICAgICAgY3JlYXRlZERhdGUuc2V0VVRDU2Vjb25kcyhyZXMuZGF0YS5jcmVhdGVkX2F0KTtcbiAgICAgICAgb2JqLmNyZWF0ZWREYXRlID0gY3JlYXRlZERhdGUudG9JU09TdHJpbmcoKVxuXG4gICAgICAgIGNvbnN0IGR1ZURhdGUgPSBuZXcgRGF0ZSgwKTtcbiAgICAgICAgZHVlRGF0ZS5zZXRVVENTZWNvbmRzKHJlcy5kYXRhLmR1ZV90aW1lKTtcbiAgICAgICAgb2JqLmR1ZVRpbWUgPSBkdWVEYXRlLnRvSVNPU3RyaW5nKClcblxuXG4gICAgICAgIEZldGNoVGlja2V0QnlJZFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIGRhdGE6IG9iaiB9XG4gICAgICAgIHJldHVybiBGZXRjaFRpY2tldEJ5SWRSZXNwb25zZTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEZldGNoVGlja2V0QnlJZFJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgICAgICByZXR1cm4gRmV0Y2hUaWNrZXRCeUlkUmVzcG9uc2U7XG4gICAgfVxuXG59O1xuY29uc3QgZ2V0VGlja2V0QnlJZCA9IGFzeW5jICh0aWNrZXRJZCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IFwidGlja2V0L3RpY2tldC9cIiArIHRpY2tldElkXG4gICAgY29uc3Qgc3VwcG9ydHBhbGFwaSA9IG5ldyBTdXBwb3J0UGFsQXBpKClcbiAgICBjb25zdCB0aWNrZXQ6IGFueSA9IGF3YWl0IHN1cHBvcnRwYWxhcGkuZ2V0RnJvbVN1cHBvcnRQYWxBcGkodXJsKTtcbiAgICByZXR1cm4gdGlja2V0O1xufVxuY29uc3QgZ2V0Q3VzdG9tZXJOYW1lID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCBmaXJzdG5hbWUgPSBkYXRhLnVzZXIuZmlyc3RuYW1lID8gZGF0YS51c2VyLmZpcnN0bmFtZS50cmltKCkgOiBcIlwiO1xuICAgIGNvbnN0IGxhc3RuYW1lID0gZGF0YS51c2VyLmxhc3RuYW1lID8gZGF0YS51c2VyLmxhc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gICAgcmV0dXJuIGAke2ZpcnN0bmFtZSA/IGZpcnN0bmFtZSArIFwiIFwiIDogXCJcIn0ke2xhc3RuYW1lfWA7XG4gIH1cbiIsImltcG9ydCB7IGF1dGhlbnRpY2F0ZURkQ2QgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgU3VwcG9ydFBhbEJhc2VVc2VjYXNlIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9zdXBwb3J0cGFsQmFzZVVzZUNhc2VcIjtcblxuZXhwb3J0IGNvbnN0IGZldGNoVGlja2V0TWVzc2FnZSA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gICAgbGV0IEZldGNoVGlja2V0TWVzc2FnZVJlc3BvbnNlO1xuXG4gICAgY29uc3QgeyB0aWNrZXRfaWQgfSA9IGFyZ3M7XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBhdXRoZW50aWNhdGVEZENkKGNvbnRleHQpXG5cbiAgICAgICAgY29uc3QgY29tbWVudHNBcnI6IGFueVtdID0gW107XG4gICAgICAgIGxldCBkZXNjcmlwdGlvbjtcblxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBTdXBwb3J0UGFsQmFzZVVzZWNhc2UoKS5nZXRUaWNrZXRNZXNzYWdlcyh0aWNrZXRfaWQpO1xuICAgICAgICBpZiAocmVzICYmIHJlcy5zdGF0dXMgPT09IFwic3VjY2Vzc1wiICYmIHJlcy5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHJlcy5kYXRhWzBdPy5wdXJpZmllZF90ZXh0KSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSByZXMuZGF0YVswXT8ucHVyaWZpZWRfdGV4dC5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZywgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGFBcnIgPSByZXMuZGF0YVxuICAgICAgICAvL2NvbnNvbGUubG9nKDM4LCBkYXRhQXJyKVxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGRhdGEgb2YgZGF0YUFycikge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VBcnI6IGFueVtdID0gW107XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoMCk7IC8vIFRoZSAwIHRoZXJlIGlzIHRoZSBrZXksIHdoaWNoIHNldHMgdGhlIGRhdGUgdG8gdGhlIGVwb2NoXG4gICAgICAgICAgICBkYXRlLnNldFVUQ1NlY29uZHMoZGF0YS5jcmVhdGVkX2F0KTtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiBkYXRhPy5hdHRhY2htZW50cykge1xuXG4gICAgICAgICAgICAgICAgaW1hZ2VBcnIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQ/Lm9yaWdpbmFsX25hbWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGVsZW1lbnQ/LnVwbG9hZD8ubWltZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZWxlbWVudD8uZGlyZWN0X2Zyb250ZW5kX3VybCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdHI7XG4gICAgICAgICAgICBpZiAoZGF0YT8ucHVyaWZpZWRfdGV4dCkge1xuICAgICAgICAgICAgICAgIHN0ciA9IGRhdGE/LnB1cmlmaWVkX3RleHQucmVwbGFjZSgvKDwoW14+XSspPikvaWcsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1lbnRzQXJyLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN0ciA/IHN0ciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgYnk6IGRhdGEudXNlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgICB0aW1lc2VudDogZGF0ZSxcbiAgICAgICAgICAgICAgICBpbWFnZUFycixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgRmV0Y2hUaWNrZXRNZXNzYWdlUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiwgY29tbWVudHM6IGNvbW1lbnRzQXJyIH1cbiAgICAgICAgcmV0dXJuIEZldGNoVGlja2V0TWVzc2FnZVJlc3BvbnNlO1xuXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBGZXRjaFRpY2tldE1lc3NhZ2VSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIEZldGNoVGlja2V0TWVzc2FnZVJlc3BvbnNlO1xuICAgIH1cblxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgeyBTdXBwb3J0UGFsQmFzZVVzZWNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL3N1cHBvcnRwYWxCYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgUHJvZmlsZVR5cGVFbnVtQ29kZSB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1Byb2ZpbGVUeXBlRW51bVV0aWxcIjtcblxuZXhwb3J0IGNvbnN0IGZldGNoVGlja2V0cyA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGxldCBmZXRjaFRpY2tldHNSZXNwb25zZU9iajtcblxuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoY29udGV4dCwgXCJERFwiKTtcblxuICAgIGxldCByZXNkYXRhQXJyID0gW107XG4gICAgbGV0IHJlc3BvbnNlQXJyOiBhbnlbXSA9IFtdO1xuXG4gICAgY29uc3Qgc3VwcG9ydFBhbENGSW5mbyA9IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldFN1cHBvcnRwYWxDdXN0b21GaWVsZCgpO1xuICAgIGNvbnN0IHBhZ2VzaXplID0gYXdhaXQgZ2V0cGFnZVNpemUoYXJncy5wYWdlU2l6ZSk7XG4gICAgY29uc3QgVGlja2V0U3RhdHVzID0gYXdhaXQgZ2V0VGlja2V0U3RhdHVzKGFyZ3Muc3RhdHVzKTtcblxuICAgIGNvbnN0IHBhZ2VSZXF1ZXN0Qm9keSA9IHtcbiAgICAgIHBhZ2VTaXplOiBwYWdlc2l6ZSxcbiAgICAgIHBhZ2VJbmRleDogYXJncy5wYWdlSW5kZXgsXG4gICAgfTtcblxuICAgIHN3aXRjaCAodXNlci5wcm9maWxlaWQpIHtcbiAgICAgIGNhc2UgUHJvZmlsZVR5cGVFbnVtQ29kZS5JTl9IT1VTRV9ERVNJR05FUjpcbiAgICAgIGNhc2UgUHJvZmlsZVR5cGVFbnVtQ29kZS5ERVNJR05fUEFSVE5FUjpcbiAgICAgICAgcmVzZGF0YUFyciA9IGF3YWl0IHN1cHBvcnREYXRhKFxuICAgICAgICAgIDEzLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBUaWNrZXRTdGF0dXMsXG4gICAgICAgICAgYXJncy5zZWFyY2hLZXksXG4gICAgICAgICAgYXJncy5zZWFyY2hWYWx1ZSxcbiAgICAgICAgICBwYWdlUmVxdWVzdEJvZHlcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2ZpbGVUeXBlRW51bUNvZGUuQVNTT0NJQVRFX1NUVURJT19NQU5BR0VSOlxuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLlNUVURJT19NQU5BR0VSOlxuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLlNUVURJT19NQU5BR0VSX0RQOlxuICAgICAgICBjb25zdCBzdXBwb3J0VGVhbSA9IFtdO1xuICAgICAgICBjb25zdCB0ZWFtcyA9IGF3YWl0IHByaXNtYS5kY191c2Vyc190ZWFtLmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZTogeyB1c2VyaWQ6IHVzZXIudXNlcmlkIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHRlYW1zLm1hcChhc3luYyAodGVhbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGVhbXJlcyA9IGF3YWl0IHByaXNtYS5kY190ZWFtcy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICB3aGVyZTogeyBpZDogdGVhbS50ZWFtaWQgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdXBwb3J0VGVhbUlkID0gc3VwcG9ydFBhbENGSW5mb1tcIlRFQU1fXCIgKyB0ZWFtcmVzLm5hbWVdO1xuXG4gICAgICAgICAgICBzdXBwb3J0VGVhbS5wdXNoKHN1cHBvcnRUZWFtSWQpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcmVzZGF0YUFyciA9IGF3YWl0IHN1cHBvcnREYXRhKFxuICAgICAgICAgIDI2LFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgc3VwcG9ydFRlYW0sXG4gICAgICAgICAgVGlja2V0U3RhdHVzLFxuICAgICAgICAgIGFyZ3Muc2VhcmNoS2V5LFxuICAgICAgICAgIGFyZ3Muc2VhcmNoVmFsdWUsXG4gICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLlNZU1RFTV9BRE1JTklTVFJBVE9SOlxuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkFMTF9JTkRJQV9CVVNJTkVTU19IRUFEOlxuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkNITV9NQU5BR0VSOlxuICAgICAgICByZXNkYXRhQXJyID0gYXdhaXQgc3VwcG9ydERhdGEoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgVGlja2V0U3RhdHVzLFxuICAgICAgICAgIGFyZ3Muc2VhcmNoS2V5LFxuICAgICAgICAgIGFyZ3Muc2VhcmNoVmFsdWUsXG4gICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkNFTlRFUl9ERUxJVkVSWV9IRUFEOlxuICAgICAgICBjb25zdCBzdXBwb3J0Q2VudGVyID0gW107XG4gICAgICAgIGNvbnN0IGNlbnRlcnMgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogdXNlci51c2VyaWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIGNlbnRlcnMubWFwKGFzeW5jIChjZW50ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlcnJlcyA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICB3aGVyZTogeyBjZW50ZXJpZDogY2VudGVyLmNlbnRlcmlkIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc3VwcG9ydENlbnRlcklkID0gc3VwcG9ydFBhbENGSW5mb1tjZW50ZXJyZXMubmFtZV07XG5cbiAgICAgICAgICAgIHN1cHBvcnRDZW50ZXIucHVzaChzdXBwb3J0Q2VudGVySWQpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJlc2RhdGFBcnIgPSBhd2FpdCBzdXBwb3J0RGF0YShcbiAgICAgICAgICAyMixcbiAgICAgICAgICB1c2VyLFxuICAgICAgICAgIHN1cHBvcnRDZW50ZXIsXG4gICAgICAgICAgVGlja2V0U3RhdHVzLFxuICAgICAgICAgIGFyZ3Muc2VhcmNoS2V5LFxuICAgICAgICAgIGFyZ3Muc2VhcmNoVmFsdWUsXG4gICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkNJVFlfREVMSVZFUllfSEVBRDpcbiAgICAgICAgY29uc3Qgc3VwcG9ydENpdHkgPSBbXTtcbiAgICAgICAgY29uc3QgY2l0aWVzID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzX2NpdHkuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogdXNlci51c2VyaWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIGNpdGllcy5tYXAoYXN5bmMgKGNpdHkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNpdHlyZXMgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBjaXR5LmNpdHlpZCB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRDaXR5SWQgPSBzdXBwb3J0UGFsQ0ZJbmZvW2NpdHlyZXMubmFtZV07XG5cbiAgICAgICAgICAgIHN1cHBvcnRDaXR5LnB1c2goc3VwcG9ydENpdHlJZCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgcmVzZGF0YUFyciA9IGF3YWl0IHN1cHBvcnREYXRhKFxuICAgICAgICAgIDIzLFxuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgc3VwcG9ydENpdHksXG4gICAgICAgICAgVGlja2V0U3RhdHVzLFxuICAgICAgICAgIGFyZ3Muc2VhcmNoS2V5LFxuICAgICAgICAgIGFyZ3Muc2VhcmNoVmFsdWUsXG4gICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXNkYXRhQXJyID0gYXdhaXQgc3VwcG9ydERhdGEoXG4gICAgICAgICAgdXNlci5zdXBwb3J0cGFsb3BlcmF0b3JpZCxcbiAgICAgICAgICB1c2VyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgVGlja2V0U3RhdHVzLFxuICAgICAgICAgIGFyZ3Muc2VhcmNoS2V5LFxuICAgICAgICAgIGFyZ3Muc2VhcmNoVmFsdWUsXG4gICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsZXQgZGF0YUFycjtcbiAgICBpZiAocmVzZGF0YUFyci5sZW5ndGgpIHtcbiAgICAgIGRhdGFBcnIgPSByZXNkYXRhQXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZXRjaFRpY2tldHNSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBkYXRhOiBbXSB9O1xuICAgICAgcmV0dXJuIGZldGNoVGlja2V0c1Jlc3BvbnNlT2JqO1xuICAgIH1cbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRhdGFBcnIubWFwKGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICB0aWNrZXRJZDogXCJcIixcbiAgICAgICAgICBjYXNlTnVtYmVyOiBcIlwiLFxuICAgICAgICAgIHN0YXR1czogXCJcIixcbiAgICAgICAgICBzdWJqZWN0OiBcIlwiLFxuICAgICAgICAgIGlzQ2xvc2VkOiBmYWxzZSxcbiAgICAgICAgICBjcmVhdGVkRGF0ZTogXCJcIixcbiAgICAgICAgICBwcm9qZWN0TmFtZTogXCJcIixcbiAgICAgICAgICBkZXNpZ25lck5hbWU6IFwiXCIsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBcIlwiLFxuICAgICAgICAgIGNobW5hbWU6IFwiXCIsXG4gICAgICAgIH07XG4gICAgICAgIG9iai50aWNrZXRJZCA9IGRhdGEuaWQ7XG4gICAgICAgIG9iai5jYXNlTnVtYmVyID0gZGF0YS5udW1iZXI7XG4gICAgICAgIG9iai5zdGF0dXMgPSBkYXRhLnN0YXR1cy5uYW1lO1xuICAgICAgICBvYmouc3ViamVjdCA9IGRhdGEuc3ViamVjdDtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBkYXRhLmN1c3RvbWZpZWxkcy5tYXAoYXN5bmMgKGN1c3RvbWZpZWxkKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1c3RvbWZpZWxkLmZpZWxkX2lkKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgb2JqLnByb2plY3ROYW1lID0gY3VzdG9tZmllbGQudmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzaWduZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGRlc2lnbmNhZmVlbWFpbDogY3VzdG9tZmllbGQudmFsdWUgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzaWduZXIpIHtcbiAgICAgICAgICAgICAgICAgIG9iai5kZXNpZ25lck5hbWUgPVxuICAgICAgICAgICAgICAgICAgICBgJHtkZXNpZ25lci5maXJzdG5hbWV9YCArIFwiIFwiICsgYCR7ZGVzaWduZXIubGFzdG5hbWV9YDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb2JqLmRlc2lnbmVyTmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGN1c3RvbWVyTmFtZSA9ICBnZXRDdXN0b21lck5hbWUoZGF0YSlcbiAgICAgICAgb2JqLmN1c3RvbWVyTmFtZSA9IGN1c3RvbWVyTmFtZTtcblxuICAgICAgICBpZiAoZGF0YS5hc3NpZ25lZFswXSkge1xuICAgICAgICAgIG9iai5jaG1uYW1lID1cbiAgICAgICAgICAgIGAke2RhdGEuYXNzaWduZWRbMF0uZmlyc3RuYW1lfWAgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgYCR7ZGF0YS5hc3NpZ25lZFswXT8ubGFzdG5hbWV9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmouY2htbmFtZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBvYmouY3JlYXRlZERhdGUgPSBuZXcgRGF0ZShkYXRhLmNyZWF0ZWRfYXQgKiAxMDAwKS50b0RhdGVTdHJpbmcoKTtcbiAgICAgICAgcmVzcG9uc2VBcnIucHVzaChvYmopO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJlc3BvbnNlQXJyID0gYXdhaXQgcmV2ZXJzZShyZXNwb25zZUFycik7XG5cbiAgICBmZXRjaFRpY2tldHNSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBkYXRhOiByZXNwb25zZUFyciB9O1xuICAgIHJldHVybiBmZXRjaFRpY2tldHNSZXNwb25zZU9iajtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgZXJyb3IpO1xuICB9XG59O1xuY29uc3QgcmV2ZXJzZSA9IGFzeW5jIChyZXNwb25zZUFycikgPT4ge1xuICBpZiAocmVzcG9uc2VBcnIubGVuZ3RoKSB7XG4gICAgcmVzcG9uc2VBcnIucmV2ZXJzZSgpO1xuICB9IGVsc2Uge1xuICAgIHJlc3BvbnNlQXJyID0gW107XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VBcnI7XG59O1xuY29uc3Qgc3VwcG9ydERhdGEgPSBhc3luYyAoXG4gIGlkLFxuICB1c2VyLFxuICBzdXBwb3J0ZGF0YSxcbiAgc3RhdHVzQXJyLFxuICBzZWFyY2hLZXksXG4gIHNlYXJjaFZhbHVlLFxuICBwYWdlUmVxdWVzdEJvZHlcbikgPT4ge1xuICBsZXQgcmVzO1xuICBsZXQgcmVzZGF0YUFyciA9IFtdO1xuICBpZiAoc3VwcG9ydGRhdGEgJiYgc3VwcG9ydGRhdGEubGVuZ3RoICE9PSAwKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBzdXBwb3J0ZGF0YS5tYXAoYXN5bmMgKHN1cHBvcnRyZXEpID0+IHtcbiAgICAgICAgaWYgKHN0YXR1c0FyciAmJiBzdGF0dXNBcnIubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgc3RhdHVzQXJyLm1hcChhc3luYyAoc3RhdHVzcmVxKSA9PiB7XG4gICAgICAgICAgICByZXMgPSBhd2FpdCBTdXBwb3J0UGFsQmFzZVVzZWNhc2UoKS5nZXRBbGxUaWNrZXRzQmFzZWRPblVzZXIoXG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICBzdXBwb3J0cmVxLFxuICAgICAgICAgICAgICBzdGF0dXNyZXEsXG4gICAgICAgICAgICAgIHNlYXJjaEtleSxcbiAgICAgICAgICAgICAgc2VhcmNoVmFsdWUsXG4gICAgICAgICAgICAgIHBhZ2VSZXF1ZXN0Qm9keVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlcy5kYXRhLm1hcCgocmVzZGF0YSkgPT4ge1xuICAgICAgICAgICAgICByZXNkYXRhQXJyLnB1c2gocmVzZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMgPSBhd2FpdCBTdXBwb3J0UGFsQmFzZVVzZWNhc2UoKS5nZXRBbGxUaWNrZXRzQmFzZWRPblVzZXIoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBzdXBwb3J0cmVxLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHNlYXJjaEtleSxcbiAgICAgICAgICAgIHNlYXJjaFZhbHVlLFxuICAgICAgICAgICAgcGFnZVJlcXVlc3RCb2R5XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMuZGF0YS5tYXAoKHJlc2RhdGEpID0+IHtcbiAgICAgICAgICAgIHJlc2RhdGFBcnIucHVzaChyZXNkYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGlmIChzdGF0dXNBcnIgJiYgc3RhdHVzQXJyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHN0YXR1c0Fyci5tYXAoYXN5bmMgKHN0YXR1c3JlcSkgPT4ge1xuICAgICAgICAgIHJlcyA9IGF3YWl0IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldEFsbFRpY2tldHNCYXNlZE9uVXNlcihcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdGF0dXNyZXEsXG4gICAgICAgICAgICBzZWFyY2hLZXksXG4gICAgICAgICAgICBzZWFyY2hWYWx1ZSxcbiAgICAgICAgICAgIHBhZ2VSZXF1ZXN0Qm9keVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzLmRhdGEubWFwKChyZXNkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXNkYXRhQXJyLnB1c2gocmVzZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMgPSBhd2FpdCBTdXBwb3J0UGFsQmFzZVVzZWNhc2UoKS5nZXRBbGxUaWNrZXRzQmFzZWRPblVzZXIoXG4gICAgICAgIGlkLFxuICAgICAgICB1c2VyLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBzZWFyY2hLZXksXG4gICAgICAgIHNlYXJjaFZhbHVlLFxuICAgICAgICBwYWdlUmVxdWVzdEJvZHlcbiAgICAgICk7XG4gICAgICByZXMuZGF0YS5tYXAoKHJlc2RhdGEpID0+IHtcbiAgICAgICAgcmVzZGF0YUFyci5wdXNoKHJlc2RhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNkYXRhQXJyO1xufTtcbmNvbnN0IGdldHBhZ2VTaXplID0gYXN5bmMgKHBhZ2VzaXplaW5yZXEpID0+IHtcbiAgbGV0IHBhZ2VzaXplO1xuICBpZiAoIXBhZ2VzaXplaW5yZXEpIHtcbiAgICBwYWdlc2l6ZSA9IDUwO1xuICB9IGVsc2Uge1xuICAgIHBhZ2VzaXplID0gcGFnZXNpemVpbnJlcTtcbiAgfVxuICByZXR1cm4gcGFnZXNpemU7XG59O1xuZXhwb3J0IGNvbnN0IGdldFRpY2tldFN0YXR1cyA9IGFzeW5jIChzdGF0dXMpID0+IHtcbiAgY29uc3QgVGlja2V0U3RhdHVzID0gW107XG4gIGlmIChzdGF0dXMpIHtcbiAgICBpZiAoc3RhdHVzID09PSAxKSB7XG4gICAgICBUaWNrZXRTdGF0dXMucHVzaCgxLCAzLCA0LCA1LCA2KTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gMikge1xuICAgICAgVGlja2V0U3RhdHVzLnB1c2goMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkludmFsaWQgc3RhdHVzXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBUaWNrZXRTdGF0dXM7XG59O1xuY29uc3QgZ2V0Q3VzdG9tZXJOYW1lID0gKGRhdGEpID0+IHtcbiAgY29uc3QgZmlyc3RuYW1lID0gZGF0YS51c2VyLmZpcnN0bmFtZSA/IGRhdGEudXNlci5maXJzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgY29uc3QgbGFzdG5hbWUgPSBkYXRhLnVzZXIubGFzdG5hbWUgPyBkYXRhLnVzZXIubGFzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgcmV0dXJuIGAke2ZpcnN0bmFtZSA/IGZpcnN0bmFtZSArIFwiIFwiIDogXCJcIn0ke2xhc3RuYW1lfWA7XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCBTdXBwb3J0UGFsQXBpIGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvc3VwcG9ydHBhbC9TdXBwb3J0UGFsQXBpXCI7XG5pbXBvcnQgeyBTdXBwb3J0UGFsQmFzZVVzZWNhc2UgfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL3N1cHBvcnRwYWxCYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgUHJvamVjdFN0YWdlRW51bVV0aWwgfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0U3RhZ2VFbnVtc1wiXG5cbmV4cG9ydCBjb25zdCB3ZWJIb29rVGlja2V0ID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgd2ViSG9va1Jlc3BvbnNlO1xuXG4gICAgY29uc3QgeyB0aWNrZXRfaWQgfSA9IGFyZ3M7XG5cbiAgICB0cnkge1xuXG4gICAgICAgIGNvbnN0IHVybCA9IFwidGlja2V0L3RpY2tldC9cIiArIHRpY2tldF9pZDtcbiAgICAgICAgY29uc3Qgc3VwcG9ydHBhbGFwaSA9IG5ldyBTdXBwb3J0UGFsQXBpKClcbiAgICAgICAgY29uc3QgZ2V0dGlja2V0czogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5nZXRGcm9tU3VwcG9ydFBhbEFwaSh1cmwpO1xuICAgICAgICBjb25zdCByZXNwb25lID0gZ2V0dGlja2V0cztcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbmUuZGF0YTtcblxuICAgICAgICBjb25zdCBzdXBwb3J0UGFsQ0ZJbmZvID0gU3VwcG9ydFBhbEJhc2VVc2VjYXNlKCkuZ2V0U3VwcG9ydHBhbEN1c3RvbUZpZWxkKCk7XG4gICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IGRhdGEuY3VzdG9tZmllbGRzLmZpbHRlcihmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpdC5maWVsZF9pZCA9PT0gc3VwcG9ydFBhbENGSW5mby5jZl9jbGllbnRpZFBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNlYXJjaFJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgY2htLCBkZXNpZ25lciwgcHJvamVjdG5hbWUsIHRlYW1OYW1lLCBleHBDZW50ZXIsIGRlc2lnbmVyRW1haWw7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRJRCA9IHNlYXJjaFJlc3VsdFswXS52YWx1ZTtcblxuICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3QoeyB3aGVyZTogeyBwcm9qZWN0aWQ6IGNsaWVudElEIH0gfSlcbiAgICAgICAgICAgIGlmIChwcm9qZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3QuZXhwZXJpZW5jZWNlbnRlcmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4cENlbnRlclJlc3VsdCA9IGF3YWl0IGdldEV4cGVyaWVuY2VDZW50ZXJJbmZvKHByb2plY3QuZXhwZXJpZW5jZWNlbnRlcmlkKTtcbiAgICAgICAgICAgICAgICAgICAgZXhwQ2VudGVyID0gZXhwQ2VudGVyUmVzdWx0Lm5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZXhwQ2VudGVyID0gKHN1cHBvcnRQYWxDRkluZm9bZXhwQ2VudGVyXSA9PT0gdW5kZWZpbmVkKSA/ICcnIDogc3VwcG9ydFBhbENGSW5mb1tleHBDZW50ZXJdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0LmRlc2lnbnN0dWRpb2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlYW1SZXN1bHQgPSBhd2FpdCBnZXRUZWFtSW5mbyhwcm9qZWN0LmRlc2lnbnN0dWRpb2lkKTtcbiAgICAgICAgICAgICAgICAgICAgdGVhbU5hbWUgPSB0ZWFtUmVzdWx0Lm5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGVhbU5hbWUgPSAoc3VwcG9ydFBhbENGSW5mb1snVEVBTV8nICsgdGVhbU5hbWVdID09PSB1bmRlZmluZWQpID8gJycgOiBzdXBwb3J0UGFsQ0ZJbmZvWydURUFNXycgKyB0ZWFtTmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0LmRlc2lnbmVyaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzaWduZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogcHJvamVjdC5kZXNpZ25lcmlkIH1cblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2lnbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNpZ25lckVtYWlsID0gZGVzaWduZXIuZGVzaWduY2FmZWVtYWlsO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByb2plY3QuY2htaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2htID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyB1c2VyaWQ6IHByb2plY3QuY2htaWQgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJvamVjdG5hbWUgPSBwcm9qZWN0LnByb2plY3RuYW1lO1xuXG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgbGV0IGNobW5hbWU7XG4gICAgICAgICAgICBsZXQgY2htSWQ7XG4gICAgICAgICAgICBpZiAoY2htKSB7XG4gICAgICAgICAgICAgICAgY2htbmFtZSA9IChgJHtjaG0uZmlyc3RuYW1lfWAgKyAnICcgKyBgJHtjaG0ubGFzdG5hbWV9YCkudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmICghY2htLnN1cHBvcnRwYWxvcGVyYXRvcmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNobS5zdXBwb3J0cGFsb3BlcmF0b3JpZCA9IGF3YWl0IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmdldE9yQWRkT3BlcmF0b3JBbmRSZXR1cm5JZChjaG0uZGVzaWduY2FmZWVtYWlsLCBjaG1uYW1lLCAzKVxuICAgICAgICAgICAgICAgICAgICBjaG1JZCA9IGNobS5zdXBwb3J0cGFsb3BlcmF0b3JpZDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjaG0sIHdoZXJlOiB7IHVzZXJpZDogY2htLnVzZXJpZCB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaG1JZCA9IGNobS5zdXBwb3J0cGFsb3BlcmF0b3JpZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcG9zdFRpY2tldCA9IHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZHRvOiBbY2htSWRdLFxuICAgICAgICAgICAgICAgIGN1c3RvbWZpZWxkOiB7XG4gICAgICAgICAgICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX3Byb2plY3ROYW1lUGtdOiBwcm9qZWN0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gW3N1cHBvcnRQYWxDRkluZm8uY2ZfcHJvamVjdFN0YWdlUGtdOiBjdXJyZW50U3RhZ2UsXG4gICAgICAgICAgICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX3RlYW1fbmFtZV06IHRlYW1OYW1lLFxuICAgICAgICAgICAgICAgICAgICBbc3VwcG9ydFBhbENGSW5mby5jZl9leHBlcmllbmNlQ2VudGVyUGtdOiBleHBDZW50ZXIsXG4gICAgICAgICAgICAgICAgICAgIFtzdXBwb3J0UGFsQ0ZJbmZvLmNmX2Fzc2lnbmVkX2Rlc2lnbmVyXTogZGVzaWduZXJFbWFpbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogcHJvY2Vzcy5lbnYuc3VwcG9ydFBhbERlcGFydG1lbnQsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQT1NUIERBVEE9PT09PScsIHBvc3RUaWNrZXQpO1xuICAgICAgICAgICAgY29uc3QgdGlja2V0czogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS51cGRhdGVUb1N1cHBvcnRQYWxBcGkoXCJ0aWNrZXQvdGlja2V0L1wiICsgdGlja2V0X2lkLCBwb3N0VGlja2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRpY2tldHM7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSRVNQT05TRSBEQVRBPT09PT0nLCByZXMpO1xuICAgICAgICB9XG5cblxuICAgICAgICB3ZWJIb29rUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gd2ViSG9va1Jlc3BvbnNlO1xuXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB3ZWJIb29rUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiB3ZWJIb29rUmVzcG9uc2VcbiAgICB9XG59XG5cbmNvbnN0IGdldEV4cGVyaWVuY2VDZW50ZXJJbmZvID0gYXN5bmMgKGV4cGVyaWVuY2VjZW50ZXJpZCkgPT4ge1xuICAgIHJldHVybiBwcmlzbWEuZGNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZEZpcnN0KHsgd2hlcmU6IHsgY2VudGVyaWQ6IGV4cGVyaWVuY2VjZW50ZXJpZCB9IH0pXG59XG5jb25zdCBnZXRUZWFtSW5mbyA9IGFzeW5jICh0ZWFtaWQpID0+IHtcbiAgICByZXR1cm4gcHJpc21hLmRjX3RlYW1zLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGlkOiB0ZWFtaWQgfSB9KVxufVxuXG5jb25zdCBnZXRDdXJyZW50U3RhZ2UgPSBhc3luYyAocHJvamVjdCkgPT4ge1xuICAgIGxldCBjdXJyZW50U3RhZ2U7XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICAgIGN1cnJlbnRTdGFnZSA9IFwiUHJlIDUlXCJcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwcm9qZWN0LmN1cnJlbnRtaWxlc3RvbmUpIHtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0LmN1cnJlbnRtaWxlc3RvbmUgPT09IFwiSGFuZG92ZXJcIiAmJiBwcm9qZWN0LnByb2plY3RzdGF0dXMudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGFnZSA9IFwiUG9zdCBIYW5kb3ZlclwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RhZ2UgPSBhd2FpdCBQcm9qZWN0U3RhZ2VFbnVtVXRpbC5nZXRDdXJyZW50TWlsZXN0b25lKHByb2plY3QuY3VycmVudG1pbGVzdG9uZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFN0YWdlO1xuXG59XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgcmVwbHlUb1RpY2tldE1lc3NhZ2UgfSBmcm9tIFwiLi4vZGNTdXBwb3J0L011dGF0aW9ucy9yZXBseVRvVGlja2V0TWVzc2FnZVwiXG5pbXBvcnQgeyB1cGRhdGVUaWNrZXRTdGF0dXMgfSBmcm9tIFwiLi4vZGNTdXBwb3J0L011dGF0aW9ucy91cGRhdGVUaWNrZXRTdGF0dXNcIlxuaW1wb3J0IHsgZmV0Y2hUaWNrZXRzIH0gZnJvbSBcIi4vUXVlcmllcy9mZXRjaFRpY2tldHNcIjtcbmltcG9ydCB7IGZldGNoVGlja2V0QnlJZCB9IGZyb20gXCIuL1F1ZXJpZXMvZmV0Y2hUaWNrZXRCeUlkXCI7XG5pbXBvcnQgeyBmZXRjaFRpY2tldE1lc3NhZ2UgfSBmcm9tIFwiLi4vZGNTdXBwb3J0L1F1ZXJpZXMvZmV0Y2hUaWNrZXRNZXNzYWdlXCI7XG5pbXBvcnQgeyB3ZWJIb29rVGlja2V0IH0gZnJvbSBcIi4uL2RjU3VwcG9ydC9RdWVyaWVzL3dlYkhvb2tUaWNrZXRcIjtcblxuZXhwb3J0IGNvbnN0IGRjU3VwcG9ydFJlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGZldGNoVGlja2V0czogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBmZXRjaFRpY2tldHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZmV0Y2hUaWNrZXRCeUlkOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGZldGNoVGlja2V0QnlJZChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBmZXRjaFRpY2tldE1lc3NhZ2U6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZmV0Y2hUaWNrZXRNZXNzYWdlKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHdlYkhvb2tUaWNrZXQ6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgd2ViSG9va1RpY2tldChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICByZXBseVRvVGlja2V0TWVzc2FnZTogKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+IHJlcGx5VG9UaWNrZXRNZXNzYWdlKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZVRpY2tldFN0YXR1czogKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+IHVwZGF0ZVRpY2tldFN0YXR1cyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KVxuICB9LFxuICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlclxufVxuIiwiZXhwb3J0IGNvbnN0IGRjU3VwcG9ydFR5cGVkZWYgPSBgXG4gICBcbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgd2ViSG9va1RpY2tldCh0aWNrZXRfaWQ6IEludCEpOiBXZWJIb29rUmVzcG9uc2VcbiAgICAgICAgZmV0Y2hUaWNrZXRNZXNzYWdlKHRpY2tldF9pZDpJbnQhLG9mZnNldDogSW50LGxpbWl0OiBJbnQpOiBGZXRjaFRpY2tldE1lc3NhZ2VSZXNwb25zZVxuICAgICAgICBmZXRjaFRpY2tldHMoc3RhdHVzOkludCxzZWFyY2hLZXk6IFN0cmluZywgc2VhcmNoVmFsdWU6IFN0cmluZywgcGFnZVNpemU6SW50LHBhZ2VJbmRleDogSW50KTogRmV0Y2hUaWNrZXRSZXNwb25zZVxuICAgICAgICBmZXRjaFRpY2tldEJ5SWQodGlja2V0X2lkOiBJbnQhKTpGZXRjaFRpY2tldEJ5SWRSZXNwb25zZVxuICAgIH1cbiAgICB0eXBlIFdlYkhvb2tSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmcgICAgXG4gICAgfVxuICAgIHR5cGUgRmV0Y2hUaWNrZXRSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTpbSlNPTl0gICBcbiAgICB9XG4gICAgdHlwZSBGZXRjaFRpY2tldEJ5SWRSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBkYXRhOkpTT04gICBcbiAgICB9XG4gICAgdHlwZSBGZXRjaFRpY2tldE1lc3NhZ2VSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGVzY3JpcHRpb246IFN0cmluZ1xuICAgICAgICBjb21tZW50czogW0pTT05dXG4gICAgfVxuICAgIHR5cGUgcmVwbHlUb1RpY2tldE1lc3NhZ2VSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTogSlNPTlxuICAgIH1cblxuICAgIHR5cGUgdXBkYXRlVGlja2V0U3RhdHVzUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6IEpTT05cbiAgICB9XG5cbiAgICB0eXBlIE11dGF0aW9uIHtcbiAgICAgICAgdXBkYXRlVGlja2V0U3RhdHVzKHRpY2tldElkOiBJbnQhXG4gICAgICAgICAgICBzdGF0dXM6IEludCxcbiAgICAgICAgICAgICk6dXBkYXRlVGlja2V0U3RhdHVzUmVzcG9uc2VcblxuICAgICAgICAgICAgcmVwbHlUb1RpY2tldE1lc3NhZ2UodGlja2V0SWQ6IEludCFcbiAgICAgICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICAgICAgYXR0YWNobWVudDogSlNPTlxuICAgICAgICAgICAgKTpyZXBseVRvVGlja2V0TWVzc2FnZVJlc3BvbnNlXG4gICAgfVxuXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBkZWZhdWx0UmVzcG9uc2VPYmogfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIlxuXG5leHBvcnQgY29uc3QgZ2V0QWxsRGVwYXJ0bWVudHMgPSBhc3luYygpID0+IHtcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IGZldGNoZWREZXBhcnRtZW50ID0gYXdhaXQgcHJpc21hLmRjX2RlcGFydG1lbnQuZmluZE1hbnkoKTtcblxuICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDIwMFxuICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZSA9IFwiU3VjY2Vzc1wiXG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5kYXRhID0gZmV0Y2hlZERlcGFydG1lbnRcbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gNDAwXG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gZS5tZXNzYWdlXG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG59XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgZ2V0QWxsRGVwYXJ0bWVudHMgfSBmcm9tIFwiLi9RdWVyaWVzL2dldEFsbERlcGFydG1lbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBkZXBhcnRtZW50UmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0QWxsRGVwYXJ0bWVudHM6YXN5bmMoKT0+IGdldEFsbERlcGFydG1lbnRzKClcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGRlcGFydG1lbnRUeXBlZGVmID0gYFxuICAgIHR5cGUgRGVwYXJ0bWVudHtcbiAgICAgICAgZGVwYXJ0bWVudGlkOkludFxuICAgICAgICBuYW1lOlN0cmluZ1xuICAgICAgICBzdGF0dXM6Qm9vbGVhblxuICAgICAgICBjcmVhdGVfYXQ6RGF0ZVRpbWVcbiAgICAgICAgdXBkYXRlZF9hdDpEYXRlVGltZVxuICAgIH1cblxuICAgIHR5cGUgZ2V0RGVwYXJ0bWVudFJlc3BvbnNle1xuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOlN0cmluZ1xuICAgICAgICBkYXRhOltEZXBhcnRtZW50XVxuICAgIH1cblxuICAgIHR5cGUgUXVlcnkge1xuICAgICAgICBnZXRBbGxEZXBhcnRtZW50czogZ2V0RGVwYXJ0bWVudFJlc3BvbnNlXG4gICAgfVxuXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgY2FsbEV4dGVybmFsQVBJV2l0aFBvc3QsXG4gIHF1ZXJ5Rm9yRmV0Y2hpbmdSZW1pbmRlcnNUZW1wbGF0ZSxcbn0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5pbXBvcnQgeyB0cmlnZ2VyRW1haWxOb3RpZmljYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5cbmVudW0gU3RhZ2VOYW1lIHtcbiAgTUVFVElOR19TQ0hFRFVMRUQgPSBcIk1lZXRpbmcgU2NoZWR1bGVkXCIsXG4gIE1FRVRJTkdfQ09ORklSTUVEID0gXCJNZWV0aW5nIENvbmZpcm1lZFwiLFxuICBDT05WRVJURUQgPSBcIkNvbnZlcnRlZFwiLFxuICBNRUVUSU5HX0RPTkUgPSBcIk1lZXRpbmcgRG9uZVwiLFxuICBQUk9QT1NBTF9TRU5UID0gXCJQcm9wb3NhbCBTZW50XCIsXG4gIEZPTExPV19VUCA9IFwiRm9sbG93IFVwXCIsXG4gIERJU0NVU1NJT04gPSBcIkRpc2N1c3Npb25cIixcbiAgQVdBSVRJTkdfQ0xPU1VSRSA9IFwiQXdhaXRpbmcgQ2xvc3VyZVwiLFxuICBDTE9TRURfV09OID0gXCJDbG9zZWQgV29uXCIsXG4gIENMT1NFRF9MT1NUID0gXCJDbG9zZWQgTG9zdFwiLFxufVxuZW51bSBTbHVnTmFtZSB7XG4gIE5PVElGWUxFQURTVEFHRSA9IFwibm90aWZ5X2xlYWRfc3RhZ2VcIixcbiAgTk9USUZZTEVBRENPTlZFUlRFRCA9IFwibm90aWZ5X2xlYWRfY29udmVydGVkXCIsXG4gIE5PVElGWU9QUE9SVFVOSVRZU1RBR0UgPSBcIm5vdGlmeV9vcHBvcnR1bml0eV9zdGFnZVwiLFxuICBOT1RJRllDTE9TRURXT04gPSBcIm5vdGlmeV9jbG9zZWRfd29uXCIsXG4gIE5PVElGWUNMT1NFRExPU1QgPSBcIm5vdGlmeV9jbG9zZWRfbG9zdFwiLFxufVxuXG5leHBvcnQgY29uc3QgdHJpZ2dlckVtYWlsID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGxlYWRzZmlkLCBzdGFnZW5hbWUsIG9wcG9ydHVuaXR5c2ZpZCB9ID0gYXJncztcbiAgICBsZXQgbGVhZCwgb3Bwb3J0dW5pdHksIGRlc2lnbmVyLCBzdHVkaW9NYW5hZ2VyLCBjYztcbiAgICBsZXQgbGVhZFVybCxvcHBvcnR1bml0eVVybDtcbiAgICBpZiAobGVhZHNmaWQpIHtcbiAgICAgIGxlYWQgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3QoeyB3aGVyZTogeyBzZmlkOiBsZWFkc2ZpZCB9IH0pO1xuICAgICAgaWYgKGxlYWQuZGVzaWduX3VzZXJfX2MpIHtcbiAgICAgICAgZGVzaWduZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgICB3aGVyZTogeyBzYWxlc2ZvcmNldXNlcmlkOiBsZWFkLmRlc2lnbl91c2VyX19jIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGVhZFVybCA9IHByb2Nlc3MuZW52LnVwY29taW5nTGVhZHNVcmwgKyBsZWFkc2ZpZCArIFwiJmxlYWRpZD1cIiArIGxlYWQuaWRcbiAgICB9XG4gICAgaWYgKG9wcG9ydHVuaXR5c2ZpZCkge1xuICAgICAgb3Bwb3J0dW5pdHkgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgc2ZpZDogb3Bwb3J0dW5pdHlzZmlkIH0sXG4gICAgICB9KTtcbiAgICAgIGxlYWQgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3QoeyB3aGVyZTogeyBzZmlkOiBvcHBvcnR1bml0eS5sZWFkX2lkX19jIH0gfSk7XG4gICAgICBpZiAob3Bwb3J0dW5pdHkuZGVzaWduX3VzZXJfX2MpIHtcbiAgICAgICAgZGVzaWduZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgICB3aGVyZTogeyBzYWxlc2ZvcmNldXNlcmlkOiBvcHBvcnR1bml0eS5kZXNpZ25fdXNlcl9fYyB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG9wcG9ydHVuaXR5VXJsID0gcHJvY2Vzcy5lbnYuY29tcGxldGVkTGVhZHNVcmwgKyBvcHBvcnR1bml0eS5sZWFkX2lkX19jICsgXCImb3Bwb3VydHVuaXR5SWQ9XCIgKyBvcHBvcnR1bml0eXNmaWQgKyBcIiZsZWFkaWQ9XCIgKyBsZWFkLmlkXG4gICAgfVxuICAgIGlmIChkZXNpZ25lcikge1xuICAgICAgc3R1ZGlvTWFuYWdlciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcmlkOiBkZXNpZ25lci5yZXBvcnRpbmdtYW5hZ2VyIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHNsdWduYW1lO1xuICAgIHN3aXRjaCAoc3RhZ2VuYW1lKSB7XG4gICAgICBjYXNlIFN0YWdlTmFtZS5NRUVUSU5HX1NDSEVEVUxFRDpcbiAgICAgIGNhc2UgU3RhZ2VOYW1lLk1FRVRJTkdfQ09ORklSTUVEOlxuICAgICAgICBzbHVnbmFtZSA9IFNsdWdOYW1lLk5PVElGWUxFQURTVEFHRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YWdlTmFtZS5DT05WRVJURUQ6XG4gICAgICAgIHNsdWduYW1lID0gU2x1Z05hbWUuTk9USUZZTEVBRENPTlZFUlRFRDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YWdlTmFtZS5NRUVUSU5HX0RPTkU6XG4gICAgICBjYXNlIFN0YWdlTmFtZS5QUk9QT1NBTF9TRU5UOlxuICAgICAgY2FzZSBTdGFnZU5hbWUuRk9MTE9XX1VQOlxuICAgICAgY2FzZSBTdGFnZU5hbWUuRElTQ1VTU0lPTjpcbiAgICAgIGNhc2UgU3RhZ2VOYW1lLkFXQUlUSU5HX0NMT1NVUkU6XG4gICAgICAgIHNsdWduYW1lID0gU2x1Z05hbWUuTk9USUZZT1BQT1JUVU5JVFlTVEFHRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YWdlTmFtZS5DTE9TRURfV09OOlxuICAgICAgICBzbHVnbmFtZSA9IFNsdWdOYW1lLk5PVElGWUNMT1NFRFdPTjtcbiAgICAgICAgY2MgPSBzdHVkaW9NYW5hZ2VyPy5kZXNpZ25jYWZlZW1haWw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGFnZU5hbWUuQ0xPU0VEX0xPU1Q6XG4gICAgICAgIHNsdWduYW1lID0gU2x1Z05hbWUuTk9USUZZQ0xPU0VETE9TVDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGRlc2lnbmVyICYmIGRlc2lnbmVyLmRlc2lnbmNhZmVlbWFpbCkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uVGVtcGxhdGUgPSBhd2FpdCBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdChcbiAgICAgICAgXCJodHRwczovL2Ntcy5kZXNpZ25jYWZlLmNvbS9ncmFwaHFsbVwiLFxuICAgICAgICBxdWVyeUZvckZldGNoaW5nUmVtaW5kZXJzVGVtcGxhdGUoc2x1Z25hbWUpXG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2cobm90aWZpY2F0aW9uVGVtcGxhdGUpO1xuICAgICAgaWYgKG5vdGlmaWNhdGlvblRlbXBsYXRlKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBub3RpZmljYXRpb25UZW1wbGF0ZT8uZGF0YT8ucmVtaW5kZXJzLmRhdGFbMF0uYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZGF0YS5lbWFpbEFjdGl2YXRlKSB7XG4gICAgICAgICAgY29uc3QgdG8gPSBkZXNpZ25lci5kZXNpZ25jYWZlZW1haWw7XG4gICAgICAgICAgY29uc3Qgc3ViamVjdCA9IGRhdGEubGFiZWw7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGRhdGEuZW1haWxfdGVtcGxhdGU7XG4gICAgICAgICAgY29uc3QgZW1haWxDb250ZW50ID0gY29udGVudFxuICAgICAgICAgICAgLnJlcGxhY2UoXCIkRGVzaWduZXJcIiwgZGVzaWduZXI/LmZpcnN0bmFtZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiJGxlYWR1cmxcIiwgbGVhZFVybClcbiAgICAgICAgICAgIC5yZXBsYWNlKFwiJG9wcG9ydHVuaXR5dXJsXCIsIG9wcG9ydHVuaXR5VXJsKVxuICAgICAgICAgICAgLnJlcGxhY2UoXCIkY3VzdG9tZXJcIiwgb3Bwb3J0dW5pdHk/Lm5hbWUpXG4gICAgICAgICAgICAucmVwbGFjZShcIiRvcHBvcnR1bml0eW5hbWVcIiwgb3Bwb3J0dW5pdHk/Lm5hbWUpO1xuXG4gICAgICAgICAgYXdhaXQgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uKHRvLCBzdWJqZWN0LCBlbWFpbENvbnRlbnQsIGNjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5XCIgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIk5vIGRlc2lnbmVyIGZvdW5kIHRvIHNlbmQgZW1haWxcIiB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgdHJpZ2dlckVtYWlsIH0gZnJvbSBcIi4vTXV0YXRpb25zL3RyaWdnZXJFbWFpbEZyb21TRlwiO1xuXG5leHBvcnQgY29uc3QgdHJpZ2VyRW1haWxSZXNvbHZlciA9IHtcbiAgICBNdXRhdGlvbjoge1xuICAgICAgICB0cmlnZ2VyRW1haWw6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgICB0cmlnZ2VyRW1haWwocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgfSxcbiAgICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlcixcbn1cbiIsImV4cG9ydCBjb25zdCB0cmlnZ2VyRW1haWxUeXBlZGVmID0gYFxuXG50eXBlIGVtYWlsUmVzcG9uc2UgeyBcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xufVxuXG50eXBlIE11dGF0aW9uIHtcbiAgICB0cmlnZ2VyRW1haWwobGVhZHNmaWQ6U3RyaW5nLHN0YWdlbmFtZTpTdHJpbmcsb3Bwb3J0dW5pdHlzZmlkOlN0cmluZyk6ZW1haWxSZXNwb25zZVxufVxuXG5zY2FsYXIgRGF0ZVRpbWVcbmA7XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vcHJpc21hQ29uZmlnXCJcblxuZXhwb3J0IGNvbnN0IGFkZEV4cGVyaWVuY2VDZW50ZXIgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqXG5cbiAgY29uc3QgeyBuYW1lLCBvZG9vX2lkLCBjZW50ZXJoZWFkLCBjaXR5LCBlY3R5cGUsIGFkZHJlc3MgfSA9IGFyZ3M7XG4gIHRyeSB7XG5cbiAgICBjb25zdCBFQyA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lLFxuICAgICAgICBvZG9vX2lkLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBlY3R5cGUsXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIGNlbnRlcmhlYWQsXG4gICAgICAgIGNpdHlcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QgZXhwZXJpZW5jZUNlbnRlciA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBjZW50ZXJpZDogRUMuY2VudGVyaWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnM6IHRydWUsXG4gICAgICAgIGNpdGllczogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBsZXQgRXhwZXJpZW5jZUNlbnRlciA9IGF3YWl0IGdldEV4cGVyaWVuY2VDZW50ZXIoZXhwZXJpZW5jZUNlbnRlcik7XG4gICAgRXhwZXJpZW5jZUNlbnRlciA9IEV4cGVyaWVuY2VDZW50ZXIuRGF0YVxuXG4gICAgZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBFeHBlcmllbmNlQ2VudGVyIH1cbiAgICByZXR1cm4gZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIGV4cGVyaWVuY2VDZW50ZXJSZXNwb25zZU9ialxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRXhwZXJpZW5jZUNlbnRlciA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGxldCBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIGNvbnN0IHsgbmFtZSwgY2VudGVyaWQsIG9kb29faWQsIGNlbnRlcmhlYWQsIGNpdHksIGVjdHlwZSwgYWRkcmVzcyB9ID0gYXJncztcbiAgdHJ5IHtcbiAgICBjb25zdCBFQyA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lLFxuICAgICAgICBvZG9vX2lkLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBlY3R5cGUsXG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIGNlbnRlcmhlYWQsXG4gICAgICAgIGNpdHlcbiAgICAgIH0sIHdoZXJlOiB7IGNlbnRlcmlkOiBjZW50ZXJpZCB9XG4gICAgfSk7XG4gICAgY29uc3QgZXhwZXJpZW5jZUNlbnRlciA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBjZW50ZXJpZDogRUMuY2VudGVyaWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnM6IHRydWUsXG4gICAgICAgIGNpdGllczogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBsZXQgRXhwZXJpZW5jZUNlbnRlciA9IGF3YWl0IGdldEV4cGVyaWVuY2VDZW50ZXIoZXhwZXJpZW5jZUNlbnRlcik7XG5cbiAgICBFeHBlcmllbmNlQ2VudGVyID0gRXhwZXJpZW5jZUNlbnRlci5EYXRhXG5cbiAgICBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IEV4cGVyaWVuY2VDZW50ZXIgfVxuICAgIHJldHVybiBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmpcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIGV4cGVyaWVuY2VDZW50ZXJSZXNwb25zZU9ialxuICB9XG59O1xuY29uc3QgZ2V0RXhwZXJpZW5jZUNlbnRlciA9IGFzeW5jIChleHBlcmllbmNlQ2VudGVyKSA9PiB7XG4gIHJldHVybiB7XG4gICAgRGF0YTogZXhwZXJpZW5jZUNlbnRlci5tYXAoKGV4cGVyaWVuY2VjZW50ZXIpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmV4cGVyaWVuY2VjZW50ZXIsXG4gICAgICAgIGNpdHk6IGV4cGVyaWVuY2VjZW50ZXIuY2l0aWVzLFxuICAgICAgICBjZW50ZXJoZWFkOiBleHBlcmllbmNlY2VudGVyLnVzZXJzXG4gICAgICB9O1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi9wcmlzbWFDb25maWdcIlxuXG5leHBvcnQgY29uc3QgZ2V0RXhwZXJpZW5jZUNlbnRlcnMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIHRyeSB7XG5cbiAgICBjb25zdCBleHBlcmllbmNlQ2VudGVycyA9IGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kTWFueSh7XG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNpdGllczogdHJ1ZSxcbiAgICAgICAgdXNlcnM6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgbGV0IEV4cGVyaWVuY2VDZW50ZXJzID0gYXdhaXQgZ2V0RXhwZXJpZW5jZUNlbnRlcihleHBlcmllbmNlQ2VudGVycyk7XG5cbiAgICBFeHBlcmllbmNlQ2VudGVycyA9IEV4cGVyaWVuY2VDZW50ZXJzLkRhdGFcblxuICAgIGV4cGVyaWVuY2VDZW50ZXJSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogRXhwZXJpZW5jZUNlbnRlcnMgfVxuICAgIHJldHVybiBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIH1cbn1cblxuXG5leHBvcnQgY29uc3QgZ2V0RXhwZXJpZW5jZUNlbnRlckJ5SWQgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqO1xuICB0cnkge1xuICAgIGNvbnN0IGV4cGVyaWVuY2VDZW50ZXIgPSBhd2FpdCBwcmlzbWEuZGNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHsgY2VudGVyaWQ6IGFyZ3MuY2VudGVyaWQgfSwgaW5jbHVkZToge1xuICAgICAgICBjaXRpZXM6IHRydWUsXG4gICAgICAgIHVzZXJzOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGxldCBFeHBlcmllbmNlQ2VudGVyID0gYXdhaXQgZ2V0RXhwZXJpZW5jZUNlbnRlcihleHBlcmllbmNlQ2VudGVyKTtcblxuICAgIEV4cGVyaWVuY2VDZW50ZXIgPSBFeHBlcmllbmNlQ2VudGVyLkRhdGFcbiAgICBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IEV4cGVyaWVuY2VDZW50ZXIgfVxuICAgIHJldHVybiBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBleHBlcmllbmNlQ2VudGVyUmVzcG9uc2VPYmo7XG4gIH1cbn07XG5jb25zdCBnZXRFeHBlcmllbmNlQ2VudGVyID0gYXN5bmMgKGV4cGVyaWVuY2VDZW50ZXIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBEYXRhOiBleHBlcmllbmNlQ2VudGVyLm1hcCgoZXhwZXJpZW5jZWNlbnRlcikgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZXhwZXJpZW5jZWNlbnRlcixcbiAgICAgICAgY2l0eTogZXhwZXJpZW5jZWNlbnRlci5jaXRpZXMsXG4gICAgICAgIGNlbnRlcmhlYWQ6IGV4cGVyaWVuY2VjZW50ZXIudXNlcnNcbiAgICAgIH07XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0ZVRpbWVSZXNvbHZlciB9IGZyb20gXCJncmFwaHFsLXNjYWxhcnNcIjtcbmltcG9ydCB7IGdldEV4cGVyaWVuY2VDZW50ZXJzLCBnZXRFeHBlcmllbmNlQ2VudGVyQnlJZCB9IGZyb20gXCIuL3F1ZXJpZXNcIjtcbmltcG9ydCB7IGFkZEV4cGVyaWVuY2VDZW50ZXIsIHVwZGF0ZUV4cGVyaWVuY2VDZW50ZXIgfSBmcm9tIFwiLi9tdXRhdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IGV4cGVyaWVuY2VDZW50ZXJSZXNvbHZlciA9IHtcbiAgUXVlcnk6IHtcbiAgICBhbGxFeHBlcmllbmNlQ2VudGVyczogYXN5bmMgKCkgPT4gZ2V0RXhwZXJpZW5jZUNlbnRlcnMoKSxcbiAgICBnZXRFeHBlcmllbmNlQ2VudGVyQnlJZDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRFeHBlcmllbmNlQ2VudGVyQnlJZChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhZGRFeHBlcmllbmNlQ2VudGVyOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFkZEV4cGVyaWVuY2VDZW50ZXIocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlRXhwZXJpZW5jZUNlbnRlcjogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICB1cGRhdGVFeHBlcmllbmNlQ2VudGVyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlcixcbn07XG4iLCJleHBvcnQgY29uc3QgZXhwZXJpZW5jZUNlbnRlclR5cGVkZWYgPSBgXG4gICAgdHlwZSBFeHBlcmllbmNlQ2VudGVycyB7XG4gICAgICAgIGNlbnRlcmlkOiBJbnRcbiAgICAgICAgbmFtZTpTdHJpbmdcbiAgICAgICAgb2Rvb19pZDpTdHJpbmdcbiAgICAgICAgZWN0eXBlOiBTdHJpbmdcbiAgICAgICAgYWRkcmVzczogU3RyaW5nXG4gICAgICAgIGNpdHk6IENpdGllc1xuICAgICAgICBjZW50ZXJoZWFkOiBVc2Vyc1xuICAgICAgICBjcmVhdGVkX2F0OkRhdGVUaW1lXG4gICAgICAgIHVwZGF0ZWRfYXQ6RGF0ZVRpbWVcbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgYWxsRXhwZXJpZW5jZUNlbnRlcnM6IEV4cGVyaWVuY2VDZW50ZXJSZXNwb25zZVxuICAgICAgICBnZXRFeHBlcmllbmNlQ2VudGVyQnlJZChjZW50ZXJpZDpJbnQpOiBFeHBlcmllbmNlQ2VudGVyUmVzcG9uc2VcbiAgICB9XG4gICAgdHlwZSBFeHBlcmllbmNlQ2VudGVyUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6W0V4cGVyaWVuY2VDZW50ZXJzIV0hXG4gICAgfVxuICAgXG4gICAgdHlwZSBNdXRhdGlvbntcbiAgICAgICAgYWRkRXhwZXJpZW5jZUNlbnRlcihuYW1lOlN0cmluZyxcbiAgICAgICAgICAgIG9kb29faWQ6U3RyaW5nLFxuICAgICAgICAgICAgY2VudGVyaGVhZDpJbnQsXG4gICAgICAgICAgICBjaXR5OiBJbnQsXG4gICAgICAgICAgICBlY3R5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGFkZHJlc3M6IFN0cmluZyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6RGF0ZVRpbWUsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OkRhdGVUaW1lKTogRXhwZXJpZW5jZUNlbnRlclJlc3BvbnNlXG5cbiAgICAgICAgdXBkYXRlRXhwZXJpZW5jZUNlbnRlcihjZW50ZXJpZDogSW50LFxuICAgICAgICAgICAgbmFtZTpTdHJpbmcsXG4gICAgICAgICAgICBvZG9vX2lkOlN0cmluZyxcbiAgICAgICAgICAgIGNlbnRlcmhlYWQ6SW50LFxuICAgICAgICAgICAgY2l0eTogSW50LFxuICAgICAgICAgICAgZWN0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBhZGRyZXNzOiBTdHJpbmcsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OkRhdGVUaW1lLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDpEYXRlVGltZSk6IEV4cGVyaWVuY2VDZW50ZXJSZXNwb25zZVxuICAgIH1cblxuICAgIHNjYWxhciBEYXRlVGltZVxuYFxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCB7IGdldFNtYXJ0U2hlZXRDbGllbnQgfSBmcm9tIFwiLi4vLi4vcHJvamVjdHMvU21hcnRzaGVldC9TbWFydFNoZWV0U2VydmljZXNcIjtcbmltcG9ydCB7IGdldE1pbGVTdG9uZURhdGEgfSBmcm9tIFwiLi4vLi4vcHJvamVjdHMvU21hcnRzaGVldC9RdWVyaWVzL0dldE1pbGVTdG9uZXNEZXRhaWxzXCI7XG5cbmV4cG9ydCBjb25zdCBjYXJkU3RhdHVzID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IGNhcmRTdGF0dXNSZXNwb25zZU9iajtcbiAgbGV0IGlucHV0LFxuICAgIGZsYWdzID0ge30sXG4gICAgdXNlckRldGFpbHMgPSB7fSxcbiAgICBjaG1uYW1lLFxuICAgIGNobWRhdGEsXG4gICAgc2FsZXNtYW5hZ2VyZGV0YWlscyxcbiAgICBwcm9wb3NhbGFjY2VwdCxcbiAgICBwcm9qZWN0ZGV0YWlscyxcbiAgICBwYXltZW50cmVxdWVzdCxcbiAgICBwYXltZW50cmVxdWVzdHN0YXR1cyxcbiAgICBkY2NvZGUsXG4gICAgU21hcnRzaGVldElkLFxuICAgIEN1cnJlbnRTdGF0dXMsXG4gICAgTGFzdFVwZGF0ZWQsXG4gICAgUHJvamVjdFZhbHVlLFxuICAgIFByb2plY3RTdGFydERhdGUsXG4gICAgUHJvamVjdExhc3REYXRlLFxuICAgIG1pbGVzdG9uZXMsXG4gICAgUHJvamVjdFNpZ251cERhdGUsXG4gICAgcGF5bWVudHJlcXVlc3RkYXRhO1xuICB0cnkge1xuICAgIGNvbnN0IGZldGNoZWRVc2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiQ0RcIik7XG4gICAgY29uc3QgY2FyZERldGFpbHMgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IHNmaWQ6IGZldGNoZWRVc2VyLm9wcG9ydHVuaXR5aWQgfSxcbiAgICB9KTtcbiAgICBjb25zdCBsZWFkRGF0YSA9IGF3YWl0IHByaXNtYS5sZWFkLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBtb2JpbGVwaG9uZTogZmV0Y2hlZFVzZXIuY3VzdG9tZXJwaG9uZSB9LFxuICAgIH0pO1xuICAgIGlmIChjYXJkRGV0YWlscyAhPT0gbnVsbCkge1xuICAgICAgc2FsZXNtYW5hZ2VyZGV0YWlscyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHNmaWQ6IGNhcmREZXRhaWxzLm93bmVyaWQgfSxcbiAgICAgIH0pO1xuICAgICAgZGNjb2RlID0gY2FyZERldGFpbHMuY3VzdG9tZXJfaWRfX2M7XG4gICAgfVxuICAgIHByb3Bvc2FsYWNjZXB0ID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBvcHBvcnR1bml0eWlkOiBmZXRjaGVkVXNlci5vcHBvcnR1bml0eWlkIH0sXG4gICAgICBvcmRlckJ5OiB7IGlkOiBcImRlc2NcIiB9LFxuICAgIH0pO1xuICAgIGxldCBwYXltZW50Y291bnQ7XG4gICAgcHJvamVjdGRldGFpbHMgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGZldGNoZWRVc2VyLmN1c3RvbWVyaWQgfSxcbiAgICB9KTtcbiAgICBpZiAocHJvamVjdGRldGFpbHMgIT09IHVuZGVmaW5lZCAmJiBwcm9qZWN0ZGV0YWlscyAhPT0gbnVsbCkge1xuICAgICAgcGF5bWVudHJlcXVlc3QgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlcXVlc3RzLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY2xpZW50aWQ6IHByb2plY3RkZXRhaWxzLnByb2plY3RpZCwgc3RhdHVzOiBcIlBlbmRpbmdcIiB9LFxuICAgICAgfSk7XG4gICAgICBwYXltZW50cmVxdWVzdHN0YXR1cyA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVxdWVzdHMuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgY2xpZW50aWQ6IHByb2plY3RkZXRhaWxzLnByb2plY3RpZCB9LFxuICAgICAgfSk7XG4gICAgICBwYXltZW50Y291bnQgPSBwYXltZW50cmVxdWVzdC5sZW5ndGg7XG4gICAgICBjb25zb2xlLmxvZyhcInJlcXVlc3RzdW1cIiwgcGF5bWVudGNvdW50KTtcbiAgICAgIFNtYXJ0c2hlZXRJZCA9IHByb2plY3RkZXRhaWxzLnNtYXJ0c2hlZXRpZDtcbiAgICAgIEN1cnJlbnRTdGF0dXMgPSBwcm9qZWN0ZGV0YWlscy5jdXJyZW50bWlsZXN0b25lO1xuICAgICAgTGFzdFVwZGF0ZWQgPSBwcm9qZWN0ZGV0YWlscy51cGRhdGVkYXRlO1xuICAgICAgUHJvamVjdFNpZ251cERhdGUgPSBwcm9qZWN0ZGV0YWlscy5zaWdudXBkYXRlO1xuICAgICAgUHJvamVjdFZhbHVlID0gcHJvamVjdGRldGFpbHMudG90YWxwcm9qZWN0dmFsdWU7XG4gICAgICBQcm9qZWN0U3RhcnREYXRlID0gcHJvamVjdGRldGFpbHMuY3JlYXRlZGF0ZTtcbiAgICAgIFByb2plY3RMYXN0RGF0ZSA9IHByb2plY3RkZXRhaWxzLmV4cGVjdGVkaGFuZG92ZXJkYXRlO1xuICAgICAgbWlsZXN0b25lcyA9IHByb2plY3RkZXRhaWxzLm1pbGVzdG9uZXM7XG4gICAgICBpZiAocHJvamVjdGRldGFpbHMuY2htaWQgIT09IG51bGwpIHtcbiAgICAgICAgY2htZGF0YSA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kRmlyc3Qoe1xuICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogcHJvamVjdGRldGFpbHMuY2htaWQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1OYW1lID0gY2htZGF0YS5taWRkbGVuYW1lID8gY2htZGF0YS5taWRkbGVuYW1lIDogXCJcIjtcbiAgICAgICAgY29uc3QgZk5hbWUgPSBjaG1kYXRhLmZpcnN0bmFtZSA/IGNobWRhdGEuZmlyc3RuYW1lIDogXCJcIjtcbiAgICAgICAgY29uc3QgbE5hbWUgPSBjaG1kYXRhLmxhc3RuYW1lID8gY2htZGF0YS5sYXN0bmFtZSA6IFwiXCI7XG4gICAgICAgIGNobW5hbWUgPSBgJHtmTmFtZX0gJHttTmFtZX0gJHtsTmFtZX0gaXMgeW91ciBwcm9qZWN0IGFjY291bnQgbWFuYWdlciwgcGxlYXNlIHJhaXNlIHlvdXIgY29uY2VybiBhbmQgd2Ugd2lsbCBnZXQgaXQgcmVzb2x2ZWQuYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNobW5hbWUgPSBcIlBsZWFzZSByYWlzZSB5b3VyIGNvbmNlcm4gaGVyZSBhbmQgd2Ugd2lsbCBnZXQgaXQgcmVzb2x2ZWQuXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXltZW50cmVxdWVzdHN0YXR1cyAhPT0gbnVsbCAmJiBwYXltZW50cmVxdWVzdHN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYXltZW50cmVxdWVzdGRhdGEgPSBwYXltZW50cmVxdWVzdHN0YXR1cy5zdGF0dXM7XG4gICAgfVxuICAgIGNvbnN0IGJvb2tpbmdmb3Jtc3RhdHVzID0gZmV0Y2hlZFVzZXIuYm9va2luZ2Zvcm1zdGF0dXM7XG4gICAgdXNlckRldGFpbHMgPSB7XG4gICAgICBVc2VyX0RldGFpbHM6IHtcbiAgICAgICAgdXNlck5hbWU6IGAke2ZldGNoZWRVc2VyLmZpcnN0bmFtZX0gJHtmZXRjaGVkVXNlci5sYXN0bmFtZX1gLFxuICAgICAgICBkY2NvZGU6IGRjY29kZSxcbiAgICAgICAgU21hcnRzaGVldF9JZDogU21hcnRzaGVldElkLFxuICAgICAgICBDdXJyZW50U3RhdHVzOiBDdXJyZW50U3RhdHVzLFxuICAgICAgICBMYXN0X1VwZGF0ZWQ6IExhc3RVcGRhdGVkLFxuICAgICAgICBQcm9qZWN0X1ZhbHVlOiBQcm9qZWN0VmFsdWUsXG4gICAgICAgIFByb2plY3RfU3RhcnRfRGF0ZTogUHJvamVjdFN0YXJ0RGF0ZSxcbiAgICAgICAgUHJvamVjdF9MYXN0X0RhdGU6IFByb2plY3RMYXN0RGF0ZSxcbiAgICAgICAgUGF5bWVudF9TdGF0dXM6IHBheW1lbnRyZXF1ZXN0ZGF0YSxcbiAgICAgICAgUHJvamVjdF9TaWdudXBfRGF0ZSA6IFByb2plY3RTaWdudXBEYXRlLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGZsYWdzID0ge1xuICAgICAgTWVldGluZ19TY2hlZHVsZWQ6IFwiTWVldGluZ19TY2hlZHVsZWRcIixcbiAgICAgIFByb3Bvc2FsX1NlbnQ6IFwiUHJvcG9zYWxfU2VudFwiLFxuICAgICAgQWZ0ZXJfUHJvcG9zYWxfaGFzX2JlZW5fYWNjZXB0ZWQ6IFwiQWZ0ZXJfUHJvcG9zYWxfaGFzX2JlZW5fYWNjZXB0ZWRcIixcbiAgICAgIFByb2plY3RfU2lnbnVwX1RpbGxfSGFuZG92ZXJfQ29tcGxldGlvbjpcbiAgICAgICAgXCJQcm9qZWN0X1NpZ251cF9UaWxsX0hhbmRvdmVyX0NvbXBsZXRpb25cIixcbiAgICB9O1xuICAgIGlmIChsZWFkRGF0YSAhPT0gbnVsbCAmJiBsZWFkRGF0YS5zdGF0dXMgPT09IFwiTWVldGluZyBTY2hlZHVsZWRcIikge1xuICAgICAgY29uc3QgZWNBZGRyZXNzID0gYXdhaXQgcHJpc21hLmRjX2V4cGVyaWVuY2VjZW50ZXJzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IG5hbWU6IGxlYWREYXRhLm1lZXRpbmdfdmVudWVfX2MgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbWFuYWdlclBob3RvID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgc2ZpZDogbGVhZERhdGEub3duZXJpZCB9LFxuICAgICAgfSk7XG4gICAgICBpbnB1dCA9IHtcbiAgICAgICAgTWVldGluZ19TY2hlZHVsZWQ6IHtcbiAgICAgICAgICBtZWV0aW5nX3NjaGVkdWxlX2NhcmQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiBsZWFkRGF0YS5zdGF0dXMsXG4gICAgICAgICAgICBtZWV0aW5nX3R5cGVfX2M6IGxlYWREYXRhLm1lZXRpbmdfdHlwZV9fYyxcbiAgICAgICAgICAgIGNyZWF0ZWRkYXRlOiBsZWFkRGF0YS5jcmVhdGVkZGF0ZSxcbiAgICAgICAgICAgIG1lZXRpbmdfdmVudWVfX2M6IGxlYWREYXRhLm1lZXRpbmdfdmVudWVfX2MsXG4gICAgICAgICAgICBFQ19BZGRyZXNzOiBlY0FkZHJlc3MuYWRkcmVzcyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldWlyZW1lbnRfc2NoZWR1bGVfY2FyZDoge1xuICAgICAgICAgICAgdGl0bGU6IFwiTmV4dCBzdGVwISBIZWxwIHVzIGtub3cgeW91IGJldHRlclwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgIFwiWW914oCZcmUgYWxsIHNpZ25lZCB1cCAuIFRpbWUgdG8gZ2V0IHN0dWZmIGRvbmUuIFdoYXTigJlzIE5leHQ/IEhlbHAgdXMgdW5kZXJzdGFuZCB5b3VyIGxpa2VzL2Rpc2xpa2VzIGJ5IGZpbGxpbmcgb3V0IHRoaXMgZm9ybS5cIixcbiAgICAgICAgICAgIENUQTogXCJGaWxsIHRoZSBmb3JtXCIsXG4gICAgICAgICAgICBVUkw6IFwiL3JlcXVpcmVtZW50LWZvcm1cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhbGVzX21hbmFnZXJfY2FyZDoge1xuICAgICAgICAgICAgbmFtZTogbGVhZERhdGEubGVhZF9vd25lcl9uYW1lX19jLFxuICAgICAgICAgICAgbnVtYmVyOiBtYW5hZ2VyUGhvdG8ubW9iaWxlcGhvbmUsXG4gICAgICAgICAgICBlbWFpbDogbGVhZERhdGEubGVhZF9vd25lcl9lbWFpbF9fYyxcbiAgICAgICAgICAgIGF2YXRhcjogbWFuYWdlclBob3RvLmZ1bGxwaG90b3VybCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY2FyZERldGFpbHMgIT09IG51bGwgJiZcbiAgICAgIGNhcmREZXRhaWxzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGNhcmREZXRhaWxzLnN0YWdlbmFtZSA9PT0gXCJQcm9wb3NhbCBTZW50XCIgJiZcbiAgICAgIHByb3Bvc2FsYWNjZXB0ICE9PSBudWxsICYmXG4gICAgICBwcm9wb3NhbGFjY2VwdC5zdGF0dXMudG9Mb3dlckNhc2UoKSAhPT0gXCJhY2NlcHRlZFwiXG4gICAgKSB7XG4gICAgICBpbnB1dCA9IHtcbiAgICAgICAgUHJvcG9zYWxfRGV0YWlsczoge1xuICAgICAgICAgIHByb3Bvc2FsX2NhcmQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlByb3Bvc2FsIFJlY2VpdmVkXCIsXG4gICAgICAgICAgICBwcm9wb3NhbF9zZW50X2RhdGVfX2M6IGNhcmREZXRhaWxzLnByb3Bvc2FsX3NlbnRfZGF0ZV9fYyxcbiAgICAgICAgICAgIHN0YXR1czogcHJvcG9zYWxhY2NlcHQuc3RhdHVzLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJUYWtlIEEgTG9vayAhIFlvdSBzaGFyZWQgeW91ciBob21lIHN0b3J5OiB3ZSBtYWRlIHRoZSBkZXNpZ24hIFZpZXcgdGhlIGRlc2lnbiBwcm9wb3NhbCB0byBhY2NlcHQvcmVqZWN0LiBUZWxsIHVzIHdoYXQgeW91IHRoaW5rP1wiLFxuICAgICAgICAgICAgQ1RBOiBcIlZpZXcgUHJvcG9zYWxcIixcbiAgICAgICAgICAgIFVSTDogXCIvcHJvcG9zYWxcIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNhbGVzX21hbmFnZXJfY2FyZDoge1xuICAgICAgICAgICAgbmFtZTogc2FsZXNtYW5hZ2VyZGV0YWlscy5uYW1lLFxuICAgICAgICAgICAgbnVtYmVyOiBzYWxlc21hbmFnZXJkZXRhaWxzLm1vYmlsZXBob25lLFxuICAgICAgICAgICAgZW1haWw6IHNhbGVzbWFuYWdlcmRldGFpbHMuZW1haWwsXG4gICAgICAgICAgICBhdmF0YXI6IHNhbGVzbWFuYWdlcmRldGFpbHMuZnVsbHBob3RvdXJsLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBib29raW5nZm9ybXN0YXR1cyAhPT0gbnVsbCAmJlxuICAgICAgYm9va2luZ2Zvcm1zdGF0dXMudG9Mb3dlckNhc2UoKSA9PT0gXCJhY2NlcHRlZFwiICYmXG4gICAgICBwYXltZW50cmVxdWVzdGRhdGEgIT09IG51bGwgJiZcbiAgICAgIHBheW1lbnRyZXF1ZXN0ZGF0YS50b0xvd2VyQ2FzZSgpID09PSBcInBhaWRcIlxuICAgICkge1xuICAgICAgaW5wdXQgPSB7XG4gICAgICAgIFByb2plY3RfU2lnbnVwX1RpbGxfSGFuZG92ZXJfQ29tcGxldGlvbjoge1xuICAgICAgICAgIFByb2plY3RfQ2FyZDoge1xuICAgICAgICAgICAgUHJvamVjdF9WYWx1ZTogcHJvamVjdGRldGFpbHMudG90YWxwcm9qZWN0dmFsdWUsXG4gICAgICAgICAgICBTaWdudXBfRGF0ZTogcHJvamVjdGRldGFpbHMuc2lnbnVwZGF0ZSxcbiAgICAgICAgICAgIEhhbmRvdmVyX0RhdGU6IHByb2plY3RkZXRhaWxzLmV4cGVjdGVkaGFuZG92ZXJkYXRlLFxuICAgICAgICAgICAgV2hpY2hfbWlsZXN0b25lX2lzX2FjdGl2ZTogcHJvamVjdGRldGFpbHMuY3VycmVudG1pbGVzdG9uZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8qUGF5bWVudF9DYXJkOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJQYXltZW50IENhcmRcIlxuICAgICAgICAgICAgICAgICAgICB9LCovXG4gICAgICAgICAgQ3VzdG9tZXJfU3VwcG9ydF9DYXJkOiB7XG4gICAgICAgICAgICB0aXRsZTogYE5lZWQgSGVscD8gJHtmZXRjaGVkVXNlci5maXJzdG5hbWV9ICR7ZmV0Y2hlZFVzZXIubGFzdG5hbWV9YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBjaG1uYW1lLFxuICAgICAgICAgICAgQ1RBOiBcIlJhaXNlIHRpY2tldFwiLFxuICAgICAgICAgICAgVVJMOiBcIi9zdXBwb3J0XCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvKlJlZmVycmFsX0NhcmQ6XG4gICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJSZWZlcnJhbCBDYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjpcIkRpZCB5b3Uga25vdyB5b3UgY2FuIG5vdyBwYXkgYSBwYXJ0IG9mIHlvdXIgaG9tZSB0aHJvdWdoIG91ciByZWZlcnJhbCBwcm9ncmFtPyBSRUZFUiAmIFdJTiBhbiBhZGRpdGlvbmFsIGRpc2NvdW50IG9mIFJzIDI1LDAwMCFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIENUQTogXCJSZWZlciBOb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFVSTDogXCIvcmVmZXJyYWxcIlxuICAgICAgICAgICAgICAgICAgICAgfSovXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwcm9wb3NhbGFjY2VwdCAhPT0gbnVsbCAmJlxuICAgICAgcHJvcG9zYWxhY2NlcHQuc3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09IFwiYWNjZXB0ZWRcIlxuICAgICkge1xuICAgICAgaWYgKHBheW1lbnRyZXF1ZXN0ICE9PSBudWxsICYmIHBheW1lbnRyZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5wdXQgPSB7XG4gICAgICAgICAgQWZ0ZXJfUHJvcG9zYWxfaGFzX2JlZW5fYWNjZXB0ZWQ6IHtcbiAgICAgICAgICAgIGZpdmVfcGVyY2VudF9wYXltZW50X2NhcmQ6IHt9LFxuICAgICAgICAgICAgQm9va2luZ19Gb3JtX0NhcmQ6IHt9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGxldCBwYXltZW50ID0ge307XG4gICAgICAgIGxldCBib29raW5nRm9ybSA9IHt9O1xuICAgICAgICBpZiAocGF5bWVudGNvdW50ID4gMCAmJiBwYXltZW50Y291bnQgPCAyKSB7XG4gICAgICAgICAgcGF5bWVudCA9IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIjUlIHBheW1lbnQgY2FyZFwiLFxuICAgICAgICAgICAgZGF0ZV9hbl90aW1lX29mX3JlcXVlc3Q6IHBheW1lbnRyZXF1ZXN0WzBdLmludm9pY2VkYXRlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBXZSByZXF1ZXN0IHlvdSB0byBtYWtlIHlvdXIgIDUlIHBheW1lbnQgXG4gICAgICAgICAgICBmb3IgdXMgdG8gZ2V0IHN0YXJ0ZWQgb24geW91ciBkZXNpZ24gcHJvY2VzcyFgLFxuICAgICAgICAgICAgc3RhdHVzOiBwYXltZW50cmVxdWVzdFswXS5zdGF0dXMudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIENUQTogXCJQYXkgUnMuXCIgKyBwYXltZW50cmVxdWVzdFswXS5yZXF1ZXN0YW1vdW50LFxuICAgICAgICAgICAgVVJMOiBcIi9wYXltZW50XCIsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bWVudGNvdW50ID4gMCAmJiBwYXltZW50Y291bnQgPD0gMikge1xuICAgICAgICAgIGxldCBzdW1BbW91bnQgPSAwLjA7XG4gICAgICAgICAgcGF5bWVudHJlcXVlc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgc3VtQW1vdW50ICs9IGl0ZW0ucmVxdWVzdGFtb3VudDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwYXltZW50ID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiNSUgcGF5bWVudCBjYXJkXCIsXG4gICAgICAgICAgICBkYXRlX2FuX3RpbWVfb2ZfcmVxdWVzdDogcGF5bWVudHJlcXVlc3RbMF0uaW52b2ljZWRhdGUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICAgXCJXZSByZXF1ZXN0IHlvdSB0byBtYWtlIHlvdXIgIDUlIHBheW1lbnQgZm9yIHVzIHRvIGdldCBzdGFydGVkIG9uIHlvdXIgZGVzaWduIHByb2Nlc3MhXCIsXG4gICAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgICAgQ1RBOiBcIlBheSDigrlcIiArIHN1bUFtb3VudCxcbiAgICAgICAgICAgIFVSTDogXCIvcGF5bWVudFwiLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZldGNoZWRVc2VyLmJvb2tpbmdmb3Jtc3RhdHVzICE9PSBudWxsICYmXG4gICAgICAgICAgZmV0Y2hlZFVzZXIuYm9va2luZ2Zvcm1zdGF0dXMudG9Mb3dlckNhc2UoKSAhPT0gXCJhY2NlcHRlZFwiXG4gICAgICAgICkge1xuICAgICAgICAgIGJvb2tpbmdGb3JtID0ge1xuICAgICAgICAgICAgdGl0bGU6IFwiQm9va2luZyBGb3JtIENhcmRcIixcbiAgICAgICAgICAgIHN0YXR1czogZmV0Y2hlZFVzZXIuYm9va2luZ2Zvcm1zdGF0dXMudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkFyZSB5b3UgYWxsIHNldCB0byBzdGFydCB0aGUgcHJvamVjdCB3aXRoIHVzP1wiLFxuICAgICAgICAgICAgQ1RBOiBcIlJldmlldyAmIFNpZ24gdGhlIEJvb2tpbmcgRm9ybVwiLFxuICAgICAgICAgICAgVVJMOiBcIi9ib29raW5nLWZvcm1cIixcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlucHV0LkFmdGVyX1Byb3Bvc2FsX2hhc19iZWVuX2FjY2VwdGVkLmZpdmVfcGVyY2VudF9wYXltZW50X2NhcmQgPVxuICAgICAgICAgIHBheW1lbnQ7XG4gICAgICAgIGlucHV0LkFmdGVyX1Byb3Bvc2FsX2hhc19iZWVuX2FjY2VwdGVkLkJvb2tpbmdfRm9ybV9DYXJkID0gYm9va2luZ0Zvcm07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dCA9IHtcbiAgICAgICAgICBQcmVzYWxlc19Ob19DYXJkOiB7XG4gICAgICAgICAgICBpbmZvcm1hdGlvbjoge1xuICAgICAgICAgICAgICB0aXRsZTogXCJJbmZvcm1hdGlvblwiLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYFlvdXIgc2lkZSBvZiB0aGUgYWN0aW9ucy9hY3Rpdml0aWVzIGFyZSBkb25lLiBOZXh0IHVwLCAke3NhbGVzbWFuYWdlcmRldGFpbHMubmFtZX0gd2lsbCByZWFjaCBvdXQgdG8geW91IHdpdGggdGhlIDUlIFBheW1lbnQgcmVxdWVzdCBmb2xsb3dpbmcgdGhlIEJvb2tpbmcgRm9ybS4gSW4gY2FzZSB0aGVyZSBpcyBhIGRlbGF5LCB1c2UgdGhlIGNhbGwgYnV0dG9uIGJlbG93IHRvIHNwZWFrIHRvICR7c2FsZXNtYW5hZ2VyZGV0YWlscy5uYW1lfWAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2FsZXNfbWFuYWdlcl9jYXJkOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHNhbGVzbWFuYWdlcmRldGFpbHMubmFtZSxcbiAgICAgICAgICAgICAgbnVtYmVyOiBzYWxlc21hbmFnZXJkZXRhaWxzLm1vYmlsZXBob25lLFxuICAgICAgICAgICAgICBlbWFpbDogc2FsZXNtYW5hZ2VyZGV0YWlscy5lbWFpbCxcbiAgICAgICAgICAgICAgYXZhdGFyOiBzYWxlc21hbmFnZXJkZXRhaWxzLmZ1bGxwaG90b3VybCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQgPSB7XG4gICAgICAgIEluZm9ybWF0aW9uOiB7XG4gICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICBcIlRoZSBkYXNoYm9hcmQgaXMgY3VycmVudGx5IGJlaW5nIHVwZGF0ZWQgYnkgdGhlIHRlYW0sIFBsZWFzZSBsb2dpbiBhZnRlciBzb21ldGltZS5cIixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPT0ge30pIHtcbiAgICAgIGNhcmRTdGF0dXNSZXNwb25zZU9iaiA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci51cGRhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2FyZHN0YWdlOiBpbnB1dCxcbiAgICAgICAgfSxcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBjdXN0b21lcmlkOiBmZXRjaGVkVXNlci5jdXN0b21lcmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBtaWxlc3RvbmVkYXRhO1xuICAgIGNvbnN0IHR5cGUgPSBcImhvbWVcIjtcbiAgICBpZiAoU21hcnRzaGVldElkICE9PSB1bmRlZmluZWQgJiYgU21hcnRzaGVldElkICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHNtYXJ0Q2xpZW50LnNoZWV0cy5nZXRTaGVldCh7IGlkOiBTbWFydHNoZWV0SWQgfSk7XG5cbiAgICAgIG1pbGVzdG9uZWRhdGEgPSBnZXRNaWxlU3RvbmVEYXRhKHNoZWV0RGF0YSwgbWlsZXN0b25lcywgdHlwZSk7XG4gICAgfVxuICAgIGNhcmRTdGF0dXNSZXNwb25zZU9iaiA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5IGZldGNoZWQgY2FyZCBkZXRhaWxzXCIsXG4gICAgICB1c2VyRGV0YWlsczogdXNlckRldGFpbHMsXG4gICAgICBmbGFnczogZmxhZ3MsXG4gICAgICBkYXRhOiBpbnB1dCxcbiAgICAgIGR5bmFtaWNfQ2FyZDogbWlsZXN0b25lZGF0YSxcbiAgICB9O1xuICAgIHJldHVybiBjYXJkU3RhdHVzUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY2FyZFN0YXR1c1Jlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICByZXR1cm4gY2FyZFN0YXR1c1Jlc3BvbnNlT2JqO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgY2FyZFN0YXR1cyB9IGZyb20gXCIuL011dGF0aW9uL211dGF0aW9uXCI7XG5pbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuXG5leHBvcnQgY29uc3QgaG9tZXNjcmVlbldnaWRnZXRSZXNvbHZlciA9IHtcbiAgICBNdXRhdGlvbjoge1xuICAgICAgY2FyZFN0YXR1czogKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+IGNhcmRTdGF0dXMocGFyZW50LCBfYXJncywgY29udGV4dClcbiAgICB9LFxuICAgIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyXG4gIH1cbiIsImV4cG9ydCBjb25zdCBob21lc2NyZWVuV2lkZ2V0VHlwZWRlZiA9IGBcblxudHlwZSBjYXJkRGV0YWlscyB7XG4gICAgaWQgOiBTdHJpbmchXG4gICAgY2FyZHN0YWdlIDogSlNPTlxufVxudHlwZSBjYXJkU3RhdHVzUmVzcG9uc2VPYmoge1xuICAgIGNvZGUgOiBJbnQsXG4gICAgbWVzc2FnZSA6IFN0cmluZ1xuICAgIHVzZXJEZXRhaWxzIDogSlNPTlxuICAgIGZsYWdzIDogSlNPTlxuICAgIGRhdGE6IEpTT05cbiAgICBkeW5hbWljX0NhcmQ6IEpTT05cbn1cbnR5cGUgTXV0YXRpb257XG4gICAgY2FyZFN0YXR1cyA6IGNhcmRTdGF0dXNSZXNwb25zZU9ialxufVxuc2NhbGFyIERhdGVUaW1lXG5gXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBMZWFkc1Jlc3BvbnNlIH0gZnJvbSBcIi4uL0xlYWRzUmVzcG9uc2VJbnRlcmZhY2VcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5cbmNvbnN0IGdldExlYWREZXRhaWxzRnJvbUlkID0gYXN5bmMgKGxlYWRTZklkKSA9PiB7XG4gIGlmIChsZWFkU2ZJZCkge1xuICAgIHJldHVybiBwcmlzbWEubGVhZC5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgc2ZpZDogbGVhZFNmSWQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgdXBkYXRlQnJvYWRDYXN0ZWRMZWFkcyA9IGFzeW5jIChkYXRhVG9CZVVwZGF0ZWQsIGxlYWRTZklkKSA9PiB7XG4gIGNvbnNvbGUubG9nKGRhdGFUb0JlVXBkYXRlZCwgbGVhZFNmSWQpO1xuICByZXR1cm4gcHJpc21hLmxlYWQudXBkYXRlKHtcbiAgICBkYXRhOiBkYXRhVG9CZVVwZGF0ZWQsXG4gICAgd2hlcmU6IHsgc2ZpZDogbGVhZFNmSWQgfSxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgYWNjZXB0UmVqZWN0TGVhZHMgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IGFjY2VwdFJlamVjdFJlc3BvbnNlOiBMZWFkc1Jlc3BvbnNlID0ge1xuICAgIGNvZGU6IDIwMCxcbiAgICBtZXNzYWdlOiBudWxsLFxuICAgIGRhdGE6IG51bGwsXG4gIH07XG4gIHRyeSB7XG4gICAgY29uc3QgeyBpc0FjY2VwdCwgbGVhZFNmSWQgfSA9IGFyZ3M7XG4gICAgY29uc3QgZmV0Y2hlZFVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiRERcIik7XG4gICAgaWYgKGZldGNoZWRVc2VyKSB7XG4gICAgICBjb25zdCBsZWFkRmV0Y2hlZEJ5U2ZJZCA9IGF3YWl0IGdldExlYWREZXRhaWxzRnJvbUlkKGxlYWRTZklkKTtcblxuICAgICAgaWYgKGxlYWRGZXRjaGVkQnlTZklkKSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBmZXRjaGVkVXNlcjtcbiAgICAgICAgY29uc3QgYWNjZXB0UmVqZWN0UmVzdWx0ID0gYXdhaXQgaGFubGRlQWNjZXB0UmVqZWN0QnlEZXNpZ25lcnMoXG4gICAgICAgICAgaXNBY2NlcHQsXG4gICAgICAgICAgdXNlcixcbiAgICAgICAgICBsZWFkU2ZJZCxcbiAgICAgICAgICBsZWFkRmV0Y2hlZEJ5U2ZJZFxuICAgICAgICApO1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gMjAwO1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5tZXNzYWdlID0gYWNjZXB0UmVqZWN0UmVzdWx0Lm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5tZXNzYWdlID0gXCJMZWFkIFNhbGVzZm9yY2UgSWQgaXMgbm90IHZhbGlkXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5tZXNzYWdlID0gXCJObyBVc2VyIGZvdW5kIHdpdGggZ2l2ZW4gaWRcIjtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gYWNjZXB0UmVqZWN0UmVzcG9uc2U7XG59O1xuXG5jb25zdCBoYW5sZGVBY2NlcHRSZWplY3RCeURlc2lnbmVycyA9IGFzeW5jIChcbiAgaXNBY2NlcHQsXG4gIHVzZXIsXG4gIGxlYWRTZklkLFxuICBsZWFkRmV0Y2hlZEJ5U2ZJZFxuKSA9PiB7XG4gIGNvbnN0IGFjY2VwdFJlamVjdFJlc3BvbnNlOiBMZWFkc1Jlc3BvbnNlID0ge1xuICAgIGNvZGU6IDIwMCxcbiAgICBtZXNzYWdlOiBudWxsLFxuICAgIGRhdGE6IG51bGwsXG4gIH07XG4gIGlmIChpc0FjY2VwdCkge1xuICAgIGNvbnNvbGUubG9nKDc1NzU3NSk7XG4gICAgaWYgKCFsZWFkRmV0Y2hlZEJ5U2ZJZC5kZXNpZ25fdXNlcl9fYykge1xuICAgICAgYWNjZXB0UmVqZWN0UmVzcG9uc2UuZGF0YSA9IGF3YWl0IHVwZGF0ZUJyb2FkQ2FzdGVkTGVhZHMoXG4gICAgICAgIHtcbiAgICAgICAgICBicm9hZGNhc3Rfc3RhdHVzX19jOiBcIjFcIixcbiAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogdXNlci5zYWxlc2ZvcmNldXNlcmlkLFxuICAgICAgICAgIGhhc19kZXNpZ25lcl9hY2NlcHRlZF9fYzogXCJEZXNpZ25lciBBY2NlcHRlZFwiLFxuICAgICAgICB9LFxuICAgICAgICBsZWFkU2ZJZFxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKDg1LCBhY2NlcHRSZWplY3RSZXNwb25zZS5kYXRhKTtcbiAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBgTGVhZCAke2xlYWRGZXRjaGVkQnlTZklkLm5hbWV9IGFjY2VwdGVkIHN1Y2Nlc3NmdWxseWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBcImRlc2lnbmVyIGlzIGFscmVhZHkgYXNzaWduZWRcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxlYWRGZXRjaGVkQnlTZklkLmJyb2FkY2FzdF9zdGF0dXNfX2MgPT09IFwiMFwiKSB7XG4gICAgICBjb25zdCBsZWFkUmVqZWN0ZWRCeSA9IGxlYWRGZXRjaGVkQnlTZklkLnJlamVjdGVkX2J5X19jO1xuICAgICAgY29uc3QgbGVhZFJlamVjdGVkQnlBcnIgPSBsZWFkUmVqZWN0ZWRCeSA/IGxlYWRSZWplY3RlZEJ5LnNwbGl0KFwiLFwiKSA6IFtdO1xuICAgICAgaWYgKCFsZWFkUmVqZWN0ZWRCeUFyci5pbmNsdWRlcyh1c2VyLnVzZXJpZCkpIHtcbiAgICAgICAgbGVhZFJlamVjdGVkQnlBcnIucHVzaCh1c2VyLnVzZXJpZCk7XG4gICAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLmRhdGEgPSBhd2FpdCB1cGRhdGVCcm9hZENhc3RlZExlYWRzKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhhc19kZXNpZ25lcl9hY2NlcHRlZF9fYzogXCJEZXNpZ25lciBSZWplY3RlZFwiLFxuICAgICAgICAgICAgcmVqZWN0ZWRfYnlfX2M6IGxlYWRSZWplY3RlZEJ5QXJyLnRvU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZWFkU2ZJZFxuICAgICAgICApO1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5tZXNzYWdlID0gYExlYWQgJHtsZWFkRmV0Y2hlZEJ5U2ZJZC5uYW1lfSByZWplY3RlZCBieSB0aGUgZGVzaWduZXIseW91ciBzdHVkaW8gbWFuYWdlciBoYXMgYmVlbiBub3RpZmllZGA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhY2NlcHRSZWplY3RSZXNwb25zZTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCB7IGdldFVzZXIgfSBmcm9tIFwiLi4vLi4vdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcbmltcG9ydCB7IExlYWRzUmVzcG9uc2UgfSBmcm9tIFwiLi4vTGVhZHNSZXNwb25zZUludGVyZmFjZVwiO1xuXG5leHBvcnQgY29uc3QgYXNzaWduRGVzaWdlclRvTGVhZHMgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpID0+e1xuICBsZXQgYWNjZXB0UmVqZWN0UmVzcG9uc2UgOiBMZWFkc1Jlc3BvbnNlID0ge2NvZGU6MjAwLG1lc3NhZ2U6bnVsbCxkYXRhOm51bGx9XG4gIHRyeXtcbiAgICBjb25zdCB7dXNlcklkLGxlYWRTZklkLGRlc2lnbmVyVG9CZUFzc2lnbmVkfSA9IGFyZ3NcbiAgICBpZih1c2VySWQpe1xuICAgICAgICAvKioqKkZldGNoIHRoZSBkZXRhaWxzIG9mIHRoZSB1c2VyIGJhc2VkIG9uIHRoZSBJRCAqKioqKi9cbiAgICAgICAgLyoqKipUTyBETyA6LS0gR2V0IFVzZXIgSUQgZnJvbSBMb2dpbiBUb2tlbioqKioqL1xuICAgICAgICBjb25zdCBmZXRjaGVkVXNlciA9IGF3YWl0IGdldFVzZXIodXNlcklkKTtcbiAgICAgICAgaWYoZmV0Y2hlZFVzZXIubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICBjb25zdCBsZWFkRmV0Y2hlZEJ5U2ZJZCA9ICBhd2FpdCBnZXRMZWFkRGV0YWlsc0Zyb21JZChsZWFkU2ZJZCk7XG5cbiAgICAgICAgICAgIGlmKGxlYWRGZXRjaGVkQnlTZklkKXtcbiAgICAgICAgICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZSA9IGF3YWl0IGhhbmRsZUFjY2VwdEJ5U3R1ZGlvTWFuYWdlcnNPckFkbWlucyhkZXNpZ25lclRvQmVBc3NpZ25lZCxsZWFkU2ZJZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgYWNjZXB0UmVqZWN0UmVzcG9uc2UuY29kZSA9IDQwMFxuICAgICAgICAgICAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBcIkxlYWQgU2FsZXNmb3JjZSBJZCBpcyBub3QgdmFsaWRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYWNjZXB0UmVqZWN0UmVzcG9uc2UuY29kZSA9IDQwMFxuICAgICAgICAgICAgYWNjZXB0UmVqZWN0UmVzcG9uc2UubWVzc2FnZSA9IFwiTm8gVXNlciBmb3VuZCB3aXRoIGdpdmVuIGlkXCJcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gNDAwXG4gICAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBcIk5vIFVzZXIgSWQgUHJvdmlkZWRcIlxuICAgIH1cbiAgfVxuICBjYXRjaChlKXtcbiAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gIH1cblxuICByZXR1cm4gYWNjZXB0UmVqZWN0UmVzcG9uc2U7XG59XG5cblxuXG5jb25zdCBoYW5kbGVBY2NlcHRCeVN0dWRpb01hbmFnZXJzT3JBZG1pbnMgPSBhc3luYyhkZXNpZ25lclRvQmVBc3NpZ25lZCxsZWFkU2ZJZCkgPT57XG4gICAgY29uc3QgYWNjZXB0UmVqZWN0UmVzcG9uc2UgOiBMZWFkc1Jlc3BvbnNlID0ge2NvZGU6MjAwLG1lc3NhZ2U6bnVsbCxkYXRhOm51bGx9XG5cbiAgICBpZihkZXNpZ25lclRvQmVBc3NpZ25lZCB8fCBkZXNpZ25lclRvQmVBc3NpZ25lZD8ubGVuZ3RoID4gMCl7XG4gICAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLmRhdGEgPSBhd2FpdCB1cGRhdGVCcm9hZENhc3RlZExlYWRzKHtcbiAgICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6MyxcbiAgICAgICAgICAgIGRlc2lnbl91c2VyX19jOmRlc2lnbmVyVG9CZUFzc2lnbmVkLFxuICAgICAgICAgICAgaGFzX2Rlc2lnbmVyX2FjY2VwdGVkX19jOlwiRGVzaWduZXIgQXNzaWduZWQsIEFjY2VwdGFuY2UgUGVuZGluZ1wiXG4gICAgICAgIH0sbGVhZFNmSWQpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBhY2NlcHRSZWplY3RSZXNwb25zZS5jb2RlID0gNDAwXG4gICAgICAgIGFjY2VwdFJlamVjdFJlc3BvbnNlLm1lc3NhZ2UgPSBcIkludmFsaWQgRGVzaWduZXIgSWQgUHJvdmlkZWRcIlxuICAgIH1cblxuICAgIHJldHVybiBhY2NlcHRSZWplY3RSZXNwb25zZTtcbn1cblxuY29uc3QgZ2V0TGVhZERldGFpbHNGcm9tSWQgPSBhc3luYyhsZWFkU2ZJZCkgPT57XG4gICAgaWYobGVhZFNmSWQpe1xuICAgICAgICByZXR1cm4gcHJpc21hLmxlYWQuZmluZEZpcnN0KHtcbiAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICBzZmlkOmxlYWRTZklkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiBudWxsXG59XG5cbmNvbnN0IHVwZGF0ZUJyb2FkQ2FzdGVkTGVhZHMgPSBhc3luYyhkYXRhVG9CZVVwZGF0ZWQsbGVhZFNmSWQpPT57XG4gICAgY29uc29sZS5sb2coZGF0YVRvQmVVcGRhdGVkLGxlYWRTZklkKTtcbiAgICAgcmV0dXJuIHByaXNtYS5sZWFkLnVwZGF0ZSh7XG4gICAgICAgIGRhdGE6ZGF0YVRvQmVVcGRhdGVkLFxuICAgICAgICB3aGVyZTp7c2ZpZDpsZWFkU2ZJZH0sXG4gICAgfSlcbn1cblxuXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQge1xuICBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdCxcbiAgcXVlcnlGb3JGZXRjaGluZ1JlbWluZGVyc1RlbXBsYXRlLFxufSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcbmltcG9ydCBzdXBlcmFnZW50IGZyb20gXCJzdXBlcmFnZW50XCI7XG5cbmV4cG9ydCBjb25zdCBhc3NpZ25UZWFtVG9MZWFkID0gYXN5bmMgKF9wYXJlbnQsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IGFzc2lnblRlYW1SZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBudWxsLCBkYXRhOiBudWxsIH07XG4gIGNvbnN0IHsgbGVhZElkIH0gPSBhcmdzO1xuICBjb25zdCB0ZWFtcyA9IFtdO1xuICBjb25zdCBmZXRjaGVkTGVhZHMgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7XG4gICAgICBzZmlkOiBsZWFkSWQsXG4gICAgfSxcbiAgfSk7XG4gIGlmIChcbiAgICBmZXRjaGVkTGVhZHMuc3RhdHVzID09PSBcIk1lZXRpbmcgU2NoZWR1bGVkXCIgfHxcbiAgICBmZXRjaGVkTGVhZHMuc3RhdHVzID09PSBcIk1lZXRpbmcgQ29uZmlybWVkXCJcbiAgKSB7XG4gICAgaWYgKCFmZXRjaGVkTGVhZHMuZGVzaWduX3VzZXJfX2MgJiYgIWZldGNoZWRMZWFkcy5kZXNpZ25lcl90ZWFtX25hbWVfX2MpIHtcbiAgICAgIGlmIChmZXRjaGVkTGVhZHM/Lm1lZXRpbmdfdmVudWVfX2MpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hlZEV4cGVyaWVuY2VDZW50ZXIgPVxuICAgICAgICAgIGF3YWl0IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgbmFtZTogZmV0Y2hlZExlYWRzPy5tZWV0aW5nX3ZlbnVlX19jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZmV0Y2hlZEV4cGVyaWVuY2VDZW50ZXIpIHtcbiAgICAgICAgICBjb25zdCBleHBlcmllbmNlQ2VudGVySWQgPSBmZXRjaGVkRXhwZXJpZW5jZUNlbnRlci5jZW50ZXJpZDtcbiAgICAgICAgICBjb25zdCBmZXRjaGVkQXNzaWduZWRUZWFtc0lkVG9FeHBlcmllbmNjZW50ZXIgPVxuICAgICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3RlYW1zX2V4cGVyaWVuY2VjZW50ZXJzLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgd2hlcmU6IHsgY2VudGVyaWQ6IGV4cGVyaWVuY2VDZW50ZXJJZCB9LFxuICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgdGVhbTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGZldGNoZWRBc3NpZ25lZFRlYW1zSWRUb0V4cGVyaWVuY2NlbnRlcj8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZmV0Y2hlZEFzc2lnbmVkVGVhbXNJZFRvRXhwZXJpZW5jY2VudGVyLmZvckVhY2goKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgdGVhbXMucHVzaCh0ZWFtLnRlYW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJvdW5kUm9iaW5EYXRhID0gYXdhaXQgcHJpc21hLmRjX3JvdW5kcm9iaW4uZmluZEZpcnN0KHtcbiAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBleHBlcmllbmNlY2VudGVyaWQ6IGV4cGVyaWVuY2VDZW50ZXJJZCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdGVhbU5hbWVBc3NpZ25lZFRvTGVhZCA9IGF3YWl0IHJvdW5kUm9iaW5Mb2dpYyhcbiAgICAgICAgICAgICAgcm91bmRSb2JpbkRhdGEsXG4gICAgICAgICAgICAgIHRlYW1zLFxuICAgICAgICAgICAgICBleHBlcmllbmNlQ2VudGVySWQsXG4gICAgICAgICAgICAgIGxlYWRJZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGFzc2lnblRlYW1SZXNwb25zZS5tZXNzYWdlID0gYExlYWQgU3VjY2Vzc2Z1bGx5IGFzc2lnbmVkIHRvICR7dGVhbU5hbWVBc3NpZ25lZFRvTGVhZH1gO1xuICAgICAgICAgICAgY29uc3QgdGVhbXdoYXRzYXBwID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zLmZpbmRGaXJzdCh7IHdoZXJlOiB7IG5hbWU6IHRlYW1OYW1lQXNzaWduZWRUb0xlYWQgfSB9KVxuICAgICAgICAgICAgYXdhaXQgY2FsbHdoYXRzYXBwbm90aWZpY2F0aW9uKHRlYW13aGF0c2FwcCwgbGVhZElkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduVGVhbVJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgICAgICBhc3NpZ25UZWFtUmVzcG9uc2UubWVzc2FnZSA9XG4gICAgICAgICAgICAgIFwiTm8gVGVhbXMgZm91bmQgZm9yIHRoaXMgcGFydGljdWxhciBleHBlcmllbmNlIGNlbnRlclwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25UZWFtUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgICBhc3NpZ25UZWFtUmVzcG9uc2UubWVzc2FnZSA9XG4gICAgICAgICAgICBcIk5vIEV4cGVyaWVuY2UgY2VudGVyIGFzc2lnbmVkIHRvIHRoaXMgbGVhZFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NpZ25UZWFtUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgYXNzaWduVGVhbVJlc3BvbnNlLm1lc3NhZ2UgPSBcIkxlYWQgTm90IEZvdW5kXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblRlYW1SZXNwb25zZS5jb2RlID0gMjAwO1xuICAgICAgYXNzaWduVGVhbVJlc3BvbnNlLm1lc3NhZ2UgPSBcIkxlYWQgYWxyZWFkeSBCcm9hZGNhc3RlZFwiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhc3NpZ25UZWFtUmVzcG9uc2UuY29kZSA9IDIwMDtcbiAgICBhc3NpZ25UZWFtUmVzcG9uc2UubWVzc2FnZSA9IFwiTGVhZCBpcyBub3QgTWVldGluZyBTY2hlZHVsZWQgc3RhZ2VcIjtcbiAgfVxuICByZXR1cm4gYXNzaWduVGVhbVJlc3BvbnNlO1xufTtcblxuY29uc3Qgcm91bmRSb2JpbkxvZ2ljID0gYXN5bmMgKFxuICByb3VuZFJvYmluRGF0YSxcbiAgdGVhbXMsXG4gIGV4cGVyaWVuY2VDZW50ZXJJZCxcbiAgbGVhZElkXG4pID0+IHtcbiAgbGV0IHRlYW1OYW1lVG9CZUFzc2lnbmVkVG9UaGVMZWFkO1xuICBsZXQgdGVhbUlkVG9CZUFzc2lnbmVkVG9UaGVMZWFkO1xuICBpZiAocm91bmRSb2JpbkRhdGEpIHtcbiAgICBjb25zdCBsYXRlc3RUZWFtSWRBc3NpZ25lZFRvRUMgPSByb3VuZFJvYmluRGF0YS50ZWFtaWQ7XG4gICAgY29uc3QgaW5kZXhPZlRoZVRlYW1MYXRlc3RBc3NpZ25lZFRvTGVhZCA9IHRlYW1zLmZpbmRJbmRleChcbiAgICAgICh0ZWFtKSA9PiB0ZWFtLmlkID09PSBsYXRlc3RUZWFtSWRBc3NpZ25lZFRvRUNcbiAgICApO1xuICAgIGlmICh0ZWFtcy5sZW5ndGggPT09IGluZGV4T2ZUaGVUZWFtTGF0ZXN0QXNzaWduZWRUb0xlYWQgKyAxKSB7XG4gICAgICB0ZWFtTmFtZVRvQmVBc3NpZ25lZFRvVGhlTGVhZCA9IHRlYW1zWzBdLm5hbWU7XG4gICAgICB0ZWFtSWRUb0JlQXNzaWduZWRUb1RoZUxlYWQgPSB0ZWFtc1swXS5pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVhbU5hbWVUb0JlQXNzaWduZWRUb1RoZUxlYWQgPVxuICAgICAgICB0ZWFtc1tpbmRleE9mVGhlVGVhbUxhdGVzdEFzc2lnbmVkVG9MZWFkICsgMV0ubmFtZTtcbiAgICAgIHRlYW1JZFRvQmVBc3NpZ25lZFRvVGhlTGVhZCA9XG4gICAgICAgIHRlYW1zW2luZGV4T2ZUaGVUZWFtTGF0ZXN0QXNzaWduZWRUb0xlYWQgKyAxXS5pZDtcbiAgICB9XG4gICAgYXdhaXQgcHJpc21hLmRjX3JvdW5kcm9iaW4udXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHJvdW5kcm9iaW5pZDogcm91bmRSb2JpbkRhdGEucm91bmRyb2JpbmlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdGVhbWlkOiB0ZWFtSWRUb0JlQXNzaWduZWRUb1RoZUxlYWQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vRXhwZXJpZW5jZSBjZW50ZXIgaXMgbmV3IGFuZCBuZWVkcyB0byBiZSBhZGRlZCBpbiB0aGUgdGFibGVcbiAgICBhd2FpdCBwcmlzbWEuZGNfcm91bmRyb2Jpbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBleHBlcmllbmNlY2VudGVyaWQ6IGV4cGVyaWVuY2VDZW50ZXJJZCxcbiAgICAgICAgdGVhbWlkOiB0ZWFtc1swXS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgdGVhbU5hbWVUb0JlQXNzaWduZWRUb1RoZUxlYWQgPSB0ZWFtc1swXS5uYW1lO1xuICB9XG5cbiAgYXdhaXQgcHJpc21hLmxlYWQudXBkYXRlKHtcbiAgICB3aGVyZToge1xuICAgICAgc2ZpZDogbGVhZElkLFxuICAgIH0sXG4gICAgZGF0YToge1xuICAgICAgZGVzaWduZXJfdGVhbV9uYW1lX19jOiB0ZWFtTmFtZVRvQmVBc3NpZ25lZFRvVGhlTGVhZCxcbiAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiMFwiLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gdGVhbU5hbWVUb0JlQXNzaWduZWRUb1RoZUxlYWQ7XG59O1xuXG5jb25zdCBjYWxsd2hhdHNhcHBub3RpZmljYXRpb24gPSBhc3luYyAodGVhbXdoYXRzYXBwLCBsZWFkSWQpID0+IHtcbiAgY29uc29sZS5sb2coXCJoZXJlXCIpO1xuXG4gIGNvbnN0IHVzZXJ0b2JlYnJvYWRjYXN0ZWQgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnNfdGVhbS5maW5kTWFueSh7IHdoZXJlOiB7IHRlYW1pZDogdGVhbXdoYXRzYXBwLmlkIH0gfSk7XG4gIGNvbnNvbGUubG9nKFwidXNlclwiLCB1c2VydG9iZWJyb2FkY2FzdGVkKTtcbiAgY29uc3QgcHJvZmlsZXMgPSBbXG4gICAgeyBwcm9maWxlX25hbWU6IFwiSW5ob3VzZSBEZXNpZ25lclwiIH0sXG4gICAgeyBwcm9maWxlX25hbWU6IFwiRGVzaWduIFBhcnRuZXJcIiB9LFxuICAgIHsgcHJvZmlsZV9uYW1lOiBcIkFzc29jaWF0ZSBTdHVkaW8gTWFuYWdlclwiIH1cbiAgXTtcbiAgbGV0IHdoZXJlQ29uZGl0aW9uRm9yUHJvZmlsZXM6IGFueSA9IHt9O1xuICB3aGVyZUNvbmRpdGlvbkZvclByb2ZpbGVzID0ge1xuICAgIE9SOiBwcm9maWxlcyxcbiAgfTtcbiAgY29uc3QgcHJvZmlsZUlEdG9iZWJyb2FkY2FzdGVkID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUuZmluZE1hbnkoeyB3aGVyZTogd2hlcmVDb25kaXRpb25Gb3JQcm9maWxlcyB9KTtcbiAgY29uc3QgcHJvZmlsZUlEID0gW107XG4gIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiBwcm9maWxlSUR0b2JlYnJvYWRjYXN0ZWQpIHtcbiAgICBwcm9maWxlSUQucHVzaChlbGVtZW50LnByb2ZpbGVpZCk7XG4gIH1cbiAgY29uc29sZS5sb2cocHJvZmlsZUlEKTtcbiAgY29uc3QgdXNlcklEID0gW107XG4gIGZvciBhd2FpdCAoY29uc3QgZWxlbWVudCBvZiB1c2VydG9iZWJyb2FkY2FzdGVkKSB7XG4gICAgaWYgKGVsZW1lbnQudXNlcmlkKSB7XG4gICAgICB1c2VySUQucHVzaChlbGVtZW50LnVzZXJpZCk7XG4gICAgfVxuICB9XG4gIGlmICh1c2VySUQubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHVzZXJzdG9mZXRjaCA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kTWFueSh7IHdoZXJlOiB7IHVzZXJpZDogeyBpbjogdXNlcklEIH0sIHByb2ZpbGVpZDogeyBpbjogcHJvZmlsZUlEIH0sIGlzZWxpZ2libGVmb3JsZWFkbWVldGluZ3M6IHRydWUgfSB9KVxuICAgIGNvbnNvbGUubG9nKHVzZXJzdG9mZXRjaCk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBlbGVtZW50IG9mIHVzZXJzdG9mZXRjaCkge1xuICAgICAgY29uc3QgbGVhZHRvZmV0Y2ggPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3QoeyB3aGVyZTogeyBzZmlkOiBsZWFkSWQgfSB9KVxuICAgICAgY29uc3QgcmVtaW5kZXJUZW1wbGF0ZUZvckxlYWRCcm9hZGNhc3QgPSBhd2FpdCBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdChcbiAgICAgICAgXCJodHRwczovL2Ntcy5kZXNpZ25jYWZlLmNvbS9ncmFwaHFsbVwiLFxuICAgICAgICBxdWVyeUZvckZldGNoaW5nUmVtaW5kZXJzVGVtcGxhdGUoXCJub3RpZnlfbGVhZF9icm9hZGNhc3RcIilcbiAgICAgICk7XG4gICAgICBpZiAocmVtaW5kZXJUZW1wbGF0ZUZvckxlYWRCcm9hZGNhc3QpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlbWluZGVyVGVtcGxhdGVGb3JMZWFkQnJvYWRjYXN0Py5kYXRhPy5yZW1pbmRlcnMuZGF0YVswXS5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgY29uc3Qgc2x1ZyA9IGRhdGEuc2x1ZztcbiAgICAgICAgY29uc3QgdG8gPSBlbGVtZW50LnBob25lbnVtYmVyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicGhvbmVudW1iZXJcIiwgdG8pO1xuICAgICAgICBjb25zdCBsaW5rID0gcHJvY2Vzcy5lbnYubGVhZERldGFpbHNVcmwgKyBsZWFkdG9mZXRjaC5zZmlkICsgXCImbGVhZGlkPVwiICsgbGVhZHRvZmV0Y2guaWQ7XG4gICAgICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcHAueWVsbG93bWVzc2VuZ2VyLmNvbS9hcGkvZW5nYWdlbWVudHMvbm90aWZpY2F0aW9ucy92Mi9wdXNoXCI7XG4gICAgICAgIGlmIChkYXRhLndoYXRzYXBwQWN0aXZlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJ3aGF0c2FwcFwiKTtcbiAgICAgICAgICBjb25zdCB3aGF0c2FwcHJlc3BvbnNlID0gYXdhaXQgdHJpZ2dlcldoYXRzYXBwTm90aWZpY2F0aW9uKHRvLCBsaW5rLCBzbHVnLCB1c2Vyc3RvZmV0Y2gsIGxlYWR0b2ZldGNoLCB1cmwpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwid2hhdHNhcHByZXNwb25zZVwiLCB3aGF0c2FwcHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCB0cmlnZ2VyV2hhdHNhcHBOb3RpZmljYXRpb24gPSBhc3luYyAoXG4gIHRvLFxuICBsaW5rLFxuICBzbHVnLFxuICB1c2Vyc3RvZmV0Y2gsXG4gIGxlYWR0b2ZldGNoLFxuICB1cmxcbikgPT4ge1xuICBjb25zb2xlLmxvZyhcInRyaWdnZXJcIik7XG4gIGNvbnN0IHJlcUJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgdXNlckRldGFpbHM6IHtcbiAgICAgIG51bWJlcjogXCI5MVwiICsgdG8sXG4gICAgfSxcbiAgICBub3RpZmljYXRpb246IHtcbiAgICAgIHR5cGU6IFwid2hhdHNhcHBcIixcbiAgICAgIHNlbmRlcjogXCI5MTYzNjY5MTA0MzdcIixcbiAgICAgIHRlbXBsYXRlSWQ6IFwibmV3X2xlYWRfZGV0YWlsc1wiLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIFwiMVwiOiBsZWFkdG9mZXRjaC5uYW1lLFxuICAgICAgICBcIjJcIjogbGVhZHRvZmV0Y2gud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MsXG4gICAgICAgIFwiM1wiOiBsZWFkdG9mZXRjaC5tZWV0aW5nX3ZlbnVlX19jLFxuICAgICAgICBcIjRcIjogbGVhZHRvZmV0Y2gubWVldGluZ190eXBlX19jLFxuICAgICAgICBcIjVcIjogbGVhZHRvZmV0Y2guYXBwcm94X2J1ZGdldF9fYyxcbiAgICAgICAgXCI2XCI6IGxlYWR0b2ZldGNoLnByb3BlcnR5YWRkcmVzc19fYyxcbiAgICAgICAgXCI3XCI6IGxpbmssXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAgIC5wb3N0KHVybClcbiAgICAgIC5xdWVyeShcImJvdD14MTY0NzQyMTYyMTEzNVwiKVxuICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIilcbiAgICAgIC5zZXQoXCJ4LWFwaS1rZXlcIiwgcHJvY2Vzcy5lbnYua3llbGxvd01lc3NlbmdlclhBdXRoVG9rZW4pXG4gICAgICAuc2VuZChyZXFCb2R5KTtcbiAgICBjb25zb2xlLmxvZyhcInJlcy5ib2R5XCIsIHJlcy5ib2R5KTtcbiAgICByZXR1cm4gcmVzLmJvZHk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgVXBsb2FkRmlsZU9uUzMsXG4gIHVwbG9hZEZsb29yUGxhbkF0U2FsZXNGb3JjZSxcbn0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCB7IHZhbGlkYXRlSW5wdXQgfSBmcm9tIFwiLi4vLi4vY3VzdG9tZXJzL3JlcXVpcmVtZW50Rm9ybS9NdXRhdGlvbnMvZWRpdEZvcm1cIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcblxuZXhwb3J0IGNvbnN0IGVkaXRSZXF1aXJlbWVudHMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgZWRpdFJlcXVpcmVtZW50c1Jlc3BvbnNlT2JqO1xuXG4gIGNvbnN0IHsgcmVxdWlyZW1lbnRkZXRhaWxzLCBsZWFkaWQgfSA9IGFyZ3M7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIik7XG5cbiAgICBhd2FpdCB2YWxpZGF0ZUlucHV0KHJlcXVpcmVtZW50ZGV0YWlscyk7XG5cbiAgICBjb25zdCBmbG9vclBsYW5SZXEgPSByZXF1aXJlbWVudGRldGFpbHM/LmZsb29yX3BsYW47XG4gICAgY29uc3QgZmV0Y2hMZWFkID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IGxlYWRpZCB9IH0pO1xuICAgIGlmICghZmV0Y2hMZWFkKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJsZWFkIG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgZmxvb3JQbGFuUmVxLmlkID0gZmV0Y2hMZWFkLnNmaWQ7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRGbG9vclBsYW5Mb2NhdGlvbihmbG9vclBsYW5SZXEsIGZldGNoTGVhZCwgdXNlcik7XG5cbiAgICBhd2FpdCBwcmlzbWEubGVhZC51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBob21lX3R5cGVfX2M6IHJlcXVpcmVtZW50ZGV0YWlscz8uaG9tZV90eXBlX19jLFxuICAgICAgICBhcmVhX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmFyZWFfX2MudG9TdHJpbmcoKSxcbiAgICAgICAgc2NvcGVfb2Zfd29ya19fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5zY29wZV9vZl93b3JrX19jLFxuICAgICAgICBjaXZpbF93b3JrX19jOlxuICAgICAgICAgIHJlcXVpcmVtZW50ZGV0YWlscz8uY2l2aWxfd29ya19fYyA9PT0gXCJZZXNcIiA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgc2l0ZV9zZXJ2aWNlX25lZWRlZF9mb3JfX2M6XG4gICAgICAgICAgcmVxdWlyZW1lbnRkZXRhaWxzPy5zaXRlX3NlcnZpY2VfbmVlZGVkX2Zvcl9fYz8uam9pbihcIjtcIiksXG4gICAgICAgIGludGVyaW9yX3dvcmtfbmVlZGVkX2Zvcl9fYzpcbiAgICAgICAgICByZXF1aXJlbWVudGRldGFpbHM/LmludGVyaW9yX3dvcmtfbmVlZGVkX2Zvcl9fYz8uam9pbihcIjtcIiksXG4gICAgICAgIHJlcXVpcmVtZW50X2RldGFpbHNfX2M6XG4gICAgICAgICAgcmVxdWlyZW1lbnRkZXRhaWxzPy5yZXF1aXJlbWVudF9kZXRhaWxzX19jPy5qb2luKFwiO1wiKSxcbiAgICAgICAgcHJvcGVydHlfdXNhZ2VfX2M6IHJlcXVpcmVtZW50ZGV0YWlscz8ucHJvcGVydHlfdXNhZ2VfX2MsXG4gICAgICAgIHdoZXJlX2FyZV95b3VfY3VycmVudGx5X2xvY2F0ZWRfX2M6XG4gICAgICAgICAgcmVxdWlyZW1lbnRkZXRhaWxzPy53aGVyZV9hcmVfeW91X2N1cnJlbnRseV9sb2NhdGVkX19jLFxuICAgICAgICB3aGVuX3dvdWxkX3lvdV9saWtlX3RvX2hhdmVfdGhlX2hvbWVfX2M6XG4gICAgICAgICAgcmVxdWlyZW1lbnRkZXRhaWxzPy53aGVuX3dvdWxkX3lvdV9saWtlX3RvX2hhdmVfdGhlX2hvbWVfX2MsXG4gICAgICAgIHdoaWNoX2xhbmd1YWdlX2FyZV95b3VfbW9zdF9jb21mb3J0YWJsZV9fYzpcbiAgICAgICAgICByZXF1aXJlbWVudGRldGFpbHM/LndoaWNoX2xhbmd1YWdlX2FyZV95b3VfbW9zdF9jb21mb3J0YWJsZV9fYz8uam9pbihcbiAgICAgICAgICAgIFwiO1wiXG4gICAgICAgICAgKSxcbiAgICAgICAgaWZfb3RoZXJfbGFuZ3VhZ2VzX3BsZWFzZV9zcGVjaWZ5X19jOlxuICAgICAgICAgIHJlcXVpcmVtZW50ZGV0YWlscz8uaWZfb3RoZXJfbGFuZ3VhZ2VzX3BsZWFzZV9zcGVjaWZ5X19jPy5qb2luKFwiO1wiKSxcbiAgICAgICAgd2hvX3dpbGxfYmVfc3RheWluZ19pbl90aGVfaG91c2VfX2M6XG4gICAgICAgICAgcmVxdWlyZW1lbnRkZXRhaWxzPy53aG9fd2lsbF9iZV9zdGF5aW5nX2luX3RoZV9ob3VzZV9fYz8uam9pbihcIjtcIiksXG4gICAgICAgIGdlbmRlcl9vZl9maXJzdF9raWRfX2M6IHJlcXVpcmVtZW50ZGV0YWlscz8ua2lkc19kZXRhaWxzXG4gICAgICAgICAgPyByZXF1aXJlbWVudGRldGFpbHMua2lkc19kZXRhaWxzWzBdPy5nZW5kZXJcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGdlbmRlcl9vZl9zZWNvbmRfa2lkX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmtpZHNfZGV0YWlsc1xuICAgICAgICAgID8gcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNbMV0/LmdlbmRlclxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgZ2VuZGVyX29mX3RoaXJkX2tpZF9fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNcbiAgICAgICAgICA/IHJlcXVpcmVtZW50ZGV0YWlscz8ua2lkc19kZXRhaWxzWzJdPy5nZW5kZXJcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGdlbmRlcl9vZl9mb3VydGhfa2lkX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmtpZHNfZGV0YWlsc1xuICAgICAgICAgID8gcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNbM10/LmdlbmRlclxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgYWdlX29mX2ZpcnN0X2tpZF9fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNcbiAgICAgICAgICA/IHJlcXVpcmVtZW50ZGV0YWlscz8ua2lkc19kZXRhaWxzWzBdPy5hZ2U/LnRvU3RyaW5nKClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGFnZV9vZl9zZWNvbmRfa2lkX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmtpZHNfZGV0YWlsc1xuICAgICAgICAgID8gcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNbMV0/LmFnZT8udG9TdHJpbmcoKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgYWdlX29mX3RoaXJkX2tpZF9fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNcbiAgICAgICAgICA/IHJlcXVpcmVtZW50ZGV0YWlscz8ua2lkc19kZXRhaWxzWzJdPy5hZ2U/LnRvU3RyaW5nKClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAgIGFnZV9vZl9mb3VydGhfa2lkX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmtpZHNfZGV0YWlsc1xuICAgICAgICAgID8gcmVxdWlyZW1lbnRkZXRhaWxzPy5raWRzX2RldGFpbHNbM10/LmFnZT8udG9TdHJpbmcoKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgZG9feW91X2hhdmVfcGV0c19fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5kb195b3VfaGF2ZV9wZXRzX19jLFxuICAgICAgICBsaXZlX19jOiByZXF1aXJlbWVudGRldGFpbHM/LmxpdmVfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBvdGhlcnNfZm9yX2xpdmVfX2M6IHJlcXVpcmVtZW50ZGV0YWlscz8ub3RoZXJzX2Zvcl9saXZlX19jLFxuICAgICAgICB3b3JrX19jOiByZXF1aXJlbWVudGRldGFpbHM/LndvcmtfX2MsXG4gICAgICAgIGVhdF9fYzogcmVxdWlyZW1lbnRkZXRhaWxzPy5lYXRfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBwbGF5X19jOiByZXF1aXJlbWVudGRldGFpbHM/LnBsYXlfX2M/LmpvaW4oXCI7XCIpLFxuICAgICAgICBvdGhlcnNfZm9yX3BsYXlfX2M6IHJlcXVpcmVtZW50ZGV0YWlscz8ub3RoZXJzX2Zvcl9wbGF5X19jLFxuICAgICAgICBmbG9vcl9wbGFuX2F0dGFjaG1lbnRfaWRfX2M6IHJlc3BvbnNlXG4gICAgICAgICAgPyByZXNwb25zZS5pZC50b1N0cmluZygpXG4gICAgICAgICAgOiBmZXRjaExlYWQuZmxvb3JfcGxhbl9hdHRhY2htZW50X2lkX19jLFxuICAgICAgfSxcbiAgICAgIHdoZXJlOiB7IGlkOiBsZWFkaWQgfSxcbiAgICB9KTtcblxuICAgIGVkaXRSZXF1aXJlbWVudHNSZXNwb25zZU9iaiA9IHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiUmVxdWlyZW1lbnQgRm9ybSBVcGRhdGVkIFN1Y2Nlc3NmdWxseVwiLFxuICAgIH07XG4gICAgcmV0dXJuIGVkaXRSZXF1aXJlbWVudHNSZXNwb25zZU9iajtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlZGl0UmVxdWlyZW1lbnRzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiBlZGl0UmVxdWlyZW1lbnRzUmVzcG9uc2VPYmo7XG4gIH1cbn07XG5jb25zdCBnZXRGbG9vclBsYW5Mb2NhdGlvbiA9IGFzeW5jIChmbG9vclBsYW5SZXEsIGxlYWQsIHVzZXIpID0+IHtcbiAgbGV0IHJlcywgbG9jYXRpb24sIHJlc3BvbmU7XG4gIGlmIChcbiAgICBmbG9vclBsYW5SZXEuZG9jdW1lbnRzWzBdLmRhdGEubWF0Y2goXG4gICAgICAvXig/OltBLVphLXpcXGQrL117NH0pKig/OltBLVphLXpcXGQrL117M309fFtBLVphLXpcXGQrL117Mn09PSk/JC9cbiAgICApXG4gICkge1xuICAgIGNvbnN0IGF0dGFjaG1lbnRSZXEgPSB7XG4gICAgICBrZXk6IGZsb29yUGxhblJlcS5kb2N1bWVudHNbMF0uZmlsZW5hbWUsXG4gICAgICBjb250ZW50VHlwZTogZmxvb3JQbGFuUmVxLmRvY3VtZW50c1swXS5Db250ZW50X1R5cGUsXG4gICAgICBiYXNlNjQ6IGZsb29yUGxhblJlcS5kb2N1bWVudHNbMF0uZGF0YSxcbiAgICAgIGlzcHJlb3Jwb3N0OiAyLFxuICAgICAgdXNlcjogdXNlci51c2VyaWQsXG4gICAgICBsZWFkaWQ6IGxlYWQuc2ZpZCxcbiAgICB9O1xuXG4gICAgcmVzcG9uZSA9IGF3YWl0IFVwbG9hZEZpbGVPblMzKGF0dGFjaG1lbnRSZXEpO1xuICAgIGxvY2F0aW9uID0gcmVzcG9uZS5sb2NhdGlvbjtcblxuICAgIHJlcyA9IGF3YWl0IHVwbG9hZEZsb29yUGxhbkF0U2FsZXNGb3JjZShmbG9vclBsYW5SZXEpO1xuICAgIGlmIChyZXM/LnN0YXR1cz8udG9Mb3dlckNhc2UoKSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiRXJyb3IgVXBsb2FkaW5nIFJlcXVpcmVtZW50IEZvcm1cIiB9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2NhdGlvbiA9IGZsb29yUGxhblJlcS5kb2N1bWVudHNbMF0uZGF0YTtcbiAgfVxuICByZXR1cm4gcmVzcG9uZTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBnZXRVc2VyIH0gZnJvbSBcIi4uLy4uL3VzZXJzL011dGF0aW9ucy9HZXRVc2VyXCI7XG5pbXBvcnQgRGVzaWduZXJBc3NpZ25TdGF0dXMgZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvRGVzaW5nZXJBc3NpZ25TdGF0dXNcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgeyBQcm9maWxlVHlwZUVudW1Db2RlIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvZmlsZVR5cGVFbnVtVXRpbFwiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRGVzaWduZXIgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgdXBkYXRlRGVzaWduZXJSZXNwb25zZU9iajtcblxuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuXG4gICAgY29uc3QgeyBkZXNpZ25lcklkLCBsZWFkU2ZJZCwgb3Bwb3J0dW5pdHlTZklkIH0gPSBhcmdzO1xuICAgIGNvbnN0IGZldGNoZWRVc2VyID0gYXdhaXQgZ2V0VXNlcihkZXNpZ25lcklkKTtcbiAgICBsZXQgdXNlcjtcbiAgICBpZiAoZmV0Y2hlZFVzZXIubGVuZ3RoID4gMCkge1xuICAgICAgdXNlciA9IGZldGNoZWRVc2VyWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVEZXNpZ25lclJlc3BvbnNlT2JqID0ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiTm8gRGVzaWduZXIgZm91bmQgd2l0aCBnaXZlbiBpZFwiLFxuICAgICAgfTtcbiAgICAgIHJldHVybiB1cGRhdGVEZXNpZ25lclJlc3BvbnNlT2JqO1xuICAgIH1cbiAgICBsZXQgdGVhbUFzc2lnbmVkVG9Vc2VyLCBuYW1lO1xuXG4gICAgaWYgKHVzZXIucHJvZmlsZWlkID09PSBQcm9maWxlVHlwZUVudW1Db2RlLlNUVURJT19NQU5BR0VSX0RQIHx8XG4gICAgICB1c2VyLnByb2ZpbGVpZCA9PT0gUHJvZmlsZVR5cGVFbnVtQ29kZS5JTl9IT1VTRV9ERVNJR05FUiB8fFxuICAgICAgdXNlci5wcm9maWxlaWQgPT09IFByb2ZpbGVUeXBlRW51bUNvZGUuQVNTT0NJQVRFX1NUVURJT19NQU5BR0VSIHx8XG4gICAgICB1c2VyLnByb2ZpbGVpZCA9PT0gUHJvZmlsZVR5cGVFbnVtQ29kZS5TVFVESU9fTUFOQUdFUiB8fFxuICAgICAgdXNlci5wcm9maWxlaWQgPT09IFByb2ZpbGVUeXBlRW51bUNvZGUuREVTSUdOX1BBUlRORVJcbiAgICAgICkge1xuICAgICAgdGVhbUFzc2lnbmVkVG9Vc2VyID0gdXNlci50ZWFtcyA/IHVzZXIudGVhbXNbMF0ubmFtZSA6IG51bGw7XG4gICAgICBjb25zdCBtaWRkbGVOYW1lID0gdXNlci5taWRkbGVuYW1lID8gdXNlci5taWRkbGVuYW1lLnRyaW0oKSA6IFwiXCI7XG4gICAgICBjb25zdCBsYXN0TmFtZSA9IHVzZXIubGFzdG5hbWUgPyB1c2VyLmxhc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gICAgICBuYW1lID0gYCR7dXNlci5maXJzdG5hbWU/LnRyaW0oKX0ke1xuICAgICAgICBtaWRkbGVOYW1lID8gXCIgXCIgKyBtaWRkbGVOYW1lICsgXCIgXCIgOiBcIiBcIlxuICAgICAgfSR7bGFzdE5hbWV9YDtcbiAgICAgIGNvbnNvbGUubG9nKDU2LCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlRGVzaWduZXJSZXNwb25zZU9iaiA9IHtcbiAgICAgICAgY29kZTogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgRGVzaWduZXIgSWQgUHJvdmlkZWRcIixcbiAgICAgIH07XG4gICAgICByZXR1cm4gdXBkYXRlRGVzaWduZXJSZXNwb25zZU9iajtcbiAgICB9XG5cbiAgICBpZiAobGVhZFNmSWQpIHtcbiAgICAgIGF3YWl0IHByaXNtYS5sZWFkLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc2ZpZDogbGVhZFNmSWQsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogdXNlci5zYWxlc2ZvcmNldXNlcmlkLFxuICAgICAgICAgIGRlc2lnbl91c2VyX25hbWVfX2M6IG5hbWUsXG4gICAgICAgICAgZGVzaWduZXJfdGVhbV9uYW1lX19jOiB0ZWFtQXNzaWduZWRUb1VzZXIsXG4gICAgICAgICAgaGFzX2Rlc2lnbmVyX2FjY2VwdGVkX19jOiBEZXNpZ25lckFzc2lnblN0YXR1cy5QRU5ESU5HLFxuICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiM1wiXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG9wcG9ydHVuaXR5U2ZJZCkge1xuICAgICAgYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc2ZpZDogb3Bwb3J0dW5pdHlTZklkLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZGVzaWduX3VzZXJfX2M6IHVzZXIuc2FsZXNmb3JjZXVzZXJpZCxcbiAgICAgICAgICBkZXNpZ25fdXNlcl9uYW1lX19jOiBuYW1lLFxuICAgICAgICAgIHN0dWRpb19uYW1lX19jOiB0ZWFtQXNzaWduZWRUb1VzZXIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlRGVzaWduZXJSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiB9O1xuICAgIHJldHVybiB1cGRhdGVEZXNpZ25lclJlc3BvbnNlT2JqO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHVwZGF0ZURlc2lnbmVyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiB1cGRhdGVEZXNpZ25lclJlc3BvbnNlT2JqO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMgfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgdXBsb2FkRmlsZXNJbkxlYWRzID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHVwbG9hZEZpbGVzUmVzcG9uc2VPYmo7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIik7XG4gICAgY29uc3QgeyBsZWFkaWQsIG9wcG9ydHVuaXR5aWQsIGJhc2U2NCwgZmlsZWtleSwgY29udGVudFR5cGUgfSA9IGFyZ3M7XG4gICAgY29uc3QgYXR0YWNobWVudCA9IHtcbiAgICAgIGtleTogZmlsZWtleSxcbiAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgYmFzZTY0LFxuICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgIGlzcHJlb3Jwb3N0OiAwLFxuICAgICAgbGVhZGlkOiBsZWFkaWQsXG4gICAgICBvcHBvcnR1bml0eWlkOiBvcHBvcnR1bml0eWlkLFxuICAgIH07XG4gICAgY29uc3QgdG9TMyA9IGF3YWl0IFVwbG9hZEZpbGVPblMzKGF0dGFjaG1lbnQpO1xuICAgIGxldCByZXNwb25zZU9iaiA9IHtcbiAgICAgIGZpbGVuYW1lOiBmaWxla2V5LFxuICAgICAgQ29udGVudF9UeXBlOiBjb250ZW50VHlwZSxcbiAgICAgIGRhdGE6IHRvUzMubG9jYXRpb24sXG4gICAgfTtcblxuICAgIHVwbG9hZEZpbGVzUmVzcG9uc2VPYmogPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgIGRhdGE6IHJlc3BvbnNlT2JqLFxuICAgIH07XG4gICAgcmV0dXJuIHVwbG9hZEZpbGVzUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdXBsb2FkRmlsZXNSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gICAgcmV0dXJuIHVwbG9hZEZpbGVzUmVzcG9uc2VPYmo7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBVcGxvYWRGaWxlT25TMyB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIlxuZXhwb3J0IGNvbnN0IHVwbG9hZExlYWRGaWxlcyA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gICAgbGV0IHVwbG9hZEZpbGVzUmVzcG9uc2VPYmo7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGxlYWRBdHRhY2htZW50LGxlYWRpZCAsb3Bwb3J0dW5pdHlpZH0gPSBhcmdzO1xuICAgICAgICBsZXQgdG9TMztcbiAgICAgICAgY29uc3QgcmVzcG9uc2VBcnI6IGFueVtdID0gW107XG4gICAgICAgIGlmIChsZWFkQXR0YWNobWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIGxlYWRBdHRhY2htZW50Lm1hcChhc3luYyAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2htZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBlbGVtZW50LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGVsZW1lbnQuQ29udGVudF9UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTY0OiBlbGVtZW50LmJhc2U2NCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzcHJlb3Jwb3N0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVhZGlkOiBsZWFkaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHBvcnR1bml0eWlkOiBvcHBvcnR1bml0eWlkXG5cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdG9TMyA9IGF3YWl0IFVwbG9hZEZpbGVPblMzKGF0dGFjaG1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYmFzZTY0ID0gdG9TMy5sb2NhdGlvblxuXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQXJyLnB1c2goZWxlbWVudClcblxuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHVwbG9hZEZpbGVzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlQXJyIH1cbiAgICAgICAgcmV0dXJuIHVwbG9hZEZpbGVzUmVzcG9uc2VPYmo7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB1cGxvYWRGaWxlc1Jlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgICAgICByZXR1cm4gdXBsb2FkRmlsZXNSZXNwb25zZU9iajtcblxuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcbmV4cG9ydCBjb25zdCBnZXRCcm9kY2FzdExlYWRzRm9yVXNlciA9IGFzeW5jIChfcm9vdCwgX2FyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IGJyb2FkY2FzdExlYWRSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogbnVsbCB9O1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiRERcIik7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGNvbnN0IGZldGNoZWR1c2VyID0gYXdhaXQgZ2V0VXNlcih1c2VyLnVzZXJpZCk7XG4gICAgICBjb25zb2xlLmxvZyhcImZldGNoZWR1c2VyXCIsIGZldGNoZWR1c2VyWzBdKTtcbiAgICAgIGxldCB3aGVyZUNvbmRpdGlvbjogYW55ID0ge307XG4gICAgICBjb25zdCBmZXRjaGVkUHJvZmlsZSA9IGF3YWl0IHByaXNtYS5kY19wcm9maWxlLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgcHJvZmlsZWlkOiBmZXRjaGVkdXNlclswXS5wcm9maWxlaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coMjEsIGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCk7XG4gICAgICBzd2l0Y2ggKGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgaWYgKGZldGNoZWR1c2VyWzBdLmlzZWxpZ2libGVmb3JsZWFkbWVldGluZ3MpIHtcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogbnVsbCxcbiAgICAgICAgICAgICAgc3RhdHVzOiBcIk1lZXRpbmcgU2NoZWR1bGVkXCIsXG4gICAgICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiMFwiLFxuICAgICAgICAgICAgICBPUjogZmV0Y2hlZHVzZXJbMF0udGVhbXM/Lm1hcCgodGVhbUFzc2lnbmVkVG9Vc2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGVzaWduZXJfdGVhbV9uYW1lX19jOiB0ZWFtQXNzaWduZWRUb1VzZXIubmFtZSB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgT1I6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTk9UOiB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRfYnlfX2M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBmZXRjaGVkdXNlclswXS51c2VyaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgcmVqZWN0ZWRfYnlfX2M6IG51bGwgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJvYWRjYXN0TGVhZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgICAgICBicm9hZGNhc3RMZWFkUmVzcG9uc2UubWVzc2FnZSA9XG4gICAgICAgICAgICAgIFwiWW91IGFyZSBub3QgZWxpZ2libGUgZm9yIGNvbmR1Y3RpbmcgbWVldGluZ3NcIjtcbiAgICAgICAgICAgIHJldHVybiBicm9hZGNhc3RMZWFkUmVzcG9uc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgIE9SOiBmZXRjaGVkdXNlclswXS50ZWFtcz8ubWFwKCh0ZWFtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB7IGRlc2lnbmVyX3RlYW1fbmFtZV9fYzogdGVhbS5uYW1lIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiMFwiLFxuICAgICAgICAgICAgZGVzaWduX3VzZXJfX2M6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6IFwiTWVldGluZyBTY2hlZHVsZWRcIixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgIE9SOiBmZXRjaGVkdXNlclswXS5leHBlcmllbmNlY2VudGVycz8ubWFwKChleHBDZW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgbWVldGluZ192ZW51ZV9fYzogZXhwQ2VudGVyLm5hbWUgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgYnJvYWRjYXN0X3N0YXR1c19fYzogXCIwXCIsXG4gICAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogbnVsbCxcbiAgICAgICAgICAgIHN0YXR1czogXCJNZWV0aW5nIFNjaGVkdWxlZFwiLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgT1I6IGZldGNoZWR1c2VyWzBdLmNpdGllcz8ubWFwKChjaXR5KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB7IHJlZ2lvbl9fYzogY2l0eS5uYW1lIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiMFwiLFxuICAgICAgICAgICAgZGVzaWduX3VzZXJfX2M6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6IFwiTWVldGluZyBTY2hlZHVsZWRcIixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgIGJyb2FkY2FzdF9zdGF0dXNfX2M6IFwiMFwiLFxuICAgICAgICAgICAgZGVzaWduX3VzZXJfX2M6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6IFwiTWVldGluZyBTY2hlZHVsZWRcIixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyb2FkY2FzdExlYWRSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgIGJyb2FkY2FzdExlYWRSZXNwb25zZS5tZXNzYWdlID0gXCJQcm9maWxlIG5vdCBzZXQgZm9yIGdpdmVuIHVzZXJcIjtcbiAgICAgICAgICByZXR1cm4gYnJvYWRjYXN0TGVhZFJlc3BvbnNlO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coNDgsIEpTT04uc3RyaW5naWZ5KHdoZXJlQ29uZGl0aW9uKSk7XG4gICAgICBjb25zdCBicm9hZGNhc3RlZExlYWRzID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogd2hlcmVDb25kaXRpb24sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKDgxODE4MTgxLCBicm9hZGNhc3RlZExlYWRzLmxlbmd0aCk7XG4gICAgICBicm9hZGNhc3RMZWFkUmVzcG9uc2UuZGF0YSA9IFsuLi5icm9hZGNhc3RlZExlYWRzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJvYWRjYXN0TGVhZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICBicm9hZGNhc3RMZWFkUmVzcG9uc2UubWVzc2FnZSA9IFwiTm8gVXNlciBmb3VuZCB3aXRoIGdpdmVuIGlkXCI7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgYnJvYWRjYXN0TGVhZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgYnJvYWRjYXN0TGVhZFJlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgY29uc29sZS5sb2coZSk7XG4gIH1cbiAgcmV0dXJuIGJyb2FkY2FzdExlYWRSZXNwb25zZTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRMZWFkQXR0YWNobWVudHMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgZ2V0RmlsZXNSZXNwb25zZU9iajtcbiAgdHJ5IHtcbiAgICBsZXQgZGF0YTtcbiAgICBpZiAoYXJncy50eXBlID09PSAwKSB7XG4gICAgICBpZiAoIWFyZ3MubGVhZGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcImxlYWQgaWQgaXMgcmVxdWlyZWRcIik7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcImxlYWQgZmlsZXMvcHJlc2FsZXNcIik7XG4gICAgICBkYXRhID0gYXdhaXQgcHJpc21hLmRjX2F0dGFjaG1lbnRzLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgbGVhZGlkOiBhcmdzLmxlYWRpZCwgaXNwcmVvcnBvc3Q6IDAsIG9wcG9ydHVuaXR5aWQ6IG51bGwgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZmV0Y2hlZExlYWQgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3QoeyB3aGVyZTogeyBzZmlkOiBhcmdzLmxlYWRpZCB9IH0pXG4gICAgICBpZiAoIWZldGNoZWRMZWFkKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcImxlYWQgbm90IGZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgaWYoZmV0Y2hlZExlYWQuZmxvb3JfcGxhbl9hdHRhY2htZW50X2lkX19jKXtcbiAgICAgICAgY29uc3QgZmxvb3JQbGFuID0gYXdhaXQgcHJpc21hLmRjX2F0dGFjaG1lbnRzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGlkOiBOdW1iZXIoZmV0Y2hlZExlYWQuZmxvb3JfcGxhbl9hdHRhY2htZW50X2lkX19jICl9IH0pXG4gICAgICAgIGRhdGEucHVzaChmbG9vclBsYW4pXG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGFyZ3MudHlwZSA9PT0gMSkge1xuICAgICAgaWYgKCFhcmdzLm9wcG9ydHVuaXR5aWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwib3Bwb3J0dW5pdHkgaWQgaXMgcmVxdWlyZWRcIik7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIm9wcG9ydHVuaXR5IGZpbGVzL3ByZXNhbGVzXCIpO1xuICAgICAgbGV0IGxlYWRpZDtcbiAgICAgIGlmICghYXJncy5sZWFkaWQpIHtcbiAgICAgICAgY29uc3Qgb3Bwb3J0dW5pdHkgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgc2ZpZDogYXJncy5vcHBvcnR1bml0eWlkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIW9wcG9ydHVuaXR5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwib3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYWRpZCA9IG9wcG9ydHVuaXR5LmxlYWRfaWRfX2NcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhZGlkID0gYXJncy5sZWFkaWRcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlYWRGaWxlcyA9IGF3YWl0IGdldExlYWRGaWxlc0Zvck9wcG9ydHVuaXR5KGxlYWRpZClcblxuXG4gICAgICBjb25zdCBvcHBvcnR1bml0eUZpbGVzID0gYXdhaXQgcHJpc21hLmRjX2F0dGFjaG1lbnRzLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgb3Bwb3J0dW5pdHlpZDogYXJncy5vcHBvcnR1bml0eWlkLCBpc3ByZW9ycG9zdDogMCB9XG4gICAgICB9KTtcbiAgICAgIGRhdGEgPSBsZWFkRmlsZXMuY29uY2F0KG9wcG9ydHVuaXR5RmlsZXMpXG5cbiAgICB9XG4gICAgZGF0YSA9IGF3YWl0IGdldFVwbG9hZGVkQnkoZGF0YSlcblxuICAgIGdldEZpbGVzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IGRhdGEgfTtcbiAgICByZXR1cm4gZ2V0RmlsZXNSZXNwb25zZU9iajtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnZXRGaWxlc1Jlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICByZXR1cm4gZ2V0RmlsZXNSZXNwb25zZU9iajtcblxuICB9XG5cbn07XG5jb25zdCBnZXRVcGxvYWRlZEJ5ID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgbGV0IHVzZXIsY3VzdG9tZXI7XG4gIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRhdGEubWFwKGFzeW5jIChlbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LnVzZXIpIHtcbiAgICAgICAgICB1c2VyID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRVbmlxdWUoeyB3aGVyZTogeyB1c2VyaWQ6IGVsZW1lbnQudXNlciB9IH0pXG4gICAgICAgICAgZWxlbWVudC51cGxvYWRlZGJ5ID0gdXNlci5maXJzdG5hbWVcbiAgICAgICAgfWVsc2UgaWYoZWxlbWVudC5jdXN0b21lcil7XG4gICAgICAgICAgY3VzdG9tZXIgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGVsZW1lbnQuY3VzdG9tZXIgfSB9KVxuICAgICAgICAgIGVsZW1lbnQudXBsb2FkZWRieSA9IGN1c3RvbWVyLmZpcnN0bmFtZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfVxuICByZXR1cm4gZGF0YVxuXG59XG5jb25zdCBnZXRMZWFkRmlsZXNGb3JPcHBvcnR1bml0eSA9IGFzeW5jIChsZWFkaWQpID0+IHtcbiAgbGV0IGxlYWRGaWxlcztcbiAgaWYgKGxlYWRpZCkge1xuICAgIGxlYWRGaWxlcyA9IGF3YWl0IHByaXNtYS5kY19hdHRhY2htZW50cy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBsZWFkaWQ6IGxlYWRpZCwgaXNwcmVvcnBvc3Q6IDAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxlYWRGaWxlcyA9IFtdXG4gIH1cbiAgcmV0dXJuIGxlYWRGaWxlc1xufVxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiXG5cblxuZXhwb3J0IGNvbnN0IGdldExlYWREZXRhaWxzQnlJZCA9IGFzeW5jKHBhcmVudCxhcmdzLGNvbnRleHQpPT57XG4gICAgY29uc3Qge2xlYWRpZH0gPSBhcmdzO1xuICAgIGNvbnN0IGdldExlYWRCeUlkUmVzcG9uc2UgPSB7Y29kZToyMDAsbWVzc2FnZTpudWxsLGRhdGE6bnVsbH1cblxuICAgIGNvbnN0IGZldGNoZWRMZWFkQnlJZCA9ICBhd2FpdCBwcmlzbWEubGVhZC5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICBzZmlkOmxlYWRpZFxuICAgICAgICB9XG4gICAgfSlcbiAgICBnZXRMZWFkQnlJZFJlc3BvbnNlLmNvZGUgPSBmZXRjaGVkTGVhZEJ5SWQgPyAyMDAgOiA0MDA7XG4gICAgZ2V0TGVhZEJ5SWRSZXNwb25zZS5tZXNzYWdlID0gZmV0Y2hlZExlYWRCeUlkID8gbnVsbDpcIk5vIGxlYWQgZm91bmQgZm9yIHRoZSBnaXZlbiBsZWFkaWRcIjtcbiAgICBnZXRMZWFkQnlJZFJlc3BvbnNlLmRhdGEgPSBmZXRjaGVkTGVhZEJ5SWQgPyBmZXRjaGVkTGVhZEJ5SWQgOiBudWxsO1xuXG4gICAgcmV0dXJuIGdldExlYWRCeUlkUmVzcG9uc2U7XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi91c2Vycy9NdXRhdGlvbnMvR2V0VXNlclwiO1xuXG5leHBvcnQgY29uc3QgZ2V0TXlMZWFkcyA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgY29uc3QgbXlMZWFkUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IG51bGwgfTtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFRleHQsIGZpbHRlclByZXNldCwgc29ydEJ5TWVldGluZ1NjaGVkdWxlZCwgc29ydEJ5TmFtZSB9ID1cbiAgICAgIGFyZ3M7XG4gICAgbGV0IHVzZXI7XG4gICAgdHJ5IHtcbiAgICAgIHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoX2NvbnRleHQsIFwiRERcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG15TGVhZFJlc3BvbnNlLmNvZGUgPSA0MDE7XG4gICAgICBteUxlYWRSZXNwb25zZS5tZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIGNvbnN0IGZldGNoZWR1c2VyID0gYXdhaXQgZ2V0VXNlcih1c2VyLnVzZXJpZCk7XG4gICAgICBjb25zdCBmZXRjaGVkUHJvZmlsZSA9IGF3YWl0IHByaXNtYS5kY19wcm9maWxlLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgcHJvZmlsZWlkOiBmZXRjaGVkdXNlclswXS5wcm9maWxlaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coMjEsIGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCk7XG4gICAgICBsZXQgd2hlcmVDb25kaXRpb246IGFueSA9IHt9O1xuICAgICAgY29uc3Qgc3RhdHVzUXVlcnkgPSBbXG4gICAgICAgIHsgc3RhdHVzOiBcIk1lZXRpbmcgU2NoZWR1bGVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IFwiTWVldGluZyBDb25maXJtZWRcIiB9LFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHNlYXJjaENvbmRpdGlvbiA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IHsgY29udGFpbnM6IHNlYXJjaFRleHQgPyBzZWFyY2hUZXh0IDogXCJcIiwgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgbW9iaWxlcGhvbmU6IHsgY29udGFpbnM6IHNlYXJjaFRleHQgPyBzZWFyY2hUZXh0IDogXCJcIiB9IH0sXG4gICAgICBdO1xuICAgICAgaWYgKHVzZXIuc2FsZXNmb3JjZXVzZXJpZCB8fCB1c2VyLnByb2ZpbGVpZCA9PT0gOCkge1xuICAgICAgICBzd2l0Y2ggKGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICBBTkQ6IHtcbiAgICAgICAgICAgICAgICBPUjogc3RhdHVzUXVlcnksXG4gICAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgICBPUjogc2VhcmNoQ29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgQU5EOiBjcmVhdGVGaWx0ZXJDb25kaXRpb25zKGFyZ3MpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRlc2lnbl91c2VyX19jOiB1c2VyLnNhbGVzZm9yY2V1c2VyaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB3aGVyZUNvbmRpdGlvbiA9IHtcbiAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgT1I6IGZldGNoZWR1c2VyWzBdLnRlYW1zPy5tYXAoKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2lnbmVyX3RlYW1fbmFtZV9fYzogdGVhbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBBTkQ6IHtcbiAgICAgICAgICAgICAgICAgIE9SOiBzdGF0dXNRdWVyeSxcbiAgICAgICAgICAgICAgICAgIEFORDoge1xuICAgICAgICAgICAgICAgICAgICBPUjogc2VhcmNoQ29uZGl0aW9uLFxuICAgICAgICAgICAgICAgICAgICBBTkQ6IGNyZWF0ZUZpbHRlckNvbmRpdGlvbnMoYXJncyksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2hlcmVDb25kaXRpb24uTk9UID0ge1xuICAgICAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge307XG4gICAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5BTkQgPSB7XG4gICAgICAgICAgICAgIE9SOiBmZXRjaGVkdXNlclswXS5leHBlcmllbmNlY2VudGVycy5tYXAoKGV4cENlbnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBtZWV0aW5nX3ZlbnVlX19jOiBleHBDZW50ZXIubmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgT1I6IHN0YXR1c1F1ZXJ5LFxuICAgICAgICAgICAgICAgIEFORDoge1xuICAgICAgICAgICAgICAgICAgT1I6IHNlYXJjaENvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgIEFORDogY3JlYXRlRmlsdGVyQ29uZGl0aW9ucyhhcmdzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLk5PVCA9IHtcbiAgICAgICAgICAgICAgZGVzaWduX3VzZXJfX2M6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB3aGVyZUNvbmRpdGlvbiA9IHt9O1xuICAgICAgICAgICAgd2hlcmVDb25kaXRpb24uQU5EID0ge1xuICAgICAgICAgICAgICBPUjogZmV0Y2hlZHVzZXJbMF0uY2l0aWVzLm1hcCgoY2l0eSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICByZWdpb25fX2M6IGNpdHkubmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgT1I6IHN0YXR1c1F1ZXJ5LFxuICAgICAgICAgICAgICAgIEFORDoge1xuICAgICAgICAgICAgICAgICAgT1I6IHNlYXJjaENvbmRpdGlvbixcbiAgICAgICAgICAgICAgICAgIEFORDogY3JlYXRlRmlsdGVyQ29uZGl0aW9ucyhhcmdzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLk5PVCA9IHtcbiAgICAgICAgICAgICAgZGVzaWduX3VzZXJfX2M6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICAgICAgICAgIE9SOiBzZWFyY2hDb25kaXRpb24sXG4gICAgICAgICAgICAgIE5PVDoge1xuICAgICAgICAgICAgICAgIGRlc2lnbl91c2VyX19jOiBudWxsLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBBTkQ6IHtcbiAgICAgICAgICAgICAgICBPUjogc3RhdHVzUXVlcnksXG4gICAgICAgICAgICAgICAgQU5EOiBjcmVhdGVGaWx0ZXJDb25kaXRpb25zKGFyZ3MpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBteUxlYWRSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgICAgbXlMZWFkUmVzcG9uc2UubWVzc2FnZSA9IFwiUHJvZmlsZSBub3Qgc2V0IGZvciBnaXZlbiB1c2VyXCI7XG4gICAgICAgICAgICByZXR1cm4gbXlMZWFkUmVzcG9uc2U7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGZpbHRlclByZXNldCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLmRlc2lnbl91c2VyX19jID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLkFORC5BTkQuT1IgPSB7IHN0YXR1czogXCJNZWV0aW5nIFNjaGVkdWxlZFwiIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5BTkQuQU5ELk9SID0geyBzdGF0dXM6IFwiTWVldGluZyBDb25maXJtZWRcIiB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3JkZXJCeUFyciA9IFtdO1xuICAgICAgICBpZiAoc29ydEJ5TWVldGluZ1NjaGVkdWxlZCkge1xuICAgICAgICAgIG9yZGVyQnlBcnIucHVzaCh7XG4gICAgICAgICAgICB3aWxsaW5nbmVzc19mb3JfbWVldGluZ19fYzogc29ydEJ5TWVldGluZ1NjaGVkdWxlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0QnlOYW1lKSB7XG4gICAgICAgICAgb3JkZXJCeUFyci5wdXNoKHsgbmFtZTogc29ydEJ5TmFtZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKDk0OTQsIEpTT04uc3RyaW5naWZ5KHdoZXJlQ29uZGl0aW9uKSk7XG4gICAgICAgIGNvbnN0IG15TGVhZHMgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kTWFueSh7XG4gICAgICAgICAgd2hlcmU6IHdoZXJlQ29uZGl0aW9uLFxuICAgICAgICAgIG9yZGVyQnk6IG9yZGVyQnlBcnIsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG15TGVhZFJlc3BvbnNlLmRhdGEgPSBbLi4ubXlMZWFkc107XG4gICAgICAgIGNvbnNvbGUubG9nKDE0MywgbXlMZWFkcy5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXlMZWFkUmVzcG9uc2UuY29kZSA9IDIwMDtcbiAgICAgICAgbXlMZWFkUmVzcG9uc2UuZGF0YSA9IFtdO1xuICAgICAgICBteUxlYWRSZXNwb25zZS5tZXNzYWdlID1cbiAgICAgICAgICBcIk5vIHNhbGVzZm9yY2UgaWQgdGFnZ2VkIHRvIHRoaXMgcGFydGljdWxhciB1c2VyXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG15TGVhZFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICBteUxlYWRSZXNwb25zZS5tZXNzYWdlID0gXCJObyBVc2VyIGZvdW5kIHdpdGggZ2l2ZW4gaWRcIjtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgICBteUxlYWRSZXNwb25zZS5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICAgIG15TGVhZFJlc3BvbnNlLmRhdGEgPSBudWxsO1xuICB9XG4gIHJldHVybiBteUxlYWRSZXNwb25zZTtcbn07XG5jb25zdCBjcmVhdGVGaWx0ZXJDb25kaXRpb25zID0gKGFyZ3MpID0+IHtcbiAgY29uc3Qge1xuICAgIGZyb21EYXRlLFxuICAgIHRvRGF0ZSxcbiAgICB0ZWFtTmFtZXMsXG4gICAgZGVzaWduZXJOYW1lcyxcbiAgICBjaXR5cyxcbiAgICBleHBlcmllbmNlQ2VudGVycyxcbiAgfSA9IGFyZ3M7XG4gIGNvbnN0IGZpbHRlckNvbmRpdGlvbnM6IGFueSA9IHt9O1xuICBjb25zdCBvckNvbmRpdGlvbiA9IFtdO1xuXG4gIGlmICh0ZWFtTmFtZXMpIHtcbiAgICB0ZWFtTmFtZXMuZm9yRWFjaCgodGVhbU5hbWUpID0+IHtcbiAgICAgIG9yQ29uZGl0aW9uLnB1c2goe1xuICAgICAgICBkZXNpZ25lcl90ZWFtX25hbWVfX2M6IHsgY29udGFpbnM6IHRlYW1OYW1lLCBtb2RlOiBcImluc2Vuc2l0aXZlXCIgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG4gIGlmIChkZXNpZ25lck5hbWVzKSB7XG4gICAgZGVzaWduZXJOYW1lcy5mb3JFYWNoKChkZXNpZ25lck5hbWUpID0+IHtcbiAgICAgIG9yQ29uZGl0aW9uLnB1c2goe1xuICAgICAgICBkZXNpZ25fdXNlcl9uYW1lX19jOiB7IGNvbnRhaW5zOiBkZXNpZ25lck5hbWUsIG1vZGU6IFwiaW5zZW5zaXRpdmVcIiB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZmlsdGVyQ29uZGl0aW9ucy5BTkQgPSBvckNvbmRpdGlvbjtcblxuICBpZiAoY2l0eXMpIHtcbiAgICBjaXR5cy5mb3JFYWNoKChjaXR5TmFtZSkgPT4ge1xuICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgIHJlZ2lvbl9fYzogeyBjb250YWluczogY2l0eU5hbWUsIG1vZGU6IFwiaW5zZW5zaXRpdmVcIiB9LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgZmlsdGVyQ29uZGl0aW9ucy5BTkQgPSBvckNvbmRpdGlvbjtcblxuICBpZiAoZXhwZXJpZW5jZUNlbnRlcnMpIHtcbiAgICBleHBlcmllbmNlQ2VudGVycy5mb3JFYWNoKChleHBlcmllbmNlQ2VudGVyKSA9PiB7XG4gICAgICBvckNvbmRpdGlvbi5wdXNoKHtcbiAgICAgICAgbWVldGluZ192ZW51ZV9fYzogeyBjb250YWluczogZXhwZXJpZW5jZUNlbnRlciwgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG4gIGNvbnNvbGUubG9nKGZyb21EYXRlLCB0b0RhdGUpO1xuICBpZiAoZnJvbURhdGUgJiYgdG9EYXRlKSB7XG4gICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICB3aWxsaW5nbmVzc19mb3JfbWVldGluZ19fYzoge1xuICAgICAgICBndGU6IGZyb21EYXRlLFxuICAgICAgICBsdGU6IHRvRGF0ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgZmlsdGVyQ29uZGl0aW9ucy5BTkQgPSBvckNvbmRpdGlvbjtcblxuICBjb25zb2xlLmxvZyhcImZpbHRlckNvbmRpdGlvbnNcIiwgSlNPTi5zdHJpbmdpZnkoZmlsdGVyQ29uZGl0aW9ucykpO1xuICByZXR1cm4gZmlsdGVyQ29uZGl0aW9ucztcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuXG5leHBvcnQgY29uc3QgZ2V0UmVxdWlyZW1lbnRzID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHJlcXVpcmVtZW50Rm9ybVJlc3BvbnNlT2JqO1xuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuICAgIGNvbnN0IGtpZHNBcnIgPSBbXTtcbiAgICBsZXQgb2JqO1xuICAgIGxldCBmZXRjaGVkTGVhZDtcbiAgICBpZiAoYXJncy5sZWFkaWQpIHtcbiAgICAgIGZldGNoZWRMZWFkID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IGFyZ3MubGVhZGlkIH0gfSk7XG4gICAgICBpZiAoIWZldGNoZWRMZWFkKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcImxlYWQgbm90IGZvdW5kXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXJncy5vcHBvcnR1bml0eWlkKSB7XG4gICAgICBjb25zdCBvcHBvcnR1bml0eSA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgc2ZpZDogYXJncy5vcHBvcnR1bml0eWlkIH0sXG4gICAgICB9KTtcbiAgICAgIGlmICghb3Bwb3J0dW5pdHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwib3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVhZGlkID0gb3Bwb3J0dW5pdHkubGVhZF9pZF9fYztcbiAgICAgIGZldGNoZWRMZWFkID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IHNmaWQ6IGxlYWRpZCB9IH0pO1xuICAgIH1cblxuICAgIGlmIChmZXRjaGVkTGVhZC5nZW5kZXJfb2ZfZmlyc3Rfa2lkX19jIHx8IGZldGNoZWRMZWFkLmFnZV9vZl9maXJzdF9raWRfX2MpIHtcbiAgICAgIG9iaiA9IHtcbiAgICAgICAgZ2VuZGVyOiBmZXRjaGVkTGVhZC5nZW5kZXJfb2ZfZmlyc3Rfa2lkX19jLFxuICAgICAgICBhZ2U6IGZldGNoZWRMZWFkLmFnZV9vZl9maXJzdF9raWRfX2MsXG4gICAgICB9O1xuICAgICAga2lkc0Fyci5wdXNoKG9iaik7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGZldGNoZWRMZWFkLmdlbmRlcl9vZl9zZWNvbmRfa2lkX19jIHx8XG4gICAgICBmZXRjaGVkTGVhZC5hZ2Vfb2Zfc2Vjb25kX2tpZF9fY1xuICAgICkge1xuICAgICAgb2JqID0ge1xuICAgICAgICBnZW5kZXI6IGZldGNoZWRMZWFkLmdlbmRlcl9vZl9zZWNvbmRfa2lkX19jLFxuICAgICAgICBhZ2U6IGZldGNoZWRMZWFkLmFnZV9vZl9zZWNvbmRfa2lkX19jLFxuICAgICAgfTtcbiAgICAgIGtpZHNBcnIucHVzaChvYmopO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hlZExlYWQuZ2VuZGVyX29mX3RoaXJkX2tpZF9fYyB8fCBmZXRjaGVkTGVhZC5hZ2Vfb2ZfdGhpcmRfa2lkX19jKSB7XG4gICAgICBvYmogPSB7XG4gICAgICAgIGdlbmRlcjogZmV0Y2hlZExlYWQuZ2VuZGVyX29mX3RoaXJkX2tpZF9fYyxcbiAgICAgICAgYWdlOiBmZXRjaGVkTGVhZC5hZ2Vfb2ZfdGhpcmRfa2lkX19jLFxuICAgICAgfTtcbiAgICAgIGtpZHNBcnIucHVzaChvYmopO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBmZXRjaGVkTGVhZC5nZW5kZXJfb2ZfZm91cnRoX2tpZF9fYyB8fFxuICAgICAgZmV0Y2hlZExlYWQuYWdlX29mX2ZvdXJ0aF9raWRfX2NcbiAgICApIHtcbiAgICAgIG9iaiA9IHtcbiAgICAgICAgZ2VuZGVyOiBmZXRjaGVkTGVhZC5nZW5kZXJfb2ZfZm91cnRoX2tpZF9fYyxcbiAgICAgICAgYWdlOiBmZXRjaGVkTGVhZC5hZ2Vfb2ZfZm91cnRoX2tpZF9fYyxcbiAgICAgIH07XG4gICAgICBraWRzQXJyLnB1c2gob2JqKTtcbiAgICB9XG4gICAgY29uc3QgZ2V0TGVhZEZsb29yUGxhbiA9IGF3YWl0IHByaXNtYS5kY19hdHRhY2htZW50cy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgaWQ6IE51bWJlcihmZXRjaGVkTGVhZC5mbG9vcl9wbGFuX2F0dGFjaG1lbnRfaWRfX2MpIH0sXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coOTg3LCBnZXRMZWFkRmxvb3JQbGFuKTtcblxuICAgIGNvbnN0IHJlcXVpcmVtZW50ZGV0YWlscyA9IHtcbiAgICAgIGhvbWVfdHlwZV9fYzogZmV0Y2hlZExlYWQuaG9tZV90eXBlX19jLFxuICAgICAgYXJlYV9fYzogZmV0Y2hlZExlYWQuYXJlYV9fYyxcbiAgICAgIHNjb3BlX29mX3dvcmtfX2M6IGZldGNoZWRMZWFkLnNjb3BlX29mX3dvcmtfX2MsXG4gICAgICBpbnRlcmlvcl93b3JrX25lZWRlZF9mb3JfX2M6XG4gICAgICAgIGZldGNoZWRMZWFkLmludGVyaW9yX3dvcmtfbmVlZGVkX2Zvcl9fYz8uc3BsaXQoXCI7XCIpLFxuICAgICAgd2hlcmVfYXJlX3lvdV9jdXJyZW50bHlfbG9jYXRlZF9fYzpcbiAgICAgICAgZmV0Y2hlZExlYWQud2hlcmVfYXJlX3lvdV9jdXJyZW50bHlfbG9jYXRlZF9fYyxcbiAgICAgIHdoZW5fd291bGRfeW91X2xpa2VfdG9faGF2ZV90aGVfaG9tZV9fYzpcbiAgICAgICAgZmV0Y2hlZExlYWQud2hlbl93b3VsZF95b3VfbGlrZV90b19oYXZlX3RoZV9ob21lX19jLFxuICAgICAgd2hpY2hfbGFuZ3VhZ2VfYXJlX3lvdV9tb3N0X2NvbWZvcnRhYmxlX19jOlxuICAgICAgICBmZXRjaGVkTGVhZC53aGljaF9sYW5ndWFnZV9hcmVfeW91X21vc3RfY29tZm9ydGFibGVfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIGlmX290aGVyX2xhbmd1YWdlc19wbGVhc2Vfc3BlY2lmeV9fYzpcbiAgICAgICAgZmV0Y2hlZExlYWQuaWZfb3RoZXJfbGFuZ3VhZ2VzX3BsZWFzZV9zcGVjaWZ5X19jPy5zcGxpdChcIjtcIiksXG4gICAgICB3aG9fd2lsbF9iZV9zdGF5aW5nX2luX3RoZV9ob3VzZV9fYzpcbiAgICAgICAgZmV0Y2hlZExlYWQud2hvX3dpbGxfYmVfc3RheWluZ19pbl90aGVfaG91c2VfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIGtpZHNfZGV0YWlsczoga2lkc0FycixcbiAgICAgIGRvX3lvdV9oYXZlX3BldHNfX2M6IGZldGNoZWRMZWFkLmRvX3lvdV9oYXZlX3BldHNfX2MsXG4gICAgICBsaXZlX19jOiBmZXRjaGVkTGVhZC5saXZlX19jPy5zcGxpdChcIjtcIiksXG4gICAgICBvdGhlcnNfZm9yX2xpdmVfX2M6IGZldGNoZWRMZWFkLm90aGVyc19mb3JfbGl2ZV9fYyxcbiAgICAgIHdvcmtfX2M6IGZldGNoZWRMZWFkLndvcmtfX2MsXG4gICAgICBlYXRfX2M6IGZldGNoZWRMZWFkLmVhdF9fYz8uc3BsaXQoXCI7XCIpLFxuICAgICAgcGxheV9fYzogZmV0Y2hlZExlYWQucGxheV9fYz8uc3BsaXQoXCI7XCIpLFxuICAgICAgb3RoZXJzX2Zvcl9wbGF5X19jOiBmZXRjaGVkTGVhZC5vdGhlcnNfZm9yX3BsYXlfX2MsXG4gICAgICBjaXZpbF93b3JrX19jOiBmZXRjaGVkTGVhZC5jaXZpbF93b3JrX19jID8gXCJZZXNcIiA6IFwiTm9cIixcbiAgICAgIHJlcXVpcmVtZW50X2RldGFpbHNfX2M6IGZldGNoZWRMZWFkLnJlcXVpcmVtZW50X2RldGFpbHNfX2M/LnNwbGl0KFwiO1wiKSxcbiAgICAgIHByb3BlcnR5X3VzYWdlX19jOiBmZXRjaGVkTGVhZC5wcm9wZXJ0eV91c2FnZV9fYyxcbiAgICAgIHNpdGVfc2VydmljZV9uZWVkZWRfZm9yX19jOlxuICAgICAgICBmZXRjaGVkTGVhZC5zaXRlX3NlcnZpY2VfbmVlZGVkX2Zvcl9fYz8uc3BsaXQoXCI7XCIpLFxuICAgICAgZmxvb3JfcGxhbjoge1xuICAgICAgICBpZDogZ2V0TGVhZEZsb29yUGxhbj8ubGVhZGlkLFxuICAgICAgICBkb2N1bWVudHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWxlbmFtZTogZ2V0TGVhZEZsb29yUGxhbj8uZmlsZWtleSxcbiAgICAgICAgICAgIENvbnRlbnRfVHlwZTogZ2V0TGVhZEZsb29yUGxhbj8uY29udGVudHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBnZXRMZWFkRmxvb3JQbGFuPy5sb2NhdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKFwicmVxdWlyZW1lbnRkZXRhaWxzXCIsIHJlcXVpcmVtZW50ZGV0YWlscyk7XG4gICAgY29uc3QgRGF0YSA9IHtcbiAgICAgIHJlcXVpcmVtZW50Zm9ybWRldGFpbHM6IHJlcXVpcmVtZW50ZGV0YWlscyxcbiAgICB9O1xuXG4gICAgcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IERhdGEgfTtcbiAgICByZXR1cm4gcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVxdWlyZW1lbnRGb3JtUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiByZXF1aXJlbWVudEZvcm1SZXNwb25zZU9iajtcbiAgfVxufTtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBnZXRCcm9kY2FzdExlYWRzRm9yVXNlciB9IGZyb20gXCIuL1F1ZXJpZXMvZ2V0QnJvYWRDYXN0TGVhZHNGb3JVc2VyXCI7XG5pbXBvcnQgeyBhY2NlcHRSZWplY3RMZWFkcyB9IGZyb20gXCIuL011dGF0aW9ucy9hY2NlcHRSZWplY3RMZWFkc1wiO1xuaW1wb3J0IHsgYXNzaWduVGVhbVRvTGVhZCB9IGZyb20gXCIuL011dGF0aW9ucy9hc3NpZ25UZWFtVG9MZWFkXCI7XG5pbXBvcnQgeyBnZXRMZWFkRGV0YWlsc0J5SWQgfSBmcm9tIFwiLi9RdWVyaWVzL2dldExlYWREZXRhaWxzQnlJZFwiO1xuaW1wb3J0IHsgZ2V0TXlMZWFkcyB9IGZyb20gXCIuL1F1ZXJpZXMvZ2V0TXlMZWFkc1wiO1xuaW1wb3J0IHsgZ2V0UmVxdWlyZW1lbnRzIH0gZnJvbSBcIi4vUXVlcmllcy9nZXRSZXF1aXJlbWVudHNcIjtcbmltcG9ydCB7IGVkaXRSZXF1aXJlbWVudHMgfSBmcm9tIFwiLi9NdXRhdGlvbnMvZWRpdFJlcXVpcmVtZW50c1wiO1xuaW1wb3J0IHsgdXBkYXRlRGVzaWduZXIgfSBmcm9tIFwiLi9NdXRhdGlvbnMvdXBkYXRlRGVzaWduZXJcIjtcbmltcG9ydCB7IHVwbG9hZExlYWRGaWxlcyB9IGZyb20gXCIuL011dGF0aW9ucy91cGxvYWRMZWFkRmlsZXNcIjtcbmltcG9ydCB7IHVwbG9hZEZpbGVzSW5MZWFkcyB9IGZyb20gXCIuL011dGF0aW9ucy91cGxvYWRGaWxlc0luTGVhZFwiO1xuaW1wb3J0IHsgZ2V0TGVhZEF0dGFjaG1lbnRzIH0gZnJvbSBcIi4vUXVlcmllcy9nZXRMZWFkQXR0YWNobWVudHNcIjtcbmltcG9ydCB7IGFzc2lnbkRlc2lnZXJUb0xlYWRzIH0gZnJvbSBcIi4vTXV0YXRpb25zL2Fzc2lnbkRlc2lnbmVyVG9MZWFkc0J5U3R1ZGlvTWFuZ2VyXCI7XG5cbmV4cG9ydCBjb25zdCBsZWFkc1Jlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGdldExlYWREZXRhaWxzQnlJZDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRMZWFkRGV0YWlsc0J5SWQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZ2V0QnJvYWRjYXN0TGVhZHNGb3JVc2VyOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldEJyb2RjYXN0TGVhZHNGb3JVc2VyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldE15TGVhZHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0TXlMZWFkcyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRSZXF1aXJlbWVudHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0UmVxdWlyZW1lbnRzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldExlYWRBdHRhY2htZW50czogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRMZWFkQXR0YWNobWVudHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgYWNjZXB0UmVqZWN0TGVhZHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgYWNjZXB0UmVqZWN0TGVhZHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgYXNzaWduVGVhbXNUb0xlYWQ6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgYXNzaWduVGVhbVRvTGVhZChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBlZGl0UmVxdWlyZW1lbnRzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGVkaXRSZXF1aXJlbWVudHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBsb2FkTGVhZEZpbGVzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwbG9hZExlYWRGaWxlcyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGxvYWRGaWxlc0luTGVhZHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBsb2FkRmlsZXNJbkxlYWRzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZURlc2lnbmVyOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwZGF0ZURlc2lnbmVyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGFzc2lnbkRlc2lnZXJUb0xlYWRzOmFzeW5jKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgYXNzaWduRGVzaWdlclRvTGVhZHMocGFyZW50LCBfYXJncywgY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGxlYWRzVHlwZWRlZiA9IGBcbiAgICB0eXBlIExlYWRze1xuICAgICAgICBzZmlkOlN0cmluZ1xuICAgICAgICBpZDpJbnRcbiAgICAgICAgZmlyc3RuYW1lOlN0cmluZ1xuICAgICAgICBsYXN0bmFtZTpTdHJpbmdcbiAgICAgICAgbWlkZGxlbmFtZTpTdHJpbmdcbiAgICAgICAgbW9iaWxlcGhvbmU6U3RyaW5nXG4gICAgICAgIHN0YXR1czpTdHJpbmdcbiAgICAgICAgZHNhX2NvZGVfX2M6U3RyaW5nXG4gICAgICAgIGRlc2lnbmVyX3RlYW1fbmFtZV9fYzpTdHJpbmdcbiAgICAgICAgbmFtZTpTdHJpbmdcbiAgICAgICAgcmVnaW9uX19jOlN0cmluZ1xuICAgICAgICBicm9hZGNhc3Rfc3RhdHVzX19jOlN0cmluZ1xuICAgICAgICB3aWxsaW5nbmVzc19mb3JfbWVldGluZ19fYzogRGF0ZVRpbWVcbiAgICAgICAgbWVldGluZ192ZW51ZV9fYzogU3RyaW5nLFxuICAgICAgICBkZXNpZ25fdXNlcl9fYzpTdHJpbmcsXG4gICAgICAgIGhhc19kZXNpZ25lcl9hY2NlcHRlZF9fYzpTdHJpbmdcbiAgICAgICAgbWVldGluZ190eXBlX19jOlN0cmluZyAgICAgXG4gICAgICAgIGFwcHJveF9idWRnZXRfX2M6U3RyaW5nXG4gICAgICAgIGRlc2lnbl91c2VyX25hbWVfX2M6U3RyaW5nXG4gICAgICAgIGVtYWlsOlN0cmluZ1xuICAgICAgICBwcm9wZXJ0eWFkZHJlc3NfX2M6U3RyaW5nXG4gICAgICAgIHByb3BlcnR5X3R5cGVfX2M6U3RyaW5nXG4gICAgICAgIHJlamVjdGVkX2J5X19jOlN0cmluZyBcbiAgICAgICAgY2xpZW50X3NfYnVkZ2V0X19jOkZsb2F0XG4gICAgICAgIGxlYWRfb3duZXJfbmFtZV9fYzpTdHJpbmdcbiAgICAgICAgaG9tZV90eXBlX19jOiBTdHJpbmdcbiAgICB9XG5cbiAgICB0eXBlIFJlcXVpcmVtZW50Rm9ybUREIHtcbiAgICAgICAgaWQ6IEludFxuICAgICAgICByZXF1aXJlbWVudGZvcm1kZXRhaWxzOiBKU09OXG4gICAgICAgIHVzZXI6IEludFxuICAgICAgICBsZWFkaWQ6IEludFxuICAgICAgICBjcmVhdGVkX2F0OiBEYXRlVGltZVxuICAgICAgICB1cGRhdGVkX2F0OiBEYXRlVGltZVxuICAgIH1cblxuICAgIHR5cGUgTGVhZHNSZXNwb25zZXtcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTpTdHJpbmcsXG4gICAgICAgIGRhdGE6W0xlYWRzXVxuICAgIH1cblxuICAgIHR5cGUgQWNjZXB0TGVhZHNSZXNwb25zZXtcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTpTdHJpbmcsXG4gICAgICAgIGRhdGE6TGVhZHNcbiAgICB9XG5cbiAgICB0eXBlIExlYWREZXRhaWxzUmVwc29uZXtcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTpTdHJpbmcsXG4gICAgICAgIGRhdGE6TGVhZHNcbiAgICB9XG5cbiAgICB0eXBlIEFzc2lnblRlYW1zVG9MZWFkUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6SW50XG4gICAgICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgfVxuICAgIHR5cGUgcmVxdWlyZW1lbnRGb3JtRERSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTpSZXF1aXJlbWVudEZvcm1ERFxuICAgIH1cbiAgICB0eXBlIHVwZGF0ZURlc2lnbmVyUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgfVxuICAgIHR5cGUgdXBsb2FkTGVhZEZpbGVzUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6W0pTT05dXG4gICAgfVxuICAgIHR5cGUgdXBsb2FkRmlsZXNSZXNwb25zZSB7IFxuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTpKU09OXG4gICAgfVxuXG4gICAgdHlwZSBMZWFkRmlsZXMge1xuICAgICAgICBpZDogSW50XG4gICAgICAgIGZpbGVrZXk6IFN0cmluZ1xuICAgICAgICBjb250ZW50dHlwZTogU3RyaW5nXG4gICAgICAgIGxvY2F0aW9uOiBTdHJpbmdcbiAgICAgICAgbGVhZGlkOiBTdHJpbmdcbiAgICAgICAgb3Bwb3J0dW5pdHlpZDogU3RyaW5nXG4gICAgICAgIHVwbG9hZGVkYnk6IFN0cmluZ1xuICAgICAgICBjcmVhdGVkX2F0OiBEYXRlVGltZVxuICAgIH1cbiAgICB0eXBlIGdldExlYWRGaWxlc1Jlc3BvbnNlIHsgXG4gICAgICAgIGNvZGU6SW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICBkYXRhOltMZWFkRmlsZXNdXG4gICAgfVxuXG4gICAgdHlwZSBNdXRhdGlvbntcbiAgICAgICAgYWNjZXB0UmVqZWN0TGVhZHMoaXNBY2NlcHQ6SW50LGxlYWRTZklkOlN0cmluZyk6QWNjZXB0TGVhZHNSZXNwb25zZVxuICAgICAgICBhc3NpZ25EZXNpZ2VyVG9MZWFkcyh1c2VySWQ6SW50LGxlYWRTZklkOlN0cmluZyxkZXNpZ25lclRvQmVBc3NpZ25lZDpTdHJpbmcpOkFjY2VwdExlYWRzUmVzcG9uc2VcbiAgICAgICAgYXNzaWduVGVhbXNUb0xlYWQobGVhZElkOlN0cmluZyk6QXNzaWduVGVhbXNUb0xlYWRSZXNwb25zZVxuICAgICAgICBlZGl0UmVxdWlyZW1lbnRzKHJlcXVpcmVtZW50ZGV0YWlsczpKU09OISxsZWFkaWQ6SW50ISxyZXF1aXJlbWVudGlkOkludCk6cmVxdWlyZW1lbnRGb3JtRERSZXNwb25zZVxuICAgICAgICB1cGRhdGVEZXNpZ25lcihkZXNpZ25lcklkOkludCEsbGVhZFNmSWQ6U3RyaW5nKTp1cGRhdGVEZXNpZ25lclJlc3BvbnNlXG4gICAgICAgIHVwbG9hZExlYWRGaWxlcyhsZWFkQXR0YWNobWVudDpbSlNPTl0sbGVhZGlkOlN0cmluZyxvcHBvcnR1bml0eWlkOiBTdHJpbmcpOnVwbG9hZExlYWRGaWxlc1Jlc3BvbnNlXG4gICAgICAgIHVwbG9hZEZpbGVzSW5MZWFkcyhsZWFkaWQ6U3RyaW5nLCBvcHBvcnR1bml0eWlkOlN0cmluZywgYmFzZTY0OlN0cmluZywgZmlsZWtleTpTdHJpbmcsIGNvbnRlbnRUeXBlOlN0cmluZyk6IHVwbG9hZEZpbGVzUmVzcG9uc2VcbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5e1xuICAgICAgICBnZXRCcm9hZGNhc3RMZWFkc0ZvclVzZXI6TGVhZHNSZXNwb25zZVxuICAgICAgICBnZXRMZWFkRGV0YWlsc0J5SWQobGVhZGlkOlN0cmluZyk6TGVhZERldGFpbHNSZXBzb25lXG4gICAgICAgIGdldE15TGVhZHMoc2VhcmNoVGV4dDpTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclByZXNldDpJbnQsXG4gICAgICAgICAgICAgICAgICAgIGZyb21EYXRlOkRhdGVUaW1lLFxuICAgICAgICAgICAgICAgICAgICB0b0RhdGU6RGF0ZVRpbWUsXG4gICAgICAgICAgICAgICAgICAgIHRlYW1OYW1lczpbU3RyaW5nXSxcbiAgICAgICAgICAgICAgICAgICAgZGVzaWduZXJOYW1lczpbU3RyaW5nXSxcbiAgICAgICAgICAgICAgICAgICAgY2l0eXM6W1N0cmluZ10sXG4gICAgICAgICAgICAgICAgICAgIGV4cGVyaWVuY2VDZW50ZXJzOltTdHJpbmddLFxuICAgICAgICAgICAgICAgICAgICBzb3J0QnlNZWV0aW5nU2NoZWR1bGVkOlN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgc29ydEJ5TmFtZTpTdHJpbmcpOkxlYWRzUmVzcG9uc2VcbiAgICAgICAgZ2V0UmVxdWlyZW1lbnRzKGxlYWRpZDpJbnQsb3Bwb3J0dW5pdHlpZDpTdHJpbmcpOnJlcXVpcmVtZW50Rm9ybUREUmVzcG9uc2VcbiAgICAgICAgZ2V0TGVhZEF0dGFjaG1lbnRzKGxlYWRpZDpTdHJpbmcsb3Bwb3J0dW5pdHlpZDpTdHJpbmcsdHlwZTpJbnQhKTpnZXRMZWFkRmlsZXNSZXNwb25zZVxuXG4gICAgfVxuXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdFJlc3BvbnNlT2JqIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBhc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHkgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpPT57XG4gICAgY29uc3Qge29wcG9ydHVuaXR5U0ZJZCxkZXNpZ25lclNGSWR9ID0gYXJncztcblxuICAgIHRyeXtcbiAgICAgICAgYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LnVwZGF0ZSh7XG4gICAgICAgICAgICBkYXRhOntcbiAgICAgICAgICAgICAgICBkZXNpZ25fdXNlcl9fYzpkZXNpZ25lclNGSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICAgICAgc2ZpZDpvcHBvcnR1bml0eVNGSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmNvZGUgPSAyMDA7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gXCJEZXNpZ25lciBBc3NpZ25lZCBTdWNjZXNzZnVsbHkgdG8gdGhlIE9wcG9ydHVuaXR5XCJcbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gNDAwO1xuICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZSA9IGUubWVzc2FnZVxuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG59XG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi91c2Vycy9NdXRhdGlvbnMvR2V0VXNlclwiO1xuXG5leHBvcnQgY29uc3QgZ2V0TXlPcHBvcnR1bml0aWVzID0gYXN5bmMgKF9wYXJlbnQsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IG15T3Bwb3J0dW5pdGllc1Jlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBudWxsIH07XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hUZXh0LCBmaWx0ZXJQcmVzZXQsIHNvcnRCeU1lZXRpbmdTY2hlZHVsZWQsIHNvcnRCeU5hbWUgfSA9XG4gICAgICBhcmdzO1xuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShfY29udGV4dCwgXCJERFwiKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc3QgZmV0Y2hlZHVzZXIgPSBhd2FpdCBnZXRVc2VyKHVzZXIudXNlcmlkKTtcbiAgICAgIGNvbnN0IGZldGNoZWRQcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBwcm9maWxlaWQ6IGZldGNoZWR1c2VyWzBdLnByb2ZpbGVpZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgbGV0IHdoZXJlQ29uZGl0aW9uOiBhbnkgPSB7fTtcbiAgICAgIGNvbnN0IHNlYXJjaENvbmRpdGlvbiA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IHsgY29udGFpbnM6IHNlYXJjaFRleHQgPyBzZWFyY2hUZXh0IDogXCJcIiwgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgbW9iaWxlX19jOiB7IGNvbnRhaW5zOiBzZWFyY2hUZXh0ID8gc2VhcmNoVGV4dCA6IFwiXCIgfSB9LFxuICAgICAgXTtcblxuICAgICAgY29uc29sZS5sb2coMzIsIGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCk7XG4gICAgICBzd2l0Y2ggKGZldGNoZWRQcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICAgICAgICBkZXNpZ25fdXNlcl9fYzogdXNlci5zYWxlc2ZvcmNldXNlcmlkLFxuICAgICAgICAgICAgT1I6IHNlYXJjaENvbmRpdGlvbixcbiAgICAgICAgICAgIEFORDogY3JlYXRlRmlsdGVyQ29uZGl0aW9ucyhhcmdzKSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICAgICAgICBBTkQ6IHtcbiAgICAgICAgICAgICAgT1I6IGZldGNoZWR1c2VyWzBdLnRlYW1zPy5tYXAoKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgc3R1ZGlvX25hbWVfX2M6IHRlYW0ubmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgQU5EOiBjcmVhdGVGaWx0ZXJDb25kaXRpb25zKGFyZ3MpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE9SOiBzZWFyY2hDb25kaXRpb24sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgIE9SOiBmZXRjaGVkdXNlclswXS5leHBlcmllbmNlY2VudGVycy5tYXAoKGV4cENlbnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBtZWV0aW5nX3ZlbnVlX19jOiBleHBDZW50ZXIubmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgQU5EOiBjcmVhdGVGaWx0ZXJDb25kaXRpb25zKGFyZ3MpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE9SOiBzZWFyY2hDb25kaXRpb24sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHdoZXJlQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgIE9SOiBmZXRjaGVkdXNlclswXS5jaXRpZXMubWFwKChjaXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIHJlZ2lvbl9fYzogY2l0eS5uYW1lLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBBTkQ6IGNyZWF0ZUZpbHRlckNvbmRpdGlvbnMoYXJncyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgT1I6IHNlYXJjaENvbmRpdGlvbixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgd2hlcmVDb25kaXRpb24gPSB7XG4gICAgICAgICAgICBPUjogc2VhcmNoQ29uZGl0aW9uLFxuICAgICAgICAgICAgQU5EOiBjcmVhdGVGaWx0ZXJDb25kaXRpb25zKGFyZ3MpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbXlPcHBvcnR1bml0aWVzUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgICBteU9wcG9ydHVuaXRpZXNSZXNwb25zZS5tZXNzYWdlID0gXCJQcm9maWxlIG5vdCBzZXQgZm9yIGdpdmVuIHVzZXJcIjtcbiAgICAgICAgICByZXR1cm4gbXlPcHBvcnR1bml0aWVzUmVzcG9uc2U7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZmlsdGVyUHJlc2V0KSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5zdGFnZW5hbWUgPSBcIlBlbmRpbmcgUXVvdGUgVXBsb2FkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5zdGFnZW5hbWUgPSBcIk1lZXRpbmcgRG9uZVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgd2hlcmVDb25kaXRpb24uc3RhZ2VuYW1lID0gXCJQcm9wb3NhbCBTZW50XCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5zdGFnZW5hbWUgPSBcIkF3YWl0aW5nIENsb3N1cmVcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLnN0YWdlbmFtZSA9IFwiQ2xvc2VkIFdvblwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgd2hlcmVDb25kaXRpb24uc3RhZ2VuYW1lID0gXCJDbG9zZWQgTG9zdFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBvcmRlckJ5QXJyID0gW107XG4gICAgICBpZiAoc29ydEJ5TWVldGluZ1NjaGVkdWxlZCkge1xuICAgICAgICBvcmRlckJ5QXJyLnB1c2goeyBjcmVhdGVkZGF0ZTogc29ydEJ5TWVldGluZ1NjaGVkdWxlZCB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNvcnRCeU5hbWUpIHtcbiAgICAgICAgb3JkZXJCeUFyci5wdXNoKHsgbmFtZTogc29ydEJ5TmFtZSB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCJ3aGVyZUNvbmRpdGlvblwiLCBKU09OLnN0cmluZ2lmeSh3aGVyZUNvbmRpdGlvbikpO1xuICAgICAgY29uc3QgZmV0Y2hlZE9wcG9ydHVuaXRpZXMgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogd2hlcmVDb25kaXRpb24sXG4gICAgICAgIG9yZGVyQnk6IG9yZGVyQnlBcnIsXG4gICAgICB9KTtcblxuICAgICAgbXlPcHBvcnR1bml0aWVzUmVzcG9uc2UuZGF0YSA9IFsuLi5mZXRjaGVkT3Bwb3J0dW5pdGllc107XG4gICAgICBjb25zb2xlLmxvZygxMTExLCBmZXRjaGVkT3Bwb3J0dW5pdGllcy5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBteU9wcG9ydHVuaXRpZXNSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgbXlPcHBvcnR1bml0aWVzUmVzcG9uc2UubWVzc2FnZSA9IFwiVXNlciBJZCBOb3QgUHJvdmlkZWRcIjtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBteU9wcG9ydHVuaXRpZXNSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIG15T3Bwb3J0dW5pdGllc1Jlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgbXlPcHBvcnR1bml0aWVzUmVzcG9uc2UuZGF0YSA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIG15T3Bwb3J0dW5pdGllc1Jlc3BvbnNlO1xufTtcblxuY29uc3QgY3JlYXRlRmlsdGVyQ29uZGl0aW9ucyA9IChhcmdzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBmcm9tRGF0ZSxcbiAgICB0b0RhdGUsXG4gICAgZGVzaWduZXJOYW1lcyxcbiAgICBzdGFnZU5hbWVzLFxuICAgIGV4cGVyaWVuY2VDZW50ZXJzLFxuICAgIHJlZ2lvbnMsXG4gICAgdGVhbXMsXG4gIH0gPSBhcmdzO1xuICBjb25zdCBmaWx0ZXJDb25kaXRpb25zOiBhbnkgPSB7fTtcbiAgY29uc3Qgb3JDb25kaXRpb24gPSBbXTtcblxuICBpZiAoc3RhZ2VOYW1lcykge1xuICAgIHN0YWdlTmFtZXMuZm9yRWFjaCgoc3RhZ2VOYW1lKSA9PiB7XG4gICAgICBvckNvbmRpdGlvbi5wdXNoKHtcbiAgICAgICAgc3RhZ2VuYW1lOiB7IGNvbnRhaW5zOiBzdGFnZU5hbWUgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG5cbiAgaWYgKHRlYW1zKSB7XG4gICAgdGVhbXMuZm9yRWFjaCgodGVhbSkgPT4ge1xuICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgIHN0dWRpb19uYW1lX19jOiB7IGNvbnRhaW5zOiB0ZWFtLCBtb2RlOiBcImluc2Vuc2l0aXZlXCIgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG5cbiAgaWYgKGRlc2lnbmVyTmFtZXMpIHtcbiAgICBkZXNpZ25lck5hbWVzLmZvckVhY2goKGRlc2lnbmVyTmFtZSkgPT4ge1xuICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgIGRlc2lnbl91c2VyX25hbWVfX2M6IHsgY29udGFpbnM6IGRlc2lnbmVyTmFtZSwgbW9kZTogXCJpbnNlbnNpdGl2ZVwiIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmaWx0ZXJDb25kaXRpb25zLkFORCA9IG9yQ29uZGl0aW9uO1xuXG4gIGlmIChleHBlcmllbmNlQ2VudGVycykge1xuICAgIGV4cGVyaWVuY2VDZW50ZXJzLmZvckVhY2goKGV4cGVyaWVuY2VDZW50ZXIpID0+IHtcbiAgICAgIG9yQ29uZGl0aW9uLnB1c2goe1xuICAgICAgICBtZWV0aW5nX3ZlbnVlX19jOiB7IGNvbnRhaW5zOiBleHBlcmllbmNlQ2VudGVyLCBtb2RlOiBcImluc2Vuc2l0aXZlXCIgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG5cbiAgaWYgKHJlZ2lvbnMpIHtcbiAgICByZWdpb25zLmZvckVhY2goKHJlZ2lvbikgPT4ge1xuICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgIHJlZ2lvbl9fYzogeyBjb250YWluczogcmVnaW9uLCBtb2RlOiBcImluc2Vuc2l0aXZlXCIgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG5cbiAgaWYgKGZyb21EYXRlICYmIHRvRGF0ZSkge1xuICAgIG9yQ29uZGl0aW9uLnB1c2goe1xuICAgICAgY3JlYXRlZGRhdGU6IHtcbiAgICAgICAgZ3RlOiBmcm9tRGF0ZSxcbiAgICAgICAgbHRlOiB0b0RhdGUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIGZpbHRlckNvbmRpdGlvbnMuQU5EID0gb3JDb25kaXRpb247XG5cbiAgcmV0dXJuIGZpbHRlckNvbmRpdGlvbnM7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdFJlc3BvbnNlT2JqIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5pbXBvcnQgeyBtYXBBbGxVc2VycyB9IGZyb20gXCIuLi8uLi91c2Vycy9RdWVyaWVzL0dldEFsbFVzZXJzXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRPcHBvcnR1bml0eURldGFpbHNCeUlkID0gYXN5bmMoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PntcbiAgICBjb25zdCB7b3Bwb3J0dW5pdHlJZH0gPSBhcmdzXG5cbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IGZldGNoZWRPcHBvcnR1bml0eURldGFpbHMgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICBzZmlkOm9wcG9ydHVuaXR5SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmNsdWRlOntcbiAgICAgICAgICAgICAgICBkZXNpZ25lclVzZXI6e1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vyc19jaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZTogeyBjaXR5OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB1c2Vyc190ZWFtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7IHRlYW06IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzOntcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6eyBjZW50ZXI6dHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmxvZygyOSxmZXRjaGVkT3Bwb3J0dW5pdHlEZXRhaWxzKTtcbiAgICAgICAgaWYoZmV0Y2hlZE9wcG9ydHVuaXR5RGV0YWlscyl7XG4gICAgICAgICAgICBjb25zdCBkZXNpZ25Vc2VyID0gbWFwQWxsVXNlcnMoZmV0Y2hlZE9wcG9ydHVuaXR5RGV0YWlscz8uZGVzaWduZXJVc2VyID8gW2ZldGNoZWRPcHBvcnR1bml0eURldGFpbHM/LmRlc2lnbmVyVXNlcl0gOiBbXSk7XG4gICAgICAgICAgICBpZihkZXNpZ25Vc2VyKXtcbiAgICAgICAgICAgICAgICBmZXRjaGVkT3Bwb3J0dW5pdHlEZXRhaWxzLmRlc2lnbmVyVXNlciA9IGRlc2lnblVzZXJbMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gMjAwO1xuICAgICAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmRhdGEgPSBmZXRjaGVkT3Bwb3J0dW5pdHlEZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDQwMDtcbiAgICAgICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gXCJObyBPcHBvcnR1bml0eSBmb3VuZCB3aXRoIHRoZSBnaXZlbiBpZFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpe1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmNvZGUgPSA0MDBcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG59XG5cbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBhc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHkgfSBmcm9tIFwiLi9NdXRhdGlvbi9hc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHlcIjtcbmltcG9ydCB7IGdldE15T3Bwb3J0dW5pdGllcyB9IGZyb20gXCIuL1F1ZXJpZXMvZ2V0TXlPcHBvcnR1bml0aWVzXCI7XG5pbXBvcnQgeyBnZXRPcHBvcnR1bml0eURldGFpbHNCeUlkIH0gZnJvbSBcIi4vUXVlcmllcy9nZXRPcHBvcnR1bml0eUJ5SWRcIjtcblxuZXhwb3J0IGNvbnN0IG9wcG9ydHVuaXR5UmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0TXlPcHBvcnR1bml0aWVzOihwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiBnZXRNeU9wcG9ydHVuaXRpZXMocGFyZW50LF9hcmdzLGNvbnRleHQpLFxuICAgIGdldE9wcG9ydHVuaXR5RGV0YWlsc0J5SWQ6KHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+IGdldE9wcG9ydHVuaXR5RGV0YWlsc0J5SWQocGFyZW50LF9hcmdzLGNvbnRleHQpXG4gIH0sXG4gIE11dGF0aW9uOntcbiAgICBhc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHk6KHBhcmVudCxfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gYXNzaWduRGVzaWduZXJUb09wcG9ydHVuaXR5KHBhcmVudCxfYXJncyxjb250ZXh0KVxuICB9LFxuICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlcixcbn07XG4iLCJleHBvcnQgY29uc3Qgb3Bwb3J0dW5pdHlUeXBlZGVmID0gYFxuICAgIHR5cGUgT3Bwb3J0dW5pdHl7XG4gICAgICAgIHNmaWQ6U3RyaW5nXG4gICAgICAgIGlkOkludFxuICAgICAgICBuYW1lOlN0cmluZ1xuICAgICAgICBzdGFnZW5hbWU6U3RyaW5nXG4gICAgICAgIHRlYW1fX2M6U3RyaW5nXG4gICAgICAgIGxlYWRfaWRfX2M6U3RyaW5nXG4gICAgICAgIGRlc2lnbl91c2VyX19jOlN0cmluZ1xuICAgICAgICBkZXNpZ25fdXNlcl9uYW1lX19jOiBTdHJpbmdcbiAgICAgICAgY2xpZW50X3NfYnVkZ2V0X19jOkZsb2F0XG4gICAgICAgIHNpZ251cF9hbW91bnRfX2M6RmxvYXRcbiAgICAgICAgYW1vdW50OkZsb2F0XG4gICAgICAgIHByb3Bvc2VkX2J1ZGdldF9fYzpGbG9hdFxuICAgICAgICBzdHVkaW9fbmFtZV9fYzpTdHJpbmdcbiAgICAgICAgbW9iaWxlX19jOlN0cmluZ1xuICAgICAgICBtZWV0aW5nX3ZlbnVlX19jOlN0cmluZ1xuICAgICAgICBjcmVhdGVkZGF0ZTpEYXRlVGltZVxuICAgICAgICByZWdpb25fX2M6U3RyaW5nXG4gICAgfVxuXG4gICAgdHlwZSBHZXRPcHBvcnR1bml0eUJ5SWR7XG4gICAgICAgIHNmaWQ6U3RyaW5nXG4gICAgICAgIG5hbWU6U3RyaW5nXG4gICAgICAgIGVtYWlsX19jOlN0cmluZ1xuICAgICAgICBtb2JpbGVfX2M6U3RyaW5nXG4gICAgICAgIGN1c3RvbWVyX2lkX19jOlN0cmluZ1xuICAgICAgICBhbW91bnQ6RmxvYXRcbiAgICAgICAgc3RhZ2VuYW1lOlN0cmluZ1xuICAgICAgICBzYWxlc21hbmFnZXJuYW1lX19jOlN0cmluZ1xuICAgICAgICBwcm9wZXJ0eV9hZGRyZXNzX19jOlN0cmluZ1xuICAgICAgICBob21lX3R5cGVfX2M6U3RyaW5nXG4gICAgICAgIHN0dWRpb19uYW1lX19jOlN0cmluZ1xuICAgICAgICBkZXNpZ25lcl91c2VyX19jOlN0cmluZ1xuICAgICAgICBjbGllbnRfc19idWRnZXRfX2M6U3RyaW5nXG4gICAgICAgIGRlc2lnbmVyVXNlcjpVc2Vyc1xuICAgICAgICByZWdpb25fX2M6U3RyaW5nXG4gICAgICAgIGNyZWF0ZWRkYXRlOkRhdGVUaW1lXG4gICAgfVxuXG4gICAgdHlwZSBBc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHlSZXNwb25zZXtcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTpTdHJpbmdcbiAgICB9XG5cbiAgICB0eXBlIEdldE15T3Bwb3J0dW5pdHl7XG4gICAgICAgIGNvZGU6SW50LFxuICAgICAgICBtZXNzYWdlOlN0cmluZyxcbiAgICAgICAgZGF0YTpbT3Bwb3J0dW5pdHldXG4gICAgfVxuXG4gICAgdHlwZSBHZXRPcHBvcnR1bml0eURldGFpbHNCeUlkUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6SW50LFxuICAgICAgICBtZXNzYWdlOlN0cmluZyxcbiAgICAgICAgZGF0YTpHZXRPcHBvcnR1bml0eUJ5SWRcbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5e1xuICAgICAgICBnZXRNeU9wcG9ydHVuaXRpZXMoXG4gICAgICAgICAgICBzZWFyY2hUZXh0OlN0cmluZyxcbiAgICAgICAgICAgIGZpbHRlclByZXNldDpJbnQsXG4gICAgICAgICAgICBmcm9tRGF0ZTpEYXRlVGltZSxcbiAgICAgICAgICAgIHRvRGF0ZTpEYXRlVGltZSxcbiAgICAgICAgICAgIGRlc2lnbmVyTmFtZXM6W1N0cmluZ10sXG4gICAgICAgICAgICBzdGFnZU5hbWVzOltTdHJpbmddLFxuICAgICAgICAgICAgZXhwZXJpZW5jZUNlbnRlcnM6W1N0cmluZ10sXG4gICAgICAgICAgICByZWdpb25zOltTdHJpbmddLFxuICAgICAgICAgICAgdGVhbXM6W1N0cmluZ10sXG4gICAgICAgICAgICBzb3J0QnlNZWV0aW5nU2NoZWR1bGVkOlN0cmluZyxcbiAgICAgICAgICAgIHNvcnRCeU5hbWU6U3RyaW5nKTpHZXRNeU9wcG9ydHVuaXR5XG4gICAgICAgIFxuICAgICAgICBnZXRPcHBvcnR1bml0eURldGFpbHNCeUlkKG9wcG9ydHVuaXR5SWQ6U3RyaW5nKTpHZXRPcHBvcnR1bml0eURldGFpbHNCeUlkUmVzcG9uc2VcbiAgICB9XG5cbiAgICB0eXBlIE11dGF0aW9ue1xuICAgICAgICBhc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHkob3Bwb3J0dW5pdHlTRklkOlN0cmluZyxkZXNpZ25lclNGSWQ6U3RyaW5nKTpBc3NpZ25EZXNpZ25lclRvT3Bwb3J0dW5pdHlSZXNwb25zZVxuICAgIH1cblxuICAgIHNjYWxhciBEYXRlVGltZVxuYDtcbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlfSBmcm9tICdhcG9sbG8tZGF0YXNvdXJjZS1yZXN0JztcblxuY2xhc3MgQXV0aGVudGljYXRpb25Ub2tlbiBleHRlbmRzIFJFU1REYXRhU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG4gICAgICB9XG4gICAgICAvLyBwb3N0XG4gICAgICBhc3luYyBhdXRoZW50aWNhdGlvblRva2VuRGF0YShjbGllbnRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zdCgnYXV0aGVudGljYXRlJyx7XG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgY2xpZW50SWRcbiAgICAgIH0pXG4gICAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBBdXRoZW50aWNhdGlvblRva2VuXG4iLCJleHBvcnQgY29uc3QgYXV0aGVudGljYXRpb25Ub2tlblJlc2xvdmVyID0ge1xuICAgIE11dGF0aW9uOntcbiAgICAgICAgQXV0aGVudGljYXRpb25Ub2tlbjphc3luYyhfLCB7Y2xpZW50SWR9LHsgZGF0YVNvdXJjZXMgfSk9PlxuICAgICAgICBkYXRhU291cmNlcy5BdXRoZW50aWNhdGlvblRva2VuLmF1dGhlbnRpY2F0aW9uVG9rZW5EYXRhKGNsaWVudElkKVxuICAgIH0sXG5cbn1cbiIsImV4cG9ydCBjb25zdCBhdXRoZW50aWNhdGlvblRva2VuVHlwZWRlZiA9YFxuc2NhbGFyIEpTT05cbnR5cGUgYXV0aGVudGljYXRpb25kYXRhe1xuICAgIHN0YXR1c0NvZGU6SW50XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOlN0cmluZ1xuICAgIGFjY2Vzc1Rva2VuOlN0cmluZ1xufVxudHlwZSBNdXRhdGlvbiB7XG4gICAgQXV0aGVudGljYXRpb25Ub2tlbihjbGllbnRJZDpTdHJpbmcpOmF1dGhlbnRpY2F0aW9uZGF0YVxufVxuYDtcbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnYXBvbGxvLWRhdGFzb3VyY2UtcmVzdCc7XG5cbmNsYXNzIFVwZGF0ZUN1c3RvbWVyIGV4dGVuZHMgUkVTVERhdGFTb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG5cbiAgICAgIH1cbiAgICAgIHdpbGxTZW5kUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJyx0aGlzLmNvbnRleHQuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdC5oZWFkZXJzKVxuICAgICAgfVxuICAgICAgLy8gcG9zdFxuICAgICAgYXN5bmMgdXBkYXRlQ3VzdG9tZXJEYXRhKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qge1BBTixsMTBuX2luX2dzdF90cmVhdG1lbnQsR1NULGN1c3RvbWVyUGhvbmUsY3VzdG9tZXJOYW1lLGN1c3RvbWVyRW1haWwsY3VzdG9tZXJCaWxsaW5nQWRkcmVzc30gPSBhcmdzLmN1c3RvbWVyO1xuICAgICAgICByZXR1cm4gIHRoaXMucHV0KCdjdXN0b21lcicse1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIFBBTixcbiAgICAgICAgbDEwbl9pbl9nc3RfdHJlYXRtZW50LFxuICAgICAgICBHU1QsXG4gICAgICAgIGN1c3RvbWVyUGhvbmUsXG4gICAgICAgIGN1c3RvbWVyTmFtZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJCaWxsaW5nQWRkcmVzc1xuICAgICB9LFxuICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFVwZGF0ZUN1c3RvbWVyXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRDdXN0b21lckFkZHJlc3MgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCBDdXN0b21lckFkZHJlc3NSZXNwb25zZU9iajtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3QoeyB3aGVyZTogeyBjdXN0b21lcmlkOiBhcmdzLmN1c3RvbWVyaWQgfSB9KTtcbiAgICAgICAgY29uc3QgY3VzdG9tZXJJbmZvID0ge1xuICAgICAgICAgICAgY3VzdG9tZXJuYW1lOiBjdXN0b21lci5maXJzdG5hbWUsXG4gICAgICAgICAgICBjdXN0b21lcmVtYWlsOiBjdXN0b21lci5jdXN0b21lcmVtYWlsLFxuICAgICAgICAgICAgY3VzdG9tZXJwaG9uZTogY3VzdG9tZXIuY3VzdG9tZXJwaG9uZSxcbiAgICAgICAgICAgIHBhbjogY3VzdG9tZXIucGFuY2FyZG5vLFxuICAgICAgICAgICAgZ3N0OiBjdXN0b21lci5nc3Rub1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSBhd2FpdCBwcmlzbWEuZGNfYWRkcmVzc2VzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGFyZ3MuY3VzdG9tZXJpZCwgYWRkcmVzc3R5cGU6IDEgfSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhZGRyZXNzXCIsIGFkZHJlc3MpO1xuICAgICAgICBjb25zdCBiaWxsaW5nQWRkcmVzcyA9IHtcbiAgICAgICAgICAgIHppcDogYWRkcmVzcy56aXAsXG4gICAgICAgICAgICBzdHJlZXQ6IGFkZHJlc3Muc3RyZWV0LFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Muc3RhdGUsXG4gICAgICAgICAgICBjaXR5OiBhZGRyZXNzLmNpdHksXG4gICAgICAgICAgICBjb3VudHJ5OiBhZGRyZXNzLmNvdW50cnlcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hpcHBpbmdBZGRyZXNzID0gbnVsbDtcbiAgICAgICAgY29uc3QgQ3VzdG9tZXJTYWRkcmVzcyA9IGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMuZmluZEZpcnN0KHsgd2hlcmU6IHsgYWRkcmVzc3R5cGU6IDIsIGN1c3RvbWVyaWQ6IGFyZ3MuY3VzdG9tZXJpZCB9IH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhDdXN0b21lclNhZGRyZXNzKTtcbiAgICAgICAgaWYgKEN1c3RvbWVyU2FkZHJlc3MpIHtcbiAgICAgICAgICAgIHNoaXBwaW5nQWRkcmVzcyA9IHtcbiAgICAgICAgICAgICAgICB6aXA6IEN1c3RvbWVyU2FkZHJlc3MuemlwLFxuICAgICAgICAgICAgICAgIHN0cmVldDogQ3VzdG9tZXJTYWRkcmVzcy5zdHJlZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IEN1c3RvbWVyU2FkZHJlc3Muc3RhdGUsXG4gICAgICAgICAgICAgICAgY2l0eTogQ3VzdG9tZXJTYWRkcmVzcy5jaXR5LFxuICAgICAgICAgICAgICAgIGNvdW50cnk6IEN1c3RvbWVyU2FkZHJlc3MuY291bnRyeVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEN1c3RvbWVyQWRkcmVzc1Jlc3BvbnNlT2JqID0ge1xuICAgICAgICAgICAgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgY3VzdG9tZXJJbmZvOiBjdXN0b21lckluZm8sIGJpbGxpbmdBZGRyZXNzOiBiaWxsaW5nQWRkcmVzcywgc2hpcHBpbmdBZGRyZXNzOiBzaGlwcGluZ0FkZHJlc3NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ3VzdG9tZXJBZGRyZXNzUmVzcG9uc2VPYmpcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBDdXN0b21lckFkZHJlc3NSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIEN1c3RvbWVyQWRkcmVzc1Jlc3BvbnNlT2JqXG4gICAgfVxuXG59XG5cbiIsImltcG9ydCB7R3JhcGhRTEpTT059IGZyb20gJ2dyYXBocWwtc2NhbGFycyc7XG5pbXBvcnQge2dldEN1c3RvbWVyQWRkcmVzc30gZnJvbSAnLi9RdWVyaWVzL2dldEN1c3RvbWVyQWRkcmVzcyc7XG5leHBvcnQgY29uc3QgY3VzdG9tZXJQYXltZW50UmVzbG92ZXJzID0ge1xuICAgIE11dGF0aW9uOntcbiAgICAgICAgVXBkYXRlQ3VzdG9tZXI6YXN5bmMoXywgYXJncyx7IGRhdGFTb3VyY2VzICwgcmVxIH0pPT5kYXRhU291cmNlcy5VcGRhdGVDdXN0b21lci51cGRhdGVDdXN0b21lckRhdGEoYXJncyxyZXEpXG4gICAgfSxcbiAgICBRdWVyeTp7XG4gICAgICAgIGdldEN1c3RvbWVyQWRkcmVzczphc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5nZXRDdXN0b21lckFkZHJlc3MocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgfSxcbiAgICBKU09OOkdyYXBoUUxKU09OXG59XG4iLCJleHBvcnQgY29uc3QgY3VzdG9tZXJQYXltZW50VHlwZWRlZiA9YFxuc2NhbGFyIEpTT05cblxudHlwZSBjdXN0b21lcmRhdGF7XG4gICAgc3RhdHVzQ29kZTpJbnRcbiAgICBtZXNzYWdlOlN0cmluZ1xuICAgIGNvZGU6SW50XG59XG5pbnB1dCBBZGRyZXNzVG9CZVVwZGF0ZWR7XG4gICAgemlwT3JQb3N0YWxDb2RlOlN0cmluZ1xuICAgIHN0cmVldDpTdHJpbmdcbiAgICBzdGF0ZTpTdHJpbmdcbiAgICBjb3VudHJ5OlN0cmluZ1xuICAgIGNpdHk6U3RyaW5nXG59XG5cbnR5cGUgYWRkcmVzc1Jlc3BvbnNle1xuICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgY29kZTpJbnRcbiAgICBjdXN0b21lckluZm86SlNPTlxuICAgIGJpbGxpbmdBZGRyZXNzOkpTT05cbiAgICBzaGlwcGluZ0FkZHJlc3M6SlNPTlxufVxuXG5pbnB1dCBDdXN0b21lclRvQmVVcGRhdGVke1xuICAgIFBBTjogU3RyaW5nXG4gICAgbDEwbl9pbl9nc3RfdHJlYXRtZW50OiBTdHJpbmdcbiAgICBHU1Q6IFN0cmluZ1xuICAgIGN1c3RvbWVyUGhvbmU6IFN0cmluZ1xuICAgIGN1c3RvbWVyTmFtZTogU3RyaW5nXG4gICAgY3VzdG9tZXJFbWFpbDogU3RyaW5nXG4gICAgY3VzdG9tZXJCaWxsaW5nQWRkcmVzczogW0FkZHJlc3NUb0JlVXBkYXRlZF1cbn1cblxuXG50eXBlIE11dGF0aW9uIHtcblVwZGF0ZUN1c3RvbWVyKGN1c3RvbWVyOkN1c3RvbWVyVG9CZVVwZGF0ZWQpOmN1c3RvbWVyZGF0YVxufVxuXG50eXBlIFF1ZXJ5IHtcbiAgICBnZXRDdXN0b21lckFkZHJlc3MoY3VzdG9tZXJpZDpJbnQpOmFkZHJlc3NSZXNwb25zZVxufVxuYDtcblxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IFBheW1lbnRDYXRlZ29yeUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUGF5bWVudENhdGVnb3J5RW51bVwiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcbmltcG9ydCBDcmVhdGVQYXlNaUludm9pY2UgZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9SZXF1ZXN0ZGF0YS9JbnZvaWNlZ2VuZXJhdGlvbnJlcXVlc3Rtb2RlbFwiO1xuZXhwb3J0IGNvbnN0IENhbGN1bGF0ZUludm9pY2VuZXdmbG93ID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgY29uc3QgeyBjYXRlZ29yeSwgY2xpZW50aWQsIG1pbGVzdG9uZU5hbWUgfSA9IGFyZ3M7XG4gIGxldCBiYXNlQW1vdW50O1xuICBjb25zdCBhZGRpdGlvbmFsQ2hhcmdlID0gMDtcbiAgY29uc3QgZGVmYXVsdFN0YXR1cyA9IFwiRHJhZnRcIjtcbiAgY29uc3QgSW52b2ljZSA9IGF3YWl0IHByaXNtYS5kY19vZG9vaW52b2ljZS5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7XG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBjbGllbnRpZDogY2xpZW50aWQsXG4gICAgICBtaWxlc3RvbmU6IG1pbGVzdG9uZU5hbWUsXG4gICAgfSxcbiAgfSk7XG4gIGlmIChJbnZvaWNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiSW52b2ljZSBBbHJlYWR5IGF2YWlsYWJsZVwiLFxuICAgICAgZGF0YTogSW52b2ljZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBwcm9qZWN0aWQ6IGNsaWVudGlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaW52b2ljZWNhbGN1bGF0ZWRBbW91bnQgPSBhd2FpdCBjYWxjdWxhdGVJbnZvaWNlQW1vdW50KGNhdGVnb3J5LCBtaWxlc3RvbmVOYW1lLCBwcm9qZWN0KVxuICAgIGJhc2VBbW91bnQgPSBNYXRoLmZsb29yKChpbnZvaWNlY2FsY3VsYXRlZEFtb3VudCAqIDEwMCkgLyAxMTgpO1xuICAgIGNvbnN0IHBheU1pUmVxdWVzdE9iaiA9IG5ldyBDcmVhdGVQYXlNaUludm9pY2UoKTtcbiAgICBwYXlNaVJlcXVlc3RPYmoubWlsZXN0b25lID0gbWlsZXN0b25lTmFtZTtcbiAgICBwYXlNaVJlcXVlc3RPYmouY2xpZW50SUQgPSBjbGllbnRpZDtcbiAgICBwYXlNaVJlcXVlc3RPYmouY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICBwYXlNaVJlcXVlc3RPYmouY3VycmVudFByb2plY3RWYWx1ZSA9IHByb2plY3QudG90YWxwcm9qZWN0dmFsdWU7XG4gICAgcGF5TWlSZXF1ZXN0T2JqLmN1cnJlbnRNb2R1bGFyVmFsdWUgPSBwcm9qZWN0LnByb2plY3Rtb2R1bGFydmFsdWU7XG4gICAgcGF5TWlSZXF1ZXN0T2JqLmN1cnJlbnRTaXRlU2VydmljZXNWYWx1ZSA9IHByb2plY3QucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlO1xuICAgIHBheU1pUmVxdWVzdE9iai5iYXNlQW1vdW50ID0gYmFzZUFtb3VudDtcbiAgICBwYXlNaVJlcXVlc3RPYmouYWRkaXRpb25hbENoYXJnZSA9IGFkZGl0aW9uYWxDaGFyZ2U7XG4gICAgcGF5TWlSZXF1ZXN0T2JqLnN0YXR1cyA9IGRlZmF1bHRTdGF0dXM7XG5cbiAgICBjb25zdCBwYXltaVJlcyA9IGF3YWl0IGdldFBheW1pQ29ubmVjdGlvbigpO1xuICAgIGNvbnN0IGF1dGhUb2tlbiA9IHBheW1pUmVzLmFjY2Vzc1Rva2VuO1xuICAgIGNvbnNvbGUubG9nKHBheU1pUmVxdWVzdE9iaik7XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQgKyBcImdlbmVyYXRlTmV3UHJvamVjdEludm9pY2VcIjtcbiAgICBjb25zdCBwYXlNaVJlc3BvbnNlID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgICAgLnBvc3QodXJsKVxuICAgICAgLnNlbmQoeyBpbnZvaWNlRGF0YTogcGF5TWlSZXF1ZXN0T2JqIH0pXG4gICAgICAuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgICAgLnNldChcIkF1dGhvcml6YXRpb25cIiwgYXV0aFRva2VuKVxuXG4gICAgY29uc29sZS5sb2cocGF5TWlSZXNwb25zZS5ib2R5KTtcbiAgICBpZiAocGF5TWlSZXNwb25zZS5ib2R5LnN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIHBheU1pUmVzcG9uc2UuYm9keS5tZXNzYWdlKTtcbiAgICB9XG4gICAgaWYgKCFwYXlNaVJlc3BvbnNlLmJvZHkuZGF0YS5pbnZvaWNlSWQpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBcIkludmFsaWQgTWljcm9zZXJ2aWNlIHJlc3BvbnNlIGJvZHlcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIkludm9pY2UgYW1vdW50IGdlbmVyYXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgIGRhdGE6IGludm9pY2VjYWxjdWxhdGVkQW1vdW50LFxuICAgIH1cbiAgfVxufVxuY29uc3QgY2FsY3VsYXRlSW52b2ljZUFtb3VudCA9IGFzeW5jIChjYXRlZ29yeSwgbWlsZVN0b25lLCBwcm9qZWN0KSA9PiB7XG4gIGxldCB0b3RhbEFtb3VudDogbnVtYmVyO1xuICBpZiAoY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gUGF5bWVudENhdGVnb3J5RW51bS5NT0RVTEFSKSB7XG4gICAgdG90YWxBbW91bnQgPSBwcm9qZWN0LnByb2plY3Rtb2R1bGFydmFsdWU7XG4gICAgbGV0IG1pbGVzdG9uZUFtb3VudFZhbHVlOiBudW1iZXI7XG4gICAgaWYgKG1pbGVTdG9uZSA9PT0gXCIxNSVcIikge1xuICAgICAgbWlsZXN0b25lQW1vdW50VmFsdWUgPSAodG90YWxBbW91bnQgKiAyMCkgLyAxMDA7XG4gICAgfSBlbHNlIGlmIChtaWxlU3RvbmUgPT09IFwiMzUlXCIpIHtcbiAgICAgIG1pbGVzdG9uZUFtb3VudFZhbHVlID0gKHRvdGFsQW1vdW50ICogNTUpIC8gMTAwO1xuICAgIH0gZWxzZSBpZiAobWlsZVN0b25lID09PSBcIjQ1JVwiKSB7XG4gICAgICBtaWxlc3RvbmVBbW91bnRWYWx1ZSA9IHRvdGFsQW1vdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJNb2R1bGFyIE1pbGVTdG9uZSBNaXNtYXRjaFwiKTtcbiAgICB9XG4gICAgY29uc3QgaW52b2ljZUFtb3VudCA9IGF3YWl0IGNhbGN1bGF0ZUZpbmFsQW1vdW50KGNhdGVnb3J5LCBwcm9qZWN0KTtcbiAgICByZXR1cm4gbWlsZXN0b25lQW1vdW50VmFsdWUgLSBpbnZvaWNlQW1vdW50O1xuICB9IGVsc2UgaWYgKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFBheW1lbnRDYXRlZ29yeUVudW0uU0lURV9TRVJWSUNFKSB7XG4gICAgdG90YWxBbW91bnQgPSBwcm9qZWN0LnByb2plY3RzaXRlc2VydmljZXN2YWx1ZTtcbiAgICBsZXQgbWlsZXN0b25lQW1vdW50VmFsdWU6IG51bWJlcjtcbiAgICBpZiAobWlsZVN0b25lID09PSBcIjQ1JVwiKSB7XG4gICAgICBtaWxlc3RvbmVBbW91bnRWYWx1ZSA9ICh0b3RhbEFtb3VudCAqIDUwKSAvIDEwMDtcbiAgICB9IGVsc2UgaWYgKG1pbGVTdG9uZSA9PT0gXCI1MCVcIikge1xuICAgICAgbWlsZXN0b25lQW1vdW50VmFsdWUgPSB0b3RhbEFtb3VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIFwiU2l0ZSBTZXJ2aWNlcyBNaWxlU3RvbmUgTWlzbWF0Y2hcIik7XG4gICAgfVxuICAgIGNvbnN0IGludm9pY2VBbW91bnQgPSBhd2FpdCBjYWxjdWxhdGVGaW5hbEFtb3VudChjYXRlZ29yeSwgcHJvamVjdCk7XG4gICAgcmV0dXJuIG1pbGVzdG9uZUFtb3VudFZhbHVlIC0gaW52b2ljZUFtb3VudDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJQYXltZW50IENhdGVnb3J5IE1pc21hdGNoXCIpO1xuICB9XG59XG5jb25zdCBjYWxjdWxhdGVGaW5hbEFtb3VudCA9IGFzeW5jIChjYXRlZ29yeSwgcHJvamVjdCkgPT4ge1xuICBsZXQgaW52b2ljZUFtb3VudCA9IDA7XG4gIGNvbnN0IGludm9pY2VzID0gYXdhaXQgcHJpc21hLmRjX29kb29pbnZvaWNlLmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgY2xpZW50aWQ6IHByb2plY3QucHJvamVjdGlkLFxuICAgIH1cbiAgfSk7XG4gIGlmIChpbnZvaWNlcykge1xuICAgIGZvciAoY29uc3QgaW52b2ljZSBvZiBpbnZvaWNlcykge1xuICAgICAgY29uc29sZS5sb2coaW52b2ljZSk7XG4gICAgICBpbnZvaWNlQW1vdW50ID0gaW52b2ljZUFtb3VudCArIGludm9pY2UuaW52b2ljZWFtb3VudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGludm9pY2VBbW91bnQ7XG5cbn1cblxuY29uc3QgZ2V0UGF5bWlDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBmaW5hbFVybCA9IHByb2Nlc3MuZW52LmFwaUVuZHBvaW50ICsgXCJhdXRoZW50aWNhdGVcIlxuICBjb25zb2xlLmxvZyhmaW5hbFVybCk7XG4gIGNvbnN0IHJlcUJvZHkgPSB7XG4gICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkNEQ2xpZW50SWRcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAgIC5wb3N0KGZpbmFsVXJsKVxuICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIilcbiAgICAgIC5zZW5kKHJlcUJvZHkpO1xuICAgIHJldHVybiByZXMuYm9keTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUkVTVERhdGFTb3VyY2UsUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdhcG9sbG8tZGF0YXNvdXJjZS1yZXN0JztcblxuY2xhc3MgR2VuZXJhdGVJbnZvaWNlbmV3ZmxvdyBleHRlbmRzIFJFU1REYXRhU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG4gICAgfVxuICAgIHdpbGxTZW5kUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJyx0aGlzLmNvbnRleHQuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcbiAgICB9XG4gICAgYXN5bmMgZ2VuZXJhdGVJbnZvaWNlTmV3Rmxvd0RhdGEoYXJncykge1xuICAgIGNvbnN0IHtpbnZvaWNlRGF0YX0gPSBhcmdzO1xuICAgIGNvbnN0IHttaWxlc3RvbmUsY3VycmVudFByb2plY3RWYWx1ZSxjbGllbnRJRCxjYXRlZ29yeSxjdXJyZW50TW9kdWxhclZhbHVlLGN1cnJlbnRTaXRlU2VydmljZXNWYWx1ZSxiYXNlQW1vdW50LGFkZGl0aW9uYWxDaGFyZ2Usc3RhdHVzfSA9IGludm9pY2VEYXRhO1xuICAgIHJldHVybiAgdGhpcy5wb3N0KCdnZW5lcmF0ZU5ld1Byb2plY3RJbnZvaWNlJyx7XG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgaW52b2ljZURhdGE6e1xuICAgICAgICAgICAgbWlsZXN0b25lLFxuICAgICAgICAgICAgY3VycmVudFByb2plY3RWYWx1ZSxcbiAgICAgICAgICAgIGNsaWVudElELFxuICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICBjdXJyZW50TW9kdWxhclZhbHVlLFxuICAgICAgICAgICAgY3VycmVudFNpdGVTZXJ2aWNlc1ZhbHVlLFxuICAgICAgICAgICAgYmFzZUFtb3VudCxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxDaGFyZ2UsXG4gICAgICAgICAgICBzdGF0dXNcblxuICAgICAgICB9XG4gICAgfVxuICAgICAgKVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEdlbmVyYXRlSW52b2ljZW5ld2Zsb3dcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCBzdXBlcmFnZW50IGZyb20gXCJzdXBlcmFnZW50XCI7XG5pbXBvcnQgTWljcm9zZXJ2aWNlSW52b2ljZVJlcXVlc3RNb2RlbCwgeyBBZGRyZXNzTW9kZWwsIEFkZE9uUGF5bWVudE9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vUmVxdWVzdGRhdGEvTWljcm9zZXJ2aWNlaW52b2ljZXJlcXVlc3Rtb2RlbFwiO1xuXG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUludm9pY2VPbGRGbG93ID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcblxuICBjb25zdCB7IHByb2plY3RpZCwgbWlsZXN0b25laWQsIGlzUmVnZW5lcmF0ZSB9ID0gYXJncztcbiAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3QoeyB3aGVyZTogeyBpZDogcHJvamVjdGlkIH0gfSk7XG4gIGlmIChwcm9qZWN0LmN1c3RvbWVyaWQgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJDdXN0b21lciBJbmZvcm1hdGlvbiBub3QgZm91bmRcIik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbWlsZXN0b25lID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH0gfSk7XG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHsgd2hlcmU6IHsgY3VzdG9tZXJpZDogcHJvamVjdC5jdXN0b21lcmlkIH0gfSk7XG4gICAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMuZmluZEZpcnN0KHsgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXIuY3VzdG9tZXJpZCB9IH0pO1xuICAgIGNvbnN0IGJpbGxpbmdBZGRyZXNzSW4gPSBuZXcgQWRkcmVzc01vZGVsKCk7XG4gICAgYmlsbGluZ0FkZHJlc3NJbi5jb3VudHJ5ID0gYWRkcmVzcy5jb3VudHJ5O1xuICAgIGJpbGxpbmdBZGRyZXNzSW4uc3RyZWV0ID0gYWRkcmVzcy5zdHJlZXQ7XG4gICAgYmlsbGluZ0FkZHJlc3NJbi5jaXR5ID0gYWRkcmVzcy5jaXR5O1xuICAgIGJpbGxpbmdBZGRyZXNzSW4uemlwT3JQb3N0YWxDb2RlID0gYWRkcmVzcy56aXA7XG4gICAgYmlsbGluZ0FkZHJlc3NJbi5zaGlwcGluZ1N0YXRlID0gYWRkcmVzcy5zdGF0ZTtcbiAgICBjb25zdCBzaGlwcGluZ0FkZHJlc3NJbiA9IG5ldyBBZGRyZXNzTW9kZWwoKTtcbiAgICBzaGlwcGluZ0FkZHJlc3NJbi5jb3VudHJ5ID0gYWRkcmVzcy5jb3VudHJ5O1xuICAgIHNoaXBwaW5nQWRkcmVzc0luLnN0cmVldCA9IGFkZHJlc3Muc3RyZWV0O1xuICAgIHNoaXBwaW5nQWRkcmVzc0luLmNpdHkgPSBhZGRyZXNzLmNpdHk7XG4gICAgc2hpcHBpbmdBZGRyZXNzSW4uemlwT3JQb3N0YWxDb2RlID0gYWRkcmVzcy56aXA7XG4gICAgc2hpcHBpbmdBZGRyZXNzSW4uc2hpcHBpbmdTdGF0ZSA9IGFkZHJlc3Muc3RhdGU7XG5cbiAgICBjb25zdCBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UgPSBuZXcgTWljcm9zZXJ2aWNlSW52b2ljZVJlcXVlc3RNb2RlbCgpO1xuXG4gICAgaWYgKG1pbGVzdG9uZS5wYXltZW50dmFsdWUgPT09IFwiNSVcIikge1xuICAgICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnBheW1lbnROYW1lID0gYCR7bWlsZXN0b25lLnBheW1lbnR2YWx1ZX0gc3VwcGx5IG9mIGludGVyaW9yIHdvcmtzYDtcbiAgICB9IGVsc2UgaWYgKG1pbGVzdG9uZS5wYXltZW50dmFsdWUgPT09IFwiMTAwJVwiKSB7XG4gICAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucGF5bWVudE5hbWUgPSBcImRlZXAgY2xlYW5pbmdcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnBheW1lbnROYW1lID0gYCR7bWlsZXN0b25lLnBheW1lbnR2YWx1ZX0gc3VwcGx5IG9mIHdvcmtzYDtcbiAgICB9XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLmN1c3RvbWVyTmFtZSA9IGN1c3RvbWVyLmZpcnN0bmFtZTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuY3VzdG9tZXJFbWFpbCA9IGN1c3RvbWVyLmN1c3RvbWVyZW1haWw7XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLmN1c3RvbWVyUGhvbmUgPSBjdXN0b21lci5jdXN0b21lcnBob25lO1xuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5jdXN0b21lclNoaXBwaW5nQWRkcmVzcyA9IHNoaXBwaW5nQWRkcmVzc0luO1xuICAgIGNvbnNvbGUubG9nKHNoaXBwaW5nQWRkcmVzc0luKTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuY3VzdG9tZXJCaWxsaW5nQWRkcmVzcyA9IGJpbGxpbmdBZGRyZXNzSW47XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnByb2plY3RJRCA9IHByb2plY3QucHJvamVjdGlkO1xuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5wcm9qZWN0TmFtZSA9IHByb2plY3QucHJvamVjdG5hbWU7XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnByb2plY3RTdGF0dXMgPSBgJHtwcm9qZWN0LnByb2plY3RzdGF0dXN9YDtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucmVxdWVzdE5hbWUgPSBcIkdFTkVSQVRFX0lOVk9JQ0VcIjtcbiAgICBpZiAobWlsZXN0b25lLnBheW1lbnR2YWx1ZSA9PT0gXCI1JVwiKSB7XG4gICAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucGF5bWVudE5hbWUgPSBgJHttaWxlc3RvbmUucGF5bWVudHZhbHVlfSBzdXBwbHkgb2YgaW50ZXJpb3Igd29ya3NgO1xuICAgIH0gZWxzZSBpZiAobWlsZXN0b25lLnBheW1lbnR2YWx1ZSA9PT0gXCIxMDAlXCIpIHtcbiAgICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5wYXltZW50TmFtZSA9IFwiZGVlcCBjbGVhbmluZ1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucGF5bWVudE5hbWUgPSBgJHttaWxlc3RvbmUucGF5bWVudHZhbHVlfSBzdXBwbHkgb2Ygd29ya3NgO1xuICAgIH1cbiAgICBjb25zdCBleHBlcmllbmNlQ2VudGVyID0gYXdhaXQgcHJpc21hLmRjX2V4cGVyaWVuY2VjZW50ZXJzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGNlbnRlcmlkOiBwcm9qZWN0LmV4cGVyaWVuY2VjZW50ZXJpZCB9IH0pXG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLmFwcGxpY2F0aW9uSWQgPSBcIkRFU0lHTkVSX0RBU0hCT0FSRFwiO1xuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5pbnZvaWNlRGF0ZSA9IGRheWpzKCkuZm9ybWF0KFwiREQvTU0vWVlZWVwiKS8vdG9VVENGb3JtYXRcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucHJvamVjdFZhbHVlID0gTnVtYmVyKHByb2plY3QucHJvamVjdHZhbHVlKTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuYW1vdW50ID0gTnVtYmVyKG1pbGVzdG9uZS5tb2R1bGFyYW1vdW50KTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuZXhwZXJpZW5jZUNlbnRlciA9IGV4cGVyaWVuY2VDZW50ZXIubmFtZTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UubWlsZXN0b25lUGVuZGluZ0R1ZSA9IE51bWJlcihtaWxlc3RvbmUuYW1vdW50ZHVlKTtcbiAgICBpZiAobWlsZXN0b25lLmludm9pY2VudW1iZXIpIHtcbiAgICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5pbnZvaWNlTnVtYmVyID0gbWlsZXN0b25lLmludm9pY2VudW1iZXI7XG4gICAgfVxuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5pbnZvaWNlTnVtYmVyID0gXCJudWxsXCI7XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnByb2plY3RNb2R1bGFyVmFsdWUgPSBOdW1iZXIoXG4gICAgICBwcm9qZWN0Lm1vZHVsYXJ2YWx1ZVxuICAgICk7XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnByb2plY3REZWNvclZhbHVlID0gTnVtYmVyKFxuICAgICAgcHJvamVjdC5kZWNvcnZhbHVlXG4gICAgKTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UucHJvamVjdFNpdGVTZXJ2aWNlc1ZhbHVlID0gTnVtYmVyKFxuICAgICAgcHJvamVjdC5zaXRlc2VydmljZXZhbHVlXG4gICAgKTtcbiAgICBpZiAoTnVtYmVyKG1pbGVzdG9uZS5hZGRvbmFtb3VudCkgPiAwKSB7XG4gICAgICBjb25zdCBhZGRPbk9iaiA9IG5ldyBBZGRPblBheW1lbnRPYmplY3QoKTtcbiAgICAgIGFkZE9uT2JqLmFtb3VudCA9IE51bWJlcihtaWxlc3RvbmUuYWRkb25hbW91bnQpO1xuICAgICAgYWRkT25PYmoucGF5bWVudE5hbWUgPSBcIjUwJSBBZGRvbiBTZXJ2aWNlXCI7XG4gICAgICBhZGRPbk9iai5xdWFudGl0eSA9IDE7XG4gICAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuZXh0cmFQYXltZW50cyA9IFthZGRPbk9ial07XG4gICAgfVxuXG4gICAgaWYgKGlzUmVnZW5lcmF0ZSkge1xuICAgICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnJlcXVlc3ROYW1lID0gXCJSRUdFTkVSQVRFX0lOVk9JQ0VcIjtcbiAgICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhSW52b2ljZS5pbnZvaWNlTnVtYmVyID0gbWlsZXN0b25lLmludm9pY2VudW1iZXI7XG4gICAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YUludm9pY2UuaW52b2ljZURhdGUgPSBkYXlqcyhtaWxlc3RvbmUuaW52b2ljZWRhdGUpLmZvcm1hdChcIkREL01NL1lZWVlcIik7XG4gICAgfVxuXG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlLnBheW1lbnRNaWxlc3RvbmVJRCA9IG1pbGVzdG9uZWlkO1xuICAgIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52LmFwaUVuZHBvaW50fWdlbmVyYXRlSW52b2ljZWA7XG4gICAgY29uc29sZS5sb2codXJsKTtcbiAgICBjb25zdCBpbnZvaWNlID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgICAgLnBvc3QodXJsKVxuICAgICAgLnNlbmQoeyBpbnZvaWNlRGF0YTogbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFJbnZvaWNlIH0pXG4gICAgICAuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1JbnZvaWNlOiBcIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KGludm9pY2UuYm9keSlcbiAgICApO1xuICAgIGlmIChpbnZvaWNlLmJvZHkuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgaW52b2ljZS5ib2R5Lm1lc3NhZ2UpO1xuICAgIH1cbiAgICBpZiAoIWludm9pY2UuYm9keS5kYXRhLmludm9pY2UpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBcIkludmFsaWQgTWljcm9zZXJ2aWNlIHJlc3BvbnNlIGJvZHlcIik7XG4gICAgfVxuXG4gICAgY29uc3QgbWljcm9zZXJ2aWNlUmVzcG9uc2UgPSBpbnZvaWNlLmJvZHkuZGF0YS5pbnZvaWNlO1xuXG4gICAgbGV0IHRvdGFsRXh0cmFQYXltZW50ID0gMDtcbiAgICBpZiAobWljcm9zZXJ2aWNlUmVzcG9uc2UuZXh0cmFQYXltZW50c0ludm9pY2VCcmVha3VwKSB7XG4gICAgICBtaWNyb3NlcnZpY2VSZXNwb25zZS5leHRyYVBheW1lbnRzSW52b2ljZUJyZWFrdXAuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB0b3RhbEV4dHJhUGF5bWVudCA9IHRvdGFsRXh0cmFQYXltZW50ICsgZWxlbWVudC50b3RhbEFtb3VudDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkTWlsZXN0b25lID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW52b2ljZWJhc2VhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VCcmVha1VwLmJhc2VBbW91bnQsXG4gICAgICAgIGludm9pY2VudW1iZXI6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VOdW1iZXIsXG4gICAgICAgIGludm9pY2V0b3RhbGFtb3VudDogbWljcm9zZXJ2aWNlUmVzcG9uc2UuaW52b2ljZUJyZWFrVXAudG90YWxBbW91bnQgKyB0b3RhbEV4dHJhUGF5bWVudCxcbiAgICAgICAgaW52b2ljZXRvdGFsdGF4YW1vdW50OiBtaWNyb3NlcnZpY2VSZXNwb25zZS5pbnZvaWNlQnJlYWtVcC50b3RhbFRheFZhbHVlLFxuICAgICAgICBpbnZvaWNldG90YWxjZ3N0YXhhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VCcmVha1VwLkNHU1QsXG4gICAgICAgIGludm9pY2V0b3RhbHNnc3R0YXhhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VCcmVha1VwLlNHU1QsXG4gICAgICAgIGludm9pY2V0b3RhbGlnc3R0YXhhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VCcmVha1VwLklHU1QsXG4gICAgICAgIGludm9pY2VkYXRlOiBtaWNyb3NlcnZpY2VSZXNwb25zZS5pbnZvaWNlRGF0ZSxcbiAgICAgICAgaW52b2ljZXVybDogbWljcm9zZXJ2aWNlUmVzcG9uc2UuaW52b2ljZVBkZixcbiAgICAgICAgcGF5bWVudGxpbms6IGludm9pY2UuYm9keS5kYXRhLmludm9pY2UucGF5bWVudExpbmssXG4gICAgICAgIHBheW1lbnRsaW5raWQ6IGludm9pY2UuYm9keS5kYXRhLmludm9pY2UucGF5bWVudGxpbmtpZCxcbiAgICAgICAgcnBheW9yZGVyaWQ6IGludm9pY2UuYm9keS5kYXRhLmludm9pY2UucnBheW9yZGVyaWQsXG4gICAgICAgIHJlY2VpcHRpZDogaW52b2ljZS5ib2R5LmRhdGEuaW52b2ljZS5yZWNlaXB0aWRcbiAgICAgIH0sXG4gICAgICB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IHVwZGF0ZWRNaWxlc3RvbmUsXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgIGNvZGU6IDIwMFxuICAgIH1cbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBQYXltZW50U3RhdHVzRW51bSwgTWljcm9zZXJ2aWNlTWFudWFsSW52b2ljZVJlcXVlc3RNb2RlbCwgQWRkcmVzc01vZGVsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9SZXF1ZXN0ZGF0YS9QYXltZW50bWlsZXN0b25ldXBkYXRlcmVxdWVzdG1vZGVsXCI7XG5pbXBvcnQgc3VwZXJhZ2VudCBmcm9tIFwic3VwZXJhZ2VudFwiO1xuXG5leHBvcnQgY29uc3QgVXBkYXRlSW52b2ljZU9sZEZsb3cgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBjb25zdCB7IHByb2plY3RpZCwgbWlsZXN0b25laWQsIGludm9pY2VkYXRlLCBpbnZvaWNlYW1vdW50IH0gPSBhcmdzO1xuICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgaWQ6IHByb2plY3RpZCB9XG4gIH0pO1xuICBpZiAocHJvamVjdC5jdXN0b21lcmlkID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIFwiQ3VzdG9tZXIgSW5mb3JtYXRpb24gbm90IGZvdW5kXCIpO1xuICB9XG4gIGNvbnN0IGN1c3RvbWVyaWQgPSBwcm9qZWN0LmN1c3RvbWVyaWQ7XG4gIGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXJpZCB9XG4gIH0pXG4gIGNvbnN0IG1pbGVzdG9uZSA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgfSk7XG4gIGNvbnN0IGJpbGxpbmdhZGQgPSBhd2FpdCBwcmlzbWEuZGNfYWRkcmVzc2VzLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXJpZCB9XG4gIH0pO1xuICBjb25zdCBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlID0gbmV3IE1pY3Jvc2VydmljZU1hbnVhbEludm9pY2VSZXF1ZXN0TW9kZWwoKTtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFSZXNwb25zZS5pbnZvaWNlbnVtYmVyID0gbWlsZXN0b25lLmludm9pY2VudW1iZXI7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UuY3VzdG9tZXJzaGlwcGluZ2FkZHJlc3MgPSBjdXN0b21lci5wcm9qZWN0YWRkcmVzcztcbiAgY29uc3QgYmlsbGluZ0FkZHJlc3MgPSBuZXcgQWRkcmVzc01vZGVsKCk7XG4gIGJpbGxpbmdBZGRyZXNzLmNvdW50cnkgPSBiaWxsaW5nYWRkLmNvdW50cnk7XG4gIGJpbGxpbmdBZGRyZXNzLnN0cmVldCA9IGJpbGxpbmdhZGQuc3RyZWV0O1xuICBiaWxsaW5nQWRkcmVzcy5jaXR5ID0gYmlsbGluZ2FkZC5jaXR5O1xuICBiaWxsaW5nQWRkcmVzcy56aXBvcnBvc3RhbGNvZGUgPSBiaWxsaW5nYWRkLnppcDtcbiAgYmlsbGluZ0FkZHJlc3Muc2hpcHBpbmdzdGF0ZSA9IGJpbGxpbmdhZGQuc3RhdGU7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UuZmlyc3RuYW1lID0gY3VzdG9tZXIuZmlyc3RuYW1lO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmN1c3RvbWVyZW1haWwgPSBjdXN0b21lci5jdXN0b21lcmVtYWlsO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmN1c3RvbWVycGhvbmUgPSBjdXN0b21lci5jdXN0b21lcnBob25lO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmN1c3RvbWVyYmlsbGluZ2FkZHJlc3MgPSBiaWxsaW5nQWRkcmVzcztcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFSZXNwb25zZS5wcm9qZWN0aWQgPSBwcm9qZWN0LnByb2plY3RpZDtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFSZXNwb25zZS5wcm9qZWN0bmFtZSA9IHByb2plY3QucHJvamVjdG5hbWU7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UucHJvamVjdHN0YXR1cyA9IGAke3Byb2plY3QucHJvamVjdHN0YXR1c31gO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLnJlcXVlc3RuYW1lID0gXCJTQVZFX0lOVk9JQ0VcIjtcbiAgbGV0IHBheW1lbnROYW1lO1xuICBpZiAobWlsZXN0b25lLnBheW1lbnR2YWx1ZSA9PT0gXCI1JVwiKSB7XG4gICAgcGF5bWVudE5hbWUgPSBgJHttaWxlc3RvbmUucGF5bWVudHZhbHVlfSBzdXBwbHkgb2YgaW50ZXJpb3Igd29ya3NgO1xuICB9IGVsc2UgaWYgKG1pbGVzdG9uZS5wYXltZW50dmFsdWUgPT09IFwiMTAwJVwiKSB7XG4gICAgcGF5bWVudE5hbWUgPSBcImRlZXAgY2xlYW5pbmdcIjtcbiAgfSBlbHNlIHtcbiAgICBwYXltZW50TmFtZSA9IGAke21pbGVzdG9uZS5wYXltZW50dmFsdWV9IHN1cHBseSBvZiB3b3Jrc2A7XG4gIH1cbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFSZXNwb25zZS5wYXltZW50bmFtZSA9IHBheW1lbnROYW1lO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmFwcGxpY2F0aW9uaWQgPSBcIkRFU0lHTkVSX0RBU0hCT0FSRFwiO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmludm9pY2VkYXRlID0gaW52b2ljZWRhdGU7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UucHJvamVjdHZhbHVlID0gTnVtYmVyKHByb2plY3QudG90YWxwcm9qZWN0dmFsdWUpO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YVJlc3BvbnNlLmFtb3VudCA9IE51bWJlcihpbnZvaWNlYW1vdW50KTtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGFSZXNwb25zZS5taWxlc3RvbmVwZW5kaW5nZHVlID1cbiAgICBOdW1iZXIoaW52b2ljZWFtb3VudCkgLSBOdW1iZXIobWlsZXN0b25lLmFtb3VudHBhaWQpO1xuICBjb25zdCBtaWxlc3RvbmVzdGF0dXMgPSBtaWxlc3RvbmUuc3RhdHVzXG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UucGF5bWVudHN0YXR1cyA9IGdldFBheW1lbnRTdGF0dXNOYW1lKG1pbGVzdG9uZXN0YXR1cyk7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UuYW1vdW50cGFpZCA9IE51bWJlcihtaWxlc3RvbmUuYW1vdW50cGFpZCk7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UuYW1vdW50ZHVlID1cbiAgICBOdW1iZXIoaW52b2ljZWFtb3VudCkgLSBOdW1iZXIobWlsZXN0b25lLmFtb3VudHBhaWQpO1xuICBjb25zdCB1cmwgPSBgJHtwcm9jZXNzLmVudi5hcGlFbmRwb2ludH1kZXNpZ25lci1kYXNoYm9hcmQvc2F2ZS1pbnZvaWNlLWRhdGFgO1xuICBjb25zb2xlLmxvZyhcIk1JQ1JPIFNFUlZJQ0UgVVJMPT09PT09PT09PT4+Pj4+XCIsIHVybCk7XG4gIGNvbnN0IGludm9pY2UgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgLnBvc3QodXJsKVxuICAgIC5zZW5kKG1pY3Jvc2VydmljZVJlcXVlc3REYXRhUmVzcG9uc2UpXG4gICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIGlmIChpbnZvaWNlLmJvZHkuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIGludm9pY2UuYm9keS5tZXNzYWdlKTtcbiAgfVxuICBjb25zdCBtaWNyb3NlcnZpY2VSZXNwb25zZSA9IGludm9pY2UuYm9keS5kYXRhO1xuICBjb25zdCB0b3RhbEFtb3VudCA9IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VicmVha3VwLnRvdGFsYW1vdW50O1xuICBjb25zdCBtaWxlc3RvbmVEdWVBbW91bnQ6IG51bWJlciA9IE51bWJlcih0b3RhbEFtb3VudCkgLSBOdW1iZXIobWlsZXN0b25lLmFtb3VudHBhaWQpIC1cbiAgICBOdW1iZXIobWlsZXN0b25lLmFkdmFuY2VhbW91bnQpO1xuICBsZXQgaXNmcmVlemVkO1xuICBsZXQgU3RhdHVzO1xuICBpZiAobWlsZXN0b25lRHVlQW1vdW50ID4gMCkge1xuICAgIGlzZnJlZXplZCA9IGZhbHNlO1xuICAgIFN0YXR1cyA9IFwiUEFSVElBTExZX1BBSURcIjtcbiAgfSBlbHNlIHtcbiAgICBpc2ZyZWV6ZWQgPSB0cnVlO1xuICAgIFN0YXR1cyA9IFwiUEFJRFwiO1xuICB9XG4gIGlmIChOdW1iZXIobWlsZXN0b25lLmFtb3VudHBhaWQpID09PSAwKSB7XG4gICAgU3RhdHVzID0gXCJQRU5ESU5HXCI7XG4gIH1cbiAgY29uc3QgdXBkYXRlZE1pbGVzdG9uZSA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLnVwZGF0ZSh7XG4gICAgZGF0YToge1xuICAgICAgaW52b2ljZWJhc2VhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VicmVha3VwLmJhc2VhbW91bnQsXG4gICAgICBpbnZvaWNldG90YWxhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VicmVha3VwLnRvdGFsYW1vdW50LFxuICAgICAgaW52b2ljZXRvdGFsdGF4YW1vdW50OiBtaWNyb3NlcnZpY2VSZXNwb25zZS5pbnZvaWNlYnJlYWt1cC50b3RhbHRheHZhbHVlLFxuICAgICAgaW52b2ljZXRvdGFsY2dzdGF4YW1vdW50OiBtaWNyb3NlcnZpY2VSZXNwb25zZS5pbnZvaWNlYnJlYWt1cC5jZ3N0LFxuICAgICAgaW52b2ljZXRvdGFsc2dzdHRheGFtb3VudDogbWljcm9zZXJ2aWNlUmVzcG9uc2UuaW52b2ljZWJyZWFrdXAuc2dzdCxcbiAgICAgIGludm9pY2V0b3RhbGlnc3R0YXhhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VicmVha3VwLmlnc3QsXG4gICAgICBpbnZvaWNlZGF0ZTogbWljcm9zZXJ2aWNlUmVzcG9uc2UuaW52b2ljZWRhdGUsXG4gICAgICB0b3RhbHBheWFibGVhbW91bnQ6IG1pY3Jvc2VydmljZVJlc3BvbnNlLmludm9pY2VicmVha3VwLnRvdGFsYW1vdW50LFxuICAgICAgYW1vdW50ZHVlOiBtaWxlc3RvbmVEdWVBbW91bnQsXG4gICAgICBpc2ZyZWV6ZWQ6IGlzZnJlZXplZCxcbiAgICAgIHN0YXR1czogU3RhdHVzXG4gICAgfSxcbiAgICB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfVxuICB9KTtcbiAgY29uc29sZS5sb2codXBkYXRlZE1pbGVzdG9uZSk7XG4gIHJldHVybiB7XG4gICAgZGF0YTogdXBkYXRlZE1pbGVzdG9uZSxcbiAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgfVxufVxuY29uc3QgZ2V0UGF5bWVudFN0YXR1c05hbWUgPSBhc3luYyAobWlsZXN0b25lc3RhdHVzKSA9PiB7XG4gIGxldCBzdGF0dXM7XG4gIHN3aXRjaCAobWlsZXN0b25lc3RhdHVzKSB7XG4gICAgY2FzZSBQYXltZW50U3RhdHVzRW51bS5QQUlEOlxuICAgICAgc3RhdHVzID0gXCJQQUlEXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFBheW1lbnRTdGF0dXNFbnVtLlBBUlRJQUxfUEFZTUVOVDpcbiAgICAgIHN0YXR1cyA9IFwiUEFSVElBTExZX1BBSURcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgUGF5bWVudFN0YXR1c0VudW0uUEVORElORzpcbiAgICAgIHN0YXR1cyA9IFwiUEVORElOR1wiO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHN0YXR1cztcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldEludm9pY2VOZXdGbG93PSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCBpbnZvaWNlUmVzcG9uc2VPYmo7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCBwciA9IGF3YWl0IHByaXNtYS5kY19vZG9vaW52b2ljZS5maW5kTWFueSh7d2hlcmU6IHsgY2xpZW50aWQ6IGFyZ3MuaWQgfX0pO1xuICAgICAgICBpbnZvaWNlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsZGF0YTpwcn1cbiAgICAgICAgcmV0dXJuIGludm9pY2VSZXNwb25zZU9ialxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaW52b2ljZVJlc3BvbnNlT2JqID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgICAgICByZXR1cm4gaW52b2ljZVJlc3BvbnNlT2JqXG4gICAgICB9XG59XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyfSBmcm9tICdncmFwaHFsLXNjYWxhcnMnO1xuaW1wb3J0IHsgQ2FsY3VsYXRlSW52b2ljZW5ld2Zsb3cgfSBmcm9tICcuL011dGF0aW9uL0NhbGN1bGF0ZUludm9pY2VuZXdmbG93JztcbmltcG9ydCB7Z2VuZXJhdGVJbnZvaWNlT2xkRmxvd30gZnJvbSAnLi9NdXRhdGlvbi9HZW5lcmF0ZUludm9pY2VvbGRmbG93JztcbmltcG9ydHtnZXRJbnZvaWNlTmV3Rmxvd30gZnJvbSAnLi9RdWVyaWVzL2dldEludm9pY2VuZXdmbG93JztcbmltcG9ydCB7VXBkYXRlSW52b2ljZU9sZEZsb3d9IGZyb20gJy4vTXV0YXRpb24vVXBkYXRlSW52b2ljZW9sZGZsb3cnO1xuXG5cbmV4cG9ydCBjb25zdCBJbnZvaWNlUmVzb2x2ZXIgPSB7XG4gICAgTXV0YXRpb246e1xuICAgICAgIGdlbmVyYXRlSW52b2ljZU9sZEZsb3c6YXN5bmMocGFyZW50LF9hcmdzOntkYXRhOmFueX0sY29udGV4dCk9PiBnZW5lcmF0ZUludm9pY2VPbGRGbG93KHBhcmVudCxfYXJncyxjb250ZXh0KSxcbiAgICAgICBHZW5lcmF0ZUludm9pY2VuZXdmbG93OmFzeW5jKF8sYXJncyx7IGRhdGFTb3VyY2VzICxyZXEgfSk9PmRhdGFTb3VyY2VzLkdlbmVyYXRlSW52b2ljZW5ld2Zsb3cuZ2VuZXJhdGVJbnZvaWNlTmV3Rmxvd0RhdGEoYXJncyxyZXEpLFxuICAgICAgIENhbGN1bGF0ZUludm9pY2VuZXdmbG93OmFzeW5jKHBhcmVudCxfYXJnczp7ZGF0YTphbnl9LGNvbnRleHQpID0+Q2FsY3VsYXRlSW52b2ljZW5ld2Zsb3cocGFyZW50LF9hcmdzLGNvbnRleHQpLFxuICAgICAgIFVwZGF0ZUludm9pY2VPbGRGbG93OmFzeW5jKHBhcmVudCxfYXJnczp7ZGF0YTphbnl9LGNvbnRleHQpID0+VXBkYXRlSW52b2ljZU9sZEZsb3cocGFyZW50LF9hcmdzLGNvbnRleHQpXG4gICAgfSxcbiAgICBRdWVyeToge1xuICAgICAgICBnZXRJbnZvaWNlTmV3Rmxvdzphc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5nZXRJbnZvaWNlTmV3RmxvdyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICAgfSxcbiAgICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlcixcblxufVxuIiwiZXhwb3J0IGNvbnN0IEludm9pY2VUeXBlZGVmID0gYFxuc2NhbGFyIEpTT05cbmlucHV0IGludm9pY2VSZXF1ZXN0RGF0YXtcbiAgICBtaWxlc3RvbmU6U3RyaW5nXG4gICAgY3VycmVudFByb2plY3RWYWx1ZTpGbG9hdFxuICAgIGNsaWVudElEOiBTdHJpbmdcbiAgICBjYXRlZ29yeTpTdHJpbmdcbiAgICBjdXJyZW50TW9kdWxhclZhbHVlOkZsb2F0XG4gICAgY3VycmVudFNpdGVTZXJ2aWNlc1ZhbHVlOkZsb2F0XG4gICAgYmFzZUFtb3VudDpGbG9hdFxuICAgIGFkZGl0aW9uYWxDaGFyZ2U6RmxvYXRcbiAgICBzdGF0dXM6U3RyaW5nXG59XG5cblxudHlwZSBnZW5lcmF0ZUludm9pY2VvbGRmbG93UmVzcG9uc2V7XG4gICAgbWVzc2FnZTpTdHJpbmdcbiAgICBkYXRhOkpTT05cbiAgICBjb2RlOkludFxufVxuXG50eXBlIGdlbmVyYXRlTmV3SW52b2ljZVJlc3BvbnNle1xuICAgIGNvZGU6SW50XG4gICAgbWVzc2FnZTogU3RyaW5nXG4gICAgZGF0YTpKU09OXG59XG50eXBlIGdldEludm9pY2V7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOkpTT05cbn1cblxudHlwZSBjYWxjdWxhdGVJbnZvaWNlTmV3Rmxvd0RhdGF7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOkpTT05cbn1cbnR5cGUgdXBkYXRlSW52b2ljZW9sZGZsb3d7XG4gICAgZGF0YTpKU09OXG4gICAgbWVzc2FnZTogU3RyaW5nXG4gICAgY29kZTpJbnRcbn1cblxudHlwZSBNdXRhdGlvbntcblxuICAgIGdlbmVyYXRlSW52b2ljZU9sZEZsb3coXG4gICAgICAgIHByb2plY3RpZDogSW50XG4gICAgICAgIG1pbGVzdG9uZWlkOiBJbnRcbiAgICAgICAgaXNSZWdlbmVyYXRlOkJvb2xlYW5cbiAgICApOmdlbmVyYXRlSW52b2ljZW9sZGZsb3dSZXNwb25zZVxuXG4gICAgR2VuZXJhdGVJbnZvaWNlbmV3ZmxvdyhpbnZvaWNlRGF0YTppbnZvaWNlUmVxdWVzdERhdGEpOmdlbmVyYXRlTmV3SW52b2ljZVJlc3BvbnNlXG4gICAgQ2FsY3VsYXRlSW52b2ljZW5ld2Zsb3coXG4gICAgICAgIGNhdGVnb3J5OlN0cmluZ1xuICAgICAgICBjbGllbnRpZDpTdHJpbmdcbiAgICAgICAgbWlsZXN0b25lTmFtZTpTdHJpbmdcbiAgICApOmNhbGN1bGF0ZUludm9pY2VOZXdGbG93RGF0YVxuICAgIFVwZGF0ZUludm9pY2VPbGRGbG93KFxuICAgICAgICBwcm9qZWN0aWQ6U3RyaW5nLFxuICAgICAgICBtaWxlc3RvbmVpZDpJbnQsXG4gICAgICAgIGludm9pY2VkYXRlOlN0cmluZyxcbiAgICAgICAgaW52b2ljZWFtb3VudDpGbG9hdFxuICAgICk6dXBkYXRlSW52b2ljZW9sZGZsb3dcbn1cblxudHlwZSBRdWVyeSB7XG4gICAgZ2V0SW52b2ljZU5ld0Zsb3coaWQ6U3RyaW5nKTpnZXRJbnZvaWNlXG59XG5zY2FsYXIgRGF0ZVRpbWVcbmBcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCBQYXltZW50TW9kZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUGF5bWVudE1vZGVFbnVtXCI7XG5pbXBvcnQge1xuICBBZGRQYXltZW50UmVjZWlwdFJlcXVlc3REYXRhLCBDYXB0dXJlTWFudWFsUGF5bWVudE1vZGVsLCBNaWxlc3RvbmVVcGRhdGVSZXF1ZXN0TW9kZWwsXG4gIFBheW1lbnRTdGF0dXNFbnVtLCBQcm9qZWN0VXBkYXRlUmVxdWVzdE1vZGVsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vUmVxdWVzdGRhdGEvUGF5bWVudG1pbGVzdG9uZXVwZGF0ZXJlcXVlc3Rtb2RlbFwiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcbmltcG9ydCBzaG9ydCBmcm9tICdzaG9ydGlkJztcbmltcG9ydCB7IFVwbG9hZEZpbGVPblMzLHRyaWdnZXJFbWFpbE5vdGlmaWNhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIlxuaW1wb3J0IHtcbiAgY2FsbEV4dGVybmFsQVBJV2l0aFBvc3QsXG4gIHF1ZXJ5Rm9yRmV0Y2hpbmdSZW1pbmRlcnNUZW1wbGF0ZSxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBBZGRQYXltZW50Q29uZm9ybWF0aW9uID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IGF0dGFjaG1lbnRVUkw7XG4gIGNvbnN0IHsgdHJhbnNjYXRpb25pZCwgcHJvamVjdGlkLCByZWNlaXZlZGFtb3VudCwgbW9kZW9mcGF5bWVudCwgcmVjZWl2ZWRkYXRlLCBhdHRhY2htZW50LCBtaWxlc3RvbmVpZCB9ID0gYXJncztcbiAgbGV0IGFkZFBheW1lbnRjb25mb3JtYXRpb25SZXNwb25zZU9iajtcbiAgY29uc3QgZHVwbGljYXRlUmVjb3JkID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRyZWNlaXB0cy5maW5kRmlyc3QoeyB3aGVyZTogeyB0cmFuc2FjdGlvbmlkOiB0cmFuc2NhdGlvbmlkIH0gfSlcbiAgY29uc29sZS5sb2coZHVwbGljYXRlUmVjb3JkKTtcbiAgaWYgKCFkdXBsaWNhdGVSZWNvcmQpIHtcbiAgICBpZiAoXG4gICAgICBtb2Rlb2ZwYXltZW50ID09PSBQYXltZW50TW9kZUVudW0uQ0FTSCAmJlxuICAgICAgTnVtYmVyKHJlY2VpdmVkYW1vdW50KSA+PSAyMDAwMDBcbiAgICApIHtcbiAgICAgIGNvbnNvbGUubG9nKDkyKVxuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgICAgMjAxLFxuICAgICAgICBcIkNhc2ggUGF5bWVudCBub3QgYWxsb3dlZCBmb3IgbW9yZSB0aGFuIFJzIDEsOTksOTk5XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHsgd2hlcmU6IHsgcHJvamVjdGlkOiBwcm9qZWN0aWQgfSB9KVxuICAgIGNvbnNvbGUubG9nKFwicHJvamVjdFwiLCBwcm9qZWN0KTtcbiAgICBjb25zdCBtaWxlc3RvbmUgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS5maW5kRmlyc3QoeyB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfSB9KTtcbiAgICBjb25zdCBBZGRQYXltZW50UmVjZWlwdFJlcXVlc3QgPSBuZXcgQWRkUGF5bWVudFJlY2VpcHRSZXF1ZXN0RGF0YSgpO1xuICAgIGlmIChhdHRhY2htZW50KSB7XG4gICAgICBjb25zdCBhdHRhY2htZW50RmlsZSA9IHtcbiAgICAgICAga2V5OiBhdHRhY2htZW50LmZpbGVOYW1lLFxuICAgICAgICBjb250ZW50VHlwZTogYXR0YWNobWVudC5jb250ZW50VHlwZSxcbiAgICAgICAgYmFzZTY0OiBhdHRhY2htZW50LmZpbGVCYXNlNjQsXG4gICAgICB9O1xuICAgICAgY29uc3QgZmlsZU9iaiA9IGF3YWl0IFVwbG9hZEZpbGVPblMzKGF0dGFjaG1lbnRGaWxlKVxuICAgICAgQWRkUGF5bWVudFJlY2VpcHRSZXF1ZXN0LnN1cHBvcnRpbmdEb2N1bWVudFVSTCA9IGZpbGVPYmouTG9jYXRpb247XG4gICAgICBBZGRQYXltZW50UmVjZWlwdFJlcXVlc3QuYXdzU3VwcG9ydGluZ0RvY3VtZW50VVJMS2V5ID0gZmlsZU9iai5rZXk7XG4gICAgfVxuXG4gICAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IHByb2plY3QuY3VzdG9tZXJpZCB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coY3VzdG9tZXIpO1xuICAgIGlmIChcbiAgICAgIG1vZGVvZnBheW1lbnQgPT09IFBheW1lbnRNb2RlRW51bS5DQVNIIHx8XG4gICAgICBtb2Rlb2ZwYXltZW50ID09PSBQYXltZW50TW9kZUVudW0uSU1QUyB8fFxuICAgICAgbW9kZW9mcGF5bWVudCA9PT0gUGF5bWVudE1vZGVFbnVtLk5FRlQgfHxcbiAgICAgIG1vZGVvZnBheW1lbnQgPT09IFBheW1lbnRNb2RlRW51bS5DSEVRVUVcbiAgICApIHtcbiAgICAgIGNvbnN0IHVwZGF0ZXBheW1lbnRsaW5rYXJncyA9XG4gICAgICB7XG4gICAgICAgIHByb2plY3QsIG1pbGVzdG9uZSwgY3VzdG9tZXIsXG4gICAgICAgIHJlY2VpdmVkYW1vdW50LCByZWNlaXZlZGRhdGUsIHRyYW5zY2F0aW9uaWQsIG1vZGVvZnBheW1lbnQsIGF0dGFjaG1lbnRVUkxcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkUGF5bWVudExpbmsgPSBhd2FpdCBjYXB0dXJlTWFudWFsUGF5bWVudE9uTWljcm9zZXJ2aWNlKHVwZGF0ZXBheW1lbnRsaW5rYXJncyk7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcGF5bWVudGxpbms6IHVwZGF0ZWRQYXltZW50TGlua1xuICAgICAgICB9LFxuICAgICAgICB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfVxuICAgICAgfSk7XG5cbiAgICB9XG4gICAgbGV0IGFkdmFuY2VGb3JOZXh0TWlsZXN0b25lID0gMDtcbiAgICBjb25zdCB1cGRhdGVkQW1vdW50UGFpZFZhbHVlID0gTnVtYmVyKG1pbGVzdG9uZS5hbW91bnRwYWlkKSArIE51bWJlcihyZWNlaXZlZGFtb3VudCk7XG4gICAgaWYgKHVwZGF0ZWRBbW91bnRQYWlkVmFsdWUgPiBOdW1iZXIobWlsZXN0b25lLnRvdGFscGF5YWJsZWFtb3VudCkpIHtcbiAgICAgIGFkdmFuY2VGb3JOZXh0TWlsZXN0b25lID0gdXBkYXRlZEFtb3VudFBhaWRWYWx1ZSAtIE51bWJlcihtaWxlc3RvbmUudG90YWxwYXlhYmxlYW1vdW50KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiYWR2YW5jZUZvck5leHRNaWxlc3RvbmVcIiwgYWR2YW5jZUZvck5leHRNaWxlc3RvbmUpO1xuICAgIH1cbiAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBhbW91bnRwYWlkOiBNYXRoLmZsb29yKHVwZGF0ZWRBbW91bnRQYWlkVmFsdWUpXG4gICAgICB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVkQW1vdW50RHVlID0gTnVtYmVyKG1pbGVzdG9uZS50b3RhbHBheWFibGVhbW91bnQpIC0gdXBkYXRlZEFtb3VudFBhaWRWYWx1ZSAtIE51bWJlcihtaWxlc3RvbmUuYWR2YW5jZWFtb3VudCk7XG4gICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYW1vdW50ZHVlOiB1cGRhdGVkQW1vdW50RHVlXG4gICAgICB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgICB9KTtcbiAgICBpZiAodXBkYXRlZEFtb3VudER1ZSA8PSA1KSB7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZnJlZXplZG1vZHVsYXI6IG1pbGVzdG9uZS5tb2R1bGFyYW1vdW50LFxuICAgICAgICAgIGlzZnJlZXplZDogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IFBheW1lbnRTdGF0dXNFbnVtLlBBSURcbiAgICAgICAgfSxcbiAgICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzRW51bS5QQVJUSUFMX1BBWU1FTlRcbiAgICAgICAgfSxcbiAgICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygyNjQyNjQsIHByb2plY3QsIHByb2plY3QuYWNoaWV2ZWRyZXZlbnVldmFsdWUpO1xuICAgIGNvbnN0IHByb2plY3RVcGRhdGVNb2RlbCA9IG5ldyBQcm9qZWN0VXBkYXRlUmVxdWVzdE1vZGVsKCk7XG4gICAgY29uc3QgSWQgPSBzaG9ydC5nZW5lcmF0ZSgpO1xuICAgIGNvbnN0IHBheW1lbnRJZCA9IElkO1xuICAgIGNvbnN0IHJlczEgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlY2VpcHRzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyB0cmFuc2FjdGlvbmlkOiB0cmFuc2NhdGlvbmlkIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhyZXMxKTtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVjZWlwdHMudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcGF5bWVudG5hbWU6IG1pbGVzdG9uZS5wYXltZW50dmFsdWUsXG4gICAgICAgIHJlY2VpdmVkYW1vdW50OiByZWNlaXZlZGFtb3VudCxcbiAgICAgICAgcGF5bWVudHJlY2VpdmVkZGF0ZTogcmVjZWl2ZWRkYXRlLFxuICAgICAgICBwYXltZW50aWQ6IFwiUElPLVwiICsgcGF5bWVudElkLFxuICAgICAgICBwYXltZW50bWlsbGVzdG9uZWlkOiBtaWxlc3RvbmVpZCxcbiAgICAgICAgcHJvamVjdGlkOiBwcm9qZWN0aWQsXG4gICAgICAgIGNsaWVudGlkOiBwcm9qZWN0aWRcbiAgICAgIH0sXG4gICAgICB3aGVyZTogeyBpZDogcmVzMS5pZCB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coXCJwYXltZW50Y29uZm9ybWF0aW9uZGF0YVwiLCByZXMpO1xuICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBhY2hpZXZlZHJldmVudWV2YWx1ZTogTWF0aC5mbG9vcihOdW1iZXIocHJvamVjdC5hY2hpZXZlZHJldmVudWV2YWx1ZSkgKyBOdW1iZXIocmVjZWl2ZWRhbW91bnQpKSxcbiAgICAgICAgcGVuZGluZ2Ftb3VudHZhbHVlOiBNYXRoLmZsb29yKE51bWJlcihwcm9qZWN0LnRvdGFscHJvamVjdHZhbHVlKSAtIE51bWJlcihwcm9qZWN0VXBkYXRlTW9kZWwuYWNoaWV2ZWRyZXZlbnVldmFsdWUpKSxcblxuICAgICAgfSxcbiAgICAgIHdoZXJlOiB7IHByb2plY3RpZDogcHJvamVjdGlkIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhyZXMucGF5bWVudGlkKTtcbiAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS1wYXltZW50TWlsZXN0b25lUmVwb3NpdG9yeS0tLS0tLS05XCIpO1xuICAgIC8vIEFERCBBRFZBTkNFIFRPIE5FWFQgTUlMRVNUT05FXG4gICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tQUREIEFEVkFOQ0UgVE8gTkVYVCBNSUxFU1RPTkUtLS0tLS0tLS0tMTBcIik7XG4gICAgaWYgKGFkdmFuY2VGb3JOZXh0TWlsZXN0b25lID4gMCkge1xuICAgICAgY29uc3QgbmV4dE1pbGVzdG9uZUluZGV4ID0gbWlsZXN0b25lLnNlcXVlbmNlICsgMTtcbiAgICAgIGNvbnNvbGUubG9nKDM0MDM0MCwgbmV4dE1pbGVzdG9uZUluZGV4KTtcbiAgICAgIGxldCBuZXh0TWlsZXN0b25lSUQ7XG4gICAgICBpZiAocHJvamVjdC5wYXltZW50bWlsZXN0b25lbGlzdCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImlmXCIpO1xuICAgICAgICBwcm9qZWN0LnBheW1lbnRtaWxlc3RvbmVsaXN0LmZpbHRlcihcbiAgICAgICAgICAobykgPT4gby5zZXF1ZW5jZSA9PT0gbmV4dE1pbGVzdG9uZUluZGV4XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcImVsc2VcIik7XG4gICAgICAgIGNvbnN0IGdldFBheW1lbnRNaWxlU3RvbmVMaXN0ID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUuZmluZEZpcnN0KHsgd2hlcmU6IHsgcHJvamVjdGlkOiBwcm9qZWN0LmlkIH0gfSk7XG4gICAgICAgIGlmIChnZXRQYXltZW50TWlsZVN0b25lTGlzdCAmJiBnZXRQYXltZW50TWlsZVN0b25lTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZ2V0UGF5bWVudE1pbGVTdG9uZUxpc3QuZmlsdGVyKFxuICAgICAgICAgICAgKG8pID0+IG8uc2VxdWVuY2UgPT09IG5leHRNaWxlc3RvbmVJbmRleFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgJ05vIFBheW1lbnQgTWlsZXN0b25lcyBmb3VuZCBmb3IgdGhpcyBwcm9qZWN0JylcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZygzNDUzNDUsIG5leHRNaWxlc3RvbmVJRClcbiAgICAgICAgaWYgKG5leHRNaWxlc3RvbmVJRCkge1xuICAgICAgICAgIGNvbnN0IG5leHRNaWxlc3RvbmUgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS5maW5kRmlyc3QoeyB3aGVyZTogeyBpZDogbmV4dE1pbGVzdG9uZUlEWzBdLmlkIH0gfSk7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZE5leHRNaWxlc3RvbmUgPSBuZXcgTWlsZXN0b25lVXBkYXRlUmVxdWVzdE1vZGVsKCk7XG4gICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHsgYWR2YW5jZWFtb3VudDogTWF0aC5mbG9vcihOdW1iZXIobmV4dE1pbGVzdG9uZS5hZHZhbmNlYW1vdW50KSArIE51bWJlcihhZHZhbmNlRm9yTmV4dE1pbGVzdG9uZSkpIH0sXG4gICAgICAgICAgICB3aGVyZTogeyBpZDogbmV4dE1pbGVzdG9uZUlEWzBdLmlkIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBhbW91bnREdWUgPSBNYXRoLmZsb29yKG5leHRNaWxlc3RvbmUudG90YWxwYXlhYmxlYW1vdW50IC1cbiAgICAgICAgICAgIG5leHRNaWxlc3RvbmUuYW1vdW50cGFpZCAtIHBhcnNlSW50KHVwZGF0ZWROZXh0TWlsZXN0b25lLmFkdmFuY2VhbW91bnQsIDEwKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHsgYW1vdW50ZHVlOiBhbW91bnREdWUgfSxcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBuZXh0TWlsZXN0b25lSURbMF0uaWQgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChhbW91bnREdWUgPiAwKSB7XG4gICAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzRW51bS5QQVJUSUFMX1BBWU1FTlQsXG4gICAgICAgICAgICAgICAgaXNmcmVlemVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmcmVlemVkbW9kdWxhcjogMFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB3aGVyZTogeyBpZDogbmV4dE1pbGVzdG9uZUlEWzBdLmlkIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzRW51bS5QQUlELFxuICAgICAgICAgICAgICAgIGlzZnJlZXplZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmcmVlemVkbW9kdWxhcjogbmV4dE1pbGVzdG9uZS5hbW91bnRwYWlkXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBuZXh0TWlsZXN0b25lSURbMF0uaWQgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IGNhbGxBZGRQYXltZW50UmVjZWl2ZU5vdGlmaWNhdGlvbihwcm9qZWN0LCByZWNlaXZlZGFtb3VudCwgcmVjZWl2ZWRkYXRlKVxuICAgIGFkZFBheW1lbnRjb25mb3JtYXRpb25SZXNwb25zZU9iaiA9IHsgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlcywgY29kZTogMjAwIH1cbiAgICByZXR1cm4gYWRkUGF5bWVudGNvbmZvcm1hdGlvblJlc3BvbnNlT2JqO1xuICB9XG59XG5cbmNvbnN0IGNhcHR1cmVNYW51YWxQYXltZW50T25NaWNyb3NlcnZpY2UgPSBhc3luYyAodXBkYXRlcGF5bWVudGxpbmthcmdzKSA9PiB7XG4gIGNvbnN0IHsgcHJvamVjdCwgbWlsZXN0b25lLCBjdXN0b21lcixcbiAgICByZWNlaXZlZGFtb3VudCwgcmVjZWl2ZWRkYXRlLCB0cmFuc2NhdGlvbmlkLCBtb2Rlb2ZwYXltZW50LCBhdHRhY2htZW50VVJMIH0gPSB1cGRhdGVwYXltZW50bGlua2FyZ3NcbiAgdHJ5IHtcbiAgICBjb25zdCBtYW51YWxQYXltZW50RGF0YSA9IG5ldyBDYXB0dXJlTWFudWFsUGF5bWVudE1vZGVsKCk7XG4gICAgY29uc29sZS5sb2cocHJvamVjdC5wcm9qZWN0aWQpO1xuICAgIG1hbnVhbFBheW1lbnREYXRhLnByb2plY3RJZCA9IHByb2plY3QucHJvamVjdGlkO1xuICAgIG1hbnVhbFBheW1lbnREYXRhLnByb2plY3ROYW1lID0gcHJvamVjdC5wcm9qZWN0bmFtZTtcbiAgICBtYW51YWxQYXltZW50RGF0YS5pbnZvaWNlTnVtYmVyID0gbWlsZXN0b25lLmludm9pY2VudW1iZXI7XG4gICAgbWFudWFsUGF5bWVudERhdGEucGF5bWVudElkID1cbiAgICAgIG1pbGVzdG9uZS5wYXltZW50VmFsdWUgPSBcIjUlXCIgPyBgJHttaWxlc3RvbmUucGF5bWVudHZhbHVlfSBzdXBwbHkgb2YgaW50ZXJpb3Igd29ya3NgIDogYCR7bWlsZXN0b25lLnBheW1lbnR2YWx1ZX0gc3VwcGx5IG9mIHdvcmtzYDtcbiAgICBtYW51YWxQYXltZW50RGF0YS5hbW91bnRQYWlkID0gTnVtYmVyKHJlY2VpdmVkYW1vdW50KTtcbiAgICBtYW51YWxQYXltZW50RGF0YS5wYXltZW50UmVjZWl2ZWREYXRlID0gcmVjZWl2ZWRkYXRlOyAvL3NlbmRpbmcgdG8gTWljcm9zZXJ2aWNlIGluIExvY2FsIERhdGUgRm9ybWF0XG4gICAgbWFudWFsUGF5bWVudERhdGEudHJhbnNhY3Rpb25JZCA9IHRyYW5zY2F0aW9uaWQ7XG4gICAgc3dpdGNoIChtb2Rlb2ZwYXltZW50KSB7XG4gICAgICBjYXNlIFBheW1lbnRNb2RlRW51bS5DQVNIOlxuICAgICAgICBtYW51YWxQYXltZW50RGF0YS5wYXltZW50TW9kZSA9IFwiQ0FTSFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUGF5bWVudE1vZGVFbnVtLkNIRVFVRTpcbiAgICAgICAgbWFudWFsUGF5bWVudERhdGEucGF5bWVudE1vZGUgPSBcIkNIRVFVRVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUGF5bWVudE1vZGVFbnVtLklNUFM6XG4gICAgICAgIG1hbnVhbFBheW1lbnREYXRhLnBheW1lbnRNb2RlID0gXCJJTVBTXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQYXltZW50TW9kZUVudW0uTkVGVDpcbiAgICAgICAgbWFudWFsUGF5bWVudERhdGEucGF5bWVudE1vZGUgPSBcIk5FRlRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBheW1lbnRNb2RlRW51bS5PTkxJTkU6XG4gICAgICAgIG1hbnVhbFBheW1lbnREYXRhLnBheW1lbnRNb2RlID0gXCJPTkxJTkVcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG1hbnVhbFBheW1lbnREYXRhLmN1c3RvbWVyUGhvbmUgPSBjdXN0b21lci5jdXN0b21lcnBob25lO1xuICAgIG1hbnVhbFBheW1lbnREYXRhLnByb2plY3ROYW1lID0gcHJvamVjdC5wcm9qZWN0bmFtZTtcbiAgICBtYW51YWxQYXltZW50RGF0YS5taWxlc3RvbmVJZCA9IG1pbGVzdG9uZS5pZDtcbiAgICBtYW51YWxQYXltZW50RGF0YS5pc0Zyb21ERCA9IHRydWVcbiAgICBpZiAoYXR0YWNobWVudFVSTCkge1xuICAgICAgbWFudWFsUGF5bWVudERhdGEucGF5bWVudFJlY2VpcHQgPSBhdHRhY2htZW50VVJMO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkN1c3RvbWVyOj0tLS0tLSBcIiwgY3VzdG9tZXIpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCJjYXB0dXJlTWFudWFsUGF5bWVudE9uTWljcm9zZXJ2aWNlIFBheW1lbnQgUmVxdWVzdCBEYXRhOiBcIixcbiAgICAgIG1hbnVhbFBheW1lbnREYXRhXG4gICAgKTtcbiAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5hcGlFbmRwb2ludCArIGBjYXB0dXJlTWFudWFsUGF5bWVudGA7XG4gICAgY29uc3QgcGF5bWVudENhcHR1cmUgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAucG9zdCh1cmwpXG4gICAgICAuc2VuZChtYW51YWxQYXltZW50RGF0YSlcbiAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PXBheW1lbnRDYXB0dXJlOiBcIixcbiAgICAgIEpTT04uc3RyaW5naWZ5KHBheW1lbnRDYXB0dXJlLmJvZHkpXG4gICAgKTtcbiAgICBpZiAocGF5bWVudENhcHR1cmUuYm9keS5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgIGNvbnNvbGUubG9nKDYxMSlcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBwYXltZW50Q2FwdHVyZS5ib2R5Lm1lc3NhZ2UpO1xuICAgIH1cbiAgICBsZXQgdXBkYXRlZFBheW1lbnRMaW5rO1xuICAgIGlmIChcbiAgICAgIHBheW1lbnRDYXB0dXJlLmJvZHkgJiZcbiAgICAgIHBheW1lbnRDYXB0dXJlLmJvZHkuZGF0YSAmJlxuICAgICAgcGF5bWVudENhcHR1cmUuYm9keS5kYXRhLnVwZGF0ZWRQYXltZW50TGlua1xuICAgICkge1xuICAgICAgdXBkYXRlZFBheW1lbnRMaW5rID0gcGF5bWVudENhcHR1cmUuYm9keS5kYXRhLnVwZGF0ZWRQYXltZW50TGluaztcbiAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlZFBheW1lbnRsSW5rXCIsIHVwZGF0ZWRQYXltZW50TGluayk7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVkUGF5bWVudExpbms7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coNTk2LCBlcnJvcilcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuXG59XG5jb25zdCBjYWxsQWRkUGF5bWVudFJlY2VpdmVOb3RpZmljYXRpb24gPSBhc3luYyAocHJvamVjdCwgcmVjZWl2ZWRhbW91bnQsIHJlY2VpdmVkZGF0ZSkgPT4ge1xuICBjb25zdCBub3RpZmljYXRpb25UZW1wbGF0ZSA9IGF3YWl0IGNhbGxFeHRlcm5hbEFQSVdpdGhQb3N0KFxuICAgIFwiaHR0cHM6Ly9jbXNhbmRib3guaGVyb2t1YXBwLmNvbS9ncmFwaHFsbVwiLFxuICAgIHF1ZXJ5Rm9yRmV0Y2hpbmdSZW1pbmRlcnNUZW1wbGF0ZShcIm5vdGlmeV9wYXltZW50X3JlY2VpdmVkXCIpXG4gICk7XG4gIGlmIChub3RpZmljYXRpb25UZW1wbGF0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSBub3RpZmljYXRpb25UZW1wbGF0ZT8uZGF0YT8ucmVtaW5kZXJzLmRhdGFbMF0uYXR0cmlidXRlcztcbiAgICBsZXQgdG9MaXN0O1xuICAgIGNvbnN0IGNjTGlzdCA9IFtdO1xuICAgIGlmIChkYXRhLmVtYWlsQWN0aXZhdGUpIHtcbiAgICAgIGlmIChwcm9qZWN0KSB7XG5cbiAgICAgICAgaWYgKHByb2plY3QuZGVzaWduZXJpZCkge1xuICAgICAgICAgIGNvbnN0IGRlc2lnbmVyID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRVbmlxdWUoeyB3aGVyZTogeyB1c2VyaWQ6IHByb2plY3QuZGVzaWduZXJpZCB9IH0pO1xuICAgICAgICAgIGlmIChkZXNpZ25lciAmJiBkZXNpZ25lci5kZXNpZ25jYWZlZW1haWwpIHtcbiAgICAgICAgICAgIGNjTGlzdC5wdXNoKGRlc2lnbmVyLmRlc2lnbmNhZmVlbWFpbClcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjY0xpc3QucHVzaChcImxvcmVuem9AZGVzaWduY2FmZS5jb21cIilcbiAgICAgICAgfVxuICAgICAgICBjY0xpc3QucHVzaChcImRkYWRtaW5AZGVzaWduY2FmZS5jb21cIilcblxuICAgICAgICBpZiAocHJvamVjdC5jaG1pZCkge1xuICAgICAgICAgIGNvbnN0IHBhbSA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kVW5pcXVlKHsgd2hlcmU6IHsgdXNlcmlkOiBwcm9qZWN0LmNobWlkIH0gfSk7XG4gICAgICAgICAgaWYgKHBhbSAmJiBwYW0uZGVzaWduY2FmZWVtYWlsKSB7XG4gICAgICAgICAgICBjY0xpc3QucHVzaChwYW0uZGVzaWduY2FmZWVtYWlsKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvamVjdC5leHBlcmllbmNlY2VudGVyaWQpIHtcbiAgICAgICAgICBjb25zdCBleHBlcmllbmNlQ2VudGVyID0gYXdhaXQgcHJpc21hLmRjX2V4cGVyaWVuY2VjZW50ZXJzLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBjZW50ZXJpZDogcHJvamVjdC5leHBlcmllbmNlY2VudGVyaWQgfSB9KVxuICAgICAgICAgIGlmIChleHBlcmllbmNlQ2VudGVyKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbmNlRW1haWxJRCA9IGV4cGVyaWVuY2VDZW50ZXIuZmluYW5jZXRlYW1lbWFpbDtcbiAgICAgICAgICAgIHRvTGlzdCA9IGZpbmFuY2VFbWFpbElEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b0xpc3QucHVzaChcImRkYWRtaW5AZGVzaWduY2FmZS5jb21cIilcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc3ViamVjdCA9IGRhdGEubGFiZWxcblxuICAgICAgY29uc3QgY29udGVudCA9IGRhdGEuZW1haWxfdGVtcGxhdGVcbiAgICAgIGNvbnN0IGVtYWlsQ29udGVudCA9IGNvbnRlbnRcbiAgICAgICAgLnJlcGxhY2UoXCIkcHJvamVjdCBuYW1lXCIsIHByb2plY3QucHJvamVjdG5hbWUpXG4gICAgICAgIC5yZXBsYWNlKFwiJHJlY2VpdmVkIGFtb3VudFwiLCByZWNlaXZlZGFtb3VudClcbiAgICAgICAgLnJlcGxhY2UoXCIkY2xpZW50aWRcIiwgcHJvamVjdC5wcm9qZWN0aWQpXG4gICAgICAgIC5yZXBsYWNlKFwiJHBheW1lbnRkYXRlXCIsIHJlY2VpdmVkZGF0ZSlcblxuICAgICAgYXdhaXQgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uKHRvTGlzdCwgc3ViamVjdCwgZW1haWxDb250ZW50LCBjY0xpc3QpXG4gICAgfVxuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgUkVTVERhdGFTb3VyY2UsIFJlcXVlc3RPcHRpb25zIH0gZnJvbSBcImFwb2xsby1kYXRhc291cmNlLXJlc3RcIjtcblxuY2xhc3MgQWRkUGF5bWVudFJlY2VpcHRzIGV4dGVuZHMgUkVTVERhdGFTb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LmFwaUVuZHBvaW50O1xuICB9XG4gIHdpbGxTZW5kUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0T3B0aW9ucykge1xuICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoXCJBdXRob3JpemF0aW9uXCIsIHRoaXMuY29udGV4dC5oZWFkZXJzLmF1dGhvcml6YXRpb24pO1xuICB9XG4gIC8vIHBvc3RcbiAgYXN5bmMgYWRkcGF5bWVudFJlY2VpcHREYXRhKGFyZ3MpIHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFuc2FjdGlvbklkLFxuICAgICAgcmVjZWl2ZWRBbW91bnQsXG4gICAgICBwcm9qZWN0SUQsXG4gICAgICBwYXltZW50UmVxdWVzdHMsXG4gICAgICBwYXltZW50UmVjZWl2ZWREYXRlLFxuICAgICAgcGF5bWVudE1vZGUsXG4gICAgICBzaXRlU2VydmljZXNBbW91bnQsXG4gICAgICBjbGllbnRJRCxcbiAgICAgIG1vZHVsYXJBbW91bnQsXG4gICAgfSA9IGFyZ3M7XG5cbiAgICByZXR1cm4gdGhpcy5wb3N0KFwiY3JlYXRlUGF5bWVudFJlY2VpcHRcIiwge1xuICAgICAgLy8gcmVxdWVzdFxuICAgICAgdHJhbnNhY3Rpb25JZCxcbiAgICAgIHJlY2VpdmVkQW1vdW50LFxuICAgICAgcHJvamVjdElELFxuICAgICAgcGF5bWVudFJlcXVlc3RzLFxuICAgICAgcGF5bWVudFJlY2VpdmVkRGF0ZSxcbiAgICAgIHBheW1lbnRNb2RlLFxuICAgICAgc2l0ZVNlcnZpY2VzQW1vdW50LFxuICAgICAgY2xpZW50SUQsXG4gICAgICBtb2R1bGFyQW1vdW50LFxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBBZGRQYXltZW50UmVjZWlwdHM7XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQge1xuICBDbGVhclBheW1lbnRSZXF1ZXN0TW9kZWwsXG4gIFBheW1lbnRTdGF0dXNFbnVtLFxuICBNaWNyb3NlcnZpY2VNYW51YWxJbnZvaWNlUmVxdWVzdE1vZGVsLFxuICBBZGRyZXNzTW9kZWwsXG4gIEFkZE9uUGF5bWVudE9iamVjdCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9SZXF1ZXN0ZGF0YS9QYXltZW50bWlsZXN0b25ldXBkYXRlcmVxdWVzdG1vZGVsXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgc3VwZXJhZ2VudCBmcm9tIFwic3VwZXJhZ2VudFwiO1xuXG5leHBvcnQgY29uc3QgQ2xlYXJQYXltZW50Q29uZm9ybWF0aW9uID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgY29uc3QgeyBtaWxlc3RvbmVpZCwgcHJvamVjdGlkIH0gPSBhcmdzO1xuICBjb25zdCBjbGVhcnBheW1lbnQgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7IGlkOiBtaWxlc3RvbmVpZCB9LFxuICB9KTtcbiAgaWYgKCFjbGVhcnBheW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJObyBQYXltZW50IE1pbGVzdG9uZSBGb3VuZFwiKTtcbiAgfVxuICBpZiAoIWNsZWFycGF5bWVudC5pbnZvaWNlbnVtYmVyKSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIFwiQ2Fubm90IGZpbmQgSW52b2ljZSBOdW1iZXJcIik7XG4gIH1cbiAgY29uc3QgdXJsID0gYCR7cHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnR9ZGF0YS1jb3JyZWN0aW9uL3BheW1lbnQtcmVjZWlwdD9pbnZvaWNlTnVtYmVyPSR7Y2xlYXJwYXltZW50Lmludm9pY2VudW1iZXJ9YDtcbiAgY29uc29sZS5sb2coXCJ1cmxcIiwgdXJsKTtcbiAgY29uc3QgaW52b2ljZSA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAuZGVsZXRlKHVybClcbiAgICAuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgY29uc29sZS5sb2coXCJJbnZvaWNlOi0tLS0tXCIsIGludm9pY2UuYm9keSk7XG4gIGlmIChpbnZvaWNlICYmIGludm9pY2UuYm9keSAmJiBpbnZvaWNlLmJvZHkuc3RhdHVzQ29kZSkge1xuICAgIGlmIChpbnZvaWNlLmJvZHkuc3RhdHVzQ29kZSA+PSAyMDAgJiYgaW52b2ljZS5ib2R5LnN0YXR1c0NvZGUgPCA0MDApIHtcbiAgICAgIGF3YWl0IHJlbW92ZVBheW1lbnREZXRhaWxzKHByb2plY3RpZCwgY2xlYXJwYXltZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGhpdE1pY3Jvc2VydmljZUFnYWluVG9VcGRhdGVMYXRlc3REYXRhKHByb2plY3RpZCwgbWlsZXN0b25laWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIi0tLWhpdE1pY3Jvc2VydmljZUFnYWluVG9VcGRhdGVMYXRlc3REYXRhIC0tLS0tLS0gICBFUlJPUiBmcm9tIE1JQ1JPU0VSVklDRTpcIixcbiAgICAgICAgICBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidGhyb3dpbmcgRXJyb3IgZnJvbSBzdGF0dXMgY29kZVwiKTtcbiAgICAgIHRocm93IEVycm9yKGludm9pY2UuYm9keS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXG4gIH07XG59O1xuY29uc3QgcmVtb3ZlUGF5bWVudERldGFpbHMgPSBhc3luYyAocHJvamVjdElELCBjbGVhcnBheW1lbnRkYXRhKSA9PiB7XG4gIGlmIChjbGVhcnBheW1lbnRkYXRhLmlkKSB7XG4gICAgY29uc29sZS5sb2coXCIyXCIpO1xuICAgIGNvbnN0IHBheW1lbnRyZWNlaXB0ZGF0YSA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVjZWlwdHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IHBheW1lbnRtaWxsZXN0b25laWQ6IGNsZWFycGF5bWVudGRhdGEuaWQgfSxcbiAgICB9KTtcbiAgICBjb25zdCBwYXltZW50aWQgPSBwYXltZW50cmVjZWlwdGRhdGEuaWQ7XG4gICAgYXdhaXQgcmVtb3ZlQWxsUGF5bWVudENvbmZpcm1hdGlvbnNPYmplY3RzKHBheW1lbnRpZCk7XG4gICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYW1vdW50cGFpZDogMCxcbiAgICAgICAgZnJlZXplZG1vZHVsYXI6IDAsXG4gICAgICAgIGZyZWV6ZWRzaXRlc2VydmljZTogMCxcbiAgICAgICAgaXNmcmVlemVkOiBmYWxzZSxcbiAgICAgICAgcGF5bWVudGlkOiBudWxsLFxuICAgICAgICBzdGF0dXM6IFBheW1lbnRTdGF0dXNFbnVtLlBFTkRJTkcsXG4gICAgICAgIGFtb3VudGR1ZTpcbiAgICAgICAgICBOdW1iZXIoY2xlYXJwYXltZW50ZGF0YS50b3RhbHBheWFibGVhbW91bnQpIC1cbiAgICAgICAgICBOdW1iZXIoY2xlYXJwYXltZW50ZGF0YS5hZHZhbmNlYW1vdW50KSxcbiAgICAgIH0sXG4gICAgICB3aGVyZTogeyBpZDogY2xlYXJwYXltZW50ZGF0YS5pZCB9LFxuICAgIH0pO1xuICAgIGxldCBuZXh0UGF5bWVudFZhbHVlID0gbnVsbDtcbiAgICBzd2l0Y2ggKGNsZWFycGF5bWVudGRhdGEucGF5bWVudHZhbHVlKSB7XG4gICAgICBjYXNlIFwiNSVcIjpcbiAgICAgICAgbmV4dFBheW1lbnRWYWx1ZSA9IFwiMTUlXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIjE1JVwiOlxuICAgICAgICBuZXh0UGF5bWVudFZhbHVlID0gXCIzNSVcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiMzUlXCI6XG4gICAgICAgIG5leHRQYXltZW50VmFsdWUgPSBcIjQ1JVwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJuZXh0UGF5bWVudFZhbHVlXCIsIG5leHRQYXltZW50VmFsdWUpO1xuXG4gICAgaWYgKG5leHRQYXltZW50VmFsdWUpIHtcbiAgICAgIGNvbnN0IHByb2plY3RkYXRhID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHByb2plY3RpZDogcHJvamVjdElEIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGlkID0gcHJvamVjdGRhdGEuaWQ7XG4gICAgICBjb25zdCBuZXh0UGF5bWVudE1pbGVzdG9uZSA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgcGF5bWVudHZhbHVlOiBuZXh0UGF5bWVudFZhbHVlLFxuICAgICAgICAgIHByb2plY3RpZDogaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV4dFBheW1lbnRNaWxlc3RvbmVcIiwgbmV4dFBheW1lbnRNaWxlc3RvbmUpO1xuICAgICAgY29uc3QgbmV4dFBheW1lbnRNaWxlc3RvbmVJRCA9IG5leHRQYXltZW50TWlsZXN0b25lLmlkO1xuICAgICAgY29uc3QgbmV4dFBheW1lbnRNaWxlc3RvbmVEYXRhID0gbmV3IENsZWFyUGF5bWVudFJlcXVlc3RNb2RlbCgpO1xuICAgICAgY29uc3QgQW1vdW50ZHVlOiBudW1iZXIgPVxuICAgICAgICBOdW1iZXIobmV4dFBheW1lbnRNaWxlc3RvbmUuYW1vdW50ZHVlKSArXG4gICAgICAgIE51bWJlcihuZXh0UGF5bWVudE1pbGVzdG9uZS5hZHZhbmNlYW1vdW50KTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLnVwZGF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhZHZhbmNlYW1vdW50OiAwLFxuICAgICAgICAgIGFtb3VudGR1ZTogQW1vdW50ZHVlLFxuICAgICAgICAgIHN0YXR1czogUGF5bWVudFN0YXR1c0VudW0uUEVORElORyxcbiAgICAgICAgfSxcbiAgICAgICAgd2hlcmU6IHsgaWQ6IG5leHRQYXltZW50TWlsZXN0b25lSUQgfSxcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIFwibmV4dFBheW1lbnRNaWxlc3RvbmVVcGRhdGVkTWlsZXN0b25lXCIsXG4gICAgICAgIG5leHRQYXltZW50TWlsZXN0b25lRGF0YVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCByZW1vdmVBbGxQYXltZW50Q29uZmlybWF0aW9uc09iamVjdHMgPSBhc3luYyAocGF5bWVudGlkKSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiMVwiLCBwYXltZW50aWQpO1xuICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlY2VpcHRzLmRlbGV0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IHBheW1lbnRpZCB9LFxuICB9KTtcbn07XG5jb25zdCBoaXRNaWNyb3NlcnZpY2VBZ2FpblRvVXBkYXRlTGF0ZXN0RGF0YSA9IGFzeW5jIChcbiAgcHJvamVjdGlkLFxuICBtaWxlc3RvbmVpZFxuKSA9PiB7XG4gIGNvbnN0IHByb2plY3QgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyBwcm9qZWN0aWQ6IHByb2plY3RpZCB9LFxuICB9KTtcbiAgaWYgKCFwcm9qZWN0LmN1c3RvbWVyaWQpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJDdXN0b21lciBJbmZvcm1hdGlvbiBub3QgZm91bmRcIik7XG4gIH1cbiAgY29uc3QgY3VzdG9tZXJpZCA9IHByb2plY3QuY3VzdG9tZXJpZDtcbiAgY29uc3QgY3VzdG9tZXIgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBjdXN0b21lcmlkIH0sXG4gIH0pO1xuICBjb25zdCBiaWxsaW5nYWRkID0gYXdhaXQgcHJpc21hLmRjX2FkZHJlc3Nlcy5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGN1c3RvbWVyaWQgfSxcbiAgfSk7XG4gIGNvbnN0IG1pbGVzdG9uZSA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHtcbiAgICAgIGlkOiBtaWxlc3RvbmVpZCxcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGEgPSBuZXcgTWljcm9zZXJ2aWNlTWFudWFsSW52b2ljZVJlcXVlc3RNb2RlbCgpO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5pbnZvaWNlTnVtYmVyID0gbWlsZXN0b25lLmludm9pY2VudW1iZXI7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLmN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzID0gY3VzdG9tZXIucHJvamVjdGFkZHJlc3M7XG4gIGNvbnN0IGJpbGxpbmdBZGRyZXNzID0gbmV3IEFkZHJlc3NNb2RlbCgpO1xuICBiaWxsaW5nQWRkcmVzcy5jb3VudHJ5ID0gYmlsbGluZ2FkZC5jb3VudHJ5O1xuICBiaWxsaW5nQWRkcmVzcy5zdHJlZXQgPSBiaWxsaW5nYWRkLnN0cmVldDtcbiAgYmlsbGluZ0FkZHJlc3MuY2l0eSA9IGJpbGxpbmdhZGQuY2l0eTtcbiAgYmlsbGluZ0FkZHJlc3Muemlwb3Jwb3N0YWxjb2RlID0gYmlsbGluZ2FkZC56aXA7XG4gIGJpbGxpbmdBZGRyZXNzLnNoaXBwaW5nc3RhdGUgPSBiaWxsaW5nYWRkLnN0YXRlO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5jdXN0b21lck5hbWUgPSBjdXN0b21lci5maXJzdG5hbWU7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLmN1c3RvbWVyRW1haWwgPSBjdXN0b21lci5jdXN0b21lcmVtYWlsO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5jdXN0b21lclBob25lID0gY3VzdG9tZXIuY3VzdG9tZXJwaG9uZTtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGEuY3VzdG9tZXJCaWxsaW5nYWRkcmVzcyA9IGJpbGxpbmdBZGRyZXNzO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5wcm9qZWN0SUQgPSBwcm9qZWN0LnByb2plY3RpZDtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGEucHJvamVjdE5hbWUgPSBwcm9qZWN0LnByb2plY3RuYW1lO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5wcm9qZWN0U3RhdHVzID0gYCR7cHJvamVjdC5wcm9qZWN0c3RhdHVzfWA7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLnJlcXVlc3ROYW1lID0gXCJTQVZFX0lOVk9JQ0VcIjtcbiAgaWYgKG1pbGVzdG9uZS5wYXltZW50dmFsdWUgPT09IFwiNSVcIikge1xuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLnBheW1lbnROYW1lID0gYCR7bWlsZXN0b25lLnBheW1lbnR2YWx1ZX0gc3VwcGx5IG9mIGludGVyaW9yIHdvcmtzYDtcbiAgfSBlbHNlIGlmIChtaWxlc3RvbmUucGF5bWVudHZhbHVlID09PSBcIjEwMCVcIikge1xuICAgIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLnBheW1lbnROYW1lID0gXCJkZWVwIGNsZWFuaW5nXCI7XG4gIH0gZWxzZSB7XG4gICAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGEucGF5bWVudE5hbWUgPSBgJHttaWxlc3RvbmUucGF5bWVudHZhbHVlfSBzdXBwbHkgb2Ygd29ya3NgO1xuICB9XG4gIGNvbnN0IGV4cGVyaWVuY2VDZW50ZXIgPSBhd2FpdCBwcmlzbWEuZGNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyBjZW50ZXJpZDogcHJvamVjdC5leHBlcmllbmNlY2VudGVyaWQgfSxcbiAgfSk7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLmFwcGxpY2F0aW9uSWQgPSBcIkRFU0lHTkVSX0RBU0hCT0FSRFwiO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5leHBlcmllbmNlQ2VudGVyID0gZXhwZXJpZW5jZUNlbnRlci5uYW1lO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5pbnZvaWNlRGF0ZSA9IG1pbGVzdG9uZS5pbnZvaWNlZGF0ZTtcbiAgbWljcm9zZXJ2aWNlUmVxdWVzdERhdGEucHJvamVjdFZhbHVlID0gTnVtYmVyKHByb2plY3QudG90YWxwcm9qZWN0dmFsdWUpO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5taWxlc3RvbmVQZW5kaW5nRHVlID1cbiAgICBOdW1iZXIobWlsZXN0b25lLnRvdGFscGF5YWJsZWFtb3VudCkgLVxuICAgIE51bWJlcihtaWxlc3RvbmUuYWR2YW5jZWFtb3VudCkgLVxuICAgIE51bWJlcihtaWxlc3RvbmUuYW1vdW50cGFpZCk7XG4gIGNvbnN0IG1pbGVzdG9uZXN0YXR1cyA9IG1pbGVzdG9uZS5zdGF0dXM7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLnBheW1lbnRTdGF0dXMgPSBtaWxlc3RvbmVzdGF0dXM7XG4gIG1pY3Jvc2VydmljZVJlcXVlc3REYXRhLmFtb3VudFBhaWQgPSBOdW1iZXIobWlsZXN0b25lLmFtb3VudHBhaWQpO1xuICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5hbW91bnREdWUgPVxuICAgIE51bWJlcihtaWxlc3RvbmUudG90YWxwYXlhYmxlYW1vdW50KSAtXG4gICAgTnVtYmVyKG1pbGVzdG9uZS5hZHZhbmNlYW1vdW50KSAtXG4gICAgTnVtYmVyKG1pbGVzdG9uZS5hbW91bnRwYWlkKTtcbiAgaWYgKE51bWJlcihtaWxlc3RvbmUuYWRkb25hbW91bnQpID4gMCkge1xuICAgIGNvbnN0IGFkZE9uT2JqID0gbmV3IEFkZE9uUGF5bWVudE9iamVjdCgpO1xuICAgIGFkZE9uT2JqLmFtb3VudCA9IE51bWJlcihtaWxlc3RvbmUuYWRkb25hbW91bnQpO1xuICAgIGFkZE9uT2JqLnBheW1lbnRuYW1lID0gXCI1MCUgQWRkb24gU2VydmljZVwiO1xuICAgIGFkZE9uT2JqLnF1YW50aXR5ID0gMTtcbiAgICBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YS5leHRyYVBheW1lbnRzID0gW2FkZE9uT2JqXTtcbiAgfVxuICBjb25zb2xlLmxvZyhcIm1pY3Jvc2VydmljZVJlcXVlc3REYXRhOlwiLCBtaWNyb3NlcnZpY2VSZXF1ZXN0RGF0YSk7XG4gIGNvbnN0IHVybCA9IGAke3Byb2Nlc3MuZW52LmFwaUVuZHBvaW50fWRlc2lnbmVyLWRhc2hib2FyZC9zYXZlLWludm9pY2UtZGF0YWA7XG4gIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLTBcIiwgdXJsKTtcbiAgY29uc3QgaW52b2ljZSA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAucG9zdCh1cmwpXG4gICAgLnNlbmQobWljcm9zZXJ2aWNlUmVxdWVzdERhdGEpXG4gICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gIGNvbnNvbGUubG9nKFxuICAgIFwiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1JbnZvaWNlOiBcIixcbiAgICBKU09OLnN0cmluZ2lmeShpbnZvaWNlLmJvZHkpXG4gICk7XG4gIGlmIChpbnZvaWNlLmJvZHkuc3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgY29uc29sZS5sb2coXCJpbnZvaWNlLmJvZHkubWVzc2FnZVwiLCBpbnZvaWNlLmJvZHkubWVzc2FnZSk7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIGludm9pY2UuYm9keS5tZXNzYWdlKTtcbiAgfVxufTtcbmNvbnN0IGdldFBheW1lbnRTdGF0dXNOYW1lID0gYXN5bmMgKG1pbGVzdG9uZXN0YXR1cykgPT4ge1xuICBsZXQgcGF5bWVudHN0YXR1cztcbiAgc3dpdGNoIChtaWxlc3RvbmVzdGF0dXMpIHtcbiAgICBjYXNlIFBheW1lbnRTdGF0dXNFbnVtLlBBSUQ6XG4gICAgICBwYXltZW50c3RhdHVzID0gXCJQQUlEXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFBheW1lbnRTdGF0dXNFbnVtLlBBUlRJQUxfUEFZTUVOVDpcbiAgICAgIHBheW1lbnRzdGF0dXMgPSBcIlBBUlRJQUxMWV9QQUlEXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFBheW1lbnRTdGF0dXNFbnVtLlBFTkRJTkc6XG4gICAgICBwYXltZW50c3RhdHVzID0gXCJQRU5ESU5HXCI7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gcGF5bWVudHN0YXR1cztcbn07XG4iLCJpbXBvcnQgeyBSRVNURGF0YVNvdXJjZSxSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2Fwb2xsby1kYXRhc291cmNlLXJlc3QnO1xuXG5jbGFzcyBEZWxldGVQYXltZW50UmVjZWlwdHMgZXh0ZW5kcyBSRVNURGF0YVNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5hcGlFbmRwb2ludDtcblxuICAgICAgfVxuICAgICAgd2lsbFNlbmRSZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLHRoaXMuY29udGV4dC5oZWFkZXJzLmF1dGhvcml6YXRpb24pO1xuICAgICAgfVxuICAgICAgLy8gZGVsZXRlXG4gICAgICBhc3luYyBkZWxldGVwYXltZW50UmVjZWlwdERhdGEoYXJncykge1xuICAgICAgICBjb25zdCB7cGF5bWVudElkfSA9IGFyZ3M7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoJ2RlbGV0ZVBheW1lbnRSZWNlaXB0Jyx7XG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgcGF5bWVudElkLFxuICAgICB9LFxuICAgICAgKVxuICAgICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRGVsZXRlUGF5bWVudFJlY2VpcHRzXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQge1xuICAgQWRkUGF5bWVudFJlY2VpcHRSZXF1ZXN0RGF0YSwgUGF5bWVudFN0YXR1c0VudW0sXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vUmVxdWVzdGRhdGEvUGF5bWVudG1pbGVzdG9uZXVwZGF0ZXJlcXVlc3Rtb2RlbFwiO1xuaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBVcGRhdGVQYXltZW50Q29uZm9ybWF0aW9uID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgIGxldCB1cGRhdGVQY1Jlc3BvbnNlT2JqO1xuXG4gICBjb25zdCB7IG1pbGVzdG9uZWlkLCBwcm9qZWN0aWQsIHJlY2VpdmVkYW1vdW50LCBtb2Rlb2ZwYXltZW50LCByZWNlaXZlZGRhdGUsIGF0dGFjaG1lbnQsIHBheW1lbnRpZCB9ID0gYXJncztcbiAgIGNvbnN0IHBheW1lbnRDb25maXJtYXRpb24gPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlY2VpcHRzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBwYXltZW50aWQ6IHBheW1lbnRpZCB9XG4gICB9KTtcbiAgIGNvbnNvbGUubG9nKHBheW1lbnRDb25maXJtYXRpb24pO1xuICAgaWYgKCFwYXltZW50Q29uZmlybWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJJbnZhbGlkIFBheW1lbnQgRGV0YWlsIElEXCIpO1xuICAgfVxuICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgcHJvamVjdGlkOiBwcm9qZWN0aWQgfVxuICAgfSk7XG4gICBjb25zdCBtaWxlc3RvbmUgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgIH0pO1xuICAgY29uc3QgcGF5bWVudENvbmZpcm1hdGlvbkRhdGEgPSBuZXcgQWRkUGF5bWVudFJlY2VpcHRSZXF1ZXN0RGF0YSgpO1xuICAgaWYgKGF0dGFjaG1lbnQpIHtcblxuICAgICAgY29uc3QgYXR0YWNobWVudEZpbGUgPSB7XG4gICAgICAgICBrZXk6IGF0dGFjaG1lbnQuZmlsZU5hbWUsXG4gICAgICAgICBjb250ZW50VHlwZTogYXR0YWNobWVudC5jb250ZW50VHlwZSxcbiAgICAgICAgIGJhc2U2NDogYXR0YWNobWVudC5maWxlQmFzZTY0LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGZpbGVPYmogPSBhd2FpdCBVcGxvYWRGaWxlT25TMyhhdHRhY2htZW50RmlsZSk7XG4gICAgICBpZiAoIWZpbGVPYmopIHtcbiAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBcIkVycm9yIHVwbG9hZGluZyBhdHRhY2htZW50XCIpO1xuICAgICAgfVxuICAgICAgcGF5bWVudENvbmZpcm1hdGlvbkRhdGEuc3VwcG9ydGluZ0RvY3VtZW50VVJMID0gZmlsZU9iai5Mb2NhdGlvbjtcbiAgICAgIHBheW1lbnRDb25maXJtYXRpb25EYXRhLmF3c1N1cHBvcnRpbmdEb2N1bWVudFVSTEtleSA9IGZpbGVPYmoua2V5O1xuICAgfVxuICAgY29uc3QgYW1vdW50RGlmZmVyZW5jZSA9IE51bWJlcihyZWNlaXZlZGFtb3VudCkgLSBOdW1iZXIocGF5bWVudENvbmZpcm1hdGlvbi5yZWNlaXZlZGFtb3VudCk7XG4gICBjb25zb2xlLmxvZyhhbW91bnREaWZmZXJlbmNlKTtcbiAgIGxldCBhZHZhbmNlRm9yTmV4dE1pbGVzdG9uZSA9IDA7XG4gICBpZiAoYW1vdW50RGlmZmVyZW5jZSAhPT0gMCkge1xuICAgICAgY29uc3QgdXBkYXRlZEFtb3VudFBhaWRWYWx1ZSA9IE51bWJlcihtaWxlc3RvbmUuYW1vdW50cGFpZCkgKyBOdW1iZXIoYW1vdW50RGlmZmVyZW5jZSk7XG4gICAgICBpZiAodXBkYXRlZEFtb3VudFBhaWRWYWx1ZSA+IE51bWJlcihtaWxlc3RvbmUudG90YWxwYXlhYmxlYW1vdW50KSkge1xuICAgICAgICAgYWR2YW5jZUZvck5leHRNaWxlc3RvbmUgPSB1cGRhdGVkQW1vdW50UGFpZFZhbHVlIC0gTnVtYmVyKG1pbGVzdG9uZS50b3RhbHBheWFibGVhbW91bnQpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlZEFtb3VudER1ZSA9IE51bWJlcihtaWxlc3RvbmUudG90YWxwYXlhYmxlYW1vdW50KSAtIHVwZGF0ZWRBbW91bnRQYWlkVmFsdWUgLSBOdW1iZXIobWlsZXN0b25lLmFkdmFuY2VhbW91bnQpO1xuICAgICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGFtb3VudHBhaWQ6IE1hdGguZmxvb3IodXBkYXRlZEFtb3VudFBhaWRWYWx1ZSksXG4gICAgICAgICAgICBhbW91bnRkdWU6IE1hdGguZmxvb3IodXBkYXRlZEFtb3VudER1ZSlcbiAgICAgICAgIH0sXG4gICAgICAgICB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfVxuICAgICAgfSk7XG4gICAgICBpZiAodXBkYXRlZEFtb3VudER1ZSA8PSAwKSB7XG4gICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgZnJlZXplZG1vZHVsYXI6IHVwZGF0ZWRBbW91bnRQYWlkVmFsdWUsXG4gICAgICAgICAgICAgICBpc2ZyZWV6ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICBzdGF0dXM6IFBheW1lbnRTdGF0dXNFbnVtLlBBSURcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aGVyZTogeyBpZDogbWlsZXN0b25laWQgfVxuICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgIHN0YXR1czogUGF5bWVudFN0YXR1c0VudW0uUEFSVElBTF9QQVlNRU5UXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IG1pbGVzdG9uZWlkIH1cbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgYWNoaWV2ZWRyZXZlbnVldmFsdWUgPSBNYXRoLmZsb29yKE51bWJlcihwcm9qZWN0LmFjaGlldmVkcmV2ZW51ZXZhbHVlKSArIE51bWJlcihhbW91bnREaWZmZXJlbmNlKSk7XG4gICAgICBjb25zb2xlLmxvZyhwYXltZW50Q29uZmlybWF0aW9uLmlkKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVjZWlwdHMudXBkYXRlKHtcbiAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHJlY2VpdmVkYW1vdW50OiByZWNlaXZlZGFtb3VudCxcbiAgICAgICAgICAgIGFtb3VudHBhaWQ6IHJlY2VpdmVkYW1vdW50LFxuICAgICAgICAgICAgcGF5bWVudG1vZGU6IG1vZGVvZnBheW1lbnQsXG4gICAgICAgICAgICBwYXltZW50cmVjZWl2ZWRkYXRlOiByZWNlaXZlZGRhdGVcbiAgICAgICAgIH0sXG4gICAgICAgICB3aGVyZTogeyBpZDogcGF5bWVudENvbmZpcm1hdGlvbi5pZCB9XG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJFcnJvciBhZGRpbmcgUGF5bWVudFwiKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgYWNoaWV2ZWRyZXZlbnVldmFsdWU6IE1hdGguZmxvb3IoTnVtYmVyKHByb2plY3QuYWNoaWV2ZWRyZXZlbnVldmFsdWUpICsgTnVtYmVyKGFtb3VudERpZmZlcmVuY2UpKSxcbiAgICAgICAgICAgIHBlbmRpbmdhbW91bnR2YWx1ZTogTWF0aC5mbG9vcihOdW1iZXIocHJvamVjdC50b3RhbHByb2plY3R2YWx1ZSkgLVxuICAgICAgICAgICAgICAgTnVtYmVyKGFjaGlldmVkcmV2ZW51ZXZhbHVlKSlcbiAgICAgICAgIH0sXG4gICAgICAgICB3aGVyZTogeyBwcm9qZWN0aWQ6IHByb2plY3RpZCB9XG4gICAgICB9KTtcbiAgICAgIGlmIChhZHZhbmNlRm9yTmV4dE1pbGVzdG9uZSA+IDApIHtcbiAgICAgICAgIGNvbnN0IG5leHRNaWxlc3RvbmVJbmRleCA9IG1pbGVzdG9uZS5zZXF1ZW5jZSArIDE7XG4gICAgICAgICBjb25zdCBuZXh0TWlsZXN0b25lSUQgPSBwcm9qZWN0LnBheW1lbnRtaWxlc3RvbmVsaXN0LmZpbHRlcihcbiAgICAgICAgICAgIChvKSA9PiBvLnNlcXVlbmNlID09PSBuZXh0TWlsZXN0b25lSW5kZXhcbiAgICAgICAgICk7XG4gICAgICAgICBpZiAobmV4dE1pbGVzdG9uZUlEKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TWlsZXN0b25lID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUuZmluZEZpcnN0KHtcbiAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBuZXh0TWlsZXN0b25lSUQgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgYWR2YW5jZWFtb3VudDogTWF0aC5mbG9vcihhZHZhbmNlRm9yTmV4dE1pbGVzdG9uZSksXG4gICAgICAgICAgICAgICAgICBhbW91bnRkdWU6IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgICAgICAgICBOdW1iZXIobmV4dE1pbGVzdG9uZS50b3RhbHBheWFibGVhbW91bnQpIC0gTnVtYmVyKG5leHRNaWxlc3RvbmUuYW1vdW50cGFpZCkgLVxuICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKGFkdmFuY2VGb3JOZXh0TWlsZXN0b25lKSksXG4gICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgIGlkOiBuZXh0TWlsZXN0b25lSURcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIHVwZGF0ZVBjUmVzcG9uc2VPYmogPSB7XG4gICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgIH1cblxuICAgfVxuXG4gICByZXR1cm4gdXBkYXRlUGNSZXNwb25zZU9iajtcbn1cbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLCBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2Fwb2xsby1kYXRhc291cmNlLXJlc3QnO1xuXG5jbGFzcyBVcGRhdGVQYXltZW50UmVjZWlwdHMgZXh0ZW5kcyBSRVNURGF0YVNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG5cbiAgfVxuICB3aWxsU2VuZFJlcXVlc3QocmVxdWVzdDogUmVxdWVzdE9wdGlvbnMpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb250ZXh0LmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XG4gIH1cbiAgLy8gcHV0XG4gIGFzeW5jIHVwZGF0ZXBheW1lbnRSZWNlaXB0RGF0YShhcmdzKSB7XG4gICAgY29uc3QgeyB0cmFuc2FjdGlvbklkLCByZWNlaXZlZEFtb3VudCwgcHJvamVjdElELCBwYXltZW50UmVxdWVzdHMsIHBheW1lbnRSZWNlaXZlZERhdGUsIHBheW1lbnRNb2RlLCBzaXRlU2VydmljZXNBbW91bnQsIGNsaWVudElELFxuICAgICAgbW9kdWxhckFtb3VudCwgYXBwTmFtZSwgcGF5bWVudElkLCBzdGF0dXMsIG9kb29fcGF5bWVudF9pZCwgcGF5bWVudFJlY2VpcHQsIHJlYXNvbl9mb3JfcmVqZWN0aW9uIH0gPSBhcmdzO1xuICAgIHJldHVybiB0aGlzLnB1dCgndXBkYXRlUGF5bWVudFJlY2VpcHQnLCB7XG4gICAgICAvLyByZXF1ZXN0XG4gICAgICB0cmFuc2FjdGlvbklkLFxuICAgICAgcmVjZWl2ZWRBbW91bnQsXG4gICAgICBwcm9qZWN0SUQsXG4gICAgICBwYXltZW50UmVxdWVzdHMsXG4gICAgICBwYXltZW50UmVjZWl2ZWREYXRlLFxuICAgICAgcGF5bWVudE1vZGUsXG4gICAgICBzaXRlU2VydmljZXNBbW91bnQsXG4gICAgICBjbGllbnRJRCxcbiAgICAgIG1vZHVsYXJBbW91bnQsXG4gICAgICBhcHBOYW1lLFxuICAgICAgcGF5bWVudElkLFxuICAgICAgc3RhdHVzLFxuICAgICAgb2Rvb19wYXltZW50X2lkLFxuICAgICAgcGF5bWVudFJlY2VpcHQsXG4gICAgICByZWFzb25fZm9yX3JlamVjdGlvblxuICAgIH0sXG4gICAgKVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBVcGRhdGVQYXltZW50UmVjZWlwdHNcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldFBheW1lbnRSZWNlaXB0PSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCBwYXltZW50UmVjZWlwdFJlc3BvbnNlT2JqO1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgcHIgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlY2VpcHRzLmZpbmRNYW55KHt3aGVyZTogeyBjbGllbnRpZDogYXJncy5pZCB9fSk7XG4gICAgICAgIHBheW1lbnRSZWNlaXB0UmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsZGF0YTpwcn1cbiAgICAgICAgcmV0dXJuIHBheW1lbnRSZWNlaXB0UmVzcG9uc2VPYmpcbiAgICB9Y2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHBheW1lbnRSZWNlaXB0UmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiBwYXltZW50UmVjZWlwdFJlc3BvbnNlT2JqXG4gICAgICB9XG59XG4iLCJpbXBvcnQge0dyYXBoUUxKU09OfSBmcm9tICdncmFwaHFsLXNjYWxhcnMnO1xuaW1wb3J0IHtnZXRQYXltZW50UmVjZWlwdH0gIGZyb20gJy4vUXVlcmllcy9nZXRQYXltZW50UmVjZWlwdCc7XG5pbXBvcnQgeyBBZGRQYXltZW50Q29uZm9ybWF0aW9uIH0gZnJvbSAnLi9NdXRhdGlvbi9BZGRQYXltZW50Q29uZm9ybWF0aW9uJztcbmltcG9ydCB7IFVwZGF0ZVBheW1lbnRDb25mb3JtYXRpb24gfSBmcm9tICcuL011dGF0aW9uL1VwZGF0ZVBheW1lbnRDb25mb3JtYXRpb24nO1xuaW1wb3J0IHsgQ2xlYXJQYXltZW50Q29uZm9ybWF0aW9uIH0gZnJvbSAnLi9NdXRhdGlvbi9DbGVhclBheW1lbnRDb25mb3JtYXRpb24nO1xuZXhwb3J0IGNvbnN0IHBheW1lbnRSZWNlaXB0UmVzbG92ZXIgPSB7XG4gICAgTXV0YXRpb246e1xuICAgICAgICBBZGRQYXltZW50UmVjZWlwdHM6YXN5bmMoXywgYXJncyx7IGRhdGFTb3VyY2VzICwgcmVxIH0pPT5kYXRhU291cmNlcy5BZGRQYXltZW50UmVjZWlwdHMuYWRkcGF5bWVudFJlY2VpcHREYXRhKGFyZ3MscmVxKSxcbiAgICAgICAgVXBkYXRlUGF5bWVudFJlY2VpcHRzOmFzeW5jKF8sYXJncyx7IGRhdGFTb3VyY2VzICxyZXEgfSk9PmRhdGFTb3VyY2VzLlVwZGF0ZVBheW1lbnRSZWNlaXB0cy51cGRhdGVwYXltZW50UmVjZWlwdERhdGEoYXJncyxyZXEpLFxuICAgICAgICBEZWxldGVQYXltZW50UmVjZWlwdHM6YXN5bmMoXyxhcmdzLHsgZGF0YVNvdXJjZXMgLHJlcX0pPT5kYXRhU291cmNlcy5EZWxldGVQYXltZW50UmVjZWlwdHMuZGVsZXRlcGF5bWVudFJlY2VpcHREYXRhKGFyZ3MscmVxKSxcbiAgICAgICAgQWRkUGF5bWVudENvbmZvcm1hdGlvbjphc3luYyhwYXJlbnQsX2FyZ3M6e2RhdGE6IGFueSB9LGNvbnRleHQpID0+QWRkUGF5bWVudENvbmZvcm1hdGlvbihwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICAgICAgVXBkYXRlUGF5bWVudENvbmZvcm1hdGlvbjphc3luYyhwYXJlbnQsX2FyZ3M6e2RhdGE6IGFueSB9LGNvbnRleHQpPT5VcGRhdGVQYXltZW50Q29uZm9ybWF0aW9uKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgICAgICBDbGVhclBheW1lbnRDb25mb3JtYXRpb246YXN5bmMocGFyZW50LF9hcmdzOntkYXRhOiBhbnkgfSxjb250ZXh0KT0+Q2xlYXJQYXltZW50Q29uZm9ybWF0aW9uKHBhcmVudCxfYXJncyxjb250ZXh0KSxcbiAgICB9LFxuICAgIFF1ZXJ5OiB7XG4gICAgICAgIGdldFBheW1lbnRSZWNlaXB0OmFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PmdldFBheW1lbnRSZWNlaXB0KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgICB9LFxuICAgIEpTT046R3JhcGhRTEpTT05cbn1cbiIsImV4cG9ydCBjb25zdCBwYXltZW50UmVjZWlwdFR5cGVkZWYgPSBgXG5zY2FsYXIgSlNPTlxudHlwZSBwYXltZW50cmVjZWlwdGRhdGF7XG4gICAgc3RhdHVzQ29kZTpJbnRcbiAgICBtZXNzYWdlOlN0cmluZ1xuICAgIGRhdGE6SlNPTlxuICAgIGNvZGU6SW50XG59XG5cbnR5cGUgcGF5bWVudHJlY2VpcHR1cGRhdGVkYXRhe1xuICAgIHN0YXR1c0NvZGU6SW50XG4gICAgbWVzc2FnZTpTdHJpbmdcbiAgICBjb2RlOkludFxufVxudHlwZSBnZXRwYXltZW50cmVjZWlwdHtcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6SlNPTlxufVxuXG50eXBlIGFkZHBheW1lbnRjb25mb3JtYXRpb257XG4gICAgZGF0YTpKU09OXG4gICAgbWVzc2FnZTogU3RyaW5nXG4gICAgY29kZTpJbnRcbn1cblxudHlwZSBkZWxldGVwYXltZW50Y29uZm9ybWF0aW9ue1xuICAgIGNvZGU6SW50LFxuICAgIG1lc3NhZ2U6U3RyaW5nXG59XG5cbmlucHV0IEF0dGFjaG1lbnRUb0JlVXBkYXRlZHtcbiAgICBmaWxlQmFzZTY0OlN0cmluZyxcbiAgICBmaWxlTmFtZTpTdHJpbmcsXG4gICAgY29udGVudFR5cGU6U3RyaW5nXG5cbn1cblxudHlwZSBNdXRhdGlvbiB7XG4gICAgQWRkUGF5bWVudFJlY2VpcHRzKFxuICAgIHRyYW5zYWN0aW9uSWQ6U3RyaW5nLFxuICAgIHJlY2VpdmVkQW1vdW50OkZsb2F0LFxuICAgIHByb2plY3RJRDpTdHJpbmcsXG4gICAgcGF5bWVudFJlcXVlc3RzOltTdHJpbmddLFxuICAgIHBheW1lbnRSZWNlaXZlZERhdGU6U3RyaW5nLFxuICAgIHBheW1lbnRNb2RlOlN0cmluZyxcbiAgICBzaXRlU2VydmljZXNBbW91bnQ6RmxvYXQsXG4gICAgY2xpZW50SUQ6U3RyaW5nLFxuICAgIG1vZHVsYXJBbW91bnQ6RmxvYXRcbik6cGF5bWVudHJlY2VpcHRkYXRhXG5cblVwZGF0ZVBheW1lbnRSZWNlaXB0cyhcbiAgICB0cmFuc2FjdGlvbklkOlN0cmluZyxcbiAgICAgICAgcmVjZWl2ZWRBbW91bnQ6RmxvYXQsXG4gICAgICAgIHByb2plY3RJRDpTdHJpbmcsXG4gICAgICAgIHBheW1lbnRSZXF1ZXN0czpbU3RyaW5nXSxcbiAgICAgICAgcGF5bWVudFJlY2VpdmVkRGF0ZTpTdHJpbmcsXG4gICAgICAgIHBheW1lbnRNb2RlOlN0cmluZyxcbiAgICAgICAgc2l0ZVNlcnZpY2VzQW1vdW50OkZsb2F0LFxuICAgICAgICBjbGllbnRJRDpTdHJpbmcsXG4gICAgICAgIG1vZHVsYXJBbW91bnQ6RmxvYXQsXG4gICAgICAgIGFwcE5hbWU6U3RyaW5nLFxuICAgICAgICBwYXltZW50SWQ6U3RyaW5nLFxuICAgICAgICBzdGF0dXM6U3RyaW5nLFxuICAgICAgICBvZG9vX3BheW1lbnRfaWQ6SW50LFxuICAgICAgICBwYXltZW50UmVjZWlwdDpTdHJpbmcsXG4gICAgICAgIHJlYXNvbl9mb3JfcmVqZWN0aW9uOlN0cmluZ1xuKTpwYXltZW50cmVjZWlwdHVwZGF0ZWRhdGFcblxuRGVsZXRlUGF5bWVudFJlY2VpcHRzKFxuICAgIHBheW1lbnRJZDpTdHJpbmdcbik6cGF5bWVudHJlY2VpcHR1cGRhdGVkYXRhXG5cbkFkZFBheW1lbnRDb25mb3JtYXRpb24oXG4gICAgdHJhbnNjYXRpb25pZDpTdHJpbmcsXG4gICAgbWlsZXN0b25laWQ6SW50LFxuICAgIHByb2plY3RpZDpTdHJpbmcsXG4gICAgcmVjZWl2ZWRhbW91bnQ6RmxvYXQsXG4gICAgbW9kZW9mcGF5bWVudDpJbnQsXG4gICAgcmVjZWl2ZWRkYXRlOlN0cmluZyxcbiAgICBhdHRhY2htZW50OkF0dGFjaG1lbnRUb0JlVXBkYXRlZFxuKTphZGRwYXltZW50Y29uZm9ybWF0aW9uXG5cblVwZGF0ZVBheW1lbnRDb25mb3JtYXRpb24oXG4gICAgbWlsZXN0b25laWQ6SW50LFxuICAgIHByb2plY3RpZDpTdHJpbmcsXG4gICAgcmVjZWl2ZWRhbW91bnQ6RmxvYXQsXG4gICAgbW9kZW9mcGF5bWVudDpTdHJpbmcsXG4gICAgdHJhbnNhY3Rpb25pZDpTdHJpbmcsXG4gICAgcmVjZWl2ZWRkYXRlOlN0cmluZyxcbiAgICBwYXltZW50aWQ6U3RyaW5nLFxuICAgIGF0dGFjaG1lbnQ6QXR0YWNobWVudFRvQmVVcGRhdGVkXG4pOmFkZHBheW1lbnRjb25mb3JtYXRpb25cblxuQ2xlYXJQYXltZW50Q29uZm9ybWF0aW9uKFxuICAgIG1pbGVzdG9uZWlkOkludCxcbiAgICBwcm9qZWN0aWQ6U3RyaW5nLFxuKTpkZWxldGVwYXltZW50Y29uZm9ybWF0aW9uXG59XG5cbnR5cGUgUXVlcnkge1xuICAgIGdldFBheW1lbnRSZWNlaXB0KGlkOlN0cmluZyk6Z2V0cGF5bWVudHJlY2VpcHRcbn1cbmA7XG4iLCJpbXBvcnQgeyBSRVNURGF0YVNvdXJjZSxSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2Fwb2xsby1kYXRhc291cmNlLXJlc3QnO1xuXG5jbGFzcyBBZGRQYXltZW50UmVxdWVzdHMgZXh0ZW5kcyBSRVNURGF0YVNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5hcGlFbmRwb2ludDtcblxuICAgICAgfVxuICAgICAgd2lsbFNlbmRSZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLHRoaXMuY29udGV4dC5oZWFkZXJzLmF1dGhvcml6YXRpb24pO1xuICAgICAgfVxuICAgICAgLy8gcG9zdFxuICAgICAgYXN5bmMgYWRkcGF5bWVudFJlcXVlc3REYXRhKGFyZ3MpIHtcbiAgICAgICAgY29uc3Qge3JlcXVlc3REYXRlLGNhdGVnb3J5LHJlcXVlc3RBbW91bnQsZGVzY3JpcHRpb24sY2xpZW50SUQsc3RhdHVzLGFwcE5hbWV9ID0gYXJncztcblxuICAgICAgIHJldHVybiB0aGlzLnBvc3QoJ2NyZWF0ZVBheW1lbnRSZXF1ZXN0Jyx7XG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgcmVxdWVzdERhdGUsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICByZXF1ZXN0QW1vdW50LFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgY2xpZW50SUQsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgYXBwTmFtZSxcbiAgICAgfSxcbiAgICAgIClcbiAgICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFkZFBheW1lbnRSZXF1ZXN0c1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IFBheW1lbnRDYXRlZ29yeUVudW0gZnJvbSAgXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1BheW1lbnRDYXRlZ29yeUVudW1cIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcblxuXG5leHBvcnQgY29uc3QgQ2FsY3VsYXRlUGF5bWVudFJlcXVlc3QgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgY2F0ZWdvcnksY2xpZW50aWQsZGVzY3JpcHRpb24sYmFzZWFtb3VudH0gPSBhcmdzO1xuICAgICAgIGNvbnN0IFBheW1lbnRSZXF1ZXN0ID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRyZXF1ZXN0cy5maW5kRmlyc3Qoe1xuICAgICAgIHdoZXJlOiB7XG4gICAgICAgIGNhdGVnb3J5OmNhdGVnb3J5LFxuICAgICAgICBjbGllbnRpZDpjbGllbnRpZCxcbiAgICAgICBkZXNjcmlwdGlvbjpkZXNjcmlwdGlvbixcbiAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGlmKFBheW1lbnRSZXF1ZXN0KXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgbWVzc2FnZTogXCJBbHJlYWR5IGF2YWlsYWJsZVwiLFxuICAgICAgICAgIGRhdGE6UGF5bWVudFJlcXVlc3RcbiAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50aWQ6Y2xpZW50aWRcbiAgICAgICAgICAgICAgICB9fSApO1xuXG4gICAgICAgICAgICBpZihwcm9qZWN0ID09IG51bGwpe1xuICAgICAgICAgICAgICAgIHJldHVybntcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIHByb2plY3QgZm91bmRcIixcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgUFJBbW91bnQgPSBhd2FpdCBjYWxjdWxhdGVQUkFtb3VudChjYXRlZ29yeSxkZXNjcmlwdGlvbixiYXNlYW1vdW50KTtcbiAgICAgICAgICAgIHJldHVybntcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgZGF0YTpQUkFtb3VudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG59XG5jb25zdCBjYWxjdWxhdGVQUkFtb3VudCA9IGFzeW5jKGNhdGVnb3J5LGRlc2NyaXB0aW9uLGJhc2VhbW91bnQpID0+e1xuICAgIGxldCB0b3RhbEFtb3VudDpudW1iZXI7XG4gICAgICAgICAgICBpZihjYXRlZ29yeS50b0xvd2VyQ2FzZSgpID09PSBQYXltZW50Q2F0ZWdvcnlFbnVtLk1PRFVMQVIpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTW9kdWxhclwiKTtcbiAgICAgICAgICAgICAgICB0b3RhbEFtb3VudCA9IGJhc2VhbW91bnQ7XG4gICAgICAgICAgICAgICAgbGV0IG1pbGVzdG9uZUFtb3VudFZhbHVlOm51bWJlcjtcbiAgICAgICAgICAgICAgICBpZihkZXNjcmlwdGlvbiA9PT0gXCIxNSUgb2YgTW9kdWxhclwiKXtcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVBbW91bnRWYWx1ZSA9ICh0b3RhbEFtb3VudCAqIDIwKS8xMDA7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoZGVzY3JpcHRpb24gPT09IFwiMzUlIG9mIE1vZHVsYXJcIil7XG4gICAgICAgICAgICAgICAgbWlsZXN0b25lQW1vdW50VmFsdWUgPSAodG90YWxBbW91bnQgKiA1NSkvMTAwO1xuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRlc2NyaXB0aW9uID09PSBcIjQ1JSBvZiBNb2R1bGFyXCIpe1xuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUFtb3VudFZhbHVlID0gdG90YWxBbW91bnQ7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIFwiTW9kdWxhciBNaWxlc3RvbmUgTWlzbWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtaWxlc3RvbmVBbW91bnRWYWx1ZTtcbiAgICAgICAgICAgIH1lbHNlIGlmKGNhdGVnb3J5LnRvTG93ZXJDYXNlKCkgPT09IFBheW1lbnRDYXRlZ29yeUVudW0uU0lURV9TRVJWSUNFKXtcbiAgICAgICAgICAgICAgICB0b3RhbEFtb3VudCA9IGJhc2VhbW91bnQ7XG4gICAgICAgICAgICAgICAgbGV0IG1pbGVzdG9uZUFtb3VudFZhbHVlOm51bWJlcjtcbiAgICAgICAgICAgICAgICBpZihkZXNjcmlwdGlvbiA9PT0gXCI0NSUgb2YgU2l0ZSBTZXJ2aWNlXCIpe1xuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUFtb3VudFZhbHVlID0gKHRvdGFsQW1vdW50ICogNTApLzEwMDtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihkZXNjcmlwdGlvbiA9PT0gXCI1MCUgb2YgU2l0ZSBTZXJ2aWNlXCIpe1xuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUFtb3VudFZhbHVlID0gdG90YWxBbW91bnQ7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIFwiU2l0ZSBTZXJ2aWNlcyBNaWxlc3RvbmUgTWlzbWF0Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtaWxlc3RvbmVBbW91bnRWYWx1ZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgY2F0ZWdvcnkgTWlzbWF0Y2hcIixcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbn1cbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnYXBvbGxvLWRhdGFzb3VyY2UtcmVzdCc7XG5cbmNsYXNzIERlbGV0ZVBheW1lbnRSZXF1ZXN0cyBleHRlbmRzIFJFU1REYXRhU291cmNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LmFwaUVuZHBvaW50O1xuXG4gICAgICB9XG4gICAgICB3aWxsU2VuZFJlcXVlc3QocmVxdWVzdDogUmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsdGhpcy5jb250ZXh0LmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XG4gICAgICB9XG4gICAgICAvLyBwb3N0XG4gICAgICBhc3luYyBkZWxldGVwYXltZW50UmVxdWVzdERhdGEocmVxdWVzdElEKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoJ2RlbGV0ZVBheW1lbnRSZXF1ZXN0Jyx7XG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgIHJlcXVlc3RJRCxcbiAgICB9LCB7XG4gICAgICAgIGJvZHkgOnJlcXVlc3RJRFxuICAgIH0sXG4gICAgICApXG4gICAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBEZWxldGVQYXltZW50UmVxdWVzdHNcbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnYXBvbGxvLWRhdGFzb3VyY2UtcmVzdCc7XG5cbmNsYXNzIFVwZGF0ZVBheW1lbnRSZXF1ZXN0cyBleHRlbmRzIFJFU1REYXRhU291cmNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LmFwaUVuZHBvaW50O1xuXG4gICAgICB9XG4gICAgICB3aWxsU2VuZFJlcXVlc3QocmVxdWVzdDogUmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsdGhpcy5jb250ZXh0LmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XG4gICAgICB9XG4gICAgICAvLyBwb3N0XG4gICAgICBhc3luYyB1cGRhdGVwYXltZW50UmVxdWVzdERhdGEoYXJncykge1xuICAgICAgICBjb25zdCB7cmVxdWVzdElELHJlcXVlc3REYXRlLGNhdGVnb3J5LHJlcXVlc3RBbW91bnQsZGVzY3JpcHRpb24sY2xpZW50SUQsc3RhdHVzLGFwcE5hbWV9ID0gYXJncztcbiAgICAgIHJldHVybiB0aGlzLnB1dCgndXBkYXRlUGF5bWVudFJlcXVlc3QnLHtcbiAgICAgICAgLy8gcmVxdWVzdFxuICAgICAgICByZXF1ZXN0SUQsXG4gICAgICAgIHJlcXVlc3REYXRlLFxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgcmVxdWVzdEFtb3VudCxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIGNsaWVudElELFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGFwcE5hbWUsXG4gICAgIH0sXG4gICAgICApXG4gICAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBVcGRhdGVQYXltZW50UmVxdWVzdHNcblxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UGF5bWVudFJlcXVlc3Q9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gICAgbGV0IHBheW1lbnRSZXF1ZXN0UmVzcG9uc2VPYmo7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCBwciA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVxdWVzdHMuZmluZE1hbnkoe3doZXJlOiB7IGNsaWVudGlkOiBhcmdzLmlkIH19KTtcbiAgICAgICAgcGF5bWVudFJlcXVlc3RSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIixkYXRhOnByfVxuICAgICAgICByZXR1cm4gcGF5bWVudFJlcXVlc3RSZXNwb25zZU9ialxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcGF5bWVudFJlcXVlc3RSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIHBheW1lbnRSZXF1ZXN0UmVzcG9uc2VPYmpcbiAgICAgIH1cbn1cbiIsImltcG9ydCB7R3JhcGhRTEpTT059IGZyb20gJ2dyYXBocWwtc2NhbGFycyc7XG5pbXBvcnQge2dldFBheW1lbnRSZXF1ZXN0fSBmcm9tIFwiLi9RdWVyaWVzL0dldFBheW1lbnRSZXF1ZXN0XCI7XG5pbXBvcnQge0NhbGN1bGF0ZVBheW1lbnRSZXF1ZXN0fSBmcm9tIFwiLi9NdXRhdGlvbnMvQ2FsY3VsYXRlUGF5bWVudFJlcXVlc3RcIjtcbmV4cG9ydCBjb25zdCBwYXltZW50UmVxdWVzdFJlc2xvdmVyID0ge1xuICAgIE11dGF0aW9uOntcbiAgICAgICAgQWRkUGF5bWVudFJlcXVlc3RzOmFzeW5jKF8sIGFyZ3MseyBkYXRhU291cmNlcyAsIHJlcSB9KT0+ZGF0YVNvdXJjZXMuQWRkUGF5bWVudFJlcXVlc3RzLmFkZHBheW1lbnRSZXF1ZXN0RGF0YShhcmdzLHJlcSksXG4gICAgICAgIFVwZGF0ZVBheW1lbnRSZXF1ZXN0czphc3luYyhfLGFyZ3Mse2RhdGFTb3VyY2VzICwgcmVxIH0pPT5kYXRhU291cmNlcy5VcGRhdGVQYXltZW50UmVxdWVzdHMudXBkYXRlcGF5bWVudFJlcXVlc3REYXRhKGFyZ3MscmVxKSxcbiAgICAgICAgRGVsZXRlUGF5bWVudFJlcXVlc3RzOmFzeW5jKF8se3JlcXVlc3RJRH0se2RhdGFTb3VyY2VzICwgcmVxIH0pPT5kYXRhU291cmNlcy5EZWxldGVQYXltZW50UmVxdWVzdHMuZGVsZXRlcGF5bWVudFJlcXVlc3REYXRhKHJlcXVlc3RJRCxyZXEpLFxuICAgICAgICBDYWxjdWxhdGVQYXltZW50UmVxdWVzdDphc3luYyhwYXJlbnQsX2FyZ3M6eyBkYXRhOiBhbnl9LCBjb250ZXh0KSA9PkNhbGN1bGF0ZVBheW1lbnRSZXF1ZXN0KHBhcmVudCwgX2FyZ3MsY29udGV4dCksXG4gICAgfSxcbiAgICBRdWVyeToge1xuICAgICAgIGdldFBheW1lbnRSZXF1ZXN0OmFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PmdldFBheW1lbnRSZXF1ZXN0KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIH0sXG4gICAgSlNPTjpHcmFwaFFMSlNPTlxufVxuIiwiZXhwb3J0IGNvbnN0IHBheW1lbnRSZXF1ZXN0VHlwZWRlZiA9IGBcbnNjYWxhciBKU09OXG50eXBlIHBheW1lbnRyZXF1ZXN0ZGF0YXtcbiAgICBzdGF0dXNDb2RlOkludFxuICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgZGF0YTpKU09OXG4gICAgY29kZTpJbnRcbn1cbnR5cGUgcGF5bWVudHJlcXVlc3RVcGRhdGVkYXRhe1xuICAgIHN0YXR1c0NvZGU6SW50XG4gICAgbWVzc2FnZTpTdHJpbmdcbiAgICBjb2RlOkludFxufVxuXG5cbnR5cGUgZ2V0cGF5bWVudHJlcXVlc3R7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOkpTT05cbn1cblxudHlwZSBjYWxjdWxhdGVwYXltZW50cmVxdWVzdHtcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6SlNPTlxufVxuXG50eXBlIE11dGF0aW9uIHtcbiAgICBBZGRQYXltZW50UmVxdWVzdHMoXG4gICAgICAgIHJlcXVlc3REYXRlOlN0cmluZyxcbiAgICAgICAgY2F0ZWdvcnk6U3RyaW5nLFxuICAgICAgICByZXF1ZXN0QW1vdW50OkZsb2F0LFxuICAgICAgICBkZXNjcmlwdGlvbjpTdHJpbmcsXG4gICAgICAgIGNsaWVudElEOlN0cmluZyxcbiAgICAgICAgc3RhdHVzOlN0cmluZyxcbiAgICAgICAgYXBwTmFtZTpTdHJpbmdcbiAgICApOnBheW1lbnRyZXF1ZXN0ZGF0YSxcblxuICAgIFVwZGF0ZVBheW1lbnRSZXF1ZXN0cyhcbiAgICAgICAgcmVxdWVzdElEOlN0cmluZyxcbiAgICAgICAgcmVxdWVzdERhdGU6U3RyaW5nLFxuICAgICAgICBjYXRlZ29yeTpTdHJpbmcsXG4gICAgICAgIHJlcXVlc3RBbW91bnQ6RmxvYXQsXG4gICAgICAgIGRlc2NyaXB0aW9uOlN0cmluZyxcbiAgICAgICAgY2xpZW50SUQ6U3RyaW5nLFxuICAgICAgICBzdGF0dXM6U3RyaW5nLFxuICAgICAgICBhcHBOYW1lOlN0cmluZ1xuICAgICk6cGF5bWVudHJlcXVlc3RVcGRhdGVkYXRhLFxuXG4gICAgRGVsZXRlUGF5bWVudFJlcXVlc3RzKFxuICAgIHJlcXVlc3RJRDpTdHJpbmcsXG4gICAgKTpwYXltZW50cmVxdWVzdFVwZGF0ZWRhdGEsXG5cbiAgICBDYWxjdWxhdGVQYXltZW50UmVxdWVzdChcbiAgICAgICAgY2F0ZWdvcnk6U3RyaW5nXG4gICAgICAgIGNsaWVudGlkOlN0cmluZ1xuICAgICAgIGRlc2NyaXB0aW9uOlN0cmluZ1xuICAgICAgIGJhc2VhbW91bnQ6RmxvYXRcbiAgICAgICApOmNhbGN1bGF0ZXBheW1lbnRyZXF1ZXN0XG4gICAgfVxuXG4gICAgdHlwZSBRdWVyeSB7XG4gICAgICAgIGdldFBheW1lbnRSZXF1ZXN0KGlkOlN0cmluZyk6Z2V0cGF5bWVudHJlcXVlc3RcbiAgICB9XG5gO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2plY3QgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IHsgY2xpZW50aWQsIHNoaXBwaW5nQWRkcmVzc0NvdW50cnksIHNoaXBwaW5nQWRkcmVzc1NoaXBwaW5nU3RhdGUsIHNoaXBwaW5nQWRkcmVzc1N0cmVldDEsIHNoaXBwaW5nQWRkcmVzc1N0cmVldDIsIHNoaXBwaW5nQWRkcmVzc0NpdHksIHNoaXBwaW5nQWRkcmVzc1ppcE9yUG9zdGFsQ29kZSB9ID0gYXJncztcbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHByb2plY3RpZDogY2xpZW50aWQgfSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0KTtcbiAgICBpZiAoIXByb2plY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiUHJvamVjdCBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIGxldCBzaGlwcGluZ1N0cmVldDtcbiAgICBpZiAoYXJncy5zaGlwcGluZ0FkZHJlc3NTdHJlZXQxKSB7XG4gICAgICAgIHNoaXBwaW5nU3RyZWV0ID0gYXJncy5zaGlwcGluZ0FkZHJlc3NTdHJlZXQxLmNvbmNhdChcIiBcIiwgc2hpcHBpbmdBZGRyZXNzU3RyZWV0MilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNoaXBwaW5nU3RyZWV0ID0gc2hpcHBpbmdBZGRyZXNzU3RyZWV0MTtcbiAgICB9XG4gICAgY29uc3QgUHJvamVjdFVwZGF0ZVJlcXVlc3RUb01pY3Jvc2VydmljZSA9IHtcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzQ291bnRyeTogc2hpcHBpbmdBZGRyZXNzQ291bnRyeSxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzU2hpcHBpbmdTdGF0ZTogc2hpcHBpbmdBZGRyZXNzU2hpcHBpbmdTdGF0ZSxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzQ2l0eTogc2hpcHBpbmdBZGRyZXNzQ2l0eSxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzU3RyZWV0OiBzaGlwcGluZ1N0cmVldCxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzWmlwT3JQb3N0YWxDb2RlOiBzaGlwcGluZ0FkZHJlc3NaaXBPclBvc3RhbENvZGUsXG4gICAgICAgIGNsaWVudElkOiBjbGllbnRpZFxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZVByb2plY3RDYXB0dXJlID0gYXdhaXQgcG9zdFVwZGF0ZVByb2plY3RUb01pY3Jvc2VydmljZShQcm9qZWN0VXBkYXRlUmVxdWVzdFRvTWljcm9zZXJ2aWNlKTtcblxuICAgIGNvbnNvbGUubG9nKFwidXBkYXRlUHJvamVjdENhcHR1cmVcIiwgdXBkYXRlUHJvamVjdENhcHR1cmUuYm9keSlcbiAgICBpZiAodXBkYXRlUHJvamVjdENhcHR1cmUuYm9keS5zdGF0dXNDb2RlICE9PSAyMDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIHVwZGF0ZVByb2plY3RDYXB0dXJlLmJvZHkubWVzc2FnZSk7XG4gICAgfVxuICAgIGNvbnN0IGN1c3RvbWVyaWQgPSBwcm9qZWN0LmN1c3RvbWVyaWQ7XG4gICAgaWYgKHByb2plY3QpIHtcbiAgICAgICAgY29uc3QgZmluZGFkZHJlc3MgPSBhd2FpdCBwcmlzbWEuZGNfYWRkcmVzc2VzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGN1c3RvbWVyaWQsIGFkZHJlc3N0eXBlOiAyIH0gfSlcbiAgICAgICAgY29uc3QgdXBkYXRlYWRycmVzcyA9IGF3YWl0IHByaXNtYS5kY19hZGRyZXNzZXMudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgYWRkcmVzc2lkOiBmaW5kYWRkcmVzcy5hZGRyZXNzaWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHppcDogc2hpcHBpbmdBZGRyZXNzWmlwT3JQb3N0YWxDb2RlLFxuICAgICAgICAgICAgICAgIHN0cmVldDogc2hpcHBpbmdTdHJlZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHNoaXBwaW5nQWRkcmVzc1NoaXBwaW5nU3RhdGUsXG4gICAgICAgICAgICAgICAgY2l0eTogc2hpcHBpbmdBZGRyZXNzQ2l0eSxcbiAgICAgICAgICAgICAgICBjb3VudHJ5OiBzaGlwcGluZ0FkZHJlc3NDb3VudHJ5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyh1cGRhdGVhZHJyZXNzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBtZXNzYWdlOiBcIlNoaXBwaW5nIGFkZHJlc3MgIHN1Y2Nlc3NmdWxseVwiXG4gICAgfVxufVxuY29uc3QgcG9zdFVwZGF0ZVByb2plY3RUb01pY3Jvc2VydmljZSA9IGFzeW5jIChQcm9qZWN0VXBkYXRlUmVxdWVzdFRvTWljcm9zZXJ2aWNlKSA9PiB7XG4gICAgY29uc3QgcGF5bWlSZXMgPSBhd2FpdCBnZXRQYXltaUNvbm5lY3Rpb24oKTtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBwYXltaVJlcy5hY2Nlc3NUb2tlbjtcbiAgICBjb25zdCBmaW5hbFVybCA9IGAke3Byb2Nlc3MuZW52LmFwaUVuZHBvaW50fXByb2plY3RgO1xuICAgIGNvbnNvbGUubG9nKGZpbmFsVXJsKTtcblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAgICAgICAucHV0KGZpbmFsVXJsKVxuICAgICAgICAgICAgLnNlbmQoUHJvamVjdFVwZGF0ZVJlcXVlc3RUb01pY3Jvc2VydmljZSlcbiAgICAgICAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAgICAgICAgICAuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBhdXRoVG9rZW4pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmNvbnN0IGdldFBheW1pQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBmaW5hbFVybCA9IHByb2Nlc3MuZW52LmFwaUVuZHBvaW50ICsgXCJhdXRoZW50aWNhdGVcIlxuICAgIGNvbnNvbGUubG9nKGZpbmFsVXJsKTtcbiAgICBjb25zdCByZXFCb2R5ID0ge1xuICAgICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQ0RDbGllbnRJZFxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAgICAgICAucG9zdChmaW5hbFVybClcbiAgICAgICAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAgICAgICAgICAuc2VuZChyZXFCb2R5KTtcbiAgICAgICAgcmV0dXJuIHJlcy5ib2R5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldFBheW1lbnRNaWxlc3RvbmVEZXRhaWwgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCBwbVJlc3BvbnNlT2JqXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG1kZXRhaWwgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS5maW5kRmlyc3QoeyB3aGVyZTogeyBpZDogYXJncy5pZCB9IH0pO1xuICAgICAgICBjb25zdCBwYXllbnRDb25maXJtYXRpb25zTGlzdCA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50cmVjZWlwdHMuZmluZE1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBwYXltZW50bWlsbGVzdG9uZWlkOiBhcmdzLmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwbVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBwYXllbnRDb25maXJtYXRpb25zTGlzdDogcGF5ZW50Q29uZmlybWF0aW9uc0xpc3QsIHBtZGV0YWlsOiBwbWRldGFpbCB9XG4gICAgICAgIHJldHVybiBwbVJlc3BvbnNlT2JqXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcG1SZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIHBtUmVzcG9uc2VPYmpcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRQYXltZW50TWlsZXN0b25lTGlzdD0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgcG1SZXNwb25zZU9ialxudHJ5e1xuICAgIGNvbnN0IHBtbGlzdCA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLmZpbmRNYW55KHt3aGVyZTogeyBwcm9qZWN0aWQ6IGFyZ3MucHJvamVjdGlkIH19KTtcbiAgICBwbVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLGRhdGE6cG1saXN0fVxuICAgIHJldHVybiBwbVJlc3BvbnNlT2JqXG59Y2F0Y2ggKGVycm9yKSB7XG4gICAgcG1SZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gcG1SZXNwb25zZU9ialxuICB9XG59XG4iLCJpbXBvcnQge0dyYXBoUUxKU09OfSBmcm9tICdncmFwaHFsLXNjYWxhcnMnO1xuaW1wb3J0IHtnZXRQYXltZW50TWlsZXN0b25lTGlzdH0gZnJvbSAgJy4vUXVlcmllcy9HZXRwYXltZW50bWlsZXN0b25lbGlzdCc7XG5pbXBvcnQge2dldFBheW1lbnRNaWxlc3RvbmVEZXRhaWx9IGZyb20gJy4vUXVlcmllcy9HZXRwYXltZW50bWlsZXN0b25lZGV0YWlscyc7XG5pbXBvcnQgIHt1cGRhdGVQcm9qZWN0fSBmcm9tICcuL011dGF0aW9ucy9VcGRhdGVQcm9qZWN0QWRkcmVzcyc7XG5leHBvcnQgY29uc3QgUHJvamVjdFBheW1lbnRSZXNsb3ZlcnMgPSB7XG4gICAgTXV0YXRpb246e1xuICAgICAgICB1cGRhdGVQcm9qZWN0OmFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PnVwZGF0ZVByb2plY3QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgfSxcbiAgICBRdWVyeToge1xuICAgICAgICBnZXRQYXltZW50TWlsZXN0b25lTGlzdDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+Z2V0UGF5bWVudE1pbGVzdG9uZUxpc3QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgICAgIGdldFBheW1lbnRNaWxlc3RvbmVEZXRhaWw6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PmdldFBheW1lbnRNaWxlc3RvbmVEZXRhaWwocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgfSxcbiAgICBKU09OOkdyYXBoUUxKU09OXG59XG4iLCJleHBvcnQgY29uc3QgUHJvamVjdGF5bWVudFR5cGVkZWYgPSBgXG5zY2FsYXIgSlNPTlxuXG50eXBlIHByb2plY3R1cGRhdGVkYXRhe1xuICAgIHN0YXR1c0NvZGU6SW50XG4gICAgbWVzc2FnZTpTdHJpbmdcbn1cblxudHlwZSBnZXRwbWxpc3RSZXNwb25zZXtcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6SlNPTlxufVxudHlwZSBnZXRwbWRldGFpbHJlc3BvbnNle1xuICAgIGNvZGU6SW50XG4gICAgbWVzc2FnZTogU3RyaW5nXG4gICAgcGF5ZW50Q29uZmlybWF0aW9uc0xpc3Q6SlNPTlxuICAgIHBtZGV0YWlsOkpTT05cbn1cblxudHlwZSBNdXRhdGlvbiB7XG5cbnVwZGF0ZVByb2plY3QoXG4gICAgY2xpZW50aWQ6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc0NvdW50cnk6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc1NoaXBwaW5nU3RhdGU6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc1N0cmVldDE6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc1N0cmVldDI6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc0NpdHk6U3RyaW5nLFxuICAgIHNoaXBwaW5nQWRkcmVzc1ppcE9yUG9zdGFsQ29kZTpTdHJpbmdcbik6cHJvamVjdHVwZGF0ZWRhdGFcbn1cblxudHlwZSBRdWVyeSB7XG4gICAgZ2V0UGF5bWVudE1pbGVzdG9uZUxpc3QocHJvamVjdGlkOkludCk6Z2V0cG1saXN0UmVzcG9uc2VcbiAgICBnZXRQYXltZW50TWlsZXN0b25lRGV0YWlsKGlkOkludCk6Z2V0cG1kZXRhaWxyZXNwb25zZVxufVxuXG5gO1xuIiwiaW1wb3J0IHsgUkVTVERhdGFTb3VyY2UsUmVxdWVzdE9wdGlvbnMgfSBmcm9tICdhcG9sbG8tZGF0YXNvdXJjZS1yZXN0JztcblxuY2xhc3MgUmF6b3JwYXlHZW5lcmF0ZVBheW1lbnRMaW5rIGV4dGVuZHMgUkVTVERhdGFTb3VyY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG5cbiAgICAgIH1cbiAgICAgIHdpbGxTZW5kUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJyx0aGlzLmNvbnRleHQuaGVhZGVycy5hdXRob3JpemF0aW9uKTtcbiAgICAgIH1cbiAgICAgIC8vIHBvc3RcbiAgICAgIGFzeW5jIHBheW1lbnRMaW5rRGF0YShhcmdzKSB7XG4gICAgICAgIGNvbnN0IHthbW91bnQsZGVzY3JpcHRpb24scmVmZXJlbmNlX2lkLG5hbWUsZW1haWwsY2xpZW50X2lkLHJlcXVlc3RJRCxhcHBOYW1lfSA9IGFyZ3M7XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KCdyYXpvcnBheUdlbmVhcnRlTGluaycse1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGFtb3VudCxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHJlZmVyZW5jZV9pZCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGNsaWVudF9pZCxcbiAgICAgICAgcmVxdWVzdElELFxuICAgICAgICBhcHBOYW1lXG4gICAgIH0sXG4gICAgICApXG4gICAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBSYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbmtcbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLCBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2Fwb2xsby1kYXRhc291cmNlLXJlc3QnO1xuXG5jbGFzcyBSYXpvcnBheVdlYmhvb2sgZXh0ZW5kcyBSRVNURGF0YVNvdXJjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuYXBpRW5kcG9pbnQ7XG5cbiAgfVxuICB3aWxsU2VuZFJlcXVlc3QocmVxdWVzdDogUmVxdWVzdE9wdGlvbnMpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb250ZXh0LmhlYWRlcnMuYXV0aG9yaXphdGlvbik7XG4gIH1cbiAgLy8gcG9zdFxuICBhc3luYyB3ZWJob29rRGF0YShhcmdzKSB7XG4gICAgY29uc3QgeyByYXpvcnBheV9wYXltZW50X2xpbmtfaWQsIHJhem9ycGF5X3BheW1lbnRfbGlua19yZWZlcmVuY2VfaWQsIHJhem9ycGF5X3BheW1lbnRfbGlua19zdGF0dXMsIHJhem9ycGF5X3NpZ25hdHVyZSwgYXBwTmFtZSwgcmF6b3JwYXlfcGF5bWVudF9pZCB9ID0gYXJncztcbiAgICByZXR1cm4gdGhpcy5wb3N0KCd3ZWJob29rJywge1xuICAgICAgLy8gcmVxdWVzdFxuICAgICAgcmF6b3JwYXlfcGF5bWVudF9saW5rX2lkLFxuICAgICAgcmF6b3JwYXlfcGF5bWVudF9saW5rX3JlZmVyZW5jZV9pZCxcbiAgICAgIHJhem9ycGF5X3BheW1lbnRfbGlua19zdGF0dXMsXG4gICAgICByYXpvcnBheV9zaWduYXR1cmUsXG4gICAgICBhcHBOYW1lLFxuICAgICAgcmF6b3JwYXlfcGF5bWVudF9pZCxcblxuICAgIH0sXG4gICAgKVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBSYXpvcnBheVdlYmhvb2tcbiIsImltcG9ydCB7R3JhcGhRTEpTT059IGZyb20gJ2dyYXBocWwtc2NhbGFycyc7XG5leHBvcnQgY29uc3QgUmF6b3JwYXlSZXNsb3ZlcnMgPSB7XG4gICAgTXV0YXRpb246e1xuICAgICAgICBSYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbms6YXN5bmMoXywgYXJncyx7IGRhdGFTb3VyY2VzICwgcmVxIH0pPT5kYXRhU291cmNlcy5SYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbmsucGF5bWVudExpbmtEYXRhKGFyZ3MscmVxKSxcbiAgICAgICAgUmF6b3JwYXlXZWJob29rOmFzeW5jKF8sYXJncyx7IGRhdGFTb3VyY2VzLHJlcX0pPT5kYXRhU291cmNlcy5SYXpvcnBheVdlYmhvb2sud2ViaG9va0RhdGEoYXJncyxyZXEpLFxuICAgIH0sXG4gICAgSlNPTjpHcmFwaFFMSlNPTlxufVxuIiwiZXhwb3J0IGNvbnN0IFJhem9ycGF5VHlwZWRlZiA9IGBcbnNjYWxhciBKU09OXG5cbnR5cGUgZ2VuZXJhdGVsaW5rZGF0YXtcbiAgICBzdGF0dXNDb2RlOkludFxuICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgY29kZTpJbnRcbiAgICByZXNwb25zZTpKU09OXG59XG50eXBlIHdlYmhvb2tkYXRhe1xuICAgIHN0YXR1c0NvZGU6SW50XG4gICAgbWVzc2FnZTpTdHJpbmdcbiAgICBjb2RlOkludFxufVxuXG50eXBlIE11dGF0aW9uIHtcbiAgICBSYXpvcnBheUdlbmVyYXRlUGF5bWVudExpbmsoXG4gICAgICAgIGFtb3VudDpGbG9hdCxcbiAgICAgICAgZGVzY3JpcHRpb246U3RyaW5nLFxuICAgICAgICByZWZlcmVuY2VfaWQ6U3RyaW5nLFxuICAgICAgICBuYW1lOlN0cmluZyxcbiAgICAgICAgZW1haWw6U3RyaW5nLFxuICAgICAgICBjbGllbnRfaWQ6U3RyaW5nLFxuICAgICAgICByZXF1ZXN0SUQ6W1N0cmluZ10sXG4gICAgICAgIGFwcE5hbWU6U3RyaW5nXG4pOmdlbmVyYXRlbGlua2RhdGFcblxuUmF6b3JwYXlXZWJob29rKFxuICAgIHJhem9ycGF5X3BheW1lbnRfbGlua19pZDpTdHJpbmcsXG4gICAgICAgIHJhem9ycGF5X3BheW1lbnRfbGlua19yZWZlcmVuY2VfaWQ6U3RyaW5nLFxuICAgICAgICByYXpvcnBheV9wYXltZW50X2xpbmtfc3RhdHVzOlN0cmluZyxcbiAgICAgICAgcmF6b3JwYXlfc2lnbmF0dXJlOlN0cmluZyxcbiAgICAgICAgYXBwTmFtZTpTdHJpbmcsXG4gICAgICAgIHJhem9ycGF5X3BheW1lbnRfaWQ6U3RyaW5nLFxuKTp3ZWJob29rZGF0YVxufVxuXG5gO1xuIiwiaW1wb3J0IHtwcmlzbWF9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFByb2ZpbGUgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgcHJvZmlsZVJlc3BvbnNlT2JqXG4gICAgY29uc3QgeyBwcm9maWxlX25hbWUsc3RhdHVzLHBlcm1pc3Npb25zfSA9IGFyZ3M7XG4gICAgdHJ5IHtcbiAgICBjb25zdCBjcmVhdGVwcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHByb2ZpbGVfbmFtZSxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgcGVybWlzc2lvbnM6cGVybWlzc2lvbnMsXG4gICAgICAgICAgY3JlYXRlZF9kYXRlOm5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKVxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwcm9maWxlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsZGF0YTpjcmVhdGVwcm9maWxlfVxuICAgICAgcmV0dXJuIHByb2ZpbGVSZXNwb25zZU9ialxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBwcm9maWxlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICByZXR1cm4gcHJvZmlsZVJlc3BvbnNlT2JqXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZmlsZSA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gICAgbGV0IHByb2ZpbGVSZXNwb25zZU9ialxuICAgIGNvbnN0IHsgcHJvZmlsZWlkLHByb2ZpbGVfbmFtZSwgc3RhdHVzLHBlcm1pc3Npb25zLGNyZWF0ZWRfZGF0ZSwgdXBkYXRlZF9hdCB9ID0gYXJncztcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVwcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcHJvZmlsZV9uYW1lOnByb2ZpbGVfbmFtZSxcbiAgICAgICAgc3RhdHVzOnN0YXR1cyxcbiAgICAgICAgcGVybWlzc2lvbnM6cGVybWlzc2lvbnMsXG4gICAgICAgIGNyZWF0ZWRfZGF0ZTpjcmVhdGVkX2RhdGUsXG4gICAgICAgIHVwZGF0ZWRfYXQ6dXBkYXRlZF9hdCxcbiAgICAgIH0sXG4gICAgICB3aGVyZToge1xuICAgICAgICBwcm9maWxlaWQ6IHByb2ZpbGVpZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcHJvZmlsZVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLGRhdGE6dXBkYXRlcHJvZmlsZX1cbiAgICByZXR1cm4gcHJvZmlsZVJlc3BvbnNlT2JqXG4gICB9IGNhdGNoIChlcnJvcikge1xuICAgIHByb2ZpbGVSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gcHJvZmlsZVJlc3BvbnNlT2JqXG4gIH1cbiAgfTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldEFsbFByb2ZpbGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGxldCBwcm9maWxlUmVzcG9uc2VPYmpcbnRyeXtcbiAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IHByaXNtYS5kY19wcm9maWxlLmZpbmRNYW55KCk7XG4gICAgcHJvZmlsZVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLGRhdGE6cHJvZmlsZXN9XG4gICAgcmV0dXJuIHByb2ZpbGVSZXNwb25zZU9ialxufWNhdGNoIChlcnJvcikge1xuICAgIHByb2ZpbGVSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gcHJvZmlsZVJlc3BvbnNlT2JqXG4gIH1cbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldFByb2ZpbGVCeUlkID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgcHJvZmlsZVJlc3BvbnNlT2JqXG50cnl7XG4gICAgY29uc3QgcHJvZmlsZXMgPSBhd2FpdCBwcmlzbWEuZGNfcHJvZmlsZS5maW5kTWFueSh7d2hlcmU6IHsgcHJvZmlsZWlkOiBhcmdzLnByb2ZpbGVpZCB9fSk7XG4gICAgcHJvZmlsZVJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLGRhdGE6cHJvZmlsZXN9XG4gICAgcmV0dXJuIHByb2ZpbGVSZXNwb25zZU9ialxufWNhdGNoIChlcnJvcikge1xuICAgIHByb2ZpbGVSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gcHJvZmlsZVJlc3BvbnNlT2JqXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgLEdyYXBoUUxKU09OfSBmcm9tICdncmFwaHFsLXNjYWxhcnMnO1xuaW1wb3J0IHsgYWRkUHJvZmlsZSB9IGZyb20gJy4vTXV0YXRpb25zL2FkZG11dGF0aW9ucyc7XG5pbXBvcnQgeyB1cGRhdGVQcm9maWxlIH0gZnJvbSAnLi9NdXRhdGlvbnMvdXBkYXRlbXV0YXRpb25zJztcbmltcG9ydCB7IGdldEFsbFByb2ZpbGVzIH0gZnJvbSAnLi9RdWVyaWVzL2dldEFsbFByb2ZpbGVzJztcbmltcG9ydCB7Z2V0UHJvZmlsZUJ5SWR9IGZyb20gJy4vUXVlcmllcy9nZXRQcm9maWxlQnlJZCc7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlc1Jlc29sdmVyID0ge1xuICAgIE11dGF0aW9uOntcbiAgICAgICAgYWRkUHJvZmlsZTphc3luYyAocGFyZW50LCBfYXJnczp7ZGF0YTogYW55fSwgY29udGV4dCkgPT4gYWRkUHJvZmlsZShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICAgICAgdXBkYXRlUHJvZmlsZTphc3luYyAocGFyZW50LF9hcmdzOntkYXRhOmFueX0sY29udGV4dCkgPT4gdXBkYXRlUHJvZmlsZShwYXJlbnQsX2FyZ3MsY29udGV4dCksXG4gICAgICB9LFxuICAgICAgUXVlcnk6IHtcbiAgICAgICAgZ2V0QWxsUHJvZmlsZXM6IGFzeW5jICgpID0+IGdldEFsbFByb2ZpbGVzKCksXG4gICAgICAgIGdldFByb2ZpbGVCeUlkOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgICAgZ2V0UHJvZmlsZUJ5SWQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgICB9LFxuICAgIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyLFxuICAgIEpTT046R3JhcGhRTEpTT05cbn1cbiIsImV4cG9ydCBjb25zdCBwcm9maWxlc1R5cGVkZWYgPWBcbnNjYWxhciBKU09OXG50eXBlIFByb2ZpbGVzIHtcbiAgICBwcm9maWxlaWQ6IEludFxuICAgIHByb2ZpbGVfbmFtZTogU3RyaW5nXG4gICAgc3RhdHVzOiBCb29sZWFuXG4gICAgcGVybWlzc2lvbnM6SlNPTlxuICAgIGNyZWF0ZWRfZGF0ZTogRGF0ZVRpbWVcbiAgICB1cGRhdGVkX2F0OiBEYXRlVGltZVxufVxuXG50eXBlIHByb2ZpbGVSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOlByb2ZpbGVzXG59XG5cbnR5cGUgZ2V0cHJvZmlsZVJlc3BvbnNle1xuICAgIGNvZGU6SW50XG4gICAgbWVzc2FnZTogU3RyaW5nXG4gICAgZGF0YTpbUHJvZmlsZXNdXG59XG5cbnR5cGUgUXVlcnkge1xuICAgIGdldEFsbFByb2ZpbGVzOmdldHByb2ZpbGVSZXNwb25zZVxuICAgIGdldFByb2ZpbGVCeUlkKHByb2ZpbGVpZDpJbnQpOmdldHByb2ZpbGVSZXNwb25zZVxufVxudHlwZSBNdXRhdGlvbntcbiAgICBhZGRQcm9maWxlKFxuICAgICAgICBwcm9maWxlX25hbWU6U3RyaW5nLFxuICAgICAgICBzdGF0dXM6Qm9vbGVhbixcbiAgICAgICAgcGVybWlzc2lvbnM6SlNPTixcbiAgICAgICAgY3JlYXRlZF9kYXRlOkRhdGVUaW1lLFxuICAgICAgICB1cGRhdGVkX2F0OkRhdGVUaW1lKTogcHJvZmlsZVJlc3BvbnNlXG5cbiAgICAgICAgdXBkYXRlUHJvZmlsZShcbiAgICAgICAgICAgIHByb2ZpbGVpZDpJbnQhXG4gICAgICAgICAgICBwcm9maWxlX25hbWU6U3RyaW5nLFxuICAgICAgICAgICAgc3RhdHVzOkJvb2xlYW4sXG4gICAgICAgICAgICBwZXJtaXNzaW9uczpKU09OLFxuICAgICAgICAgICAgY3JlYXRlZF9kYXRlOkRhdGVUaW1lLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDpEYXRlVGltZSk6IHByb2ZpbGVSZXNwb25zZVxuXG59XG5zY2FsYXIgRGF0ZVRpbWVcblxuYDtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZURkQ2QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTW9tQ29tbWVudCA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG5cbiAgbGV0IG1vbUNvbW1lbnRzUmVzcG9uc2U7XG5cbiAgdHJ5IHtcblxuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZURkQ2QoY29udGV4dClcblxuICAgIGNvbnN0IHsgbW9taWQsIGNvbW1lbnRkZXRhaWxzLCBhZGRlZGJ5LCBhdHRhY2htZW50IH0gPSBhcmdzO1xuICAgIGxldCB0b1MzO1xuXG4gICAgY29uc3QgbW9tQ29tbWVudCA9IGF3YWl0IHByaXNtYS5kY19tb21fY29tbWVudHMuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbW9taWQsXG4gICAgICAgIGNvbW1lbnRkZXRhaWxzLFxuICAgICAgICBhZGRlZGJ5LFxuICAgICAgICBjcmVhdGVkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBpc3Nob3c6IHRydWVcbiAgICAgIH0sXG5cbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKDEyMywgbW9tQ29tbWVudClcblxuICAgIGlmIChhdHRhY2htZW50ICE9IG51bGwpIHtcbiAgICAgIGlmIChhdHRhY2htZW50Lmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBhdHRhY2htZW50Lm1hcChhc3luYyAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0YWNoZWRGaWxlID0ge1xuICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlbGVtZW50LkNvbnRlbnRfVHlwZSxcbiAgICAgICAgICAgICAgYmFzZTY0OiBlbGVtZW50LmJhc2U2NCxcbiAgICAgICAgICAgICAgY29tbWVudGlkOiBtb21Db21tZW50LmlkXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdG9TMyA9IGF3YWl0IFVwbG9hZEZpbGVPblMzKGF0dGFjaGVkRmlsZSk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YSA9IHRvUzMubG9jYXRpb25cblxuXG5cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbW1lbnRPYmplY3QgPSBhd2FpdCBwcmlzbWEuZGNfbW9tX2NvbW1lbnRzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBtb21Db21tZW50LmlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGF0dGFjaG1lbnRzOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgbW9tQ29tbWVudHNSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogY29tbWVudE9iamVjdCB9XG4gICAgcmV0dXJuIG1vbUNvbW1lbnRzUmVzcG9uc2VcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG1vbUNvbW1lbnRzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIG1vbUNvbW1lbnRzUmVzcG9uc2VcbiAgfVxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgYXV0aGVudGljYXRlRGRDZCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBkZWxldGVNb21Db21tZW50ID0gYXN5bmMgKF9yb290LCBhcmdzLF9jb250ZXh0KSA9PiB7XG5cbiAgbGV0IG1vbUNvbW1lbnRzUmVzcG9uc2U7XG5cbiAgY29uc3Qge2lkLCBkZWxldGVkYnl9ID0gYXJncztcbiAgdHJ5IHtcbiAgICBhd2FpdCBhdXRoZW50aWNhdGVEZENkKF9jb250ZXh0KVxuICAgIGNvbnN0IG1vbUNvbW1lbnQgPSBhd2FpdCBwcmlzbWEuZGNfbW9tX2NvbW1lbnRzLnVwZGF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZGVsZXRlZGJ5LFxuICAgICAgICAgIGRlbGV0ZWRkYXRlIDogbmV3IERhdGUoKSxcbiAgICAgICAgICBpc3Nob3cgOiBmYWxzZVxuICAgICAgfSx3aGVyZTogeyBpZDogaWQgfVxuICAgIH0pXG5cbiAgICBjb25zdCBjb21tZW50T2JqZWN0ID0gYXdhaXQgcHJpc21hLmRjX21vbV9jb21tZW50cy5maW5kTWFueSh7XG4gICAgICB3aGVyZToge2lkOiBtb21Db21tZW50LmlkfVxuICAgIH0pO1xuICAgIG1vbUNvbW1lbnRzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IGNvbW1lbnRPYmplY3R9XG4gICAgcmV0dXJuIG1vbUNvbW1lbnRzUmVzcG9uc2VcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIG1vbUNvbW1lbnRzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIG1vbUNvbW1lbnRzUmVzcG9uc2VcbiAgfVxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZURkQ2QgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlTW9tQ29tbWVudCA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG5cbiAgbGV0IG1vbUNvbW1lbnRzUmVzcG9uc2U7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBhdXRoZW50aWNhdGVEZENkKGNvbnRleHQpXG5cbiAgICBsZXQgdG9TMztcblxuICAgIGNvbnN0IHsgaWQsIGNvbW1lbnRkZXRhaWxzLCBhdHRhY2htZW50IH0gPSBhcmdzO1xuXG4gICAgaWYgKGF0dGFjaG1lbnQgIT0gbnVsbCkge1xuICAgICAgaWYgKGF0dGFjaG1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIGF0dGFjaG1lbnQubWFwKGFzeW5jIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRhY2hlZEZpbGUgPSB7XG4gICAgICAgICAgICAgIGtleTogZWxlbWVudC5maWxlbmFtZSxcbiAgICAgICAgICAgICAgY29udGVudFR5cGU6IGVsZW1lbnQuQ29udGVudF9UeXBlLFxuICAgICAgICAgICAgICBiYXNlNjQ6IGVsZW1lbnQuYmFzZTY0LFxuICAgICAgICAgICAgICBjb21tZW50aWQ6IG1vbUNvbW1lbnQuaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0b1MzID0gYXdhaXQgVXBsb2FkRmlsZU9uUzMoYXR0YWNoZWRGaWxlKTtcblxuICAgICAgICAgICAgZWxlbWVudC5kYXRhID0gdG9TMy5sb2NhdGlvblxuXG5cblxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtb21Db21tZW50ID0gYXdhaXQgcHJpc21hLmRjX21vbV9jb21tZW50cy51cGRhdGUoe1xuICAgICAgZGF0YTogeyBpZCwgY29tbWVudGRldGFpbHMsIHVwZGF0ZWRhdGU6IG5ldyBEYXRlKCkgfSxcbiAgICAgIHdoZXJlOiB7IGlkOiBpZCB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjb21tZW50T2JqZWN0ID0gYXdhaXQgcHJpc21hLmRjX21vbV9jb21tZW50cy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBpZDogbW9tQ29tbWVudC5pZCB9XG4gICAgfSk7XG5cbiAgICBtb21Db21tZW50c1Jlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBjb21tZW50T2JqZWN0IH1cbiAgICByZXR1cm4gbW9tQ29tbWVudHNSZXNwb25zZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbW9tQ29tbWVudHNSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gbW9tQ29tbWVudHNSZXNwb25zZVxuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlRGRDZCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRDb21tZW50QnlJZCA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGxldCBtb21Db21tZW50c1Jlc3BvbnNlO1xuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZURkQ2QoY29udGV4dClcblxuICAgIGNvbnN0IG1vbUNvbW1lbnQgPSBhd2FpdCBwcmlzbWEuZGNfbW9tX2NvbW1lbnRzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBhcmdzLmlkLCBpc3Nob3c6IHRydWUgfSwgaW5jbHVkZToge1xuICAgICAgICBhdHRhY2htZW50czogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbW9tQ29tbWVudHNSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogbW9tQ29tbWVudCB9XG4gICAgcmV0dXJuIG1vbUNvbW1lbnRzUmVzcG9uc2VcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHtcbiAgICBtb21Db21tZW50c1Jlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBtb21Db21tZW50c1Jlc3BvbnNlXG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBjcmVhdGVNb21Db21tZW50IH0gZnJvbSBcIi4uL0NvbW1lbnRzL011dGF0aW9ucy9DcmVhdGVDb21tZW50XCI7XG5pbXBvcnQgeyB1cGRhdGVNb21Db21tZW50IH0gZnJvbSBcIi4uL0NvbW1lbnRzL011dGF0aW9ucy9VcGRhdGVDb21tZW50XCI7XG5pbXBvcnQgeyBkZWxldGVNb21Db21tZW50IH0gZnJvbSBcIi4uL0NvbW1lbnRzL011dGF0aW9ucy9EZWxldGVDb21tZW50XCI7XG5pbXBvcnQgeyBnZXRDb21tZW50QnlJZCB9IGZyb20gXCIuLi9Db21tZW50cy9RdWVyaWVzL0dldENvbW1lbnRCeUlkXCI7XG5cbmV4cG9ydCBjb25zdCBtb21Db21tZW50UmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0Q29tbWVudEJ5SWQ6YXN5bmMocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gZ2V0Q29tbWVudEJ5SWQocGFyZW50LF9hcmdzLGNvbnRleHQpLFxuICB9LFxuICBNdXRhdGlvbjp7XG4gICAgY3JlYXRlTW9tQ29tbWVudDphc3luYyhwYXJlbnQsX2FyZ3M6e2RhdGE6YW55fSxjb250ZXh0KSA9PiBjcmVhdGVNb21Db21tZW50KHBhcmVudCxfYXJncyxjb250ZXh0KSxcbiAgICB1cGRhdGVNb21Db21tZW50OmFzeW5jKHBhcmVudCxfYXJnczp7ZGF0YTphbnl9LGNvbnRleHQpID0+IHVwZGF0ZU1vbUNvbW1lbnQocGFyZW50LF9hcmdzLGNvbnRleHQpLFxuICAgIGRlbGV0ZU1vbUNvbW1lbnQ6YXN5bmMocGFyZW50LF9hcmdzOntkYXRhOmFueX0sY29udGV4dCkgPT4gZGVsZXRlTW9tQ29tbWVudChwYXJlbnQsX2FyZ3MsY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IG1vbUNvbW1lbnRzVHlwZWRlZiA9IGBcblxuICAgIHR5cGUgQXR0YWNobWVudHN7XG4gICAgICAgIGlkIDogSW50IVxuICAgICAgICBmaWxla2V5IDogU3RyaW5nXG4gICAgICAgIGNvbnRlbnR0eXBlIDogU3RyaW5nXG4gICAgICAgIGxvY2F0aW9uIDogU3RyaW5nXG4gICAgICAgIGNvbW1lbnRpZCA6IEludFxuICAgICAgICBtb21pZDogSW50XG4gICAgfVxuICAgIHR5cGUgTW9tQ29tbWVudHN7XG4gICAgICAgIGlkIDogSW50IVxuICAgICAgICBtb21pZCA6IEludFxuICAgICAgICBjb21tZW50ZGV0YWlscyA6IFN0cmluZ1xuICAgICAgICBhZGRlZGJ5IDogU3RyaW5nXG4gICAgICAgIGRlbGV0ZWRieSA6IFN0cmluZ1xuICAgICAgICBjcmVhdGVkYXRlIDogRGF0ZVRpbWVcbiAgICAgICAgZGVsZXRlZGRhdGUgOiBEYXRlVGltZVxuICAgICAgICB1cGRhdGVkYXRlIDogRGF0ZVRpbWVcbiAgICAgICAgaXNzaG93IDogQm9vbGVhblxuICAgICAgICBhdHRhY2htZW50cyA6IFtBdHRhY2htZW50c11cbiAgICB9XG4gICAgXG4gICAgdHlwZSBNb21Db21tZW50c1Jlc3BvbnNle1xuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOlN0cmluZyxcbiAgICAgICAgZGF0YTpbTW9tQ29tbWVudHNdXG4gICAgfVxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIGNyZWF0ZU1vbUNvbW1lbnQoXG4gICAgICAgICAgICBtb21pZCA6IEludCFcbiAgICAgICAgICAgIGNvbW1lbnRkZXRhaWxzIDogU3RyaW5nXG4gICAgICAgICAgICBhZGRlZGJ5IDogU3RyaW5nXG4gICAgICAgICAgICBhdHRhY2htZW50IDogSlNPTik6IE1vbUNvbW1lbnRzUmVzcG9uc2UgXG5cbiAgICAgICAgdXBkYXRlTW9tQ29tbWVudChcbiAgICAgICAgICAgIGlkIDogSW50XG4gICAgICAgICAgICBjb21tZW50ZGV0YWlscyA6IFN0cmluZ1xuICAgICAgICAgICAgYXR0YWNobWVudCA6IEpTT04pOiBNb21Db21tZW50c1Jlc3BvbnNlXG4gICAgICAgICAgICBcbiAgICAgICAgZGVsZXRlTW9tQ29tbWVudChcbiAgICAgICAgICAgIGlkIDogSW50XG4gICAgICAgICAgICBkZWxldGVkYnkgOiBTdHJpbmcpOiBNb21Db21tZW50c1Jlc3BvbnNlXG4gICAgfVxuXG4gICAgdHlwZSBRdWVyeXtcbiAgICAgICAgZ2V0Q29tbWVudEJ5SWQoaWQ6SW50KTogTW9tQ29tbWVudHNSZXNwb25zZVxuICAgIH1cblxuICAgIHNjYWxhciBEYXRlVGltZVxuYDtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuXG5leHBvcnQgY29uc3QgY3JlYXRlTW9tID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcblxuICBsZXQgbW9tUmVzcG9uc2U7XG4gIHRyeSB7XG5cbiAgICBjb25zdCB7IHByb2plY3RpZCwgbWlsZXN0b25laWQsIHN0YXR1cyB9ID0gYXJncztcblxuICAgIGNvbnN0IHByb2plY3RNb20gPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9tb20uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcHJvamVjdGlkLCBtaWxlc3RvbmVpZCwgc3RhdHVzXG4gICAgICB9LFxuICAgIH0pXG4gICAgY29uc3QgcHJvamVjdE1PbU9iamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0X21vbS5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBpZDogcHJvamVjdE1vbS5pZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBtb21Db21tZW50czogdHJ1ZVxuICAgICAgfVxuXG4gICAgfSk7XG4gICAgbW9tUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHByb2plY3RNT21PYmplY3QgfVxuICAgIHJldHVybiBtb21SZXNwb25zZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbW9tUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIG1vbVJlc3BvbnNlXG4gIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBVcGxvYWRGaWxlT25TMyB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgeyBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVNb20gPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgbW9tUmVzcG9uc2U7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgZGVzaWduZXJpZCxcbiAgICAgIG1lZXRpbmduYW1lLFxuICAgICAgbWVldGluZ2FnZW5kYSxcbiAgICAgIG1lZXRpbmdkZXNjcmlwdGlvbixcbiAgICAgIG1lZXRpbmdkYXRlLFxuICAgICAgYXR0YWNobWVudCxcbiAgICAgIHN0YXR1cyxcbiAgICB9ID0gYXJncztcbiAgICBsZXQgdG9TMztcblxuICAgIGlmIChhdHRhY2htZW50ICE9IG51bGwpIHtcbiAgICAgIGlmIChhdHRhY2htZW50Lmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBhdHRhY2htZW50Lm1hcChhc3luYyAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0YWNoZWRGaWxlID0ge1xuICAgICAgICAgICAgICBrZXk6IGVsZW1lbnQuZmlsZW5hbWUsXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBlbGVtZW50LkNvbnRlbnRfVHlwZSxcbiAgICAgICAgICAgICAgYmFzZTY0OiBlbGVtZW50LmJhc2U2NCxcbiAgICAgICAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgICAgICAgbW9taWQ6IGlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRvUzMgPSBhd2FpdCBVcGxvYWRGaWxlT25TMyhhdHRhY2hlZEZpbGUpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmRhdGEgPSB0b1MzLmxvY2F0aW9uO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzZW50b25kYXRlO1xuICAgIGlmIChzdGF0dXMgPT09IFwiU2hhcmVkXCIpIHtcbiAgICAgIHNlbnRvbmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHByb2plY3RNb20gPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9tb20udXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZGVzaWduZXJpZCxcbiAgICAgICAgbWVldGluZ25hbWUsXG4gICAgICAgIG1lZXRpbmdhZ2VuZGEsXG4gICAgICAgIG1lZXRpbmdkZXNjcmlwdGlvbixcbiAgICAgICAgbWVldGluZ2RhdGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc2VudG9uZGF0ZSxcbiAgICAgIH0sXG4gICAgICB3aGVyZTogeyBpZDogaWQgfSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0TW9tKTtcbiAgICBjb25zdCBwcm9qZWN0TU9tT2JqZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfbW9tLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0TW9tLmlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGF0dGFjaG1lbnRzOiB0cnVlLFxuICAgICAgICBtb21Db21tZW50czogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoc3RhdHVzID09PSBcIlNoYXJlZFwiKSB7XG4gICAgICBsZXQgc2VsZWN0ZWRNaWxlc3RvbmU7XG4gICAgICBjb25zdCBtb20gPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9tb20uZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBtb20ucHJvamVjdGlkIH0sXG4gICAgICB9KTtcbiAgICAgIGxldCBtaWxlc3RvbmVkZXRhaWxzID0gW10sXG4gICAgICAgIG1pbGVzdG9uZWNoZWNrbGlzdCA9IFtdO1xuXG4gICAgICBjb25zdCBtaWxlc3RvbmVzID0gcHJvamVjdC5taWxlc3RvbmVzO1xuICAgICAgbWlsZXN0b25lZGV0YWlscyA9IG1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzO1xuICAgICAgbWlsZXN0b25lZGV0YWlscy5mb3JFYWNoKGFzeW5jIChtaWxlc3RvbmUpID0+IHtcbiAgICAgICAgbWlsZXN0b25lY2hlY2tsaXN0ID0gbWlsZXN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgIG1pbGVzdG9uZWNoZWNrbGlzdC5mb3JFYWNoKGFzeW5jIChmZXRjaGVkbWlsZXN0b25lKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmV0Y2hlZG1pbGVzdG9uZS5sZW5ndGggIT09IDAgJiZcbiAgICAgICAgICAgIGZldGNoZWRtaWxlc3RvbmVbXCJjaGVja2xpc3Rfc3RyaW5nXCJdID09PSBtZWV0aW5nbmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZmV0Y2hlZG1pbGVzdG9uZS5pc19jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lID0gbWlsZXN0b25lO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICBkYXRhOiB7IG1pbGVzdG9uZXM6IG1pbGVzdG9uZXMgfSxcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3QuaWQgfSxcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2hlY2tBbmRNYXJrTWlsZXN0b25lc09uU21hcnRzaGVldChwcm9qZWN0LmlkLHNlbGVjdGVkTWlsZXN0b25lKVxuICAgIH1cbiAgICBtb21SZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcHJvamVjdE1PbU9iamVjdCB9O1xuICAgIHJldHVybiBtb21SZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBtb21SZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gICAgcmV0dXJuIG1vbVJlc3BvbnNlO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlRGRDZCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRNb21CeUlkID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IG1vbVJlc3BvbnNlO1xuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZURkQ2QoY29udGV4dClcblxuICAgIGNvbnN0IHByb2plY3RNb20gPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9tb20uZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MuaWQgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgYXR0YWNobWVudHM6IHRydWUsXG4gICAgICAgIG1vbUNvbW1lbnRzOiB0cnVlLFxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG1vbUNvbW1lbnRzID0gcHJvamVjdE1vbVswXS5tb21Db21tZW50c1xuICAgIGxldCBtb21Db21tZW50O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgbW9tQ29tbWVudHMubWFwKGFzeW5jIChlbGVtZW50KSA9PiB7XG4gICAgICAgIG1vbUNvbW1lbnQgPSBhd2FpdCBwcmlzbWEuZGNfbW9tX2NvbW1lbnRzLmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogZWxlbWVudC5pZCwgaXNzaG93OiB0cnVlIH0sIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudFtcImF0dGFjaG1lbnRzXCJdID0gbW9tQ29tbWVudFswXS5hdHRhY2htZW50c1xuICAgICAgfSlcbiAgICApXG4gICAgbW9tUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHByb2plY3RNb20gfVxuICAgIHJldHVybiBtb21SZXNwb25zZVxuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIG1vbVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBtb21SZXNwb25zZVxuICB9XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGVEZENkIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcblxuZXhwb3J0IGNvbnN0IGdldE1vbUJ5UHJvamVjdElkID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IG1vbVJlc3BvbnNlO1xuICB0cnkge1xuICAgICBhd2FpdCBhdXRoZW50aWNhdGVEZENkKGNvbnRleHQpXG5cbiAgICBjb25zdCBwcm9qZWN0TW9tID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfbW9tLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IHByb2plY3RpZDogYXJncy5wcm9qZWN0aWQsIHN0YXR1czogYXJncy5zdGF0dXMgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgYXR0YWNobWVudHM6IHRydWUsXG4gICAgICAgIG1vbUNvbW1lbnRzOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGF0dGFjaG1lbnRzY291bnQgPSAwO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgcHJvamVjdE1vbS5tYXAoKG1vbWF0dGFjaG1lbnRzKSA9PiB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRzID0gbW9tYXR0YWNobWVudHMuYXR0YWNobWVudHM7XG4gICAgICAgIGlmIChhdHRhY2htZW50cy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICBhdHRhY2htZW50cy5tYXAoKGF0dGFjaGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYXR0YWNoZW1lbnQpLmxlbmd0aCkge1xuICAgICAgICAgICAgICBhdHRhY2htZW50c2NvdW50KytcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICAgY29uc29sZS5sb2coNzYsIGF0dGFjaG1lbnRzY291bnQpXG4gICAgbW9tUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHByb2plY3RNb20sIGF0dGFjaG1lbnRzY291bnQ6IGF0dGFjaG1lbnRzY291bnQgfVxuICAgIHJldHVybiBtb21SZXNwb25zZVxuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIG1vbVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgIHJldHVybiBtb21SZXNwb25zZVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRlVGltZVJlc29sdmVyIH0gZnJvbSBcImdyYXBocWwtc2NhbGFyc1wiO1xuaW1wb3J0IHsgdXBkYXRlTW9tIH0gZnJvbSBcIi4vTXV0YXRpb25zL1VwZGF0ZU1vbVwiO1xuaW1wb3J0IHsgY3JlYXRlTW9tIH0gZnJvbSBcIi4vTXV0YXRpb25zL0NyZWF0ZU1vbVwiO1xuaW1wb3J0IHtnZXRNb21CeUlkIH0gZnJvbSBcIi4vUXVlcmllcy9nZXRNb21CeUlkXCI7XG5pbXBvcnQgeyBnZXRNb21CeVByb2plY3RJZCB9IGZyb20gXCIuL1F1ZXJpZXMvZ2V0TW9tQnlQcm9qZWN0XCI7XG5cbmV4cG9ydCBjb25zdCBwcm9qZWN0TW9tUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0TW9tQnlJZDphc3luYyhwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PiBnZXRNb21CeUlkKHBhcmVudCxfYXJncyxjb250ZXh0KSxcbiAgICBnZXRNb21CeVByb2plY3RJZDphc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT4gZ2V0TW9tQnlQcm9qZWN0SWQocGFyZW50LF9hcmdzLGNvbnRleHQpLFxuICB9LFxuICBNdXRhdGlvbjp7XG4gICAgY3JlYXRlTW9tOmFzeW5jKHBhcmVudCxfYXJnczp7ZGF0YTphbnl9LGNvbnRleHQpID0+IGNyZWF0ZU1vbShwYXJlbnQsX2FyZ3MsY29udGV4dCksXG4gICAgdXBkYXRlTW9tOmFzeW5jKHBhcmVudCxfYXJnczp7ZGF0YTphbnl9LGNvbnRleHQpID0+IHVwZGF0ZU1vbShwYXJlbnQsX2FyZ3MsY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IHByb2plY3RNb21UeXBlZGVmID0gYFxudHlwZSBQcm9qZWN0TW9tc3tcbiAgICBpZCA6IEludCFcbiAgICBwcm9qZWN0aWQgOiBJbnRcbiAgICBtaWxlc3RvbmVpZCA6IEludFxuICAgIGRlc2lnbmVyaWQgOiBJbnRcbiAgICBtZWV0aW5nbmFtZSA6IFN0cmluZ1xuICAgIG1lZXRpbmdhZ2VuZGEgOiBTdHJpbmdcbiAgICBtZWV0aW5nZGVzY3JpcHRpb24gOiBTdHJpbmdcbiAgICBtZWV0aW5nZGF0ZSA6IERhdGVUaW1lXG4gICAgc3RhdHVzIDogU3RyaW5nXG4gICAgc2VudG9uZGF0ZSA6IERhdGVUaW1lXG4gICAgYXR0YWNobWVudHM6IFtBdHRhY2htZW50c11cbiAgICBtb21Db21tZW50cyA6IFtNb21Db21tZW50c11cbiAgICB9XG5cbiAgICB0eXBlIE1vbVJlc3BvbnNle1xuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOlN0cmluZyxcbiAgICAgICAgZGF0YTpbUHJvamVjdE1vbXNdXG4gICAgICAgIGF0dGFjaG1lbnRzY291bnQ6IEludFxuICAgIH1cbiAgICB0eXBlIE11dGF0aW9ue1xuICAgICAgICBjcmVhdGVNb20oXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb2plY3RpZCA6IEludCxcbiAgICAgICAgICAgIG1pbGVzdG9uZWlkIDogSW50LFxuICAgICAgICAgICAgc3RhdHVzIDogU3RyaW5nKTogTW9tUmVzcG9uc2VcbiAgICBcbiAgICAgICAgdXBkYXRlTW9tKFxuICAgICAgICAgICAgaWQgOiBJbnQhLFxuICAgICAgICAgICAgZGVzaWduZXJpZCA6IEludCxcbiAgICAgICAgICAgIG1lZXRpbmduYW1lIDogU3RyaW5nLFxuICAgICAgICAgICAgbWVldGluZ2FnZW5kYSA6IFN0cmluZyxcbiAgICAgICAgICAgIG1lZXRpbmdkZXNjcmlwdGlvbiA6IFN0cmluZyxcbiAgICAgICAgICAgIG1lZXRpbmdkYXRlIDogRGF0ZVRpbWUsXG4gICAgICAgICAgICBhdHRhY2htZW50IDogSlNPTixcbiAgICAgICAgICAgIHN0YXR1cyA6IFN0cmluZyk6IE1vbVJlc3BvbnNlXG4gICAgfVxuXG4gICAgdHlwZSBRdWVyeXtcbiAgICAgICAgZ2V0TW9tQnlJZChpZDpJbnQhKTogTW9tUmVzcG9uc2VcbiAgICAgICAgZ2V0TW9tQnlQcm9qZWN0SWQocHJvamVjdGlkOkludCEsc3RhdHVzOlN0cmluZyk6IE1vbVJlc3BvbnNlXG4gICAgfVxuXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHtcbiAgZ2V0RmlsZUNoZWNrbGlzdE5hbWUsXG4gIEZpbGVDaGVja0xpc3ROYW1lLFxufSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9GaWxlQ2hlY2tMaXN0RW51bXNcIjtcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBhZGRNaWxlc3RvbmVGaWxlcyA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBwcm9qZWN0aWQsXG4gICAgZmlsZW5hbWUsXG4gICAgZmlsZWtleSxcbiAgICBmaWxldXJsLFxuICAgIGNvbnRlbnR0eXBlLFxuICAgIHVwbG9hZGVkYnksXG4gICAgY29tbWVudHMsXG4gIH0gPSBhcmdzO1xuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuICAgIGxldCBzZWxlY3RlZE1pbGVzdG9uZTtcbiAgICBjb25zdCBmaWxlQ2hlY2tMaXN0TmFtZSA9IGF3YWl0IHZhbGlkYXRlQW5kR2V0Q2hlY2tsaXN0TmFtZShmaWxlbmFtZSk7XG5cbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBpZDogcHJvamVjdGlkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJQcm9qZWN0IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgbGV0IG1pbGVzdG9uZWRldGFpbHMgPSBbXSxcbiAgICAgIG1pbGVzdG9uZWNoZWNrbGlzdCA9IFtdLFxuICAgICAgZmlsZXNjaGVja2xpc3QgPSBbXTtcblxuICAgIGNvbnN0IG1pbGVzdG9uZXMgPSBwcm9qZWN0Lm1pbGVzdG9uZXM7XG4gICAgbWlsZXN0b25lZGV0YWlscyA9IG1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzO1xuICAgIG1pbGVzdG9uZWRldGFpbHMuZm9yRWFjaChhc3luYyAobWlsZXN0b25lKSA9PiB7XG4gICAgICBtaWxlc3RvbmVjaGVja2xpc3QgPSBtaWxlc3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgIG1pbGVzdG9uZWNoZWNrbGlzdC5mb3JFYWNoKGFzeW5jIChmZXRjaGVkbWlsZXN0b25lKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaWxlbmFtZSA9PT0gRmlsZUNoZWNrTGlzdE5hbWUuU1VSVkVZX0RSQVdJTkdTIHx8XG4gICAgICAgICAgZmlsZW5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLlNJVEVfSU1BR0VTIHx8XG4gICAgICAgICAgZmlsZW5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLkRFU0lHTl9QUkVTRU5UQVRJT05cbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmV0Y2hlZG1pbGVzdG9uZS5sZW5ndGggIT09IDAgJiZcbiAgICAgICAgICAgIGZldGNoZWRtaWxlc3RvbmVbXCJjaGVja2xpc3Rfc3RyaW5nXCJdID09PSBmaWxlQ2hlY2tMaXN0TmFtZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZmV0Y2hlZG1pbGVzdG9uZS5pc19jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lID0gbWlsZXN0b25lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZmlsZXNjaGVja2xpc3QgPSBtaWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5maWxlc19jaGVja2xpc3Q7XG5cbiAgICBmaWxlc2NoZWNrbGlzdC5mb3JFYWNoKGFzeW5jIChmaWxlKSA9PiB7XG4gICAgICBpZiAoZmlsZS5sZW5ndGggIT09IDAgJiYgZmlsZVtcImNoZWNrbGlzdF9zdHJpbmdcIl0gPT09IGZpbGVuYW1lKSB7XG4gICAgICAgIGZpbGUuZmlsZWtleSA9IGZpbGVrZXk7XG4gICAgICAgIGZpbGUuZmlsZXVybCA9IGZpbGV1cmw7XG4gICAgICAgIGZpbGUuY29udGVudFR5cGUgPSBjb250ZW50dHlwZTtcbiAgICAgICAgZmlsZS51cGxvYWRlZGJ5ID0gdXBsb2FkZWRieTtcbiAgICAgICAgZmlsZS51cGxvYWRlZG9uID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgcmVzID0gZ2V0QXBwcm92YWxTdGF0dXMoZmlsZS5hcHByb3ZhbF9mcm9tX2N1c3RvbWVyKTtcbiAgICAgICAgZmlsZS5hcHByb3ZhbHN0YXR1cyA9IHJlcy5zdGF0dXM7XG4gICAgICAgIGZpbGUuc2VudG9uZGF0ZSA9IHJlcy5zZW50T25EYXRlO1xuICAgICAgICBmaWxlLmNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBmaWxlLnVwZGF0ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBmaWxlLmNvbW1lbnRzID0gY29tbWVudHM7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIGRhdGE6IHsgbWlsZXN0b25lczogbWlsZXN0b25lcyB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RpZCB9LFxuICAgIH0pO1xuXG4gICAgaWYgKHNlbGVjdGVkTWlsZXN0b25lKSB7XG4gICAgICBhd2FpdCBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0KHByb2plY3RpZCwgc2VsZWN0ZWRNaWxlc3RvbmUpO1xuICAgIH1cbiAgICByZXR1cm4geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZUFuZEdldENoZWNrbGlzdE5hbWUgPSBhc3luYyAoY2hlY2tsaXN0TmFtZUluUmVxKSA9PiB7XG4gIHJldHVybiBnZXRGaWxlQ2hlY2tsaXN0TmFtZShjaGVja2xpc3ROYW1lSW5SZXEpO1xufTtcbmV4cG9ydCBjb25zdCBnZXRBcHByb3ZhbFN0YXR1cyA9IChhcHByb3ZhbFJlcXVpcmVkc3RhdHVzKSA9PiB7XG4gIGxldCBzdGF0dXMsIHNlbnRPbkRhdGU7XG4gIGlmIChhcHByb3ZhbFJlcXVpcmVkc3RhdHVzKSB7XG4gICAgc3RhdHVzID0gXCJQZW5kaW5nIEFwcHJvdmFsXCI7XG4gICAgc2VudE9uRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdHVzID0gbnVsbDtcbiAgICBzZW50T25EYXRlID0gbnVsbDtcbiAgfVxuICByZXR1cm4geyBzdGF0dXMsIHNlbnRPbkRhdGUgfTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyB1cGRhdGVEZXNpZ25lckVtYWlsIH0gZnJvbSBcIi4uL1NtYXJ0c2hlZXQvTXV0YXRpb25zL1VwZGF0ZURlc2lnbmVyXCI7XG5pbXBvcnQgeyB1cGRhdGVTdXJ2ZXkgfSBmcm9tIFwiLi4vU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlU3VydmV5XCI7XG5pbXBvcnQge1xuICBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdCxcbiAgcXVlcnlGb3JGZXRjaGluZ1RlbXBsYXRlLFxufSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcbmltcG9ydCB7IGNyZWF0ZVNtYXJ0U2hlZXQgfSBmcm9tIFwiLi4vU21hcnRzaGVldC9NdXRhdGlvbnMvQ3JlYXRlU21hcnRzaGVldFwiO1xuaW1wb3J0IHNob3J0IGZyb20gXCJzaG9ydGlkXCI7XG5pbXBvcnQgeyB0cmlnZ2VyRW1haWxOb3RpZmljYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5pbXBvcnQgRW1haWxUZW1wbGF0ZSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3RlbXBsYXRlL0VtYWlsVGVtcGxhdGVcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFByb2plY3QgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IHByb2plY3RDcmVhdGlvblJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLCBkYXRhOiBudWxsIH07XG4gIGNvbnN0IHtcbiAgICBwcm9qZWN0aWQsXG4gICAgcHJvamVjdG5hbWUsXG4gICAgdG90YWxwcm9qZWN0dmFsdWUsXG4gICAgc2lnbnVwZGF0ZSxcbiAgICBjdXN0b21lcmlkLFxuICAgIGRlc2lnbmVyaWQsXG4gICAgc2FsZXNtYW5hZ2VyaWQsXG4gICAgY2htaWQsXG4gICAgZGVzaWduc3R1ZGlvaWQsXG4gICAgbW9kdWxhcmJhc2VhbW91bnQsXG4gICAgcHJvamVjdG1vZHVsYXJ2YWx1ZSxcbiAgICBtb2R1bGFyZGlzY291bnQsXG4gICAgc2l0ZXNlcnZpY2ViYXNlYW1vdW50LFxuICAgIHByb2plY3RzaXRlc2VydmljZXN2YWx1ZSxcbiAgICBzaXRlc2VydmljZWRpc2NvdW50LFxuICAgIHNpZ251cGFtb3VudCxcbiAgICBzaWdudXBzdGF0ZSxcbiAgICBleHBlcmllbmNlY2VudGVyaWQsXG4gICAgY2l0eWlkLFxuICAgIHByb2plY3RhZGRyZXNzaWQsXG4gICAgY21tbmFtZSxcbiAgICBleHBlY3RlZGhhbmRvdmVyZGF0ZSxcbiAgICBjdXJyZW50bWlsZXN0b25lLFxuICAgIHByb2plY3RwaGFzZSxcbiAgICBoYXNkZXNpZ25lcmFjY2VwdGVkLFxuICAgIGhhc2Rlc2lnZXJyZXNwb25kZWQsXG4gICAgaG9tZXR5cGUsXG4gICAgaW5pdGlhbHNpZ251cHZhbHVlLFxuICAgIGRlY29ydmFsdWUsXG4gICAgcXVvdGVpZCxcbiAgICBwcm9qZWN0cmF0aW5nLFxuICAgIGluY2x1ZGVwbWZlZSxcbiAgICBtaWxlc3RvbmV0eXBlLFxuICAgIG9kb29pZCxcbiAgICBvZG9vX2RlbGl2ZXJ5X2FkZHJlc3NfaWQsXG4gICAgaXNuZXdwYXltZW50cHJvamVjdCxcbiAgICBvcHBvcnR1bml0eWlkLFxuICAgIHRlbXBsYXRlLFxuICAgIGlzaW1vc3Byb2plY3QsXG4gICAgbW9kdWxhcmFtb3VudGdzdCxcbiAgICBzaXRlc2VydmljZWFtb3VudGdzdCxcbiAgICBtb2R1bGFyYWJzb2x1dGVkaXNjb3VudCxcbiAgICBtb2R1bGFycG1mZWUsXG4gICAgc2l0ZXNlcnZpY2Vnc3QsXG4gICAgc2l0ZXNlcnZpY2VwZGZsaW5rLFxuICAgIG1vZHVsYXJhbW91bnRnc3R2YWx1ZSxcbiAgICBzaXRlcG1mZWUsXG4gICAgc2l0ZXNlcnZpY2VkaXNjb3VudHZhbHVlLFxuICAgIHF1b3RlbGluayxcbiAgICBwcm9wb3NhbHBkZmxpbmssXG4gICAgc2FsZXNtYW5hZ2VybmFtZVxuICB9ID0gYXJncztcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9qZWN0VGVtcGxhdGVzID0gYXdhaXQgY2FsbEV4dGVybmFsQVBJV2l0aFBvc3QoXG4gICAgICBcImh0dHBzOi8vY21zLmRlc2lnbmNhZmUuY29tL2dyYXBocWxtXCIsXG4gICAgICBxdWVyeUZvckZldGNoaW5nVGVtcGxhdGVcbiAgICApO1xuICAgIGNvbnN0IHN1cnZleUV4ZWNJZCA9IGF3YWl0IGdldFN1cnZleUV4ZWN1dGl2ZUlkKGV4cGVyaWVuY2VjZW50ZXJpZCk7XG4gICAgY29uc3QgcHJvamVjdEFscmVhZHlFeGlzdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgcHJvamVjdGlkOiBwcm9qZWN0aWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmIChwcm9qZWN0QWxyZWFkeUV4aXN0KSB7XG4gICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUHJvamVjdCBhbHJlYWR5IGV4aXN0c1wiIH07XG4gICAgfVxuICAgIGlmIChwcm9qZWN0VGVtcGxhdGVzKSB7XG4gICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwcm9qZWN0aWQsXG4gICAgICAgICAgbWlsZXN0b25lczogcHJvamVjdFRlbXBsYXRlcz8uZGF0YT8ucHJvamVjdFRlbXBsYXRlcy5kYXRhWzBdLFxuICAgICAgICAgIHByb2plY3RuYW1lLFxuICAgICAgICAgIHByb2plY3RzdGF0dXM6IFwiZHJhZnRcIixcbiAgICAgICAgICB0b3RhbHByb2plY3R2YWx1ZSxcbiAgICAgICAgICBjcmVhdGVkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgc2lnbnVwZGF0ZSxcbiAgICAgICAgICBjdXN0b21lcmlkLFxuICAgICAgICAgIGRlc2lnbmVyaWQsXG4gICAgICAgICAgc2FsZXNtYW5hZ2VyaWQsXG4gICAgICAgICAgY2htaWQsXG4gICAgICAgICAgc3VydmV5ZXhlY3V0aXZlaWQ6IHN1cnZleUV4ZWNJZCxcbiAgICAgICAgICBkZXNpZ25zdHVkaW9pZCxcbiAgICAgICAgICBtb2R1bGFyYmFzZWFtb3VudCxcbiAgICAgICAgICBwcm9qZWN0bW9kdWxhcnZhbHVlLFxuICAgICAgICAgIG1vZHVsYXJkaXNjb3VudCxcbiAgICAgICAgICBzaXRlc2VydmljZWJhc2VhbW91bnQsXG4gICAgICAgICAgcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlLFxuICAgICAgICAgIHNpdGVzZXJ2aWNlZGlzY291bnQsXG4gICAgICAgICAgc2lnbnVwYW1vdW50LFxuICAgICAgICAgIHNpZ251cHN0YXRlLFxuICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXJpZCxcbiAgICAgICAgICBjaXR5aWQsXG4gICAgICAgICAgcHJvamVjdGFkZHJlc3NpZCxcbiAgICAgICAgICBjbW1uYW1lLFxuICAgICAgICAgIGV4cGVjdGVkaGFuZG92ZXJkYXRlLFxuICAgICAgICAgIGN1cnJlbnRtaWxlc3RvbmUsXG4gICAgICAgICAgcHJvamVjdHBoYXNlLFxuICAgICAgICAgIGhhc2Rlc2lnbmVyYWNjZXB0ZWQsXG4gICAgICAgICAgaGFzZGVzaWdlcnJlc3BvbmRlZCxcbiAgICAgICAgICBob21ldHlwZSxcbiAgICAgICAgICBpbml0aWFsc2lnbnVwdmFsdWUsXG4gICAgICAgICAgZGVjb3J2YWx1ZSxcbiAgICAgICAgICBxdW90ZWlkLFxuICAgICAgICAgIHByb2plY3RyYXRpbmcsXG4gICAgICAgICAgaW5jbHVkZXBtZmVlLFxuICAgICAgICAgIG1pbGVzdG9uZXR5cGUsXG4gICAgICAgICAgb2Rvb2lkLFxuICAgICAgICAgIG9kb29fZGVsaXZlcnlfYWRkcmVzc19pZCxcbiAgICAgICAgICBpc25ld3BheW1lbnRwcm9qZWN0LFxuICAgICAgICAgIG9wcG9ydHVuaXR5aWQsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaXNpbW9zcHJvamVjdCxcbiAgICAgICAgICBtb2R1bGFyYW1vdW50Z3N0LFxuICAgICAgICAgIHNpdGVzZXJ2aWNlYW1vdW50Z3N0LFxuICAgICAgICAgIG1vZHVsYXJhYnNvbHV0ZWRpc2NvdW50LFxuICAgICAgICAgIG1vZHVsYXJwbWZlZSxcbiAgICAgICAgICBzaXRlc2VydmljZWdzdCxcbiAgICAgICAgICBzaXRlc2VydmljZXBkZmxpbmssXG4gICAgICAgICAgbW9kdWxhcmFtb3VudGdzdHZhbHVlLFxuICAgICAgICAgIHNpdGVwbWZlZSxcbiAgICAgICAgICBzaXRlc2VydmljZWRpc2NvdW50dmFsdWUsXG4gICAgICAgICAgcXVvdGVsaW5rLFxuICAgICAgICAgIHByb3Bvc2FscGRmbGluayxcbiAgICAgICAgICBzYWxlc21hbmFnZXJuYW1lXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy9DcmVhdGUgUHJvamVjdCBvbiBTbWFydHNoZWV0XG4gICAgICBpZiAocHJvamVjdCkge1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDcmVhdGUgTU9NJ3MgKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgIGF3YWl0IGFkZE1PTShcbiAgICAgICAgICBwcm9qZWN0VGVtcGxhdGVzPy5kYXRhPy5wcm9qZWN0VGVtcGxhdGVzLmRhdGFbMF0sXG4gICAgICAgICAgcHJvamVjdC5pZFxuICAgICAgICApO1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqIENyZWF0ZSBNT00ncyBFbmQgKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAgICAgLyoqKioqKioqKioqKioqKioqIEluc2VydCB0aGUgUHJvamVjdCBvbiBTbWFydHNoZWV0IExvZ2ljICoqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICBjb25zdCBzbWFydFNoZWV0UHJvamVjdFJlc3BvbnNlID0gYXdhaXQgYWRkUHJvamVjdE9uU21hcnRTaGVldChcbiAgICAgICAgICBwcm9qZWN0LFxuICAgICAgICAgIGFyZ3NcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoc21hcnRTaGVldFByb2plY3RSZXNwb25zZS5jb2RlICE9PSAyMDApIHtcbiAgICAgICAgICBwcm9qZWN0Q3JlYXRpb25SZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgIHByb2plY3RDcmVhdGlvblJlc3BvbnNlLm1lc3NhZ2UgPSBzbWFydFNoZWV0UHJvamVjdFJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgICAgcmV0dXJuIHByb2plY3RDcmVhdGlvblJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBpZDogcHJvamVjdC5pZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNtYXJ0c2hlZXRpZDogc21hcnRTaGVldFByb2plY3RSZXNwb25zZS5zaGVldElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcm9qZWN0Q3JlYXRpb25SZXNwb25zZS5jb2RlID09PSAyMDApIHtcbiAgICAgICAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUuZmluZEZpcnN0KHtcbiAgICAgICAgICAgIHdoZXJlOiB7IHByb2ZpbGVfbmFtZTogXCJDSE0gRXhlY3V0aXZlXCIgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgZmV0Y2hVc2VyID0gW107XG4gICAgICAgICAgY29uc3QgZmV0Y2hUZWFtID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzX3RlYW0uZmluZEZpcnN0KHtcbiAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJpZDogYXJncy5kZXNpZ25lcmlkIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmV0Y2hVc2VyID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzX3RlYW0uZmluZE1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHsgdGVhbWlkOiBmZXRjaFRlYW0udGVhbWlkIH0sXG4gICAgICAgICAgICBzZWxlY3Q6IHsgdXNlcmlkOiB0cnVlIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGZldGNoZWRVc2VyID0gZmV0Y2hVc2VyO1xuICAgICAgICAgIGxldCBnZXRVc2VyUHJvZmlsZTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZldGNoZWRVc2VyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZmV0Y2hlZFVzZXJbaV0udXNlcmlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGdldFVzZXJQcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgdXNlcmlkOiBmZXRjaGVkVXNlcltpXS51c2VyaWQgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChnZXRVc2VyUHJvZmlsZS5wcm9maWxlaWQgPT09IHByb2ZpbGUucHJvZmlsZWlkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogcHJvamVjdC5pZCB9LFxuICAgICAgICAgICAgICAgICAgZGF0YTogeyBjaG1pZDogZ2V0VXNlclByb2ZpbGUudXNlcmlkIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqKioqKioqKioqKioqKioqIEluc2VydCB0aGUgUHJvamVjdCBvbiBTbWFydHNoZWV0IExvZ2ljIEVuZCoqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICAvKioqKioqKioqKioqKioqKiogQWRkaW5nIERlc2lnbmVyIGFuZCBTdXJ2ZXkgRW1haWwgaW4gdGhlIFNtYXJ0c2hlZXQgTWlsZXN0b25lcyBzdGFydCoqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICBhd2FpdCBBc3NpZ25EZXNpZ25lckVtYWlsaShcbiAgICAgICAgICBzbWFydFNoZWV0UHJvamVjdFJlc3BvbnNlLnNoZWV0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBkZXNpZ25lcmlkXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IEFzc2lnblN1cnZleUVtYWlsaShcbiAgICAgICAgICBzbWFydFNoZWV0UHJvamVjdFJlc3BvbnNlLnNoZWV0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBwcm9qZWN0LnN1cnZleWV4ZWN1dGl2ZWlkXG4gICAgICAgICk7XG4gICAgICAgIC8qKioqKioqKioqKioqKioqKiBBZGRpbmcgRGVzaWduZXIgYW5kIFN1cnZleSBFbWFpbCBpbiB0aGUgU21hcnRzaGVldCBNaWxlc3RvbmVzIEVuZCoqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqQWRkIHRoZSBQYXltZW50IFJlcXVlc3QgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgY29uc3QgYWRkUGF5bWVudFJlcXVlc3RSZXNwb25zZSA9IGF3YWl0IGFkZDVQZXJjZW50UGF5bWVudFJlcXVlc3RPYmplY3QoXG4gICAgICAgICAgcHJvamVjdG1vZHVsYXJ2YWx1ZSxcbiAgICAgICAgICBwcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWUsXG4gICAgICAgICAgYXJncy5wcm9qZWN0aWQsXG4gICAgICAgICAgb3Bwb3J0dW5pdHlpZFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChhZGRQYXltZW50UmVxdWVzdFJlc3BvbnNlLmNvZGUgIT09IDIwMCkge1xuICAgICAgICAgIHByb2plY3RDcmVhdGlvblJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgICAgcHJvamVjdENyZWF0aW9uUmVzcG9uc2UubWVzc2FnZSA9IGFkZFBheW1lbnRSZXF1ZXN0UmVzcG9uc2UubWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gcHJvamVjdENyZWF0aW9uUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcXVvdGVzRm9yUHJvamVjdHMgPSBhd2FpdCBwcmlzbWEucXVvdGUuZmluZEZpcnN0KHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgb3Bwb3J0dW5pdHlpZDogb3Bwb3J0dW5pdHlpZCxcbiAgICAgICAgICAgIGxhdGVzdF9xdW90ZV9fYzogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHF1b3Rlc0ZvclByb2plY3RzKSB7XG4gICAgICAgICAgbGV0IHJvb21MaXN0O1xuICAgICAgICAgIGlmIChxdW90ZXNGb3JQcm9qZWN0cy5kY19yb29tX2xpc3RfX2MpIHtcbiAgICAgICAgICAgIHJvb21MaXN0ID0gZ2V0Um9vbUxpc3RBcnJheShxdW90ZXNGb3JQcm9qZWN0cy5kY19yb29tX2xpc3RfX2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBxdW90ZURhdGEgPSB7XG4gICAgICAgICAgICBxdW90ZW5hbWU6IHF1b3Rlc0ZvclByb2plY3RzLm5hbWUsXG4gICAgICAgICAgICBtb2R1bGFydmFsdWU6IHF1b3Rlc0ZvclByb2plY3RzLm1vZHVsYXJfYW1vdW50X19jLFxuICAgICAgICAgICAgc2l0ZXNlcnZpY2U6IHF1b3Rlc0ZvclByb2plY3RzLnNpdGVfc2VydmljZXNfYW1vdW50X19jLFxuICAgICAgICAgICAgbW9kdWxhcmRpc2NvdW50OiBxdW90ZXNGb3JQcm9qZWN0cy5tb2R1bGFyX2Rpc2NvdW50X19jLFxuICAgICAgICAgICAgbW9kdWxhcmFic29sdXRlZGlzY291bnQ6XG4gICAgICAgICAgICAgIHF1b3Rlc0ZvclByb2plY3RzLm1vZHVsYXJfZml4ZWRfZGlzY291bnRfX2MsXG4gICAgICAgICAgICBzaXRlc2VydmljZWFic29sdXRlZGlzY291bnQ6XG4gICAgICAgICAgICAgIHF1b3Rlc0ZvclByb2plY3RzLnNpdGVfc2VydmljZV9maXhlZF9kaXNjb3VudF9fYyxcbiAgICAgICAgICAgIHNpdGVzZXJ2aWNlZGlzY291bnQ6IHF1b3Rlc0ZvclByb2plY3RzLnNpdGVfc2VydmljZXNfZGlzY291bnRfX2MsXG4gICAgICAgICAgICBpc2xhdGVzdHF1b3RlOiBxdW90ZXNGb3JQcm9qZWN0cy5sYXRlc3RfcXVvdGVfX2MsXG4gICAgICAgICAgICBzYWxlc2ZvcmNlcXVvdGVpZDogcXVvdGVzRm9yUHJvamVjdHMuc2ZpZCxcbiAgICAgICAgICAgIG9wcG9ydHVuaXR5aWQ6IHF1b3Rlc0ZvclByb2plY3RzLm9wcG9ydHVuaXR5aWQsXG4gICAgICAgICAgICBwcm9wb3NhbHBkZjogcXVvdGVzRm9yUHJvamVjdHMucHJvcG9zYWxfcGRmX19jLFxuICAgICAgICAgICAgZGVjb3J2YWx1ZTogcXVvdGVzRm9yUHJvamVjdHMuZGVjb3JfYW1vdW50X19jLFxuICAgICAgICAgICAgbW9kdWxhcnBkZmxvY2F0aW9uOiBxdW90ZXNGb3JQcm9qZWN0cy5xdW90ZV9saW5rX19jLFxuICAgICAgICAgICAgc2l0ZXNlcnZpY2VwZGZsb2NhdGlvbjogcXVvdGVzRm9yUHJvamVjdHMuc2l0ZV9zZXJ2aWNlc19wZGZfX2MsXG4gICAgICAgICAgICBjdXN0b21lcm5hbWU6IHF1b3Rlc0ZvclByb2plY3RzLmN1c3RvbWVyX25hbWVfX2MsXG4gICAgICAgICAgICByb29tbGlzdDogcm9vbUxpc3QsXG4gICAgICAgICAgICBtb2R1bGFyeG1sOiBxdW90ZXNGb3JQcm9qZWN0cy5kY19tb2R1bGFyX3htbF9fYyxcbiAgICAgICAgICAgIHNpdGVzZXJ2aWNleG1sOiBxdW90ZXNGb3JQcm9qZWN0cy5kY19zaXRlX3NlcnZpY2VzX3htbF9fYyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgcHJvamVjdFF1b3RlID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfcXVvdGVzLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiBxdW90ZURhdGEsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgIGlkOiBwcm9qZWN0LmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcXVvdGVpZDogcHJvamVjdFF1b3RlLmlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9qZWN0Q3JlYXRpb25SZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICAgIHByb2plY3RDcmVhdGlvblJlc3BvbnNlLm1lc3NhZ2UgPVxuICAgICAgICAgICAgXCJQcm9qZWN0IENyZWF0ZWQgQnV0IE5vIFF1b3RlIEZvdW5kIEZvciB0aGUgZ2l2ZW4gT3Bwb3J0dW5pdHkgSWRcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcm9qZWN0Q3JlYXRpb25SZXNwb25zZS5kYXRhID0gcHJvamVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvamVjdENyZWF0aW9uUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgIHByb2plY3RDcmVhdGlvblJlc3BvbnNlLm1lc3NhZ2UgPSBcIk5vdCBhYmxlIHRvIHNldCBwcm9qZWN0IHRlbXBsYXRlXCI7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICBwcm9qZWN0Q3JlYXRpb25SZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIHByb2plY3RDcmVhdGlvblJlc3BvbnNlLm1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIHByb2plY3RDcmVhdGlvblJlc3BvbnNlO1xufTtcblxuY29uc3QgZ2V0Um9vbUxpc3RBcnJheSA9IChyb29tc0FycmF5KSA9PiB7XG4gIGNvbnN0IHN0cmluZ2lmeVJvb21saXN0ID0gSlNPTi5wYXJzZShcbiAgICBKU09OLnN0cmluZ2lmeShyb29tc0FycmF5KS5yZXBsYWNlKC8mcXVvdDsvZywgJ1xcXFxcIicpXG4gICk7XG4gIHJldHVybiBKU09OLnBhcnNlKHN0cmluZ2lmeVJvb21saXN0KTtcbn07XG5cbmNvbnN0IGFkZFByb2plY3RPblNtYXJ0U2hlZXQgPSBhc3luYyAocHJvamVjdCwgYXJncykgPT4ge1xuICBjb25zdCBmZXRjaGVkRGVzaWduZXJEYXRhOiBhbnkgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHtcbiAgICAgIHVzZXJpZDogYXJncy5kZXNpZ25lcmlkLFxuICAgIH0sXG4gICAgaW5jbHVkZToge1xuICAgICAgdXNlcnNfY2l0eToge1xuICAgICAgICBpbmNsdWRlOiB7IGNpdHk6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB1c2Vyc19leHBlcmllbmNlY2VudGVyczoge1xuICAgICAgICBpbmNsdWRlOiB7IGNlbnRlcjogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHVzZXJzX3RlYW06IHtcbiAgICAgICAgaW5jbHVkZTogeyB0ZWFtOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKDIyNCwgYXJncy5jdXN0b21lcmlkKTtcbiAgY29uc3QgZmV0Y2hlZEN1c3RvbWVyRGF0YTogYW55ID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRVbmlxdWUoe1xuICAgIHdoZXJlOiB7XG4gICAgICBjdXN0b21lcmlkOiBhcmdzLmN1c3RvbWVyaWQsXG4gICAgfSxcbiAgICBpbmNsdWRlOiB7XG4gICAgICBhZGRyZXNzZXM6IHRydWUsXG4gICAgfSxcbiAgfSk7XG4gIGxldCBwcm9wZXJ0eUFkZHJlc3M7XG4gIGlmIChmZXRjaGVkQ3VzdG9tZXJEYXRhLmFkZHJlc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgeyBzdHJlZXQsIGNpdHksIHN0YXRlLCB6aXAsIGNvdW50cnkgfSA9XG4gICAgICBmZXRjaGVkQ3VzdG9tZXJEYXRhLmFkZHJlc3Nlc1swXTtcbiAgICBwcm9wZXJ0eUFkZHJlc3MgPSBgJHtzdHJlZXR9ICR7Y2l0eX0gJHtzdGF0ZX0gJHt6aXB9ICR7Y291bnRyeX1gO1xuICB9XG4gIGNvbnN0IGN1c3RvbWVyTmFtZSA9ICBnZXRDdXN0b21lck5hbWUoZmV0Y2hlZEN1c3RvbWVyRGF0YSlcblxuICBjb25zdCBzbWFydFNoZWV0UGF5bG9hZCA9IHtcbiAgICBwcm9qZWN0SWQ6IHByb2plY3QuaWQsXG4gICAgY2xpZW50TmFtZTogY3VzdG9tZXJOYW1lLFxuICAgIGNsaWVudElkOiBhcmdzLnByb2plY3RpZCxcbiAgICBwcm9qZWN0U2lnbnVwVmFsdWU6IGFyZ3Muc2lnbnVwYW1vdW50LFxuICAgIGRlc2lnbmVyTmFtZTogYCR7ZmV0Y2hlZERlc2lnbmVyRGF0YS5maXJzdG5hbWV9ICR7ZmV0Y2hlZERlc2lnbmVyRGF0YS5sYXN0bmFtZX1gLFxuICAgIGRlc2lnblN0dWRpbzogYCR7ZmV0Y2hlZERlc2lnbmVyRGF0YS51c2Vyc190ZWFtWzBdLnRlYW0ubmFtZX1gLFxuICAgIHNhbGVzT3duZXI6IFwiXCIsXG4gICAgY2xpZW50RW1haWw6IGZldGNoZWRDdXN0b21lckRhdGEuY3VzdG9tZXJlbWFpbCxcbiAgICBjbGllbnRDb250YWN0OiBgJHtmZXRjaGVkQ3VzdG9tZXJEYXRhLmN1c3RvbWVycGhvbmV9YCxcbiAgICBwcm9wZXJ0eU5hbWU6IFwiXCIsXG4gICAgcHJvcGVydHlBZGRyZXNzOiBwcm9wZXJ0eUFkZHJlc3MgPyBwcm9wZXJ0eUFkZHJlc3MgOiBudWxsLFxuICAgIHN0YXR1czogXCJEcmFmdFwiLFxuICAgIHNpZ251cERhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF0sXG4gIH07XG4gIGNvbnNvbGUubG9nKDMzNiwgc21hcnRTaGVldFBheWxvYWQpO1xuICByZXR1cm4gY3JlYXRlU21hcnRTaGVldChudWxsLCBzbWFydFNoZWV0UGF5bG9hZCwgbnVsbCk7XG59O1xuY29uc3QgYWRkNVBlcmNlbnRQYXltZW50UmVxdWVzdE9iamVjdCA9IGFzeW5jIChcbiAgcHJvamVjdG1vZHVsYXJ2YWx1ZSxcbiAgcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlLFxuICBjbGllbnRJZCxcbiAgb3Bwb3J0dW5pdHlpZFxuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF5bWVudFJlcXVlc3RBcnIgPSBbXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3RkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxuICAgICAgICBjYXRlZ29yeTogXCJNb2R1bGFyXCIsXG4gICAgICAgIHJlcXVlc3RpZDogYFBSLSR7c2hvcnQuZ2VuZXJhdGUoKX1gLFxuICAgICAgICByZXF1ZXN0YW1vdW50OiBwcm9qZWN0bW9kdWxhcnZhbHVlXG4gICAgICAgICAgPyAoNSAvIDEwMCkgKiBwcm9qZWN0bW9kdWxhcnZhbHVlXG4gICAgICAgICAgOiAwLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCI1JSBvZiBNb2R1bGFyXCIsXG4gICAgICAgIGNsaWVudGlkOiBjbGllbnRJZCxcbiAgICAgICAgc3RhdHVzOiBcIlBlbmRpbmdcIixcbiAgICAgICAgYXBwbmFtZTogXCJERFwiLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgcGF5bWVudFJlcXVlc3RBcnJGb3JTRiA9IFtcbiAgICAgIHtcbiAgICAgICAgY2F0ZWdvcnlfX2M6IFwiTW9kdWxhclwiLFxuICAgICAgICByZXF1ZXN0X2lkX19jOiBgUFItJHtzaG9ydC5nZW5lcmF0ZSgpfWAsXG4gICAgICAgIHJlcXVlc3RfYW1vdW50X19jOiBwcm9qZWN0bW9kdWxhcnZhbHVlXG4gICAgICAgICAgPyAoNSAvIDEwMCkgKiBwcm9qZWN0bW9kdWxhcnZhbHVlXG4gICAgICAgICAgOiAwLFxuICAgICAgICBkZXNjcmlwdGlvbl9fYzogXCI1JSBvZiBNb2R1bGFyXCIsXG4gICAgICAgIGNsaWVudF9pZF9fYzogY2xpZW50SWQsXG4gICAgICAgIHN0YXR1c19fYzogXCJQZW5kaW5nXCIsXG4gICAgICAgIG9wcG9ydHVuaXR5X19jOiBvcHBvcnR1bml0eWlkLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgaWYgKHByb2plY3RzaXRlc2VydmljZXN2YWx1ZSkge1xuICAgICAgcGF5bWVudFJlcXVlc3RBcnIucHVzaCh7XG4gICAgICAgIHJlcXVlc3RkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxuICAgICAgICBjYXRlZ29yeTogXCJTaXRlIFNlcnZpY2VzXCIsXG4gICAgICAgIHJlcXVlc3RpZDogYFBSLSR7c2hvcnQuZ2VuZXJhdGUoKX1gLFxuICAgICAgICByZXF1ZXN0YW1vdW50OiBwcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWVcbiAgICAgICAgICA/ICg1IC8gMTAwKSAqIHByb2plY3RzaXRlc2VydmljZXN2YWx1ZVxuICAgICAgICAgIDogMCxcbiAgICAgICAgZGVzY3JpcHRpb246IFwiNSUgb2YgU2l0ZSBTZXJ2aWNlXCIsXG4gICAgICAgIGNsaWVudGlkOiBjbGllbnRJZCxcbiAgICAgICAgc3RhdHVzOiBcIlBlbmRpbmdcIixcbiAgICAgICAgYXBwbmFtZTogXCJERFwiLFxuICAgICAgfSk7XG5cbiAgICAgIHBheW1lbnRSZXF1ZXN0QXJyRm9yU0YucHVzaCh7XG4gICAgICAgIGNhdGVnb3J5X19jOiBcIlNpdGUgU2VydmljZXNcIixcbiAgICAgICAgcmVxdWVzdF9pZF9fYzogYFBSLSR7c2hvcnQuZ2VuZXJhdGUoKX1gLFxuICAgICAgICByZXF1ZXN0X2Ftb3VudF9fYzogcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlXG4gICAgICAgICAgPyAoNSAvIDEwMCkgKiBwcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWVcbiAgICAgICAgICA6IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uX19jOiBcIjUlIG9mIFNpdGUgU2VydmljZVwiLFxuICAgICAgICBjbGllbnRfaWRfX2M6IGNsaWVudElkLFxuICAgICAgICBzdGF0dXNfX2M6IFwiUGVuZGluZ1wiLFxuICAgICAgICBvcHBvcnR1bml0eV9fYzogb3Bwb3J0dW5pdHlpZCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZGVkUGF5bWVudFJlcXVlc3REYXRhID0gYXdhaXQgcHJpc21hLmRjX3BheW1lbnRyZXF1ZXN0cy5jcmVhdGVNYW55KHtcbiAgICAgIGRhdGE6IHBheW1lbnRSZXF1ZXN0QXJyLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYWRkZWRQYXltZW50UmVxdWVzdERhdGFTRiA9XG4gICAgICBhd2FpdCBwcmlzbWEucmVxdWVzdF9wYXltZW50X19jLmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBwYXltZW50UmVxdWVzdEFyckZvclNGLFxuICAgICAgfSk7XG5cbiAgICBpZiAoYWRkZWRQYXltZW50UmVxdWVzdERhdGEgJiYgYWRkZWRQYXltZW50UmVxdWVzdERhdGFTRikge1xuICAgICAgYXdhaXQgY2FsbFBheW1lbnRSZXF1ZXN0Tm90aWZpY2F0aW9uKGNsaWVudElkKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgUmVxdWVzdCBTdWNjZXNzZnVsbHkgQWRkZWRcIixcbiAgICAgICAgZGF0YTogcGF5bWVudFJlcXVlc3RBcnIsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IGFkZGVkUGF5bWVudFJlcXVlc3REYXRhXG4gICAgICAgICAgPyBcIlBheW1lbnQgUmVxdWVzdCBOb3QgQWRkZWQgb24gU0ZcIlxuICAgICAgICAgIDogXCJQYXltZW50IFJlcXVlc3QgTm90IEFkZGVkXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XG4gICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBlLm1lc3NhZ2UsIGRhdGE6IG51bGwgfTtcbiAgfVxufTtcblxuY29uc3QgYWRkTU9NID0gYXN5bmMgKG1pbGVzdG9uZXMsIHByb2plY3RJZCkgPT4ge1xuICBjb25zdCBtb21MYWJlbExpc3QgPSBbXTtcbiAgbWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl1bXCJtaWxlc3RvbmVfZGV0YWlsc1wiXS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW1bXCJtaWxlc3RvbmVfY2hlY2tsaXN0XCJdLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG1vbU1pbGVzdG9uZU9iaiA9IGl0ZW0ubWlsZXN0b25lX2NoZWNrbGlzdC5maWx0ZXIoKGNoZWNrbGlzdCkgPT5cbiAgICAgICAgY2hlY2tsaXN0LmNoZWNrbGlzdF9zdHJpbmcuaW5jbHVkZXMoXCJNT01cIilcbiAgICAgICk7XG4gICAgICBpZiAobW9tTWlsZXN0b25lT2JqLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbW9tTGFiZWxMaXN0LnB1c2gobW9tTWlsZXN0b25lT2JqWzBdLmNoZWNrbGlzdF9zdHJpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG1vbUxhYmVsTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbW9tUGF5bG9hZEFyciA9IFtdO1xuXG4gICAgbW9tTGFiZWxMaXN0LmZvckVhY2goKG1vbUxhYmVsKSA9PiB7XG4gICAgICBtb21QYXlsb2FkQXJyLnB1c2goe1xuICAgICAgICBwcm9qZWN0aWQ6IHByb2plY3RJZCxcbiAgICAgICAgbWVldGluZ25hbWU6IG1vbUxhYmVsLFxuICAgICAgICBtZWV0aW5nYWdlbmRhOiBtb21MYWJlbCxcbiAgICAgICAgc3RhdHVzOiBcIkRyYWZ0XCIsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0X21vbS5jcmVhdGVNYW55KHtcbiAgICAgIGRhdGE6IG1vbVBheWxvYWRBcnIsXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBBc3NpZ25TdXJ2ZXlFbWFpbGkgPSBhc3luYyAoc21hcnRzaGVldGlkLCBzdXJ2ZXlleGVjdXRpdmVpZCkgPT4ge1xuICBpZiAoc3VydmV5ZXhlY3V0aXZlaWQpIHtcbiAgICBjb25zdCBzdXJ2ZXkgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyB1c2VyaWQ6IHN1cnZleWV4ZWN1dGl2ZWlkIH0sXG4gICAgfSk7XG4gICAgaWYgKHN1cnZleSkge1xuICAgICAgY29uc3QgdXBkYXRlU3VydmV5UGF5bG9hZCA9IHtcbiAgICAgICAgc21hcnRTaGVldElkOiBzbWFydHNoZWV0aWQsXG4gICAgICAgIHN1cnZleUV4ZWN1dGl2ZUVtYWlsOiBzdXJ2ZXkuZGVzaWduY2FmZWVtYWlsLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHVwZGF0ZVN1cnZleShudWxsLCB1cGRhdGVTdXJ2ZXlQYXlsb2FkLCBudWxsKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBBc3NpZ25EZXNpZ25lckVtYWlsaSA9IGFzeW5jIChzbWFydHNoZWV0aWQsIGRlc2lnbmVyaWQpID0+IHtcbiAgaWYgKGRlc2lnbmVyaWQpIHtcbiAgICBjb25zdCBkZXNpZ25lciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IHVzZXJpZDogZGVzaWduZXJpZCB9LFxuICAgIH0pO1xuICAgIGlmIChkZXNpZ25lcikge1xuICAgICAgY29uc3QgdXBkYXRlRGVzaWduZXJQYXlsb2FkID0ge1xuICAgICAgICBzbWFydFNoZWV0SWQ6IHNtYXJ0c2hlZXRpZCxcbiAgICAgICAgZGVzaWduZXJFbWFpbDogZGVzaWduZXIuZGVzaWduY2FmZWVtYWlsLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHVwZGF0ZURlc2lnbmVyRW1haWwobnVsbCwgdXBkYXRlRGVzaWduZXJQYXlsb2FkLCBudWxsKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBnZXRTdXJ2ZXlFeGVjdXRpdmVJZCA9IGFzeW5jIChleHBlcmllbmNlY2VudGVyaWQpID0+IHtcbiAgLy8gZ2V0IHVzZXJzIHdpdGggcHJvZmlsZSBzdXJ2ZXkgZXhlY3V0aXZlXG4gIGNvbnN0IGZldGNoZWRTdXJ2ZXlFeGVjdXRpdmVzID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgcHJvZmlsZWlkOiAxNSxcbiAgICB9LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIHVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzOiB7XG4gICAgICAgIGluY2x1ZGU6IHsgY2VudGVyOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBzdXJ2ZXlFeGVjdXRpdmVzID0gW107XG4gIGlmIChmZXRjaGVkU3VydmV5RXhlY3V0aXZlcy5sZW5ndGggPiAwKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBmZXRjaGVkU3VydmV5RXhlY3V0aXZlcy5tYXAoKHN1cnZleUV4ZWN1dGl2ZSkgPT4ge1xuICAgICAgICBzdXJ2ZXlFeGVjdXRpdmUudXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMubWFwKChleGMpID0+IHtcbiAgICAgICAgICBpZiAoZXhjLmNlbnRlcmlkID09PSBleHBlcmllbmNlY2VudGVyaWQpIHtcbiAgICAgICAgICAgIHN1cnZleUV4ZWN1dGl2ZXMucHVzaChzdXJ2ZXlFeGVjdXRpdmUudXNlcmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGxldCBzdXJ2ZXlFeGVjdXRpdmVJZDtcbiAgaWYgKHN1cnZleUV4ZWN1dGl2ZXMubGVuZ3RoKSB7XG4gICAgaWYgKHN1cnZleUV4ZWN1dGl2ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICBzdXJ2ZXlFeGVjdXRpdmVJZCA9IHN1cnZleUV4ZWN1dGl2ZXNbMF07XG4gICAgfSBlbHNlIGlmIChzdXJ2ZXlFeGVjdXRpdmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHJvdW5kUm9iaW5EYXRhID0gYXdhaXQgcHJpc21hLmRjX3N1cnZleXJvdW5kcm9iaW4uZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBleHBlcmllbmNlY2VudGVyaWQ6IGV4cGVyaWVuY2VjZW50ZXJpZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgc3VydmV5RXhlY3V0aXZlSWQgPSBhd2FpdCByb3VuZFJvYmluTG9naWMoXG4gICAgICAgIHJvdW5kUm9iaW5EYXRhLFxuICAgICAgICBzdXJ2ZXlFeGVjdXRpdmVzLFxuICAgICAgICBleHBlcmllbmNlY2VudGVyaWRcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdXJ2ZXlFeGVjdXRpdmVJZDtcbn07XG5jb25zdCByb3VuZFJvYmluTG9naWMgPSBhc3luYyAoXG4gIHJvdW5kUm9iaW5EYXRhLFxuICBzdXJ2ZXlFeGVjdXRpdmVzLFxuICBleHBlcmllbmNlQ2VudGVySWRcbikgPT4ge1xuICBsZXQgc3VydmV5RXhlY3V0aXZlVG9CZUFzc2lnbmVkVG9Qcm9qZWN0O1xuICBpZiAocm91bmRSb2JpbkRhdGEpIHtcbiAgICBjb25zdCBsYXRlc3RTdXJ2ZXlFeGVjdXRpdmVJZCA9IHJvdW5kUm9iaW5EYXRhLnN1cnZleWV4ZWN1dGl2ZWlkO1xuICAgIGNvbnN0IGluZGV4T2ZUaGVTdXJ2ZXlFeGVjdXRpdmVBc3NpZ25lZFRvUHJvamVjdCA9XG4gICAgICBzdXJ2ZXlFeGVjdXRpdmVzLmZpbmRJbmRleChcbiAgICAgICAgKHN1cnZleUV4ZWN1dGl2ZSkgPT4gc3VydmV5RXhlY3V0aXZlID09PSBsYXRlc3RTdXJ2ZXlFeGVjdXRpdmVJZFxuICAgICAgKTtcbiAgICBpZiAoXG4gICAgICBzdXJ2ZXlFeGVjdXRpdmVzLmxlbmd0aCA9PT1cbiAgICAgIGluZGV4T2ZUaGVTdXJ2ZXlFeGVjdXRpdmVBc3NpZ25lZFRvUHJvamVjdCArIDFcbiAgICApIHtcbiAgICAgIHN1cnZleUV4ZWN1dGl2ZVRvQmVBc3NpZ25lZFRvUHJvamVjdCA9IHN1cnZleUV4ZWN1dGl2ZXNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cnZleUV4ZWN1dGl2ZVRvQmVBc3NpZ25lZFRvUHJvamVjdCA9XG4gICAgICAgIHN1cnZleUV4ZWN1dGl2ZXNbaW5kZXhPZlRoZVN1cnZleUV4ZWN1dGl2ZUFzc2lnbmVkVG9Qcm9qZWN0ICsgMV07XG4gICAgfVxuICAgIGF3YWl0IHByaXNtYS5kY19zdXJ2ZXlyb3VuZHJvYmluLnVwZGF0ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICByb3VuZHJvYmluaWQ6IHJvdW5kUm9iaW5EYXRhLnJvdW5kcm9iaW5pZCxcbiAgICAgIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN1cnZleWV4ZWN1dGl2ZWlkOiBzdXJ2ZXlFeGVjdXRpdmVUb0JlQXNzaWduZWRUb1Byb2plY3QsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIC8vRXhwZXJpZW5jZSBjZW50ZXIgaXMgbmV3IGFuZCBuZWVkcyB0byBiZSBhZGRlZCBpbiB0aGUgdGFibGVcbiAgICBhd2FpdCBwcmlzbWEuZGNfc3VydmV5cm91bmRyb2Jpbi5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBleHBlcmllbmNlY2VudGVyaWQ6IGV4cGVyaWVuY2VDZW50ZXJJZCxcbiAgICAgICAgc3VydmV5ZXhlY3V0aXZlaWQ6IHN1cnZleUV4ZWN1dGl2ZXNbMF0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHN1cnZleUV4ZWN1dGl2ZVRvQmVBc3NpZ25lZFRvUHJvamVjdCA9IHN1cnZleUV4ZWN1dGl2ZXNbMF07XG4gIH1cbiAgcmV0dXJuIHN1cnZleUV4ZWN1dGl2ZVRvQmVBc3NpZ25lZFRvUHJvamVjdDtcbn07XG5jb25zdCBjYWxsUGF5bWVudFJlcXVlc3ROb3RpZmljYXRpb24gPSBhc3luYyAoY2xpZW50SWQ6IHN0cmluZywpID0+IHtcbiAgY29uc3QgZmV0Y2hQcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IHByb2plY3RpZDogY2xpZW50SWQgfSB9KVxuICBjb25zdCBjY0xpc3QgPSBbXTtcbiAgaWYgKGZldGNoUHJvamVjdCkge1xuXG4gICAgaWYgKGZldGNoUHJvamVjdC5kZXNpZ25lcmlkKSB7XG4gICAgICBjb25zdCBkZXNpZ25lciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kRmlyc3QoeyB3aGVyZTogeyB1c2VyaWQ6IGZldGNoUHJvamVjdC5kZXNpZ25lcmlkIH0gfSk7XG4gICAgICBpZiAoZGVzaWduZXIgJiYgZGVzaWduZXIuZGVzaWduY2FmZWVtYWlsKSB7XG4gICAgICAgIGNjTGlzdC5wdXNoKGRlc2lnbmVyLmRlc2lnbmNhZmVlbWFpbClcbiAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNjTGlzdC5wdXNoKFwibG9yZW56b0BkZXNpZ25jYWZlLmNvbVwiKVxuICAgIH1cbiAgICBjY0xpc3QucHVzaChcImRkYWRtaW5AZGVzaWduY2FmZS5jb21cIilcblxuXG4gICAgaWYgKGZldGNoUHJvamVjdC5jaG1pZCkge1xuICAgICAgY29uc3QgY2htRXhlY3V0aXZlID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7IHdoZXJlOiB7IHVzZXJpZDogZmV0Y2hQcm9qZWN0LmNobWlkIH0gfSk7XG4gICAgICBpZiAoY2htRXhlY3V0aXZlICYmIGNobUV4ZWN1dGl2ZS5kZXNpZ25jYWZlZW1haWwpIHtcbiAgICAgICAgY2NMaXN0LnB1c2goY2htRXhlY3V0aXZlLmRlc2lnbmNhZmVlbWFpbClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3QoeyB3aGVyZTogeyBjdXN0b21lcmlkOiBmZXRjaFByb2plY3QuY3VzdG9tZXJpZCB9IH0pXG5cbiAgICBjb25zdCBlbWFpbFRlbXBsYXRlU3RyaW5nID0gIEVtYWlsVGVtcGxhdGUucGF5bWVudFJlcXVlc3RUZW1wbGF0ZShjdXN0b21lcixjbGllbnRJZClcblxuICAgIGNvbnN0IHN1YmplY3QgPSBgUGF5bWVudCBSZXF1ZXN0ZWQgZm9yIHlvdXIgUHJvamVjdCAke2NsaWVudElkfWBcblxuICAgIGF3YWl0IHRyaWdnZXJFbWFpbE5vdGlmaWNhdGlvbihcbiAgICAgIGN1c3RvbWVyLmN1c3RvbWVyZW1haWwsXG4gICAgICBzdWJqZWN0LFxuICAgICAgZW1haWxUZW1wbGF0ZVN0cmluZyxcbiAgICAgIGNjTGlzdFxuICAgICk7XG59XG5jb25zdCBnZXRDdXN0b21lck5hbWUgPSAoZmV0Y2hlZEN1c3RvbWVyRGF0YSkgPT4ge1xuICBjb25zdCBmaXJzdG5hbWUgPSBmZXRjaGVkQ3VzdG9tZXJEYXRhLmZpcnN0bmFtZSA/IGZldGNoZWRDdXN0b21lckRhdGEuZmlyc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gIGNvbnN0IGxhc3RuYW1lID0gZmV0Y2hlZEN1c3RvbWVyRGF0YS5sYXN0bmFtZSA/IGZldGNoZWRDdXN0b21lckRhdGEubGFzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgcmV0dXJuIGAke2ZpcnN0bmFtZSA/IGZpcnN0bmFtZSArIFwiIFwiIDogXCJcIn0ke2xhc3RuYW1lfWA7XG59XG5cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcblxuZXhwb3J0IGNvbnN0IGNvbXBsZXRlQ2hlY2tsaXN0QXBpID0gYXN5bmMgKF9yb290LCBfYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9qZWN0RGF0YTogYW55ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBpZDogX2FyZ3MucHJvamVjdElkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFwcm9qZWN0RGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiUHJvamVjdCBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsYXJiYXNlYW1vdW50ID0gcHJvamVjdERhdGEubW9kdWxhcmJhc2VhbW91bnQ7XG4gICAgY29uc3QgbW9kdWxhcmRpc2NvdW50ID0gcHJvamVjdERhdGEubW9kdWxhcmRpc2NvdW50O1xuICAgIGNvbnN0IG1vZHVsYXJkaXNjb3VudGNvc3QgPSAobW9kdWxhcmJhc2VhbW91bnQgKiBtb2R1bGFyZGlzY291bnQpIC8gMTAwO1xuICAgIGNvbnN0IG1vZHVsYXJnc3QgPSAobW9kdWxhcmJhc2VhbW91bnQgKiAxOCkgLyAxMDA7XG4gICAgY29uc3QgbW9kdWxhckJhc2VBbW91bnQgPVxuICAgICAgbW9kdWxhcmJhc2VhbW91bnQgKyBtb2R1bGFyZ3N0IC0gbW9kdWxhcmRpc2NvdW50Y29zdDtcbiAgICBjb25zb2xlLmxvZyhtb2R1bGFyQmFzZUFtb3VudCk7XG4gICAgY29uc3QgbW9kdWxhckFtb3VudGZvcjVQZXJjZW50YWdlID0gTWF0aC5yb3VuZChtb2R1bGFyQmFzZUFtb3VudCAqIDUpIC8gMTAwO1xuICAgIGNvbnN0IG1vZHVsYXJBbW91bnRmb3IxNVBlcmNlbnRhZ2UgPVxuICAgICAgTWF0aC5yb3VuZChtb2R1bGFyQmFzZUFtb3VudCAqIDIwKSAvIDEwMDtcbiAgICBjb25zdCBtb2R1bGFyQW1vdW50Zm9yMzVQZXJjZW50YWdlID1cbiAgICAgIE1hdGgucm91bmQobW9kdWxhckJhc2VBbW91bnQgKiA1NSkgLyAxMDA7XG4gICAgY29uc3QgbW9kdWxhckFtb3VudGZvcjQ1UGVyY2VudGFnZSA9IE1hdGgucm91bmQobW9kdWxhckJhc2VBbW91bnQpO1xuXG4gICAgY29uc3QgTW9kdWFsYXJNaWxlc3RvbmVzID0gW1xuICAgICAgbW9kdWxhckFtb3VudGZvcjVQZXJjZW50YWdlLFxuICAgICAgbW9kdWxhckFtb3VudGZvcjE1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJBbW91bnRmb3IzNVBlcmNlbnRhZ2UsXG4gICAgICBtb2R1bGFyQW1vdW50Zm9yNDVQZXJjZW50YWdlLFxuICAgIF07XG4gICAgY29uc3QgbGFiZWxOYW1lID0gYXdhaXQgR2V0TGFiZWxOYW1lKHByb2plY3REYXRhLCBNb2R1YWxhck1pbGVzdG9uZXMpO1xuICAgIGNvbnNvbGUubG9nKGxhYmVsTmFtZSk7XG4gICAgY29uc3QgbWlsZXN0b25lRGF0YSA9XG4gICAgICBwcm9qZWN0RGF0YT8ubWlsZXN0b25lcz8uYXR0cmlidXRlcz8ubWlsZXN0b25lX2RldGFpbHM7XG4gICAgbWlsZXN0b25lRGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQubWlsZXN0b25lX2NoZWNrbGlzdCAmJlxuICAgICAgICBlbGVtZW50Lm1pbGVzdG9uZV9jaGVja2xpc3QubGVuZ3RoICE9PSAwICYmXG4gICAgICAgIGVsZW1lbnQ/LmxhYmVsID09PSBsYWJlbE5hbWVcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBlbGVtZW50Py5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgICAgICAgdmFsLmlzX3BheW1lbnRfbWlsZXN0b25lX2NoZWNrbGlzdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgdmFsLnJlcXVpcmVkID09PSB0cnVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YWwuaXNfY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9qZWN0RGF0YS5taWxlc3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMgPSBtaWxlc3RvbmVEYXRhO1xuICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IF9hcmdzLnByb2plY3RJZCB9LFxuICAgICAgZGF0YTogeyBtaWxlc3RvbmVzOiBwcm9qZWN0RGF0YS5taWxlc3RvbmVzIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiQ2hlY2tsaXN0IG1hcmtlZCBjb21wbGV0ZSBzdWNjZXNzZnVsbHkuXCIsXG4gICAgICBtaWxlc3RvbmVuYW1lOiBsYWJlbE5hbWUsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG59O1xuXG5jb25zdCBHZXRMYWJlbE5hbWUgPSBhc3luYyAocHJvamVjdERhdGEsIE1vZHVhbGFyTWlsZXN0b25lcykgPT4ge1xuICBjb25zdCBtaWxlc3RvbmUgPSBwcm9qZWN0RGF0YS5taWxlc3RvbmVzO1xuICBjb25zdCBtb2R1bGFybmFtZWZvcjVQZXJjZW50YWdlID1cbiAgICBtaWxlc3RvbmUuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlsc1swXS5sYWJlbDtcbiAgY29uc3QgbW9kdWxhcm5hbWVmb3IxNVBlcmNlbnRhZ2UgPVxuICAgIG1pbGVzdG9uZS5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzWzRdLmxhYmVsO1xuICBjb25zdCBtb2R1bGFybmFtZWZvcjM1UGVyY2VudGFnZSA9XG4gICAgbWlsZXN0b25lLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHNbOV0ubGFiZWw7XG4gIGNvbnN0IG1vZHVsYXJuYW1lZm9yNDVQZXJjZW50YWdlID1cbiAgICBtaWxlc3RvbmUuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlsc1sxMl0ubGFiZWw7XG4gIGNvbnNvbGUubG9nKE1vZHVhbGFyTWlsZXN0b25lcyk7XG4gIGNvbnN0IG1vZHVsYXJDb2xsZWN0ZWRBbW91bnQgPSBwcm9qZWN0RGF0YS5tb2R1bGFyX2NvbGxlY3RlZF9hbW91bnQ7XG4gIGNvbnN0IGRpZmZlcmVuY2VBbW91bnQgPSAxMDA7XG4gIGNvbnN0IG1pbGVzdG9uZUVxdWFsQW1vdW50ID0gbW9kdWxhckNvbGxlY3RlZEFtb3VudCArIGRpZmZlcmVuY2VBbW91bnQ7XG4gIGNvbnNvbGUubG9nKG1pbGVzdG9uZUVxdWFsQW1vdW50KTtcbiAgY29uc3QgbW9kdWxhckFtb3VudCA9IE1vZHVhbGFyTWlsZXN0b25lcy5pbmRleE9mKG1vZHVsYXJDb2xsZWN0ZWRBbW91bnQpO1xuICBsZXQgbGFiZWxOYW1lO1xuICBjb25zb2xlLmxvZyhtb2R1bGFyQW1vdW50KTtcbiAgaWYgKG1vZHVsYXJBbW91bnQgPj0gMCkge1xuICAgIGNvbnNvbGUubG9nKFwiMVwiKTtcbiAgICBpZiAobW9kdWxhckFtb3VudCA9PT0gMCkge1xuICAgICAgbGFiZWxOYW1lID0gbW9kdWxhcm5hbWVmb3I1UGVyY2VudGFnZTtcbiAgICB9IGVsc2UgaWYgKG1vZHVsYXJBbW91bnQgPT09IDEpIHtcbiAgICAgIGxhYmVsTmFtZSA9IG1vZHVsYXJuYW1lZm9yMTVQZXJjZW50YWdlO1xuICAgIH0gZWxzZSBpZiAobW9kdWxhckFtb3VudCA9PT0gMikge1xuICAgICAgbGFiZWxOYW1lID0gbW9kdWxhcm5hbWVmb3IzNVBlcmNlbnRhZ2U7XG4gICAgfSBlbHNlIGlmIChtb2R1bGFyQW1vdW50ID09PSAzKSB7XG4gICAgICBsYWJlbE5hbWUgPSBtb2R1bGFybmFtZWZvcjQ1UGVyY2VudGFnZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29tcGFyZU1pbHN0b25lID0gTW9kdWFsYXJNaWxlc3RvbmVzLmluZGV4T2YobWlsZXN0b25lRXF1YWxBbW91bnQpO1xuICAgIGNvbnNvbGUubG9nKGNvbXBhcmVNaWxzdG9uZSk7XG4gICAgY29uc29sZS5sb2coXCIyXCIpO1xuICAgIGlmIChjb21wYXJlTWlsc3RvbmUgPT09IDApIHtcbiAgICAgIGxhYmVsTmFtZSA9IG1vZHVsYXJuYW1lZm9yNVBlcmNlbnRhZ2U7XG4gICAgfSBlbHNlIGlmIChjb21wYXJlTWlsc3RvbmUgPT09IDEpIHtcbiAgICAgIGxhYmVsTmFtZSA9IG1vZHVsYXJuYW1lZm9yMTVQZXJjZW50YWdlO1xuICAgIH0gZWxzZSBpZiAoY29tcGFyZU1pbHN0b25lID09PSAyKSB7XG4gICAgICBsYWJlbE5hbWUgPSBtb2R1bGFybmFtZWZvcjM1UGVyY2VudGFnZTtcbiAgICB9IGVsc2UgaWYgKGNvbXBhcmVNaWxzdG9uZSA9PT0gMykge1xuICAgICAgbGFiZWxOYW1lID0gbW9kdWxhcm5hbWVmb3I0NVBlcmNlbnRhZ2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBsYWJlbE5hbWU7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgY2hlY2tBbmRNYXJrTWlsZXN0b25lc09uU21hcnRzaGVldCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9jb21tb25VdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgY29tcGxldGVNaWxlc3RvbmVDaGVja2xpc3QgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0UmVzcG9uc2VPYmogPSB7Y29kZToyMDAsIG1lc3NhZ2U6bnVsbCwgZGF0YTpudWxsfVxuICAgIGNvbnN0IHsgcHJvamVjdElkLCBjaGVja0xpc3ROYW1lIH0gPSBhcmdzO1xuICAgIGxldCBzZWxlY3RlZE1pbGVzdG9uZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmV0Y2hlZFByb2plY3QgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgaWQ6IHByb2plY3RJZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZihmZXRjaGVkUHJvamVjdCl7XG4gICAgICAgICAgZmV0Y2hlZFByb2plY3Q/Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdPy5taWxlc3RvbmVfZGV0YWlscz8uZm9yRWFjaChcbiAgICAgICAgICAgICAgKG1pbGVzdG9uZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtaWxlc3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBtaWxlc3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdC5mb3JFYWNoKGFzeW5jKG1pbGVzdG9uZUNoZWNrbGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWlsZXN0b25lQ2hlY2tsaXN0LmNoZWNrbGlzdF9zdHJpbmcgPT09IGNoZWNrTGlzdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LmlzX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1pbGVzdG9uZSA9IG1pbGVzdG9uZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICAgICAgICBpZDpwcm9qZWN0SWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGE6e1xuICAgICAgICAgICAgICAgICAgbWlsZXN0b25lczpmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuXG4gICAgICAgIGF3YWl0IGNoZWNrQW5kTWFya01pbGVzdG9uZXNPblNtYXJ0c2hlZXQocHJvamVjdElkLHNlbGVjdGVkTWlsZXN0b25lKTtcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmNvZGUgPSAyMDA7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gXCJNaWxlc3RvbmUgVXBkYXRlZFwiO1xuICAgIH1cbn0gY2F0Y2ggKGUpIHtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDQwMDtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCB7XG4gICAgRmlsZUNoZWNrTGlzdE5hbWUsXG59IGZyb20gXCIuLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL0ZpbGVDaGVja0xpc3RFbnVtc1wiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuXG5leHBvcnQgY29uc3Qgc2hhcmVGaWxlV2l0aEN1c3RvbWVyID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIHByb2plY3RpZCxcbiAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgIHNoYXJld2l0aGN1c3RvbWVyLFxuICAgIH0gPSBhcmdzO1xuICAgIGxldCBzaGFyZUZpbGVXaXRoQ3VzdG9tZXJSZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIik7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RpZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJQcm9qZWN0IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmlsZXNjaGVja2xpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgbWlsZXN0b25lcyA9IHByb2plY3QubWlsZXN0b25lcztcbiAgICAgICAgZmlsZXNjaGVja2xpc3QgPSBtaWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5maWxlc19jaGVja2xpc3Q7XG5cbiAgICAgICAgZmlsZXNjaGVja2xpc3QuZm9yRWFjaChhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbGUubGVuZ3RoICE9PSAwICYmIGZpbGVbXCJjaGVja2xpc3Rfc3RyaW5nXCJdID09PSBmaWxlbmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDQ1NiwgRmlsZUNoZWNrTGlzdE5hbWUpXG4gICAgICAgICAgICAgICAgaWYgKGZpbGVuYW1lID09PSBGaWxlQ2hlY2tMaXN0TmFtZS5TVVJWRVlfRFJBV0lOR1MgfHwgZmlsZW5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLlNJVEVfSU1BR0VTKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGUuc2hhcmVfd2l0aF9jdXN0b21lciA9IHNoYXJld2l0aGN1c3RvbWVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnNoYXJlX3dpdGhfY3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcyA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkZpbGUgc3VjY2Vzc2Z1bGx5IHNoYXJlZCB3aXRoIGN1c3RvbWVyXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcyA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkZpbGUgc2hhcmVkIHdpdGggY3VzdG9tZXIgaGF2ZSBiZWVuIHJldm9rZWRcIiB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlsZS5zaGFyZV93aXRoX2N1c3RvbWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcyA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIlNvcnJ5IGNhbm5vdCB1bnNoYXJlIHRoaXMgZmlsZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5zaGFyZV93aXRoX2N1c3RvbWVyID0gc2hhcmV3aXRoY3VzdG9tZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcyA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkZpbGUgc3VjY2Vzc2Z1bGx5IHNoYXJlZCB3aXRoIGN1c3RvbWVyXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IHsgbWlsZXN0b25lczogbWlsZXN0b25lcyB9LFxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RpZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcztcblxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgc2hhcmVGaWxlV2l0aEN1c3RvbWVyUmVzID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiU29ycnkgY2Fubm90IHVuc2hhcmUgdGhpcyBmaWxlXCIgfTtcbiAgICAgICAgcmV0dXJuIHNoYXJlRmlsZVdpdGhDdXN0b21lclJlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQge1xuICBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0LFxuICBkZWZhdWx0UmVzcG9uc2VPYmosXG4gIGNhbGxFeHRlcm5hbEFQSVdpdGhQb3N0LFxuICBxdWVyeUZvckZldGNoaW5nUmVtaW5kZXJzVGVtcGxhdGUsXG59IGZyb20gXCIuLi8uLi8uLi91dGlscy9jb21tb25VdGlsc1wiO1xuaW1wb3J0IHsgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUZvcm1GaWxsTWlsZXN0b25lcyA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgY29uc3QgeyBwcm9qZWN0SWQsIGZvcm1GaWxsTmFtZSwgZm9ybUZpbGxEYXRhIH0gPSBhcmdzO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgZmV0Y2hlZFByb2plY3QgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogcHJvamVjdElkLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGxldCBzZWxlY3RlZE1pbGVzdG9uZTtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSAwO1xuICAgICAgaSA8IGZldGNoZWRQcm9qZWN0Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzLmxlbmd0aDtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgY29uc29sZS5sb2coMjYpO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICBqIDxcbiAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbaV1cbiAgICAgICAgICAubWlsZXN0b25lX2NoZWNrbGlzdC5sZW5ndGg7XG4gICAgICAgIGorK1xuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5taWxlc3RvbmVfZGV0YWlsc1tpXVxuICAgICAgICAgICAgLm1pbGVzdG9uZV9jaGVja2xpc3Rbal0uY2hlY2tsaXN0X3N0cmluZyA9PT0gZm9ybUZpbGxOYW1lXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChmb3JtRmlsbE5hbWUgPT09IFwiU2VuZCBQcm9qZWN0IHRvIFByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbXG4gICAgICAgICAgICAgIGlcbiAgICAgICAgICAgIF0ubWlsZXN0b25lX2NoZWNrbGlzdFtqXS5hcHByb3ZhbHN0YXR1cyA9IFwiUGVuZGluZ1wiO1xuICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbXG4gICAgICAgICAgICAgIGlcbiAgICAgICAgICAgIF0ubWlsZXN0b25lX2NoZWNrbGlzdFtqXS5pc19jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgIHByb2plY3RtYW5hZ2VybmFtZTogZm9ybUZpbGxEYXRhLnBtTmFtZSxcbiAgICAgICAgICAgICAgZXhwZWN0ZWRoYW5kb3ZlcmRhdGU6IGZvcm1GaWxsRGF0YS5wcm9qZWN0SGFuZE92ZXJEYXRlLFxuICAgICAgICAgICAgICBzaXRlYWRkcmVzczogZm9ybUZpbGxEYXRhLnNpdGVBZGRyZXNzLFxuICAgICAgICAgICAgICBpc2ltb3Nwcm9qZWN0OiBmb3JtRmlsbERhdGEuaXNQcm9qZWN0SU1PUyxcbiAgICAgICAgICAgICAgdmFsdWViZWZvcmVkaXNjb3VudDogZm9ybUZpbGxEYXRhLnZhbHVlQmVmb3JlRGlzY291bnQsXG4gICAgICAgICAgICAgIGZsb29yYXJlYTogZm9ybUZpbGxEYXRhLmZsb29yQXJlYSxcbiAgICAgICAgICAgICAgaW1vc3Jvb21zOiBmb3JtRmlsbERhdGEuaW1vc1Jvb21zXG4gICAgICAgICAgICAgICAgPyBbLi4uZm9ybUZpbGxEYXRhLmltb3NSb29tc11cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxlY3RlZE1pbGVzdG9uZSA9XG4gICAgICAgICAgICAgIGZldGNoZWRQcm9qZWN0Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjYWxsRW1haWxOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgIGZvcm1GaWxsTmFtZSxcbiAgICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QsXG4gICAgICAgICAgICAgIGZvcm1GaWxsRGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXNzYWdlID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICBhd2FpdCBjb21wbGV0TWlsZXN0b25lRm9yUHJvZHVjdGlvblJlcXVlc3RPcktpY2tvZmYoXG4gICAgICAgICAgICAgICAgcHJvamVjdElkLFxuICAgICAgICAgICAgICAgIGRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1GaWxsTmFtZSA9PT0gXCJSZXF1ZXN0IFNpdGUgVmFsaWRhdGlvblwiKSB7XG4gICAgICAgICAgICBmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5taWxlc3RvbmVfZGV0YWlsc1tcbiAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgXS5taWxlc3RvbmVfY2hlY2tsaXN0W2pdLmlzX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbXG4gICAgICAgICAgICAgIGlcbiAgICAgICAgICAgIF0ubWlsZXN0b25lX2NoZWNrbGlzdFtqXS5kYXRhID0ge1xuICAgICAgICAgICAgICBkYXRlVGltZU9mVmlzaXQ6IGZvcm1GaWxsRGF0YS5kYXRlVGltZU9mVmlzaXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgaGFzbGlmdDogZm9ybUZpbGxEYXRhLmhhc0xpZnQsXG4gICAgICAgICAgICAgIGhhc2ZhbHNlY2VpbGluZzogZm9ybUZpbGxEYXRhLmhhc0ZhbHNlQ2VpbGluZyxcbiAgICAgICAgICAgICAgc2NvcGVmb3JlbGVjdHJpY2Fsd29yazogZm9ybUZpbGxEYXRhLnNjb3BlRm9yRWxlY3RyaWNhbFdvcmssXG4gICAgICAgICAgICAgIHByb2plY3R0eXBlOiBmb3JtRmlsbERhdGEucHJvamVjdFR5cGUsXG4gICAgICAgICAgICAgIGlzaW1vc3Byb2plY3Q6IGZvcm1GaWxsRGF0YS5pc1Byb2plY3RJTU9TLFxuICAgICAgICAgICAgICB0ZW50YXRpdmVwcm9qZWN0ZHVyYXRpb25hZnRlcnNpZ25vZmY6XG4gICAgICAgICAgICAgICAgZm9ybUZpbGxEYXRhLnRlbnRhdGl2ZVByb2plY3REdXJhdGlvbkFmdGVyU2lnbk9mZixcbiAgICAgICAgICAgICAgc2NvcGVvZndvcms6IGZvcm1GaWxsRGF0YS5zY29wZU9mV29yayxcbiAgICAgICAgICAgICAgc3BlY2lhbGZpbmlzaGVzOiBmb3JtRmlsbERhdGEuc3BlY2lhbEZpbmlzaGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lID1cbiAgICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbaV07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxFbWFpbE5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgZm9ybUZpbGxOYW1lLFxuICAgICAgICAgICAgICBmZXRjaGVkUHJvamVjdCxcbiAgICAgICAgICAgICAgZm9ybUZpbGxEYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGNvbXBsZXRNaWxlc3RvbmVGb3JQcm9kdWN0aW9uUmVxdWVzdE9yS2lja29mZihcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQsXG4gICAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybUZpbGxOYW1lID09PSBcIlJlcXVlc3QgUUMgQ2hlY2tcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coNjg2OCk7XG4gICAgICAgICAgICBzZWxlY3RlZE1pbGVzdG9uZSA9XG4gICAgICAgICAgICAgIGZldGNoZWRQcm9qZWN0Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzW2ldO1xuICAgICAgICAgICAgY29uc29sZS5sb2coNjksIHNlbGVjdGVkTWlsZXN0b25lKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2FsbEVtYWlsTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICBmb3JtRmlsbE5hbWUsXG4gICAgICAgICAgICAgIGZldGNoZWRQcm9qZWN0LFxuICAgICAgICAgICAgICBmb3JtRmlsbERhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyg3NCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKDc2KTtcbiAgICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbXG4gICAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgICBdLm1pbGVzdG9uZV9jaGVja2xpc3Rbal0uaXNfY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyg4MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChmb3JtRmlsbE5hbWUgPT09IFwiUmVxdWVzdCBDdXN0b21lciBTaWdub2ZmXCIpIHtcbiAgICAgICAgICAgIGZldGNoZWRQcm9qZWN0Lm1pbGVzdG9uZXNbXCJhdHRyaWJ1dGVzXCJdLm1pbGVzdG9uZV9kZXRhaWxzW1xuICAgICAgICAgICAgICBpXG4gICAgICAgICAgICBdLm1pbGVzdG9uZV9jaGVja2xpc3Rbal0uaXNfY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5taWxlc3RvbmVfZGV0YWlsc1tcbiAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgXS5taWxlc3RvbmVfY2hlY2tsaXN0W2pdLmRhdGEgPSB7XG4gICAgICAgICAgICAgIGlzUmVxdWVzdGVkOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lID1cbiAgICAgICAgICAgICAgZmV0Y2hlZFByb2plY3QubWlsZXN0b25lc1tcImF0dHJpYnV0ZXNcIl0ubWlsZXN0b25lX2RldGFpbHNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IGNoZWNrQW5kTWFya01pbGVzdG9uZXNPblNtYXJ0c2hlZXQocHJvamVjdElkLCBzZWxlY3RlZE1pbGVzdG9uZSk7XG5cbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBtaWxlc3RvbmVzOiBmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDIwMDtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZSA9IFwiTWlsZXN0b25lIFVwZGF0ZWRcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gNDAwO1xuICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG59O1xuY29uc3QgY2FsbEVtYWlsTm90aWZpY2F0aW9uID0gYXN5bmMgKFxuICBmb3JtRmlsbE5hbWUsXG4gIGZldGNoZWRQcm9qZWN0LFxuICBmb3JtRmlsbERhdGFcbikgPT4ge1xuICB0cnkge1xuICAgIGxldCByZXNwb25zZTtcbiAgICBjb25zdCBkZXNpZ25lciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IHVzZXJpZDogZmV0Y2hlZFByb2plY3QuZGVzaWduZXJpZCB9LFxuICAgIH0pO1xuICAgIGNvbnN0IGZldGNoZWREZXNpZ25lciA9IGF3YWl0IGdldFVzZXIoZGVzaWduZXIudXNlcmlkKTtcbiAgICBjb25zdCBjdXN0b21lciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGN1c3RvbWVyaWQ6IGZldGNoZWRQcm9qZWN0LmN1c3RvbWVyaWQgfSxcbiAgICB9KTtcbiAgICBjb25zdCBmaWxlc2NoZWNrbGlzdCA9XG4gICAgICBmZXRjaGVkUHJvamVjdC5taWxlc3RvbmVzW1wiYXR0cmlidXRlc1wiXS5maWxlc19jaGVja2xpc3Q7XG4gICAgbGV0IGRlc2lnblByZXNlbnRhdGlvblVSTCxcbiAgICAgIG1vZHVsYXJRdW90YXRpb25VUkwsXG4gICAgICBzaXRlU2VydmljZXNRdW90YXRpb25VUkwsXG4gICAgICBtb2R1bGFyRHJhd2luZ3NVUkwsXG4gICAgICBzaXRlRHJhd2luZ3NVUkwsXG4gICAgICBzaWduT2ZmUFBUVVJMO1xuICAgIGZpbGVzY2hlY2tsaXN0LmZvckVhY2goYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgIHN3aXRjaCAoZmlsZVtcImNoZWNrbGlzdF9zdHJpbmdcIl0pIHtcbiAgICAgICAgY2FzZSBcIkRlc2lnbiBQcmVzZW50YXRpb25cIjpcbiAgICAgICAgICBkZXNpZ25QcmVzZW50YXRpb25VUkwgPSBmaWxlLmZpbGV1cmw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJNb2R1bGFyIFF1b3RhdGlvblwiOlxuICAgICAgICAgIG1vZHVsYXJRdW90YXRpb25VUkwgPSBmaWxlLmZpbGV1cmw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJTaXRlIFNlcnZpY2VzIFF1b3RhdGlvblwiOlxuICAgICAgICAgIHNpdGVTZXJ2aWNlc1F1b3RhdGlvblVSTCA9IGZpbGUuZmlsZXVybDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk1vZHVsYXIgRHJhd2luZ3NcIjpcbiAgICAgICAgICBtb2R1bGFyRHJhd2luZ3NVUkwgPSBmaWxlLmZpbGV1cmw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJTaXRlIFNlcnZpY2UgRHJhd2luZ3NcIjpcbiAgICAgICAgICBzaXRlRHJhd2luZ3NVUkwgPSBmaWxlLmZpbGV1cmw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJTaWduLW9mZiBQUFRcIjpcbiAgICAgICAgICBzaWduT2ZmUFBUVVJMID0gZmlsZS5maWxldXJsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHRlbXBsYXRlUmVzcG9uc2UgPSBhd2FpdCBnZXROb3RpZmljYXRpb25UZW1hcGxhdGUoZm9ybUZpbGxOYW1lKTtcbiAgICBjb25zdCB0byA9IGF3YWl0IGZldGNoUGxhbm5pbmdDb29yZGluYXRvckJhc2VkT25DaXR5KGZldGNoZWRQcm9qZWN0LmNpdHlpZCk7XG5cbiAgICBjb25zdCBjYyA9IFtcImRkYWRtaW5AZGVzaWduY2FmZS5jb21cIl07XG4gICAgbGV0IHJlcG9ydGluZ01hbmFnZXI7XG4gICAgaWYgKGRlc2lnbmVyLnJlcG9ydGluZ21hbmFnZXIpIHtcbiAgICAgIHJlcG9ydGluZ01hbmFnZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJpZDogZGVzaWduZXIucmVwb3J0aW5nbWFuYWdlciB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNjLnB1c2goZGVzaWduZXI/LmRlc2lnbmNhZmVlbWFpbCwgcmVwb3J0aW5nTWFuYWdlcj8uZGVzaWduY2FmZWVtYWlsKTtcbiAgICBjb25zdCBkZXNpZ25lck5hbWUgPSBcIiREZXNpZ25lcm5hbWVcIjtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0TmFtZShkZXNpZ25lciwgY3VzdG9tZXIpO1xuICAgIGlmICh0ZW1wbGF0ZVJlc3BvbnNlLm5vdGlmaWNhdGlvblRlbXBsYXRlRm9yS2lja09mZikge1xuICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgIHRlbXBsYXRlUmVzcG9uc2Uubm90aWZpY2F0aW9uVGVtcGxhdGVGb3JLaWNrT2ZmPy5kYXRhPy5yZW1pbmRlcnMuZGF0YVswXVxuICAgICAgICAgIC5hdHRyaWJ1dGVzO1xuICAgICAgaWYgKGRhdGEuZW1haWxBY3RpdmF0ZSkge1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXJBcnJheUZvcktpY2tvZmY6IGFueVtdID0gW1xuICAgICAgICAgIGRlc2lnbmVyTmFtZSxcbiAgICAgICAgICBcIiREZXNpZ25lciBFbWFpbFwiLFxuICAgICAgICAgIFwiJERlc2lnbmVyUGhvbmVcIixcbiAgICAgICAgICBcIiREZXNpZ25lcmNpdHlcIixcbiAgICAgICAgICBcIiREZXNpZ25lci5leHBlcmllbmNlY2VudGVyXCIsXG4gICAgICAgICAgXCIkRGVzaWduZXJUZWFtXCIsXG4gICAgICAgICAgXCIkQ3VzdG9tZXJuYW1lXCIsXG4gICAgICAgICAgXCIkUHJvamVjdFwiLFxuICAgICAgICAgIFwiJGN1c3RvbWVyUGhvbmVcIixcbiAgICAgICAgICBcIiRjdXN0b21lckVtYWlsXCIsXG4gICAgICAgICAgXCIkUHJvamVjdE5hbWVcIixcbiAgICAgICAgICBcIiRQcm9qZWN0VHlwZVwiLFxuICAgICAgICAgIFwiJFRvdGFsUHJvamVjdFZhbHVlXCIsXG4gICAgICAgICAgXCIkVGVudGF0aXZlUHJvamVjdER1cmF0aW9uXCIsXG4gICAgICAgICAgXCIkQ3VzdG9tZXJzaGlwcGluZ0FkZHJlc3NcIixcbiAgICAgICAgICBcIiRQcm9qZWN0U2NvcGVcIixcbiAgICAgICAgICBcIiRZZXMvTm9cIixcbiAgICAgICAgICBcIiRZZXMvTm9cIixcbiAgICAgICAgICBcIiRZZXMvTm9cIixcbiAgICAgICAgICBcIiRZZXMvTm9cIixcbiAgICAgICAgICBcIiRZZXMvTm9cIixcbiAgICAgICAgICBcIiRLaWNrb2ZmRGF0ZVwiLFxuICAgICAgICAgIFwiS2lja29mZlRpbWVcIixcbiAgICAgICAgICBcIiRNb2R1bGFyZHJhd2luZ1VSTFwiLFxuICAgICAgICAgIFwiJFNpdGVzZXJ2aWNlRHJhd2luZ1VSTFwiLFxuICAgICAgICAgIFwiJERlc2lnblByZXNlbnRhdGlvblVSTFwiLFxuICAgICAgICAgIFwidHJ1ZS9GYWxzZVwiLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBpbnB1dEFycmF5Rm9yS2lja29mZjogYW55W10gPSBbXG4gICAgICAgICAgZGVzaWduZXIgPyB1c2VyLmRlc2lnbmVybmFtZSA6IFwiXCIsXG4gICAgICAgICAgZGVzaWduZXI/LmRlc2lnbmNhZmVlbWFpbCxcbiAgICAgICAgICBkZXNpZ25lcj8ucGhvbmVudW1iZXIsXG4gICAgICAgICAgZmV0Y2hlZERlc2lnbmVyWzBdLmNpdGllc1swXS5uYW1lLFxuICAgICAgICAgIGZldGNoZWREZXNpZ25lclswXS5leHBlcmllbmNlY2VudGVyc1swXS5uYW1lLFxuICAgICAgICAgIGZldGNoZWREZXNpZ25lclswXS50ZWFtc1swXS5uYW1lLFxuICAgICAgICAgIGN1c3RvbWVyID8gdXNlci5jdXN0b21lcm5hbWUgOiBcIlwiLFxuICAgICAgICAgIGZldGNoZWRQcm9qZWN0Py5wcm9qZWN0aWQsXG4gICAgICAgICAgY3VzdG9tZXI/LmN1c3RvbWVycGhvbmUsXG4gICAgICAgICAgY3VzdG9tZXI/LmN1c3RvbWVyZW1haWwsXG4gICAgICAgICAgZmV0Y2hlZFByb2plY3QucHJvamVjdG5hbWUgPyBmZXRjaGVkUHJvamVjdC5wcm9qZWN0bmFtZSA6IFwiXCIsXG4gICAgICAgICAgZmV0Y2hlZFByb2plY3QucHJvamVjdHR5cGUgPyBmZXRjaGVkUHJvamVjdC5wcm9qZWN0dHlwZSA6IFwiXCIsXG4gICAgICAgICAgZmV0Y2hlZFByb2plY3QudG90YWxwcm9qZWN0dmFsdWVcbiAgICAgICAgICAgID8gZmV0Y2hlZFByb2plY3QudG90YWxwcm9qZWN0dmFsdWVcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEudGVudGF0aXZlUHJvamVjdER1cmF0aW9uQWZ0ZXJTaWduT2ZmXG4gICAgICAgICAgICA/IGZvcm1GaWxsRGF0YS50ZW50YXRpdmVQcm9qZWN0RHVyYXRpb25BZnRlclNpZ25PZmZcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuc2l0ZUFkZHJlc3MgPyBmb3JtRmlsbERhdGEuc2l0ZUFkZHJlc3MgOiBcIlwiLFxuICAgICAgICAgIGZvcm1GaWxsRGF0YS5zY29wZU9mV29yayA/IGZvcm1GaWxsRGF0YS5zY29wZU9mV29yayA6IFwiXCIsXG4gICAgICAgICAgZm9ybUZpbGxEYXRhLmhhc0xpZnQgPyBcIlllc1wiIDogXCJOb1wiLFxuICAgICAgICAgIGZvcm1GaWxsRGF0YS5zY29wZUZvckVsZWN0cmljYWxXb3JrID8gXCJZZXNcIiA6IFwiTm9cIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuaGFzRmFsc2VDZWlsaW5nID8gXCJZZXNcIiA6IFwiTm9cIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuc3BlY2lhbEZpbmlzaGVzID8gZm9ybUZpbGxEYXRhLnNwZWNpYWxGaW5pc2hlcyA6IFwiXCIsXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuZGF0ZVRpbWVPZlZpc2l0XG4gICAgICAgICAgICA/IGZvcm1GaWxsRGF0YS5kYXRlVGltZU9mVmlzaXQudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIilcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuZGF0ZVRpbWVPZlZpc2l0XG4gICAgICAgICAgICA/IGZvcm1GaWxsRGF0YS5kYXRlVGltZU9mVmlzaXQudG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tVVNcIilcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICBtb2R1bGFyRHJhd2luZ3NVUkwgPyBtb2R1bGFyRHJhd2luZ3NVUkwgOiBcIlwiLFxuICAgICAgICAgIHNpdGVEcmF3aW5nc1VSTCA/IHNpdGVEcmF3aW5nc1VSTCA6IFwiXCIsXG4gICAgICAgICAgZGVzaWduUHJlc2VudGF0aW9uVVJMID8gZGVzaWduUHJlc2VudGF0aW9uVVJMIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuaXNQcm9qZWN0SU1PUyA/IFwiWWVzXCIgOiBcIk5vXCIsXG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgc3ViamVjdCA9IGRhdGEuZW1haWxTdWJqZWN0LnJlcGxhY2UoXG4gICAgICAgICAgXCIkUHJvamVjdCBOYW1lXCIsXG4gICAgICAgICAgZmV0Y2hlZFByb2plY3QucHJvamVjdG5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBjb250ZW50ID0gZGF0YS5lbWFpbF90ZW1wbGF0ZTtcbiAgICAgICAgY29uc3QgZW1haWxDb250ZW50ID0gYXdhaXQgcmVwbGFjZXRleHQoXG4gICAgICAgICAgcGFyYW1ldGVyQXJyYXlGb3JLaWNrb2ZmLFxuICAgICAgICAgIGlucHV0QXJyYXlGb3JLaWNrb2ZmLFxuICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgKTtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0cmlnZ2VyRW1haWxOb3RpZmljYXRpb24oXG4gICAgICAgICAgdG8sXG4gICAgICAgICAgc3ViamVjdCxcbiAgICAgICAgICBlbWFpbENvbnRlbnQsXG4gICAgICAgICAgY2NcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlUmVzcG9uc2Uubm90aWZpY2F0aW9uVGVtcGxhdGVGb3JQcm9kdWN0aW9uUmVxdWVzdCkge1xuICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgIHRlbXBsYXRlUmVzcG9uc2Uubm90aWZpY2F0aW9uVGVtcGxhdGVGb3JQcm9kdWN0aW9uUmVxdWVzdD8uZGF0YVxuICAgICAgICAgID8ucmVtaW5kZXJzLmRhdGFbMF0uYXR0cmlidXRlcztcblxuICAgICAgaWYgKGRhdGEuZW1haWxBY3RpdmF0ZSkge1xuICAgICAgICBjb25zdCBpbW9zID0gZ2V0SW1vc09yZGVyTnVtYmVyKGZvcm1GaWxsRGF0YSk7XG4gICAgICAgIGxldCBmaW5hbEltb3NEYXRhO1xuICAgICAgICBpZiAoaW1vcykge1xuICAgICAgICAgIGNvbnN0IHN0ciA9IFtdO1xuICAgICAgICAgIGltb3MuZm9yRWFjaCgoaW1vc2RhdGEpID0+IHtcbiAgICAgICAgICAgIHN0ci5wdXNoKGltb3NkYXRhLmltb3NPcmRlTm8sIGltb3NkYXRhLnJvb21VcmwuY29uY2F0KFwiXFxuXCIpKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IG5ld1N0ciA9IHN0ci5qb2luKFwiLFwiKTtcbiAgICAgICAgICBmaW5hbEltb3NEYXRhID0gbmV3U3RyLnJlcGxhY2UoLywvZywgXCIgXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyYW1ldGVyQXJyYXlGb3JQcm9kdWN0aW9uUmVxdWVzdDogYW55W10gPSBbXG4gICAgICAgICAgZGVzaWduZXJOYW1lLFxuICAgICAgICAgIFwiJFByb2plY3ROYW1lXCIsXG4gICAgICAgICAgXCIkRGVzaWduZXIgRW1haWxcIixcbiAgICAgICAgICBcIiREZXNpZ25lclBob25lXCIsXG4gICAgICAgICAgXCIkRGVzaWduZXJjaXR5XCIsXG4gICAgICAgICAgXCIkRGVzaWduZXIuZXhwZXJpZW5jZWNlbnRlclwiLFxuICAgICAgICAgIFwiJERlc2lnbmVyVGVhbVwiLFxuICAgICAgICAgIFwiJEN1c3RvbWVybmFtZVwiLFxuICAgICAgICAgIFwiJENsaWVudGlkXCIsXG4gICAgICAgICAgXCIkY3VzdG9tZXJQaG9uZVwiLFxuICAgICAgICAgIFwiJFBNTmFtZVwiLFxuICAgICAgICAgIFwiJEZsb29yQXJlYVwiLFxuICAgICAgICAgIFwiJENvbW1pdGVkaGFuZG92ZXJEYXRlXCIsXG4gICAgICAgICAgXCIkUHJvamVjdFZhbHVlYmVmb3JlZGlzY291bnRcIixcbiAgICAgICAgICBcIiRQcm9qZWN0VmFsdWVcIixcbiAgICAgICAgICBcIiRTcGVjaWFsZmluaXNoXCIsXG4gICAgICAgICAgXCIkUHJvamVjdFNoaXBwaW5nQWRkcmVzc1wiLFxuICAgICAgICAgIFwiJElNT1NvcmRlcm51bWJlcltIeXBlciBMaW5rIG9mIHNjcmVlbnNob3QgZm9yIHRoYXQgb3JkZXIgbnVtYmVyXVwiLFxuICAgICAgICAgIFwiJFNpZ25vZmZQUFRVUkxcIixcbiAgICAgICAgICBcIiRNb2R1bGFyUXVvdGF0aW9uVVJMXCIsXG4gICAgICAgICAgXCIkc2l0ZXNlcnZpY2VRdW90YXRpb25VUkxcIixcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBpbnB1dEFycmF5Rm9yUHJvZHVjdGlvblJlcXVlc3Q6IGFueVtdID0gW1xuICAgICAgICAgIGRlc2lnbmVyID8gdXNlci5kZXNpZ25lcm5hbWUgOiBcIlwiLFxuICAgICAgICAgIGZldGNoZWRQcm9qZWN0LnByb2plY3RuYW1lLFxuICAgICAgICAgIGRlc2lnbmVyPy5kZXNpZ25jYWZlZW1haWwsXG4gICAgICAgICAgZGVzaWduZXI/LnBob25lbnVtYmVyLFxuICAgICAgICAgIGZldGNoZWREZXNpZ25lclswXS5jaXRpZXNbMF0ubmFtZSxcbiAgICAgICAgICBmZXRjaGVkRGVzaWduZXJbMF0uZXhwZXJpZW5jZWNlbnRlcnNbMF0ubmFtZSxcbiAgICAgICAgICBmZXRjaGVkRGVzaWduZXJbMF0udGVhbXNbMF0ubmFtZSxcbiAgICAgICAgICBjdXN0b21lciA/IHVzZXIuY3VzdG9tZXJuYW1lIDogXCJcIixcbiAgICAgICAgICBmZXRjaGVkUHJvamVjdD8ucHJvamVjdGlkLFxuICAgICAgICAgIGN1c3RvbWVyPy5jdXN0b21lcnBob25lLFxuICAgICAgICAgIGZvcm1GaWxsRGF0YS5wbU5hbWUgPyBmb3JtRmlsbERhdGEucG1OYW1lIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEuZmxvb3JBcmVhID8gZm9ybUZpbGxEYXRhLmZsb29yQXJlYSA6IFwiXCIsXG4gICAgICAgICAgZm9ybUZpbGxEYXRhLnByb2plY3RIYW5kT3ZlckRhdGVcbiAgICAgICAgICAgID8gZm9ybUZpbGxEYXRhLnByb2plY3RIYW5kT3ZlckRhdGVcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICBmb3JtRmlsbERhdGEudmFsdWVCZWZvcmVEaXNjb3VudFxuICAgICAgICAgICAgPyBmb3JtRmlsbERhdGEudmFsdWVCZWZvcmVEaXNjb3VudFxuICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIGZldGNoZWRQcm9qZWN0LnRvdGFscHJvamVjdHZhbHVlXG4gICAgICAgICAgICA/IGZldGNoZWRQcm9qZWN0LnRvdGFscHJvamVjdHZhbHVlXG4gICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgZm9ybUZpbGxEYXRhLnNwZWNpYWxGaW5pc2hlcyA/IGZvcm1GaWxsRGF0YS5zcGVjaWFsRmluaXNoZXMgOiBcIlwiLFxuICAgICAgICAgIGZvcm1GaWxsRGF0YS5zaXRlQWRkcmVzcyA/IGZvcm1GaWxsRGF0YS5zaXRlQWRkcmVzcyA6IFwiXCIsXG4gICAgICAgICAgZmluYWxJbW9zRGF0YSA/IGZpbmFsSW1vc0RhdGEgOiBcIlwiLFxuICAgICAgICAgIHNpZ25PZmZQUFRVUkwgPyBzaWduT2ZmUFBUVVJMIDogXCJcIixcbiAgICAgICAgICBtb2R1bGFyUXVvdGF0aW9uVVJMID8gbW9kdWxhclF1b3RhdGlvblVSTCA6IFwiXCIsXG4gICAgICAgICAgc2l0ZVNlcnZpY2VzUXVvdGF0aW9uVVJMID8gc2l0ZVNlcnZpY2VzUXVvdGF0aW9uVVJMIDogXCJcIixcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBzdWJqZWN0ID0gZGF0YS5lbWFpbFN1YmplY3RcbiAgICAgICAgICAucmVwbGFjZShcIiRQcm9qZWN0bmFtZVwiLCBmZXRjaGVkUHJvamVjdC5wcm9qZWN0bmFtZSlcbiAgICAgICAgICAucmVwbGFjZShcIiRjaXR5bmFtZVwiLCBmZXRjaGVkRGVzaWduZXJbMF0uY2l0aWVzWzBdLm5hbWUpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhLmVtYWlsX3RlbXBsYXRlO1xuICAgICAgICBjb25zdCBlbWFpbENvbnRlbnQgPSBhd2FpdCByZXBsYWNldGV4dChcbiAgICAgICAgICBwYXJhbWV0ZXJBcnJheUZvclByb2R1Y3Rpb25SZXF1ZXN0LFxuICAgICAgICAgIGlucHV0QXJyYXlGb3JQcm9kdWN0aW9uUmVxdWVzdCxcbiAgICAgICAgICBjb250ZW50XG4gICAgICAgICk7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uKFxuICAgICAgICAgIHRvLFxuICAgICAgICAgIHN1YmplY3QsXG4gICAgICAgICAgZW1haWxDb250ZW50LFxuICAgICAgICAgIGNjXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZVJlc3BvbnNlLm5vdGlmaWNhdGlvblRlbXBsYXRlRm9yUUNDaGVja1JlcXVlc3QpIHtcbiAgICAgIGNvbnN0IGRhdGEgPVxuICAgICAgICB0ZW1wbGF0ZVJlc3BvbnNlLm5vdGlmaWNhdGlvblRlbXBsYXRlRm9yUUNDaGVja1JlcXVlc3Q/LmRhdGE/LnJlbWluZGVyc1xuICAgICAgICAgIC5kYXRhWzBdLmF0dHJpYnV0ZXM7XG4gICAgICBpZiAoZGF0YS5lbWFpbEFjdGl2YXRlKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckFycmF5Rm9yUUNDaGVjazogYW55W10gPSBbXG4gICAgICAgICAgZGVzaWduZXJOYW1lLFxuICAgICAgICAgIFwiJG1vZHVsYXJkcmF3aW5nc1VSTFwiLFxuICAgICAgICAgIFwiJHNpdGVzZXJ2aWNlZHJhd2luZ3NVUkxcIixcbiAgICAgICAgICBcIiRtb2R1bGFycXVvdGF0aW9uVVJMXCIsXG4gICAgICAgICAgXCIkc2l0ZXNlcnZpY2VxdW90YXRpb25VUkxcIixcbiAgICAgICAgICBcIiRwcm9qZWN0Lm5hbWVcIixcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgaW5wdXRBcnJheUZvclFDQ2hlY2s6IGFueVtdID0gW1xuICAgICAgICAgIGRlc2lnbmVyID8gdXNlci5kZXNpZ25lcm5hbWUgOiBcIlwiLFxuICAgICAgICAgIG1vZHVsYXJEcmF3aW5nc1VSTCA/IG1vZHVsYXJEcmF3aW5nc1VSTCA6IFwiXCIsXG4gICAgICAgICAgc2l0ZURyYXdpbmdzVVJMID8gc2l0ZURyYXdpbmdzVVJMIDogXCJcIixcbiAgICAgICAgICBtb2R1bGFyUXVvdGF0aW9uVVJMID8gbW9kdWxhclF1b3RhdGlvblVSTCA6IFwiXCIsXG4gICAgICAgICAgc2l0ZVNlcnZpY2VzUXVvdGF0aW9uVVJMID8gc2l0ZVNlcnZpY2VzUXVvdGF0aW9uVVJMIDogXCJcIixcbiAgICAgICAgICBmZXRjaGVkUHJvamVjdC5wcm9qZWN0bmFtZSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3Qgc3ViamVjdCA9IGRhdGEuZW1haWxTdWJqZWN0LnJlcGxhY2UoXG4gICAgICAgICAgXCIkUHJvamVjdG5hbWVcIixcbiAgICAgICAgICBmZXRjaGVkUHJvamVjdC5wcm9qZWN0bmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBkYXRhLmVtYWlsX3RlbXBsYXRlO1xuICAgICAgICBjb25zdCBlbWFpbENvbnRlbnQgPSBhd2FpdCByZXBsYWNldGV4dChcbiAgICAgICAgICBwYXJhbWV0ZXJBcnJheUZvclFDQ2hlY2ssXG4gICAgICAgICAgaW5wdXRBcnJheUZvclFDQ2hlY2ssXG4gICAgICAgICAgY29udGVudFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRvUUNUZWFtID0gXCJnZmNjaGVja2luZ0BkZXNpZ25jYWZlLmNvbVwiO1xuICAgICAgICBjb25zdCBjY0xpc3QgPSBbXCJkZGFkbWluQGRlc2lnbmNhZmUuY29tXCJdO1xuICAgICAgICBjY0xpc3QucHVzaChkZXNpZ25lcj8uZGVzaWduY2FmZWVtYWlsKVxuXG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uKFxuICAgICAgICAgIHRvUUNUZWFtLFxuICAgICAgICAgIHN1YmplY3QsXG4gICAgICAgICAgZW1haWxDb250ZW50LFxuICAgICAgICAgIGNjTGlzdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuY29uc3QgY29tcGxldE1pbGVzdG9uZUZvclByb2R1Y3Rpb25SZXF1ZXN0T3JLaWNrb2ZmID0gYXN5bmMgKFxuICBwcm9qZWN0aWQsXG4gIGZvcm1GaWxsRGF0YVxuKSA9PiB7XG4gIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgIHdoZXJlOiB7XG4gICAgICBpZDogcHJvamVjdGlkLFxuICAgIH0sXG4gICAgZGF0YTogZm9ybUZpbGxEYXRhLFxuICB9KTtcbn07XG5jb25zdCByZXBsYWNldGV4dCA9IChcbiAgcGFyYW1ldGVyQXJyYXlGb3JLaWNrb2ZmLFxuICBpbnB1dEFycmF5Rm9yS2lja29mZixcbiAgY29udGVudFxuKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVyQXJyYXlGb3JLaWNrb2ZmLmxlbmd0aDsgaSsrKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShcbiAgICAgIHBhcmFtZXRlckFycmF5Rm9yS2lja29mZltpXSxcbiAgICAgIGlucHV0QXJyYXlGb3JLaWNrb2ZmW2ldXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn07XG5jb25zdCBmZXRjaFBsYW5uaW5nQ29vcmRpbmF0b3JCYXNlZE9uQ2l0eSA9IGFzeW5jIChjaXR5aWQpID0+IHtcbiAgY29uc3QgdG8gPSBbXTtcbiAgaWYgKGNpdHlpZCkge1xuICAgIGNvbnN0IGNpdHkgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogY2l0eWlkIH0gfSk7XG4gICAgaWYgKGNpdHkpIHtcbiAgICAgIHRvLnB1c2goY2l0eS5wbGFubmluZ2Nvb3JkaW5hdG9yZW1haWw/LnNwbGl0KFwiLFwiKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn07XG5jb25zdCBnZXROb3RpZmljYXRpb25UZW1hcGxhdGUgPSBhc3luYyAoZm9ybUZpbGxOYW1lKSA9PiB7XG4gIGxldCBzbHVnbmFtZTtcbiAgbGV0IG5vdGlmaWNhdGlvblRlbXBsYXRlRm9yS2lja09mZixcbiAgICBub3RpZmljYXRpb25UZW1wbGF0ZUZvclByb2R1Y3Rpb25SZXF1ZXN0LFxuICAgIG5vdGlmaWNhdGlvblRlbXBsYXRlRm9yUUNDaGVja1JlcXVlc3Q7XG5cbiAgY29uc3QgZ3JhcGhxbENNU1VybCA9IFwiaHR0cHM6Ly9jbXMuZGVzaWduY2FmZS5jb20vZ3JhcGhxbG1cIjtcbiAgaWYgKGZvcm1GaWxsTmFtZSA9PT0gXCJSZXF1ZXN0IFNpdGUgVmFsaWRhdGlvblwiKSB7XG4gICAgc2x1Z25hbWUgPSBcIm5vdGlmeV9raWNrb2ZmX3JlcXVlc3RcIjtcbiAgICBub3RpZmljYXRpb25UZW1wbGF0ZUZvcktpY2tPZmYgPSBhd2FpdCBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdChcbiAgICAgIGdyYXBocWxDTVNVcmwsXG4gICAgICBxdWVyeUZvckZldGNoaW5nUmVtaW5kZXJzVGVtcGxhdGUoc2x1Z25hbWUpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChmb3JtRmlsbE5hbWUgPT09IFwiU2VuZCBQcm9qZWN0IHRvIFByb2R1Y3Rpb25cIikge1xuICAgIHNsdWduYW1lID0gXCJub3RpZnlfcHJvZHVjdGlvbl9yZXF1ZXN0ZWRcIjtcbiAgICBub3RpZmljYXRpb25UZW1wbGF0ZUZvclByb2R1Y3Rpb25SZXF1ZXN0ID0gYXdhaXQgY2FsbEV4dGVybmFsQVBJV2l0aFBvc3QoXG4gICAgICBncmFwaHFsQ01TVXJsLFxuICAgICAgcXVlcnlGb3JGZXRjaGluZ1JlbWluZGVyc1RlbXBsYXRlKHNsdWduYW1lKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoZm9ybUZpbGxOYW1lID09PSBcIlJlcXVlc3QgUUMgQ2hlY2tcIikge1xuICAgIHNsdWduYW1lID0gXCJub3RpZnlfZ2ZjX3JlcXVlc3RlZFwiO1xuICAgIG5vdGlmaWNhdGlvblRlbXBsYXRlRm9yUUNDaGVja1JlcXVlc3QgPSBhd2FpdCBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdChcbiAgICAgIGdyYXBocWxDTVNVcmwsXG4gICAgICBxdWVyeUZvckZldGNoaW5nUmVtaW5kZXJzVGVtcGxhdGUoc2x1Z25hbWUpXG4gICAgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5vdGlmaWNhdGlvblRlbXBsYXRlRm9yS2lja09mZixcbiAgICBub3RpZmljYXRpb25UZW1wbGF0ZUZvclByb2R1Y3Rpb25SZXF1ZXN0LFxuICAgIG5vdGlmaWNhdGlvblRlbXBsYXRlRm9yUUNDaGVja1JlcXVlc3QsXG4gIH07XG59O1xuY29uc3QgZ2V0TmFtZSA9IGFzeW5jIChkZXNpZ25lciwgY3VzdG9tZXIpID0+IHtcbiAgY29uc3QgZGVzaWduZXJNaWRkbGVuYW1lID0gZGVzaWduZXIubWlkZGxlbmFtZVxuICAgID8gZGVzaWduZXIubWlkZGxlbmFtZS50cmltKClcbiAgICA6IFwiXCI7XG4gIGNvbnN0IGRlc2lnbmVyTGFzdE5hbWUgPSBkZXNpZ25lci5sYXN0bmFtZSA/IGRlc2lnbmVyLmxhc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gIGNvbnN0IGRlc2lnbmVybmFtZSA9IGAke2Rlc2lnbmVyLmZpcnN0bmFtZT8udHJpbSgpfSR7XG4gICAgZGVzaWduZXJNaWRkbGVuYW1lID8gXCIgXCIgKyBkZXNpZ25lck1pZGRsZW5hbWUgKyBcIiBcIiA6IFwiIFwiXG4gIH0ke2Rlc2lnbmVyTGFzdE5hbWV9YDtcblxuICBjb25zdCBmaXJzdG5hbWUgPSBjdXN0b21lci5maXJzdG5hbWUgPyBjdXN0b21lci5maXJzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgY29uc3QgbGFzdE5hbWUgPSBjdXN0b21lci5sYXN0bmFtZSA/IGN1c3RvbWVyLmxhc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gIGNvbnN0IGN1c3RvbWVybmFtZSA9IGAke2ZpcnN0bmFtZX0ke2xhc3ROYW1lfWA7XG4gIHJldHVybiB7IGRlc2lnbmVybmFtZSwgY3VzdG9tZXJuYW1lIH07XG59O1xuY29uc3QgZ2V0SW1vc09yZGVyTnVtYmVyID0gKGZvcm1GaWxsRGF0YSkgPT4ge1xuICBsZXQgaW1vc3Jvb21zO1xuICBpZiAoZm9ybUZpbGxEYXRhLmltb3NSb29tcyAmJiBmb3JtRmlsbERhdGEuaW1vc1Jvb21zLmxlbmd0aCA+IDApIHtcbiAgICBpbW9zcm9vbXMgPSBbLi4uZm9ybUZpbGxEYXRhLmltb3NSb29tc107XG4gIH1cbiAgcmV0dXJuIGltb3Nyb29tcztcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQYXltZW50TWlsZXN0b25lcyA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgY29uc3QgeyBwcm9qZWN0SWQsIHBheW1lbnRNaWxlc3RvbmVOYW1lLCBwcm9qZWN0VmFsdWUgfSA9IGFyZ3M7XG4gIGNvbnN0IHJlc3BvbnNlT2JqID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwiXCIgfTtcbiAgbGV0IHNlbGVjdGVkTWlsZXN0b25lO1xuICB0cnkge1xuICAgIGNvbnN0IGdldFByb2plY3RXaXRoUHJvamVjdElkOiBhbnkgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgZ2V0UHJvamVjdFdpdGhQcm9qZWN0SWQubWlsZXN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzLmZvckVhY2goXG4gICAgICAobWlsZXN0b25lKSA9PiB7XG4gICAgICAgIG1pbGVzdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0LmZvckVhY2goKG1pbGVzdG9uZUNoZWNrbGlzdCkgPT4ge1xuICAgICAgICAgIGlmIChtaWxlc3RvbmVDaGVja2xpc3QuY2hlY2tsaXN0X3N0cmluZyA9PT0gcGF5bWVudE1pbGVzdG9uZU5hbWUpIHtcbiAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdC5pc19jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdGVkTWlsZXN0b25lID0gbWlsZXN0b25lO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAocGF5bWVudE1pbGVzdG9uZU5hbWUgPT09IFwiNSUgTW9kdWxhciBQYXltZW50XCIpIHtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBtaWxlc3RvbmVzOiBnZXRQcm9qZWN0V2l0aFByb2plY3RJZC5taWxlc3RvbmVzLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBwcm9qZWN0SWQsXG4gICAgICB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBtaWxlc3RvbmVzOiBnZXRQcm9qZWN0V2l0aFByb2plY3RJZC5taWxlc3RvbmVzLFxuICAgICAgICBwcm9qZWN0dmFsdWU6IHByb2plY3RWYWx1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cblxuICAgIGF3YWl0IGNoZWNrQW5kTWFya01pbGVzdG9uZXNPblNtYXJ0c2hlZXQocHJvamVjdElkLCBzZWxlY3RlZE1pbGVzdG9uZSk7XG4gICAgcmVzcG9uc2VPYmouY29kZSA9IDIwMDtcbiAgICByZXNwb25zZU9iai5tZXNzYWdlID0gXCJTdWNjZXNzXCI7XG5cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlc3BvbnNlT2JqLmNvZGUgPSAyMDA7XG4gICAgcmVzcG9uc2VPYmoubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZU9iajtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgZGF5anMgZnJvbSBcImRheWpzXCI7XG5pbXBvcnQgeyB1cGRhdGVQcm9qZWN0U3RhdHVzIH0gZnJvbSBcIi4uL1NtYXJ0c2hlZXQvTXV0YXRpb25zL1VwZGF0ZVByb2plY3RTdGF0dXNcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RWYWx1ZSB9IGZyb20gXCIuLi9TbWFydHNoZWV0L011dGF0aW9ucy9VcGRhdGVQcm9qZWN0VmFsdWVcIjtcbmltcG9ydCB7IHVwZGF0ZURlc2lnbmVyRW1haWwgfSBmcm9tIFwiLi4vU21hcnRzaGVldC9NdXRhdGlvbnMvVXBkYXRlRGVzaWduZXJcIjtcbmltcG9ydCB7IHVwZGF0ZVN1cnZleSB9IGZyb20gXCIuLi9TbWFydHNoZWV0L011dGF0aW9ucy9VcGRhdGVTdXJ2ZXlcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RBZGRyZXNzIH0gZnJvbSBcIi4uL1NtYXJ0c2hlZXQvTXV0YXRpb25zL1VwZGF0ZVByb2plY3RBZGRyZXNzXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0QXBpID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHByb2plY3RzUmVzcG9uc2VPYmo7XG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBwcm9qZWN0aWQsXG4gICAgcHJvamVjdG5hbWUsXG4gICAgcHJvamVjdHN0YXR1cyxcbiAgICBwcm9qZWN0dmFsdWUsXG4gICAgc2lnbnVwZGF0ZSxcbiAgICBjdXN0b21lcmlkLFxuICAgIGRlc2lnbmVyaWQsXG4gICAgc2FsZXNtYW5hZ2VyaWQsXG4gICAgY2htaWQsXG4gICAgc3VydmV5ZXhlY3V0aXZlaWQsXG4gICAgcHJvamVjdG1hbmFnZXJpZCxcbiAgICBkZXNpZ25zdHVkaW9pZCxcbiAgICBtb2R1bGFyYmFzZWFtb3VudCxcbiAgICBwcm9qZWN0bW9kdWxhcnZhbHVlLFxuICAgIG1vZHVsYXJkaXNjb3VudCxcbiAgICBzaXRlc2VydmljZWJhc2VhbW91bnQsXG4gICAgcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlLFxuICAgIHNpdGVzZXJ2aWNlZGlzY291bnQsXG4gICAgc2lnbnVwYW1vdW50LFxuICAgIHNpZ251cHN0YXRlLFxuICAgIGV4cGVyaWVuY2VjZW50ZXJpZCxcbiAgICBjaXR5aWQsXG4gICAgcHJvamVjdGFkZHJlc3NpZCxcbiAgICBjbW1uYW1lLFxuICAgIGV4cGVjdGVkaGFuZG92ZXJkYXRlLFxuICAgIGN1cnJlbnRtaWxlc3RvbmUsXG4gICAgcHJvamVjdHBoYXNlLFxuICAgIGhhc2Rlc2lnbmVyYWNjZXB0ZWQsXG4gICAgaGFzZGVzaWdlcnJlc3BvbmRlZCxcbiAgICBob21ldHlwZSxcbiAgICBpbml0aWFsc2lnbnVwdmFsdWUsXG4gICAgZGVjb3J2YWx1ZSxcbiAgICBxdW90ZWlkLFxuICAgIHByb2plY3RyYXRpbmcsXG4gICAgaW5jbHVkZXBtZmVlLFxuICAgIG1pbGVzdG9uZXR5cGUsXG4gICAgb2Rvb2lkLFxuICAgIG9kb29fZGVsaXZlcnlfYWRkcmVzc19pZCxcbiAgICBpc25ld3BheW1lbnRwcm9qZWN0LFxuICAgIG9wcG9ydHVuaXR5aWQsXG4gICAgdGVtcGxhdGUsXG4gIH0gPSBhcmdzO1xuICBjb25zdCBzRGF0ZSA9IGRheWpzKHNpZ251cGRhdGUpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBwcm9qZWN0aWQsXG4gICAgICAgIHByb2plY3RuYW1lLFxuICAgICAgICBwcm9qZWN0c3RhdHVzLFxuICAgICAgICBwcm9qZWN0dmFsdWUsXG4gICAgICAgIHVwZGF0ZWRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIHNpZ251cGRhdGU6IG5ldyBEYXRlKHNEYXRlKSxcbiAgICAgICAgY3VzdG9tZXJpZCxcbiAgICAgICAgZGVzaWduZXJpZCxcbiAgICAgICAgc2FsZXNtYW5hZ2VyaWQsXG4gICAgICAgIGNobWlkLFxuICAgICAgICBzdXJ2ZXlleGVjdXRpdmVpZCxcbiAgICAgICAgcHJvamVjdG1hbmFnZXJpZCxcbiAgICAgICAgZGVzaWduc3R1ZGlvaWQsXG4gICAgICAgIG1vZHVsYXJiYXNlYW1vdW50LFxuICAgICAgICBwcm9qZWN0bW9kdWxhcnZhbHVlLFxuICAgICAgICBtb2R1bGFyZGlzY291bnQsXG4gICAgICAgIHNpdGVzZXJ2aWNlYmFzZWFtb3VudCxcbiAgICAgICAgcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlLFxuICAgICAgICBzaXRlc2VydmljZWRpc2NvdW50LFxuICAgICAgICBzaWdudXBhbW91bnQsXG4gICAgICAgIHNpZ251cHN0YXRlLFxuICAgICAgICBleHBlcmllbmNlY2VudGVyaWQsXG4gICAgICAgIGNpdHlpZCxcbiAgICAgICAgcHJvamVjdGFkZHJlc3NpZCxcbiAgICAgICAgY21tbmFtZSxcbiAgICAgICAgZXhwZWN0ZWRoYW5kb3ZlcmRhdGUsXG4gICAgICAgIGN1cnJlbnRtaWxlc3RvbmUsXG4gICAgICAgIHByb2plY3RwaGFzZSxcbiAgICAgICAgaGFzZGVzaWduZXJhY2NlcHRlZCxcbiAgICAgICAgaGFzZGVzaWdlcnJlc3BvbmRlZCxcbiAgICAgICAgaG9tZXR5cGUsXG4gICAgICAgIGluaXRpYWxzaWdudXB2YWx1ZSxcbiAgICAgICAgZGVjb3J2YWx1ZSxcbiAgICAgICAgcXVvdGVpZCxcbiAgICAgICAgcHJvamVjdHJhdGluZyxcbiAgICAgICAgaW5jbHVkZXBtZmVlLFxuICAgICAgICBtaWxlc3RvbmV0eXBlLFxuICAgICAgICBvZG9vaWQsXG4gICAgICAgIG9kb29fZGVsaXZlcnlfYWRkcmVzc19pZCxcbiAgICAgICAgaXNuZXdwYXltZW50cHJvamVjdCxcbiAgICAgICAgb3Bwb3J0dW5pdHlpZCxcbiAgICAgICAgdGVtcGxhdGUsXG4gICAgICB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXG4gICAgfSk7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqIFNtYXJ0U2hlZXQgQVBpcyBJbnRlZ3JhdGlvbiBTdGFydCAqKioqKioqKioqKioqKioqKioqL1xuICAgIGF3YWl0IHVwZGF0ZVByb2plY3RTdGF0dXNPblNtYXJ0U2hlZXQoXG4gICAgICBwcm9qZWN0LnNtYXJ0c2hlZXRpZCxcbiAgICAgIHByb2plY3RzdGF0dXMsXG4gICAgICBzaWdudXBkYXRlXG4gICAgKTtcbiAgICBhd2FpdCB1cGRhdGVQcm9qZWN0VmFsdWVPblNtYXJ0U2hlZXQocHJvamVjdC5zbWFydHNoZWV0aWQsIHByb2plY3R2YWx1ZSk7XG4gICAgYXdhaXQgdXBkYXRlRGVzaWduZXJPblNtYXJ0U2hlZXQocHJvamVjdC5zbWFydHNoZWV0aWQsIGRlc2lnbmVyaWQpO1xuICAgIGF3YWl0IHVwZGF0ZVN1cnZleU9uU21hcnRTaGVldChwcm9qZWN0LnNtYXJ0c2hlZXRpZCwgc3VydmV5ZXhlY3V0aXZlaWQpO1xuICAgIGF3YWl0IHVwZGF0ZUFkZHJlc3NPblNtYXJ0U2hlZXQocHJvamVjdC5zbWFydHNoZWV0aWQsIGN1c3RvbWVyaWQpO1xuICAgIC8qKioqKioqKioqKioqKioqKioqKiBTbWFydFNoZWV0IEFQaXMgSW50ZWdyYXRpb24gRW5kICoqKioqKioqKioqKioqKioqKiovXG4gICAgcHJvamVjdHNSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcHJvamVjdCB9O1xuICAgIHJldHVybiBwcm9qZWN0c1Jlc3BvbnNlT2JqO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHByb2plY3RzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiBwcm9qZWN0c1Jlc3BvbnNlT2JqO1xuICB9XG59O1xuY29uc3QgdXBkYXRlQWRkcmVzc09uU21hcnRTaGVldCA9IGFzeW5jIChzbWFydHNoZWV0aWQsIGN1c3RvbWVyaWQpID0+IHtcbiAgaWYgKGN1c3RvbWVyaWQpIHtcbiAgICBjb25zdCBhZGRyZXNzID0gYXdhaXQgcHJpc21hLmRjX2FkZHJlc3Nlcy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgY3VzdG9tZXJpZDogY3VzdG9tZXJpZCwgYWRkcmVzc3R5cGU6IDEgfSxcbiAgICB9KTtcbiAgICBpZiAoYWRkcmVzcykge1xuICAgICAgY29uc3QgYWRkcmVzc1ZhbHVlID0gYCR7YWRkcmVzcy5zdHJlZXR9LCAke2FkZHJlc3MuY2l0eX0sICR7YWRkcmVzcy5zdGF0ZX0sICR7YWRkcmVzcy56aXB9LCAke2FkZHJlc3MuY291bnRyeX1gO1xuICAgICAgY29uc3QgdXBkYXRlQWRkcmVzc1BheWxvYWQgPSB7XG4gICAgICAgIHNtYXJ0U2hlZXRJZDogc21hcnRzaGVldGlkLFxuICAgICAgICBwcm9qZWN0QWRkcmVzczogYWRkcmVzc1ZhbHVlLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHVwZGF0ZVByb2plY3RBZGRyZXNzKG51bGwsIHVwZGF0ZUFkZHJlc3NQYXlsb2FkLCBudWxsKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCB1cGRhdGVTdXJ2ZXlPblNtYXJ0U2hlZXQgPSBhc3luYyAoc21hcnRzaGVldGlkLCBzdXJ2ZXlleGVjdXRpdmVpZCkgPT4ge1xuICBpZiAoc3VydmV5ZXhlY3V0aXZlaWQpIHtcbiAgICBjb25zdCBzdXJ2ZXkgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyB1c2VyaWQ6IHN1cnZleWV4ZWN1dGl2ZWlkIH0sXG4gICAgfSk7XG4gICAgaWYgKHN1cnZleSkge1xuICAgICAgY29uc3QgdXBkYXRlU3VydmV5UGF5bG9hZCA9IHtcbiAgICAgICAgc21hcnRTaGVldElkOiBzbWFydHNoZWV0aWQsXG4gICAgICAgIHN1cnZleUV4ZWN1dGl2ZUVtYWlsOiBzdXJ2ZXkuZGVzaWduY2FmZWVtYWlsLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHVwZGF0ZVN1cnZleShudWxsLCB1cGRhdGVTdXJ2ZXlQYXlsb2FkLCBudWxsKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCB1cGRhdGVEZXNpZ25lck9uU21hcnRTaGVldCA9IGFzeW5jIChzbWFydHNoZWV0aWQsIGRlc2lnbmVyaWQpID0+IHtcbiAgaWYgKGRlc2lnbmVyaWQpIHtcbiAgICBjb25zdCBkZXNpZ25lciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IHVzZXJpZDogZGVzaWduZXJpZCB9LFxuICAgIH0pO1xuICAgIGlmIChkZXNpZ25lcikge1xuICAgICAgY29uc3QgdXBkYXRlRGVzaWduZXJQYXlsb2FkID0ge1xuICAgICAgICBzbWFydFNoZWV0SWQ6IHNtYXJ0c2hlZXRpZCxcbiAgICAgICAgZGVzaWduZXJFbWFpbDogZGVzaWduZXIuZGVzaWduY2FmZWVtYWlsLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHVwZGF0ZURlc2lnbmVyRW1haWwobnVsbCwgdXBkYXRlRGVzaWduZXJQYXlsb2FkLCBudWxsKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCB1cGRhdGVQcm9qZWN0VmFsdWVPblNtYXJ0U2hlZXQgPSBhc3luYyAoc21hcnRzaGVldGlkLCBwcm9qZWN0dmFsdWUpID0+IHtcbiAgaWYgKHByb2plY3R2YWx1ZSkge1xuICAgIGNvbnN0IHByb2plY3RWYWx1ZVBheWxvYWQgPSB7XG4gICAgICBzbWFydFNoZWV0SWQ6IHNtYXJ0c2hlZXRpZCxcbiAgICAgIHByb2plY3RWYWx1ZTogcHJvamVjdHZhbHVlLFxuICAgIH07XG4gICAgYXdhaXQgdXBkYXRlUHJvamVjdFZhbHVlKG51bGwsIHByb2plY3RWYWx1ZVBheWxvYWQsIG51bGwpO1xuICB9XG59O1xuY29uc3QgdXBkYXRlUHJvamVjdFN0YXR1c09uU21hcnRTaGVldCA9IGFzeW5jIChcbiAgc21hcnRzaGVldGlkLFxuICBwcm9qZWN0c3RhdHVzLFxuICBzaWdudXBkYXRlXG4pID0+IHtcbiAgaWYgKHByb2plY3RzdGF0dXMpIHtcbiAgICBjb25zdCBwcm9qZWN0U3RhdHVzUGF5bG9hZCA9IHtcbiAgICAgIHNtYXJ0U2hlZXRJZDogc21hcnRzaGVldGlkLFxuICAgICAgcHJvamVjdFN0YXR1czogcHJvamVjdHN0YXR1cyxcbiAgICAgIHNpZ251cERhdGU6IHNpZ251cGRhdGUsXG4gICAgfTtcbiAgICBhd2FpdCB1cGRhdGVQcm9qZWN0U3RhdHVzKG51bGwsIHByb2plY3RTdGF0dXNQYXlsb2FkLCBudWxsKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IGNoZWNrQW5kTWFya01pbGVzdG9uZXNPblNtYXJ0c2hlZXQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcblxuZW51bSBTY2hlZHVsZU1lZXRpbmdzRW51bSB7XG4gIFNDSEVEVUxFX1NVUlZFWV9NRUVUSU5HID0gXCJTY2hlZHVsZSBTaXRlIFN1cnZleVwiLFxuICBTQ0hFRFVMRV9LWUNfTUVFVElORyA9IFwiU2NoZWR1bGUgS1lDIE1lZXRpbmdcIixcbiAgU0NIRURVTEVfREVTSUdOX1BSRVNFTlRBVElPTl9NRUVUSU5HID0gXCJTY2hlZHVsZSBEZXNpZ24gUHJlc2VudGF0aW9uXCIsXG4gIFNDSEVEVUxFX1JFVklTSU9OX01FRVRJTkcgPSBcIlNjaGVkdWxlIERlc2lnbiBSZXZpc2lvblwiLFxuICBTQ0hFRFVMRV9TSUdOT0ZGX01FRVRJTkcgPSBcIlNjaGVkdWxlIFNpZ25vZmYgTWVldGluZ1wiXG59XG5jb25zdCBzY2hlZHVsZXJBcnJheSA9IFtcbiAgU2NoZWR1bGVNZWV0aW5nc0VudW0uU0NIRURVTEVfU1VSVkVZX01FRVRJTkcsXG4gIFNjaGVkdWxlTWVldGluZ3NFbnVtLlNDSEVEVUxFX1JFVklTSU9OX01FRVRJTkcsXG4gIFNjaGVkdWxlTWVldGluZ3NFbnVtLlNDSEVEVUxFX0tZQ19NRUVUSU5HLFxuICBTY2hlZHVsZU1lZXRpbmdzRW51bS5TQ0hFRFVMRV9ERVNJR05fUFJFU0VOVEFUSU9OX01FRVRJTkcsXG4gIFNjaGVkdWxlTWVldGluZ3NFbnVtLlNDSEVEVUxFX1NJR05PRkZfTUVFVElOR1xuXTtcblxuZXhwb3J0IGNvbnN0IG1lZXRpbmdTY2hlZHVsZXJNaWxlc3RvbmUgPSBhc3luYyAoX3Jvb3QsIF9hcmdzLCBfY29udGV4dCkgPT4ge1xuICBsZXQgc2VsZWN0ZWRNaWxlc3RvbmU7XG4gIHRyeSB7XG4gICAgaWYgKCFzY2hlZHVsZXJBcnJheS5pbmNsdWRlcyhfYXJncy5tZWV0aW5nU2NoZWR1bGVUeXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiU2NoZWR1bGVyIHR5cGUgaW52YWxpZC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHByb2plY3REYXRhOiBhbnkgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBfYXJncy5wcm9qZWN0SWQgfSxcbiAgICB9KTtcbiAgICBpZiAoIXByb2plY3REYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJQcm9qZWN0IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgaWYgKCFwcm9qZWN0RGF0YS5taWxlc3RvbmVzIHx8IHByb2plY3REYXRhLm1pbGVzdG9uZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJNaWxlc3RvbmUgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCBtaWxlc3RvbmVEYXRhID1cbiAgICAgIHByb2plY3REYXRhPy5taWxlc3RvbmVzPy5hdHRyaWJ1dGVzPy5taWxlc3RvbmVfZGV0YWlscztcbiAgICBtaWxlc3RvbmVEYXRhLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudC5taWxlc3RvbmVfY2hlY2tsaXN0ICYmXG4gICAgICAgIGVsZW1lbnQubWlsZXN0b25lX2NoZWNrbGlzdC5sZW5ndGggIT09IDBcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBlbGVtZW50Py5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgICAgICAgdmFsPy5jaGVja2xpc3Rfc3RyaW5nID09PSBfYXJncy5tZWV0aW5nU2NoZWR1bGVUeXBlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZWxlY3RlZE1pbGVzdG9uZSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB2YWwuaXNfY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB2YWwuZGF0YSA9IHtcbiAgICAgICAgICAgICAgZGF0ZXRpbWU6IF9hcmdzLmRhdGV0aW1lLFxuICAgICAgICAgICAgICBtZWV0aW5nVHlwZTogX2FyZ3MubWVldGluZ1R5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsLmRlc2NyaXB0aW9uID0gX2FyZ3MuZGVzY3JpcHRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9qZWN0RGF0YS5taWxlc3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMgPSBtaWxlc3RvbmVEYXRhO1xuICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IF9hcmdzLnByb2plY3RJZCB9LFxuICAgICAgZGF0YTogeyBtaWxlc3RvbmVzOiBwcm9qZWN0RGF0YS5taWxlc3RvbmVzIH0sXG4gICAgfSk7XG4gICAgaWYgKHNlbGVjdGVkTWlsZXN0b25lKSB7XG4gICAgICBhd2FpdCBjaGVja0FuZE1hcmtNaWxlc3RvbmVzT25TbWFydHNoZWV0KFxuICAgICAgICBfYXJncy5wcm9qZWN0SWQsXG4gICAgICAgIHNlbGVjdGVkTWlsZXN0b25lXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbWVzc2FnZTogXCJNZWV0aW5nIHNjaGVkdWxlZCBzdWNjZXNzZnVsbHkuXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvamVjdHMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBwcm9qZWN0c1Jlc3BvbnNlT2JqXG4gIHRyeSB7XG4gICAgY29uc3QgcHJvamVjdHMgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZE1hbnkoe1xuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjdXN0b21lcjogdHJ1ZSxcbiAgICAgICAgZGVzaWduc3R1ZGlvIDogdHJ1ZSxcbiAgICAgICAgZXhwZXJpZW5jZWNlbnRlciA6IHRydWUsXG4gICAgICAgIGNpdHkgOiB0cnVlLFxuICAgICAgICBkZXNpZ25lciA6IHRydWUsXG4gICAgICAgIHNhbGVzbWFuYWdlciA6IHRydWUsXG4gICAgICAgIGNobSA6IHRydWUsXG4gICAgICAgIHN1cnZleWV4ZWN1dGl2ZSA6IHRydWUsXG4gICAgICAgIHByb2plY3RtYW5hZ2VyIDogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJvamVjdHNSZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcHJvamVjdHMgfTtcbiAgICByZXR1cm4gcHJvamVjdHNSZXNwb25zZU9ialxuICB9XG4gIGNhdGNoIChlcnJvcikge1xuICAgIHByb2plY3RzUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHByb2plY3RzUmVzcG9uc2VPYmpcbiAgfVxufVxuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCB7IFVwbG9hZEZpbGVPblMzIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiXG5cbmV4cG9ydCBjb25zdCBnZXRGaWxlVXJsID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgRmlsZVVybFJlc3BvbnNlT2JqO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoY29udGV4dCwgXCJERFwiKVxuICAgICAgICBjb25zdCB7IGF0dGFjaG1lbnQgfSA9IGFyZ3NcblxuICAgICAgICBjb25zdCBhdHRhY2htZW50RmlsZSA9IHtcbiAgICAgICAgICAgIGtleTogYXR0YWNobWVudC5maWxlbmFtZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBhdHRhY2htZW50LkNvbnRlbnRfVHlwZSxcbiAgICAgICAgICAgIGJhc2U2NDogYXR0YWNobWVudC5iYXNlNjQsXG4gICAgICAgICAgICB1c2VyaWQ6IHVzZXIudXNlcmlkLFxuICAgICAgICAgICAgaXNwcmVvcnBvc3Q6IDEsXG4gICAgICAgIH07XG4gICAgICAgY29uc3QgIHRvUzMgPSBhd2FpdCBVcGxvYWRGaWxlT25TMyhhdHRhY2htZW50RmlsZSk7XG5cbiAgICAgICAgYXR0YWNobWVudC5iYXNlNjQgPSB0b1MzLmxvY2F0aW9uO1xuICAgICAgICBGaWxlVXJsUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHRvUzMgfVxuICAgICAgICByZXR1cm4gRmlsZVVybFJlc3BvbnNlT2JqO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEZpbGVVcmxSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIEZpbGVVcmxSZXNwb25zZU9iajtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBkZWZhdWx0UmVzcG9uc2VPYmogfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdldEZpbGVzRm9yUHJvamVjdHMgPSBhc3luYyhfcm9vdCwgYXJncywgX2NvbnRleHQpID0+e1xuICAgICBjb25zdCB7aWR9ID0gYXJncztcbiAgICAgdHJ5e1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6e1xuICAgICAgICAgICAgICAgIGlkOmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGlmKCFwcm9qZWN0KXtcbiAgICAgICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gNDAwXG4gICAgICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZSA9ICdObyBQcm9qZWN0IGZvdW5kIGZvciBnaXZlbiBJZCdcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0UmVzcG9uc2VPYmo7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmNvZGUgPSAyMDBcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmRhdGEgPSBwcm9qZWN0Lm1pbGVzdG9uZXMuYXR0cmlidXRlcy5maWxlc19jaGVja2xpc3Q7XG4gICAgIH1cbiAgICAgY2F0Y2goZSl7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gNDAwXG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gZS5tZXNzYWdlXG4gICAgIH1cbiAgICAgcmV0dXJuIGRlZmF1bHRSZXNwb25zZU9iajtcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldE9sZFByb2plY3QgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGNvbnN0IGdldE9sZFByb2plY3RzID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBhcmdzLmlkLCBpc25ld3BheW1lbnRwcm9qZWN0OiBmYWxzZSB9LFxuICAgIH0pO1xuICAgIGNvbnN0IG1vZHVsYXJhbW91bnQgPSBnZXRPbGRQcm9qZWN0cy5wcm9qZWN0bW9kdWxhcnZhbHVlO1xuICAgIGNvbnN0IHNpdGVzc2VydmljZWFtb3VudCA9IGdldE9sZFByb2plY3RzLnByb2plY3RzaXRlc2VydmljZXN2YWx1ZTtcbiAgICBjb25zdCBtb2R1bGFyY29sbGVjdGVkYW1vdW50ID0gZ2V0T2xkUHJvamVjdHMubW9kdWxhcl9jb2xsZWN0ZWRfYW1vdW50O1xuICAgIGNvbnN0IHNpdGVzZXJ2aWNlc2NvbGxlY3RlZGFtb3VudCA9IGdldE9sZFByb2plY3RzLnNpdGVfc2VydmljZXNfY29sbGVjdGVkX2Ftb3VudDtcbiAgICBjb25zdCBjb2xsZWN0ZWRhbW91bnQgPSBnZXRPbGRQcm9qZWN0cy5hY2hpZXZlZHJldmVudWV2YWx1ZTtcbiAgICBsZXQgb2xkcHJvamVjdFJlc3BvbnNlT2JqID0gbnVsbDtcbiAgICBvbGRwcm9qZWN0UmVzcG9uc2VPYmogPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbWVzc2FnZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIG1vZHVsYXJhbW91bnQ6IG1vZHVsYXJhbW91bnQsXG4gICAgICAgIHNpdGVzc2VydmljZWFtb3VudDogc2l0ZXNzZXJ2aWNlYW1vdW50LFxuICAgICAgICBtb2R1bGFyX2NvbGxlY3RlZF9hbW91bnQ6IG1vZHVsYXJjb2xsZWN0ZWRhbW91bnQsXG4gICAgICAgIHNpdGVfc2VydmljZXNfY29sbGVjdGVkX2Ftb3VudDogc2l0ZXNlcnZpY2VzY29sbGVjdGVkYW1vdW50LFxuICAgICAgICBjb2xsZWN0ZWRhbW91bnQ6IGNvbGxlY3RlZGFtb3VudFxuICAgIH07XG4gICAgcmV0dXJuIG9sZHByb2plY3RSZXNwb25zZU9iajtcblxuXG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBtYXBBbGxVc2VycyB9IGZyb20gXCIuLi8uLi91c2Vycy9RdWVyaWVzL0dldEFsbFVzZXJzXCI7XG5pbXBvcnQge1xuICBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdCxcbiAgcXVlcnlGb3JGZXRjaGluZ1RlbXBsYXRlLFxufSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdldFByb2plY3RCeUlkID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGdldFByb2plY3RzID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBpZDogYXJncy5pZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjdXN0b21lcjoge1xuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGFkZHJlc3Nlczoge1xuICAgICAgICAgICAgICBpbmNsdWRlOiB7IGN1c3RvbWVyczogdHJ1ZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkZXNpZ25zdHVkaW86IHRydWUsXG4gICAgICAgIGV4cGVyaWVuY2VjZW50ZXI6IHRydWUsXG4gICAgICAgIGNpdHk6IHRydWUsXG4gICAgICAgIGRlc2lnbmVyOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnM6IHtcbiAgICAgICAgICAgICAgaW5jbHVkZTogeyBjZW50ZXI6IHRydWUgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2Vyc19jaXR5OiB7XG4gICAgICAgICAgICAgIGluY2x1ZGU6IHsgY2l0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZXJzX3RlYW06IHtcbiAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIHRlYW06IHRydWUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNhbGVzbWFuYWdlcjogdHJ1ZSxcbiAgICAgICAgY2htOiB0cnVlLFxuICAgICAgICBzdXJ2ZXlleGVjdXRpdmU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHVwZGF0ZVByb2plY3RPYmogPSB7fTtcbiAgICBjb25zb2xlLmxvZygzOCwgZ2V0UHJvamVjdHMpO1xuICAgIGlmIChnZXRQcm9qZWN0cykge1xuICAgICAgY29uc3QgZGVzaWduZXIgPSBtYXBBbGxVc2VycyhbZ2V0UHJvamVjdHM/LmRlc2lnbmVyXSk7XG4gICAgICBpZiAoZGVzaWduZXIpIHtcbiAgICAgICAgZ2V0UHJvamVjdHMuZGVzaWduZXIgPSBkZXNpZ25lclswXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFnZXRQcm9qZWN0cy5xdW90ZWxpbmspIHtcbiAgICAgIHVwZGF0ZVByb2plY3RPYmpbXCJxdW90ZWxpbmtcIl0gPSBnZXRQcm9qZWN0cy5xdW90ZWxpbmsgPSBnZXRQZGZMaW5rcyhcbiAgICAgICAgZ2V0UHJvamVjdHMubWlsZXN0b25lcyxcbiAgICAgICAgXCJtb2R1bGFyXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGdldFByb2plY3RzLnByb2plY3RzaXRlc2VydmljZXN2YWx1ZSAmJlxuICAgICAgIWdldFByb2plY3RzLnNpdGVzZXJ2aWNlcGRmbGlua1xuICAgICkge1xuICAgICAgdXBkYXRlUHJvamVjdE9ialtcInNpdGVzZXJ2aWNlcGRmbGlua1wiXSA9IGdldFByb2plY3RzLnNpdGVzZXJ2aWNlcGRmbGluayA9XG4gICAgICAgIGdldFBkZkxpbmtzKGdldFByb2plY3RzLm1pbGVzdG9uZXMsIFwic2l0ZXNlcnZpY2VcIik7XG4gICAgfVxuXG4gICAgaWYgKCFnZXRQcm9qZWN0cy5taWxlc3RvbmVzKSB7XG4gICAgICBjb25zdCBwcm9qZWN0VGVtcGxhdGVzID0gYXdhaXQgY2FsbEV4dGVybmFsQVBJV2l0aFBvc3QoXG5cbiAgICAgICAgXCJodHRwczovL2Ntcy5kZXNpZ25jYWZlLmNvbS9ncmFwaHFsbVwiLFxuXG4gICAgICAgIHF1ZXJ5Rm9yRmV0Y2hpbmdUZW1wbGF0ZVxuICAgICAgKTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBhcmdzLmlkLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbWlsZXN0b25lczogcHJvamVjdFRlbXBsYXRlcz8uZGF0YT8ucHJvamVjdFRlbXBsYXRlcy5kYXRhWzBdLFxuICAgICAgICAgIGN1cnJlbnRtaWxlc3RvbmU6IFwiU2l0ZSBTdXJ2ZXlcIixcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZ2V0UHJvamVjdHMuY3VycmVudG1pbGVzdG9uZSA9IFwiU2l0ZSBTdXJ2ZXlcIjtcbiAgICB9XG4gICAgaWYgKGdldFByb2plY3RzLmlzaW1vc3Byb2plY3QgJiYgIWdldFByb2plY3RzLnF1b3RlaWQpIHtcbiAgICAgIGNvbnN0IG1vZHVsYXJCZWZvcmVUYXggPSAoK2dldFByb2plY3RzLnByb2plY3Rtb2R1bGFydmFsdWUgKiAxMDApIC8gMTE4O1xuICAgICAgY29uc3QgcmV2ZXJzZU1vZHVsYXJEaXNjID1cbiAgICAgICAgKDEwMCAtIE1hdGguYWJzKGdldFByb2plY3RzLm1vZHVsYXJkaXNjb3VudCkpIC8gMTAwO1xuICAgICAgY29uc3QgbW9kdWxhckJhc2VBbW91bnQgPVxuICAgICAgICBtb2R1bGFyQmVmb3JlVGF4IC8gcmV2ZXJzZU1vZHVsYXJEaXNjIHx8IG1vZHVsYXJCZWZvcmVUYXg7XG4gICAgICBnZXRQcm9qZWN0cy5tb2R1bGFyYmFzZWFtb3VudCA9IHBhcnNlRmxvYXQobW9kdWxhckJhc2VBbW91bnQudG9GaXhlZCgyKSk7XG4gICAgICBpZiAoZ2V0UHJvamVjdHMucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNpdGVCZWZvcmVUYXggPVxuICAgICAgICAgICgrZ2V0UHJvamVjdHMucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlICogMTAwKSAvIDExODtcbiAgICAgICAgY29uc3QgcmV2ZXJzZVNpdGVEaXNjID1cbiAgICAgICAgICAoMTAwIC0gTWF0aC5hYnMoZ2V0UHJvamVjdHMuc2l0ZXNlcnZpY2VkaXNjb3VudCkpIC8gMTAwO1xuICAgICAgICBjb25zdCBzaXRlQmFzZUFtb3VudCA9IHNpdGVCZWZvcmVUYXggLyByZXZlcnNlU2l0ZURpc2MgfHwgc2l0ZUJlZm9yZVRheDtcbiAgICAgICAgZ2V0UHJvamVjdHMuc2l0ZXNlcnZpY2ViYXNlYW1vdW50ID0gcGFyc2VGbG9hdChcbiAgICAgICAgICBzaXRlQmFzZUFtb3VudC50b0ZpeGVkKDIpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVByb2plY3RPYmpbXCJtb2R1bGFyYmFzZWFtb3VudFwiXSA9IGdldFByb2plY3RzLm1vZHVsYXJiYXNlYW1vdW50O1xuICAgICAgdXBkYXRlUHJvamVjdE9ialtcInNpdGVzZXJ2aWNlYmFzZWFtb3VudFwiXSA9XG4gICAgICAgIGdldFByb2plY3RzLnNpdGVzZXJ2aWNlYmFzZWFtb3VudDtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiBhcmdzLmlkLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB1cGRhdGVQcm9qZWN0T2JqLFxuICAgICAgfSk7XG4gICAgICBsZXQgcXVvdGU7XG4gICAgICBjb25zdCBwcm9qTW9kdWxhclZhbHVlID0gZ2V0UHJvamVjdHMucHJvamVjdG1vZHVsYXJ2YWx1ZTtcbiAgICAgIGNvbnN0IHByb2pTaXRlVmFsdWUgPSBnZXRQcm9qZWN0cy5wcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWU7XG4gICAgICBjb25zdCBwcm9qTW9kdWxhckRpc2NvdW50ID0gZ2V0UHJvamVjdHMubW9kdWxhcmRpc2NvdW50O1xuICAgICAgY29uc3QgcHJvalNpdGVEaXNjb3VudCA9IGdldFByb2plY3RzLnNpdGVzZXJ2aWNlZGlzY291bnQ7XG4gICAgICBjb25zdCBkYlF1b3RlT2JqOiBhbnkgPSB7XG4gICAgICAgIG9wcG9ydHVuaXR5aWQ6IGdldFByb2plY3RzLm9wcG9ydHVuaXR5aWQsXG4gICAgICAgIGN1c3RvbWVybmFtZTogW1xuICAgICAgICAgIGdldFByb2plY3RzPy5jdXN0b21lci5maXJzdG5hbWUsXG4gICAgICAgICAgZ2V0UHJvamVjdHM/LmN1c3RvbWVyLmxhc3RuYW1lLFxuICAgICAgICBdLmpvaW4oXCIgXCIpLFxuICAgICAgICBtb2R1bGFyZGlzY291bnQ6IHByb2pNb2R1bGFyRGlzY291bnQsXG4gICAgICAgIC4uLihwcm9qU2l0ZURpc2NvdW50ICYmIHsgc2l0ZXNlcnZpY2VkaXNjb3VudDogcHJvalNpdGVEaXNjb3VudCB9KSxcbiAgICAgICAgbW9kdWxhcnZhbHVlOiBwcm9qTW9kdWxhclZhbHVlLFxuICAgICAgICAuLi4ocHJvalNpdGVWYWx1ZSAmJiB7IHNpdGVzZXJ2aWNlOiBwcm9qU2l0ZVZhbHVlIH0pLFxuICAgICAgICBpc2xhdGVzdHF1b3RlOiB0cnVlLFxuICAgICAgICBxdW90ZW5hbWU6XG4gICAgICAgICAgW1xuICAgICAgICAgICAgZ2V0UHJvamVjdHM/LmN1c3RvbWVyLmZpcnN0bmFtZSxcbiAgICAgICAgICAgIGdldFByb2plY3RzPy5jdXN0b21lci5sYXN0bmFtZSxcbiAgICAgICAgICBdLmpvaW4oXCIgXCIpICsgXCIgUXVvdGUgMVwiLFxuICAgICAgICBpc2ltb3Nwcm9qZWN0OiB0cnVlLFxuICAgICAgfTtcbiAgICAgIHF1b3RlID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfcXVvdGVzLmNyZWF0ZSh7IGRhdGE6IGRiUXVvdGVPYmogfSk7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogYXJncy5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YTogeyBxdW90ZWlkOiBxdW90ZS5pZCB9LFxuICAgICAgfSk7XG4gICAgICBnZXRQcm9qZWN0cy5xdW90ZWlkID0gcXVvdGUuaWQ7XG4gICAgfVxuXG4gICAgY29uc3QgZGVzaWduZXJBc3NpZ25lZFRvUHJvamVjdCA9IGdldFByb2plY3RzLmRlc2lnbmVyO1xuICAgIGdldFByb2plY3RzLmRlc2lnbmVyID0gZGVzaWduZXJBc3NpZ25lZFRvUHJvamVjdDtcbiAgICBkZWxldGUgZ2V0UHJvamVjdHMubWlsZXN0b25lcztcbiAgICBjb25zdCBzdXJ2ZXlFeGVjdXRpdmVzID0gYXdhaXQgZ2V0U3VydmV5RXhlY3V0aXZlcyhcbiAgICAgIGdldFByb2plY3RzLmV4cGVyaWVuY2VjZW50ZXJpZFxuICAgICk7XG4gICAgY29uc3QgUEFNUHJvZmlsZXMgPSBhd2FpdCBnZXRQQU1Qcm9maWxlcyhnZXRQcm9qZWN0cy5kZXNpZ25lcmlkKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NcIixcbiAgICAgIGRhdGE6IGdldFByb2plY3RzLFxuICAgICAgc3VydmV5RXhlY3V0aXZlczogc3VydmV5RXhlY3V0aXZlcyxcbiAgICAgIHBhbVByb2ZpbGVzOiBQQU1Qcm9maWxlcyxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKDExNywgZXJyb3IpO1xuICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59O1xuY29uc3QgZ2V0U3VydmV5RXhlY3V0aXZlcyA9IGFzeW5jIChleHBlcmllbmNlY2VudGVyaWQpID0+IHtcbiAgLy8gZ2V0IHVzZXJzIHdpdGggcHJvZmlsZSBzdXJ2ZXkgZXhlY3V0aXZlXG4gIGNvbnN0IGZldGNoZWRTdXJ2ZXlFeGVjdXRpdmVzID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgcHJvZmlsZWlkOiAxNSxcbiAgICB9LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIHVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzOiB7XG4gICAgICAgIGluY2x1ZGU6IHsgY2VudGVyOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBzdXJ2ZXlFeGVjdXRpdmVzID0gW107XG4gIGlmIChmZXRjaGVkU3VydmV5RXhlY3V0aXZlcy5sZW5ndGggPiAwKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBmZXRjaGVkU3VydmV5RXhlY3V0aXZlcy5tYXAoKHN1cnZleUV4ZWN1dGl2ZSkgPT4ge1xuICAgICAgICBzdXJ2ZXlFeGVjdXRpdmUudXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMubWFwKChleGMpID0+IHtcbiAgICAgICAgICBpZiAoZXhjLmNlbnRlcmlkID09PSBleHBlcmllbmNlY2VudGVyaWQpIHtcbiAgICAgICAgICAgIHN1cnZleUV4ZWN1dGl2ZXMucHVzaChzdXJ2ZXlFeGVjdXRpdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc3VydmV5RXhlY3V0aXZlcztcbn07XG5jb25zdCBnZXRQQU1Qcm9maWxlcyA9IGFzeW5jIChkZXNpZ25lcmlkKSA9PiB7XG4gIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBwcmlzbWEuZGNfcHJvZmlsZS5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7IHByb2ZpbGVfbmFtZTogXCJDSE0gRXhlY3V0aXZlXCIgfSxcbiAgfSk7XG4gIGxldCBmZXRjaFVzZXIgPSBbXTtcbiAgY29uc3QgcHJvZmlsZXMgPSBbXTtcbiAgY29uc3QgZmV0Y2hUZWFtID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzX3RlYW0uZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyB1c2VyaWQ6IGRlc2lnbmVyaWQgfSxcbiAgfSk7XG4gIGZldGNoVXNlciA9IGF3YWl0IHByaXNtYS5kY191c2Vyc190ZWFtLmZpbmRNYW55KHtcbiAgICB3aGVyZTogeyB0ZWFtaWQ6IGZldGNoVGVhbS50ZWFtaWQgfSxcbiAgICBzZWxlY3Q6IHsgdXNlcmlkOiB0cnVlIH0sXG4gIH0pO1xuICB2YXIgZmV0Y2hlZFVzZXIgPSBmZXRjaFVzZXI7XG4gIGxldCBnZXRVc2VyUHJvZmlsZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZXRjaGVkVXNlci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChmZXRjaGVkVXNlcltpXS51c2VyaWQgIT09IG51bGwpIHtcbiAgICAgIGdldFVzZXJQcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJpZDogZmV0Y2hlZFVzZXJbaV0udXNlcmlkIH0sXG4gICAgICB9KTtcbiAgICAgIGlmIChnZXRVc2VyUHJvZmlsZS5wcm9maWxlaWQgPT09IHByb2ZpbGUucHJvZmlsZWlkKSB7XG4gICAgICAgIHByb2ZpbGVzLnB1c2goZ2V0VXNlclByb2ZpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvZmlsZXM7XG59O1xuXG5jb25zdCBnZXRQZGZMaW5rcyA9IChtaWxlc3RvbmUsIHR5cGUpID0+IHtcbiAgY29uc3QgZGF0YSA9IG1pbGVzdG9uZS5hdHRyaWJ1dGVzLmZpbGVzX2NoZWNrbGlzdDtcbiAgbGV0IGxpbms7XG4gIGlmICh0eXBlID09PSBcIm1vZHVsYXJcIikge1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY2hlY2tsaXN0X3N0cmluZyA9PT0gXCJNb2R1bGFyIFF1b3RhdGlvblwiKSB7XG4gICAgICAgIGxpbmsgPSBlbGVtZW50LmZpbGV1cmw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwic2l0ZXNlcnZpY2VcIikge1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuY2hlY2tsaXN0X3N0cmluZyA9PT0gXCJTaXRlIFNlcnZpY2VzIFF1b3RhdGlvblwiKSB7XG4gICAgICAgIGxpbmsgPSBlbGVtZW50LmZpbGV1cmw7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGxpbms7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0UHJvamVjdENvc3RCcmVha3VwID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHByb2plY3RDb3N0QnJlYWt1cFJlc3BvbnNlT2JqO1xuICBjb25zdCBnZXRQcm9qZWN0cyA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7IGlkOiBhcmdzLmlkIH0sXG4gIH0pO1xuICBjb25zdCBtaWxlc3RvbmU6IGFueSA9IGdldFByb2plY3RzLm1pbGVzdG9uZXM7XG4gIGNvbnN0IFByb2plY3RWYWx1ZSA9IGdldFByb2plY3RzLnRvdGFscHJvamVjdHZhbHVlO1xuICBjb25zdCBDb2xsZWN0ZWRBbW91bnQgPSBnZXRQcm9qZWN0cy5hY2hpZXZlZHJldmVudWV2YWx1ZTtcbiAgY29uc3QgbW9kdWxhckNvbGxlY3RlZEFtb3VudCA9IGdldFByb2plY3RzLm1vZHVsYXJfY29sbGVjdGVkX2Ftb3VudDtcbiAgY29uc3QgbW9kdWxhcmJhc2VhbW91bnQgPSBnZXRQcm9qZWN0cy5tb2R1bGFyYmFzZWFtb3VudDtcbiAgY29uc3QgbW9kdWxhcmRpc2NvdW50ID0gZ2V0UHJvamVjdHMubW9kdWxhcmRpc2NvdW50O1xuICBjb25zdCBwcm9qZWN0bW9kdWxhcnZhbHVlID0gZ2V0UHJvamVjdHMucHJvamVjdG1vZHVsYXJ2YWx1ZTtcbiAgY29uc3QgbW9kdWxhcmluY2x1c2l2ZWdzdCA9IGdldFByb2plY3RzLnByb2plY3Rtb2R1bGFydmFsdWU7XG4gIGNvbnN0IHNpdGVzZXJ2aWNlaW5jbHVzaXZlZ3N0ID0gZ2V0UHJvamVjdHMucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlO1xuICBjb25zdCBtb2R1bGFyaW52b2ljZWRhbW91bnQgPSBnZXRQcm9qZWN0cy5tb2R1bGFyaW52b2ljZWRhbW91bnQ7XG4gIGNvbnN0IHNpdGVzZXJ2aWNlaW52b2ljZWRhbW91bnQgPSBnZXRQcm9qZWN0cy5zaXRlc2VydmljZWludm9pY2VkYW1vdW50O1xuICBjb25zdCBzaXRlU2VydmljZXNDb2xsZWN0ZWRBbW91bnQgPVxuICAgIGdldFByb2plY3RzLnNpdGVfc2VydmljZXNfY29sbGVjdGVkX2Ftb3VudDtcbiAgbGV0IHByb2plY3RzaXRlc2VydmljZXZhbHVlID0gZ2V0UHJvamVjdHMucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlO1xuICBjb25zdCBzaXRlc2VydmljZWJhc2VhbW91bnQgPSBnZXRQcm9qZWN0cy5zaXRlc2VydmljZWJhc2VhbW91bnQ7XG4gIGNvbnN0IHNpdGVzZXJ2aWNlZGlzY291bnQgPSBnZXRQcm9qZWN0cy5zaXRlc2VydmljZWRpc2NvdW50O1xuICBjb25zdCBwZW5kaW5nYW1vdW50dmFsdWUgPSBnZXRQcm9qZWN0cy5wZW5kaW5nYW1vdW50dmFsdWU7XG4gIGNvbnN0IHRlbXBsYXRlID0gbWlsZXN0b25lLmF0dHJpYnV0ZXMuVGVtcGxhdGVfTmFtZTtcbiAgaWYgKHRlbXBsYXRlID09PSBcIlByb2plY3QgVGVtcGxhdGUgMVwiKSB7XG4gICAgY29uc3QgbW9kdWxhcm5hbWVmb3I1UGVyY2VudGFnZSA9XG4gICAgICBtaWxlc3RvbmUuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlsc1swXS5sYWJlbDtcbiAgICBjb25zdCBtb2R1bGFyQW1vdW50Zm9yNVBlcmNlbnRhZ2UgPSAobW9kdWxhcmluY2x1c2l2ZWdzdCAqIDUpIC8gMTAwO1xuICAgIGNvbnN0IG1vZHVsYXJuYW1lZm9yMTVQZXJjZW50YWdlID1cbiAgICAgIG1pbGVzdG9uZS5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzWzRdLmxhYmVsO1xuICAgIGNvbnN0IG1vZHVsYXJBbW91bnRmb3IxNVBlcmNlbnRhZ2UgPSAobW9kdWxhcmluY2x1c2l2ZWdzdCAqIDIwKSAvIDEwMDtcbiAgICBjb25zdCBtb2R1bGFybmFtZWZvcjM1UGVyY2VudGFnZSA9XG4gICAgICBtaWxlc3RvbmUuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlsc1s5XS5sYWJlbDtcbiAgICBjb25zdCBtb2R1bGFyQW1vdW50Zm9yMzVQZXJjZW50YWdlID0gKG1vZHVsYXJpbmNsdXNpdmVnc3QgKiA1NSkgLyAxMDA7XG4gICAgY29uc3QgbW9kdWxhckFtb3VudGZvcjQ1UGVyY2VudGFnZSA9IG1vZHVsYXJpbmNsdXNpdmVnc3Q7XG4gICAgY29uc3QgbW9kdWxhcnBkZiA9IG1pbGVzdG9uZS5hdHRyaWJ1dGVzLmZpbGVzX2NoZWNrbGlzdFszXS5maWxldXJsO1xuICAgIGNvbnN0IG1vZHVsYXJuYW1lZm9yNDVQZXJjZW50YWdlID1cbiAgICAgIG1pbGVzdG9uZS5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzWzEyXS5sYWJlbDtcbiAgICBjb25zdCBzaXRlc2VydmljZW5hbWVmb3I1UGVyY2VudGFnZSA9IFwiU2l0ZSBTZXJ2aWNlIGZvciA1JVwiO1xuICAgIGNvbnN0IHNpdGVzZXJ2aWNlQW1vdW50Zm9yNVBlcmNlbnRhZ2UgPSAoc2l0ZXNlcnZpY2VpbmNsdXNpdmVnc3QgKiA1KSAvIDEwMDtcbiAgICBjb25zdCBzaXRlc2VydmljZW5hbWVmb3I0NVBlcmNlbnRhZ2UgPSBcIlNpdGUgU2VydmljZSBmb3IgNDUlXCI7XG4gICAgY29uc3Qgc2l0ZXNlcnZpY2VBbW91bnRmb3I0NVBlcmNlbnRhZ2UgPVxuICAgICAgKHNpdGVzZXJ2aWNlaW5jbHVzaXZlZ3N0ICogNTApIC8gMTAwO1xuICAgIGNvbnN0IHNpdGVzZXJ2aWNlbmFtZWZvcjUwUGVyY2VudGFnZSA9IFwiU2l0ZSBTZXJ2aWNlIGZvciA1MCVcIjtcbiAgICBjb25zdCBzaXRlc2VydmljZUFtb3VudGZvcjUwUGVyY2VudGFnZSA9IHNpdGVzZXJ2aWNlaW5jbHVzaXZlZ3N0O1xuICAgIGNvbnN0IHNpdGVzZXJ2aWNlc3BkZiA9IG1pbGVzdG9uZS5hdHRyaWJ1dGVzLmZpbGVzX2NoZWNrbGlzdFs0XS5maWxldXJsO1xuICAgIGNvbnN0IG1vZHVsYXJNaWxlc3RvbmUgPSB7XG4gICAgICBtb2R1bGFybmFtZWZvcjVfcGVyY2VudGFnZTogbW9kdWxhcm5hbWVmb3I1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJBbW91bnRmb3I1X3BlcmNlbnRhZ2U6IG1vZHVsYXJBbW91bnRmb3I1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJuYW1lZm9yMTVfcGVyY2VudGFnZTogbW9kdWxhcm5hbWVmb3IxNVBlcmNlbnRhZ2UsXG4gICAgICBtb2R1bGFyQW1vdW50Zm9yMTVfcGVyY2VudGFnZTogbW9kdWxhckFtb3VudGZvcjE1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJuYW1lZm9yMzVfcGVyY2VudGFnZTogbW9kdWxhcm5hbWVmb3IzNVBlcmNlbnRhZ2UsXG4gICAgICBtb2R1bGFyQW1vdW50Zm9yMzVfcGVyY2VudGFnZTogbW9kdWxhckFtb3VudGZvcjM1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJuYW1lZm9yNDVQZXJjZW50YWdlOiBtb2R1bGFybmFtZWZvcjQ1UGVyY2VudGFnZSxcbiAgICAgIG1vZHVsYXJBbW91bnRmb3I0NV9wZXJjZW50YWdlOiBtb2R1bGFyQW1vdW50Zm9yNDVQZXJjZW50YWdlLFxuICAgIH07XG4gICAgY29uc3Qgc2l0ZVNlcnZpY2VNaWxlc3RvbmUgPSB7XG4gICAgICBzaXRlc2VydmljZW5hbWVmb3I1X3BlcmNlbnRhZ2U6IHNpdGVzZXJ2aWNlbmFtZWZvcjVQZXJjZW50YWdlLFxuICAgICAgc2l0ZXNlcnZpY2VBbW91bnRmb3I1X3BlcmNlbnRhZ2U6IHNpdGVzZXJ2aWNlQW1vdW50Zm9yNVBlcmNlbnRhZ2UsXG4gICAgICBzaXRlc2VydmljZW5hbWVmb3I0NV9wZXJjZW50YWdlOiBzaXRlc2VydmljZW5hbWVmb3I0NVBlcmNlbnRhZ2UsXG4gICAgICBzaXRlc2VydmljZUFtb3VudGZvcjQ1X3BlcmNlbnRhZ2U6IHNpdGVzZXJ2aWNlQW1vdW50Zm9yNDVQZXJjZW50YWdlLFxuICAgICAgc2l0ZXNlcnZpY2VuYW1lZm9yNTBfcGVyY2VudGFnZTogc2l0ZXNlcnZpY2VuYW1lZm9yNTBQZXJjZW50YWdlLFxuICAgICAgc2l0ZXNlcnZpY2VBbW91bnRmb3I1MF9wZXJjZW50YWdlOiBzaXRlc2VydmljZUFtb3VudGZvcjUwUGVyY2VudGFnZSxcbiAgICB9O1xuICAgIGNvbnN0IFByb2plY3RzdGF0dXMgPSBnZXRQcm9qZWN0cy5wcm9qZWN0c3RhdHVzO1xuICAgIHByb2plY3RDb3N0QnJlYWt1cFJlc3BvbnNlT2JqID0ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbWVzc2FnZTogXCJzdWNjZXNzXCIsXG4gICAgICBQcm9qZWN0VmFsdWU6IFByb2plY3RWYWx1ZSxcbiAgICAgIENvbGxlY3RlZEFtb3VudDogQ29sbGVjdGVkQW1vdW50LFxuICAgICAgbW9kdWxhckNvbGxlY3RlZEFtb3VudDogbW9kdWxhckNvbGxlY3RlZEFtb3VudCxcbiAgICAgIHNpdGVTZXJ2aWNlc0NvbGxlY3RlZEFtb3VudDogc2l0ZVNlcnZpY2VzQ29sbGVjdGVkQW1vdW50LFxuICAgICAgbW9kdWxhcmJhc2VhbW91bnQ6IG1vZHVsYXJiYXNlYW1vdW50LFxuICAgICAgbW9kdWxhcmRpc2NvdW50OiBtb2R1bGFyZGlzY291bnQsXG4gICAgICBzaXRlc2VydmljZWJhc2VhbW91bnQ6IHNpdGVzZXJ2aWNlYmFzZWFtb3VudCxcbiAgICAgIHNpdGVzZXJ2aWNlZGlzY291bnQ6IHNpdGVzZXJ2aWNlZGlzY291bnQsXG4gICAgICBwcm9qZWN0bW9kdWxhcnZhbHVlOiBwcm9qZWN0bW9kdWxhcnZhbHVlLFxuICAgICAgcHJvamVjdHNpdGVzZXJ2aWNldmFsdWU6IHByb2plY3RzaXRlc2VydmljZXZhbHVlLFxuICAgICAgbW9kdWxhck1pbGVzdG9uZTogbW9kdWxhck1pbGVzdG9uZSxcbiAgICAgIHNpdGVTZXJ2aWNlTWlsZXN0b25lOiBzaXRlU2VydmljZU1pbGVzdG9uZSxcbiAgICAgIG1vZHVsYXJpbmNsdXNpdmVnc3Q6IG1vZHVsYXJpbmNsdXNpdmVnc3QsXG4gICAgICBzaXRlc2VydmljZWluY2x1c2l2ZWdzdDogc2l0ZXNlcnZpY2VpbmNsdXNpdmVnc3QsXG4gICAgICBtb2R1bGFycGRmOiBtb2R1bGFycGRmLFxuICAgICAgc2l0ZXNlcnZpY2VzcGRmOiBzaXRlc2VydmljZXNwZGYsXG4gICAgICBwZW5kaW5nYW1vdW50dmFsdWU6IHBlbmRpbmdhbW91bnR2YWx1ZSxcbiAgICAgIFByb2plY3RzdGF0dXM6IFByb2plY3RzdGF0dXMsXG4gICAgICBtb2R1bGFyaW52b2ljZWRhbW91bnQ6IG1vZHVsYXJpbnZvaWNlZGFtb3VudCxcbiAgICAgIHNpdGVzZXJ2aWNlaW52b2ljZWRhbW91bnQ6IHNpdGVzZXJ2aWNlaW52b2ljZWRhbW91bnRcbiAgICB9O1xuICB9XG4gIHJldHVybiBwcm9qZWN0Q29zdEJyZWFrdXBSZXNwb25zZU9iajtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IFByb2plY3RGaWx0ZXJFbnVtIGZyb20gXCIuLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1Byb2plY3RGaWx0ZXJFbnVtXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0c0J5RmlsdGVyID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoVGV4dCwgZmlsdGVyLCBzb3J0aW5nIH0gPSBhcmdzO1xuICAgIGxldCB1c2VyO1xuICAgIHRyeSB7XG4gICAgICB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKF9jb250ZXh0LCBcIkREXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICAgIGlmICh1c2VyKSB7XG4gICAgICBsZXQgd2hlcmVDbGF1c2U6IGFueSA9IHt9O1xuICAgICAgbGV0IG9yZGVyQnk6IGFueSA9IHt9O1xuXG4gICAgICBzd2l0Y2ggKHVzZXI/LnByb2ZpbGU/LmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6IHtcbiAgICAgICAgICAvL0luaG91c2UgRGVzaWduZXIgOi0gb25seSBhc3NpZ25lZCBwcm9qZWN0cy5cbiAgICAgICAgICAvL0Rlc2lnbiBQYXJ0bmVyIDotIG9ubHkgYXNzaWduZWQgcHJvamVjdHMuXG4gICAgICAgICAgLy9EZXNpZ25lcklEL2NobUlEL3N1cnZleUlEXG5cbiAgICAgICAgICB3aGVyZUNsYXVzZSA9IHtcbiAgICAgICAgICAgIE9SOiBbXG4gICAgICAgICAgICAgIHsgZGVzaWduZXJpZDogdXNlci51c2VyaWQgfSxcbiAgICAgICAgICAgICAgeyBjaG1pZDogdXNlci51c2VyaWQgfSxcbiAgICAgICAgICAgICAgeyBzdXJ2ZXlleGVjdXRpdmVpZDogdXNlci51c2VyaWQgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICAvL1N0dWRpbyBNYW5hZ2VyLURQIDotIEJhc2VkIG9uIHRoZSBzdHVkaW8uXG4gICAgICAgICAgLy9TdHVkaW8gTWFuYWdlciA6LSBCYXNlZCBvbiB0aGUgc3R1ZGlvLlxuICAgICAgICAgIC8vQ0hNIE1hbmFnZXIgOi0gQmFzZWQgb24gdGhlIHN0dWRpby5cbiAgICAgICAgICB3aGVyZUNsYXVzZS5PUiA9IFtdO1xuICAgICAgICAgIHVzZXIudXNlcnNfdGVhbT8uZm9yRWFjaCgodGVhbSkgPT4ge1xuICAgICAgICAgICAgd2hlcmVDbGF1c2UuT1IucHVzaCh7IGRlc2lnbnN0dWRpb2lkOiB0ZWFtLnRlYW1pZCB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICAvL0NlbnRlciBEZWxpdmVyeSBIZWFkIDotIEJhc2VkIG9uIHRoZSBleHBlcmllbmNlIGNlbnRlci5cbiAgICAgICAgICAvL1N1cnZleSBFeGVjdXRpdmUgOi0gQmFzZWQgb24gdGhlIGV4cGVyaWVuY2UgY2VudGVyLlxuICAgICAgICAgIHdoZXJlQ2xhdXNlLk9SID0gW107XG4gICAgICAgICAgdXNlci51c2Vyc19leHBlcmllbmNlY2VudGVycz8uZm9yRWFjaCgoZXhwZXJpZW5jZWNlbnRlcikgPT4ge1xuICAgICAgICAgICAgd2hlcmVDbGF1c2UuT1IucHVzaCh7XG4gICAgICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXJpZDogZXhwZXJpZW5jZWNlbnRlci5jZW50ZXJpZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIC8vQ2l0eSBEZWxpdmVyeSBIZWFkIDotIEJhc2VkIG9uIHRoZSBjaXR5LlxuICAgICAgICAgIHdoZXJlQ2xhdXNlLk9SID0gW107XG4gICAgICAgICAgdXNlci51c2Vyc19jaXR5Py5mb3JFYWNoKChjaXR5KSA9PiB7XG4gICAgICAgICAgICB3aGVyZUNsYXVzZS5PUi5wdXNoKHsgY2l0eWlkOiBjaXR5LmNpdHlpZCB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAvKiAyOlN1cnZleSBNYW5hZ2VyLCA2OkFsbCBJbmRpYSBCdXNpbmVzcyBIZWFkLCA4OlN5c3RlbSBBZG1pbmlzdHJhdG9yLCA5OkNFTyBoYXZlIGFsbCBwcm9qZWN0IGFjY2Vzcy4qL1xuICAgICAgICAgIC8qIDU6RmluYW5jZSBFeGVjdXRpdmUsIDc6M0QgTWFuYWdlciwgMTA6QXNzb2NpYXRlIFN0dWRpbyBNYW5hZ2VyLCAxMjpGcmFuY2hpc2UgT3duZXIsIDE4OjNEIERlc2lnbmVyLVNoZWxsLDE5OjNEIERlc2lnbmVyLVJlbmRlcnMgYWNjZXNzIGFyZSBub3QgZGVmaW5lZCBpbiBQUkQuKi9cbiAgICAgICAgICB3aGVyZUNsYXVzZSA9IHt9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiUHJvZmlsZSBub3Qgc2V0IGZvciBnaXZlbiB1c2VyXCIsXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWFyY2hUZXh0ICYmIHNlYXJjaFRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgd2hlcmVDbGF1c2UuQU5EID0ge1xuICAgICAgICAgIEFORDoge1xuICAgICAgICAgICAgT1I6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb2plY3RpZDoge1xuICAgICAgICAgICAgICAgICAgY29udGFpbnM6IHNlYXJjaFRleHQgPyBzZWFyY2hUZXh0IDogXCJcIixcbiAgICAgICAgICAgICAgICAgIG1vZGU6IFwiaW5zZW5zaXRpdmVcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvamVjdG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBzZWFyY2hUZXh0ID8gc2VhcmNoVGV4dCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICBtb2RlOiBcImluc2Vuc2l0aXZlXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyICYmIGZpbHRlcj8uZmlsdGVyQnk/Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBmaWx0ZXJDb25kaXRpb25zKGZpbHRlciwgd2hlcmVDbGF1c2UpO1xuICAgICAgfSBlbHNlIGlmIChzb3J0aW5nKSB7XG4gICAgICAgIHN3aXRjaCAoc29ydGluZy5zb3J0QnkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgUHJvamVjdEZpbHRlckVudW0uUFJPSkVDVF9OQU1FOiB7XG4gICAgICAgICAgICBvcmRlckJ5ID0geyBwcm9qZWN0bmFtZTogc29ydGluZy5vcmRlciB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgUHJvamVjdEZpbHRlckVudW0uREVTSUdORVI6IHtcbiAgICAgICAgICAgIG9yZGVyQnkgPSB7IGRlc2lnbmVyaWQ6IHNvcnRpbmcub3JkZXIgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFByb2plY3RGaWx0ZXJFbnVtLlNUVURJTzoge1xuICAgICAgICAgICAgb3JkZXJCeSA9IHsgZGVzaWduc3R1ZGlvaWQ6IHNvcnRpbmcub3JkZXIgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFByb2plY3RGaWx0ZXJFbnVtLkNJVFk6IHtcbiAgICAgICAgICAgIG9yZGVyQnkgPSB7IGNpdHlpZDogc29ydGluZy5vcmRlciB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgUHJvamVjdEZpbHRlckVudW0uRUM6IHtcbiAgICAgICAgICAgIG9yZGVyQnkgPSB7IGV4cGVyaWVuY2VjZW50ZXJpZDogc29ydGluZy5vcmRlciB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgUHJvamVjdEZpbHRlckVudW0uU0lHTlVQX0RBVEU6IHtcbiAgICAgICAgICAgIG9yZGVyQnkgPSB7IHNpZ251cGRhdGU6IHNvcnRpbmcub3JkZXIgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGdldFByb2plY3RzID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHdoZXJlQ2xhdXNlLFxuICAgICAgICBvcmRlckJ5OiBvcmRlckJ5LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgY3VzdG9tZXI6IHRydWUsXG4gICAgICAgICAgZGVzaWduc3R1ZGlvOiB0cnVlLFxuICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXI6IHRydWUsXG4gICAgICAgICAgY2l0eTogdHJ1ZSxcbiAgICAgICAgICBkZXNpZ25lcjogdHJ1ZSxcbiAgICAgICAgICBzYWxlc21hbmFnZXI6IHRydWUsXG4gICAgICAgICAgY2htOiB0cnVlLFxuICAgICAgICAgIHN1cnZleWV4ZWN1dGl2ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZ2V0UHJvamVjdHM/LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnQubWlsZXN0b25lcztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogZ2V0UHJvamVjdHMsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIHByb3ZpZGUgVXNlcklEXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IGZpbHRlckNvbmRpdGlvbnMgPSAoZmlsdGVyLCB3aGVyZUNsYXVzZSkgPT4ge1xuICBjb25zdCBvckNvbmRpdGlvbiA9IFtdO1xuICBjb25zdCB7IGRlc2lnbmVycywgZmlsdGVyQnksIHN0dWRpb3MsIGNpdGllcywgZWNzLCBzdGF0dXMsIGN1cnJlbnRTdGFnZSB9ID1cbiAgICBmaWx0ZXI7XG4gIGZpbHRlckJ5Py5mb3JFYWNoKChmaWx0ZXJFbGVtZW50KSA9PiB7XG4gICAgaWYgKGZpbHRlckVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gUHJvamVjdEZpbHRlckVudW0uREVTSUdORVIpIHtcbiAgICAgIC8vRmlsdGVyIFByb2plY3RzIDotIEJhc2VkIG9uIHRoZSBkZXNpZ25lci5cbiAgICAgIGNvbnNvbGUubG9nKDEyMywgZGVzaWduZXJzKTtcbiAgICAgIGRlc2lnbmVycy5mb3JFYWNoKChkZXNpZ25lcikgPT4ge1xuICAgICAgICBvckNvbmRpdGlvbi5wdXNoKHtcbiAgICAgICAgICBkZXNpZ25lcmlkOiBkZXNpZ25lcixcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORCA9IHtcbiAgICAgICAgQU5EOiB7XG4gICAgICAgICAgT1I6IG9yQ29uZGl0aW9uLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gUHJvamVjdEZpbHRlckVudW0uU1RVRElPKSB7XG4gICAgICAvL0ZpbHRlciBQcm9qZWN0cyA6LSBCYXNlZCBvbiB0aGUgc3R1ZGlvLlxuICAgICAgc3R1ZGlvcy5mb3JFYWNoKChzdHVkaW8pID0+IHtcbiAgICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgICAgZGVzaWduc3R1ZGlvaWQ6IHN0dWRpbyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORCA9IHtcbiAgICAgICAgQU5EOiB7XG4gICAgICAgICAgT1I6IG9yQ29uZGl0aW9uLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gUHJvamVjdEZpbHRlckVudW0uQ0lUWSkge1xuICAgICAgLy9GaWx0ZXIgUHJvamVjdHMgOi0gQmFzZWQgb24gdGhlIGNpdHkuXG4gICAgICBjaXRpZXMuZm9yRWFjaCgoY2l0eSkgPT4ge1xuICAgICAgICBvckNvbmRpdGlvbi5wdXNoKHtcbiAgICAgICAgICBjaXR5aWQ6IGNpdHksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB3aGVyZUNsYXVzZS5BTkQgPSB7XG4gICAgICAgIEFORDoge1xuICAgICAgICAgIE9SOiBvckNvbmRpdGlvbixcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChmaWx0ZXJFbGVtZW50LnRvTG93ZXJDYXNlKCkgPT09IFByb2plY3RGaWx0ZXJFbnVtLkVDKSB7XG4gICAgICAvL0ZpbHRlciBQcm9qZWN0cyA6LSBCYXNlZCBvbiB0aGUgRUMuXG4gICAgICBlY3MuZm9yRWFjaCgoZWMpID0+IHtcbiAgICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgICAgZXhwZXJpZW5jZWNlbnRlcmlkOiBlYyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORCA9IHtcbiAgICAgICAgQU5EOiB7XG4gICAgICAgICAgT1I6IG9yQ29uZGl0aW9uLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gUHJvamVjdEZpbHRlckVudW0uU0lHTlVQX0RBVEUpIHtcbiAgICAgIC8vRmlsdGVyIFByb2plY3RzIDotIEJhc2VkIG9uIHRoZSBTaWduVXAgRGF0ZS5cbiAgICAgIGlmICghZmlsdGVyLnRvRGF0ZSB8fCAhZmlsdGVyLmZyb21EYXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIlBsZWFzZSBwcm92aWRlIHByb3BlciB0byBhbmQgZnJvbSBkYXRlcy5cIik7XG4gICAgICB9XG4gICAgICBvckNvbmRpdGlvbi5wdXNoKHtcbiAgICAgICAgc2lnbnVwZGF0ZToge1xuICAgICAgICAgIGd0ZTogZmlsdGVyLmZyb21EYXRlLFxuICAgICAgICAgIGx0ZTogZmlsdGVyLnRvRGF0ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgd2hlcmVDbGF1c2UuQU5EID0ge1xuICAgICAgICBBTkQ6IHtcbiAgICAgICAgICBPUjogb3JDb25kaXRpb24sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZmlsdGVyRWxlbWVudC50b0xvd2VyQ2FzZSgpID09PSBQcm9qZWN0RmlsdGVyRW51bS5TVEFUVVMpIHtcbiAgICAgIC8vRmlsdGVyIFByb2plY3RzIDotIEJhc2VkIG9uIHRoZSBTaWduVXAgU3RhdHVzLlxuICAgICAgc3RhdHVzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgb3JDb25kaXRpb24ucHVzaCh7XG4gICAgICAgICAgcHJvamVjdHN0YXR1czogZWxlbWVudCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORCA9IHtcbiAgICAgICAgQU5EOiB7XG4gICAgICAgICAgT1I6IG9yQ29uZGl0aW9uLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpbHRlckVsZW1lbnQudG9Mb3dlckNhc2UoKSA9PT0gUHJvamVjdEZpbHRlckVudW0uQ1VSUkVOVF9TVEFHRSkge1xuICAgICAgLy9GaWx0ZXIgUHJvamVjdHMgOi0gQmFzZWQgb24gdGhlIFNpZ25VcCBDdXJyZW50IFN0YWdlLlxuICAgICAgY3VycmVudFN0YWdlLmZvckVhY2goKHN0YWdlKSA9PiB7XG4gICAgICAgIG9yQ29uZGl0aW9uLnB1c2goe1xuICAgICAgICAgIGN1cnJlbnRtaWxlc3RvbmU6IHN0YWdlLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgd2hlcmVDbGF1c2UuQU5EID0ge1xuICAgICAgICBBTkQ6IHtcbiAgICAgICAgICBPUjogb3JDb25kaXRpb24sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdFJlc3BvbnNlT2JqIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5cbmV4cG9ydCBjb25zdCBnZXRTdWJUYXNrRm9yUHJvamVjdCA9IGFzeW5jKF9wYXJlbnQsIGFyZ3MsIF9jb250ZXh0KT0+IHtcbiAgICBjb25zdCB7cHJvamVjdGlkfSA9IGFyZ3M7XG4gICAgY29uc3QgbWlsZXN0b25lc0FyciA9IFtdXG4gICAgdHJ5e1xuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6e1xuICAgICAgICAgICAgICAgIGlkOnByb2plY3RpZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmKCFwcm9qZWN0KXtcbiAgICAgICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlPTQwMFxuICAgICAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLm1lc3NhZ2U9J1Byb2plY3Qgbm90IGZvdW5kIGZvciB0aGUgZ2l2ZW4gaWQnO1xuICAgICAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmRhdGEgPSBudWxsXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFJlc3BvbnNlT2JqO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coMjMscHJvamVjdC5taWxlc3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpXG5cbiAgICAgICAgcHJvamVjdC5taWxlc3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMuZm9yRWFjaChtaWxlU3RvbmVzID0+IHtcbiAgICAgICAgICAgIG1pbGVzdG9uZXNBcnIucHVzaChtaWxlU3RvbmVzKVxuICAgICAgICB9KTtcblxuICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZT0yMDBcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLm1lc3NhZ2U9bnVsbDtcbiAgICAgICAgZGVmYXVsdFJlc3BvbnNlT2JqLmRhdGE9bWlsZXN0b25lc0FycjtcbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlPTQwMFxuICAgICAgICBkZWZhdWx0UmVzcG9uc2VPYmoubWVzc2FnZT1lLm1lc3NhZ2U7XG4gICAgICAgIGRlZmF1bHRSZXNwb25zZU9iai5kYXRhID0gbnVsbFxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJlc3BvbnNlT2JqO1xufVxuIiwiaW1wb3J0IHtcbiAgZ2V0U21hcnRTaGVldENsaWVudCxcbiAgY3JlYXRlU2hlZXQsXG4gIHVwZGF0ZVNoZWV0LFxuICBnZXRDZWxsRGF0YSxcbiAgZ2V0SGFuZG92ZXJEYXRlLFxuICBjcmVhdGVXZWJIb29rLFxufSBmcm9tIFwiLi4vU21hcnRTaGVldFNlcnZpY2VzXCI7XG5pbXBvcnQgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bVwiO1xuaW1wb3J0IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5leHBvcnQgY29uc3QgY3JlYXRlU21hcnRTaGVldCA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG4gIGxldCBDcmVhdGVTaGVldFJlc3BvbnNlO1xuICB0cnkge1xuICAgIGNvbnN0IHZhbGlkYXRpb25SZXNwb25zZSA9IGF3YWl0IHZhbGlkYXRlQ3JlYXRlU2hlZXREYXRhKGFyZ3MpO1xuICAgIGlmICh2YWxpZGF0aW9uUmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzcG9uc2U7XG4gICAgfVxuICAgIGNvbnN0IHNoZWV0TmFtZSA9IGAke2FyZ3MuY2xpZW50TmFtZX1fJHthcmdzLmNsaWVudElkfWA7XG4gICAgY29uc3Qgc21hcnRDbGllbnQgPSBhd2FpdCBnZXRTbWFydFNoZWV0Q2xpZW50KCk7XG4gICAgY29uc3Qgc2hlZXRJZCA9IGF3YWl0IGNyZWF0ZVNoZWV0KHNtYXJ0Q2xpZW50LCBzaGVldE5hbWUpO1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHNtYXJ0Q2xpZW50LnNoZWV0cy5nZXRTaGVldCh7IGlkOiBzaGVldElkIH0pO1xuICAgIC8vVXBkYXRlIEluaXRpYWwgZGV0YWlscyBpbiBTbWFydFNoZWV0LlxuICAgIGNvbnN0IHJvd0FycmF5ID0gYXdhaXQgZ2V0VXBkYXRlU2hlZXREYXRhKHNoZWV0RGF0YSwgYXJncyk7XG4gICAgYXdhaXQgdXBkYXRlU2hlZXQoc21hcnRDbGllbnQsIHJvd0FycmF5LCBzaGVldElkKTtcbiAgICAvL1VwZGF0ZSBIYW5kb3ZlckRhdGUgYW5kIHNoZWV0SWQgaW4gcHJvamVjdCB0YWJsZS5cbiAgICBjb25zdCBoYW5kb3ZlckRhdGUgPSBhd2FpdCBnZXRIYW5kb3ZlckRhdGUoc2hlZXREYXRhKTtcbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXhwZWN0ZWRoYW5kb3ZlcmRhdGU6IGhhbmRvdmVyRGF0ZSxcbiAgICAgICAgc21hcnRzaGVldGlkOiBzaGVldElkLnRvU3RyaW5nKCksXG4gICAgICB9LFxuICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MucHJvamVjdElkIH0sXG4gICAgfSk7XG4gICAgYXdhaXQgY3JlYXRlV2ViSG9vayhzaGVldElkLCBzaGVldE5hbWUpO1xuICAgIENyZWF0ZVNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHNoZWV0SWQ6IHNoZWV0SWQgfTtcbiAgICByZXR1cm4gQ3JlYXRlU2hlZXRSZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBDcmVhdGVTaGVldFJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICByZXR1cm4gQ3JlYXRlU2hlZXRSZXNwb25zZTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlQ3JlYXRlU2hlZXREYXRhID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgdmFyIENyZWF0ZVJlc3BvbnNlO1xuICBpZiAoIWFyZ3MuY2xpZW50TmFtZSkge1xuICAgIENyZWF0ZVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIENsaWVudE5hbWVcIiB9O1xuICB9XG4gIGlmICghYXJncy5jbGllbnRJZCkge1xuICAgIENyZWF0ZVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIENsaWVudElkXCIgfTtcbiAgfVxuICBpZiAoIWFyZ3MuZGVzaWduZXJOYW1lKSB7XG4gICAgQ3JlYXRlUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgRGVzaWduZXIgTmFtZVwiIH07XG4gIH1cbiAgaWYgKCFhcmdzLmRlc2lnblN0dWRpbykge1xuICAgIENyZWF0ZVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIERlc2lnbiBTdHVkaW9cIiB9O1xuICB9XG4gIGlmIChhcmdzLmNsaWVudEVtYWlsKSB7XG4gICAgY29uc3QgZW1haWxSZWcgPVxuICAgICAgL14oW0EtWmEtejAtOV9cXC1cXC5dKStcXEAoW0EtWmEtejAtOV9cXC1cXC5dKStcXC4oW0EtWmEtel17Miw0fSkkLztcbiAgICBpZiAoIWVtYWlsUmVnLnRlc3QoYXJncy5jbGllbnRFbWFpbCkpIHtcbiAgICAgIENyZWF0ZVJlc3BvbnNlID0ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIENsaWVudCBFbWFpbFwiLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKCFhcmdzLmNsaWVudENvbnRhY3QpIHtcbiAgICBDcmVhdGVSZXNwb25zZSA9IHtcbiAgICAgIGNvZGU6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIENsaWVudCBDb250YWN0XCIsXG4gICAgfTtcbiAgfVxuICBpZiAoIWFyZ3MucHJvcGVydHlBZGRyZXNzKSB7XG4gICAgQ3JlYXRlUmVzcG9uc2UgPSB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBtZXNzYWdlOiBcIlBsZWFzZSBFbnRlciBWYWxpZCBQcm9wZXJ0eSBBZGRyZXNzXCIsXG4gICAgfTtcbiAgfVxuICBpZiAoIWFyZ3Muc3RhdHVzKSB7XG4gICAgQ3JlYXRlUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgU3RhdHVzXCIgfTtcbiAgfVxuICByZXR1cm4gQ3JlYXRlUmVzcG9uc2U7XG59O1xuY29uc3QgZ2V0VXBkYXRlU2hlZXREYXRhID0gYXN5bmMgKHNoZWV0RGF0YSwgYXJncykgPT4ge1xuICBjb25zdCB7XG4gICAgY2xpZW50TmFtZSxcbiAgICBjbGllbnRJZCxcbiAgICBwcm9qZWN0U2lnbnVwVmFsdWUsXG4gICAgZGVzaWduZXJOYW1lLFxuICAgIGRlc2lnblN0dWRpbyxcbiAgICBzYWxlc093bmVyLFxuICAgIGNsaWVudEVtYWlsLFxuICAgIGNsaWVudENvbnRhY3QsXG4gICAgcHJvcGVydHlOYW1lLFxuICAgIHByb3BlcnR5QWRkcmVzcyxcbiAgICBzdGF0dXMsXG4gIH0gPSBhcmdzO1xuICBjb25zdCByb3dBcnJheSA9IFtdO1xuICBjb25zdCBjb2x1bW5JZHMgPSBhd2FpdCBnZXRDb2x1bW5JZChzaGVldERhdGEpO1xuICBmb3IgKHZhciByb3cgb2Ygc2hlZXREYXRhLnJvd3MpIHtcbiAgICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgY29uc3QgY2VsbFZhbHVlID0gY2VsbC5kaXNwbGF5VmFsdWVcbiAgICAgICAgPyBjZWxsLmRpc3BsYXlWYWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICA6IG51bGw7XG4gICAgICBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5DTElFTlRfTkFNRSkge1xuICAgICAgICByb3dBcnJheS5wdXNoKFxuICAgICAgICAgIGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgY29sdW1uSWRzLnN1bW1hcnlEZXRhaWxzQ29sdW1uSWQsXG4gICAgICAgICAgICBjbGllbnROYW1lXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkNMSUVOVF9JRCkge1xuICAgICAgICByb3dBcnJheS5wdXNoKFxuICAgICAgICAgIGF3YWl0IGdldENlbGxEYXRhKHJvdy5pZCwgY29sdW1uSWRzLnN1bW1hcnlEZXRhaWxzQ29sdW1uSWQsIGNsaWVudElkKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0pFQ1RfU0lHTlVQX1ZBTFVFKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIHByb2plY3RTaWdudXBWYWx1ZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05FUl9OQU1FKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIGRlc2lnbmVyTmFtZVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05fU1RVRElPKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIGRlc2lnblN0dWRpb1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uU0FMRVNfT1dORVIgJiZcbiAgICAgICAgc2FsZXNPd25lclxuICAgICAgKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIHNhbGVzT3duZXJcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkNMSUVOVF9FTUFJTCAmJlxuICAgICAgICBjbGllbnRFbWFpbFxuICAgICAgKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIGNsaWVudEVtYWlsXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkNMSUVOVF9DT05UQUNUKSB7XG4gICAgICAgIHJvd0FycmF5LnB1c2goXG4gICAgICAgICAgYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICAgICAgICAgIGNsaWVudENvbnRhY3RcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST1BFUlRZX05BTUUgJiZcbiAgICAgICAgcHJvcGVydHlOYW1lXG4gICAgICApIHtcbiAgICAgICAgcm93QXJyYXkucHVzaChcbiAgICAgICAgICBhd2FpdCBnZXRDZWxsRGF0YShcbiAgICAgICAgICAgIHJvdy5pZCxcbiAgICAgICAgICAgIGNvbHVtbklkcy5zdW1tYXJ5RGV0YWlsc0NvbHVtbklkLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST1BFUlRZX0FERFJFU1MpIHtcbiAgICAgICAgcm93QXJyYXkucHVzaChcbiAgICAgICAgICBhd2FpdCBnZXRDZWxsRGF0YShcbiAgICAgICAgICAgIHJvdy5pZCxcbiAgICAgICAgICAgIGNvbHVtbklkcy5zdW1tYXJ5RGV0YWlsc0NvbHVtbklkLFxuICAgICAgICAgICAgcHJvcGVydHlBZGRyZXNzXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNUQVRVUykge1xuICAgICAgICByb3dBcnJheS5wdXNoKFxuICAgICAgICAgIGF3YWl0IGdldENlbGxEYXRhKHJvdy5pZCwgY29sdW1uSWRzLnN1bW1hcnlEZXRhaWxzQ29sdW1uSWQsIHN0YXR1cylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvd0FycmF5O1xufTtcbmNvbnN0IGdldENvbHVtbklkID0gYXN5bmMgKHNoZWV0RGF0YSkgPT4ge1xuICBsZXQgc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICBhY3R1YWxTdGFydElkLFxuICAgIGFjdHVhbEZpbmlzaElkLFxuICAgIG9yaWdpbmFsUGxhbm5lZFN0YXJ0SWQ7XG4gIHNoZWV0RGF0YS5jb2x1bW5zLmZvckVhY2goKGNvbHVtbikgPT4ge1xuICAgIGNvbnN0IGNvbHVtblRpdGxlID0gY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcblxuICAgIGlmIChcbiAgICAgIGNvbHVtblRpdGxlICYmXG4gICAgICBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLlNVTU1BUllfREVUQUlMU1xuICAgICkge1xuICAgICAgc3VtbWFyeURldGFpbHNDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY29sdW1uVGl0bGUgJiZcbiAgICAgIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQUNUVUFMX1NUQVJUXG4gICAgKSB7XG4gICAgICBhY3R1YWxTdGFydElkID0gY29sdW1uLmlkO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjb2x1bW5UaXRsZSAmJlxuICAgICAgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfRklOSVNIXG4gICAgKSB7XG4gICAgICBhY3R1YWxGaW5pc2hJZCA9IGNvbHVtbi5pZDtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgY29sdW1uVGl0bGUgJiZcbiAgICAgIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uT1JJR0lOQUxfUExBTk5FRF9TVEFSVF9EQVRFXG4gICAgKSB7XG4gICAgICBvcmlnaW5hbFBsYW5uZWRTdGFydElkID0gY29sdW1uLmlkO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgc3VtbWFyeURldGFpbHNDb2x1bW5JZDogc3VtbWFyeURldGFpbHNDb2x1bW5JZCxcbiAgICBhY3R1YWxTdGFydElkOiBhY3R1YWxTdGFydElkLFxuICAgIGFjdHVhbEZpbmlzaElkOiBhY3R1YWxGaW5pc2hJZCxcbiAgICBvcmlnaW5hbFBsYW5uZWRTdGFydElkOiBvcmlnaW5hbFBsYW5uZWRTdGFydElkLFxuICB9O1xufTtcbiIsImltcG9ydCB7XG4gIGdldFNtYXJ0U2hlZXRDbGllbnQsXG4gIHVwZGF0ZVNoZWV0LFxuICBnZXRDZWxsRGF0YSxcbiAgZ2V0VGFza05hbWVDb2x1bW5JZCxcbn0gZnJvbSBcIi4uL1NtYXJ0U2hlZXRTZXJ2aWNlc1wiO1xuaW1wb3J0IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9TbWFydFNoZWV0Q29sdW1uTmFtZUVudW1cIjtcbmltcG9ydCBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9TbWFydFNoZWV0Q2VsbFZhbHVlRW51bVwiO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZURlc2lnbmVyRW1haWwgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgU2hlZXRSZXNwb25zZTtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzcG9uc2UgPSBhd2FpdCB2YWxpZGF0ZURlc2lnbmVyVXBkYXRlRGF0YShhcmdzKTtcbiAgICBpZiAodmFsaWRhdGlvblJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlO1xuICAgIH1cbiAgICBjb25zdCB7IHNtYXJ0U2hlZXRJZCwgZGVzaWduZXJFbWFpbCB9ID0gYXJncztcbiAgICBjb25zdCBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzbWFydENsaWVudC5zaGVldHMuZ2V0U2hlZXQoeyBpZDogc21hcnRTaGVldElkIH0pO1xuICAgIC8vVXBkYXRlIERlc2lnbmVyIEVtYWlsIHRvIHJlbGF0ZWQgTWlsZXN0b25lcyBpbiBTbWFydFNoZWV0LlxuICAgIGNvbnN0IHJvd0FycmF5ID0gYXdhaXQgZ2V0RGVzaWduZXJVcGRhdGVEYXRhKHNoZWV0RGF0YSwgZGVzaWduZXJFbWFpbCk7XG4gICAgYXdhaXQgdXBkYXRlU2hlZXQoc21hcnRDbGllbnQsIHJvd0FycmF5LCBzbWFydFNoZWV0SWQpO1xuICAgIFNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIgfTtcbiAgICByZXR1cm4gU2hlZXRSZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBTaGVldFJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICByZXR1cm4gU2hlZXRSZXNwb25zZTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlRGVzaWduZXJVcGRhdGVEYXRhID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgdmFyIGRlc2lnbmVyUmVzcG9uc2U7XG4gIGNvbnN0IGVtYWlsUmVnID1cbiAgICAvXihbQS1aYS16MC05X1xcLVxcLl0pK1xcQChbQS1aYS16MC05X1xcLVxcLl0pK1xcLihbQS1aYS16XXsyLDR9KSQvO1xuICBpZiAoIWFyZ3Muc21hcnRTaGVldElkKSB7XG4gICAgZGVzaWduZXJSZXNwb25zZSA9IHtcbiAgICAgIGNvZGU6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNtYXJ0c2hlZXQgSWRcIixcbiAgICB9O1xuICB9XG4gIGlmICghZW1haWxSZWcudGVzdChhcmdzLmRlc2lnbmVyRW1haWwpKSB7XG4gICAgZGVzaWduZXJSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIlBsZWFzZSBFbnRlciBWYWxpZCBFbWFpbFwiIH07XG4gIH1cbiAgcmV0dXJuIGRlc2lnbmVyUmVzcG9uc2U7XG59O1xuY29uc3QgZ2V0RGVzaWduZXJVcGRhdGVEYXRhID0gYXN5bmMgKHNoZWV0RGF0YSwgZGVzaWduZXJFbWFpbCkgPT4ge1xuICBjb25zdCByb3dBcnJheSA9IFtdO1xuICBjb25zdCBhc3NpZ25lZFRvQ29sdW1uSWQgPSBhd2FpdCBnZXRBc3NpZ25lZENvbHVtbklkKHNoZWV0RGF0YSk7XG4gIGNvbnN0IHRhc2tOYW1lQ29sdW1uSWQgPSBhd2FpdCBnZXRUYXNrTmFtZUNvbHVtbklkKHNoZWV0RGF0YSk7XG4gIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgIGZvciAodmFyIGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICBjb25zdCBjZWxsVmFsdWUgPSBjZWxsLmRpc3BsYXlWYWx1ZVxuICAgICAgICA/IGNlbGwuZGlzcGxheVZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGlmIChjZWxsLmNvbHVtbklkID09PSB0YXNrTmFtZUNvbHVtbklkKSB7XG4gICAgICAgIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9TVEFHRSkge1xuICAgICAgICAgIGNvbnN0IGRlc2lnblN0YWdlID0gYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBhc3NpZ25lZFRvQ29sdW1uSWQsXG4gICAgICAgICAgICBkZXNpZ25lckVtYWlsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByb3dBcnJheS5wdXNoKGRlc2lnblN0YWdlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLktOT1dfWU9VUl9DTElFTlQpIHtcbiAgICAgICAgICBjb25zdCBrbm93eW91ckNsaWVudCA9IGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgYXNzaWduZWRUb0NvbHVtbklkLFxuICAgICAgICAgICAgZGVzaWduZXJFbWFpbFxuICAgICAgICAgICk7XG4gICAgICAgICAgcm93QXJyYXkucHVzaChrbm93eW91ckNsaWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5GSVJTVF9DVVRfTUVFVElORykge1xuICAgICAgICAgIGNvbnN0IGZpcnN0Q3V0TWVldGluZyA9IGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgYXNzaWduZWRUb0NvbHVtbklkLFxuICAgICAgICAgICAgZGVzaWduZXJFbWFpbFxuICAgICAgICAgICk7XG4gICAgICAgICAgcm93QXJyYXkucHVzaChmaXJzdEN1dE1lZXRpbmcpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX0ZJTkFMSVpBVElPTikge1xuICAgICAgICAgIGNvbnN0IGRlc2lnbkZpbmFsaXphdGlvbiA9IGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgYXNzaWduZWRUb0NvbHVtbklkLFxuICAgICAgICAgICAgZGVzaWduZXJFbWFpbFxuICAgICAgICAgICk7XG4gICAgICAgICAgcm93QXJyYXkucHVzaChkZXNpZ25GaW5hbGl6YXRpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVRVUVTVF9QTV9GT1JfS0lDS09GRlxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0UE1LaWNrT2ZmID0gYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBhc3NpZ25lZFRvQ29sdW1uSWQsXG4gICAgICAgICAgICBkZXNpZ25lckVtYWlsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByb3dBcnJheS5wdXNoKHJlcXVlc3RQTUtpY2tPZmYpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uRFdHX1JFVklTSU9OUykge1xuICAgICAgICAgIGNvbnN0IGR3Z1JldmlzaW9ucyA9IGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgYXNzaWduZWRUb0NvbHVtbklkLFxuICAgICAgICAgICAgZGVzaWduZXJFbWFpbFxuICAgICAgICAgICk7XG4gICAgICAgICAgcm93QXJyYXkucHVzaChkd2dSZXZpc2lvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX1NJR05fT0ZGKSB7XG4gICAgICAgICAgY29uc3QgZGVzaWduU2lnbk9mZiA9IGF3YWl0IGdldENlbGxEYXRhKFxuICAgICAgICAgICAgcm93LmlkLFxuICAgICAgICAgICAgYXNzaWduZWRUb0NvbHVtbklkLFxuICAgICAgICAgICAgZGVzaWduZXJFbWFpbFxuICAgICAgICAgICk7XG4gICAgICAgICAgcm93QXJyYXkucHVzaChkZXNpZ25TaWduT2ZmKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0pFQ1RfUkVDRUlWRURfRk9SX1BMQU5OSU5HXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHByb2plY3RSZWNlaXZlZFBsYW5uaW5nID0gYXdhaXQgZ2V0Q2VsbERhdGEoXG4gICAgICAgICAgICByb3cuaWQsXG4gICAgICAgICAgICBhc3NpZ25lZFRvQ29sdW1uSWQsXG4gICAgICAgICAgICBkZXNpZ25lckVtYWlsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByb3dBcnJheS5wdXNoKHByb2plY3RSZWNlaXZlZFBsYW5uaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcm93QXJyYXk7XG59O1xuY29uc3QgZ2V0QXNzaWduZWRDb2x1bW5JZCA9IGFzeW5jIChzaGVldERhdGEpID0+IHtcbiAgbGV0IGFzc2lnbmVkVG9Db2x1bW5JZDtcbiAgc2hlZXREYXRhLmNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG4gICAgY29uc3QgY29sdW1uVGl0bGUgPSBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgIGlmIChjb2x1bW5UaXRsZSAmJiBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFTU0lHTl9UTykge1xuICAgICAgYXNzaWduZWRUb0NvbHVtbklkID0gY29sdW1uLmlkO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhc3NpZ25lZFRvQ29sdW1uSWQ7XG59O1xuIiwiaW1wb3J0IHsgZ2V0U21hcnRTaGVldENsaWVudCwgdXBkYXRlU2hlZXQsIGdldFByb2plY3RCeVNoZWV0SWQsIGdldERlbGF5RGF5cywgZ2V0VGFza05hbWVDb2x1bW5JZH0gZnJvbSBcIi4uL1NtYXJ0U2hlZXRTZXJ2aWNlc1wiXG5pbXBvcnQgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bVwiO1xuaW1wb3J0IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtXCI7XG5pbXBvcnQgUHJvamVjdE1pbGVTdG9uZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvamVjdE1pbGVTdG9uZUVudW1cIjtcbmltcG9ydCBQcm9qZWN0TWlsZVN0b25lc1V0aWwgZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL1Byb2plY3RNaWxlU3RvbmVVdGlsXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5leHBvcnQgY29uc3QgdXBkYXRlTWlsZXN0b25lID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcblxuICAgIGxldCBzaGVldFJlc3BvbnNlO1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3BvbnNlID0gYXdhaXQgdmFsaWRhdGVNaWxlc3RvbmVVcGRhdGVEYXRhKGFyZ3MpO1xuICAgICAgICBpZih2YWxpZGF0aW9uUmVzcG9uc2Upe1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCAgc21hcnRDbGllbnQgPSBhd2FpdCBnZXRTbWFydFNoZWV0Q2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHNtYXJ0Q2xpZW50LnNoZWV0cy5nZXRTaGVldCh7aWQgOiBhcmdzLnNtYXJ0U2hlZXRJZH0pO1xuICAgICAgICBhcmdzLmFjdHVhbFN0YXJ0RGF0ZSA9IGF3YWl0IGdldFByZXZpb3VzTWlsZVN0b25lRmluaXNoRGF0ZShzaGVldERhdGEsIGFyZ3MpO1xuICAgICAgICBjb25zdCByb3dBcnJheSA9IGF3YWl0IGdldE1pbGVTdG9uZVVwZGF0ZURhdGEoc2hlZXREYXRhLCBhcmdzKTtcbiAgICAgICAgYXdhaXQgdXBkYXRlU2hlZXQoc21hcnRDbGllbnQsIHJvd0FycmF5LCBhcmdzLnNtYXJ0U2hlZXRJZCk7XG4gICAgICAgIGF3YWl0IHVwZGF0ZUN1cnJlbnRNaWxlU3RvbmUoc2hlZXREYXRhLCBhcmdzKTtcbiAgICAgICAgc2hlZXRSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIn1cbiAgICAgICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcbiAgfVxufVxuY29uc3QgdmFsaWRhdGVNaWxlc3RvbmVVcGRhdGVEYXRhID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICB2YXIgbWlsZXN0b25lUmVzcG9uc2U7XG4gICAgaWYoIWFyZ3Muc21hcnRTaGVldElkKXtcbiAgICAgICAgbWlsZXN0b25lUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgU21hcnRzaGVldCBJZFwiIH1cbiAgICB9XG4gICAgaWYoIWFyZ3MubWlsZVN0b25lTmFtZSl7XG4gICAgICAgIG1pbGVzdG9uZVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIG1pbGVTdG9uZU5hbWVcIiB9XG4gICAgfVxuICAgIGlmKCFhcmdzLmFjdHVhbEZpbmlzaERhdGUpe1xuICAgICAgICBtaWxlc3RvbmVSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIlBsZWFzZSBFbnRlciBWYWxpZCBhY3R1YWxGaW5pc2hEYXRlXCIgfVxuICAgIH1cbiAgICByZXR1cm4gbWlsZXN0b25lUmVzcG9uc2U7XG59XG5jb25zdCB1cGRhdGVDdXJyZW50TWlsZVN0b25lID0gYXN5bmMgKHNoZWV0RGF0YSwgYXJncykgPT4ge1xuICAgIGxldCBwcm9qZWN0RGVsYXk7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGdldFByb2plY3RCeVNoZWV0SWQoYXJncy5zbWFydFNoZWV0SWQpO1xuICAgIGNvbnN0IGN1cnJlbnRNaWxlU3RvbmUgPSBhd2FpdCBnZXRDdXJyZW50TWlsZVN0b25lKGFyZ3MscHJvamVjdC5taWxlc3RvbmVzKTtcbiAgICBjb25zdCBjdXJyZW50U21hcnRzaGVldE1pbGVTdG9uZSA9IFByb2plY3RNaWxlU3RvbmVzVXRpbC5nZXRTaGVldE1pbGVTdG9uZU5hbWUoY3VycmVudE1pbGVTdG9uZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XG4gICAgY29uc3QgY29sdW1uSWRzID0gYXdhaXQgZ2V0Q29sdW1uSnNvbihzaGVldERhdGEpO1xuICAgIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgICAgICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgICAgICAgY29uc3QgY2VsbFZhbHVlID0gY2VsbC5kaXNwbGF5VmFsdWUgPyBjZWxsLmRpc3BsYXlWYWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoY2VsbFZhbHVlID09PSBjdXJyZW50U21hcnRzaGVldE1pbGVTdG9uZSkge1xuICAgICAgICAgICAgICAgIHByb2plY3REZWxheSA9IGF3YWl0IGdldFByb2plY3REZWxheShyb3csY29sdW1uSWRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgZGF0YToge2N1cnJlbnRtaWxlc3RvbmUgOiBjdXJyZW50TWlsZVN0b25lLCBwcm9qZWN0ZGVsYXkgOiBwcm9qZWN0RGVsYXl9LFxuICAgICAgICB3aGVyZTogeyBpZCA6IHByb2plY3QuaWQgfVxuICAgICAgICB9KTtcbn1cbmNvbnN0IGdldEN1cnJlbnRNaWxlU3RvbmUgPSBhc3luYyAoYXJncywgbWlsZXN0b25lcykgPT4ge1xuICAgIHZhciBpLGN1cnJlbnRNaWxlU3RvbmU7XG4gICAgY29uc3QgbWlsZVN0b25lTmFtZSA9IGFyZ3MubWlsZVN0b25lTmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBtaWxlc3RvbmVzID0gbWlsZXN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzO1xuICAgIGZvcihpPTA7IGk8bWlsZXN0b25lcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmKG1pbGVzdG9uZXNbaV0ubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IG1pbGVTdG9uZU5hbWUpe1xuICAgICAgICAgICAgY3VycmVudE1pbGVTdG9uZSA9IG1pbGVzdG9uZXNbaSsxXS5sYWJlbC50cmltKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRNaWxlU3RvbmU7XG59XG5jb25zdCBnZXRDb2x1bW5Kc29uID0gYXN5bmMgKHNoZWV0RGF0YSkgPT4ge1xuICAgIGxldCBvcmlnaW5hbEVuZERhdGVDb2x1bW5JZCwgZm9yZWNhc3RlZEVuZERhdGVDb2x1bW5JZDtcbiAgICBzaGVldERhdGEuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+e1xuICAgICAgY29uc3QgY29sdW1uVGl0bGUgPSBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgc3dpdGNoIChjb2x1bW5UaXRsZSkge1xuICAgICAgICBjYXNlIFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5PUklHSU5BTF9QTEFOTkVEX0ZJTklTSF9EQVRFOntcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQ1VSUkVOVF9GT1JFQ0FTVF9GSU5JU0g6e1xuICAgICAgICBmb3JlY2FzdGVkRW5kRGF0ZUNvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XCJvcmlnaW5hbEVuZERhdGVDb2x1bW5JZFwiIDogb3JpZ2luYWxFbmREYXRlQ29sdW1uSWQsIFwiZm9yZWNhc3RlZEVuZERhdGVDb2x1bW5JZFwiIDogZm9yZWNhc3RlZEVuZERhdGVDb2x1bW5JZH07XG4gIH1cbiAgY29uc3QgZ2V0UHJvamVjdERlbGF5ID0gYXN5bmMgKHJvdyxjb2x1bW5JZHMpID0+IHtcbiAgICBsZXQgb3JpZ2luYWxFbmREYXRlLCBmb3JlY2FzdGVkRW5kRGF0ZTtcbiAgICBsZXQgZGVsYXlTdGF0dXMgPSBcIm9uVGltZVwiO1xuICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICBzd2l0Y2ggKGNlbGwuY29sdW1uSWQpIHtcbiAgICAgICAgY2FzZSBjb2x1bW5JZHMub3JpZ2luYWxFbmREYXRlQ29sdW1uSWQ6e1xuICAgICAgICAgIG9yaWdpbmFsRW5kRGF0ZSA9IGNlbGwudmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBjb2x1bW5JZHMuZm9yZWNhc3RlZEVuZERhdGVDb2x1bW5JZDp7XG4gICAgICAgICAgZm9yZWNhc3RlZEVuZERhdGUgPSBjZWxsLnZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZGVsYXlEYXlzID0gYXdhaXQgZ2V0RGVsYXlEYXlzKG5ldyBEYXRlKGZvcmVjYXN0ZWRFbmREYXRlKSwgbmV3IERhdGUob3JpZ2luYWxFbmREYXRlKSk7XG4gICAgaWYoZGVsYXlEYXlzID4gMCl7XG4gICAgICBkZWxheVN0YXR1cyA9IFwiZGVsYXllZFwiXG4gICAgfVxuICAgIHJldHVybiBkZWxheVN0YXR1cztcbiAgfVxuY29uc3QgZ2V0UHJldmlvdXNNaWxlU3RvbmVGaW5pc2hEYXRlID0gYXN5bmMgKHNoZWV0RGF0YSwgYXJncykgPT4ge1xuICAgIGxldCBhY3R1YWxGaW5pc2hEYXRlO1xuICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBnZXRQcm9qZWN0QnlTaGVldElkKGFyZ3Muc21hcnRTaGVldElkKTtcbiAgICBjb25zdCBwcmV2aW91c01pbGVTdG9uZSA9IGF3YWl0IGdldFByZXZpb3VzTWlsZVN0b25lKGFyZ3MscHJvamVjdC5taWxlc3RvbmVzKTtcbiAgICBjb25zdCBzbWFydHNoZWV0UHJldmlvdXNNaWxlU3RvbmUgPSBQcm9qZWN0TWlsZVN0b25lc1V0aWwuZ2V0U2hlZXRNaWxlU3RvbmVOYW1lKHByZXZpb3VzTWlsZVN0b25lLnRvTG93ZXJDYXNlKCkudHJpbSgpKTtcbiAgICBjb25zdCBhY3R1YWxGaW5pc2hEYXRlQ29sdW1uSWQgPSBhd2FpdCBnZXRBY3R1YWxGaW5pc2hEYXRlQ29sdW1uSWQoc2hlZXREYXRhKTtcbiAgICBmb3IgKHZhciByb3cgb2Ygc2hlZXREYXRhLnJvd3MpIHtcbiAgICAgICAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxWYWx1ZSA9IGNlbGwuZGlzcGxheVZhbHVlID8gY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGNlbGxWYWx1ZSA9PT0gc21hcnRzaGVldFByZXZpb3VzTWlsZVN0b25lKSB7XG4gICAgICAgICAgICAgICAgYWN0dWFsRmluaXNoRGF0ZSA9IGF3YWl0IGdldEFjdHVhbEZpbmlzaERhdGUocm93LCBhY3R1YWxGaW5pc2hEYXRlQ29sdW1uSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY3R1YWxGaW5pc2hEYXRlO1xufVxuY29uc3QgZ2V0UHJldmlvdXNNaWxlU3RvbmUgPSBhc3luYyAoYXJncywgbWlsZXN0b25lcykgPT4ge1xuICAgIHZhciBpLHByZXZpb3VzTWlsZVN0b25lO1xuICAgIGNvbnN0IG1pbGVTdG9uZU5hbWUgPSBhcmdzLm1pbGVTdG9uZU5hbWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgbWlsZXN0b25lcyA9IG1pbGVzdG9uZXMuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlscztcbiAgICBmb3IoaT0wOyBpPG1pbGVzdG9uZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZihtaWxlc3RvbmVzW2ldLmxhYmVsLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBtaWxlU3RvbmVOYW1lKXtcbiAgICAgICAgICAgIHByZXZpb3VzTWlsZVN0b25lID0gbWlsZXN0b25lc1tpLTFdLmxhYmVsLnRyaW0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNNaWxlU3RvbmU7XG59XG5jb25zdCBnZXRBY3R1YWxGaW5pc2hEYXRlQ29sdW1uSWQgPSBhc3luYyAoc2hlZXREYXRhKSA9PiB7XG4gICAgbGV0IGFjdHVhbEZpbmlzaERhdGVDb2x1bW5JZDtcbiAgICBzaGVldERhdGEuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+e1xuICAgICAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGNvbHVtbi50aXRsZSA/IGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIGlmKGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQUNUVUFMX0ZJTklTSCkge1xuICAgICAgICAgICAgYWN0dWFsRmluaXNoRGF0ZUNvbHVtbklkID0gY29sdW1uLmlkXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYWN0dWFsRmluaXNoRGF0ZUNvbHVtbklkO1xufVxuY29uc3QgZ2V0QWN0dWFsRmluaXNoRGF0ZSA9IGFzeW5jIChyb3csIGFjdHVhbEZpbmlzaERhdGVDb2x1bW5JZCkgPT4ge1xuICAgIGxldCBhY3R1YWxGaW5pc2hEYXRlO1xuICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGlmKGNlbGwuY29sdW1uSWQgPT09IGFjdHVhbEZpbmlzaERhdGVDb2x1bW5JZCkge1xuICAgICAgICAgICAgYWN0dWFsRmluaXNoRGF0ZSA9IGNlbGwudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYWN0dWFsRmluaXNoRGF0ZTtcbn1cbmNvbnN0IGdldE1pbGVTdG9uZVVwZGF0ZURhdGEgPSBhc3luYyAoc2hlZXREYXRhLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgbWlsZVN0b25lID0gYXJncy5taWxlU3RvbmVOYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGNvbnN0IHJvd0FycmF5ID0gW107XG4gICAgY29uc3QgdGFza05hbWVDb2x1bW5JZCA9IGF3YWl0IGdldFRhc2tOYW1lQ29sdW1uSWQoc2hlZXREYXRhKTtcbiAgICBmb3IgKHZhciByb3cgb2Ygc2hlZXREYXRhLnJvd3MpIHtcbiAgICAgICAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxWYWx1ZSA9IGNlbGwuZGlzcGxheVZhbHVlID8gY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICAgICAgaWYoY2VsbFZhbHVlICYmIGNlbGwuY29sdW1uSWQgPT09IHRhc2tOYW1lQ29sdW1uSWQpe1xuICAgICAgICAgICAgICAgIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0pFQ1RfU0lHTlVQICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uUFJPSkVDVF9TSUdOVVApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFNpZ251cCA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKHByb2plY3RTaWdudXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5TSVRFX1NVUlZFWSB8fFxuICAgICAgICAgICAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNJVEVfU1VSVkVZX0NPTVBMRVRFKSAmJiBtaWxlU3RvbmUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfU1VSVkVZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpdGVTdXJ2ZXkgPSBhd2FpdCBnZW1pbGVTdG9uZUNlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcm93QXJyYXkucHVzaChzaXRlU3VydmV5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5LTk9XX1lPVVJfQ0xJRU5UICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uS05PV19ZT1VSX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBreWMgPSBhd2FpdCBnZW1pbGVTdG9uZUNlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcm93QXJyYXkucHVzaChreWMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5GSVJTVF9DVVRfTUVFVElORyB8fFxuICAgICAgICAgICAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9QUkVTRU5UQVRJT04pICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX1BSRVNFTlRBVElPTikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNpZ25QcmVzZW50YXRpb24gPSBhd2FpdCBnZW1pbGVTdG9uZUNlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcm93QXJyYXkucHVzaChkZXNpZ25QcmVzZW50YXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9GSU5BTElaQVRJT04gJiYgbWlsZVN0b25lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fRklOQUxJWkFUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnbkZpbmFsaXphdGlvbiA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKGRlc2lnbkZpbmFsaXphdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVRVUVTVF9QTV9GT1JfS0lDS09GRiAmJiBtaWxlU3RvbmUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9SRVFVRVNUKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpdGVWYWxpZGF0aW9uID0gYXdhaXQgZ2VtaWxlU3RvbmVDZWxsRGF0YShzaGVldERhdGEsIGFyZ3MsIHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2goc2l0ZVZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLktJQ0tPRkZfTUVFVElOR19BVF9TSVRFICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uU0lURV9WQUxJREFUSU9OX01FRVRJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l0ZVZhbGlkYXRpb25NZWV0aW5nID0gYXdhaXQgZ2VtaWxlU3RvbmVDZWxsRGF0YShzaGVldERhdGEsIGFyZ3MsIHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2goc2l0ZVZhbGlkYXRpb25NZWV0aW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5EV0dfUkVWSVNJT05TICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uUE9TVF9TSVRFX1ZBTElEQVRJT05fUkVWSVNJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zdFNpdGVWYWxpZGF0aW9uID0gYXdhaXQgZ2VtaWxlU3RvbmVDZWxsRGF0YShzaGVldERhdGEsIGFyZ3MsIHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2gocG9zdFNpdGVWYWxpZGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5HRkNfQ0hFQ0tJTkcgJiYgbWlsZVN0b25lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5HRkNfQ0hFQ0tJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2ZjQ2hla2luZyA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKGdmY0NoZWtpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05fU0lHTl9PRkYgfHxcbiAgICAgICAgICAgICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05fU0lHTl9PRkZfUFJFU0VOVEFUSU9OKSAmJiBtaWxlU3RvbmUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9TSUdOT0ZGKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnblNpZ25PZmYgPSBhd2FpdCBnZW1pbGVTdG9uZUNlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcm93QXJyYXkucHVzaChkZXNpZ25TaWduT2ZmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX1JFQ0VJVkVEX0ZPUl9QTEFOTklORyAmJiBtaWxlU3RvbmUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0RVQ1RJT05fUkVRVUVTVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0aW9uUmVxdWVzdCA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKHByb2R1Y3Rpb25SZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5USElSVFlGSVZFX1BBWU1FTlRfQ09ORklSTUFUSU9OICYmIG1pbGVTdG9uZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uVEhJUlRZRklWRV9QQVlNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaXJ0eWZpdmVQYXltZW50ID0gYXdhaXQgZ2VtaWxlU3RvbmVDZWxsRGF0YShzaGVldERhdGEsIGFyZ3MsIHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2godGhpcnR5Zml2ZVBheW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0RVQ1RJT04gJiYgbWlsZVN0b25lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3Rpb24gPSBhd2FpdCBnZW1pbGVTdG9uZUNlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgcm93QXJyYXkucHVzaChwcm9kdWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVBRFlfRk9SX0RJU1BBVENIIHx8XG4gICAgICAgICAgICAgICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUEVORElOR19IQVJEV0FSRV9RQykgJiYgbWlsZVN0b25lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0gpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZHlEaXNwYXRjaCA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKHJlYWR5RGlzcGF0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlJFQURZX0ZPUl9IQU5ET1ZFUiAmJiBtaWxlU3RvbmUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlJFQURZX0ZPUl9IQU5ET1ZFUikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFkeUhhbmRvdmVyID0gYXdhaXQgZ2VtaWxlU3RvbmVDZWxsRGF0YShzaGVldERhdGEsIGFyZ3MsIHJvdy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2gocmVhZHlIYW5kb3Zlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uSEFORE9WRVIgJiYgbWlsZVN0b25lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5IQU5ET1ZFUikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kb3ZlciA9IGF3YWl0IGdlbWlsZVN0b25lQ2VsbERhdGEoc2hlZXREYXRhLCBhcmdzLCByb3cuaWQpO1xuICAgICAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKGhhbmRvdmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvd0FycmF5O1xufVxuY29uc3QgZ2VtaWxlU3RvbmVDZWxsRGF0YSA9IGFzeW5jIChzaGVldERhdGEsIGFyZ3MsIHJvd0lkKSA9PiB7XG5cbiAgICBsZXQgYWN0dWFsU3RhcnRDb2x1bW5JZCwgYWN0dWFsRmluaXNoQ29sdW1uSWQsIHRhc2tTdGF0dXNDb2x1bW5JZDtcbiAgICBjb25zdCB0YXNrU3RhdHVzID0gXCJDb21wbGV0ZVwiO1xuICAgIHNoZWV0RGF0YS5jb2x1bW5zLmZvckVhY2goKGNvbHVtbikgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGNvbHVtbi50aXRsZSA/IGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIGlmIChjb2x1bW5UaXRsZSAmJiBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFDVFVBTF9TVEFSVCkge1xuICAgICAgICAgICAgYWN0dWFsU3RhcnRDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2x1bW5UaXRsZSAmJiBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFDVFVBTF9GSU5JU0gpIHtcbiAgICAgICAgICAgIGFjdHVhbEZpbmlzaENvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uVEFTS19TVEFUVVMpIHtcbiAgICAgICAgICAgIHRhc2tTdGF0dXNDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNlbGxzID0gW3tcImNvbHVtbklkXCI6IGFjdHVhbFN0YXJ0Q29sdW1uSWQsXCJ2YWx1ZVwiOiBuZXcgRGF0ZShhcmdzLmFjdHVhbFN0YXJ0RGF0ZSl9LFxuICAgIHtcImNvbHVtbklkXCI6IGFjdHVhbEZpbmlzaENvbHVtbklkLFwidmFsdWVcIjogbmV3IERhdGUoYXJncy5hY3R1YWxGaW5pc2hEYXRlKX0sXG4gICAge1wiY29sdW1uSWRcIjogdGFza1N0YXR1c0NvbHVtbklkLFwidmFsdWVcIjogdGFza1N0YXR1c31dO1xuICAgIHJldHVybiB7XCJpZFwiIDogcm93SWQsIGNlbGxzIDpjZWxsc307XG59XG4iLCJpbXBvcnQgeyBnZXRTbWFydFNoZWV0Q2xpZW50LCB1cGRhdGVTaGVldCwgZ2V0VGFza05hbWVDb2x1bW5JZH0gZnJvbSBcIi4uL1NtYXJ0U2hlZXRTZXJ2aWNlc1wiXG5pbXBvcnQgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bVwiO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVBheW1lbnRDaGVja2xpc3QgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG5cbiAgICBsZXQgc2hlZXRSZXM7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB2YWxpZFJlc3BvbnNlID0gYXdhaXQgdmFsaWRhdGVDaGVja2xpc3RVcGRhdGVEYXRhKGFyZ3MpO1xuICAgICAgICBpZih2YWxpZFJlc3BvbnNlKXtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0ICBzbWFydFNoZWV0Q2xpZW50ID0gYXdhaXQgZ2V0U21hcnRTaGVldENsaWVudCgpO1xuICAgICAgICBjb25zdCBzbWFydFNoZWV0RGF0YSA9IGF3YWl0IHNtYXJ0U2hlZXRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHtpZCA6IGFyZ3Muc21hcnRTaGVldElkfSk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEFycmF5ID0gYXdhaXQgZ2V0Q2hlY2tsaXN0VXBkYXRlRGF0YShzbWFydFNoZWV0RGF0YSwgYXJncyk7XG4gICAgICAgIGF3YWl0IHVwZGF0ZVNoZWV0KHNtYXJ0U2hlZXRDbGllbnQsIGNoZWNrbGlzdEFycmF5LCBhcmdzLnNtYXJ0U2hlZXRJZCk7XG5cbiAgICAgICAgc2hlZXRSZXMgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCJ9XG4gICAgICAgIHJldHVybiBzaGVldFJlc1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2hlZXRSZXMgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHNoZWV0UmVzXG4gIH1cbn1cbmNvbnN0IGdldENoZWNrbGlzdFVwZGF0ZURhdGEgPSBhc3luYyAoc2hlZXREYXRhLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IGFyZ3MubWlsZVN0b25lTmFtZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICBjb25zdCB0YXNrQ29sdW1uSWQgPSBhd2FpdCBnZXRUYXNrTmFtZUNvbHVtbklkKHNoZWV0RGF0YSk7XG4gICAgY29uc3QgY2hlY2tsaXN0Um93QXJyYXkgPSBbXTtcblxuICAgIGZvciAobGV0IHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgICAgICBmb3IgKGxldCBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgICAgICAgY29uc3QgY2VsbFZhbHVlID0gYXdhaXQgZ2V0Q2VsbFZhbHVlKGNlbGwpO1xuICAgICAgICAgICAgaWYoY2VsbFZhbHVlICYmIGNlbGwuY29sdW1uSWQgPT09IHRhc2tDb2x1bW5JZCl7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGxWYWx1ZSA9PT0gY2hlY2tsaXN0TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RSb3dBcnJheS5wdXNoKGF3YWl0IGdldENoZWNrbGlzdENlbGxEYXRhKHNoZWV0RGF0YSwgYXJncywgcm93LmlkKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVja2xpc3RSb3dBcnJheTtcbn1cbmNvbnN0IGdldENoZWNrbGlzdENlbGxEYXRhID0gYXN5bmMgKHNoZWV0RGF0YSwgYXJncywgcm93SWQpID0+IHtcblxuICAgIGxldCBhY3R1YWxTdGFydElkLCBhY3R1YWxGaW5pc2hJZCwgdGFza1N0YXR1c0lkO1xuICAgIGNvbnN0IHRhc2tTdGF0dXMgPSBcIkNvbXBsZXRlXCI7XG4gICAgc2hlZXREYXRhLmNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtblRpdGxlID0gY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQUNUVUFMX1NUQVJUKSB7XG4gICAgICAgICAgICBhY3R1YWxTdGFydElkID0gY29sdW1uLmlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQUNUVUFMX0ZJTklTSCkge1xuICAgICAgICAgICAgYWN0dWFsRmluaXNoSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29sdW1uVGl0bGUgJiYgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5UQVNLX1NUQVRVUykge1xuICAgICAgICAgICAgdGFza1N0YXR1c0lkID0gY29sdW1uLmlkO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2VsbHMgPSBbe1wiY29sdW1uSWRcIjogYWN0dWFsU3RhcnRJZCxcInZhbHVlXCI6IG5ldyBEYXRlKGFyZ3MuYWN0dWFsU3RhcnREYXRlKX0sXG4gICAge1wiY29sdW1uSWRcIjogYWN0dWFsRmluaXNoSWQsXCJ2YWx1ZVwiOiBuZXcgRGF0ZShhcmdzLmFjdHVhbEZpbmlzaERhdGUpfSxcbiAgICB7XCJjb2x1bW5JZFwiOiB0YXNrU3RhdHVzSWQsXCJ2YWx1ZVwiOiB0YXNrU3RhdHVzfV07XG4gICAgcmV0dXJuIHtcImlkXCIgOiByb3dJZCwgY2VsbHMgOmNlbGxzfTtcbn1cbmNvbnN0IGdldENlbGxWYWx1ZSA9IGFzeW5jIChjZWxsKSA9PiB7XG4gICAgcmV0dXJuIGNlbGwuZGlzcGxheVZhbHVlID8gY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xufTtcbmNvbnN0IHZhbGlkYXRlQ2hlY2tsaXN0VXBkYXRlRGF0YSA9IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgbGV0IGNoZWNrbGlzdFJlc3BvbnNlO1xuICAgIGlmKCFhcmdzLnNtYXJ0U2hlZXRJZCl7XG4gICAgICAgIGNoZWNrbGlzdFJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNtYXJ0c2hlZXQgSWRcIiB9XG4gICAgfVxuICAgIGlmKCFhcmdzLm1pbGVTdG9uZU5hbWUpe1xuICAgICAgICBjaGVja2xpc3RSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIlBsZWFzZSBFbnRlciBWYWxpZCBtaWxlU3RvbmVOYW1lXCIgfVxuICAgIH1cbiAgICBpZighYXJncy5hY3R1YWxGaW5pc2hEYXRlKXtcbiAgICAgICAgY2hlY2tsaXN0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgYWN0dWFsRmluaXNoRGF0ZVwiIH1cbiAgICB9XG4gICAgaWYoIWFyZ3MuYWN0dWFsU3RhcnREYXRlKXtcbiAgICAgICAgY2hlY2tsaXN0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgYWN0dWFsU3RhcnREYXRlXCIgfVxuICAgIH1cbiAgICByZXR1cm4gY2hlY2tsaXN0UmVzcG9uc2U7XG59XG4iLCJpbXBvcnQgeyBnZXRTbWFydFNoZWV0Q2xpZW50LCB1cGRhdGVTaGVldCwgZ2V0Q2VsbERhdGEgfSBmcm9tIFwiLi4vU21hcnRTaGVldFNlcnZpY2VzXCJcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0QWRkcmVzcyA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG5cbiAgICBsZXQgc2hlZXRSZXNwb25zZTtcbiAgICB0cnl7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXNwb25zZSA9IGF3YWl0IHZhbGlkYXRlQWRkcmVzc1VwZGF0ZURhdGEoYXJncyk7XG4gICAgICAgIGlmKHZhbGlkYXRpb25SZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtzbWFydFNoZWV0SWQsIHByb2plY3RBZGRyZXNzfSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0ICBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICAgICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHtpZCA6IHNtYXJ0U2hlZXRJZH0pO1xuXG4gICAgICAgIGNvbnN0IHJvd0FycmF5ID0gYXdhaXQgZ2V0UHJvamVjdEFkZHJlc3NVcGRhdGVEYXRhKHNoZWV0RGF0YSwgcHJvamVjdEFkZHJlc3MpO1xuICAgICAgICBhd2FpdCB1cGRhdGVTaGVldChzbWFydENsaWVudCwgcm93QXJyYXksIHNtYXJ0U2hlZXRJZCk7XG5cbiAgICAgICAgc2hlZXRSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIn1cbiAgICAgICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcbiAgfVxufVxuY29uc3QgdmFsaWRhdGVBZGRyZXNzVXBkYXRlRGF0YSA9IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgdmFyIGFkZHJlc3NSZXNwb25zZTtcbiAgICBpZighYXJncy5zbWFydFNoZWV0SWQpe1xuICAgICAgICBhZGRyZXNzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgU21hcnRzaGVldCBJZFwiIH1cbiAgICB9XG4gICAgaWYoIWFyZ3MucHJvamVjdEFkZHJlc3Mpe1xuICAgICAgICBhZGRyZXNzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgQWRkcmVzc1wiIH1cbiAgICB9XG4gICAgcmV0dXJuIGFkZHJlc3NSZXNwb25zZTtcbn1cbmNvbnN0IGdldFByb2plY3RBZGRyZXNzVXBkYXRlRGF0YSA9IGFzeW5jIChzaGVldERhdGEsIHByb2plY3RBZGRyZXNzKSA9PiB7XG5cbiAgICBjb25zdCByb3dBcnJheSA9IFtdO1xuICAgIGxldCBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkO1xuICAgIHNoZWV0RGF0YS5jb2x1bW5zLmZvckVhY2goKGNvbHVtbikgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGNvbHVtbi50aXRsZSA/IGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIGlmIChjb2x1bW5UaXRsZSAmJiBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLlNVTU1BUllfREVUQUlMUykge1xuICAgICAgICAgICAgc3VtbWFyeURldGFpbHNDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgICAgICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgICAgICAgY29uc3QgY2VsbFZhbHVlID0gY2VsbC5kaXNwbGF5VmFsdWUgPyBjZWxsLmRpc3BsYXlWYWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoY2VsbFZhbHVlICYmIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUFJPUEVSVFlfQUREUkVTUykge1xuICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2goYXdhaXQgZ2V0Q2VsbERhdGEocm93LmlkLCBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkLCBwcm9qZWN0QWRkcmVzcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByb3dBcnJheTtcbn1cbiIsImltcG9ydCB7IGdldFNtYXJ0U2hlZXRDbGllbnQsIHVwZGF0ZVNoZWV0LCBnZXRDZWxsRGF0YSwgZ2V0UHJvamVjdEJ5U2hlZXRJZCwgZ2V0SGFuZG92ZXJEYXRlfSBmcm9tIFwiLi4vU21hcnRTaGVldFNlcnZpY2VzXCJcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmltcG9ydCBQcm9qZWN0TWlsZVN0b25lRW51bSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0TWlsZVN0b25lRW51bVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IGRheWpzIGZyb20gXCJkYXlqc1wiO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2plY3RTdGF0dXMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuXG4gICAgbGV0IHNoZWV0UmVzcG9uc2U7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzcG9uc2UgPSBhd2FpdCB2YWxpZGF0ZVN0YXR1c1VwZGF0ZURhdGEoYXJncyk7XG4gICAgICAgIGlmKHZhbGlkYXRpb25SZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtzbWFydFNoZWV0SWQsIHByb2plY3RTdGF0dXMsIHNpZ251cERhdGV9ID0gYXJncztcbiAgICAgICAgY29uc3QgIHNtYXJ0Q2xpZW50ID0gYXdhaXQgZ2V0U21hcnRTaGVldENsaWVudCgpO1xuICAgICAgICBjb25zdCBzaGVldERhdGEgPSBhd2FpdCBzbWFydENsaWVudC5zaGVldHMuZ2V0U2hlZXQoe2lkIDogc21hcnRTaGVldElkfSk7XG4gICAgICAgIGNvbnN0IHJvd0FycmF5ID0gYXdhaXQgZ2V0UHJvamVjdFN0YXR1c1VwZGF0ZURhdGEoc2hlZXREYXRhLCBwcm9qZWN0U3RhdHVzLCBzaWdudXBEYXRlKTtcbiAgICAgICAgYXdhaXQgdXBkYXRlU2hlZXQoc21hcnRDbGllbnQsIHJvd0FycmF5LCBzbWFydFNoZWV0SWQpO1xuICAgICAgICBhd2FpdCBjdXJyZW50TWlsZVN0b25lKHNtYXJ0U2hlZXRJZCwgc21hcnRDbGllbnQpO1xuICAgICAgICBzaGVldFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wifTtcbiAgICAgICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgcmV0dXJuIHNoZWV0UmVzcG9uc2VcbiAgfVxufVxuY29uc3QgdmFsaWRhdGVTdGF0dXNVcGRhdGVEYXRhID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7c21hcnRTaGVldElkLCBwcm9qZWN0U3RhdHVzLCBzaWdudXBEYXRlfSA9IGFyZ3M7XG4gICAgdmFyIHN0YXR1c1Jlc3BvbnNlO1xuICAgIGlmKCFzbWFydFNoZWV0SWQpe1xuICAgICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNtYXJ0c2hlZXQgSWRcIn07XG4gICAgfVxuICAgIGlmKCFwcm9qZWN0U3RhdHVzKXtcbiAgICAgICAgc3RhdHVzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgU3RhdHVzXCJ9O1xuICAgIH1cbiAgICBpZighc2lnbnVwRGF0ZSl7XG4gICAgICAgIHN0YXR1c1Jlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNpZ25VcCBEYXRlXCJ9O1xuICAgIH1cbiAgICByZXR1cm4gc3RhdHVzUmVzcG9uc2Vcbn1cbmNvbnN0IGN1cnJlbnRNaWxlU3RvbmUgPSBhc3luYyAoc21hcnRTaGVldElkLCBzbWFydENsaWVudCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBnZXRQcm9qZWN0QnlTaGVldElkKHNtYXJ0U2hlZXRJZCk7XG4gICAgY29uc3Qgc2hlZXRPYmplY3QgPSBhd2FpdCBzbWFydENsaWVudC5zaGVldHMuZ2V0U2hlZXQoe2lkIDogc21hcnRTaGVldElkfSk7XG4gICAgY29uc3QgaGFuZG92ZXJEYXRlID0gYXdhaXQgZ2V0SGFuZG92ZXJEYXRlKHNoZWV0T2JqZWN0KTtcbiAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgZGF0YToge2N1cnJlbnRtaWxlc3RvbmUgOiBQcm9qZWN0TWlsZVN0b25lRW51bS5ERUZBVUxUX0NVUlJFTlRfTUlMRVNUT05FLGV4cGVjdGVkaGFuZG92ZXJkYXRlIDogbmV3IERhdGUoaGFuZG92ZXJEYXRlKX0sXG4gICAgICAgIHdoZXJlOiB7IGlkIDogcHJvamVjdC5pZCB9XG4gICAgICAgIH0pO1xuXG59XG5jb25zdCBnZXRDb2x1bW5JZHMgPSBhc3luYyAoc2hlZXREYXRhKSA9PiB7XG4gICAgbGV0IHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQsIGFjdHVhbFN0YXJ0SWQsIGFjdHVhbEZpbmlzaElkLCBvcmlnaW5hbFBsYW5uZWRTdGFydElkO1xuICAgIGZvciAodmFyIGNvbHVtbiBvZiBzaGVldERhdGEuY29sdW1ucykge1xuICAgICAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGF3YWl0IGdldENvbHVtblRpdGxlKGNvbHVtbik7XG4gICAgICAgIGlmIChjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLlNVTU1BUllfREVUQUlMUyApIHtcbiAgICAgICAgICAgIHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfU1RBUlQpIHtcbiAgICAgICAgICAgIGFjdHVhbFN0YXJ0SWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfRklOSVNIKSB7XG4gICAgICAgICAgICBhY3R1YWxGaW5pc2hJZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLk9SSUdJTkFMX1BMQU5ORURfU1RBUlRfREFURSkge1xuICAgICAgICAgICAgb3JpZ2luYWxQbGFubmVkU3RhcnRJZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1wic3VtbWFyeURldGFpbHNDb2x1bW5JZFwiOnN1bW1hcnlEZXRhaWxzQ29sdW1uSWQsXCJhY3R1YWxTdGFydElkXCI6YWN0dWFsU3RhcnRJZCxcImFjdHVhbEZpbmlzaElkXCI6YWN0dWFsRmluaXNoSWQsXCJvcmlnaW5hbFBsYW5uZWRTdGFydElkXCI6b3JpZ2luYWxQbGFubmVkU3RhcnRJZH07XG59XG5jb25zdCBnZXRQcm9qZWN0U3RhdHVzVXBkYXRlRGF0YSA9IGFzeW5jIChzaGVldERhdGEsIHByb2plY3RTdGF0dXMsIHNpZ251cERhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0dXNSb3dBcnJheSA9IFtdO1xuICAgIGNvbnN0IGRhdGUgPSBkYXlqcyhzaWdudXBEYXRlKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpO1xuICAgIGNvbnN0IGNvbHVtbklkcyA9IGF3YWl0IGdldENvbHVtbklkcyhzaGVldERhdGEpO1xuICAgIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgICAgICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgICAgICAgY29uc3QgY2VsbFZhbHVlID0gYXdhaXQgZ2V0Q2VsbFZhbHVlKGNlbGwpO1xuICAgICAgICAgICAgaWYgKGNlbGxWYWx1ZSAmJiBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNUQVRVUykge1xuICAgICAgICAgICAgICAgIHN0YXR1c1Jvd0FycmF5LnB1c2goYXdhaXQgZ2V0Q2VsbERhdGEocm93LmlkLCBjb2x1bW5JZHMuc3VtbWFyeURldGFpbHNDb2x1bW5JZCwgcHJvamVjdFN0YXR1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX1NJR05VUCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGxzID0gW3tcImNvbHVtbklkXCI6IGNvbHVtbklkcy5hY3R1YWxTdGFydElkLFwidmFsdWVcIjogbmV3IERhdGUoZGF0ZSl9LFxuICAgICAgICAgICAgICAgIHtcImNvbHVtbklkXCI6IGNvbHVtbklkcy5hY3R1YWxGaW5pc2hJZCxcInZhbHVlXCI6IG5ldyBEYXRlKGRhdGUpfSxcbiAgICAgICAgICAgICAgICB7XCJjb2x1bW5JZFwiOiBjb2x1bW5JZHMub3JpZ2luYWxQbGFubmVkU3RhcnRJZCxcInZhbHVlXCI6IG5ldyBEYXRlKGRhdGUpfV07XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpZW50Q2VsbE9iamVjdCA9IHtcImlkXCIgOiByb3cuaWQsIGNlbGxzIDpjZWxsc307XG4gICAgICAgICAgICAgICAgc3RhdHVzUm93QXJyYXkucHVzaChjbGllbnRDZWxsT2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhdHVzUm93QXJyYXk7XG59XG5jb25zdCBnZXRDb2x1bW5UaXRsZSA9IGFzeW5jIChjb2x1bW4pID0+IHtcbiAgICByZXR1cm4gY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcbn1cbmNvbnN0IGdldENlbGxWYWx1ZSA9IGFzeW5jIChjZWxsKSA9PiB7XG4gICAgcmV0dXJuIGNlbGwuZGlzcGxheVZhbHVlID8gY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xufVxuIiwiaW1wb3J0IHsgZ2V0U21hcnRTaGVldENsaWVudCwgdXBkYXRlU2hlZXQsIGdldENlbGxEYXRhIH0gZnJvbSBcIi4uL1NtYXJ0U2hlZXRTZXJ2aWNlc1wiXG5pbXBvcnQgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bVwiO1xuaW1wb3J0IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtIGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1NtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtXCI7XG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFZhbHVlID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcblxuICAgIGxldCBzaGVldFJlc3BvbnNlO1xuICAgIHRyeXtcblxuICAgICAgICBjb25zdCB7c21hcnRTaGVldElkLCBwcm9qZWN0VmFsdWV9ID0gYXJncztcbiAgICAgICAgaWYoIXNtYXJ0U2hlZXRJZCl7XG4gICAgICAgICAgICBzaGVldFJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNtYXJ0c2hlZXQgSWRcIn07XG4gICAgICAgICAgICByZXR1cm4gc2hlZXRSZXNwb25zZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0ICBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICAgICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHtpZCA6IHNtYXJ0U2hlZXRJZH0pO1xuICAgICAgICBjb25zdCByb3dBcnJheSA9IGF3YWl0IGdldFByb2plY3RWYWx1ZVVwZGF0ZURhdGEoc2hlZXREYXRhLCBwcm9qZWN0VmFsdWUpO1xuICAgICAgICBhd2FpdCB1cGRhdGVTaGVldChzbWFydENsaWVudCwgcm93QXJyYXksIHNtYXJ0U2hlZXRJZCk7XG4gICAgICAgIHNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCJ9O1xuICAgICAgICByZXR1cm4gc2hlZXRSZXNwb25zZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2hlZXRSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gc2hlZXRSZXNwb25zZVxuICB9XG59XG5cbmNvbnN0IGdldFByb2plY3RWYWx1ZVVwZGF0ZURhdGEgPSBhc3luYyAoc2hlZXREYXRhLCBwcm9qZWN0VmFsdWUpID0+IHtcblxuICAgIGNvbnN0IHJvd0FycmF5ID0gW107XG4gICAgbGV0IHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQ7XG4gICAgc2hlZXREYXRhLmNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtblRpdGxlID0gY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uU1VNTUFSWV9ERVRBSUxTKSB7XG4gICAgICAgICAgICBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZm9yICh2YXIgcm93IG9mIHNoZWV0RGF0YS5yb3dzKSB7XG4gICAgICAgIGZvciAodmFyIGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsVmFsdWUgPSBjZWxsLmRpc3BsYXlWYWx1ZSA/IGNlbGwuZGlzcGxheVZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChjZWxsVmFsdWUgJiYgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX1NJR05VUF9WQUxVRSkge1xuICAgICAgICAgICAgICAgIHJvd0FycmF5LnB1c2goYXdhaXQgZ2V0Q2VsbERhdGEocm93LmlkLCBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkLCBwcm9qZWN0VmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm93QXJyYXk7XG59XG4iLCJpbXBvcnQgeyBnZXRTbWFydFNoZWV0Q2xpZW50LCB1cGRhdGVTaGVldCwgZ2V0Q2VsbERhdGEsIGdldFRhc2tOYW1lQ29sdW1uSWQgfSBmcm9tIFwiLi4vU21hcnRTaGVldFNlcnZpY2VzXCJcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmV4cG9ydCBjb25zdCB1cGRhdGVTdXJ2ZXkgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuXG4gICAgbGV0IHNoZWV0UmVzcG9uc2U7XG4gICAgdHJ5e1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzcG9uc2UgPSBhd2FpdCB2YWxpZGF0ZVN1cnZleVVwZGF0ZURhdGEoYXJncyk7XG4gICAgICAgIGlmKHZhbGlkYXRpb25SZXNwb25zZSl7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtzbWFydFNoZWV0SWQsIHN1cnZleUV4ZWN1dGl2ZUVtYWlsfSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0ICBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICAgICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHtpZCA6IHNtYXJ0U2hlZXRJZH0pO1xuICAgICAgICAvL1VwZGF0ZSBTdXJ2ZXkgRW1haWwgdG8gcmVsYXRlZCBNaWxlc3RvbmVzIGluIFNtYXJ0U2hlZXQuXG4gICAgICAgIGNvbnN0IHJvd0FycmF5ID0gYXdhaXQgZ2V0U3VydmV5VXBkYXRlRGF0YShzaGVldERhdGEsIHN1cnZleUV4ZWN1dGl2ZUVtYWlsKTtcbiAgICAgICAgYXdhaXQgdXBkYXRlU2hlZXQoc21hcnRDbGllbnQsIHJvd0FycmF5LCBzbWFydFNoZWV0SWQpO1xuICAgICAgICBzaGVldFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwic3VjY2Vzc1wifVxuICAgICAgICByZXR1cm4gc2hlZXRSZXNwb25zZVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2hlZXRSZXNwb25zZSA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gc2hlZXRSZXNwb25zZVxuICB9XG59XG5jb25zdCB2YWxpZGF0ZVN1cnZleVVwZGF0ZURhdGEgPSBhc3luYyAoYXJncykgPT4ge1xuICAgIHZhciBzdXJ2ZXlSZXNwb25zZTtcbiAgICBjb25zdCBlbWFpbFJlZyA9ICAvXihbQS1aYS16MC05X1xcLVxcLl0pK1xcQChbQS1aYS16MC05X1xcLVxcLl0pK1xcLihbQS1aYS16XXsyLDR9KSQvO1xuICAgIGlmKCFhcmdzLnNtYXJ0U2hlZXRJZCl7XG4gICAgICAgIHN1cnZleVJlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGxlYXNlIEVudGVyIFZhbGlkIFNtYXJ0c2hlZXQgSWRcIn07XG4gICAgfVxuICAgIGlmKCFlbWFpbFJlZy50ZXN0KGFyZ3Muc3VydmV5RXhlY3V0aXZlRW1haWwpKXtcbiAgICAgICAgc3VydmV5UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgRW1haWxcIn1cbiAgICB9XG4gICAgcmV0dXJuIHN1cnZleVJlc3BvbnNlO1xufVxuY29uc3QgZ2V0U3VydmV5VXBkYXRlRGF0YSA9IGFzeW5jIChzaGVldERhdGEsIHN1cnZleUV4ZWN1dGl2ZUVtYWlsKSA9PiB7XG5cbiAgICBjb25zdCByb3dBcnJheSA9IFtdO1xuICAgIGxldCBhc3NpZ25lZFRvQ29sdW1uSWQ7XG4gICAgY29uc3QgdGFza05hbWVDb2x1bW5JZCA9IGF3YWl0IGdldFRhc2tOYW1lQ29sdW1uSWQoc2hlZXREYXRhKTtcbiAgICBzaGVldERhdGEuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+IHtcbiAgICAgICAgY29uc3QgY29sdW1uVGl0bGUgPSBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICBpZiAoY29sdW1uVGl0bGUgJiYgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BU1NJR05fVE8gKSB7XG4gICAgICAgICAgICBhc3NpZ25lZFRvQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBmb3IgKHZhciByb3cgb2Ygc2hlZXREYXRhLnJvd3MpIHtcbiAgICAgICAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxWYWx1ZSA9IGNlbGwuZGlzcGxheVZhbHVlID8gY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGNlbGxWYWx1ZSAmJiBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNJVEVfU1VSVkVZICYmIGNlbGwuY29sdW1uSWQgPT09IHRhc2tOYW1lQ29sdW1uSWQpIHtcbiAgICAgICAgICAgICAgICByb3dBcnJheS5wdXNoKGF3YWl0IGdldENlbGxEYXRhKHJvdy5pZCwgYXNzaWduZWRUb0NvbHVtbklkLCBzdXJ2ZXlFeGVjdXRpdmVFbWFpbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByb3dBcnJheTtcbn1cbiIsImltcG9ydCB7Z2V0U21hcnRTaGVldENsaWVudCwgZ2V0UHJvamVjdEJ5U2hlZXRJZCwgZ2V0U3VtbWFyeURldGFpbHNDb2x1bW5JZCwgZ2V0VGFza05hbWVDb2x1bW5JZCB9IGZyb20gXCIuLi9TbWFydFNoZWV0U2VydmljZXNcIjtcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmltcG9ydCBQcm9qZWN0TWlsZVN0b25lRW51bSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0TWlsZVN0b25lRW51bVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmV4cG9ydCBjb25zdCB3ZWJIb29rQ2FsbEJhY2sgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhcmdzLmJvZHk7XG4gICAgY29uc29sZS5sb2coYm9keSk7XG4gICAgLy8gQ2FsbGJhY2sgY291bGQgYmUgZHVlIHRvIHZhbGlkYXRpb24sIHN0YXR1cyBjaGFuZ2UsIG9yIGFjdHVhbCBzaGVldCBjaGFuZ2UgZXZlbnRzXG4gICAgaWYgKGJvZHkuY2hhbGxlbmdlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIHZlcmlmaWNhdGlvbiBjYWxsYmFja1wiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBzbWFydHNoZWV0SG9va1Jlc3BvbnNlOiBib2R5LmNoYWxsZW5nZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChib2R5LmV2ZW50cykge1xuICAgICAgcmV0dXJuIHByb2Nlc3NFdmVudERhdGEoYm9keSk7XG4gICAgfSBlbHNlIGlmIChib2R5Lm5ld1dlYkhvb2tTdGF0dXMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbmRTdGF0dXM6IDIwMCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBSZWNlaXZlZCB1bmtub3duIGNhbGxiYWNrOiAke2JvZHl9YCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZW5kU3RhdHVzOiAyMDAsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmNvbnN0IHByb2Nlc3NFdmVudERhdGEgPSBhc3luYyAoY2FsbGJhY2tEYXRhKSA9PiB7XG4gIGxldCBzaGVldFJlc3BvbnNlO1xuICB0cnkge1xuICAgIGlmIChjYWxsYmFja0RhdGEuc2NvcGUgIT09IFwic2hlZXRcIikge1xuICAgICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIldyb25nIEV2ZW50XCIgfTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBldmVudCBvZiBjYWxsYmFja0RhdGEuZXZlbnRzKSB7XG4gICAgICBhd2FpdCB1cGRhdGVQcm9qZWN0RGF0YShldmVudCwgY2FsbGJhY2tEYXRhKTtcbiAgICB9XG4gICAgc2hlZXRSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiB9O1xuICAgIHJldHVybiBzaGVldFJlc3BvbnNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNoZWV0UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiBzaGVldFJlc3BvbnNlO1xuICB9XG59O1xuY29uc3QgdXBkYXRlUHJvamVjdERhdGEgPSBhc3luYyAoZXZlbnQsIGNhbGxiYWNrRGF0YSkgPT4ge1xuICBpZiAoZXZlbnQub2JqZWN0VHlwZSA9PT0gXCJjZWxsXCIpIHtcbiAgICBjb25zdCBldmVudENvbHVtbklkID0gZXZlbnQuY29sdW1uSWQudG9TdHJpbmcoKTtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHNoZWV0SWQ6IGNhbGxiYWNrRGF0YS5zY29wZU9iamVjdElkLFxuICAgICAgcm93SWQ6IGV2ZW50LnJvd0lkLnRvU3RyaW5nKCksXG4gICAgfTtcbiAgICBjb25zdCBzbWFydENsaWVudCA9IGF3YWl0IGdldFNtYXJ0U2hlZXRDbGllbnQoKTtcbiAgICBjb25zdCByb3cgPSBhd2FpdCBzbWFydENsaWVudC5zaGVldHMuZ2V0Um93KG9wdGlvbnMpO1xuICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBnZXRQcm9qZWN0QnlTaGVldElkKFxuICAgICAgY2FsbGJhY2tEYXRhLnNjb3BlT2JqZWN0SWQudG9TdHJpbmcoKVxuICAgICk7XG4gICAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgIGNvbnN0IGNlbGxWYWx1ZSA9IGF3YWl0IGdldENlbGxWYWx1ZShjZWxsKTtcbiAgICAgIGlmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlJFVklTRURfSEFORE9WRVJfREFURSkge1xuICAgICAgICBhd2FpdCBVcGRhdGVIYW5kb3ZlckRhdGUocHJvamVjdCwgcm93LCBldmVudENvbHVtbklkKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX01BTkFHRVIpIHtcbiAgICAgICAgYXdhaXQgdXBkYXRlUE0ocHJvamVjdCwgcm93LCBldmVudENvbHVtbklkKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5IQU5ET1ZFUikge1xuICAgICAgICBhd2FpdCBkZWxldGVXZWJIb29rKHJvdywgZXZlbnQsIGNhbGxiYWNrRGF0YSwgc21hcnRDbGllbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVDdXJyZW50TWlsZVN0b25lKGV2ZW50Q29sdW1uSWQsIGV2ZW50LnJvd0lkLnRvU3RyaW5nKCksIGNhbGxiYWNrRGF0YS5zY29wZU9iamVjdElkLCBzbWFydENsaWVudCk7XG4gICAgdmFyIGNvbHVtbk9wdGlvbiA9IHtcbiAgICAgIHNoZWV0SWQ6IGNhbGxiYWNrRGF0YS5zY29wZU9iamVjdElkLFxuICAgICAgY29sdW1uSWQ6IGV2ZW50Q29sdW1uSWQsXG4gICAgfTtcbiAgICBjb25zdCBjb2x1bW4gPSBhd2FpdCBzbWFydENsaWVudC5zaGVldHMuZ2V0Q29sdW1ucyhjb2x1bW5PcHRpb24pO1xuICAgIGlmIChcbiAgICAgIGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT1cbiAgICAgIFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfRklOSVNIXG4gICAgKSB7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgZGF0YTogeyBsYXN0dXBkYXRlZGF0ZTogbmV3IERhdGUoKSB9LFxuICAgICAgICB3aGVyZTogeyBpZDogcHJvamVjdC5pZCB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgdXBkYXRlQ3VycmVudE1pbGVTdG9uZSA9IGFzeW5jIChldmVudENvbHVtbklkLCBldmVudFJvd0lkLCBzbWFydFNoZWV0SWQsIHNtYXJ0Q2xpZW50KSA9PiB7XG4gIGxldCB1cGRhdGVkTWlsZVN0b25lO1xuICB2YXIgY29sdW1uT3B0aW9uID0ge1xuICAgIHNoZWV0SWQ6IHNtYXJ0U2hlZXRJZCxcbiAgICBjb2x1bW5JZDogZXZlbnRDb2x1bW5JZCxcbiAgfTtcbiAgY29uc3QgY29sdW1uID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldENvbHVtbnMoY29sdW1uT3B0aW9uKTtcbiAgaWYgKGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFDVFVBTF9GSU5JU0gpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHNoZWV0SWQ6IHNtYXJ0U2hlZXRJZCxcbiAgICAgIHJvd0lkOiBldmVudFJvd0lkLFxuICAgIH07XG4gICAgY29uc3Qgcm93ID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFJvdyhvcHRpb25zKTtcbiAgICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgaWYgKGNlbGwuY29sdW1uSWQudG9TdHJpbmcoKSA9PT0gZXZlbnRDb2x1bW5JZC50b1N0cmluZygpICYmIGNlbGwudmFsdWUpIHtcbiAgICAgICAgdXBkYXRlZE1pbGVTdG9uZSA9IGF3YWl0IGdldFVwZGF0ZWRNaWxlU3RvbmUocm93KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZWRNaWxlU3RvbmUgJiYgdXBkYXRlZE1pbGVTdG9uZS5taWxlU3RvbmVOYW1lKSB7XG4gICAgICBsZXQgbWlsZXN0b25lTmFtZSA9IHVwZGF0ZWRNaWxlU3RvbmUubWlsZVN0b25lTmFtZTtcbiAgICAgIGNvbnN0IHByb2plY3QgPSBhd2FpdCBnZXRQcm9qZWN0QnlTaGVldElkKHNtYXJ0U2hlZXRJZC50b1N0cmluZygpKTtcbiAgICAgIGlmKCF1cGRhdGVkTWlsZVN0b25lLmlzU2hlZXQpe1xuICAgICAgICBjb25zdCBtaWxlU3RvbmVzID0gYXdhaXQgZ2V0Q3VycmVudE1pbGVTdG9uZSh1cGRhdGVkTWlsZVN0b25lLm1pbGVTdG9uZU5hbWUsIHByb2plY3QubWlsZXN0b25lcyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNaWxlU3RvbmUgPSBtaWxlU3RvbmVzLmN1cnJlbnRNaWxlU3RvbmU7XG4gICAgICAgIG1pbGVzdG9uZU5hbWUgPSBtaWxlU3RvbmVzLm9sZE1pbGVTdG9uZTtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgICAgICAgZGF0YTogeyBjdXJyZW50bWlsZXN0b25lOiBjdXJyZW50TWlsZVN0b25lIH0sXG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3QuaWQgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB3ZWJFbmdhZ2VSZXNwb25zZSA9IGF3YWl0IHBvc3RXZWJFbmdhZ2VBcGkobWlsZXN0b25lTmFtZSwgc21hcnRTaGVldElkLCBzbWFydENsaWVudCwgcHJvamVjdCk7XG4gICAgICBjb25zb2xlLmxvZyh3ZWJFbmdhZ2VSZXNwb25zZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgZ2V0VXBkYXRlZE1pbGVTdG9uZSA9IGFzeW5jIChyb3cpID0+IHtcbiAgbGV0IHVwZGF0ZWRNaWxlU3RvbmU7XG4gIGxldCByZXNwb25zZU9iajtcbiAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICBjb25zdCBjZWxsVmFsdWUgPSBhd2FpdCBnZXRDZWxsVmFsdWUoY2VsbCk7XG4gICAgaWYgKCF1cGRhdGVkTWlsZVN0b25lICYmIGNlbGxWYWx1ZSkge1xuICAgICAgcmVzcG9uc2VPYmogPSBhd2FpdCBnZXRNaWxlU3RvbmUoY2VsbFZhbHVlKTtcbiAgICAgIHVwZGF0ZWRNaWxlU3RvbmUgPSByZXNwb25zZU9iai5taWxlU3RvbmVOYW1lO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzcG9uc2VPYmo7XG59O1xuY29uc3QgZ2V0Q3VycmVudE1pbGVTdG9uZSA9IGFzeW5jICh1cGRhdGVkTWlsZVN0b25lLCBtaWxlc3RvbmVzKSA9PiB7XG4gIHZhciBpLCBjdXJyZW50TWlsZVN0b25lLCBvbGRNaWxlU3RvbmU7XG4gIGNvbnN0IG1pbGVTdG9uZU5hbWUgPSB1cGRhdGVkTWlsZVN0b25lLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICBtaWxlc3RvbmVzID0gbWlsZXN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzO1xuICBmb3IgKGkgPSAwOyBpIDwgbWlsZXN0b25lcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChtaWxlc3RvbmVzW2ldLmxhYmVsLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBtaWxlU3RvbmVOYW1lKSB7XG4gICAgICBpZiAobWlsZVN0b25lTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uSEFORE9WRVIpIHtcbiAgICAgICAgY3VycmVudE1pbGVTdG9uZSA9IG1pbGVzdG9uZXNbaV0ubGFiZWwudHJpbSgpO1xuICAgICAgICBvbGRNaWxlU3RvbmUgPSBtaWxlc3RvbmVzW2ldLmxhYmVsLnRyaW0oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRNaWxlU3RvbmUgPSBtaWxlc3RvbmVzW2kgKyAxXS5sYWJlbC50cmltKCk7XG4gICAgICAgIG9sZE1pbGVTdG9uZSA9IG1pbGVzdG9uZXNbaV0ubGFiZWwudHJpbSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge1wiY3VycmVudE1pbGVTdG9uZVwiIDogY3VycmVudE1pbGVTdG9uZSxcIm9sZE1pbGVTdG9uZVwiIDogb2xkTWlsZVN0b25lfTtcbn07XG5jb25zdCBnZXRNaWxlU3RvbmUgPSBhc3luYyAoY2VsbFZhbHVlKSA9PiB7XG4gIGxldCBtaWxlU3RvbmVOYW1lO1xuICBsZXQgaXNTaGVldCA9IGZhbHNlO1xuICBzd2l0Y2ggKGNlbGxWYWx1ZSkge1xuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUFJPSkVDVF9TSUdOVVA6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9KRUNUX1NJR05VUDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNJVEVfU1VSVkVZOiB7XG4gICAgICBtaWxlU3RvbmVOYW1lID0gUHJvamVjdE1pbGVTdG9uZUVudW0uU0lURV9TVVJWRVk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5TSVRFX1NVUlZFWV9DT01QTEVURToge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfU1VSVkVZO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uS05PV19ZT1VSX0NMSUVOVDoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLktOT1dfWU9VUl9DTElFTlQ7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5GSVJTVF9DVVRfTUVFVElORzoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9QUkVTRU5UQVRJT047XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05fUFJFU0VOVEFUSU9OOiB7XG4gICAgICBtaWxlU3RvbmVOYW1lID0gUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX1BSRVNFTlRBVElPTjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9GSU5BTElaQVRJT046IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fRklOQUxJWkFUSU9OO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVRVUVTVF9QTV9GT1JfS0lDS09GRjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9SRVFVRVNUO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uS0lDS09GRl9NRUVUSU5HX0FUX1NJVEU6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1ZBTElEQVRJT05fTUVFVElORztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRXR19SRVZJU0lPTlM6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5QT1NUX1NJVEVfVkFMSURBVElPTl9SRVZJU0lPTjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkdGQ19DSEVDS0lORzoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkdGQ19DSEVDS0lORztcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9TSUdOX09GRjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9TSUdOT0ZGO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX1NJR05fT0ZGX1BSRVNFTlRBVElPTjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9TSUdOT0ZGO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUFJPSkVDVF9SRUNFSVZFRF9GT1JfUExBTk5JTkc6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OX1JFUVVFU1Q7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9EVUNUSU9OOiB7XG4gICAgICBtaWxlU3RvbmVOYW1lID0gUHJvamVjdE1pbGVTdG9uZUVudW0uUFJPRFVDVElPTjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlJFQURZX0ZPUl9ESVNQQVRDSDoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLlJFQURZX0ZPUl9ESVNQQVRDSDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBFTkRJTkdfSEFSRFdBUkVfUUM6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0g7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5SRUFEWV9GT1JfSEFORE9WRVI6IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfSEFORE9WRVI7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5IQU5ET1ZFUjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkhBTkRPVkVSO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uVEhJUlRZRklWRV9QQVlNRU5UX0NPTkZJUk1BVElPTjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLlRISVJUWUZJVkVfUEFZTUVOVDtcbiAgICAgIGlzU2hlZXQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX0lURVJBVElPTjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9JVEVSQVRJT047XG4gICAgICBpc1NoZWV0ID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLk1BVEVSSUFMX1NFTEVDVElPTjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLk1BVEVSSUFMX1NFTEVDVElPTjtcbiAgICAgIGlzU2hlZXQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgU21hcnRTaGVldENlbGxWYWx1ZUVudW0uRk9VUlRZRklWRV9QQVlNRU5UX0NPTkZJUk1BVElPTjoge1xuICAgICAgbWlsZVN0b25lTmFtZSA9IFByb2plY3RNaWxlU3RvbmVFbnVtLkZPVVJUWUZJVkVfUEFZTUVOVF9DT05GSVJNQVRJT047XG4gICAgICBpc1NoZWV0ID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkZJRlRFRU5fUEFZTUVOVF9DT05GSVJNQVRJT046IHtcbiAgICAgIG1pbGVTdG9uZU5hbWUgPSBQcm9qZWN0TWlsZVN0b25lRW51bS5GSUZURUVOX1BBWU1FTlRfQ09ORklSTUFUSU9OO1xuICAgICAgaXNTaGVldCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XCJtaWxlU3RvbmVOYW1lXCI6bWlsZVN0b25lTmFtZSxcImlzU2hlZXRcIjppc1NoZWV0fTtcbn07XG5jb25zdCBnZXRDZWxsVmFsdWUgPSBhc3luYyAoY2VsbCkgPT4ge1xuICByZXR1cm4gY2VsbC5kaXNwbGF5VmFsdWUgPyBjZWxsLmRpc3BsYXlWYWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG59O1xuY29uc3QgVXBkYXRlSGFuZG92ZXJEYXRlID0gYXN5bmMgKHByb2plY3QsIHJvdywgZXZlbnRDb2x1bW5JZCkgPT4ge1xuICBsZXQgaGFuZG92ZXJEYXRlO1xuICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgIGlmIChjZWxsLmNvbHVtbklkLnRvU3RyaW5nKCkgPT09IGV2ZW50Q29sdW1uSWQudG9TdHJpbmcoKSkge1xuICAgICAgaGFuZG92ZXJEYXRlID0gY2VsbC52YWx1ZTtcbiAgICAgIGlmIChoYW5kb3ZlckRhdGUpIHtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgICAgICAgZGF0YTogeyBleHBlY3RlZGhhbmRvdmVyZGF0ZTogbmV3IERhdGUoaGFuZG92ZXJEYXRlKSB9LFxuICAgICAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0LmlkIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmNvbnN0IGRlbGV0ZVdlYkhvb2sgPSBhc3luYyAocm93LCBldmVudCwgY2FsbGJhY2tEYXRhLCBzbWFydENsaWVudCkgPT4ge1xuICB2YXIgb3B0aW9ucyA9IHtcbiAgICBzaGVldElkOiBjYWxsYmFja0RhdGEuc2NvcGVPYmplY3RJZCxcbiAgICBjb2x1bW5JZDogZXZlbnQuY29sdW1uSWQudG9TdHJpbmcoKSxcbiAgfTtcbiAgY29uc3QgY29sdW1uID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldENvbHVtbnMob3B0aW9ucyk7XG4gIGlmIChcbiAgICBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfRklOSVNIXG4gICkge1xuICAgIGZvciAodmFyIGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICBpZiAoY2VsbC5jb2x1bW5JZC50b1N0cmluZygpID09PSBldmVudC5jb2x1bW5JZC50b1N0cmluZygpKSB7XG4gICAgICAgIGlmIChjZWxsLnZhbHVlKSB7XG4gICAgICAgICAgdmFyIGRlbGV0ZUhvb2sgPSB7XG4gICAgICAgICAgICB3ZWJob29rSWQ6IGNhbGxiYWNrRGF0YS53ZWJob29rSWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhd2FpdCBzbWFydENsaWVudC53ZWJob29rcy5kZWxldGVXZWJob29rKGRlbGV0ZUhvb2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuY29uc3QgdXBkYXRlUE0gPSBhc3luYyAocHJvamVjdCwgcm93LCBldmVudENvbHVtbklkKSA9PiB7XG4gIGxldCBwcm9qZWN0TWFuYWdlcjtcbiAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICBpZiAoY2VsbC5jb2x1bW5JZC50b1N0cmluZygpID09PSBldmVudENvbHVtbklkLnRvU3RyaW5nKCkpIHtcbiAgICAgIHByb2plY3RNYW5hZ2VyID0gY2VsbC52YWx1ZTtcbiAgICAgIGlmIChwcm9qZWN0TWFuYWdlcikge1xuICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgICAgICBkYXRhOiB7IHByb2plY3RtYW5hZ2VybmFtZTogcHJvamVjdE1hbmFnZXIgfSxcbiAgICAgICAgICB3aGVyZTogeyBpZDogcHJvamVjdC5pZCB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5jb25zdCBwb3N0V2ViRW5nYWdlQXBpID0gYXN5bmMgKHVwZGF0ZWRNaWxlU3RvbmUsIHNtYXJ0U2hlZXRJZCwgc21hcnRDbGllbnQsIHByb2plY3QpID0+IHtcbiAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHsgaWQ6IHNtYXJ0U2hlZXRJZCB9KTtcbiAgY29uc3QgdGFza05hbWVDb2x1bW5JZCA9IGF3YWl0IGdldFRhc2tOYW1lQ29sdW1uSWQoc2hlZXREYXRhKTtcbiAgY29uc3Qgc3VtbWFyeURldGFpbHNDb2x1bW5JZCA9IGF3YWl0IGdldFN1bW1hcnlEZXRhaWxzQ29sdW1uSWQoc2hlZXREYXRhKTtcbiAgbGV0IGNsaWVudEVtYWlsLCBjbGllbnRDb250YWN0LCBkZXNpZ25lck5hbWU7XG4gIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgIGZvciAodmFyIGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICBjb25zdCBjZWxsVmFsdWUgPSBhd2FpdCBnZXRDZWxsVmFsdWUoY2VsbCk7XG4gICAgICAgIGlmIChjZWxsLmNvbHVtbklkID09PSB0YXNrTmFtZUNvbHVtbklkICYmIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdORVJfTkFNRSkge1xuICAgICAgICAgIGRlc2lnbmVyTmFtZSA9IGF3YWl0IGdldERlc2lnbmVyTmFtZShyb3csIHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsLmNvbHVtbklkID09PSB0YXNrTmFtZUNvbHVtbklkICYmIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uQ0xJRU5UX0VNQUlMKSB7XG4gICAgICAgICAgY2xpZW50RW1haWwgPSBhd2FpdCBnZXRDbGllbnRDb250YWN0KHJvdywgc3VtbWFyeURldGFpbHNDb2x1bW5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlbGwuY29sdW1uSWQgPT09IHRhc2tOYW1lQ29sdW1uSWQgJiYgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5DTElFTlRfQ09OVEFDVCkge1xuICAgICAgICAgIGNsaWVudENvbnRhY3QgPSBhd2FpdCBnZXRDbGllbnRFbWFpbChyb3csIHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQpO1xuICAgICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjYWxsV2ViRW5nYWdlQXBpKGNsaWVudENvbnRhY3QsIHVwZGF0ZWRNaWxlU3RvbmUsIGRlc2lnbmVyTmFtZSwgY2xpZW50RW1haWwsIHByb2plY3QpO1xufTtcbmNvbnN0IGNhbGxXZWJFbmdhZ2VBcGkgPSBhc3luYyAoY2xpZW50Q29udGFjdCwgdXBkYXRlZE1pbGVTdG9uZSwgZGVzaWduZXJOYW1lLCBjbGllbnRFbWFpbCwgcHJvamVjdCkgPT4ge1xuICBpZihwcm9jZXNzLmVudi5XZWJFbmdhZ2VFbnYgIT09IFwicHJvZFwiKXtcbiAgICBjbGllbnRDb250YWN0ID0gcHJvY2Vzcy5lbnYuVGVzdFBob25lO1xuICB9XG4gIGlmKHVwZGF0ZWRNaWxlU3RvbmUgPT09IFwiUG9zdCBTaXRlIFZhbGlkYXRpb24gUmV2aXNpb25cIil7XG4gICAgdXBkYXRlZE1pbGVTdG9uZSA9IFwiRHdnIFJldmlzaW9ucyBDb21wbGV0ZWRcIjtcbiAgfVxuICBpZih1cGRhdGVkTWlsZVN0b25lID09PSBcIkRlc2lnbiBTaWduLU9mZlwiKXtcbiAgICB1cGRhdGVkTWlsZVN0b25lID0gXCJEZXNpZ24gU2lnbiBPZmZcIjtcbiAgfVxuICBjb25zdCBjb21wbGV0aW9uRGF0ZSA9IGRheWpzKHByb2plY3QuZXhwZWN0ZWRoYW5kb3ZlcmRhdGUpLmZvcm1hdChcIkREIE1NTU0gWVlZWVwiKTtcbiAgY29uc3QgYXR0cmlidXRlTW9kZWwgPSB7XCJtaWxlc3RvbmVOYW1lXCI6IHVwZGF0ZWRNaWxlU3RvbmUsIFwiRGVzaWduZXJOYW1lXCIgOiBkZXNpZ25lck5hbWUsXCJJc0ltb3NQcm9qZWN0XCI6cHJvamVjdC5pc2ltb3Nwcm9qZWN0LCBcImNvbXBsZXRpb25EYXRlXCI6Y29tcGxldGlvbkRhdGV9O1xuICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcInVzZXJJZFwiIDogY2xpZW50Q29udGFjdCwgXCJlbWFpbFwiIDogY2xpZW50RW1haWwsIFwicGhvbmVcIiA6IGNsaWVudENvbnRhY3QsIFwiYXR0cmlidXRlc1wiOmF0dHJpYnV0ZU1vZGVsfTtcbiAgY29uc29sZS5sb2cocmVxdWVzdEJvZHkpO1xuICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5XZWJFbmdhZ2VVcmw7XG4gIGNvbnN0IHdlYkVuZ2FnZVB1c2hEYXRhUmVzcG9uc2UgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAucHV0KHVybClcbiAgICAgIC5zZW5kKHJlcXVlc3RCb2R5KVxuICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIilcbiAgICAgIC5zZXQoXCJBdXRob3JpemF0aW9uXCIscHJvY2Vzcy5lbnYuV2ViRW5nYWdlQXV0aG9yaXphdGlvblRva2VuKVxuICBpZihKU09OLnN0cmluZ2lmeSh3ZWJFbmdhZ2VQdXNoRGF0YVJlc3BvbnNlLmJvZHkucmVzcG9uc2Uuc3RhdHVzID09PSBcInF1ZXVlZFwiKSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2UgOiBcIkRhdGEgU3VjY2Vzc2Z1bGx5IHB1c2hlZCB0byBXZWJFbmdhZ2VcIlxuICAgIH1cbiAgfWVsc2V7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDQwMCxcbiAgICAgIHJlc3BvbnNlOkpTT04uc3RyaW5naWZ5KHdlYkVuZ2FnZVB1c2hEYXRhUmVzcG9uc2UpXG4gICAgfVxuICB9XG59O1xuY29uc3QgZ2V0RGVzaWduZXJOYW1lID0gYXN5bmMgKHJvdywgc3VtbWFyeURldGFpbHNDb2x1bW5JZCkgPT4ge1xuICBsZXQgZGVzaWduZXJOYW1lO1xuICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgIGlmKGNlbGwuY29sdW1uSWQudG9TdHJpbmcoKSA9PT0gc3VtbWFyeURldGFpbHNDb2x1bW5JZC50b1N0cmluZygpKXtcbiAgICAgIGRlc2lnbmVyTmFtZSA9IGNlbGwudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzaWduZXJOYW1lO1xufTtcbmNvbnN0IGdldENsaWVudENvbnRhY3QgPSBhc3luYyAocm93LCBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkKSA9PiB7XG4gIGxldCBjbGllbnRDb250YWN0O1xuICBmb3IgKHZhciBjZWxsIG9mIHJvdy5jZWxscykge1xuICAgIGlmKGNlbGwuY29sdW1uSWQudG9TdHJpbmcoKSA9PT0gc3VtbWFyeURldGFpbHNDb2x1bW5JZC50b1N0cmluZygpKXtcbiAgICAgIGNsaWVudENvbnRhY3QgPSBjZWxsLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsaWVudENvbnRhY3Q7XG59O1xuY29uc3QgZ2V0Q2xpZW50RW1haWwgPSBhc3luYyAocm93LCBzdW1tYXJ5RGV0YWlsc0NvbHVtbklkKSA9PiB7XG4gIGxldCBjbGllbnRFbWFpbDtcbiAgZm9yICh2YXIgY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICBpZihjZWxsLmNvbHVtbklkLnRvU3RyaW5nKCkgPT09IHN1bW1hcnlEZXRhaWxzQ29sdW1uSWQudG9TdHJpbmcoKSl7XG4gICAgICBjbGllbnRFbWFpbCA9IGNlbGwudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2xpZW50RW1haWw7XG59O1xuIiwiaW1wb3J0IHtcbiAgZ2V0U21hcnRTaGVldENsaWVudCxcbiAgZ2V0UHJvamVjdEJ5U2hlZXRJZCxcbiAgZ2V0SGFuZG92ZXJEYXRlLFxuICBnZXREZWxheURheXMsXG4gIGdldFRhc2tOYW1lQ29sdW1uSWQsXG59IGZyb20gXCIuLi9TbWFydFNoZWV0U2VydmljZXNcIjtcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmltcG9ydCBQcm9qZWN0TWlsZVN0b25lRW51bSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9Qcm9qZWN0TWlsZVN0b25lRW51bVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuZXhwb3J0IGNvbnN0IGdldE1pbGVTdG9uZURldGFpbHMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgR2V0TWlsZVN0b25lUmVzcG9uc2U7XG4gIHZhciBoYW5kb3ZlckRhdGU7XG4gIHRyeSB7XG4gICAgaWYgKCFhcmdzLnNoZWV0SWQpIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQbGVhc2UgRW50ZXIgVmFsaWQgU21hcnRzaGVldCBJZFwiIH07XG4gICAgfVxuICAgIGNvbnN0IHNtYXJ0Q2xpZW50ID0gYXdhaXQgZ2V0U21hcnRTaGVldENsaWVudCgpO1xuICAgIGNvbnN0IHNoZWV0RGF0YSA9IGF3YWl0IHNtYXJ0Q2xpZW50LnNoZWV0cy5nZXRTaGVldCh7IGlkOiBhcmdzLnNoZWV0SWQgfSk7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IGdldFByb2plY3RCeVNoZWV0SWQoYXJncy5zaGVldElkKTtcbiAgICBjb25zdCBtaWxlU3RvbmVEYXRhID0gYXdhaXQgZ2V0TWlsZVN0b25lRGF0YShcbiAgICAgIHNoZWV0RGF0YSxcbiAgICAgIHByb2plY3QubWlsZXN0b25lcyxcbiAgICAgIFwiXCJcbiAgICApO1xuICAgIGhhbmRvdmVyRGF0ZSA9IGF3YWl0IGdldEhhbmRvdmVyRGF0ZShzaGVldERhdGEpO1xuICAgIGlmIChoYW5kb3ZlckRhdGUpIHtcbiAgICAgIGhhbmRvdmVyRGF0ZSA9IG5ldyBEYXRlKGhhbmRvdmVyRGF0ZSk7XG4gICAgfVxuICAgIC8vdXBkYXRlIEhhbmRvdmVyRGF0ZSBpbnRvIERCIHByb2plY3QgdGFibGUuXG4gICAgYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgICBkYXRhOiB7IGV4cGVjdGVkaGFuZG92ZXJkYXRlOiBoYW5kb3ZlckRhdGUgfSxcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0LmlkIH0sXG4gICAgfSk7XG4gICAgR2V0TWlsZVN0b25lUmVzcG9uc2UgPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NcIixcbiAgICAgIGRhdGE6IG1pbGVTdG9uZURhdGEsXG4gICAgfTtcbiAgICByZXR1cm4gR2V0TWlsZVN0b25lUmVzcG9uc2U7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgR2V0TWlsZVN0b25lUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiBHZXRNaWxlU3RvbmVSZXNwb25zZTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBnZXRNaWxlU3RvbmVEYXRhID0gYXN5bmMgKHNoZWV0RGF0YSwgbWlsZVN0b25lcywgdHlwZSkgPT4ge1xuICBjb25zdCBjb2x1bW5Kc29uID0gYXdhaXQgZ2V0Q29sdW1uSWRzKHNoZWV0RGF0YSk7XG4gIHZhciBtaWxlU3RvbmUsIGNoZWNrTGlzdGRhdGE7XG4gIGNvbnN0IG1pbGVzdG9uZWxpc3QgPSBbXSxcbiAgICBsaXN0VHlwZSA9IHR5cGU7XG4gIGNvbnN0IHRhc2tOYW1lQ29sdW1uSWQgPSBhd2FpdCBnZXRUYXNrTmFtZUNvbHVtbklkKHNoZWV0RGF0YSk7XG4gIGZvciAodmFyIHJvdyBvZiBzaGVldERhdGEucm93cykge1xuICAgIGZvciAodmFyIGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICBjb25zdCBjZWxsVmFsdWUgPSBjZWxsLmRpc3BsYXlWYWx1ZVxuICAgICAgICA/IGNlbGwuZGlzcGxheVZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGlmIChjZWxsLmNvbHVtbklkID09PSB0YXNrTmFtZUNvbHVtbklkKSB7XG4gICAgICAgIGlmIChjZWxsVmFsdWUgJiYgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX1NJR05VUCkge1xuICAgICAgICAgIGZvciAobWlsZVN0b25lIG9mIG1pbGVTdG9uZXMuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlscykge1xuICAgICAgICAgICAgY29uc3QgbGFibGVOYW1lID0gbWlsZVN0b25lLmxhYmVsXG4gICAgICAgICAgICAgID8gbWlsZVN0b25lLmxhYmVsLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0pFQ1RfU0lHTlVQKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByb2plY3RTaWduVXBEYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRDaGVja2xpc3REYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgcHJvamVjdFNpZ25VcERhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IHByb2plY3RTaWduVXBEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2VsbFZhbHVlICYmIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNJVEVfU1VSVkVZIHx8XG4gICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5TSVRFX1NVUlZFWV9DT01QTEVURSkpIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1NVUlZFWSkge1xuICAgICAgICAgICAgICBjb25zdCBzaXRlU3VydmV5RGF0YSA9IGF3YWl0IGdldG1pbGVTdG9uZUNlbGxEYXRhKFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW5Kc29uLFxuICAgICAgICAgICAgICAgIGxpc3RUeXBlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IG1pbGVzdG9uZUNoZWNrbGlzdCA9IG1pbGVTdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICAgICAgICBjaGVja0xpc3RkYXRhID0gYXdhaXQgZ2V0U2l0ZVN1cnZleURhdGEoXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgIGxhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBzaXRlU3VydmV5RGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtaWxlc3RvbmVsaXN0LnB1c2goY2hlY2tMaXN0ZGF0YSk7XG4gICAgICAgICAgICAgIG1pbGVTdG9uZS5NaWxlU3RvbmVEYXRhID0gc2l0ZVN1cnZleURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjZWxsVmFsdWUgJiZcbiAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLktOT1dfWU9VUl9DTElFTlRcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yIChtaWxlU3RvbmUgb2YgbWlsZVN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJsZU5hbWUgPSBtaWxlU3RvbmUubGFiZWxcbiAgICAgICAgICAgICAgPyBtaWxlU3RvbmUubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uS05PV19ZT1VSX0NMSUVOVCkge1xuICAgICAgICAgICAgICBjb25zdCBreWNEYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRLWUNEYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAga3ljRGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtaWxlc3RvbmVsaXN0LnB1c2goY2hlY2tMaXN0ZGF0YSk7XG4gICAgICAgICAgICAgIG1pbGVTdG9uZS5NaWxlU3RvbmVEYXRhID0ga3ljRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbGxWYWx1ZSAmJlxuICAgICAgICAgIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkZJUlNUX0NVVF9NRUVUSU5HIHx8XG4gICAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9QUkVTRU5UQVRJT04pXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAobWlsZVN0b25lIG9mIG1pbGVTdG9uZXMuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlscykge1xuICAgICAgICAgICAgY29uc3QgbGFibGVOYW1lID0gbWlsZVN0b25lLmxhYmVsXG4gICAgICAgICAgICAgID8gbWlsZVN0b25lLmxhYmVsLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9QUkVTRU5UQVRJT04pIHtcbiAgICAgICAgICAgICAgY29uc3QgZGVzaWduUHJlc2VudGF0aW9uRGF0YSA9IGF3YWl0IGdldG1pbGVTdG9uZUNlbGxEYXRhKFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW5Kc29uLFxuICAgICAgICAgICAgICAgIGxpc3RUeXBlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IG1pbGVzdG9uZUNoZWNrbGlzdCA9IG1pbGVTdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICAgICAgICBjaGVja0xpc3RkYXRhID0gYXdhaXQgZ2V0RGVzaWducHJlc2VudGF0aW9uRGF0YShcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIGRlc2lnblByZXNlbnRhdGlvbkRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IGRlc2lnblByZXNlbnRhdGlvbkRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjZWxsVmFsdWUgJiZcbiAgICAgICAgICBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9GSU5BTElaQVRJT05cbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yIChtaWxlU3RvbmUgb2YgbWlsZVN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJsZU5hbWUgPSBtaWxlU3RvbmUubGFiZWxcbiAgICAgICAgICAgICAgPyBtaWxlU3RvbmUubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX0ZJTkFMSVpBVElPTikge1xuICAgICAgICAgICAgICBjb25zdCBkZXNpZ25GaW5hbGl6YXRpb25EYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXREZXNpZ25maW5hbGl6YXRpb25EYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgZGVzaWduRmluYWxpemF0aW9uRGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtaWxlc3RvbmVsaXN0LnB1c2goY2hlY2tMaXN0ZGF0YSk7XG4gICAgICAgICAgICAgIG1pbGVTdG9uZS5NaWxlU3RvbmVEYXRhID0gZGVzaWduRmluYWxpemF0aW9uRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbGxWYWx1ZSAmJlxuICAgICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVRVUVTVF9QTV9GT1JfS0lDS09GRlxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1ZBTElEQVRJT05fUkVRVUVTVCkge1xuICAgICAgICAgICAgICBjb25zdCBwbUtpY2tPZmZEYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRTaXRlcmVxdWVzdERhdGEoXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgIGxhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBwbUtpY2tPZmZEYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSBwbUtpY2tPZmZEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2VsbFZhbHVlICYmXG4gICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5LSUNLT0ZGX01FRVRJTkdfQVRfU0lURVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1ZBTElEQVRJT05fTUVFVElORykge1xuICAgICAgICAgICAgICBjb25zdCBtZWV0aW5nYXRTaXRlRGF0YSA9IGF3YWl0IGdldG1pbGVTdG9uZUNlbGxEYXRhKFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW5Kc29uLFxuICAgICAgICAgICAgICAgIGxpc3RUeXBlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IG1pbGVzdG9uZUNoZWNrbGlzdCA9IG1pbGVTdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICAgICAgICBjaGVja0xpc3RkYXRhID0gYXdhaXQgZ2V0U2l0ZW1lZXRpbmdEYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgbWVldGluZ2F0U2l0ZURhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IG1lZXRpbmdhdFNpdGVEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2VsbFZhbHVlICYmIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uRFdHX1JFVklTSU9OUykge1xuICAgICAgICAgIGZvciAobWlsZVN0b25lIG9mIG1pbGVTdG9uZXMuYXR0cmlidXRlcy5taWxlc3RvbmVfZGV0YWlscykge1xuICAgICAgICAgICAgY29uc3QgbGFibGVOYW1lID0gbWlsZVN0b25lLmxhYmVsXG4gICAgICAgICAgICAgID8gbWlsZVN0b25lLmxhYmVsLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QT1NUX1NJVEVfVkFMSURBVElPTl9SRVZJU0lPTlxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGR3Z1JldmlzaW9uRGF0YSA9IGF3YWl0IGdldG1pbGVTdG9uZUNlbGxEYXRhKFxuICAgICAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW5Kc29uLFxuICAgICAgICAgICAgICAgIGxpc3RUeXBlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IG1pbGVzdG9uZUNoZWNrbGlzdCA9IG1pbGVTdG9uZS5taWxlc3RvbmVfY2hlY2tsaXN0O1xuICAgICAgICAgICAgICBjaGVja0xpc3RkYXRhID0gYXdhaXQgZ2V0UG9zdFNpdGVEYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgZHdnUmV2aXNpb25EYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSBkd2dSZXZpc2lvbkRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjZWxsVmFsdWUgJiYgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5HRkNfQ0hFQ0tJTkcpIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5HRkNfQ0hFQ0tJTkcpIHtcbiAgICAgICAgICAgICAgY29uc3QgZ2ZjQ2hla2luZ0RhdGEgPSBhd2FpdCBnZXRtaWxlU3RvbmVDZWxsRGF0YShcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgY29sdW1uSnNvbixcbiAgICAgICAgICAgICAgICBsaXN0VHlwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBtaWxlU3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgICAgICAgICAgY2hlY2tMaXN0ZGF0YSA9IGF3YWl0IGdldEdGQ0RhdGEoXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgIGxhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBnZmNDaGVraW5nRGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtaWxlc3RvbmVsaXN0LnB1c2goY2hlY2tMaXN0ZGF0YSk7XG4gICAgICAgICAgICAgIG1pbGVTdG9uZS5NaWxlU3RvbmVEYXRhID0gZ2ZjQ2hla2luZ0RhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjZWxsVmFsdWUgJiZcbiAgICAgICAgICAoY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5ERVNJR05fU0lHTl9PRkYgfHxcbiAgICAgICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX1NJR05fT0ZGX1BSRVNFTlRBVElPTilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yIChtaWxlU3RvbmUgb2YgbWlsZVN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJsZU5hbWUgPSBtaWxlU3RvbmUubGFiZWxcbiAgICAgICAgICAgICAgPyBtaWxlU3RvbmUubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX1NJR05PRkYpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGVzaWduU2lnbk9mZkRhdGEgPSBhd2FpdCBnZXRtaWxlU3RvbmVDZWxsRGF0YShcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgY29sdW1uSnNvbixcbiAgICAgICAgICAgICAgICBsaXN0VHlwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBtaWxlU3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgICAgICAgICAgY2hlY2tMaXN0ZGF0YSA9IGF3YWl0IGdldERlc2lnblNpZ25vZmZEYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgZGVzaWduU2lnbk9mZkRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IGRlc2lnblNpZ25PZmZEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2VsbFZhbHVlICYmXG4gICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QUk9KRUNUX1JFQ0VJVkVEX0ZPUl9QTEFOTklOR1xuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OX1JFUVVFU1QpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZWRGb3JQbGFubmluZ0RhdGEgPSBhd2FpdCBnZXRtaWxlU3RvbmVDZWxsRGF0YShcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgY29sdW1uSnNvbixcbiAgICAgICAgICAgICAgICBsaXN0VHlwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBtaWxlU3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgICAgICAgICAgY2hlY2tMaXN0ZGF0YSA9IGF3YWl0IGdldFByb2R1Y3Rpb25SZXF1ZXN0RGF0YShcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkRm9yUGxhbm5pbmdEYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSByZWNlaXZlZEZvclBsYW5uaW5nRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbGxWYWx1ZSAmJlxuICAgICAgICAgIGNlbGxWYWx1ZSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uVEhJUlRZRklWRV9QQVlNRU5UX0NPTkZJUk1BVElPTlxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5USElSVFlGSVZFX1BBWU1FTlQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGhpcnR5Rml2ZURhdGEgPSBhd2FpdCBnZXRtaWxlU3RvbmVDZWxsRGF0YShcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgY29sdW1uSnNvbixcbiAgICAgICAgICAgICAgICBsaXN0VHlwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBtaWxlU3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgICAgICAgICAgY2hlY2tMaXN0ZGF0YSA9IGF3YWl0IGdldDM1RGF0YShcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIHRoaXJ0eUZpdmVEYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSB0aGlydHlGaXZlRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlbGxWYWx1ZSAmJiBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0RVQ1RJT04pIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3Rpb25EYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRQcm9kdWN0aW9uRGF0YShcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIHByb2R1Y3Rpb25EYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSBwcm9kdWN0aW9uRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbGxWYWx1ZSAmJlxuICAgICAgICAgIChjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlJFQURZX0ZPUl9ESVNQQVRDSCB8fFxuICAgICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5QRU5ESU5HX0hBUkRXQVJFX1FDKVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKG1pbGVTdG9uZSBvZiBtaWxlU3RvbmVzLmF0dHJpYnV0ZXMubWlsZXN0b25lX2RldGFpbHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmxlTmFtZSA9IG1pbGVTdG9uZS5sYWJlbFxuICAgICAgICAgICAgICA/IG1pbGVTdG9uZS5sYWJlbC50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBpZiAobGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0gpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhZHlEaXNwYXRjaERhdGEgPSBhd2FpdCBnZXRtaWxlU3RvbmVDZWxsRGF0YShcbiAgICAgICAgICAgICAgICByb3csXG4gICAgICAgICAgICAgICAgY29sdW1uSnNvbixcbiAgICAgICAgICAgICAgICBsaXN0VHlwZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBtaWxlc3RvbmVDaGVja2xpc3QgPSBtaWxlU3RvbmUubWlsZXN0b25lX2NoZWNrbGlzdDtcbiAgICAgICAgICAgICAgY2hlY2tMaXN0ZGF0YSA9IGF3YWl0IGdldFJlYWR5RGlzcGF0Y2hEYXRhKFxuICAgICAgICAgICAgICAgIG1pbGVzdG9uZUNoZWNrbGlzdCxcbiAgICAgICAgICAgICAgICBsYWJsZU5hbWUsXG4gICAgICAgICAgICAgICAgcmVhZHlEaXNwYXRjaERhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IHJlYWR5RGlzcGF0Y2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2VsbFZhbHVlICYmXG4gICAgICAgICAgY2VsbFZhbHVlID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5SRUFEWV9GT1JfSEFORE9WRVJcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yIChtaWxlU3RvbmUgb2YgbWlsZVN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJsZU5hbWUgPSBtaWxlU3RvbmUubGFiZWxcbiAgICAgICAgICAgICAgPyBtaWxlU3RvbmUubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uUkVBRFlfRk9SX0hBTkRPVkVSKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWR5SGFuZG92ZXJEYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRSZWFkeUhhbmRvdmVyRGF0YShcbiAgICAgICAgICAgICAgICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gICAgICAgICAgICAgICAgbGFibGVOYW1lLFxuICAgICAgICAgICAgICAgIHJlYWR5SGFuZG92ZXJEYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1pbGVzdG9uZWxpc3QucHVzaChjaGVja0xpc3RkYXRhKTtcbiAgICAgICAgICAgICAgbWlsZVN0b25lLk1pbGVTdG9uZURhdGEgPSByZWFkeUhhbmRvdmVyRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNlbGxWYWx1ZSAmJiBjZWxsVmFsdWUgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkhBTkRPVkVSKSB7XG4gICAgICAgICAgZm9yIChtaWxlU3RvbmUgb2YgbWlsZVN0b25lcy5hdHRyaWJ1dGVzLm1pbGVzdG9uZV9kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJsZU5hbWUgPSBtaWxlU3RvbmUubGFiZWxcbiAgICAgICAgICAgICAgPyBtaWxlU3RvbmUubGFiZWwudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uSEFORE9WRVIpIHtcbiAgICAgICAgICAgICAgY29uc3QgaGFuZG92ZXJEYXRhID0gYXdhaXQgZ2V0bWlsZVN0b25lQ2VsbERhdGEoXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIGNvbHVtbkpzb24sXG4gICAgICAgICAgICAgICAgbGlzdFR5cGVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgbWlsZXN0b25lQ2hlY2tsaXN0ID0gbWlsZVN0b25lLm1pbGVzdG9uZV9jaGVja2xpc3Q7XG4gICAgICAgICAgICAgIGNoZWNrTGlzdGRhdGEgPSBhd2FpdCBnZXRIYW5kb3ZlckRhdGEoXG4gICAgICAgICAgICAgICAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgIGxhYmxlTmFtZSxcbiAgICAgICAgICAgICAgICBoYW5kb3ZlckRhdGFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWlsZXN0b25lbGlzdC5wdXNoKGNoZWNrTGlzdGRhdGEpO1xuICAgICAgICAgICAgICBtaWxlU3RvbmUuTWlsZVN0b25lRGF0YSA9IGhhbmRvdmVyRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiaG9tZVwiKSB7XG4gICAgcmV0dXJuIG1pbGVzdG9uZWxpc3Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1pbGVTdG9uZXM7XG4gIH1cbn07XG5jb25zdCBnZXRtaWxlU3RvbmVDZWxsRGF0YSA9IGFzeW5jIChyb3csIGNvbHVtbkpzb24sIGxpc3RUeXBlKSA9PiB7XG4gIGxldCBhc3NpZ25lZFRvLFxuICAgIG9yaWdpbmFsU3RhcnREYXRlLFxuICAgIG9yaWdpbmFsRW5kRGF0ZSxcbiAgICBhY3R1YWxTdGFydERhdGUsXG4gICAgYWN0dWFsRW5kRGF0ZSxcbiAgICBmb3JlY2FzdGVkRW5kRGF0ZSxcbiAgICBmb3JlY2FzdGVkU3RhcnREYXRlLFxuICAgIHRhc2tTdGF0dXM7XG4gIGxldCBkZWxheURheXM7XG4gIGxldCBkZWxheVN0YXR1cyA9IFwib25UaW1lXCI7XG4gIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgc3dpdGNoIChjZWxsLmNvbHVtbklkKSB7XG4gICAgICBjYXNlIGNvbHVtbkpzb24uYXNzaWduZWRUb0NvbHVtbklkOiB7XG4gICAgICAgIGFzc2lnbmVkVG8gPSBjZWxsLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgY29sdW1uSnNvbi5vcmlnaW5hbFN0YXJ0RGF0ZUNvbHVtbklkOiB7XG4gICAgICAgIG9yaWdpbmFsU3RhcnREYXRlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIGNvbHVtbkpzb24ub3JpZ2luYWxFbmREYXRlQ29sdW1uSWQ6IHtcbiAgICAgICAgb3JpZ2luYWxFbmREYXRlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIGNvbHVtbkpzb24uYWN0dWFsU3RhcnREYXRlQ29sdW1uSWQ6IHtcbiAgICAgICAgYWN0dWFsU3RhcnREYXRlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIGNvbHVtbkpzb24uYWN0dWFsRW5kRGF0ZUNvbHVtbklkOiB7XG4gICAgICAgIGFjdHVhbEVuZERhdGUgPSBjZWxsLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgY29sdW1uSnNvbi5mb3JlY2FzdGVkRW5kRGF0ZUNvbHVtbklkOiB7XG4gICAgICAgIGZvcmVjYXN0ZWRFbmREYXRlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIGNvbHVtbkpzb24uZm9yZWNhc3RlZFN0YXJ0RGF0ZUNvbHVtbklkOiB7XG4gICAgICAgIGZvcmVjYXN0ZWRTdGFydERhdGUgPSBjZWxsLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgY29sdW1uSnNvbi50YXNrU3RhdHVzQ29sdW1uSWQ6IHtcbiAgICAgICAgdGFza1N0YXR1cyA9IGNlbGwudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbiAgc3dpdGNoICh0YXNrU3RhdHVzKSB7XG4gICAgY2FzZSBcIkNvbXBsZXRlXCI6IHtcbiAgICAgIGRlbGF5RGF5cyA9IGF3YWl0IGdldERlbGF5RGF5cyhcbiAgICAgICAgbmV3IERhdGUoYWN0dWFsRW5kRGF0ZSksXG4gICAgICAgIG5ldyBEYXRlKG9yaWdpbmFsRW5kRGF0ZSlcbiAgICAgICk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcIk5vdCBTdGFydGVkXCI6IHtcbiAgICAgIGRlbGF5RGF5cyA9IGF3YWl0IGdldERlbGF5RGF5cyhcbiAgICAgICAgbmV3IERhdGUoZm9yZWNhc3RlZEVuZERhdGUpLFxuICAgICAgICBuZXcgRGF0ZShvcmlnaW5hbEVuZERhdGUpXG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJJbiBQcm9ncmVzc1wiOiB7XG4gICAgICBkZWxheURheXMgPSBhd2FpdCBnZXREZWxheURheXMoXG4gICAgICAgIG5ldyBEYXRlKGZvcmVjYXN0ZWRFbmREYXRlKSxcbiAgICAgICAgbmV3IERhdGUob3JpZ2luYWxFbmREYXRlKVxuICAgICAgKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbiAgaWYgKGRlbGF5RGF5cyA+IDApIHtcbiAgICBkZWxheVN0YXR1cyA9IFwiZGVsYXllZFwiO1xuICB9IGVsc2Uge1xuICAgIGRlbGF5RGF5cyA9IDA7XG4gIH1cbiAgaWYgKGxpc3RUeXBlID09PSBcImhvbWVcIikge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JlY2FzdGVkRW5kRGF0ZTogZm9yZWNhc3RlZEVuZERhdGUsXG4gICAgICB0YXNrU3RhdHVzOiB0YXNrU3RhdHVzLFxuICAgICAgZGVsYXlEYXlzOiBkZWxheURheXMsXG4gICAgICBkZWxheVN0YXR1czogZGVsYXlTdGF0dXMsXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXNzaWduZWRUbzogYXNzaWduZWRUbyxcbiAgICAgIG9yaWdpbmFsU3RhcnREYXRlOiBvcmlnaW5hbFN0YXJ0RGF0ZSxcbiAgICAgIG9yaWdpbmFsRW5kRGF0ZTogb3JpZ2luYWxFbmREYXRlLFxuICAgICAgYWN0dWFsU3RhcnREYXRlOiBhY3R1YWxTdGFydERhdGUsXG4gICAgICBhY3R1YWxFbmREYXRlOiBhY3R1YWxFbmREYXRlLFxuICAgICAgZm9yZWNhc3RlZEVuZERhdGU6IGZvcmVjYXN0ZWRFbmREYXRlLFxuICAgICAgZm9yZWNhc3RlZFN0YXJ0RGF0ZTogZm9yZWNhc3RlZFN0YXJ0RGF0ZSxcbiAgICAgIHRhc2tTdGF0dXM6IHRhc2tTdGF0dXMsXG4gICAgICBkZWxheURheXM6IGRlbGF5RGF5cyxcbiAgICAgIGRlbGF5U3RhdHVzOiBkZWxheVN0YXR1cyxcbiAgICB9O1xuICB9XG59O1xuXG5jb25zdCBnZXRDb2x1bW5JZHMgPSBhc3luYyAoc2hlZXREYXRhKSA9PiB7XG4gIGNvbnN0IGNvbHVtbkpzb24gPSBhd2FpdCBnZXRDb2x1bW5zSnNvbigpO1xuICBzaGVldERhdGEuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+IHtcbiAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGNvbHVtbi50aXRsZSA/IGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgc3dpdGNoIChjb2x1bW5UaXRsZSkge1xuICAgICAgY2FzZSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQVNTSUdOX1RPOiB7XG4gICAgICAgIGNvbHVtbkpzb24uYXNzaWduZWRUb0NvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLk9SSUdJTkFMX1BMQU5ORURfU1RBUlRfREFURToge1xuICAgICAgICBjb2x1bW5Kc29uLm9yaWdpbmFsU3RhcnREYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uT1JJR0lOQUxfUExBTk5FRF9GSU5JU0hfREFURToge1xuICAgICAgICBjb2x1bW5Kc29uLm9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFDVFVBTF9TVEFSVDoge1xuICAgICAgICBjb2x1bW5Kc29uLmFjdHVhbFN0YXJ0RGF0ZUNvbHVtbklkID0gY29sdW1uLmlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLkFDVFVBTF9GSU5JU0g6IHtcbiAgICAgICAgY29sdW1uSnNvbi5hY3R1YWxFbmREYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQ1VSUkVOVF9GT1JFQ0FTVF9TVEFSVDoge1xuICAgICAgICBjb2x1bW5Kc29uLmZvcmVjYXN0ZWRTdGFydERhdGVDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5DVVJSRU5UX0ZPUkVDQVNUX0ZJTklTSDoge1xuICAgICAgICBjb2x1bW5Kc29uLmZvcmVjYXN0ZWRFbmREYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uVEFTS19TVEFUVVM6IHtcbiAgICAgICAgY29sdW1uSnNvbi50YXNrU3RhdHVzQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjb2x1bW5Kc29uO1xufTtcbmNvbnN0IGdldENvbHVtbnNKc29uID0gYXN5bmMgKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIGFzc2lnbmVkVG9Db2x1bW5JZDogbnVsbCxcbiAgICBvcmlnaW5hbFN0YXJ0RGF0ZUNvbHVtbklkOiBudWxsLFxuICAgIG9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkOiBudWxsLFxuICAgIGFjdHVhbFN0YXJ0RGF0ZUNvbHVtbklkOiBudWxsLFxuICAgIGFjdHVhbEVuZERhdGVDb2x1bW5JZDogbnVsbCxcbiAgICBmb3JlY2FzdGVkRW5kRGF0ZUNvbHVtbklkOiBudWxsLFxuICAgIGZvcmVjYXN0ZWRTdGFydERhdGVDb2x1bW5JZDogbnVsbCxcbiAgICB0YXNrU3RhdHVzQ29sdW1uSWQ6IG51bGwsXG4gIH07XG59O1xuY29uc3QgZ2V0Q2hlY2tsaXN0RGF0YSA9IGFzeW5jIChtaWxlc3RvbmVDaGVja2xpc3QsIGxhYmxlTmFtZSwgc3RhdHVzRGF0YSkgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKHZhbC5sZW5ndGggIT09IDAgJiYgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9KRUNUX1NJR05VUCkge1xuICAgICAgLy9jaGVja2xpc3ROYW1lLnB1c2godmFsW1wiY2hlY2tsaXN0X3N0cmluZ1wiXSlcbiAgICAgIGNoZWNrbGlzdE5hbWUucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG4gIG1zID0ge1xuICAgIG5hbWU6IFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0pFQ1RfU0lHTlVQLFxuICAgIGNoZWNrbGlzdF9uYW1lOiBjaGVja2xpc3ROYW1lLFxuICAgIHRhc2tTdGF0dXM6IHN0YXR1c0RhdGEsXG4gIH07XG4gIHJldHVybiBtcztcbn07XG5jb25zdCBnZXRTaXRlU3VydmV5RGF0YSA9IGFzeW5jIChtaWxlc3RvbmVDaGVja2xpc3QsIGxhYmxlTmFtZSwgc3RhdHVzRGF0YSkgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKHZhbC5sZW5ndGggIT09IDAgJiYgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1NVUlZFWSkge1xuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uU0lURV9TVVJWRVksXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldEtZQ0RhdGEgPSBhc3luYyAobWlsZXN0b25lQ2hlY2tsaXN0LCBsYWJsZU5hbWUsIHN0YXR1c0RhdGEpID0+IHtcbiAgbGV0IG1zID0ge307XG4gIGNvbnN0IGNoZWNrbGlzdE5hbWUgPSBbXTtcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LmZvckVhY2goKHZhbCkgPT4ge1xuICAgIGlmIChcbiAgICAgIHZhbC5sZW5ndGggIT09IDAgJiZcbiAgICAgIGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uS05PV19ZT1VSX0NMSUVOVFxuICAgICkge1xuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uS05PV19ZT1VSX0NMSUVOVCxcbiAgICBjaGVja2xpc3RfbmFtZTogY2hlY2tsaXN0TmFtZSxcbiAgICB0YXNrU3RhdHVzOiBzdGF0dXNEYXRhLFxuICB9O1xuICByZXR1cm4gbXM7XG59O1xuY29uc3QgZ2V0RGVzaWducHJlc2VudGF0aW9uRGF0YSA9IGFzeW5jIChcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICBsYWJsZU5hbWUsXG4gIHN0YXR1c0RhdGFcbikgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fUFJFU0VOVEFUSU9OXG4gICAgKSB7XG4gICAgICAvL2NoZWNrbGlzdE5hbWUucHVzaCh2YWxbXCJjaGVja2xpc3Rfc3RyaW5nXCJdKVxuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX1BSRVNFTlRBVElPTixcbiAgICBjaGVja2xpc3RfbmFtZTogY2hlY2tsaXN0TmFtZSxcbiAgICB0YXNrU3RhdHVzOiBzdGF0dXNEYXRhLFxuICB9O1xuICByZXR1cm4gbXM7XG59O1xuY29uc3QgZ2V0RGVzaWduZmluYWxpemF0aW9uRGF0YSA9IGFzeW5jIChcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICBsYWJsZU5hbWUsXG4gIHN0YXR1c0RhdGFcbikgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fRklOQUxJWkFUSU9OXG4gICAgKSB7XG4gICAgICAvL2NoZWNrbGlzdE5hbWUucHVzaCh2YWxbXCJjaGVja2xpc3Rfc3RyaW5nXCJdKVxuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX0ZJTkFMSVpBVElPTixcbiAgICBjaGVja2xpc3RfbmFtZTogY2hlY2tsaXN0TmFtZSxcbiAgICB0YXNrU3RhdHVzOiBzdGF0dXNEYXRhLFxuICB9O1xuICByZXR1cm4gbXM7XG59O1xuY29uc3QgZ2V0U2l0ZXJlcXVlc3REYXRhID0gYXN5bmMgKFxuICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gIGxhYmxlTmFtZSxcbiAgc3RhdHVzRGF0YVxuKSA9PiB7XG4gIGxldCBtcyA9IHt9O1xuICBjb25zdCBjaGVja2xpc3ROYW1lID0gW107XG4gIG1pbGVzdG9uZUNoZWNrbGlzdC5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICBpZiAoXG4gICAgICB2YWwubGVuZ3RoICE9PSAwICYmXG4gICAgICBsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9SRVFVRVNUXG4gICAgKSB7XG4gICAgICAvL2NoZWNrbGlzdE5hbWUucHVzaCh2YWxbXCJjaGVja2xpc3Rfc3RyaW5nXCJdKVxuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uU0lURV9WQUxJREFUSU9OX1JFUVVFU1QsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldFNpdGVtZWV0aW5nRGF0YSA9IGFzeW5jIChcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICBsYWJsZU5hbWUsXG4gIHN0YXR1c0RhdGFcbikgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1ZBTElEQVRJT05fTUVFVElOR1xuICAgICkge1xuICAgICAgLy9jaGVja2xpc3ROYW1lLnB1c2godmFsW1wiY2hlY2tsaXN0X3N0cmluZ1wiXSlcbiAgICAgIGNoZWNrbGlzdE5hbWUucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG4gIG1zID0ge1xuICAgIG5hbWU6IFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9NRUVUSU5HLFxuICAgIGNoZWNrbGlzdF9uYW1lOiBjaGVja2xpc3ROYW1lLFxuICAgIHRhc2tTdGF0dXM6IHN0YXR1c0RhdGEsXG4gIH07XG4gIHJldHVybiBtcztcbn07XG5jb25zdCBnZXRQb3N0U2l0ZURhdGEgPSBhc3luYyAobWlsZXN0b25lQ2hlY2tsaXN0LCBsYWJsZU5hbWUsIHN0YXR1c0RhdGEpID0+IHtcbiAgbGV0IG1zID0ge307XG4gIGNvbnN0IGNoZWNrbGlzdE5hbWUgPSBbXTtcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LmZvckVhY2goKHZhbCkgPT4ge1xuICAgIGlmIChcbiAgICAgIHZhbC5sZW5ndGggIT09IDAgJiZcbiAgICAgIGxhYmxlTmFtZSA9PT0gUHJvamVjdE1pbGVTdG9uZUVudW0uUE9TVF9TSVRFX1ZBTElEQVRJT05fUkVWSVNJT05cbiAgICApIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5QT1NUX1NJVEVfVkFMSURBVElPTl9SRVZJU0lPTixcbiAgICBjaGVja2xpc3RfbmFtZTogY2hlY2tsaXN0TmFtZSxcbiAgICB0YXNrU3RhdHVzOiBzdGF0dXNEYXRhLFxuICB9O1xuICByZXR1cm4gbXM7XG59O1xuY29uc3QgZ2V0R0ZDRGF0YSA9IGFzeW5jIChtaWxlc3RvbmVDaGVja2xpc3QsIGxhYmxlTmFtZSwgc3RhdHVzRGF0YSkgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKHZhbC5sZW5ndGggIT09IDAgJiYgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5HRkNfQ0hFQ0tJTkcpIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5HRkNfQ0hFQ0tJTkcsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldERlc2lnblNpZ25vZmZEYXRhID0gYXN5bmMgKFxuICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gIGxhYmxlTmFtZSxcbiAgc3RhdHVzRGF0YVxuKSA9PiB7XG4gIGxldCBtcyA9IHt9O1xuICBjb25zdCBjaGVja2xpc3ROYW1lID0gW107XG4gIG1pbGVzdG9uZUNoZWNrbGlzdC5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICBpZiAodmFsLmxlbmd0aCAhPT0gMCAmJiBsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLkRFU0lHTl9TSUdOT0ZGKSB7XG4gICAgICAvL2NoZWNrbGlzdE5hbWUucHVzaCh2YWxbXCJjaGVja2xpc3Rfc3RyaW5nXCJdKVxuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uREVTSUdOX1NJR05PRkYsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldFByb2R1Y3Rpb25SZXF1ZXN0RGF0YSA9IGFzeW5jIChcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICBsYWJsZU5hbWUsXG4gIHN0YXR1c0RhdGFcbikgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OX1JFUVVFU1RcbiAgICApIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OX1JFUVVFU1QsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldDM1RGF0YSA9IGFzeW5jIChtaWxlc3RvbmVDaGVja2xpc3QsIGxhYmxlTmFtZSwgc3RhdHVzRGF0YSkgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5USElSVFlGSVZFX1BBWU1FTlRcbiAgICApIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5USElSVFlGSVZFX1BBWU1FTlQsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldFByb2R1Y3Rpb25EYXRhID0gYXN5bmMgKG1pbGVzdG9uZUNoZWNrbGlzdCwgbGFibGVOYW1lLCBzdGF0dXNEYXRhKSA9PiB7XG4gIGxldCBtcyA9IHt9O1xuICBjb25zdCBjaGVja2xpc3ROYW1lID0gW107XG4gIG1pbGVzdG9uZUNoZWNrbGlzdC5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICBpZiAodmFsLmxlbmd0aCAhPT0gMCAmJiBsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0RVQ1RJT04pIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5QUk9EVUNUSU9OLFxuICAgIGNoZWNrbGlzdF9uYW1lOiBjaGVja2xpc3ROYW1lLFxuICAgIHRhc2tTdGF0dXM6IHN0YXR1c0RhdGEsXG4gIH07XG4gIHJldHVybiBtcztcbn07XG5jb25zdCBnZXRSZWFkeURpc3BhdGNoRGF0YSA9IGFzeW5jIChcbiAgbWlsZXN0b25lQ2hlY2tsaXN0LFxuICBsYWJsZU5hbWUsXG4gIHN0YXR1c0RhdGFcbikgPT4ge1xuICBsZXQgbXMgPSB7fTtcbiAgY29uc3QgY2hlY2tsaXN0TmFtZSA9IFtdO1xuICBtaWxlc3RvbmVDaGVja2xpc3QuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgdmFsLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgbGFibGVOYW1lID09PSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0hcbiAgICApIHtcbiAgICAgIC8vY2hlY2tsaXN0TmFtZS5wdXNoKHZhbFtcImNoZWNrbGlzdF9zdHJpbmdcIl0pXG4gICAgICBjaGVja2xpc3ROYW1lLnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuICBtcyA9IHtcbiAgICBuYW1lOiBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0gsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbmNvbnN0IGdldFJlYWR5SGFuZG92ZXJEYXRhID0gYXN5bmMgKFxuICBtaWxlc3RvbmVDaGVja2xpc3QsXG4gIGxhYmxlTmFtZSxcbiAgc3RhdHVzRGF0YVxuKSA9PiB7XG4gIGxldCBtcyA9IHt9O1xuICBjb25zdCBjaGVja2xpc3ROYW1lID0gW107XG4gIG1pbGVzdG9uZUNoZWNrbGlzdC5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICBpZiAoXG4gICAgICB2YWwubGVuZ3RoICE9PSAwICYmXG4gICAgICBsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLlJFQURZX0ZPUl9IQU5ET1ZFUlxuICAgICkge1xuICAgICAgLy9jaGVja2xpc3ROYW1lLnB1c2godmFsW1wiY2hlY2tsaXN0X3N0cmluZ1wiXSlcbiAgICAgIGNoZWNrbGlzdE5hbWUucHVzaCh2YWwpO1xuICAgIH1cbiAgfSk7XG4gIG1zID0ge1xuICAgIG5hbWU6IFByb2plY3RNaWxlU3RvbmVFbnVtLlJFQURZX0ZPUl9IQU5ET1ZFUixcbiAgICBjaGVja2xpc3RfbmFtZTogY2hlY2tsaXN0TmFtZSxcbiAgICB0YXNrU3RhdHVzOiBzdGF0dXNEYXRhLFxuICB9O1xuICByZXR1cm4gbXM7XG59O1xuY29uc3QgZ2V0SGFuZG92ZXJEYXRhID0gYXN5bmMgKG1pbGVzdG9uZUNoZWNrbGlzdCwgbGFibGVOYW1lLCBzdGF0dXNEYXRhKSA9PiB7XG4gIGxldCBtcyA9IHt9O1xuICBjb25zdCBjaGVja2xpc3ROYW1lID0gW107XG4gIG1pbGVzdG9uZUNoZWNrbGlzdC5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICBpZiAodmFsLmxlbmd0aCAhPT0gMCAmJiBsYWJsZU5hbWUgPT09IFByb2plY3RNaWxlU3RvbmVFbnVtLkhBTkRPVkVSKSB7XG4gICAgICAvL2NoZWNrbGlzdE5hbWUucHVzaCh2YWxbXCJjaGVja2xpc3Rfc3RyaW5nXCJdKVxuICAgICAgY2hlY2tsaXN0TmFtZS5wdXNoKHZhbCk7XG4gICAgfVxuICB9KTtcbiAgbXMgPSB7XG4gICAgbmFtZTogUHJvamVjdE1pbGVTdG9uZUVudW0uSEFORE9WRVIsXG4gICAgY2hlY2tsaXN0X25hbWU6IGNoZWNrbGlzdE5hbWUsXG4gICAgdGFza1N0YXR1czogc3RhdHVzRGF0YSxcbiAgfTtcbiAgcmV0dXJuIG1zO1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENvbHVtbk5hbWVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcblxuLypDcmVhdGUgU21hcnRTaGVldCBjbGllbnQgT2JqZWN0IGFuZCByZXR1cm4gdGhlIHNhbWUqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNtYXJ0U2hlZXRDbGllbnQoKXtcblxuICAgIGNvbnN0IHNtYXJ0U2RrID0gcmVxdWlyZShcInNtYXJ0c2hlZXRcIik7XG4gICAgcmV0dXJuIHNtYXJ0U2RrLmNyZWF0ZUNsaWVudCh7XG4gICAgYWNjZXNzVG9rZW46IHByb2Nlc3MuZW52LnNtYXJ0U2hlZXRBY2Nlc3NUb2tlbixcbiAgICBsb2dMZXZlbDogXCJpbmZvXCJcbiAgICB9KTtcbn1cblxuLyogSXQgd2lsbCB0YWtlIHR3byBwYXJhbWV0ZXIgU21hcnRTaGVldCBDbGllbnQgT2JqZWN0IGFuZCBTaGVldE5hbWUgYW5kXG4gICAgQ3JlYXRlIGEgU2hlZXQgdXNpbmcgZXhpc3RpbmcgdGVtcGxhdGUgaW4gc3BlY2lmaWMgd29ya3NwYWNlIGFuZFxuICAgIHJldHVybiB0aGUgU2hlZXRJRC4gKi9cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2hlZXQoc21hcnRDbGllbnQsIHNoZWV0TmFtZSl7XG5cbiAgICB2YXIgc2hlZXQgPSB7XG4gICAgICAgIFwiZnJvbUlkXCI6IHByb2Nlc3MuZW52LnNtYXJ0U2hlZXRUZW1wbGF0ZUlkLFxuICAgICAgICBcIm5hbWVcIjogc2hlZXROYW1lXG4gICAgICAgIH07XG4gICAgLy8gU2V0IG9wdGlvbnNcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgd29ya3NwYWNlSWQ6IHByb2Nlc3MuZW52LnNtYXJ0U2hlZXRXb3Jrc3BhY2VJZCxcbiAgICAgICAgYm9keTogc2hlZXQsXG4gICAgICAgIHF1ZXJ5UGFyYW1ldGVycyA6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6ICdhdHRhY2htZW50cyxkYXRhLGRpc2N1c3Npb25zJ1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBDcmVhdGUgc2hlZXQgZnJvbSB0ZW1wbGF0ZSBpbiB0aGUgc3BlY2lmaWVkIHdvcmtzcGFjZVxuICAgIGNvbnN0IHNoZWV0RGV0YWlscyA9IGF3YWl0IHNtYXJ0Q2xpZW50LnNoZWV0cy5jcmVhdGVTaGVldEZyb21FeGlzdGluZyhvcHRpb25zKTtcbiAgICByZXR1cm4gc2hlZXREZXRhaWxzLnJlc3VsdC5pZDtcbn1cblxuLyogSXQgd2lsbCB0YWtlIHRocmVlIHBhcmFtZXRlciBTbWFydFNoZWV0IENsaWVudCBPYmplY3QgYW5kIFNoZWV0SUQgYW5kIFVwZGF0ZVJvd0pzb24gT2JqZWN0XG4gICAgYW5kIHJldHVybiBVcGRhdGUgZGV0YWlscyovXG4gICAgZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNoZWV0KHNtYXJ0Q2xpZW50LCByb3dBcnJheSwgc2hlZXRJZCl7XG4gICAgdmFyIHVwZGF0ZVJvdyA9IHtcbiAgICAgICAgc2hlZXRJZDogc2hlZXRJZCxcbiAgICAgICAgYm9keTogcm93QXJyYXlcbiAgICB9O1xuICAgIC8vIFVwZGF0ZSByb3dzIGluIHNoZWV0XG4gICAgcmV0dXJuIHNtYXJ0Q2xpZW50LnNoZWV0cy51cGRhdGVSb3codXBkYXRlUm93KTtcbn1cblxuLyogSXQgd2lsbCB0YWtlIHRocmVlIHBhcmFtZXRlciByb3cgSUQsIGNvbHVtbiBJRCBhbmQgQ2VsbCB2YWx1ZSBhbmRcbnJldHVybiBjZWxsIERldGFpbHMgLCB3aGljaCBpcyB1c2VkIGZvciB1cGRhdGUgY2VsbCB2YWx1ZS4qL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENlbGxEYXRhKHJvd0lkLCBjb2x1bW5JZCwgdmFsdWUpe1xuXG4gICAgY29uc3QgY2VsbHMgPSBbe1wiY29sdW1uSWRcIjogY29sdW1uSWQsXCJ2YWx1ZVwiOiB2YWx1ZX1dO1xuICAgIHJldHVybiB7XCJpZFwiIDogcm93SWQsIGNlbGxzIDpjZWxsc307XG59XG5cbi8qIEl0IHdpbGwgdGFrZSBzbWFydHNoZWV0IElEIGFzICBwYXJhbWV0ZXIgZmV0Y2ggcHJvamVjdCBmcm9tIERCIGFuZFxucmV0dXJuIHByb2plY3QgZGV0YWlscyovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvamVjdEJ5U2hlZXRJZChzbWFydFNoZWV0SWQpe1xuXG4gICAgcmV0dXJuIHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzbWFydHNoZWV0aWQgOiBzbWFydFNoZWV0SWR9LFxuICAgICAgfSk7XG59XG5cbi8qIEl0IHdpbGwgdGFrZSBzbWFydHNoZWV0IGFzICBwYXJhbWV0ZXIgYW5kIHJldHVybiB0aGUgaGFuZG92ZXIgZGF0ZS4qL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEhhbmRvdmVyRGF0ZShzbWFydFNoZWV0RGF0YSl7XG5cbiAgICBsZXQgaGFuZG92ZXJEYXRlID0gbnVsbDtcbiAgICBjb25zdCBoYW5kb3ZlckNvbHVtbklkcyA9IGF3YWl0IGdldEhhbmRvdmVyQ29sdW1uSWQoc21hcnRTaGVldERhdGEpO1xuICAgIGhhbmRvdmVyRGF0ZSA9IGF3YWl0IGdldFJldmlzZWRIYW5kb3ZlckRhdGUoc21hcnRTaGVldERhdGEsIGhhbmRvdmVyQ29sdW1uSWRzLmFjdHVhbFN0YXJ0RGF0ZUNvbHVtbklkLGhhbmRvdmVyRGF0ZSk7XG4gICAgaGFuZG92ZXJEYXRlID0gYXdhaXQgZ2V0QWN0dWFsSGFuZG92ZXJEYXRlKHNtYXJ0U2hlZXREYXRhLCBoYW5kb3ZlckNvbHVtbklkcy5hY3R1YWxTdGFydERhdGVDb2x1bW5JZCxoYW5kb3ZlckRhdGUpO1xuICAgIGhhbmRvdmVyRGF0ZSA9IGF3YWl0IGdldEZvcmVjYXN0ZWRIYW5kb3ZlckRhdGUoc21hcnRTaGVldERhdGEsIGhhbmRvdmVyQ29sdW1uSWRzLmZvcmVjYXN0ZWRGbmlzaERhdGVDb2x1bW5JZCxoYW5kb3ZlckNvbHVtbklkcy5vcmlnaW5hbEVuZERhdGVDb2x1bW5JZCwgaGFuZG92ZXJEYXRlKTtcbiAgICBoYW5kb3ZlckRhdGUgPSBhd2FpdCBnZXRSZWFkeUhhbmRvdmVyRGF0ZShzbWFydFNoZWV0RGF0YSwgaGFuZG92ZXJDb2x1bW5JZHMuZm9yZWNhc3RlZEZuaXNoRGF0ZUNvbHVtbklkLCBoYW5kb3ZlckRhdGUpO1xuICAgIHJldHVybiBoYW5kb3ZlckRhdGU7XG59XG5cbi8qIEl0IHdpbGwgQ3JlYXRlICYgZW5hYmxlIFdlYi1ob29rIGluIGEgc2hlZXQqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlYkhvb2sodGFyZ2V0U2hlZXRJZCwgaG9va05hbWUpe1xuXG4gICAgbGV0IHdlYmhvb2sgPSBudWxsO1xuICAgIGNvbnN0IHNtYXJ0Q2xpZW50ID0gYXdhaXQgZ2V0U21hcnRTaGVldENsaWVudCgpO1xuICAgIC8vIEdldCBhbGwgaG9va3MuXG4gICAgY29uc3QgbGlzdEhvb2tzUmVzcG9uc2UgPSBhd2FpdCBzbWFydENsaWVudC53ZWJob29rcy5saXN0V2ViaG9va3Moe1xuICAgICAgICBpbmNsdWRlQWxsOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIGhvb2tzIG9uIHRoaXMgc2hlZXQgZm9yIHRoaXMgYXBwXG4gICAgZm9yIChjb25zdCBob29rIG9mIGxpc3RIb29rc1Jlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgaWYgKGhvb2suc2NvcGVPYmplY3RJZCA9PT0gdGFyZ2V0U2hlZXRJZCAmJiBob29rLm5hbWUgPT09IGhvb2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgd2ViaG9vayA9IGhvb2s7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBpZiAoIXdlYmhvb2spIHtcbiAgICAgICAgY29uc3Qgc2hlZXREYXRhID0gYXdhaXQgc21hcnRDbGllbnQuc2hlZXRzLmdldFNoZWV0KHtpZCA6IHRhcmdldFNoZWV0SWR9KTtcbiAgICAgICAgY29uc3Qgc3ViQ29sdW1uSWRzID0gYXdhaXQgZ2V0V2ViaG9va0NvbHVtbklkKHNoZWV0RGF0YSk7XG4gICAgICAgIGNvbnN0IHN1YlNjb3BlT3B0aW9uID0ge1xuICAgICAgICAgICAgY29sdW1uSWRzOiBzdWJDb2x1bW5JZHNcbiAgICAgICAgfTtcbiAgICAgICAgLy9DcmVhdGUgTmV3IFdlYmhvb2suXG4gICAgICAgIGNvbnN0IGNyZWF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogaG9va05hbWUsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tVcmwgOiBwcm9jZXNzLmVudi5zbWFydFNoZWV0Q2FsbEJhY2tVcmwsXG4gICAgICAgICAgICAgICAgc2NvcGU6IFwic2hlZXRcIixcbiAgICAgICAgICAgICAgICBzY29wZU9iamVjdElkOiB0YXJnZXRTaGVldElkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogW1wiKi4qXCJdLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICAgICAgc3Vic2NvcGU6IHN1YlNjb3BlT3B0aW9uXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNyZWF0ZVJlc3BvbnNlID0gYXdhaXQgc21hcnRDbGllbnQud2ViaG9va3MuY3JlYXRlV2ViaG9vayhjcmVhdGVPcHRpb25zKTtcbiAgICAgICAgd2ViaG9vayA9IGNyZWF0ZVJlc3BvbnNlLnJlc3VsdDtcbiAgICAgICAgY29uc29sZS5sb2coYENyZWF0ZWQgbmV3IGhvb2s6ICR7d2ViaG9vay5pZH1gKTtcbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHdlYmhvb2sgaXMgZW5hYmxlZCBhbmQgcG9pbnRpbmcgdG8gb3VyIGN1cnJlbnQgdXJsXG4gICAgY29uc3QgdXBkYXRlT3B0aW9ucyA9IHtcbiAgICAgICAgd2ViaG9va0lkOiB3ZWJob29rLmlkLFxuICAgICAgICBjYWxsYmFja1VybDogcHJvY2Vzcy5lbnYuc21hcnRTaGVldENhbGxCYWNrVXJsLFxuICAgICAgICBib2R5OiB7IGVuYWJsZWQ6IHRydWUgfVxuICAgIH07XG4gICAgY29uc3QgdXBkYXRlUmVzcG9uc2UgPSBhd2FpdCBzbWFydENsaWVudC53ZWJob29rcy51cGRhdGVXZWJob29rKHVwZGF0ZU9wdGlvbnMpO1xuICAgIGNvbnN0IHVwZGF0ZWRXZWJob29rID0gdXBkYXRlUmVzcG9uc2UucmVzdWx0O1xuICAgIGNvbnNvbGUubG9nKGBIb29rIGVuYWJsZWQ6ICR7dXBkYXRlZFdlYmhvb2suZW5hYmxlZH0sIHN0YXR1czogJHt1cGRhdGVkV2ViaG9vay5zdGF0dXN9YCk7XG59XG4vKiBJdCB3aWxsIHRha2UgVHdvIERhdGVzIGFuZCBSZXR1cm4gZGVsYXkgZGF5cyovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGVsYXlEYXlzKGVuZERhdGUsIHN0YXJ0RGF0ZSl7XG4gICAgY29uc3Qgb25lRGF5ID0gMTAwMCAqIDYwICogNjAgKiAyNDtcbiAgICBjb25zdCBkaWZmSW5UaW1lID0gZW5kRGF0ZS5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGRpZmZJblRpbWUgLyBvbmVEYXkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SGFuZG92ZXJEYXRhKHJvdywgRGF0ZUNvbHVtbklkKXtcbiAgICBsZXQgY2VsbFZhbHVlO1xuICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGlmKGNlbGwuY29sdW1uSWQgPT09IERhdGVDb2x1bW5JZCAmJiBjZWxsLnZhbHVlKXtcbiAgICAgICAgICAgIGNlbGxWYWx1ZSA9IGNlbGwudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2VsbFZhbHVlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Rm9yZUNhc3REYXRlKHJvdyxmb3JlY2FzdGVkRm5pc2hEYXRlQ29sdW1uSWQsb3JpZ2luYWxFbmREYXRlQ29sdW1uSWQpe1xuICAgIGxldCBjZWxsVmFsdWU7XG4gICAgcm93LmNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgaWYoY2VsbC5jb2x1bW5JZCA9PT0gZm9yZWNhc3RlZEZuaXNoRGF0ZUNvbHVtbklkICYmIGNlbGwudmFsdWUpe1xuICAgICAgICAgICAgY2VsbFZhbHVlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZihjZWxsLmNvbHVtbklkID09PSBvcmlnaW5hbEVuZERhdGVDb2x1bW5JZCAmJiAhY2VsbFZhbHVlICYmIGNlbGwudmFsdWUpe1xuICAgICAgICAgICAgY2VsbFZhbHVlID0gY2VsbC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjZWxsVmFsdWU7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SGFuZG92ZXJDb2x1bW5JZChzbWFydFNoZWV0RGF0YSl7XG4gICAgbGV0IG9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkLCBhY3R1YWxTdGFydERhdGVDb2x1bW5JZCwgZm9yZWNhc3RlZEZuaXNoRGF0ZUNvbHVtbklkO1xuICAgIHNtYXJ0U2hlZXREYXRhLmNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG5cbiAgICAgICAgY29uc3QgY29sdW1uVGl0bGUgPSBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICBpZiAoY29sdW1uVGl0bGUgJiYgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5PUklHSU5BTF9QTEFOTkVEX0ZJTklTSF9EQVRFKSB7XG4gICAgICAgICAgb3JpZ2luYWxFbmREYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQUNUVUFMX1NUQVJUKSB7XG4gICAgICAgICAgYWN0dWFsU3RhcnREYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uQ1VSUkVOVF9GT1JFQ0FTVF9GSU5JU0gpIHtcbiAgICAgICAgICBmb3JlY2FzdGVkRm5pc2hEYXRlQ29sdW1uSWQgPSBjb2x1bW4uaWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1wib3JpZ2luYWxFbmREYXRlQ29sdW1uSWRcIiA6IG9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkLFwiYWN0dWFsU3RhcnREYXRlQ29sdW1uSWRcIiA6IGFjdHVhbFN0YXJ0RGF0ZUNvbHVtbklkLCBcImZvcmVjYXN0ZWRGbmlzaERhdGVDb2x1bW5JZFwiIDogZm9yZWNhc3RlZEZuaXNoRGF0ZUNvbHVtbklkfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXZpc2VkSGFuZG92ZXJEYXRlKHNtYXJ0U2hlZXREYXRhLCBhY3R1YWxTdGFydERhdGVDb2x1bW5JZCwgaGFuZG92ZXJEYXRlKXtcbiAgICB2YXIgcm93LGNlbGw7XG4gICAgZm9yIChyb3cgb2Ygc21hcnRTaGVldERhdGEucm93cyl7XG4gICAgICAgIGZvciAoY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgICAgICAgIGlmIChjZWxsLmRpc3BsYXlWYWx1ZSAmJiAoY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlJFVklTRURfSEFORE9WRVJfREFURSkgJiYgIWhhbmRvdmVyRGF0ZSkge1xuICAgICAgICAgICAgICAgIGhhbmRvdmVyRGF0ZSA9IGF3YWl0IGdldEhhbmRvdmVyRGF0YShyb3csIGFjdHVhbFN0YXJ0RGF0ZUNvbHVtbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFuZG92ZXJEYXRlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFjdHVhbEhhbmRvdmVyRGF0ZShzbWFydFNoZWV0RGF0YSwgYWN0dWFsU3RhcnREYXRlQ29sdW1uSWQsaGFuZG92ZXJEYXRlKXtcbiAgICB2YXIgcm93LGNlbGw7XG4gICAgZm9yIChyb3cgb2Ygc21hcnRTaGVldERhdGEucm93cyl7XG4gICAgICAgIGZvciAoY2VsbCBvZiByb3cuY2VsbHMpIHtcbiAgICAgICAgICAgIGlmIChjZWxsLmRpc3BsYXlWYWx1ZSAmJiAoY2VsbC5kaXNwbGF5VmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkhBTkRPVkVSX0RBVEUpICYmICFoYW5kb3ZlckRhdGUpIHtcbiAgICAgICAgICAgICAgICBoYW5kb3ZlckRhdGUgPSBhd2FpdCBnZXRIYW5kb3ZlckRhdGEocm93LCBhY3R1YWxTdGFydERhdGVDb2x1bW5JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvdmVyRGF0ZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGb3JlY2FzdGVkSGFuZG92ZXJEYXRlKHNtYXJ0U2hlZXREYXRhLCBmb3JlY2FzdGVkRm5pc2hEYXRlQ29sdW1uSWQsIG9yaWdpbmFsRW5kRGF0ZUNvbHVtbklkLCBoYW5kb3ZlckRhdGUpe1xuICAgIHZhciByb3csY2VsbDtcbiAgICBmb3IgKHJvdyBvZiBzbWFydFNoZWV0RGF0YS5yb3dzKXtcbiAgICAgICAgZm9yIChjZWxsIG9mIHJvdy5jZWxscykge1xuICAgICAgICAgICAgaWYgKGNlbGwuZGlzcGxheVZhbHVlICYmIChjZWxsLmRpc3BsYXlWYWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uSEFORE9WRVIpICYmICFoYW5kb3ZlckRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kb3ZlckZvcmVjYXN0ID0gYXdhaXQgZ2V0Rm9yZUNhc3REYXRlKHJvdywgZm9yZWNhc3RlZEZuaXNoRGF0ZUNvbHVtbklkLCBvcmlnaW5hbEVuZERhdGVDb2x1bW5JZCk7XG4gICAgICAgICAgICAgICAgaGFuZG92ZXJEYXRlID0gaGFuZG92ZXJGb3JlY2FzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFuZG92ZXJEYXRlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlYWR5SGFuZG92ZXJEYXRlKHNtYXJ0U2hlZXREYXRhLCBmb3JlY2FzdGVkRm5pc2hEYXRlQ29sdW1uSWQsIGhhbmRvdmVyRGF0ZSl7XG4gICAgdmFyIHJvdyxjZWxsO1xuICAgIGZvciAocm93IG9mIHNtYXJ0U2hlZXREYXRhLnJvd3Mpe1xuICAgICAgICBmb3IgKGNlbGwgb2Ygcm93LmNlbGxzKSB7XG4gICAgICAgICAgICBpZiAoY2VsbC5kaXNwbGF5VmFsdWUgJiYgKGNlbGwuZGlzcGxheVZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5SRUFEWV9GT1JfSEFORE9WRVIpICYmICFoYW5kb3ZlckRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkeUhhbmRvdmVyID0gYXdhaXQgZ2V0SGFuZG92ZXJEYXRhKHJvdyxmb3JlY2FzdGVkRm5pc2hEYXRlQ29sdW1uSWQpO1xuICAgICAgICAgICAgICAgIGhhbmRvdmVyRGF0ZSA9IHJlYWR5SGFuZG92ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvdmVyRGF0ZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUYXNrTmFtZUNvbHVtbklkKHNoZWV0RGF0YSl7XG4gICAgbGV0IHRhc2tOYW1lQ29sdW1uSWQ7XG4gICAgc2hlZXREYXRhLmNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtblRpdGxlID0gY29sdW1uLnRpdGxlID8gY29sdW1uLnRpdGxlLnRvTG93ZXJDYXNlKCkudHJpbSgpIDogbnVsbDtcbiAgICAgICAgaWYgKGNvbHVtblRpdGxlICYmIGNvbHVtblRpdGxlID09PSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0uVEFTS19OQU1FICkge1xuICAgICAgICAgICAgdGFza05hbWVDb2x1bW5JZCA9IGNvbHVtbi5pZDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0YXNrTmFtZUNvbHVtbklkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFdlYmhvb2tDb2x1bW5JZChzaGVldERhdGEpe1xuICAgIGxldCBzdW1tYXJ5RGV0YWlscywgYWN0dWFsRmluaXNoRGF0ZTtcbiAgICBjb25zdCBjb2x1bW5JZHMgPSBbXTtcbiAgICBzaGVldERhdGEuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+IHtcbiAgICAgICAgY29uc3QgY29sdW1uVGl0bGUgPSBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUudG9Mb3dlckNhc2UoKS50cmltKCkgOiBudWxsO1xuICAgICAgICBpZiAoY29sdW1uVGl0bGUgJiYgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5TVU1NQVJZX0RFVEFJTFMgKSB7XG4gICAgICAgICAgICBzdW1tYXJ5RGV0YWlscyA9IGNvbHVtbi5pZDtcbiAgICAgICAgICAgIGNvbHVtbklkcy5wdXNoKHN1bW1hcnlEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uVGl0bGUgJiYgY29sdW1uVGl0bGUgPT09IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bS5BQ1RVQUxfRklOSVNIKSB7XG4gICAgICAgICAgICBhY3R1YWxGaW5pc2hEYXRlID0gY29sdW1uLmlkO1xuICAgICAgICAgICAgY29sdW1uSWRzLnB1c2goYWN0dWFsRmluaXNoRGF0ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY29sdW1uSWRzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFN1bW1hcnlEZXRhaWxzQ29sdW1uSWQoc2hlZXREYXRhKXtcbiAgICBsZXQgc3VtbWFyeURldGFpbHMgO1xuICAgIHNoZWV0RGF0YS5jb2x1bW5zLmZvckVhY2goKGNvbHVtbikgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW5UaXRsZSA9IGNvbHVtbi50aXRsZSA/IGNvbHVtbi50aXRsZS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIGlmIChjb2x1bW5UaXRsZSAmJiBjb2x1bW5UaXRsZSA9PT0gU21hcnRTaGVldENvbHVtbk5hbWVFbnVtLlNVTU1BUllfREVUQUlMUyApIHtcbiAgICAgICAgICAgIHN1bW1hcnlEZXRhaWxzID0gY29sdW1uLmlkO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN1bW1hcnlEZXRhaWxzO1xufVxuIiwiaW1wb3J0IHsgR3JhcGhRTEpTT04sIERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBjcmVhdGVTbWFydFNoZWV0IH0gZnJvbSBcIi4vTXV0YXRpb25zL0NyZWF0ZVNtYXJ0c2hlZXRcIjtcbmltcG9ydCB7IHVwZGF0ZURlc2lnbmVyRW1haWwgfSBmcm9tIFwiLi9NdXRhdGlvbnMvVXBkYXRlRGVzaWduZXJcIjtcbmltcG9ydCB7IHVwZGF0ZVN1cnZleSB9IGZyb20gXCIuL011dGF0aW9ucy9VcGRhdGVTdXJ2ZXlcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RWYWx1ZSB9IGZyb20gXCIuL011dGF0aW9ucy9VcGRhdGVQcm9qZWN0VmFsdWVcIjtcbmltcG9ydCB7IHVwZGF0ZVByb2plY3RBZGRyZXNzIH0gZnJvbSBcIi4vTXV0YXRpb25zL1VwZGF0ZVByb2plY3RBZGRyZXNzXCI7XG5pbXBvcnQgeyB1cGRhdGVNaWxlc3RvbmUgfSBmcm9tIFwiLi9NdXRhdGlvbnMvVXBkYXRlTWlsZXN0b25lXCI7XG5pbXBvcnQgeyBnZXRNaWxlU3RvbmVEZXRhaWxzIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRNaWxlU3RvbmVzRGV0YWlsc1wiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdFN0YXR1cyB9IGZyb20gXCIuL011dGF0aW9ucy9VcGRhdGVQcm9qZWN0U3RhdHVzXCI7XG5pbXBvcnQgeyB3ZWJIb29rQ2FsbEJhY2sgfSBmcm9tIFwiLi9NdXRhdGlvbnMvV2ViaG9va0NhbGxCYWNrXCI7XG5pbXBvcnQgeyB1cGRhdGVQYXltZW50Q2hlY2tsaXN0fSBmcm9tIFwiLi9NdXRhdGlvbnMvVXBkYXRlUGF5bWVudENoZWNrbGlzdFwiO1xuXG5leHBvcnQgY29uc3Qgc21hcnRTaGVldFJlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGdldE1pbGVTdG9uZURldGFpbHM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0TWlsZVN0b25lRGV0YWlscyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBjcmVhdGVTbWFydFNoZWV0OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGNyZWF0ZVNtYXJ0U2hlZXQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlUHJvamVjdFZhbHVlOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwZGF0ZVByb2plY3RWYWx1ZShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVQcm9qZWN0QWRkcmVzczogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICB1cGRhdGVQcm9qZWN0QWRkcmVzcyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVNaWxlc3RvbmU6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlTWlsZXN0b25lKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZURlc2lnbmVyRW1haWw6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlRGVzaWduZXJFbWFpbChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVTdXJ2ZXk6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlU3VydmV5KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZVByb2plY3RTdGF0dXM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlUHJvamVjdFN0YXR1cyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB3ZWJIb29rQ2FsbEJhY2s6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgd2ViSG9va0NhbGxCYWNrKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZVBheW1lbnRDaGVja2xpc3Q6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlUGF5bWVudENoZWNrbGlzdChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG4gIEpTT046IEdyYXBoUUxKU09OLFxufTtcbiIsImV4cG9ydCBjb25zdCBzbWFydFNoZWV0VHlwZWRlZiA9IGBcblxudHlwZSBDcmVhdGVTaGVldFJlc3BvbnNlIHsgXG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBzaGVldElkIDogU3RyaW5nXG59XG50eXBlIE11dGF0aW9ue1xuICAgIGNyZWF0ZVNtYXJ0U2hlZXQoXG4gICAgICAgIHByb2plY3RJZCA6IEludCEsXG4gICAgICAgIGNsaWVudE5hbWUgOiBTdHJpbmchLFxuICAgICAgICBjbGllbnRJZCA6IFN0cmluZyEsXG4gICAgICAgIHByb2plY3RTaWdudXBWYWx1ZSA6IEZsb2F0ISxcbiAgICAgICAgZGVzaWduZXJOYW1lIDogU3RyaW5nISxcbiAgICAgICAgZGVzaWduU3R1ZGlvIDogU3RyaW5nISxcbiAgICAgICAgc2FsZXNPd25lciA6IFN0cmluZyEsXG4gICAgICAgIGNsaWVudEVtYWlsIDogU3RyaW5nLFxuICAgICAgICBjbGllbnRDb250YWN0IDogU3RyaW5nISxcbiAgICAgICAgcHJvcGVydHlOYW1lIDogU3RyaW5nISxcbiAgICAgICAgcHJvcGVydHlBZGRyZXNzIDogU3RyaW5nISxcbiAgICAgICAgc3RhdHVzIDogU3RyaW5nIVxuICAgICk6IENyZWF0ZVNoZWV0UmVzcG9uc2VcblxuICAgIHVwZGF0ZURlc2lnbmVyRW1haWwoXG4gICAgICAgIHNtYXJ0U2hlZXRJZCA6IFN0cmluZyEsXG4gICAgICAgIGRlc2lnbmVyRW1haWwgOiBTdHJpbmchXG4gICAgKTogU2hlZXRSZXNwb25zZVxuXG4gICAgdXBkYXRlU3VydmV5KFxuICAgICAgICBzbWFydFNoZWV0SWQgOiBTdHJpbmchLFxuICAgICAgICBzdXJ2ZXlFeGVjdXRpdmVFbWFpbCA6IFN0cmluZyFcbiAgICApOiBTaGVldFJlc3BvbnNlXG5cbiAgICB1cGRhdGVQcm9qZWN0VmFsdWUoXG4gICAgICAgIHNtYXJ0U2hlZXRJZCA6IFN0cmluZyEsXG4gICAgICAgIHByb2plY3RWYWx1ZSA6IEZsb2F0IVxuICAgICk6IFNoZWV0UmVzcG9uc2VcblxuICAgIHVwZGF0ZVByb2plY3RBZGRyZXNzKFxuICAgICAgICBzbWFydFNoZWV0SWQgOiBTdHJpbmchLFxuICAgICAgICBwcm9qZWN0QWRkcmVzcyA6IFN0cmluZyFcbiAgICApOiBTaGVldFJlc3BvbnNlXG4gICAgXG4gICAgdXBkYXRlTWlsZXN0b25lKFxuICAgICAgICBzbWFydFNoZWV0SWQgOiBTdHJpbmchLFxuICAgICAgICBtaWxlU3RvbmVOYW1lIDogU3RyaW5nISxcbiAgICAgICAgYWN0dWFsRmluaXNoRGF0ZSA6IFN0cmluZyFcbiAgICApOiBTaGVldFJlc3BvbnNlXG5cbiAgICB1cGRhdGVQcm9qZWN0U3RhdHVzKFxuICAgICAgICBzbWFydFNoZWV0SWQgOiBTdHJpbmchLFxuICAgICAgICBwcm9qZWN0U3RhdHVzIDogU3RyaW5nISxcbiAgICAgICAgc2lnbnVwRGF0ZSA6IFN0cmluZyFcbiAgICApOiBTaGVldFJlc3BvbnNlXG5cbiAgICB3ZWJIb29rQ2FsbEJhY2soXG4gICAgICAgIGJvZHkgOiBKU09OXG4gICAgKTogU2hlZXRSZXNwb25zZVxuXG4gICAgdXBkYXRlUGF5bWVudENoZWNrbGlzdChcbiAgICAgICAgc21hcnRTaGVldElkIDogU3RyaW5nISxcbiAgICAgICAgbWlsZVN0b25lTmFtZSA6IFN0cmluZyEsXG4gICAgICAgIGFjdHVhbEZpbmlzaERhdGUgOiBTdHJpbmchXG4gICAgICAgIGFjdHVhbFN0YXJ0RGF0ZSA6IFN0cmluZyFcbiAgICApOiBTaGVldFJlc3BvbnNlXG59XG5cbnR5cGUgR2V0TWlsZVN0b25lUmVzcG9uc2UgeyBcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGEgOiBKU09OXG59XG50eXBlIFNoZWV0UmVzcG9uc2UgeyBcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xufVxuXG50eXBlIFF1ZXJ5IHtcbiAgICBnZXRNaWxlU3RvbmVEZXRhaWxzKHNoZWV0SWQ6U3RyaW5nKTogR2V0TWlsZVN0b25lUmVzcG9uc2Vcbn1cbiAgICBzY2FsYXIgRGF0ZVRpbWVcbiAgICBzY2FsYXIgSlNPTlxuYDtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBnZXRQcm9qZWN0cyB9IGZyb20gXCIuL1F1ZXJpZXMvR2V0QWxsUHJvamVjdFwiO1xuaW1wb3J0IHsgZ2V0UHJvamVjdEJ5SWQgfSBmcm9tIFwiLi9RdWVyaWVzL0dldFByb2plY3RCeUlkXCI7XG5pbXBvcnQgeyBhZGRQcm9qZWN0IH0gZnJvbSBcIi4vTXV0YXRpb25zL0FkZFByb2plY3RcIjtcbmltcG9ydCB7IGFkZE1pbGVzdG9uZUZpbGVzIH0gZnJvbSBcIi4vTXV0YXRpb25zL0FkZE1pbGVzdG9uZUZpbGVzXCI7XG5pbXBvcnQgeyBnZXRQcm9qZWN0Q29zdEJyZWFrdXAgfSBmcm9tIFwiLi9RdWVyaWVzL0dldFByb2plY3RDb3N0QnJlYWt1cFwiO1xuaW1wb3J0IHsgZ2V0UHJvamVjdHNCeUZpbHRlciB9IGZyb20gXCIuL1F1ZXJpZXMvR2V0UHJvamVjdHNCeUZpbHRlclwiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdEFwaSB9IGZyb20gXCIuL011dGF0aW9ucy9VcGRhdGVQcm9qZWN0XCI7XG5pbXBvcnQgeyBjb21wbGV0ZUNoZWNrbGlzdEFwaSB9IGZyb20gXCIuL011dGF0aW9ucy9Db21wbGV0ZUNoZWNrbGlzdEFwaVwiO1xuaW1wb3J0IHsgdXBkYXRlUGF5bWVudE1pbGVzdG9uZXMgfSBmcm9tIFwiLi9NdXRhdGlvbnMvVXBkYXRlUGF5bWVudE1pbGVzdG9uZXNcIjtcbmltcG9ydCB7IGdldFN1YlRhc2tGb3JQcm9qZWN0IH0gZnJvbSBcIi4vUXVlcmllcy9HZXRTdWJUYXNrRm9yUHJvamVjdFwiO1xuaW1wb3J0IHsgZ2V0RmlsZXNGb3JQcm9qZWN0cyB9IGZyb20gXCIuL1F1ZXJpZXMvR2V0RmlsZXNGb3JQcm9qZWN0XCI7XG5pbXBvcnQgeyBnZXRGaWxlVXJsIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRGaWxlVXJsXCI7XG5pbXBvcnQgeyBtZWV0aW5nU2NoZWR1bGVyTWlsZXN0b25lIH0gZnJvbSBcIi4vTXV0YXRpb25zL21lZXRpbmdTY2hlZHVsZXJNaWxlc3RvbmVcIjtcbmltcG9ydCB7IHVwZGF0ZUZvcm1GaWxsTWlsZXN0b25lcyB9IGZyb20gXCIuL011dGF0aW9ucy9VcGRhdGVGb3JtRmlsbE1pbGVzdG9uZXNcIjtcbmltcG9ydCB7IHNoYXJlRmlsZVdpdGhDdXN0b21lciB9IGZyb20gXCIuL011dGF0aW9ucy9TaGFyZUZpbGVXaXRoQ3VzdG9tZXJcIjtcbmltcG9ydCB7IGNvbXBsZXRlTWlsZXN0b25lQ2hlY2tsaXN0IH0gZnJvbSBcIi4vTXV0YXRpb25zL0NvbXBsZXRlTWlsZXN0b25lQ2hlY2tsaXN0XCI7XG5pbXBvcnQgeyBnZXRPbGRQcm9qZWN0IH0gZnJvbSBcIi4vUXVlcmllcy9HZXRPbGRQcm9qZWN0XCI7XG5cbmV4cG9ydCBjb25zdCBwcm9qZWN0c1Jlc29sdmVyID0ge1xuICBRdWVyeToge1xuICAgIGFsbFByb2plY3RzOiBhc3luYyAoKSA9PiBnZXRQcm9qZWN0cygpLFxuICAgIGdldFByb2plY3RCeUlkOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldFByb2plY3RCeUlkKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldFByb2plY3RDb3N0QnJlYWt1cDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRQcm9qZWN0Q29zdEJyZWFrdXAocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZ2V0UHJvamVjdHNCeUZpbHRlcjogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRQcm9qZWN0c0J5RmlsdGVyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldFN1YlRhc2tGb3JQcm9qZWN0OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldFN1YlRhc2tGb3JQcm9qZWN0KHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldEZpbGVzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldEZpbGVzRm9yUHJvamVjdHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZ2V0RmlsZVVybDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRGaWxlVXJsKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldE9sZFByb2plY3Q6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0T2xkUHJvamVjdChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhZGRQcm9qZWN0OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFkZFByb2plY3QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlUHJvamVjdEFwaTogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICB1cGRhdGVQcm9qZWN0QXBpKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGFkZE1pbGVzdG9uZUZpbGVzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGFkZE1pbGVzdG9uZUZpbGVzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHVwZGF0ZVBheW1lbnRNaWxlc3RvbmVzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwZGF0ZVBheW1lbnRNaWxlc3RvbmVzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGNvbXBsZXRlQ2hlY2tsaXN0QXBpOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGNvbXBsZXRlQ2hlY2tsaXN0QXBpKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIG1lZXRpbmdTY2hlZHVsZXJNaWxlc3RvbmU6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgbWVldGluZ1NjaGVkdWxlck1pbGVzdG9uZShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVGb3JtRmlsbE1pbGVzdG9uZXM6IGFzeW5jIChcbiAgICAgIHBhcmVudCxcbiAgICAgIF9hcmdzOiB7IGRhdGE6IGFueSB9LFxuICAgICAgY29udGV4dFxuICAgICkgPT4gdXBkYXRlRm9ybUZpbGxNaWxlc3RvbmVzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lcjogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBzaGFyZUZpbGVXaXRoQ3VzdG9tZXIocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgY29tcGxldGVNaWxlc3RvbmVDaGVja2xpc3Q6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgY29tcGxldGVNaWxlc3RvbmVDaGVja2xpc3QocGFyZW50LCBfYXJncywgY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IHByb2plY3RzVHlwZWRlZiA9IGBcblxudHlwZSBQcm9qZWN0cyB7XG4gICAgaWQgOiBJbnRcbiAgICBwcm9qZWN0aWQgOiBTdHJpbmdcbiAgICBwcm9qZWN0bmFtZSA6IFN0cmluZ1xuICAgIHByb2plY3RzdGF0dXMgOiBTdHJpbmdcbiAgICBwcm9qZWN0dmFsdWUgOiBGbG9hdFxuICAgIGNyZWF0ZWRhdGUgOiBEYXRlVGltZVxuICAgIHVwZGF0ZWRhdGUgOiBEYXRlVGltZVxuICAgIHNpZ251cGRhdGUgOiBEYXRlVGltZVxuICAgIGN1c3RvbWVyaWQgOiBJbnRcbiAgICBkZXNpZ25lcmlkIDogSW50XG4gICAgc2FsZXNtYW5hZ2VyaWQgOiBJbnRcbiAgICBjaG1pZCA6IEludFxuICAgIHN1cnZleWV4ZWN1dGl2ZWlkIDogSW50XG4gICAgcHJvamVjdG1hbmFnZXJpZCA6IEludFxuICAgIGRlc2lnbnN0dWRpb2lkIDogSW50XG4gICAgbW9kdWxhcmJhc2VhbW91bnQgOiBGbG9hdFxuICAgIG1vZHVsYXJ2YWx1ZSA6IEZsb2F0XG4gICAgbW9kdWxhcmRpc2NvdW50IDogRmxvYXRcbiAgICBzaXRlc2VydmljZWJhc2VhbW91bnQgOiBGbG9hdFxuICAgIHNpdGVzZXJ2aWNldmFsdWUgOiBGbG9hdFxuICAgIHNpdGVzZXJ2aWNlZGlzY291bnQgOiBGbG9hdFxuICAgIHNpZ251cGFtb3VudCA6IEZsb2F0XG4gICAgc2lnbnVwc3RhdGUgOiBTdHJpbmdcbiAgICBleHBlcmllbmNlY2VudGVyaWQgOiBJbnRcbiAgICBjaXR5aWQgOiBJbnRcbiAgICBjbGllbnRpZCA6IFN0cmluZ1xuICAgIHByb2plY3RhZGRyZXNzaWQgOiBJbnRcbiAgICBjbW1uYW1lIDogU3RyaW5nXG4gICAgZXhwZWN0ZWRoYW5kb3ZlcmRhdGUgOiBEYXRlVGltZVxuICAgIGN1cnJlbnRtaWxlc3RvbmUgOiBTdHJpbmdcbiAgICBwcm9qZWN0cGhhc2UgOiBTdHJpbmdcbiAgICBoYXNkZXNpZ25lcmFjY2VwdGVkIDogQm9vbGVhblxuICAgIGhhc2Rlc2lnZXJyZXNwb25kZWQgOiBCb29sZWFuXG4gICAgaG9tZXR5cGUgOiBTdHJpbmdcbiAgICBpbml0aWFsc2lnbnVwdmFsdWUgOiBGbG9hdFxuICAgIHF1b3RlaWQgOiBJbnRcbiAgICBwcm9qZWN0cmF0aW5nIDogSW50XG4gICAgaW5jbHVkZXBtZmVlIDogQm9vbGVhblxuICAgIG1pbGVzdG9uZXR5cGUgOiBTdHJpbmdcbiAgICBvZG9vaWQgOiBTdHJpbmdcbiAgICBvZG9vX2RlbGl2ZXJ5X2FkZHJlc3NfaWQgOiBTdHJpbmdcbiAgICBpc25ld3BheW1lbnRwcm9qZWN0IDogQm9vbGVhblxuICAgIG9wcG9ydHVuaXR5aWQgOiBTdHJpbmdcbiAgICB0ZW1wbGF0ZSA6IFN0cmluZ1xuICAgIG1pbGVzdG9uZXM6SlNPTlxuICAgIHByb2plY3RkZWNvcnZhbHVlOkZsb2F0XG4gICAgZGVjb3J2YWx1ZTogRmxvYXRcbiAgICBhZGRvbnZhbHVlIDogRmxvYXRcbiAgICB0b3RhbHByb2plY3R2YWx1ZSA6IEZsb2F0XG4gICAgYWNoaWV2ZWRyZXZlbnVldmFsdWUgOiBGbG9hdFxuICAgIHByb2plY3Rtb2R1bGFydmFsdWUgOkZsb2F0XG4gICAgcHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlIDpGbG9hdFxuICAgIHBlbmRpbmdhbW91bnR2YWx1ZSAgOiBGbG9hdFxuICAgIHNtYXJ0c2hlZXRpZCA6IFN0cmluZ1xuICAgIHBheW1lbnRyZXF1ZXN0cyA6IEpTT05cbiAgICBpc2N1c3RvbWVyc2lnbm9mZnJlcXVpcmVkIDpCb29sZWFuXG4gICAgbW9kdWxhcl9jb2xsZWN0ZWRfYW1vdW50IDpGbG9hdFxuICAgIHNpdGVfc2VydmljZXNfY29sbGVjdGVkX2Ftb3VudDogRmxvYXRcbiAgICBpc2ltb3Nwcm9qZWN0OkJvb2xlYW5cbiAgICB2YWx1ZWJlZm9yZWRpc2NvdW50OkZsb2F0XG4gICAgc2l0ZWFkZHJlc3M6U3RyaW5nXG4gICAgaGFzbGlmdDpCb29sZWFuXG4gICAgaGFzZmFsc2VjZWlsaW5nOkJvb2xlYW5cbiAgICBzY29wZWZvcmVsZWN0cmljYWx3b3JrOkJvb2xlYW5cbiAgICBwcm9qZWN0dHlwZTpTdHJpbmdcbiAgICB0ZW50YXRpdmVwcm9qZWN0ZHVyYXRpb25hZnRlcnNpZ25vZmY6U3RyaW5nXG4gICAgc2NvcGVvZndvcms6U3RyaW5nXG4gICAgc3BlY2lhbGZpbmlzaGVzOlN0cmluZ1xuICAgIHNpdGVzZXJ2aWNlYWJzb2x1dGVkaXNjb3VudDogSW50XG4gICAgbW9kdWxhcmFtb3VudGdzdDpGbG9hdFxuICAgIHNpdGVzZXJ2aWNlYW1vdW50Z3N0OkZsb2F0XG4gICAgbW9kdWxhcmFic29sdXRlZGlzY291bnQ6RmxvYXRcbiAgICBtb2R1bGFycG1mZWU6RmxvYXRcbiAgICBzaXRlc2VydmljZWdzdDpJbnRcbiAgICBzaXRlc2VydmljZXBkZmxpbms6U3RyaW5nXG4gICAgbW9kdWxhcmFtb3VudGdzdHZhbHVlOkZsb2F0XG4gICAgc2l0ZXBtZmVlOkZsb2F0XG4gICAgc2l0ZXNlcnZpY2VkaXNjb3VudHZhbHVlOkZsb2F0XG4gICAgcXVvdGVsaW5rOlN0cmluZ1xuICAgIHByb3Bvc2FscGRmbGluazpTdHJpbmdcbiAgICBwcm9qZWN0bWFuYWdlcm5hbWU6U3RyaW5nXG4gICAgZmxvb3JhcmVhOkludFxuICAgIGltb3Nyb29tczpbSW1vc1Jvb21dXG4gICAgcHJvamVjdEhhbmRPdmVyRGF0ZTpEYXRlVGltZVxuICAgIGN1c3RvbWVyIDogQ3VzdG9tZXJcbiAgICBkZXNpZ25lciA6IFVzZXJzXG4gICAgc2FsZXNtYW5hZ2VyIDogVXNlcnNcbiAgICBjaG0gOiBVc2Vyc1xuICAgIHN1cnZleWV4ZWN1dGl2ZSA6IFVzZXJzXG4gICAgcHJvamVjdG1hbmFnZXIgOiBVc2Vyc1xuICAgIGRlc2lnbnN0dWRpbyA6IFRlYW1zXG4gICAgZXhwZXJpZW5jZWNlbnRlciA6IEV4cGVyaWVuY2VDZW50ZXJzXG4gICAgY2l0eSA6IENpdGllc1xufVxuXG50eXBlIEltb3NSb29te1xuICAgIGltb3NPcmRlTm86U3RyaW5nXG4gICAgcm9vbVVybDpTdHJpbmdcbn1cblxuaW5wdXQgSW1vc1Jvb21ze1xuICAgIGltb3NPcmRlTm86U3RyaW5nXG4gICAgcm9vbVVybDpTdHJpbmdcbn1cblxuaW5wdXQgRm9ybUZpbGxJbnB1dHN7XG4gICAgcG1OYW1lOlN0cmluZyxcbiAgICB2YWx1ZUJlZm9yZURpc2NvdW50OkZsb2F0XG4gICAgcHJvamVjdEhhbmRPdmVyRGF0ZTpEYXRlVGltZVxuICAgIHNpdGVBZGRyZXNzOlN0cmluZ1xuICAgIGlzUHJvamVjdElNT1M6Qm9vbGVhblxuICAgIGhhc0xpZnQ6Qm9vbGVhblxuICAgIGhhc0ZhbHNlQ2VpbGluZzpCb29sZWFuXG4gICAgc2NvcGVGb3JFbGVjdHJpY2FsV29yazpCb29sZWFuXG4gICAgcHJvamVjdFR5cGU6U3RyaW5nXG4gICAgdGVudGF0aXZlUHJvamVjdER1cmF0aW9uQWZ0ZXJTaWduT2ZmOlN0cmluZ1xuICAgIHNjb3BlT2ZXb3JrOlN0cmluZ1xuICAgIHNwZWNpYWxGaW5pc2hlczpTdHJpbmdcbiAgICBkYXRlVGltZU9mVmlzaXQ6RGF0ZVRpbWUsXG4gICAgZmxvb3JBcmVhOkludCxcbiAgICBpbW9zUm9vbXM6W0ltb3NSb29tc11cbn1cblxudHlwZSBNaWxlc3RvbmV7XG4gICAgbGFiZWw6U3RyaW5nXG4gICAgcGF5bWVudF9wZXJjZW50YWdlOkludFxuICAgIG1pbGVzdG9uZV9jaGVja2xpc3Q6W01pbGVzdG9uZUNoZWNrbGlzdF1cbiAgICBhdXRvcmVxdWVzdDpCb29sZWFuXG4gICAgSW52b2ljZVBlcmNlbnRhZ2U6SW50XG59XG5cbnR5cGUgTWlsZXN0b25lQ2hlY2tsaXN0e1xuICAgIGNoZWNrbGlzdF9zdHJpbmc6U3RyaW5nXG4gICAgZGVzY3JpcHRpb246U3RyaW5nXG4gICAgcmVxdWlyZWQ6Qm9vbGVhblxuICAgIGlzX2NoZWNrZWQ6Qm9vbGVhblxuICAgIGRhdGVUaW1lOkRhdGVUaW1lXG59XG5cbnR5cGUgRmlsZXN7XG4gICAgY2hlY2tsaXN0X3N0cmluZzpTdHJpbmdcbiAgICBkZXNjcmlwdGlvbjpTdHJpbmdcbiAgICByZXF1aXJlZDpCb29sZWFuXG4gICAgZmlsZWtleTpTdHJpbmdcbiAgICBmaWxldXJsOlN0cmluZ1xuICAgIHVwbG9hZGVkYnk6U3RyaW5nXG4gICAgdXBsb2FkZWRvbjpEYXRlVGltZVxuICAgIHVwZGF0ZWRvbjpEYXRlVGltZVxuICAgIGFwcHJvdmFsc3RhdHVzOlN0cmluZ1xuICAgIGNyZWF0ZWRfYXQ6U3RyaW5nXG4gICAgdXBkYXRlZF9hdDpTdHJpbmdcbiAgICBzaGFyZV93aXRoX2N1c3RvbWVyOkJvb2xlYW5cbn1cblxudHlwZSBNdXRhdGlvbntcbiAgICBhZGRQcm9qZWN0KFxuICAgICAgICBwcm9qZWN0aWQgOiBTdHJpbmchLFxuICAgICAgICBwcm9qZWN0bmFtZSA6IFN0cmluZyEsXG4gICAgICAgIHByb2plY3RzdGF0dXMgOiBTdHJpbmchLFxuICAgICAgICBwcm9qZWN0dmFsdWUgOiBGbG9hdCEsXG4gICAgICAgIGNyZWF0ZWRhdGUgOiBEYXRlVGltZSxcbiAgICAgICAgdXBkYXRlZGF0ZSA6IERhdGVUaW1lLFxuICAgICAgICBzaWdudXBkYXRlIDogRGF0ZVRpbWUsXG4gICAgICAgIGN1c3RvbWVyaWQgOiBJbnQhLFxuICAgICAgICBkZXNpZ25lcmlkIDogSW50ISxcbiAgICAgICAgc2FsZXNtYW5hZ2VyaWQgOiBJbnQsXG4gICAgICAgIGNobWlkIDogSW50LFxuICAgICAgICBzdXJ2ZXlleGVjdXRpdmVpZCA6IEludCxcbiAgICAgICAgcHJvamVjdG1hbmFnZXJpZCA6IEludCxcbiAgICAgICAgZGVzaWduc3R1ZGlvaWQgOiBJbnQsXG4gICAgICAgIG1vZHVsYXJiYXNlYW1vdW50IDogRmxvYXQsXG4gICAgICAgIHByb2plY3Rtb2R1bGFydmFsdWUgOiBGbG9hdCxcbiAgICAgICAgbW9kdWxhcmRpc2NvdW50IDogRmxvYXQsXG4gICAgICAgIHNpdGVzZXJ2aWNlYmFzZWFtb3VudCA6IEZsb2F0LFxuICAgICAgICBzaXRlc2VydmljZXZhbHVlIDogRmxvYXQsXG4gICAgICAgIHNpdGVzZXJ2aWNlZGlzY291bnQgOiBGbG9hdCxcbiAgICAgICAgc2lnbnVwYW1vdW50IDogRmxvYXQhLFxuICAgICAgICBzaWdudXBzdGF0ZSA6IFN0cmluZyxcbiAgICAgICAgZXhwZXJpZW5jZWNlbnRlcmlkIDogSW50LFxuICAgICAgICBjaXR5aWQgOiBJbnQsXG4gICAgICAgIHByb2plY3RhZGRyZXNzaWQgOiBJbnQsXG4gICAgICAgIGNtbW5hbWUgOiBTdHJpbmcsXG4gICAgICAgIGV4cGVjdGVkaGFuZG92ZXJkYXRlIDogRGF0ZVRpbWUsXG4gICAgICAgIGN1cnJlbnRtaWxlc3RvbmUgOiBTdHJpbmcsXG4gICAgICAgIHByb2plY3RwaGFzZSA6IFN0cmluZyxcbiAgICAgICAgaGFzZGVzaWduZXJhY2NlcHRlZCA6IEJvb2xlYW4sXG4gICAgICAgIGhhc2Rlc2lnZXJyZXNwb25kZWQgOiBCb29sZWFuLFxuICAgICAgICBob21ldHlwZSA6IFN0cmluZyxcbiAgICAgICAgaW5pdGlhbHNpZ251cHZhbHVlIDogRmxvYXQsXG4gICAgICAgIGRlY29ydmFsdWUgOiBGbG9hdCxcbiAgICAgICAgcXVvdGVpZCA6IEludCxcbiAgICAgICAgcHJvamVjdHJhdGluZyA6IEludCxcbiAgICAgICAgaW5jbHVkZXBtZmVlIDogQm9vbGVhbixcbiAgICAgICAgbWlsZXN0b25ldHlwZSA6IFN0cmluZyxcbiAgICAgICAgb2Rvb2lkIDogU3RyaW5nLFxuICAgICAgICBvZG9vX2RlbGl2ZXJ5X2FkZHJlc3NfaWQgOiBTdHJpbmcsXG4gICAgICAgIGlzbmV3cGF5bWVudHByb2plY3QgOiBCb29sZWFuLFxuICAgICAgICBvcHBvcnR1bml0eWlkIDogU3RyaW5nISxcbiAgICAgICAgdGVtcGxhdGUgOiBTdHJpbmcsXG4gICAgICAgIGlzaW1vc3Byb2plY3Q6IEJvb2xlYW4sXG4gICAgKTogcHJvamVjdHNSZXNwb25zZVxuXG4gICAgdXBkYXRlUHJvamVjdEFwaShcbiAgICAgICAgaWQgOiBJbnQsXG4gICAgICAgIHByb2plY3RpZCA6IFN0cmluZyxcbiAgICAgICAgcHJvamVjdG5hbWUgOiBTdHJpbmcsXG4gICAgICAgIHByb2plY3RzdGF0dXMgOiBTdHJpbmcsXG4gICAgICAgIHByb2plY3R2YWx1ZSA6IEZsb2F0LFxuICAgICAgICBjcmVhdGVkYXRlIDogRGF0ZVRpbWUsXG4gICAgICAgIHVwZGF0ZWRhdGUgOiBEYXRlVGltZSxcbiAgICAgICAgc2lnbnVwZGF0ZSA6IERhdGVUaW1lLFxuICAgICAgICBjdXN0b21lcmlkIDogSW50LFxuICAgICAgICBkZXNpZ25lcmlkIDogSW50LFxuICAgICAgICBzYWxlc21hbmFnZXJpZCA6IEludCxcbiAgICAgICAgY2htaWQgOiBJbnQsXG4gICAgICAgIHN1cnZleWV4ZWN1dGl2ZWlkIDogSW50LFxuICAgICAgICBwcm9qZWN0bWFuYWdlcmlkIDogSW50LFxuICAgICAgICBkZXNpZ25zdHVkaW9pZCA6IEludCxcbiAgICAgICAgbW9kdWxhcmJhc2VhbW91bnQgOiBGbG9hdCxcbiAgICAgICAgcHJvamVjdG1vZHVsYXJ2YWx1ZSA6IEZsb2F0LFxuICAgICAgICBtb2R1bGFyZGlzY291bnQgOiBGbG9hdCxcbiAgICAgICAgc2l0ZXNlcnZpY2ViYXNlYW1vdW50IDogRmxvYXQsXG4gICAgICAgIHNpdGVzZXJ2aWNldmFsdWUgOiBGbG9hdCxcbiAgICAgICAgc2l0ZXNlcnZpY2VkaXNjb3VudCA6IEZsb2F0LFxuICAgICAgICBzaWdudXBhbW91bnQgOiBGbG9hdCxcbiAgICAgICAgc2lnbnVwc3RhdGUgOiBTdHJpbmcsXG4gICAgICAgIGV4cGVyaWVuY2VjZW50ZXJpZCA6IEludCxcbiAgICAgICAgY2l0eWlkIDogSW50LFxuICAgICAgICBwcm9qZWN0YWRkcmVzc2lkIDogSW50LFxuICAgICAgICBjbW1uYW1lIDogU3RyaW5nLFxuICAgICAgICBleHBlY3RlZGhhbmRvdmVyZGF0ZSA6IERhdGVUaW1lLFxuICAgICAgICBjdXJyZW50bWlsZXN0b25lIDogU3RyaW5nLFxuICAgICAgICBwcm9qZWN0cGhhc2UgOiBTdHJpbmcsXG4gICAgICAgIGhhc2Rlc2lnbmVyYWNjZXB0ZWQgOiBCb29sZWFuLFxuICAgICAgICBoYXNkZXNpZ2VycmVzcG9uZGVkIDogQm9vbGVhbixcbiAgICAgICAgaG9tZXR5cGUgOiBTdHJpbmcsXG4gICAgICAgIGluaXRpYWxzaWdudXB2YWx1ZSA6IEZsb2F0LFxuICAgICAgICBkZWNvcnZhbHVlIDogRmxvYXQsXG4gICAgICAgIHF1b3RlaWQgOiBJbnQsXG4gICAgICAgIHByb2plY3RyYXRpbmcgOiBJbnQsXG4gICAgICAgIGluY2x1ZGVwbWZlZSA6IEJvb2xlYW4sXG4gICAgICAgIG1pbGVzdG9uZXR5cGUgOiBTdHJpbmcsXG4gICAgICAgIG9kb29pZCA6IFN0cmluZyxcbiAgICAgICAgb2Rvb19kZWxpdmVyeV9hZGRyZXNzX2lkIDogU3RyaW5nLFxuICAgICAgICBpc25ld3BheW1lbnRwcm9qZWN0IDogQm9vbGVhbixcbiAgICAgICAgb3Bwb3J0dW5pdHlpZCA6IFN0cmluZyxcbiAgICAgICAgdGVtcGxhdGUgOiBTdHJpbmdcbiAgICApOiBwcm9qZWN0c1Jlc3BvbnNlXG5cbiAgICBtZWV0aW5nU2NoZWR1bGVyTWlsZXN0b25lKFxuICAgICAgICBwcm9qZWN0SWQ6IEludCEsXG4gICAgICAgIGRhdGV0aW1lOiBEYXRlVGltZSEsXG4gICAgICAgIG1lZXRpbmdTY2hlZHVsZVR5cGU6IFN0cmluZyEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBTdHJpbmcsXG4gICAgICAgIG1lZXRpbmdUeXBlOiBTdHJpbmchXG4gICAgKTptZWV0aW5nU2NoZWR1bGVyUmVzcG9uc2VcbiAgICBcbiAgICB1cGRhdGVQYXltZW50TWlsZXN0b25lcyhcbiAgICAgICAgcHJvamVjdElkOkludCEsXG4gICAgICAgIHBheW1lbnRNaWxlc3RvbmVOYW1lOlN0cmluZyxcbiAgICAgICAgcHJvamVjdFZhbHVlOkZsb2F0XG4gICAgKTp1cGRhdGVNaWxlc3RvbmVzUmVzcG9uc2VcblxuICAgIGNvbXBsZXRlTWlsZXN0b25lQ2hlY2tsaXN0KFxuICAgICAgICBwcm9qZWN0SWQ6SW50ISxcbiAgICAgICAgY2hlY2tMaXN0TmFtZTpTdHJpbmchXG4gICAgKTp1cGRhdGVNaWxlc3RvbmVzUmVzcG9uc2VcblxuICAgIGNvbXBsZXRlQ2hlY2tsaXN0QXBpKFxuICAgICAgICBwcm9qZWN0SWQ6IEludCEsXG4gICAgKTpjb21wbGV0ZUNoZWNrbGlzdFJlc3BvbnNlXG5cbiAgICBhZGRNaWxlc3RvbmVGaWxlcyhcbiAgICAgICAgcHJvamVjdGlkOiBJbnQhXG4gICAgICAgIGZpbGVuYW1lOiBTdHJpbmchXG4gICAgICAgIGZpbGVrZXk6IFN0cmluZyFcbiAgICAgICAgZmlsZXVybDogU3RyaW5nIVxuICAgICAgICBjb250ZW50dHlwZTogU3RyaW5nIVxuICAgICAgICB1cGxvYWRlZGJ5OiBTdHJpbmdcbiAgICAgICAgYXBwcm92YWxzdGF0dXM6IFN0cmluZyFcbiAgICAgICAgY29tbWVudHM6IFN0cmluZ1xuICAgICk6IGFkZE1pbGVzdG9uZUZpbGVzUmVzcG9uc2VcblxuICAgIHVwZGF0ZUZvcm1GaWxsTWlsZXN0b25lcyhcbiAgICAgICAgcHJvamVjdElkOkludCxcbiAgICAgICAgZm9ybUZpbGxOYW1lOlN0cmluZyxcbiAgICAgICAgZm9ybUZpbGxEYXRhOkZvcm1GaWxsSW5wdXRzXG4gICAgKTptZWV0aW5nU2NoZWR1bGVyUmVzcG9uc2VcblxuICAgIHNoYXJlRmlsZVdpdGhDdXN0b21lcihcbiAgICAgICAgcHJvamVjdGlkOiBJbnQhLFxuICAgICAgICBmaWxlbmFtZTogU3RyaW5nISxcbiAgICAgICAgc2hhcmV3aXRoY3VzdG9tZXI6Qm9vbGVhbiFcbiAgICApOiBzaGFyZUZpbGVXaXRoQ3VzdG9tZXJSZXNwb25zZVxufVxuXG5pbnB1dCBGaWx0ZXJ7XG4gICAgZGVzaWduZXJzOiBbSW50XSxcbiAgICBzdHVkaW9zOiBbSW50XSxcbiAgICBjaXRpZXM6IFtJbnRdLFxuICAgIGVjczogW0ludF0sXG4gICAgc3RhdHVzOiBbU3RyaW5nXSxcbiAgICBjdXJyZW50U3RhZ2U6IFtTdHJpbmddLFxuICAgIGZpbHRlckJ5IDogW1N0cmluZ10sXG4gICAgZnJvbURhdGU6IERhdGVUaW1lLFxuICAgIHRvRGF0ZTogRGF0ZVRpbWVcbn1cbmlucHV0IFNvcnRpbmd7XG4gICAgc29ydEJ5IDogU3RyaW5nLFxuICAgIG9yZGVyIDogU3RyaW5nXG59XG5cbnR5cGUgY29tcGxldGVDaGVja2xpc3RSZXNwb25zZXtcbiAgICBjb2RlOiBJbnQhLFxuICAgIG1lc3NhZ2U6IFN0cmluZyFcbiAgICBtaWxlc3RvbmVuYW1lOlN0cmluZ1xufVxuXG50eXBlIG1lZXRpbmdTY2hlZHVsZXJSZXNwb25zZXtcbiAgICBjb2RlOiBJbnQhLFxuICAgIG1lc3NhZ2U6IFN0cmluZyFcbn1cblxudHlwZSB1cGRhdGVNaWxlc3RvbmVzUmVzcG9uc2V7XG4gICAgY29kZTpJbnQhLFxuICAgIG1lc3NhZ2U6U3RyaW5nIVxufVxuXG50eXBlIHByb2plY3RzUmVzcG9uc2UgeyBcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6IFByb2plY3RzXG4gICAgc3VydmV5RXhlY3V0aXZlczogW1VzZXJzXVxuICAgIHBhbVByb2ZpbGVzOiBbVXNlcnNdXG59XG50eXBlIGFkZE1pbGVzdG9uZUZpbGVzUmVzcG9uc2Uge1xuICAgIGNvZGU6IEludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xufVxuXG50eXBlIHByb2plY3Rjb3N0YnJlYWt1cFJlc3BvbnNlIHtcbiAgICAgICAgbWVzc2FnZTpTdHJpbmdcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgUHJvamVjdFZhbHVlOkZsb2F0XG4gICAgICAgIENvbGxlY3RlZEFtb3VudDpGbG9hdFxuICAgICAgICBtb2R1bGFyYmFzZWFtb3VudDpGbG9hdFxuICAgICAgICBtb2R1bGFyZGlzY291bnQ6SW50XG4gICAgICAgIG1vZHVsYXJNaWxlc3RvbmU6SlNPTlxuICAgICAgICBzaXRlc2VydmljZWJhc2VhbW91bnQ6RmxvYXRcbiAgICAgICAgc2l0ZXNlcnZpY2VkaXNjb3VudDpJbnRcbiAgICAgICAgc2l0ZVNlcnZpY2VNaWxlc3RvbmU6SlNPTlxuICAgICAgICBtb2R1bGFyaW5jbHVzaXZlZ3N0OkZsb2F0XG4gICAgICAgIHNpdGVzZXJ2aWNlaW5jbHVzaXZlZ3N0OkZsb2F0XG4gICAgICAgIG1vZHVsYXJDb2xsZWN0ZWRBbW91bnQ6RmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VzQ29sbGVjdGVkQW1vdW50OkZsb2F0XG4gICAgICAgIG1vZHVsYXJwZGY6U3RyaW5nXG4gICAgICAgIHNpdGVzZXJ2aWNlc3BkZjpTdHJpbmdcbiAgICAgICAgcGVuZGluZ2Ftb3VudHZhbHVlOkZsb2F0XG4gICAgICAgIFByb2plY3RzdGF0dXM6U3RyaW5nXG4gICAgICAgIHByb2plY3Rtb2R1bGFydmFsdWU6RmxvYXRcbiAgICAgICAgcHJvamVjdHNpdGVzZXJ2aWNldmFsdWU6RmxvYXRcbiAgICAgICAgbW9kdWxhcmludm9pY2VkYW1vdW50OkZsb2F0XG4gICAgICAgIHNpdGVzZXJ2aWNlaW52b2ljZWRhbW91bnQ6RmxvYXRcbn1cblxudHlwZSAgZ2V0T2xkcHJvamVjdFJlc3BvbnNle1xuICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgY29kZTpJbnRcbiAgICBtb2R1bGFyYW1vdW50OkZsb2F0XG4gICAgc2l0ZXNzZXJ2aWNlYW1vdW50OkZsb2F0XG4gICAgbW9kdWxhcl9jb2xsZWN0ZWRfYW1vdW50OkZsb2F0XG4gICAgc2l0ZV9zZXJ2aWNlc19jb2xsZWN0ZWRfYW1vdW50OiBGbG9hdFxuICAgIGNvbGxlY3RlZGFtb3VudDpGbG9hdFxuXG59XG50eXBlIGdldFN1YlRhc2tzRm9yUHJvamVjdFJlc3BvbnNle1xuICAgIGNvZGU6SW50XG4gICAgbWVzc2FnZTpTdHJpbmdcbiAgICBkYXRhOltNaWxlc3RvbmVdXG59XG5cbnR5cGUgZ2V0RmlsZXNSZXNwb25zZXtcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6U3RyaW5nXG4gICAgZGF0YTpbRmlsZXNdXG59XG5cbnR5cGUgYWxsUHJvamVjdHNSZXNwb25zZXsgXG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOlN0cmluZ1xuICAgIGRhdGE6W1Byb2plY3RzIV0hXG59XG5cbnR5cGUgRmlsZSB7XG4gICAgZmlsZWtleTogU3RyaW5nXG4gICAgY29udGVudHR5cGU6IFN0cmluZ1xuICAgIGxvY2F0aW9uOiBTdHJpbmdcbn1cbnR5cGUgZ2V0RmlsZVVybFJlc3BvbnNle1xuICAgIGNvZGU6IEludCxcbiAgICBtZXNzYWdlOiBTdHJpbmcsXG4gICAgZGF0YTogRmlsZVxufVxudHlwZSBzaGFyZUZpbGVXaXRoQ3VzdG9tZXJSZXNwb25zZXtcbiAgICBjb2RlOiBJbnQsXG4gICAgbWVzc2FnZTogU3RyaW5nXG59XG5cbnR5cGUgUXVlcnkge1xuICAgIGFsbFByb2plY3RzOmFsbFByb2plY3RzUmVzcG9uc2VcbiAgICBnZXRQcm9qZWN0QnlJZChpZDpJbnQpOiBwcm9qZWN0c1Jlc3BvbnNlXG4gICAgZ2V0UHJvamVjdEJ5VXNlcih1c2VySWQ6SW50LCBzZWFyY2hUZXh0OlN0cmluZywgZmlsdGVyOkZpbHRlciwgc29ydGluZzpTb3J0aW5nKTogcHJvamVjdHNSZXNwb25zZVxuICAgIGdldFByb2plY3RDb3N0QnJlYWt1cChpZDpJbnQpOnByb2plY3Rjb3N0YnJlYWt1cFJlc3BvbnNlXG4gICAgZ2V0UHJvamVjdHNCeUZpbHRlcihzZWFyY2hUZXh0OlN0cmluZywgZmlsdGVyOkZpbHRlciwgc29ydGluZzpTb3J0aW5nKTogYWxsUHJvamVjdHNSZXNwb25zZVxuICAgIGdldFN1YlRhc2tGb3JQcm9qZWN0KHByb2plY3RpZDpJbnQpOmdldFN1YlRhc2tzRm9yUHJvamVjdFJlc3BvbnNlXG4gICAgZ2V0RmlsZXMoaWQ6SW50KTpnZXRGaWxlc1Jlc3BvbnNlXG4gICAgZ2V0RmlsZVVybChhdHRhY2htZW50OkpTT04pOmdldEZpbGVVcmxSZXNwb25zZVxuICAgIGdldE9sZFByb2plY3QoaWQ6SW50KTpnZXRPbGRwcm9qZWN0UmVzcG9uc2Vcbn1cbiAgICBzY2FsYXIgRGF0ZVRpbWVcbmA7XG4iLCJpbXBvcnQgeyBnZXRBcHByb3ZhbFN0YXR1cyB9IGZyb20gXCIuLi8uLi9wcm9qZWN0cy9NdXRhdGlvbnMvQWRkTWlsZXN0b25lRmlsZXNcIjtcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGFkZFBkZlRvTWlsZXN0b25lID0gYXN5bmMgKF9wcm9qZWN0LCBfY2hlY2tsaXN0VHlwZSwgX2ZpbGUpID0+IHtcbiAgY29uc3QgZmlsZXNDaGVja2xpc3REYXRhID0gX3Byb2plY3Q/Lm1pbGVzdG9uZXM/LmF0dHJpYnV0ZXM/LmZpbGVzX2NoZWNrbGlzdDtcbiAgZmlsZXNDaGVja2xpc3REYXRhLmZvckVhY2goKHZhbCkgPT4ge1xuICAgIGlmICh2YWwubGVuZ3RoICE9PSAwICYmIHZhbD8uY2hlY2tsaXN0X3N0cmluZyA9PT0gX2NoZWNrbGlzdFR5cGUpIHtcbiAgICAgIHZhbC5maWxla2V5ID0gX2ZpbGUua2V5O1xuICAgICAgdmFsLmZpbGV1cmwgPSBfZmlsZS5sb2NhdGlvbjtcbiAgICAgIHZhbC5jb250ZW50VHlwZSA9IF9maWxlLmNvbnRlbnRUeXBlO1xuICAgICAgY29uc3QgcmVzID0gZ2V0QXBwcm92YWxTdGF0dXModmFsLmFwcHJvdmFsX2Zyb21fY3VzdG9tZXIpO1xuICAgICAgdmFsLmFwcHJvdmFsc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgIHZhbC5zZW50b25kYXRlID0gcmVzLnNlbnRPbkRhdGU7XG4gICAgICB2YWwudXBsb2FkZWRvbiA9IG5ldyBEYXRlKCk7XG4gICAgICB2YWwuY3JlYXRlZF9hdCA9IG5ldyBEYXRlKCk7XG4gICAgICB2YWwudXBkYXRlZF9hdCA9IG5ldyBEYXRlKCk7XG4gICAgfVxuICB9KTtcbiAgX3Byb2plY3QubWlsZXN0b25lcy5hdHRyaWJ1dGVzLmZpbGVzX2NoZWNrbGlzdCA9IGZpbGVzQ2hlY2tsaXN0RGF0YTtcbiAgYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IF9wcm9qZWN0LmlkIH0sXG4gICAgZGF0YTogeyBtaWxlc3RvbmVzOiBfcHJvamVjdC5taWxlc3RvbmVzIH0sXG4gIH0pO1xufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCB7IFNJVEVfU0VSVklDRSB9IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1Jvb21UeXBlc0VudW1zXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBkZWxldGVCbG9iIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgUHJpc21hIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5leHBvcnQgY29uc3QgZGVsZXRlUm9vbXdpc2UgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgcm9vbU5hbWU6IGFueSA9IGFyZ3Mucm9vbVR5cGU7XG4gICAgY29uc3QgcXVvdGVEYXRhID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfcXVvdGVzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogYXJncy5kZFF1b3RlSWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghcXVvdGVEYXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUXVvdGUgZG9lcyBub3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcXVvdGVEYXRhT2JqID0ge307XG4gICAgY29uc3QgcHJvamVjdE1ldGEgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHF1b3RlaWQ6IGFyZ3MuZGRRdW90ZUlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIXByb2plY3RNZXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUHJvamVjdCBub3QgZm91bmRcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNpdHkgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBpZDogcHJvamVjdE1ldGE/LmNpdHlpZCB9LFxuICAgIH0pO1xuICAgIGlmICghY2l0eSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiQ2l0eSBub3QgZm91bmQgaW4gcHJvamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgcHJvamVjdE1ldGFPYmogPSB7fTtcbiAgICBjb25zdCBjdXN0b21lck1ldGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGN1c3RvbWVyaWQ6IHByb2plY3RNZXRhLmN1c3RvbWVyaWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghY3VzdG9tZXJNZXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGFycmF5UmVtb3ZlUm9vbSA9IFtdO1xuICAgIGNvbnN0IF9yb29tTGlzdCA9IChxdW90ZURhdGEucm9vbWxpc3QgYXMgUHJpc21hLkpzb25BcnJheSkgfHwgW107XG4gICAgaWYgKF9yb29tTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJSb29tIGRvZXNuJ3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCByb29tc0V4aXN0ID0gW107XG4gICAgX3Jvb21MaXN0LmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4ge1xuICAgICAgcm9vbXNFeGlzdC5wdXNoKGVsZW1lbnQucm9vbU5hbWUpO1xuICAgIH0pO1xuICAgIGlmIChyb29tc0V4aXN0LmluY2x1ZGVzKHJvb21OYW1lKSkge1xuICAgICAgX3Jvb21MaXN0LmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5yb29tTmFtZSAhPT0gcm9vbU5hbWUpIHtcbiAgICAgICAgICBhcnJheVJlbW92ZVJvb20ucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJSb29tIGRvZXNuJ3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCByb29tWG1sVmFsO1xuICAgIGNvbnN0IGRlbGV0ZUFycmF5ID0gW10sXG4gICAgICByb29tc0lkcyA9IChxdW90ZURhdGEucm9vbXNfaWRzIGFzIFByaXNtYS5Kc29uQXJyYXkpIHx8IFtdO1xuICAgIGlmIChyb29tc0lkcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSByb29tc0lkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgT2JqZWN0LmtleXMocm9vbXNJZHNbaV0pWzBdLnRvTG93ZXJDYXNlKCkgIT09IHJvb21OYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVsZXRlQXJyYXkucHVzaChyb29tc0lkc1tpXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm9vbVhtbFZhbCA9IE9iamVjdC52YWx1ZXMocm9vbXNJZHNbaV0pWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdW90ZURhdGFPYmpbXCJyb29tc19pZHNcIl0gPSBkZWxldGVBcnJheTtcbiAgICB9IGVsc2Uge1xuICAgICAgcXVvdGVEYXRhT2JqW1wicm9vbXNfaWRzXCJdID0gW107XG4gICAgfVxuICAgIHF1b3RlRGF0YU9ialtcInJvb21saXN0XCJdID0gYXJyYXlSZW1vdmVSb29tO1xuICAgIGNvbnN0IGN1cnJlbnRRdW90ZVZhbCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0X3F1b3Rlcy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGFyZ3MuZGRRdW90ZUlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHF1b3RlRGF0YU9iaixcbiAgICB9KTtcbiAgICBjb25zdCBjdXJyZW50UXVvdGVWYWxPYmogPSB7fTtcbiAgICBsZXQgc3VtTW9kdWxhciA9IDAsXG4gICAgICBzdW1TaXRlID0gMCxcbiAgICAgIHJvb21FbGVtZW50ID0gW107XG4gICAgY29uc3Qgcm9vbXNMaXN0ID0gKGN1cnJlbnRRdW90ZVZhbC5yb29tbGlzdCBhcyBQcmlzbWEuSnNvbkFycmF5KSB8fCBbXTtcbiAgICBpZiAocm9vbXNMaXN0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgcm9vbUVsZW1lbnQgPSByb29tc0xpc3Q7XG4gICAgICByb29tRWxlbWVudC5mb3JFYWNoKChlbGVtZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKCFTSVRFX1NFUlZJQ0UuaW5jbHVkZXMoZWxlbWVudC5yb29tTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgIHN1bU1vZHVsYXIgKz0gK2VsZW1lbnQucm9vbVByaWNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1bVNpdGUgKz0gK2VsZW1lbnQucm9vbVByaWNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY3VycmVudFF1b3RlVmFsT2JqW1wibW9kdWxhcnZhbHVlXCJdID0gc3VtTW9kdWxhcjtcbiAgICBjdXJyZW50UXVvdGVWYWxPYmpbXCJzaXRlc2VydmljZVwiXSA9IHN1bVNpdGU7XG4gICAgaWYgKHN1bU1vZHVsYXIgPT09IDApIHtcbiAgICAgIGN1cnJlbnRRdW90ZVZhbE9ialtcIm1vZHVsYXJkaXNjb3VudFwiXSA9IHByb2plY3RNZXRhT2JqW1xuICAgICAgICBcIm1vZHVsYXJkaXNjb3VudFwiXG4gICAgICBdID0gMDtcbiAgICB9IGVsc2UgaWYgKHN1bVNpdGUgPT09IDApIHtcbiAgICAgIGN1cnJlbnRRdW90ZVZhbE9ialtcInNpdGVzZXJ2aWNlZGlzY291bnRcIl0gPSBwcm9qZWN0TWV0YU9ialtcbiAgICAgICAgXCJzaXRlc2VydmljZWRpc2NvdW50XCJcbiAgICAgIF0gPSAwO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZU9iajogYW55ID0ge307XG4gICAgbGV0IHBtRmVlTW9kdWxhciA9IDAsXG4gICAgICBwbUZlZVNpdGUgPSAwLFxuICAgICAgc2l0ZUZpbmFsID0gMCxcbiAgICAgIG1vZHVsYXJGaW5hbCA9IDA7XG4gICAgaWYgKCFTSVRFX1NFUlZJQ0UuaW5jbHVkZXMocm9vbU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgc3VtTW9kdWxhcikge1xuICAgICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudCA9IGN1cnJlbnRRdW90ZVZhbC5tb2R1bGFyYWJzb2x1dGVkaXNjb3VudCB8fCAwO1xuICAgICAgY29uc3QgZGlzY291bnRBbW91bnQgPVxuICAgICAgICAoc3VtTW9kdWxhciAqIGN1cnJlbnRRdW90ZVZhbC5tb2R1bGFyZGlzY291bnQpIC8gMTAwO1xuICAgICAgbGV0IGFmdGVyRGlzY291bnQgPSBzdW1Nb2R1bGFyIC0gZGlzY291bnRBbW91bnQgLSBhYnNvbHV0ZURpc2NvdW50O1xuICAgICAgaWYgKGNpdHkpIHtcbiAgICAgICAgaWYgKGNpdHkuaW5jbHVkZXBtZmVlICYmIHByb2plY3RNZXRhLmluY2x1ZGVwbWZlZSkge1xuICAgICAgICAgIHBtRmVlTW9kdWxhciA9IChjdXJyZW50UXVvdGVWYWwubW9kdWxhcnZhbHVlICogNykgLyAxMDA7XG4gICAgICAgICAgcHJvamVjdE1ldGFPYmpbXCJtb2R1bGFycG1mZWVcIl0gPSBwbUZlZU1vZHVsYXI7XG4gICAgICAgICAgYWZ0ZXJEaXNjb3VudCArPSBwbUZlZU1vZHVsYXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGdzdCA9IChhZnRlckRpc2NvdW50ICogMTgpIC8gMTAwO1xuICAgICAgY29uc3QgZmluYWxUb3RhbCA9IGFmdGVyRGlzY291bnQgKyArZ3N0O1xuICAgICAgbW9kdWxhckZpbmFsID0gZmluYWxUb3RhbDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wicHJvamVjdG1vZHVsYXJ2YWx1ZVwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJtb2R1bGFyYmFzZWFtb3VudFwiXSA9XG4gICAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJWYWx1ZSA9XG4gICAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJCYXNlQW1vdW50ID1cbiAgICAgICAgICBwYXJzZUZsb2F0KHN1bU1vZHVsYXIudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJUb3RhbFRheCA9IHBhcnNlRmxvYXQoZ3N0LnRvRml4ZWQoMikpIHx8IDA7XG4gICAgICByZXNwb25zZU9iai5tb2R1bGFyVG90YWxBbW91bnQgPSBwYXJzZUZsb2F0KGZpbmFsVG90YWwudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJEaXNjb3VudGVkQW1vdW50ID1cbiAgICAgICAgcGFyc2VGbG9hdChkaXNjb3VudEFtb3VudC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckRpc2NvdW50VmFsdWUgPSBjdXJyZW50UXVvdGVWYWwubW9kdWxhcmRpc2NvdW50IHx8IDA7XG4gICAgfVxuICAgIGlmIChTSVRFX1NFUlZJQ0UuaW5jbHVkZXMocm9vbU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgc3VtU2l0ZSkge1xuICAgICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudCA9IGN1cnJlbnRRdW90ZVZhbC5zaXRlc2VydmljZWFic29sdXRlZGlzY291bnQgfHwgMDtcbiAgICAgIGNvbnN0IGRpc2NvdW50QW1vdW50ID1cbiAgICAgICAgKHN1bVNpdGUgKiBjdXJyZW50UXVvdGVWYWwuc2l0ZXNlcnZpY2VkaXNjb3VudCkgLyAxMDA7XG4gICAgICBsZXQgYWZ0ZXJEaXNjb3VudCA9IHN1bVNpdGUgLSBkaXNjb3VudEFtb3VudCAtIGFic29sdXRlRGlzY291bnQ7XG4gICAgICBpZiAoY2l0eSkge1xuICAgICAgICBpZiAoY2l0eS5pbmNsdWRlcG1mZWUgJiYgcHJvamVjdE1ldGEuaW5jbHVkZXBtZmVlKSB7XG4gICAgICAgICAgcG1GZWVTaXRlID0gKGN1cnJlbnRRdW90ZVZhbC5zaXRlc2VydmljZSAqIDcpIC8gMTAwO1xuICAgICAgICAgIHByb2plY3RNZXRhT2JqW1wic2l0ZXBtZmVlXCJdID0gcG1GZWVTaXRlO1xuICAgICAgICAgIGFmdGVyRGlzY291bnQgKz0gcG1GZWVTaXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBnc3QgPSAoYWZ0ZXJEaXNjb3VudCAqIDE4KSAvIDEwMDtcbiAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSBhZnRlckRpc2NvdW50ICsgK2dzdDtcbiAgICAgIHNpdGVGaW5hbCA9IGZpbmFsVG90YWw7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInByb2plY3RzaXRlc2VydmljZXN2YWx1ZVwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJzaXRlc2VydmljZWJhc2VhbW91bnRcIl0gPVxuICAgICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZVZhbHVlID1cbiAgICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VCYXNlQW1vdW50ID1cbiAgICAgICAgICBwYXJzZUZsb2F0KHN1bVNpdGUudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLnNpdGVTZXJ2aWNlVG90YWxUYXggPSBwYXJzZUZsb2F0KGdzdC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VUb3RhbEFtb3VudCA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VEaXNjb3VudGVkQW1vdW50ID1cbiAgICAgICAgcGFyc2VGbG9hdChkaXNjb3VudEFtb3VudC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VEaXNjb3VudFZhbHVlID1cbiAgICAgICAgY3VycmVudFF1b3RlVmFsLnNpdGVzZXJ2aWNlZGlzY291bnQgfHwgMDtcbiAgICB9XG4gICAgcHJvamVjdE1ldGFPYmpbXCJ0b3RhbHByb2plY3R2YWx1ZVwiXSA9IG1vZHVsYXJGaW5hbCArIHNpdGVGaW5hbDtcbiAgICBwcm9qZWN0TWV0YU9ialtcImFjaGlldmVkcmV2ZW51ZXZhbHVlXCJdID1cbiAgICAgIHByb2plY3RNZXRhLm1vZHVsYXJfY29sbGVjdGVkX2Ftb3VudCArXG4gICAgICBwcm9qZWN0TWV0YS5zaXRlX3NlcnZpY2VzX2NvbGxlY3RlZF9hbW91bnQ7XG4gICAgcHJvamVjdE1ldGFPYmpbXCJwZW5kaW5nYW1vdW50dmFsdWVcIl0gPVxuICAgICAgbW9kdWxhckZpbmFsICtcbiAgICAgIHNpdGVGaW5hbCAtXG4gICAgICBwcm9qZWN0TWV0YS5tb2R1bGFyX2NvbGxlY3RlZF9hbW91bnQgK1xuICAgICAgcHJvamVjdE1ldGEuc2l0ZV9zZXJ2aWNlc19jb2xsZWN0ZWRfYW1vdW50O1xuICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0TWV0YSA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHByb2plY3RNZXRhLmlkIH0sXG4gICAgICBkYXRhOiBwcm9qZWN0TWV0YU9iaixcbiAgICB9KTtcbiAgICByZXNwb25zZU9iai50b3RhbFByb2plY3RWYWx1ZSA9IHVwZGF0ZWRQcm9qZWN0TWV0YS50b3RhbHByb2plY3R2YWx1ZTtcbiAgICByZXNwb25zZU9iai5hY2hpZXZlZFJldmVudWVWYWx1ZSA9IHVwZGF0ZWRQcm9qZWN0TWV0YS5hY2hpZXZlZHJldmVudWV2YWx1ZTtcbiAgICByZXNwb25zZU9iai5wZW5kaW5nQW1vdW50VmFsdWUgPSB1cGRhdGVkUHJvamVjdE1ldGEucGVuZGluZ2Ftb3VudHZhbHVlO1xuXG4gICAgY29uc3QgdXBkYXRlZFF1b3RlRGF0YSA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0X3F1b3Rlcy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MuZGRRdW90ZUlkIH0sXG4gICAgICBkYXRhOiBjdXJyZW50UXVvdGVWYWxPYmosXG4gICAgfSk7XG4gICAgY29uc3Qgcm9vbUlkcyA9ICh1cGRhdGVkUXVvdGVEYXRhLnJvb21zX2lkcyBhcyBQcmlzbWEuSnNvbkFycmF5KSB8fCBbXTtcbiAgICAvLyByZW1vdmUgZmlsZXMgZnJvbSBhdHRhY2htZW50cyAmIHMzIHdoaWNoIGFyZSBhZGRlZCBpbiBwb3N0c2FsZXMuXG4gICAgaWYgKHJvb21JZHMubGVuZ3RoICE9PSAwICYmIHJvb21YbWxWYWwpIHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnRPYmogPSBhd2FpdCBwcmlzbWEuZGNfYXR0YWNobWVudHMuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBsb2NhdGlvbjogcm9vbVhtbFZhbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcmVtb3ZlRnJvbUJsb2JBbmREQihhdHRhY2htZW50T2JqKTtcbiAgICB9XG4gICAgaWYgKFNJVEVfU0VSVklDRS5pbmNsdWRlcyhyb29tTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgLy8gcXVvdGVJZCwgbG9jYXRpb24sIHByb2plY3RJZCwga2V5LCBuYW1lXG4gICAgICBhd2FpdCByZW1vdmVQZGZGaWxlc0Zyb21TY2hlbWFzKFxuICAgICAgICBhcmdzLmRkUXVvdGVJZCxcbiAgICAgICAgXCJzaXRlc2VydmljZXhtbFwiLFxuICAgICAgICBwcm9qZWN0TWV0YS5pZCxcbiAgICAgICAgXCJzaXRlc2VydmljZVBkZlwiLFxuICAgICAgICBcIkFkZG9uIENvc3RpbmdcIlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcXVvdGVJZCwgbG9jYXRpb24sIHByb2plY3RJZCwgIGtleSwgbmFtZVxuICAgICAgYXdhaXQgcmVtb3ZlUGRmRmlsZXNGcm9tU2NoZW1hcyhcbiAgICAgICAgYXJncy5kZFF1b3RlSWQsXG4gICAgICAgIFwibW9kdWxhcnhtbFwiLFxuICAgICAgICBwcm9qZWN0TWV0YS5pZCxcbiAgICAgICAgXCJtb2R1bGFyUGRmXCIsXG4gICAgICAgIFwiTGF0ZXN0IEJPUVwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogdXBkYXRlZFF1b3RlRGF0YSA/IDIwMCA6IDQwMCxcbiAgICAgIG1lc3NhZ2U6IHVwZGF0ZWRRdW90ZURhdGFcbiAgICAgICAgPyBcIlJvb20gZGVsZXRlZCBzdWNjZXNzZnVsbHlcIlxuICAgICAgICA6IFwiUm9vbSBkb2VzIG5vdCBleGlzdFwiLFxuICAgICAgZGF0YTogdXBkYXRlZFF1b3RlRGF0YSA/IHJlc3BvbnNlT2JqIDogXCJcIixcbiAgICB9O1xuICAgIC8vIHJlbW92ZSBwZGYgZmlsZXMgZnJvbSBQcm9qZWN0RmlsZXMsIEVzaWduT2ZmLCBRdW90ZVxuICAgIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVBkZkZpbGVzRnJvbVNjaGVtYXMoXG4gICAgICBxdW90ZUlkLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBfcHJvamVjdElkPyxcbiAgICAgIF9rZXk/LFxuICAgICAgX25hbWU/XG4gICAgKSB7XG4gICAgICAvLyByZW1vdmluZyBwZGYgbG9jYXRpb25zICYga2V5cyBmcm9tIHF1b3RlXG4gICAgICBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9xdW90ZXMudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBpZDogcXVvdGVJZCxcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFtsb2NhdGlvbl06IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgTG9naWMgTmVlZHMgdG8gYmUgYWRkZWRcbiAgICAgIGFmdGVyIFByb2plY3QgbWFuYWdlbWVudCBhbmQgZGVzaWduIHNpZ25vZmYgY29tcGxldGVcbiAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59O1xuY29uc3QgcmVtb3ZlRnJvbUJsb2JBbmREQiA9IGFzeW5jIChhdHRhY2htZW50T2JqKSA9PiB7XG4gIGlmIChhdHRhY2htZW50T2JqKSB7XG4gICAgY29uc3QgYXR0YWNobWVudEZpbGVLZXkgPSBhdHRhY2htZW50T2JqLmZpbGVrZXk7XG4gICAgY29uc3QgYXdzRGVsZXRlUmVzID0gYXdhaXQgZGVsZXRlQmxvYihhdHRhY2htZW50RmlsZUtleSk7XG4gICAgY29uc29sZS5sb2coXCJhd3NEZWxldGVSZXMgPT09PT4gXCIsIGF3c0RlbGV0ZVJlcyk7XG4gICAgaWYgKGF3c0RlbGV0ZVJlcykge1xuICAgICAgYXdhaXQgcHJpc21hLmRjX2F0dGFjaG1lbnRzLmRlbGV0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBhdHRhY2htZW50T2JqLmlkIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgUGFyc2UgZnJvbSBcInhtbC1qc1wiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IHtcbiAgVXBsb2FkRmlsZU9uUzMsXG4gIGdldEJ1ZmZlcixcbiAgZGVsZXRlQmxvYixcbiAgZ2V0Um9vbU5hbWVzLFxuICBnZXRSb29tTGlzdEFycmF5RnJvbVhtbERhdGEsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIjtcbmltcG9ydCB7IFByaXNtYSB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuaW1wb3J0IHsgU0lURV9TRVJWSUNFIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUm9vbVR5cGVzRW51bXNcIjtcblxuZXhwb3J0IGNvbnN0IFBvc3RSb29td2lzZVhtbEFwaSA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlID0ge1xuICAgICAga2V5OiBhcmdzLmZpbGVOYW1lLFxuICAgICAgY29udGVudFR5cGU6IGFyZ3MuY29udGVudFR5cGUsXG4gICAgICBiYXNlNjQ6IGFyZ3MuYmFzZTY0RmlsZSxcbiAgICB9O1xuICAgIGxldCBfY29tbW9uUm9vbUxpc3QgPSBbXTtcbiAgICBjb25zdCBhdHRhY2htZW50T2JqID0gYXdhaXQgVXBsb2FkRmlsZU9uUzMoZmlsZSk7XG4gICAgY29uc3QgeG1sOiBhbnkgPSBhd2FpdCBnZXRCdWZmZXIoYXR0YWNobWVudE9iai5maWxla2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXJzZS54bWwyanNvbih4bWwsIHsgY29tcGFjdDogdHJ1ZSwgc3BhY2VzOiA0IH0pO1xuICAgIGNvbnN0IG1haW5PYmogPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgY29uc3QgY2xpZW50TmFtZSA9IG1haW5PYmouWE1MLk9yZGVyLkhlYWQuQ09OVEFDVF9BRERSRVNTMS5fdGV4dDtcbiAgICBpZiAoIWNsaWVudE5hbWUpIHtcbiAgICAgIGF3YWl0IHJlbW92ZUZyb21CbG9iQW5kREIoYXR0YWNobWVudE9iaik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgbmFtZSBub3QgZm91bmQuIFBsZWFzZSB1cGxvYWQgYXBwcm9wcmlhdGUgZmlsZSFcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJ1aWxkZXJMaXN0ID0gbWFpbk9iai5YTUwuT3JkZXIuQnVpbGRlckxpc3QuU2V0O1xuICAgIC8vIG1vZHVsYXIvc2l0ZVNlcnZpY2UgQW1vdW50XG4gICAgY29uc3QgY29tbW9uQW1vdW50ID0gbWFpbk9iai5YTUwuT3JkZXIuSGVhZC5PUkRFUl9QUklDRV9JTkZPMy5fdGV4dDtcbiAgICAvLyBtb2R1bGFyL3NpdGVTZXJ2aWNlIERpc2NvdW50XG4gICAgY29uc3Qgcm9vbXNBcnIgPSBnZXRSb29tTmFtZXMoYnVpbGRlckxpc3QpO1xuICAgIC8vIGZpbmQgcHJvamVjdCAmIGN1c3RvbWVyIG1ldGEgZGF0YVxuICAgIGNvbnN0IHByb2plY3RNZXRhID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogYXJncy5wcm9qZWN0SWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghcHJvamVjdE1ldGEpIHtcbiAgICAgIGF3YWl0IHJlbW92ZUZyb21CbG9iQW5kREIoYXR0YWNobWVudE9iaik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUHJvamVjdCBkb2VzIG5vdCBleGlzdFwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2l0eSA9IGF3YWl0IHByaXNtYS5kY19jaXRpZXMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0TWV0YT8uY2l0eWlkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFjaXR5KSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJDaXR5IG5vdCBmb3VuZCBpbiBwcm9qZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21lck1ldGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGN1c3RvbWVyaWQ6IHByb2plY3RNZXRhPy5jdXN0b21lcmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIWN1c3RvbWVyTWV0YSkge1xuICAgICAgYXdhaXQgcmVtb3ZlRnJvbUJsb2JBbmREQihhdHRhY2htZW50T2JqKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBkb2VzIG5vdCBleGlzdFwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZmlyc3ROYW1lID0gY3VzdG9tZXJNZXRhPy5maXJzdG5hbWUgPyBjdXN0b21lck1ldGEuZmlyc3RuYW1lIDogXCJcIjtcbiAgICBjb25zdCBsYXN0bmFtZSA9IGN1c3RvbWVyTWV0YT8ubGFzdG5hbWUgPyBjdXN0b21lck1ldGEubGFzdG5hbWUgOiBcIlwiO1xuICAgIGNvbnN0IGN1c3RvbWVyTmFtZSA9IGAke2ZpcnN0TmFtZX0gJHtsYXN0bmFtZX1gO1xuICAgIGlmIChjdXN0b21lck5hbWUgJiYgY2xpZW50TmFtZSAhPT0gY3VzdG9tZXJOYW1lLnRyaW0oKSkge1xuICAgICAgYXdhaXQgcmVtb3ZlRnJvbUJsb2JBbmREQihhdHRhY2htZW50T2JqKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJDdXN0b21lciBuYW1lIGRpZCBub3QgbWF0Y2guIFBsZWFzZSB1cGxvYWQgYXBwcm9wcmlhdGUgZmlsZS5cIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVF1b3RlUHJvcHMgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9xdW90ZXMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBwcm9qZWN0TWV0YS5xdW90ZWlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIXVwZGF0ZVF1b3RlUHJvcHMpIHtcbiAgICAgIGF3YWl0IHJlbW92ZUZyb21CbG9iQW5kREIoYXR0YWNobWVudE9iaik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUXVvdGUgZG9lcyBub3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVF1b3RlUHJvcHNPYmogPSB7fTtcbiAgICAvLyBBbGxvdyBhbGwgcm9vbXMgd2l0aCBpZiBleGlzdHMgY29uZGl0aW9uYWwgY2hlY2suXG4gICAgY29uc3Qgcm9vbU5hbWUgPSByb29tc0FyclswXTtcbiAgICBjb25zdCByb29tTGlzdCA9ICh1cGRhdGVRdW90ZVByb3BzLnJvb21saXN0IGFzIFByaXNtYS5Kc29uQXJyYXkpIHx8IFtdO1xuICAgIGlmIChyb29tTGlzdC5sZW5ndGggIT09IDApIHtcbiAgICAgIHJvb21MaXN0LmZvckVhY2goKGVsZW1lbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcm9vbU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbWVudC5yb29tTmFtZS50b0xvd2VyQ2FzZSgpIHx8XG4gICAgICAgICAgKFNJVEVfU0VSVklDRS5pbmNsdWRlcyhyb29tTmFtZS50b0xvd2VyQ2FzZSgpKSAmJlxuICAgICAgICAgICAgU0lURV9TRVJWSUNFLmluY2x1ZGVzKGVsZW1lbnQucm9vbU5hbWUudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICAgICAgICA0MDAsXG4gICAgICAgICAgICBcIk9vcHMhIHJvb20gbmFtZSBhbHJlYWR5IGV4aXN0cy4gUGxlYXNlIGRlbGV0ZSBleGlzdGluZyByb29tIHRvIGFkZCBuZXcuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gcm9vbXNMaXN0IE9iamVjdCB3aXRoIG5hbWVzLCBwcmljZXMgYW5kIG1ldGFkYXRhXG4gICAgX2NvbW1vblJvb21MaXN0ID0gZ2V0Um9vbUxpc3RBcnJheUZyb21YbWxEYXRhKG1haW5PYmosIF9jb21tb25Sb29tTGlzdCk7XG4gICAgbGV0IHJvb21FbGVtZW50ID0gW10sXG4gICAgICByb29tc0lkcyA9IFtdO1xuICAgIGlmIChyb29tTGlzdC5sZW5ndGggIT09IDApIHtcbiAgICAgIHJvb21FbGVtZW50ID0gcm9vbUxpc3Q7XG4gICAgfVxuICAgIGlmICghcm9vbUxpc3QuaW5jbHVkZXMocm9vbU5hbWUpKSB7XG4gICAgICByb29tRWxlbWVudC5wdXNoKF9jb21tb25Sb29tTGlzdFswXSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb21PYmogPSB7XG4gICAgICBbcm9vbU5hbWVdOiBhdHRhY2htZW50T2JqLmxvY2F0aW9uLFxuICAgIH07XG4gICAgcm9vbXNJZHMgPSB1cGRhdGVRdW90ZVByb3BzLnJvb21zX2lkc1xuICAgICAgPyAodXBkYXRlUXVvdGVQcm9wcy5yb29tc19pZHMgYXMgUHJpc21hLkpzb25BcnJheSlcbiAgICAgIDogW107XG4gICAgcm9vbXNJZHMucHVzaChyb29tT2JqKTtcbiAgICB1cGRhdGVRdW90ZVByb3BzT2JqW1wicm9vbXNfaWRzXCJdID0gcm9vbXNJZHM7XG4gICAgdXBkYXRlUXVvdGVQcm9wc09ialtcInJvb21saXN0XCJdID0gcm9vbUVsZW1lbnQ7XG4gICAgbGV0IHN1bU1vZHVsYXIgPSAwLFxuICAgICAgc3VtU2l0ZSA9IDA7XG4gICAgcm9vbUVsZW1lbnQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgaWYgKCFTSVRFX1NFUlZJQ0UuaW5jbHVkZXMoZWxlbWVudC5yb29tTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBzdW1Nb2R1bGFyICs9ICtlbGVtZW50LnJvb21QcmljZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1bVNpdGUgKz0gK2VsZW1lbnQucm9vbVByaWNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChTSVRFX1NFUlZJQ0UuaW5jbHVkZXMocm9vbU5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIHN1bVNpdGUgPSBwYXJzZUludChjb21tb25BbW91bnQpO1xuICAgIH1cbiAgICB1cGRhdGVRdW90ZVByb3BzT2JqW1wibW9kdWxhcnZhbHVlXCJdID0gc3VtTW9kdWxhcjtcbiAgICB1cGRhdGVRdW90ZVByb3BzT2JqW1wic2l0ZXNlcnZpY2VcIl0gPSBzdW1TaXRlO1xuICAgIGNvbnN0IHVwZGF0ZWRSZXNwb25zZSA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0X3F1b3Rlcy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHVwZGF0ZVF1b3RlUHJvcHMuaWQgfSxcbiAgICAgIGRhdGE6IHVwZGF0ZVF1b3RlUHJvcHNPYmosXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2VPYmo6IGFueSA9IHt9O1xuICAgIGNvbnN0IHByb2plY3RNZXRhT2JqID0ge307XG4gICAgbGV0IHBtRmVlTW9kdWxhciA9IDAsXG4gICAgICBwbUZlZVNpdGUgPSAwLFxuICAgICAgc2l0ZUZpbmFsID0gMCxcbiAgICAgIG1vZHVsYXJGaW5hbCA9IDA7XG4gICAgaWYgKCFTSVRFX1NFUlZJQ0UuaW5jbHVkZXMocm9vbU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgc3VtTW9kdWxhcikge1xuICAgICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudCA9IHVwZGF0ZWRSZXNwb25zZS5tb2R1bGFyYWJzb2x1dGVkaXNjb3VudCB8fCAwO1xuICAgICAgY29uc3QgZGlzY291bnRBbW91bnQgPVxuICAgICAgICAoc3VtTW9kdWxhciAqICt1cGRhdGVkUmVzcG9uc2UubW9kdWxhcmRpc2NvdW50KSAvIDEwMDtcbiAgICAgIGxldCBhZnRlckRpc2NvdW50ID0gc3VtTW9kdWxhciAtIGRpc2NvdW50QW1vdW50IC0gYWJzb2x1dGVEaXNjb3VudDtcbiAgICAgIGlmIChjaXR5KSB7XG4gICAgICAgIGlmIChjaXR5LmluY2x1ZGVwbWZlZSAmJiBwcm9qZWN0TWV0YS5pbmNsdWRlcG1mZWUpIHtcbiAgICAgICAgICBwbUZlZU1vZHVsYXIgPSAodXBkYXRlZFJlc3BvbnNlLm1vZHVsYXJ2YWx1ZSAqIDcpIC8gMTAwO1xuICAgICAgICAgIHByb2plY3RNZXRhT2JqW1wibW9kdWxhcnBtZmVlXCJdID0gcG1GZWVNb2R1bGFyO1xuICAgICAgICAgIGFmdGVyRGlzY291bnQgKz0gcG1GZWVNb2R1bGFyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBnc3QgPSAoYWZ0ZXJEaXNjb3VudCAqIDE4KSAvIDEwMDtcbiAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSBhZnRlckRpc2NvdW50ICsgK2dzdDtcbiAgICAgIG1vZHVsYXJGaW5hbCA9IGZpbmFsVG90YWw7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInByb2plY3Rtb2R1bGFydmFsdWVcIl0gPVxuICAgICAgICBwYXJzZUZsb2F0KGZpbmFsVG90YWwudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wibW9kdWxhcmRpc2NvdW50XCJdID0gdXBkYXRlZFJlc3BvbnNlLm1vZHVsYXJkaXNjb3VudCB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJtb2R1bGFyYmFzZWFtb3VudFwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoc3VtTW9kdWxhci50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhclZhbHVlID0gcmVzcG9uc2VPYmoubW9kdWxhckJhc2VBbW91bnQgPVxuICAgICAgICBwYXJzZUZsb2F0KHN1bU1vZHVsYXIudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wibW9kdWxhcmFic29sdXRlZGlzY291bnRcIl0gPSBhYnNvbHV0ZURpc2NvdW50O1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhclRvdGFsVGF4ID0gcGFyc2VGbG9hdChnc3QudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJUb3RhbEFtb3VudCA9IHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckRpc2NvdW50ZWRBbW91bnQgPVxuICAgICAgICBwYXJzZUZsb2F0KGRpc2NvdW50QW1vdW50LnRvRml4ZWQoMikpIHx8IDA7XG4gICAgICByZXNwb25zZU9iai5hdHRhY2htZW50ID0gYXR0YWNobWVudE9iai5sb2NhdGlvbjtcbiAgICAgIHJlc3BvbnNlT2JqLmZpbGVrZXkgPSBhdHRhY2htZW50T2JqLmZpbGVrZXk7XG4gICAgICByZXNwb25zZU9iai5jdXN0b21lck5hbWUgPSBjbGllbnROYW1lO1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckRpc2NvdW50VmFsdWUgPSB1cGRhdGVkUmVzcG9uc2UubW9kdWxhcmRpc2NvdW50IHx8IDA7XG4gICAgICByZXNwb25zZU9iai5tb2R1bGFyRml4ZWREaXNjb3VudCA9IGFic29sdXRlRGlzY291bnQ7XG4gICAgfVxuICAgIGlmIChTSVRFX1NFUlZJQ0UuaW5jbHVkZXMocm9vbU5hbWUudG9Mb3dlckNhc2UoKSkgfHwgc3VtU2l0ZSkge1xuICAgICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudCA9IHVwZGF0ZWRSZXNwb25zZS5zaXRlc2VydmljZWFic29sdXRlZGlzY291bnQgfHwgMDtcbiAgICAgIGNvbnN0IGRpc2NvdW50QW1vdW50ID1cbiAgICAgICAgKHN1bVNpdGUgKiArdXBkYXRlZFJlc3BvbnNlLnNpdGVzZXJ2aWNlZGlzY291bnQpIC8gMTAwO1xuICAgICAgbGV0IGFmdGVyRGlzY291bnQgPSBzdW1TaXRlIC0gZGlzY291bnRBbW91bnQgLSBhYnNvbHV0ZURpc2NvdW50O1xuICAgICAgaWYgKGNpdHkpIHtcbiAgICAgICAgaWYgKGNpdHkuaW5jbHVkZXBtZmVlICYmIHByb2plY3RNZXRhLmluY2x1ZGVwbWZlZSkge1xuICAgICAgICAgIHBtRmVlU2l0ZSA9ICh1cGRhdGVkUmVzcG9uc2Uuc2l0ZXNlcnZpY2UgKiA3KSAvIDEwMDtcbiAgICAgICAgICBwcm9qZWN0TWV0YU9ialtcInNpdGVwbWZlZVwiXSA9IHBtRmVlU2l0ZTtcbiAgICAgICAgICBhZnRlckRpc2NvdW50ICs9IHBtRmVlU2l0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZ3N0ID0gKGFmdGVyRGlzY291bnQgKiAxOCkgLyAxMDA7XG4gICAgICBjb25zdCBmaW5hbFRvdGFsID0gYWZ0ZXJEaXNjb3VudCArICtnc3Q7XG4gICAgICBzaXRlRmluYWwgPSBmaW5hbFRvdGFsO1xuICAgICAgY29uc29sZS5sb2coZmluYWxUb3RhbCk7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInByb2plY3RzaXRlc2VydmljZXN2YWx1ZVwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJzaXRlc2VydmljZWRpc2NvdW50XCJdID1cbiAgICAgICAgdXBkYXRlZFJlc3BvbnNlLnNpdGVzZXJ2aWNlZGlzY291bnQgfHwgMDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wic2l0ZXNlcnZpY2ViYXNlYW1vdW50XCJdID1cbiAgICAgICAgcGFyc2VGbG9hdChzdW1TaXRlLnRvRml4ZWQoMikpIHx8IDA7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZVZhbHVlID0gcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VCYXNlQW1vdW50ID1cbiAgICAgICAgcGFyc2VGbG9hdChzdW1TaXRlLnRvRml4ZWQoMikpIHx8IDA7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInNpdGVzZXJ2aWNlYWJzb2x1dGVkaXNjb3VudFwiXSA9IGFic29sdXRlRGlzY291bnQ7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZVRvdGFsVGF4ID0gcGFyc2VGbG9hdChnc3QudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLnNpdGVTZXJ2aWNlVG90YWxBbW91bnQgPVxuICAgICAgICBwYXJzZUZsb2F0KGZpbmFsVG90YWwudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLnNpdGVTZXJ2aWNlRGlzY291bnRlZEFtb3VudCA9XG4gICAgICAgIHBhcnNlRmxvYXQoZGlzY291bnRBbW91bnQudG9GaXhlZCgyKSkgfHwgMDtcbiAgICAgIHJlc3BvbnNlT2JqLmF0dGFjaG1lbnQgPSBhdHRhY2htZW50T2JqLmxvY2F0aW9uO1xuICAgICAgcmVzcG9uc2VPYmouZmlsZWtleSA9IGF0dGFjaG1lbnRPYmouZmlsZWtleTtcbiAgICAgIHJlc3BvbnNlT2JqLmN1c3RvbWVyTmFtZSA9IGNsaWVudE5hbWU7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZURpc2NvdW50VmFsdWUgPVxuICAgICAgICB1cGRhdGVkUmVzcG9uc2Uuc2l0ZXNlcnZpY2VkaXNjb3VudCB8fCAwO1xuICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VGaXhlZERpc2NvdW50ID0gYWJzb2x1dGVEaXNjb3VudDtcbiAgICB9XG4gICAgcHJvamVjdE1ldGFPYmpbXCJ0b3RhbHByb2plY3R2YWx1ZVwiXSA9IG1vZHVsYXJGaW5hbCArIHNpdGVGaW5hbDtcbiAgICBwcm9qZWN0TWV0YU9ialtcImFjaGlldmVkcmV2ZW51ZXZhbHVlXCJdID1cbiAgICAgIHByb2plY3RNZXRhLm1vZHVsYXJfY29sbGVjdGVkX2Ftb3VudCArXG4gICAgICBwcm9qZWN0TWV0YS5zaXRlX3NlcnZpY2VzX2NvbGxlY3RlZF9hbW91bnQ7XG4gICAgcHJvamVjdE1ldGFPYmpbXCJwZW5kaW5nYW1vdW50dmFsdWVcIl0gPVxuICAgICAgbW9kdWxhckZpbmFsICtcbiAgICAgIHNpdGVGaW5hbCAtXG4gICAgICBwcm9qZWN0TWV0YS5tb2R1bGFyX2NvbGxlY3RlZF9hbW91bnQgK1xuICAgICAgcHJvamVjdE1ldGEuc2l0ZV9zZXJ2aWNlc19jb2xsZWN0ZWRfYW1vdW50O1xuICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0TWV0YSA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGFyZ3MucHJvamVjdElkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IHByb2plY3RNZXRhT2JqLFxuICAgIH0pO1xuICAgIHJlc3BvbnNlT2JqLnRvdGFsUHJvamVjdFZhbHVlID0gdXBkYXRlZFByb2plY3RNZXRhLnRvdGFscHJvamVjdHZhbHVlO1xuICAgIHJlc3BvbnNlT2JqLmFjaGlldmVkUmV2ZW51ZVZhbHVlID0gdXBkYXRlZFByb2plY3RNZXRhLmFjaGlldmVkcmV2ZW51ZXZhbHVlO1xuICAgIHJlc3BvbnNlT2JqLnBlbmRpbmdBbW91bnRWYWx1ZSA9IHVwZGF0ZWRQcm9qZWN0TWV0YS5wZW5kaW5nYW1vdW50dmFsdWU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbWVzc2FnZTogXCJTdWNjZXNzXCIsXG4gICAgICBkYXRhOiByZXNwb25zZU9iaixcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gZnVuY2l0b25zOlxuLy8jcmVnaW9uIHJlbW92ZSBmcm9tIEJsb2IgYW5kIERCU1xuY29uc3QgcmVtb3ZlRnJvbUJsb2JBbmREQiA9IGFzeW5jIChhdHRhY2htZW50T2JqKSA9PiB7XG4gIGlmIChhdHRhY2htZW50T2JqKSB7XG4gICAgY29uc3QgYXR0YWNobWVudEZpbGVLZXkgPSBhdHRhY2htZW50T2JqLmZpbGVrZXk7XG4gICAgY29uc3QgYXdzRGVsZXRlUmVzID0gYXdhaXQgZGVsZXRlQmxvYihhdHRhY2htZW50RmlsZUtleSk7XG4gICAgaWYgKGF3c0RlbGV0ZVJlcykge1xuICAgICAgYXdhaXQgcHJpc21hLmRjX2F0dGFjaG1lbnRzLmRlbGV0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBhdHRhY2htZW50T2JqLmlkIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4vLyNlbmRyZWdpb25cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBQYXJzZSBmcm9tIFwieG1sLWpzXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBTSVRFX1NFUlZJQ0UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL2VudW1lcmF0aW9ucy9Sb29tVHlwZXNFbnVtc1wiO1xuaW1wb3J0IHsgZ2V0QnVmZmVyIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgUHJpc21hIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5pbXBvcnQgc3VwZXJhZ2VudCBmcm9tIFwic3VwZXJhZ2VudFwiO1xuaW1wb3J0IHsgYWRkUGRmVG9NaWxlc3RvbmUgfSBmcm9tIFwiLi4vY29tbW9uRnVuY3Rpb25zXCI7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVEaXNjb3VudEdlbmVyYXRlUGRmID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIC8vIGZpbmQgcHJvamVjdCAmIGN1c3RvbWVyIG1ldGEgZGF0YVxuICAgIGNvbnN0IHByb2plY3RNZXRhID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogYXJncy5wcm9qZWN0SWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghcHJvamVjdE1ldGEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJQcm9qZWN0IGRvZXMgbm90IGV4aXN0XCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwcm9qZWN0TWV0YU9iaiA9IHt9O1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9xdW90ZXMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwcm9qZWN0TWV0YS5xdW90ZWlkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiUXVvdGUgZG9lcyBub3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlc3BPYmogPSB7fTtcbiAgICBjb25zdCByb29tSWRzID0gKHJlc3Aucm9vbXNfaWRzIGFzIFByaXNtYS5Kc29uQXJyYXkpIHx8IFtdO1xuICAgIGlmIChyb29tSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSB1cGxvYWQgeG1sIHRvIGdlbmVyYXRlIHBkZlwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYXR0YWNobWVudEtleSA9IE9iamVjdC5rZXlzKHJvb21JZHNbMF0pWzBdO1xuICAgIGNvbnN0IGF0dGFjaG1lbnRWYWwgPSBPYmplY3QudmFsdWVzKHJvb21JZHNbMF0pWzBdO1xuICAgIGlmICghYXR0YWNobWVudEtleSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSB1cGxvYWQgeG1sIHRvIGdlbmVyYXRlIHBkZlwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYXR0YWNobWVudE9iaiA9IGF3YWl0IHByaXNtYS5kY19hdHRhY2htZW50cy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgbG9jYXRpb246IGF0dGFjaG1lbnRWYWwsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghYXR0YWNobWVudE9iaikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIkF0dGFjaG1lbnQgbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21lck1ldGEgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGN1c3RvbWVyaWQ6IHByb2plY3RNZXRhLmN1c3RvbWVyaWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghY3VzdG9tZXJNZXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgZG9lcyBub3QgZXhpc3RcIixcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHhtbDogYW55ID0gYXdhaXQgZ2V0QnVmZmVyKGF0dGFjaG1lbnRPYmouZmlsZWtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUGFyc2UueG1sMmpzb24oeG1sLCB7IGNvbXBhY3Q6IHRydWUsIHNwYWNlczogNCB9KTtcbiAgICBjb25zdCBtYWluT2JqID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgIC8vIGdlbmVyYXRlIHBkZiBOYW1lXG4gICAgY29uc3QgY2xpZW50SWQgPSBwcm9qZWN0TWV0YS5jbGllbnRpZCB8fCBwcm9qZWN0TWV0YS5wcm9qZWN0aWQ7XG4gICAgY29uc3QgY3VzdG9tZXJOYW1lID0gbWFpbk9iai5YTUwuT3JkZXIuSGVhZC5DT05UQUNUX0FERFJFU1MxLl90ZXh0XG4gICAgICA/IG1haW5PYmouWE1MLk9yZGVyLkhlYWQuQ09OVEFDVF9BRERSRVNTMS5fdGV4dFxuICAgICAgOiBjdXN0b21lck1ldGEuZmlyc3RuYW1lLnRyaW0oKSArIGN1c3RvbWVyTWV0YS5sYXN0bmFtZS50cmltKCk7XG4gICAgY29uc3QgcGRmTmFtZSA9IGAke2NsaWVudElkfV8ke2N1c3RvbWVyTmFtZX1gO1xuICAgIGxldCBfc2l0ZVBkZixcbiAgICAgIF9yb29tc1BkZixcbiAgICAgIHBtRmVlTW9kdWxhciA9IDAsXG4gICAgICBwbUZlZVNpdGUgPSAwLFxuICAgICAgc2l0ZUZpbmFsID0gMCxcbiAgICAgIG1vZHVsYXJGaW5hbCA9IDA7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgTG9naWMgc2hvdWxkIGJlIGFkZGVkIGZvciBlc2lnbm9mZiBhbmQgcHJvamVjdGZpbGVzIGFmdGVyIHByb2plY3QgbWFuYWdlbWVudFxuICAgIGFuZCBkZXNpZ25zaWduIG9mZiBpbXBsZW1lbnRhdGlvblxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgIGNvbnN0IGNpdHkgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBpZDogcHJvamVjdE1ldGE/LmNpdHlpZCB9LFxuICAgIH0pO1xuICAgIGlmICghY2l0eSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiQ2l0eSBub3QgZm91bmQgaW4gcHJvamVjdFwiKTtcbiAgICB9XG4gICAgLy8gUG9wdWxhdGluZyBkYXRhIGZvciBzaXRlIHNlcnZpY2UgeG1sLlxuICAgIGlmIChcbiAgICAgIHJlc3Auc2l0ZXNlcnZpY2UgJiZcbiAgICAgIHJlc3Auc2l0ZXNlcnZpY2UgIT09IDAgJiZcbiAgICAgIChhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQgfHwgYXJncy5zaXRlU2VydmljZURpc2NvdW50ID09PSAwKVxuICAgICkge1xuICAgICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudCA9IHJlc3Auc2l0ZXNlcnZpY2VhYnNvbHV0ZWRpc2NvdW50IHx8IDA7XG4gICAgICByZXNwT2JqW1wic2l0ZXNlcnZpY2VkaXNjb3VudFwiXSA9IGFyZ3Muc2l0ZVNlcnZpY2VEaXNjb3VudDtcbiAgICAgIGNvbnN0IGRpc2NvdW50QW1vdW50ID1cbiAgICAgICAgKHJlc3Auc2l0ZXNlcnZpY2UgKiBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQpIC8gMTAwO1xuICAgICAgbGV0IGFmdGVyRGlzY291bnQgPSByZXNwLnNpdGVzZXJ2aWNlIC0gZGlzY291bnRBbW91bnQgLSBhYnNvbHV0ZURpc2NvdW50O1xuICAgICAgaWYgKGNpdHkuaW5jbHVkZXBtZmVlICYmIHByb2plY3RNZXRhLmluY2x1ZGVwbWZlZSkge1xuICAgICAgICBwbUZlZVNpdGUgPSAocmVzcC5zaXRlc2VydmljZSAqIDcpIC8gMTAwO1xuICAgICAgICBwcm9qZWN0TWV0YU9ialtcInNpdGVwbWZlZVwiXSA9IHBtRmVlU2l0ZTtcbiAgICAgICAgYWZ0ZXJEaXNjb3VudCArPSBwbUZlZVNpdGU7XG4gICAgICB9XG4gICAgICBjb25zdCBnc3QgPSAoYWZ0ZXJEaXNjb3VudCAqIDE4KSAvIDEwMDtcbiAgICAgIGNvbnN0IGZpbmFsVG90YWwgPSBhZnRlckRpc2NvdW50ICsgK2dzdDtcbiAgICAgIHNpdGVGaW5hbCA9IGZpbmFsVG90YWw7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInNpdGVzZXJ2aWNlZGlzY291bnRcIl0gPSBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQ7XG4gICAgICBwcm9qZWN0TWV0YU9ialtcInByb2plY3RzaXRlc2VydmljZXN2YWx1ZVwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJzaXRlc2VydmljZWFic29sdXRlZGlzY291bnRcIl0gPSBhYnNvbHV0ZURpc2NvdW50O1xuICAgICAgY29uc3QgX3NpdGVSb29tID0gW10sXG4gICAgICAgIF9zaXRlTmFtZSA9IGAke3BkZk5hbWV9c2l0ZV9teVF1b3RlLnBkZmAsXG4gICAgICAgIHJvb21saXN0ID0gKHJlc3Aucm9vbWxpc3QgYXMgUHJpc21hLkpzb25BcnJheSkgfHwgW107XG4gICAgICByb29tbGlzdC5mb3JFYWNoKChlbGVtZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKFNJVEVfU0VSVklDRS5pbmNsdWRlcyhlbGVtZW50LnJvb21OYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgX3NpdGVSb29tLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc2l0ZVNlcnZpY2VYbWxPYmogPSB7XG4gICAgICAgIHBkZk5hbWU6IF9zaXRlTmFtZSxcbiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0TWV0YS5pZCxcbiAgICAgICAgcGFyc2VkRGF0YTogbWFpbk9iaixcbiAgICAgICAgcm9vbXNBcnJheTogX3NpdGVSb29tLFxuICAgICAgICBkaXNjb3VudDogYXJncy5zaXRlU2VydmljZURpc2NvdW50IHx8IDAsXG4gICAgICAgIGFic29sdXRlRGlzY291bnQ6IGFic29sdXRlRGlzY291bnQgfHwgMCxcbiAgICAgICAgb3Bwb3J0dW5pdHlJZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgICBpc1BtRmVlSW5jbHVkZWQ6IHByb2plY3RNZXRhLmluY2x1ZGVwbWZlZSxcbiAgICAgICAgY2l0eVBtRmVlOiBjaXR5LmluY2x1ZGVwbWZlZSxcbiAgICAgICAgY2xpZW50T3JQcm9qZWN0TmFtZTogcHJvamVjdE1ldGEucHJvamVjdG5hbWUsXG4gICAgICB9O1xuICAgICAgX3NpdGVQZGYgPSBhd2FpdCBYbWxUb1BkZihzaXRlU2VydmljZVhtbE9iaik7XG4gICAgICByZXNwT2JqW1wic2l0ZXNlcnZpY2VwZGZsb2NhdGlvblwiXSA9IHByb2plY3RNZXRhT2JqW1wic2l0ZXNlcnZpY2VwZGZsaW5rXCJdID1cbiAgICAgICAgX3NpdGVQZGYuczNMb2NhdGlvbjtcbiAgICAgIGNvbnN0IHVybEludG9NaWxlc3RvbmUgPSB7XG4gICAgICAgIGZpbGVrZXk6IF9zaXRlTmFtZSxcbiAgICAgICAgbG9jYXRpb246IF9zaXRlUGRmLnMzTG9jYXRpb24sXG4gICAgICAgIGNvbnRlbnR0eXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgICAgfTtcbiAgICAgIGFkZFBkZlRvTWlsZXN0b25lKFxuICAgICAgICBwcm9qZWN0TWV0YSxcbiAgICAgICAgXCJTaXRlIFNlcnZpY2VzIFF1b3RhdGlvblwiLFxuICAgICAgICB1cmxJbnRvTWlsZXN0b25lXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFBvcHVsYXRpbmcgZGF0YSBmb3IgYWxsIG1vZHVsYXIgeG1scy5cbiAgICBpZiAoXG4gICAgICByZXNwLm1vZHVsYXJ2YWx1ZSAmJlxuICAgICAgcmVzcC5tb2R1bGFydmFsdWUgIT09IDAgJiZcbiAgICAgIChhcmdzLm1vZHVsYXJEaXNjb3VudCB8fCBhcmdzLm1vZHVsYXJEaXNjb3VudCA9PT0gMClcbiAgICApIHtcbiAgICAgIGNvbnN0IGFic29sdXRlRGlzY291bnQgPSByZXNwLm1vZHVsYXJhYnNvbHV0ZWRpc2NvdW50IHx8IDA7XG4gICAgICByZXNwT2JqW1wibW9kdWxhcmRpc2NvdW50XCJdID0gYXJncy5tb2R1bGFyRGlzY291bnQgfHwgMDtcbiAgICAgIGNvbnN0IGRpc2NvdW50QW1vdW50ID0gKHJlc3AubW9kdWxhcnZhbHVlICogYXJncy5tb2R1bGFyRGlzY291bnQpIC8gMTAwO1xuICAgICAgbGV0IGFmdGVyRGlzY291bnQgPSByZXNwLm1vZHVsYXJ2YWx1ZSAtIGRpc2NvdW50QW1vdW50IC0gYWJzb2x1dGVEaXNjb3VudDtcbiAgICAgIGlmIChjaXR5LmluY2x1ZGVwbWZlZSAmJiBwcm9qZWN0TWV0YS5pbmNsdWRlcG1mZWUpIHtcbiAgICAgICAgcG1GZWVNb2R1bGFyID0gKHJlc3AubW9kdWxhcnZhbHVlICogNykgLyAxMDA7XG4gICAgICAgIHByb2plY3RNZXRhT2JqW1wibW9kdWxhcnBtZmVlXCJdID0gcG1GZWVNb2R1bGFyO1xuICAgICAgICBhZnRlckRpc2NvdW50ICs9IHBtRmVlTW9kdWxhcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGdzdCA9IChhZnRlckRpc2NvdW50ICogMTgpIC8gMTAwO1xuICAgICAgY29uc3QgZmluYWxUb3RhbCA9IGFmdGVyRGlzY291bnQgKyArZ3N0O1xuICAgICAgbW9kdWxhckZpbmFsID0gZmluYWxUb3RhbDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wibW9kdWxhcmRpc2NvdW50XCJdID0gYXJncy5tb2R1bGFyRGlzY291bnQgfHwgMDtcbiAgICAgIHByb2plY3RNZXRhT2JqW1wicHJvamVjdG1vZHVsYXJ2YWx1ZVwiXSA9XG4gICAgICAgIHBhcnNlRmxvYXQoZmluYWxUb3RhbC50b0ZpeGVkKDIpKSB8fCAwO1xuICAgICAgcHJvamVjdE1ldGFPYmpbXCJtb2R1bGFyYWJzb2x1dGVkaXNjb3VudFwiXSA9IGFic29sdXRlRGlzY291bnQ7XG4gICAgICBjb25zdCBfcm9vbUxpc3QgPSBbXSxcbiAgICAgICAgcm9vbXNsaXN0ID0gKHJlc3Aucm9vbWxpc3QgYXMgUHJpc21hLkpzb25BcnJheSkgfHwgW10sXG4gICAgICAgIF9tb2R1bGFyTmFtZSA9IGAke3BkZk5hbWV9bW9kdWxhcl9teVF1b3RlLnBkZmA7XG4gICAgICByb29tc2xpc3QuZm9yRWFjaCgoZWxlbWVudDogYW55KSA9PiB7XG4gICAgICAgIGlmICghU0lURV9TRVJWSUNFLmluY2x1ZGVzKGVsZW1lbnQucm9vbU5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICBfcm9vbUxpc3QucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBtb2R1bGFyWG1sT2JqID0ge1xuICAgICAgICBwZGZOYW1lOiBfbW9kdWxhck5hbWUsXG4gICAgICAgIHBhcnNlZERhdGE6IG1haW5PYmosXG4gICAgICAgIHByb2plY3RJZDogcHJvamVjdE1ldGEuaWQsXG4gICAgICAgIHJvb21zQXJyYXk6IF9yb29tTGlzdCxcbiAgICAgICAgZGlzY291bnQ6IGFyZ3MubW9kdWxhckRpc2NvdW50IHx8IDAsXG4gICAgICAgIG5hbWU6IF9tb2R1bGFyTmFtZSxcbiAgICAgICAgYWJzb2x1dGVEaXNjb3VudDogYWJzb2x1dGVEaXNjb3VudCB8fCAwLFxuICAgICAgICBvcHBvcnR1bml0eUlkOiBhcmdzLm9wcG9ydHVuaXR5SWQsXG4gICAgICAgIGlzUG1GZWVJbmNsdWRlZDogcHJvamVjdE1ldGEuaW5jbHVkZXBtZmVlLFxuICAgICAgICBjaXR5UG1GZWU6IGNpdHkuaW5jbHVkZXBtZmVlLFxuICAgICAgICBjbGllbnRPclByb2plY3ROYW1lOiBwcm9qZWN0TWV0YS5wcm9qZWN0bmFtZSxcbiAgICAgIH07XG4gICAgICBfcm9vbXNQZGYgPSBhd2FpdCBYbWxUb1BkZihtb2R1bGFyWG1sT2JqKTtcbiAgICAgIHJlc3BPYmpbXCJtb2R1bGFycGRmbG9jYXRpb25cIl0gPSBwcm9qZWN0TWV0YU9ialtcInF1b3RlbGlua1wiXSA9XG4gICAgICAgIF9yb29tc1BkZi5zM0xvY2F0aW9uO1xuICAgICAgY29uc3QgdXJsSW50b01pbGVzdG9uZSA9IHtcbiAgICAgICAgZmlsZWtleTogX21vZHVsYXJOYW1lLFxuICAgICAgICBsb2NhdGlvbjogX3Jvb21zUGRmLnMzTG9jYXRpb24sXG4gICAgICAgIGNvbnRlbnR0eXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgICAgfTtcbiAgICAgIGFkZFBkZlRvTWlsZXN0b25lKHByb2plY3RNZXRhLCBcIk1vZHVsYXIgUXVvdGF0aW9uXCIsIHVybEludG9NaWxlc3RvbmUpO1xuICAgIH1cbiAgICBwcm9qZWN0TWV0YU9ialtcInRvdGFscHJvamVjdHZhbHVlXCJdID0gbW9kdWxhckZpbmFsICsgc2l0ZUZpbmFsO1xuICAgIGNvbnN0IHNhdmVkUHJvamVjdERhdGEgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBhcmdzLnByb2plY3RJZCB9LFxuICAgICAgZGF0YTogcHJvamVjdE1ldGFPYmosXG4gICAgfSk7XG5cbiAgICBjb25zdCBxdW90ZVJlc3BvbnNlID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RfcXVvdGVzLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogcHJvamVjdE1ldGEucXVvdGVpZCB9LFxuICAgICAgZGF0YTogcmVzcE9iaixcbiAgICB9KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgIHByb2plY3RNb2R1bGFyVmFsdWU6IHNhdmVkUHJvamVjdERhdGE/LnByb2plY3Rtb2R1bGFydmFsdWUgfHwgMCxcbiAgICAgIHByb2plY3RTaXRlU2VydmljZXNWYWx1ZTogc2F2ZWRQcm9qZWN0RGF0YT8ucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlIHx8IDAsXG4gICAgICB0b3RhbFByb2plY3RWYWx1ZTogcGFyc2VGbG9hdCgobW9kdWxhckZpbmFsICsgc2l0ZUZpbmFsKS50b0ZpeGVkKDIpKSxcbiAgICAgIGFjaGlldmVkUmV2ZW51ZTogcGFyc2VGbG9hdChcbiAgICAgICAgc2F2ZWRQcm9qZWN0RGF0YS5hY2hpZXZlZHJldmVudWV2YWx1ZS50b0ZpeGVkKDIpXG4gICAgICApLFxuICAgICAgcGVuZGluZ0Ftb3VudDogcGFyc2VGbG9hdChzYXZlZFByb2plY3REYXRhLnBlbmRpbmdhbW91bnR2YWx1ZS50b0ZpeGVkKDIpKSxcbiAgICAgIGlzSW1vc1Byb2plY3Q6IHRydWUsXG4gICAgICBpZDogcHJvamVjdE1ldGE/LmlkLFxuICAgICAgbW9kdWxhckRpc2NvdW50OiBhcmdzLm1vZHVsYXJEaXNjb3VudCB8fCAwLFxuICAgICAgY2l2aWxEaXNjb3VudDogYXJncy5zaXRlU2VydmljZURpc2NvdW50IHx8IDAsXG4gICAgICBtb2R1bGFyUGRmTG9jYXRpb246IHF1b3RlUmVzcG9uc2U/Lm1vZHVsYXJwZGZsb2NhdGlvblxuICAgICAgICA/IHF1b3RlUmVzcG9uc2U/Lm1vZHVsYXJwZGZsb2NhdGlvblxuICAgICAgICA6IFwiXCIsXG4gICAgICBzaXRlU2VydmljZVBkZkxvY2F0aW9uOiBxdW90ZVJlc3BvbnNlPy5zaXRlc2VydmljZXBkZmxvY2F0aW9uXG4gICAgICAgID8gcXVvdGVSZXNwb25zZT8uc2l0ZXNlcnZpY2VwZGZsb2NhdGlvblxuICAgICAgICA6IFwiXCIsXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgbWVzc2FnZTogXCJQcm9qZWN0IGRldGFpbHMgdXBkYXRlZCBzdWNjZXNzZnVsbHkhXCIsXG4gICAgICBkYXRhOiByZXNwb25zZSxcbiAgICB9O1xuXG4gICAgLy8jcmVnaW9uIHhtbHRvcGRmXG4gICAgYXN5bmMgZnVuY3Rpb24gWG1sVG9QZGYoeG1sT2JqKSB7XG4gICAgICAvLyBnZW5lcmF0ZSBwZGYgaW4gYmFzZTY0ICYgdXBsb2FkIHRvIGJsb2IuXG4gICAgICBjb25zdCB7IHJvb21zQXJyYXkgfSA9IHhtbE9iajtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAgIC5wdXQoYCR7cHJvY2Vzcy5lbnYuUERGR0VORVJBVEV9L2dlbmVyYXRlUHJvcG9zYWxQZGZgKVxuICAgICAgICAuc2VuZCh4bWxPYmopXG4gICAgICAgIC50aW1lb3V0KDE4MDAwMClcbiAgICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb29tTGlzdDogcm9vbXNBcnJheSxcbiAgICAgICAgczNMb2NhdGlvbjogZGF0YT8uX2JvZHk/LmRhdGE/LkxvY2F0aW9uLFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcbmltcG9ydCB7IGFkZFBkZlRvTWlsZXN0b25lIH0gZnJvbSBcIi4uL2NvbW1vbkZ1bmN0aW9uc1wiO1xuaW1wb3J0IHsgUHJpc21hIH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5pbXBvcnQgeyBQYXltZW50TWlsZXN0b25lRGF0YSB9IGZyb20gXCIuLi91dGlsaXRpZXNcIjtcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0Q29tbWVyY2lhbCA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKF9jb250ZXh0LCBcIkREXCIpO1xuICAgIGNvbnN0IGlkID0gYXJncy5wcm9qZWN0SWQ7XG4gICAgY29uc3QgYWRtaW5FcnJvck1lc3NhZ2UgPVxuICAgICAgXCJQYXltZW50IG1pbGVzdG9uZXMgbm90IGZvdW5kLiBQbGVhc2UgY29udGFjdCBhZG1pbmlzdHJhdG9yXCI7XG4gICAgY29uc3QgcHJvamVjdCA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFwcm9qZWN0KSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgXCJJbnZhbGlkIFByb2plY3QgSURcIik7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvamVjdFVwZGF0ZU1vZGVsOiBhbnkgPSB7fTtcbiAgICBjb25zdCBuZXdQcm9qZWN0TW9kdWxhclZhbHVlOiBudW1iZXIgPSBNYXRoLmZsb29yKGFyZ3MucHJvamVjdE1vZHVsYXJWYWx1ZSk7XG4gICAgY29uc3QgbmV3U2l0ZVNlcnZpY2VWYWx1ZTogbnVtYmVyID0gTWF0aC5mbG9vcihcbiAgICAgIE51bWJlcihhcmdzLnByb2plY3RTaXRlU2VydmljZXNWYWx1ZSlcbiAgICApO1xuICAgIGNvbnN0IGlzUHJvamVjdE1vZHVsYXJWYWx1ZUNoYW5nZWQ6IGJvb2xlYW4gPVxuICAgICAgTnVtYmVyKG5ld1Byb2plY3RNb2R1bGFyVmFsdWUpICE9PVxuICAgICAgTWF0aC5mbG9vcihOdW1iZXIocHJvamVjdC5wcm9qZWN0bW9kdWxhcnZhbHVlKSk7XG4gICAgY29uc3QgaXNTaXRlU2VydmljZVZhbHVlQ2hhbmdlZDogYm9vbGVhbiA9XG4gICAgICBuZXdTaXRlU2VydmljZVZhbHVlICE9PVxuICAgICAgTWF0aC5mbG9vcihOdW1iZXIocHJvamVjdC5wcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWUpKTtcblxuICAgIGlmICghcHJvamVjdC5pc25ld3BheW1lbnRwcm9qZWN0KSB7XG4gICAgICBjb25zdCBwYXltZW50TWlsZXN0b25lcyA9IGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBwcm9qZWN0aWQ6IHByb2plY3QuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGlmICghcGF5bWVudE1pbGVzdG9uZXMgfHwgcGF5bWVudE1pbGVzdG9uZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBhZG1pbkVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhwYXltZW50TWlsZXN0b25lcyk7XG4gICAgICBsZXQgYWNoZWl2ZWQgPSAwO1xuICAgICAgcGF5bWVudE1pbGVzdG9uZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICBhY2hlaXZlZCArPSBlbGVtZW50LmFtb3VudHBhaWQgPyBlbGVtZW50LmFtb3VudHBhaWQgOiAwO1xuICAgICAgfSk7XG4gICAgICBwcm9qZWN0VXBkYXRlTW9kZWwucGVuZGluZ2Ftb3VudHZhbHVlID1cbiAgICAgICAgbmV3UHJvamVjdE1vZHVsYXJWYWx1ZSArIG5ld1NpdGVTZXJ2aWNlVmFsdWUgLSBhY2hlaXZlZDtcbiAgICAgIHByb2plY3RVcGRhdGVNb2RlbC5hY2hpZXZlZHJldmVudWV2YWx1ZSA9IGFjaGVpdmVkO1xuICAgICAgbGV0IG1pbGVzdG9uZTVQZXJjZW50OiBQYXltZW50TWlsZXN0b25lRGF0YSA9IG51bGw7XG4gICAgICBsZXQgbWlsZXN0b25lMTVQZXJjZW50OiBQYXltZW50TWlsZXN0b25lRGF0YSA9IG51bGw7XG4gICAgICBsZXQgbWlsZXN0b25lMzVQZXJjZW50OiBQYXltZW50TWlsZXN0b25lRGF0YSA9IG51bGw7XG4gICAgICBsZXQgbWlsZXN0b25lNDVQZXJjZW50OiBQYXltZW50TWlsZXN0b25lRGF0YSA9IG51bGw7XG5cbiAgICAgIGlmIChcbiAgICAgICAgKGlzU2l0ZVNlcnZpY2VWYWx1ZUNoYW5nZWQgfHwgaXNQcm9qZWN0TW9kdWxhclZhbHVlQ2hhbmdlZCkgJiZcbiAgICAgICAgIXByb2plY3QuaXNuZXdwYXltZW50cHJvamVjdFxuICAgICAgKSB7XG4gICAgICAgIGlmICghcGF5bWVudE1pbGVzdG9uZXMgfHwgcGF5bWVudE1pbGVzdG9uZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcigyMDEsIGFkbWluRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBwYXltZW50TWlsZXN0b25lcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgY29uc3QgT2JqOiBhbnkgPSBlbGVtZW50O1xuICAgICAgICAgIE9iai5hZGRvbmFtb3VudCA9IGVsZW1lbnQuc2l0ZXNlcnZpY2VhbW91bnQ7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuc2VxdWVuY2UgPT09IDApIHtcbiAgICAgICAgICAgIG1pbGVzdG9uZTVQZXJjZW50ID0gT2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWxlbWVudC5zZXF1ZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgbWlsZXN0b25lMTVQZXJjZW50ID0gT2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWxlbWVudC5zZXF1ZW5jZSA9PT0gMikge1xuICAgICAgICAgICAgbWlsZXN0b25lMzVQZXJjZW50ID0gT2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWxlbWVudC5zZXF1ZW5jZSA9PT0gMykge1xuICAgICAgICAgICAgbWlsZXN0b25lNDVQZXJjZW50ID0gT2JqO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlTWlsZXN0b25lNVBlcmNlbnQ6IFBheW1lbnRNaWxlc3RvbmVEYXRhID0gSlNPTi5wYXJzZShcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShtaWxlc3RvbmU1UGVyY2VudClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdXBkYXRlTWlsZXN0b25lMTVQZXJjZW50OiBQYXltZW50TWlsZXN0b25lRGF0YSA9IEpTT04ucGFyc2UoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWlsZXN0b25lMTVQZXJjZW50KVxuICAgICAgICApO1xuICAgICAgICBjb25zdCB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQ6IFBheW1lbnRNaWxlc3RvbmVEYXRhID0gSlNPTi5wYXJzZShcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShtaWxlc3RvbmUzNVBlcmNlbnQpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudDogUGF5bWVudE1pbGVzdG9uZURhdGEgPSBKU09OLnBhcnNlKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG1pbGVzdG9uZTQ1UGVyY2VudClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICF1cGRhdGVNaWxlc3RvbmU1UGVyY2VudCB8fFxuICAgICAgICAgICF1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQgfHxcbiAgICAgICAgICAhdXBkYXRlTWlsZXN0b25lMzVQZXJjZW50IHx8XG4gICAgICAgICAgIXVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudFxuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDIwMSwgYWRtaW5FcnJvck1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Byb2plY3RNb2R1bGFyVmFsdWVDaGFuZ2VkIHx8IGFyZ3MuaXNJbW9zUHJvamVjdCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHQ1UGVyY2VudEFtb3VudDogbnVtYmVyID0gbmV3UHJvamVjdE1vZHVsYXJWYWx1ZSAqIDAuMDU7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdDE1UGVyY2VudEFtb3VudCA9IG5ld1Byb2plY3RNb2R1bGFyVmFsdWUgKiAwLjE1O1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHQzNVBlcmNlbnRBbW91bnQgPSBuZXdQcm9qZWN0TW9kdWxhclZhbHVlICogMC4zNTtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0NDVQZXJjZW50QW1vdW50ID0gbmV3UHJvamVjdE1vZHVsYXJWYWx1ZSAqIDAuNDU7XG4gICAgICAgICAgLy8gV2hlbiBub25lIG9mIE1pbGVzdG9uZSBpcyBmcmVlemVkXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1pbGVzdG9uZTVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmUxNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgIW1pbGVzdG9uZTM1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICAhbWlsZXN0b25lNDVQZXJjZW50Py5pc2ZyZWV6ZWRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTVQZXJjZW50Lm1vZHVsYXJhbW91bnQgPSBkZWZhdWx0NVBlcmNlbnRBbW91bnQ7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQubW9kdWxhcmFtb3VudCA9IGRlZmF1bHQxNVBlcmNlbnRBbW91bnQ7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQubW9kdWxhcmFtb3VudCA9IGRlZmF1bHQzNVBlcmNlbnRBbW91bnQ7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmU0NVBlcmNlbnQubW9kdWxhcmFtb3VudCA9IGRlZmF1bHQ0NVBlcmNlbnRBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdoZW4gNSUgaXMgZnJlZXplZFxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG1pbGVzdG9uZTVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmUxNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgIW1pbGVzdG9uZTM1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICAhbWlsZXN0b25lNDVQZXJjZW50Py5pc2ZyZWV6ZWRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IG5ldzE1UGVyY2VudE1pbGVzdG9uZUFtb3VudCA9XG4gICAgICAgICAgICAgIGRlZmF1bHQxNVBlcmNlbnRBbW91bnQgK1xuICAgICAgICAgICAgICAoZGVmYXVsdDVQZXJjZW50QW1vdW50IC1cbiAgICAgICAgICAgICAgICAobWlsZXN0b25lNVBlcmNlbnQuZnJlZXplZG1vZHVsYXIgK1xuICAgICAgICAgICAgICAgICAgbWlsZXN0b25lNVBlcmNlbnQuZnJlZXplZHNpdGVzZXJ2aWNlKSk7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQubW9kdWxhcmFtb3VudCA9XG4gICAgICAgICAgICAgIG5ldzE1UGVyY2VudE1pbGVzdG9uZUFtb3VudDtcbiAgICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTM1UGVyY2VudC5tb2R1bGFyYW1vdW50ID0gZGVmYXVsdDM1UGVyY2VudEFtb3VudDtcbiAgICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5tb2R1bGFyYW1vdW50ID0gZGVmYXVsdDQ1UGVyY2VudEFtb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2hlbiA1JSAgYW5kIDE1JSBpcyBmcmVlemVkXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbWlsZXN0b25lNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgbWlsZXN0b25lMTVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmUzNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgIW1pbGVzdG9uZTQ1UGVyY2VudD8uaXNmcmVlemVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBuZXczNVBlcmNlbnRNaWxlc3RvbmVBbW91bnQgPVxuICAgICAgICAgICAgICBkZWZhdWx0MzVQZXJjZW50QW1vdW50ICtcbiAgICAgICAgICAgICAgKGRlZmF1bHQ1UGVyY2VudEFtb3VudCAtXG4gICAgICAgICAgICAgICAgKG1pbGVzdG9uZTVQZXJjZW50LmZyZWV6ZWRtb2R1bGFyICtcbiAgICAgICAgICAgICAgICAgIG1pbGVzdG9uZTVQZXJjZW50LmZyZWV6ZWRzaXRlc2VydmljZSkpICtcbiAgICAgICAgICAgICAgKGRlZmF1bHQxNVBlcmNlbnRBbW91bnQgLVxuICAgICAgICAgICAgICAgIChtaWxlc3RvbmUxNVBlcmNlbnQuZnJlZXplZG1vZHVsYXIgK1xuICAgICAgICAgICAgICAgICAgbWlsZXN0b25lMTVQZXJjZW50LmZyZWV6ZWRzaXRlc2VydmljZSkpO1xuXG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQubW9kdWxhcmFtb3VudCA9XG4gICAgICAgICAgICAgIG5ldzM1UGVyY2VudE1pbGVzdG9uZUFtb3VudDtcbiAgICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5tb2R1bGFyYW1vdW50ID0gZGVmYXVsdDQ1UGVyY2VudEFtb3VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2hlbiA1JSwgMTUlICBhbmQgMzUlIGlzIGZyZWV6ZWRcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtaWxlc3RvbmU1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICBtaWxlc3RvbmUxNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgbWlsZXN0b25lMzVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmU0NVBlcmNlbnQ/LmlzZnJlZXplZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbmV3NDVQZXJjZW50TWlsZXN0b25lQW1vdW50ID1cbiAgICAgICAgICAgICAgZGVmYXVsdDQ1UGVyY2VudEFtb3VudCArXG4gICAgICAgICAgICAgIChkZWZhdWx0NVBlcmNlbnRBbW91bnQgLVxuICAgICAgICAgICAgICAgIChtaWxlc3RvbmU1UGVyY2VudC5mcmVlemVkbW9kdWxhciArXG4gICAgICAgICAgICAgICAgICBtaWxlc3RvbmU1UGVyY2VudC5mcmVlemVkc2l0ZXNlcnZpY2UpICtcbiAgICAgICAgICAgICAgICAoZGVmYXVsdDE1UGVyY2VudEFtb3VudCAtXG4gICAgICAgICAgICAgICAgICAobWlsZXN0b25lMTVQZXJjZW50LmZyZWV6ZWRtb2R1bGFyICtcbiAgICAgICAgICAgICAgICAgICAgbWlsZXN0b25lMTVQZXJjZW50LmZyZWV6ZWRzaXRlc2VydmljZSkpICtcbiAgICAgICAgICAgICAgICAoZGVmYXVsdDM1UGVyY2VudEFtb3VudCAtXG4gICAgICAgICAgICAgICAgICAobWlsZXN0b25lMzVQZXJjZW50LmZyZWV6ZWRtb2R1bGFyICtcbiAgICAgICAgICAgICAgICAgICAgbWlsZXN0b25lMzVQZXJjZW50LmZyZWV6ZWRzaXRlc2VydmljZSkpKTtcblxuICAgICAgICAgICAgdXBkYXRlTWlsZXN0b25lNDVQZXJjZW50Lm1vZHVsYXJhbW91bnQgPVxuICAgICAgICAgICAgICBuZXc0NVBlcmNlbnRNaWxlc3RvbmVBbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgQWRkT25JcyBDaGFuZ2VkXG4gICAgICAgIGlmIChpc1NpdGVTZXJ2aWNlVmFsdWVDaGFuZ2VkIHx8IGFyZ3MuaXNJbW9zUHJvamVjdCkge1xuICAgICAgICAgIGNvbnN0IGRlZmF1bHROZXcxNVBlcmNlbnRBZGRPbkFtb3VudCA9IG5ld1NpdGVTZXJ2aWNlVmFsdWUgKiAwLjU7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdE5ldzQ1UGVyY2VudEFkZE9uQW1vdW50ID0gbmV3U2l0ZVNlcnZpY2VWYWx1ZSAqIDAuNTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtaWxlc3RvbmU1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICAhbWlsZXN0b25lMTVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmUzNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgIW1pbGVzdG9uZTQ1UGVyY2VudD8uaXNmcmVlemVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQuYWRkb25hbW91bnQgPVxuICAgICAgICAgICAgICBkZWZhdWx0TmV3MTVQZXJjZW50QWRkT25BbW91bnQ7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuYWRkb25hbW91bnQgPSAwO1xuICAgICAgICAgICAgdXBkYXRlTWlsZXN0b25lNDVQZXJjZW50LmFkZG9uYW1vdW50ID1cbiAgICAgICAgICAgICAgZGVmYXVsdE5ldzQ1UGVyY2VudEFkZE9uQW1vdW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG1pbGVzdG9uZTVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgIG1pbGVzdG9uZTE1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICAhbWlsZXN0b25lMzVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmU0NVBlcmNlbnQ/LmlzZnJlZXplZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbmV3MzVQZXJjZW50QWRkT25BbW91bnQgPVxuICAgICAgICAgICAgICBkZWZhdWx0TmV3MTVQZXJjZW50QWRkT25BbW91bnQgLSBtaWxlc3RvbmUxNVBlcmNlbnQuYWRkb25hbW91bnQ7XG4gICAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuYWRkb25hbW91bnQgPSBuZXczNVBlcmNlbnRBZGRPbkFtb3VudDtcbiAgICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5hZGRvbmFtb3VudCA9XG4gICAgICAgICAgICAgIGRlZmF1bHROZXc0NVBlcmNlbnRBZGRPbkFtb3VudDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBtaWxlc3RvbmU1UGVyY2VudD8uaXNmcmVlemVkICYmXG4gICAgICAgICAgICBtaWxlc3RvbmUxNVBlcmNlbnQ/LmlzZnJlZXplZCAmJlxuICAgICAgICAgICAgbWlsZXN0b25lMzVQZXJjZW50Py5pc2ZyZWV6ZWQgJiZcbiAgICAgICAgICAgICFtaWxlc3RvbmU0NVBlcmNlbnQ/LmlzZnJlZXplZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgbmV3NDVQZXJjZW50QWRkT25BbW91bnQgPVxuICAgICAgICAgICAgICBuZXdTaXRlU2VydmljZVZhbHVlIC1cbiAgICAgICAgICAgICAgbWlsZXN0b25lMTVQZXJjZW50LmFkZG9uYW1vdW50IC1cbiAgICAgICAgICAgICAgbWlsZXN0b25lMzVQZXJjZW50LmFkZG9uYW1vdW50O1xuICAgICAgICAgICAgdXBkYXRlTWlsZXN0b25lNDVQZXJjZW50LmFkZG9uYW1vdW50ID0gbmV3NDVQZXJjZW50QWRkT25BbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIFRvdGFsXG4gICAgICAgIGlmICghdXBkYXRlTWlsZXN0b25lNVBlcmNlbnQ/LmlzZnJlZXplZCkge1xuICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTVQZXJjZW50LnRvdGFscGF5YWJsZWFtb3VudCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lNVBlcmNlbnQubW9kdWxhcmFtb3VudCkgK1xuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lNVBlcmNlbnQuYWRkb25hbW91bnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICB1cGRhdGVNaWxlc3RvbmU1UGVyY2VudC5hbW91bnRkdWUgPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTVQZXJjZW50LnRvdGFscGF5YWJsZWFtb3VudCkgLVxuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lNVBlcmNlbnQuYW1vdW50cGFpZCkgLVxuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lNVBlcmNlbnQuYWR2YW5jZWFtb3VudClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXBkYXRlTWlsZXN0b25lMTVQZXJjZW50Py5pc2ZyZWV6ZWQpIHtcbiAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQudG90YWxwYXlhYmxlYW1vdW50ID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIE51bWJlcih1cGRhdGVNaWxlc3RvbmUxNVBlcmNlbnQubW9kdWxhcmFtb3VudCkgK1xuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LmFkZG9uYW1vdW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LmFtb3VudGR1ZSA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LnRvdGFscGF5YWJsZWFtb3VudCkgLVxuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LmFtb3VudHBhaWQpIC1cbiAgICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTE1UGVyY2VudC5hZHZhbmNlYW1vdW50KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQ/LmlzZnJlZXplZCkge1xuICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTM1UGVyY2VudC50b3RhbHBheWFibGVhbW91bnQgPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTM1UGVyY2VudC5tb2R1bGFyYW1vdW50KSArXG4gICAgICAgICAgICAgIE51bWJlcih1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuYWRkb25hbW91bnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuYW1vdW50ZHVlID0gTWF0aC5mbG9vcihcbiAgICAgICAgICAgIE51bWJlcih1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQudG90YWxwYXlhYmxlYW1vdW50KSAtXG4gICAgICAgICAgICAgIE51bWJlcih1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuYW1vdW50cGFpZCkgLVxuICAgICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lMzVQZXJjZW50LmFkdmFuY2VhbW91bnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudD8uaXNmcmVlemVkKSB7XG4gICAgICAgICAgdXBkYXRlTWlsZXN0b25lNDVQZXJjZW50LnRvdGFscGF5YWJsZWFtb3VudCA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICBOdW1iZXIodXBkYXRlTWlsZXN0b25lNDVQZXJjZW50Lm1vZHVsYXJhbW91bnQpICtcbiAgICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5hZGRvbmFtb3VudClcbiAgICAgICAgICApO1xuICAgICAgICAgIHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5hbW91bnRkdWUgPSBNYXRoLmZsb29yKFxuICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC50b3RhbHBheWFibGVhbW91bnQpIC1cbiAgICAgICAgICAgICAgTnVtYmVyKHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5hbW91bnRwYWlkKSAtXG4gICAgICAgICAgICAgIE51bWJlcih1cGRhdGVNaWxlc3RvbmU0NVBlcmNlbnQuYWR2YW5jZWFtb3VudClcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSBOZXcgVmFsdWVzXG4gICAgICAgIGNvbnN0IGlkNVBlcmNlbnQgPSB1cGRhdGVNaWxlc3RvbmU1UGVyY2VudC5pZDtcbiAgICAgICAgZGVsZXRlIHVwZGF0ZU1pbGVzdG9uZTVQZXJjZW50LmlkO1xuICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiBpZDVQZXJjZW50IH0sXG4gICAgICAgICAgZGF0YTogdXBkYXRlTWlsZXN0b25lNVBlcmNlbnQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGlkMTVQZXJjZW50ID0gdXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LmlkO1xuICAgICAgICBkZWxldGUgdXBkYXRlTWlsZXN0b25lMTVQZXJjZW50LmlkO1xuICAgICAgICBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudG1pbGVzdG9uZS51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiBpZDE1UGVyY2VudCB9LFxuICAgICAgICAgIGRhdGE6IHVwZGF0ZU1pbGVzdG9uZTE1UGVyY2VudCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaWQzNVBlcmNlbnQgPSB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuaWQ7XG4gICAgICAgIGRlbGV0ZSB1cGRhdGVNaWxlc3RvbmUzNVBlcmNlbnQuaWQ7XG4gICAgICAgIGF3YWl0IHByaXNtYS5kY19wYXltZW50bWlsZXN0b25lLnVwZGF0ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IGlkMzVQZXJjZW50IH0sXG4gICAgICAgICAgZGF0YTogdXBkYXRlTWlsZXN0b25lMzVQZXJjZW50LFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpZDQ1UGVyY2VudCA9IHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5pZDtcbiAgICAgICAgZGVsZXRlIHVwZGF0ZU1pbGVzdG9uZTQ1UGVyY2VudC5pZDtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3BheW1lbnRtaWxlc3RvbmUudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogaWQ0NVBlcmNlbnQgfSxcbiAgICAgICAgICBkYXRhOiB1cGRhdGVNaWxlc3RvbmU0NVBlcmNlbnQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLy8gVXBkYXRlIFByb2plY3QgVmFsdWVcbiAgICAgIHByb2plY3RVcGRhdGVNb2RlbC5wcm9qZWN0bW9kdWxhcnZhbHVlID0gbmV3UHJvamVjdE1vZHVsYXJWYWx1ZTtcbiAgICAgIGlmIChhcmdzLnByb2plY3RTaXRlU2VydmljZXNWYWx1ZSkge1xuICAgICAgICBwcm9qZWN0VXBkYXRlTW9kZWwucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlID1cbiAgICAgICAgICBhcmdzLnByb2plY3RTaXRlU2VydmljZXNWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBpc1NpdGVTZXJ2aWNlVmFsdWVDaGFuZ2VkIHx8XG4gICAgICBpc1Byb2plY3RNb2R1bGFyVmFsdWVDaGFuZ2VkIHx8XG4gICAgICBhcmdzLmlzSW1vc1Byb2plY3RcbiAgICApIHtcbiAgICAgIHByb2plY3RVcGRhdGVNb2RlbC5wcm9qZWN0bW9kdWxhcnZhbHVlID0gbmV3UHJvamVjdE1vZHVsYXJWYWx1ZTtcbiAgICAgIGlmIChhcmdzLnByb2plY3RTaXRlU2VydmljZXNWYWx1ZSkge1xuICAgICAgICBwcm9qZWN0VXBkYXRlTW9kZWwucHJvamVjdHNpdGVzZXJ2aWNlc3ZhbHVlID1cbiAgICAgICAgICBhcmdzLnByb2plY3RTaXRlU2VydmljZXNWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2plY3QuaXNuZXdwYXltZW50cHJvamVjdCkge1xuICAgICAgcHJvamVjdFVwZGF0ZU1vZGVsLnBlbmRpbmdhbW91bnR2YWx1ZSA9XG4gICAgICAgIG5ld1Byb2plY3RNb2R1bGFyVmFsdWUgK1xuICAgICAgICBuZXdTaXRlU2VydmljZVZhbHVlIC1cbiAgICAgICAgKHByb2plY3QubW9kdWxhcl9jb2xsZWN0ZWRfYW1vdW50ICtcbiAgICAgICAgICBwcm9qZWN0LnNpdGVfc2VydmljZXNfY29sbGVjdGVkX2Ftb3VudCk7XG4gICAgICBwcm9qZWN0VXBkYXRlTW9kZWwuYWNoaWV2ZWRyZXZlbnVldmFsdWUgPVxuICAgICAgICBwcm9qZWN0Lm1vZHVsYXJfY29sbGVjdGVkX2Ftb3VudCArXG4gICAgICAgIHByb2plY3Quc2l0ZV9zZXJ2aWNlc19jb2xsZWN0ZWRfYW1vdW50O1xuICAgIH1cblxuICAgIHByb2plY3RVcGRhdGVNb2RlbC5tb2R1bGFyZGlzY291bnQgPSBhcmdzLm1vZHVsYXJEaXNjb3VudCB8fCAwO1xuICAgIHByb2plY3RVcGRhdGVNb2RlbC5zaXRlc2VydmljZWRpc2NvdW50ID0gYXJncy5jaXZpbERpc2NvdW50IHx8IDA7XG4gICAgcHJvamVjdFVwZGF0ZU1vZGVsLnRvdGFscHJvamVjdHZhbHVlID1cbiAgICAgIG5ld1Byb2plY3RNb2R1bGFyVmFsdWUgKyBuZXdTaXRlU2VydmljZVZhbHVlO1xuICAgIHByb2plY3RVcGRhdGVNb2RlbC51cGRhdGVkYXRlID0gbmV3IERhdGUoKTtcblxuICAgIGlmICghYXJncy5pc0ltb3NQcm9qZWN0KSB7XG4gICAgICBpZiAoIWFyZ3MubW9kdWxhclBkZkpzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiTW9kdWxhciBwZGYgaWYgcmVxdWlyZWQuXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGFyZ3MubW9kdWxhclBkZkpzb24pIHtcbiAgICAgICAgaWYgKCFhcmdzLm1vZHVsYXJQZGZKc29uLmZpbGVLZXkgfHwgIWFyZ3MubW9kdWxhclBkZkpzb24ubG9jYXRpb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJQbGVhc2UgdXBsb2FkIG1vZHVsYXIgcXVvdGF0aW9uIHBkZiBmaWxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdHRhY2htZW50ID0ge1xuICAgICAgICAgIGtleTogYXJncy5tb2R1bGFyUGRmSnNvbi5maWxlS2V5LFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgICAgICAgIGxvY2F0aW9uOiBhcmdzLm1vZHVsYXJQZGZKc29uLmxvY2F0aW9uXG4gICAgICAgIH07XG4gICAgICAgIHByb2plY3RVcGRhdGVNb2RlbC5xdW90ZWxpbmsgPSBhcmdzLm1vZHVsYXJQZGZKc29uLmxvY2F0aW9uO1xuXG4gICAgICAgIGFkZFBkZlRvTWlsZXN0b25lKHByb2plY3QsIFwiTW9kdWxhciBRdW90YXRpb25cIiwgYXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoYXJncy5zaXRlU2VydmljZVBkZkpzb24pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFhcmdzLnNpdGVTZXJ2aWNlUGRmSnNvbi5maWxlS2V5IHx8XG4gICAgICAgICAgIWFyZ3Muc2l0ZVNlcnZpY2VQZGZKc29uLmxvY2F0aW9uXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIlBsZWFzZSB1cGxvYWQgc2l0ZSBxdW90YXRpb24gcGRmIGZpbGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB7XG4gICAgICAgICAga2V5OiBhcmdzLnNpdGVTZXJ2aWNlUGRmSnNvbi5maWxlS2V5LFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3BkZlwiLFxuICAgICAgICAgIGxvY2F0aW9uOiBhcmdzLnNpdGVTZXJ2aWNlUGRmSnNvbi5sb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgICBwcm9qZWN0VXBkYXRlTW9kZWwuc2l0ZXNlcnZpY2VwZGZsaW5rID0gYXJncy5zaXRlU2VydmljZVBkZkpzb24ubG9jYXRpb247XG4gICAgICAgIGFkZFBkZlRvTWlsZXN0b25lKHByb2plY3QsIFwiU2l0ZSBTZXJ2aWNlcyBRdW90YXRpb25cIiwgYXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRQcm9qZWN0ID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogaWQgfSxcbiAgICAgIGRhdGE6IHByb2plY3RVcGRhdGVNb2RlbCxcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB1cGRhdGVkUHJvamVjdCxcbiAgICAgIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgYWRkUHJvamVjdCB9IGZyb20gXCIuLi8uLi8uLi9wcm9qZWN0cy9NdXRhdGlvbnMvQWRkUHJvamVjdFwiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcbmltcG9ydCB7XG4gIGV4cGVyaWVuY2VjZW50ZXJzLFxuICBPZG9vU3RhdGVJRCxcbiAgZ2V0T2Rvb0dyb3VwSUQsXG4gIGdldE9kb29TdHVkaW9JRCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2NvbW1vblV0aWxzXCI7XG5jb25zdCBjb250ZW50VHlwZSA9IFwiYXBwbGljYXRpb24vanNvblwiO1xuY29uc3QgY29udGVudFR5cGVTdHJpbmcgPSBcIkNvbnRlbnQtVHlwZVwiO1xuXG5leHBvcnQgY29uc3QgYWNjZXB0UHJvcG9zYWwgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGNvbnN0IGFjY2VwdFByb3Bvc2FsUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogbnVsbCB9O1xuICBjb25zdCB7IHF1b3RlSWQsIHByb3Bvc2FsU3RhdHVzIH0gPSBhcmdzO1xuICB0cnkge1xuICAgIGlmIChwcm9wb3NhbFN0YXR1cyA9PT0gXCJBY2NlcHRcIikge1xuICAgICAgY29uc3QgcXVvdGVEYXRhID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHNmaWQ6IHF1b3RlSWQgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHF1b3RlRGF0YSkge1xuICAgICAgICAvL0NyZWF0ZSBEcmFmdCBQcm9qZWN0XG4gICAgICAgIGNvbnN0IGFkZFByb2plY3RSZXNwb25zZSA9IGF3YWl0IGNyZWF0ZURyYWZ0UHJvamVjdEZvckN1c3RvbWVyKFxuICAgICAgICAgIHF1b3RlRGF0YVxuICAgICAgICApO1xuICAgICAgICBpZiAoYWRkUHJvamVjdFJlc3BvbnNlLmNvZGUgIT09IDIwMCkge1xuICAgICAgICAgIGFjY2VwdFByb3Bvc2FsUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgICBhY2NlcHRQcm9wb3NhbFJlc3BvbnNlLm1lc3NhZ2UgPSBhZGRQcm9qZWN0UmVzcG9uc2UubWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gYWNjZXB0UHJvcG9zYWxSZXNwb25zZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHByaXNtYS5xdW90ZS51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IHNmaWQ6IHF1b3RlSWQgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzdGF0dXM6IFwiYWNjZXB0ZWRcIixcbiAgICAgICAgICAgIGxhdGVzdF9xdW90ZV9fYzogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYWNjZXB0UHJvcG9zYWxSZXNwb25zZS5jb2RlID0gMjAwO1xuICAgICAgICBhY2NlcHRQcm9wb3NhbFJlc3BvbnNlLm1lc3NhZ2UgPVxuICAgICAgICAgIFwiUXVvdGUgQWNjZXB0ZWQgU3VjY2Vzc2Z1bGx5LFByb2plY3QgQ3JlYXRlZCBTdWNjZXNzZnVsbHlcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjY2VwdFByb3Bvc2FsUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICAgICAgYWNjZXB0UHJvcG9zYWxSZXNwb25zZS5tZXNzYWdlID0gXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBhY2NlcHRQcm9wb3NhbFJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgYWNjZXB0UHJvcG9zYWxSZXNwb25zZS5tZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gYWNjZXB0UHJvcG9zYWxSZXNwb25zZTtcbn07XG5cbmNvbnN0IGNyZWF0ZURyYWZ0UHJvamVjdEZvckN1c3RvbWVyID0gYXN5bmMgKHF1b3RlRGF0YSkgPT4ge1xuICBjb25zdCBjcmVhdGVQcm9qZWN0RHJhZnRTdGF0dXMgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogbnVsbCB9O1xuXG4gIGNvbnN0IG9wcG9ydHVuaXR5RGF0YSA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7XG4gICAgICBzZmlkOiBxdW90ZURhdGEub3Bwb3J0dW5pdHlpZCxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIW9wcG9ydHVuaXR5RGF0YSkge1xuICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5jb2RlID0gNDAwO1xuICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5tZXNzYWdlID1cbiAgICAgIFwiT3Bwb3J0dW5pdHkgbm90IGZvdW5kLFByb2plY3Qgbm90IENyZWF0ZWRcIjtcbiAgICByZXR1cm4gY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzO1xuICB9XG5cbiAgY29uc3QgY3VzdG9tZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX2N1c3RvbWVyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHtcbiAgICAgIE9SOiBbeyBjdXN0b21lcnBob25lOiBvcHBvcnR1bml0eURhdGEubW9iaWxlX19jIH1dLFxuICAgIH0sXG4gICAgaW5jbHVkZToge1xuICAgICAgYWRkcmVzc2VzOiB0cnVlLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKDgwLCBjdXN0b21lckRhdGEpO1xuXG4gIGlmICghY3VzdG9tZXJEYXRhKSB7XG4gICAgY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzLmNvZGUgPSA0MDA7XG4gICAgY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzLm1lc3NhZ2UgPSBcIkN1c3RvbWVyIE5vdCBGb3VuZCxQcm9qZWN0IG5vdCBDcmVhdGVkXCI7XG4gICAgcmV0dXJuIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cztcbiAgfVxuXG4gIGNvbnN0IGNyZWF0ZUN1c3RvbWVyUmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVDdXRvbWVyT25PZG9vKGN1c3RvbWVyRGF0YSk7XG5cbiAgaWYgKGNyZWF0ZUN1c3RvbWVyUmVzcG9uc2UuY29kZSAhPT0gMjAwKSB7XG4gICAgaWYgKGNyZWF0ZUN1c3RvbWVyUmVzcG9uc2UubWVzc2FnZS5pbmNsdWRlcyhcImNvbnRhY3RfaWRcIikpIHtcbiAgICAgIGNvbnNvbGUubG9nKGNyZWF0ZUN1c3RvbWVyUmVzcG9uc2UubWVzc2FnZSk7XG4gICAgICBjb25zdCBvZG9vQ29udGFjdElkID1cbiAgICAgICAgY3JlYXRlQ3VzdG9tZXJSZXNwb25zZS5tZXNzYWdlLnNwbGl0KFwiY29udGFjdF9pZFwiKVsxXTtcbiAgICAgIGNvbnNvbGUubG9nKDkyLCBvZG9vQ29udGFjdElkKTtcbiAgICAgIGF3YWl0IHVwZGF0ZUNvbnRhY3RJZEZvck9kb29Gb3JDdXN0b21lcihcbiAgICAgICAgY3VzdG9tZXJEYXRhLmN1c3RvbWVyaWQsXG4gICAgICAgIG9kb29Db250YWN0SWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5jb2RlID0gNDAwO1xuICAgICAgY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzLm1lc3NhZ2UgPSBgQ3VzdG9tZXIgTm90IENyZWF0ZWQgT24gT2RvbyA6ICR7Y3JlYXRlQ3VzdG9tZXJSZXNwb25zZS5tZXNzYWdlfWA7XG4gICAgICByZXR1cm4gY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHtcbiAgICAgIHNhbGVzZm9yY2V1c2VyaWQ6IG9wcG9ydHVuaXR5RGF0YS5kZXNpZ25fdXNlcl9fYyxcbiAgICB9LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIHVzZXJzX2NpdHk6IHtcbiAgICAgICAgaW5jbHVkZTogeyBjaXR5OiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnM6IHtcbiAgICAgICAgaW5jbHVkZTogeyBjZW50ZXI6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICB1c2Vyc190ZWFtOiB7XG4gICAgICAgIGluY2x1ZGU6IHsgdGVhbTogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIXVzZXJEYXRhKSB7XG4gICAgY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzLmNvZGUgPSA0MDA7XG4gICAgY3JlYXRlUHJvamVjdERyYWZ0U3RhdHVzLm1lc3NhZ2UgPSBcIkRlc2lnbmVyIE5vdCBGb3VuZCxQcm9qZWN0IG5vdCBDcmVhdGVkXCI7XG4gICAgcmV0dXJuIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cztcbiAgfVxuICBjb25zdCBjdXN0b21lck5hbWUgPSAgZ2V0Q3VzdG9tZXJOYW1lKGN1c3RvbWVyRGF0YSlcblxuICBjb25zdCBhZGRQcm9qZWN0UGF5bG9hZDogYW55ID0ge1xuICAgIHByb2plY3RpZDogb3Bwb3J0dW5pdHlEYXRhLmN1c3RvbWVyX2lkX19jLFxuICAgIHByb2plY3RuYW1lOiBgREMtJHtjdXN0b21lck5hbWV9ICR7b3Bwb3J0dW5pdHlEYXRhLmN1c3RvbWVyX2lkX19jfWAsXG4gICAgdG90YWxwcm9qZWN0dmFsdWU6XG4gICAgICBxdW90ZURhdGEubW9kdWxhcl9hbW91bnRfZGlzX2luY2xfZ3N0X19jICtcbiAgICAgIHF1b3RlRGF0YS5zaXRlX3NlcnZpY2VzX2Ftb3VudF9kaXNfaW5jbF9nc3RfX2MsXG4gICAgcHJvamVjdHN0YXR1czogXCJEcmFmdFwiLFxuICAgIGN1c3RvbWVyaWQ6IGN1c3RvbWVyRGF0YS5jdXN0b21lcmlkLFxuICAgIGRlc2lnbmVyaWQ6IHVzZXJEYXRhLnVzZXJpZCxcbiAgICBzaWdudXBhbW91bnQ6IDAsXG4gICAgb3Bwb3J0dW5pdHlpZDogb3Bwb3J0dW5pdHlEYXRhLnNmaWQsXG4gICAgaXNpbW9zcHJvamVjdDogcXVvdGVEYXRhLmlzX2ltb3NfcHJvamVjdF9fYyxcbiAgICBtb2R1bGFyYmFzZWFtb3VudDogcXVvdGVEYXRhLm1vZHVsYXJfYW1vdW50X19jLFxuICAgIHByb2plY3Rtb2R1bGFydmFsdWU6IHF1b3RlRGF0YS5tb2R1bGFyX2Ftb3VudF9kaXNfaW5jbF9nc3RfX2MsXG4gICAgbW9kdWxhcmRpc2NvdW50OiBxdW90ZURhdGEubW9kdWxhcl9kaXNjb3VudF9fYyxcbiAgICBzaXRlc2VydmljZWJhc2VhbW91bnQ6IHF1b3RlRGF0YS5zaXRlX3NlcnZpY2VzX2Ftb3VudF9fYyxcbiAgICBwcm9qZWN0c2l0ZXNlcnZpY2VzdmFsdWU6IHF1b3RlRGF0YS5zaXRlX3NlcnZpY2VzX2Ftb3VudF9kaXNfaW5jbF9nc3RfX2MsXG4gICAgc2l0ZXNlcnZpY2VkaXNjb3VudDogcXVvdGVEYXRhLnNpdGVfc2VydmljZXNfZGlzY291bnRfX2MsXG4gICAgY2l0eWlkOiB1c2VyRGF0YS51c2Vyc19jaXR5WzBdLmNpdHlpZCxcbiAgICBkZXNpZ25zdHVkaW9pZDogdXNlckRhdGEudXNlcnNfdGVhbVswXS50ZWFtaWQsXG4gICAgZXhwZXJpZW5jZWNlbnRlcmlkOiB1c2VyRGF0YS51c2Vyc19leHBlcmllbmNlY2VudGVyc1swXS5jZW50ZXJpZCxcbiAgICBjdXJyZW50bWlsZXN0b25lOiBcIlByb2plY3QgU2lnbnVwXCIsXG4gICAgaG9tZXR5cGU6IG9wcG9ydHVuaXR5RGF0YS5ob21lX3R5cGVfX2MsXG4gICAgaXNuZXdwYXltZW50cHJvamVjdDogdHJ1ZSxcbiAgICBtb2R1bGFyYW1vdW50Z3N0OiBxdW90ZURhdGEubW9kdWxhcl9hbW91bnRfZ3N0X19jLFxuICAgIHNpdGVzZXJ2aWNlYW1vdW50Z3N0OiBxdW90ZURhdGEuc2l0ZV9zZXJ2aWNlc19hbW91bnRfaW5jbF9nc3RfX2MsXG4gICAgbW9kdWxhcmFic29sdXRlZGlzY291bnQ6IHF1b3RlRGF0YS5tb2R1bGFyX2ZpeGVkX2Rpc2NvdW50X19jLFxuICAgIG1vZHVsYXJwbWZlZTogcXVvdGVEYXRhLm1vZHVsYXJfcG1fZGVzaWduX2ZlZV9fYyxcbiAgICBzaXRlc2VydmljZWdzdDogcXVvdGVEYXRhLnNpdGVfc2VydmljZXNfYW1vdW50X2dzdF9fYyxcbiAgICBzaXRlc2VydmljZXBkZmxpbms6IHF1b3RlRGF0YS5zaXRlX3NlcnZpY2VzX3BkZl9fYyxcbiAgICBtb2R1bGFyYW1vdW50Z3N0dmFsdWU6IHF1b3RlRGF0YS5tb2R1bGFyX2Ftb3VudF9pbmNsX2dzdF9fYyxcbiAgICBzaXRlcG1mZWU6IHF1b3RlRGF0YS5zaXRlX3NlcnZpY2VzX3BtX2Rlc2lnbl9mZWVfX2MsXG4gICAgc2l0ZXNlcnZpY2VkaXNjb3VudHZhbHVlOiBxdW90ZURhdGEuc2l0ZV9zZXJ2aWNlc19hbW91bnRfZGlzY291bnRlZF9fYyxcbiAgICBxdW90ZWxpbms6IHF1b3RlRGF0YS5xdW90ZV9saW5rX19jLFxuICAgIHByb3Bvc2FscGRmbGluazogcXVvdGVEYXRhLnByb3Bvc2FsX3BkZl9fYyxcbiAgICBpbmNsdWRlcG1mZWU6IG9wcG9ydHVuaXR5RGF0YS5pc19wbV9zaXRlX19jLFxuICAgIHNhbGVzbWFuYWdlcm5hbWU6cXVvdGVEYXRhLm9wcG9ydHVuaXR5X293bmVyX19jXG4gIH07XG4gIGNvbnNvbGUubG9nKDE0NiwgYWRkUHJvamVjdFBheWxvYWQpO1xuXG4gIGNvbnN0IG9kb29BZGRQcm9qZWN0UmVzcG9uc2U6IGFueSA9IGF3YWl0IGFkZFByb2plY3RUb09kb28oXG4gICAgYWRkUHJvamVjdFBheWxvYWQsXG4gICAgY3VzdG9tZXJEYXRhLFxuICAgIHVzZXJEYXRhXG4gICk7XG5cbiAgaWYgKG9kb29BZGRQcm9qZWN0UmVzcG9uc2UuY29kZSAhPT0gMjAwKSB7XG4gICAgY29uc29sZS5sb2coMTczLCBvZG9vQWRkUHJvamVjdFJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgIGlmIChvZG9vQWRkUHJvamVjdFJlc3BvbnNlLm1lc3NhZ2UuaW5jbHVkZXMoXCJhbmFseXRpYyBhY2NvdW50IGlkXCIpKSB7XG4gICAgICBsZXQgYW5hbHl0aWNPZG9vSWQgPSBvZG9vQWRkUHJvamVjdFJlc3BvbnNlLm1lc3NhZ2Uuc3BsaXQoXG4gICAgICAgIFwiYW5hbHl0aWMgYWNjb3VudCBpZFwiXG4gICAgICApWzFdO1xuICAgICAgYW5hbHl0aWNPZG9vSWQgPSBhbmFseXRpY09kb29JZC5zcGxpdChcImFuZFwiKVswXS50cmltKCk7XG4gICAgICBvZG9vQWRkUHJvamVjdFJlc3BvbnNlLm9kb29JZCA9IGFuYWx5dGljT2Rvb0lkO1xuICAgIH1cbiAgICBpZiAob2Rvb0FkZFByb2plY3RSZXNwb25zZS5tZXNzYWdlLmluY2x1ZGVzKFwiRGVsaXZlcnkgaWQgaXNcIikpIHtcbiAgICAgIGNvbnN0IG9kb29EZWxpdmVyeUlkID0gb2Rvb0FkZFByb2plY3RSZXNwb25zZS5tZXNzYWdlXG4gICAgICAgIC5zcGxpdChcIkRlbGl2ZXJ5IGlkIGlzXCIpWzFdXG4gICAgICAgIC50cmltKCk7XG4gICAgICBvZG9vQWRkUHJvamVjdFJlc3BvbnNlLm9kb29EZWxpdmVyeUlkID0gb2Rvb0RlbGl2ZXJ5SWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKDE4MSk7XG4gICAgICBjcmVhdGVQcm9qZWN0RHJhZnRTdGF0dXMuY29kZSA9IDQwMDtcbiAgICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5tZXNzYWdlID0gb2Rvb0FkZFByb2plY3RSZXNwb25zZS5tZXNzYWdlO1xuICAgICAgcmV0dXJuIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYWRkUHJvamVjdFBheWxvYWQub2Rvb2lkID0gb2Rvb0FkZFByb2plY3RSZXNwb25zZS5vZG9vSWQ7XG4gICAgYWRkUHJvamVjdFBheWxvYWQub2Rvb19kZWxpdmVyeV9hZGRyZXNzX2lkID1cbiAgICAgIG9kb29BZGRQcm9qZWN0UmVzcG9uc2Uub2Rvb0RlbGl2ZXJ5SWQ7XG4gIH1cblxuICBjb25zb2xlLmxvZyhcIm9kb29BZGRQcm9qZWN0UmVzcG9uc2VcIiwgb2Rvb0FkZFByb2plY3RSZXNwb25zZSk7XG4gIGNvbnNvbGUubG9nKFwiYWRkUHJvamVjdFBheWxvYWRcIiwgYWRkUHJvamVjdFBheWxvYWQpO1xuXG4gIGNvbnN0IGFkZFByb2plY3RSZXNwb25zZSA9IGF3YWl0IGFkZFByb2plY3QobnVsbCwgYWRkUHJvamVjdFBheWxvYWQsIG51bGwpO1xuICBpZiAoYWRkUHJvamVjdFJlc3BvbnNlLmNvZGUgIT09IDIwMCkge1xuICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5jb2RlID0gNDAwO1xuICAgIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cy5tZXNzYWdlID0gYWRkUHJvamVjdFJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgcmV0dXJuIGNyZWF0ZVByb2plY3REcmFmdFN0YXR1cztcbiAgfVxuICBjb25zb2xlLmxvZyhcIm9wcG9ydHVuaXR5RGF0YVwiLCBvcHBvcnR1bml0eURhdGEpO1xuXG4gIHJldHVybiBjcmVhdGVQcm9qZWN0RHJhZnRTdGF0dXM7XG59O1xuXG5jb25zdCBjcmVhdGVDdXRvbWVyT25PZG9vID0gYXN5bmMgKGN1c3RvbWVyRGF0YSkgPT4ge1xuICBjb25zdCB7IGRlbGl2ZXJ5U3RyZWV0MSwgZGVsaXZlcnlTdHJlZXQyIH0gPSBhd2FpdCBzZXBlcmF0ZUFkZHJlc3NJbnRvU3RyZWV0cyhcbiAgICBjdXN0b21lckRhdGFcbiAgKTtcbiAgdHJ5IHtcbiAgICBsZXQgZ3N0bm8gPSBudWxsO1xuICAgIGxldCBnc3RUcmVhdG1lbnQgPSBcIlwiO1xuXG4gICAgaWYgKGN1c3RvbWVyRGF0YT8ubDEwbl9pbl9nc3RfdHJlYXRtZW50ICE9PSBudWxsKSB7XG4gICAgICBnc3RUcmVhdG1lbnQgPSBjdXN0b21lckRhdGEubDEwbl9pbl9nc3RfdHJlYXRtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBnc3RUcmVhdG1lbnQgPSBcInJlZ3VsYXJcIjtcbiAgICB9XG5cbiAgICBpZiAoY3VzdG9tZXJEYXRhPy5jdXN0b21lcnR5cGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKDE5MSk7XG4gICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiQ3VzdG9tZXIgdHlwZSBjYW5ub3QgYmUgbnVsbFwiIH07XG4gICAgfSBlbHNlIGlmIChjdXN0b21lckRhdGE/LmN1c3RvbWVydHlwZSA9PT0gXCJCMkNcIikge1xuICAgICAgZ3N0VHJlYXRtZW50ID0gXCJ1bnJlZ2lzdGVyZWRcIjtcbiAgICB9IGVsc2UgaWYgKGN1c3RvbWVyRGF0YT8uY3VzdG9tZXJ0eXBlID09PSBcIkIyQlwiKSB7XG4gICAgICBnc3RUcmVhdG1lbnQgPSBcInJlZ3VsYXJcIjtcbiAgICAgIGlmICghY3VzdG9tZXJEYXRhLmdzdG5vKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY29kZTogNDAwLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiR1NUIE51bWJlciBpcyByZXF1aXJlZCBmb3IgQjJCIGN1c3RvbWVyXCIsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBnc3RubyA9IGN1c3RvbWVyRGF0YS5nc3RubztcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBjdXN0b21lckRhdGE/LmN1c3RvbWVycGhvbmU/Lmxlbmd0aCAhPT0gMTAgfHxcbiAgICAgICFjdXN0b21lckRhdGE/LmN1c3RvbWVycGhvbmVcbiAgICApIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCJQaG9uZSBudW1iZXIgaXMgbm90IHZhbGlkLlwiIH07XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGN1c3RvbWVyRGF0YT8uYWRkcmVzc2VzWzBdLnppcD8ubGVuZ3RoICE9PSA2IHx8XG4gICAgICAhY3VzdG9tZXJEYXRhPy5hZGRyZXNzZXNbMF0uemlwXG4gICAgKSB7XG4gICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiWmlwIGlzIG5vdCB2YWxpZC5cIiB9O1xuICAgIH1cbiAgICBpZiAoY3VzdG9tZXJEYXRhPy5wYW5jYXJkbm8/Lmxlbmd0aCAhPT0gMTAgJiYgIWN1c3RvbWVyRGF0YT8ucGFuY2FyZG5vKSB7XG4gICAgICByZXR1cm4geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IFwiUGFuIG51bWJlciBpcyBub3QgdmFsaWQuXCIgfTtcbiAgICB9XG4gICAgY29uc3QgY3VzdG9tZXJuYW1lID0gIGdldEN1c3RvbWVyTmFtZShjdXN0b21lckRhdGEpXG4gICAgY29uc3Qgb2Rvb0Nvb2tpZSA9IGF3YWl0IGNyZWF0ZU9kb29TZXNzaW9uKCk7XG4gICAgY29uc29sZS5sb2coMTgyLCBvZG9vQ29va2llKTtcbiAgICBjb25zdCBvZG9vQ29udGFjdHMgPSB7XG4gICAgICByZWY6IGN1c3RvbWVyRGF0YS5zYWxlc2ZvcmNlaWQsXG4gICAgICBuYW1lOiBjdXN0b21lcm5hbWUsXG4gICAgICBlbWFpbDogY3VzdG9tZXJEYXRhLmN1c3RvbWVyZW1haWwsXG4gICAgICBjaXR5OiBgJHtjdXN0b21lckRhdGEuYWRkcmVzc2VzWzBdLmNpdHl9YCxcbiAgICAgIGNvbXBhbnlfdHlwZTogXCJjb21wYW55XCIsXG4gICAgICBpc19jb21wYW55OiB0cnVlLFxuICAgICAgbDEwbl9pbl9nc3RfdHJlYXRtZW50OiBnc3RUcmVhdG1lbnQsXG4gICAgICBjb3VudHJ5X2lkOiAxMDQsXG4gICAgICBtb2JpbGU6IGN1c3RvbWVyRGF0YS5jdXN0b21lcnBob25lLFxuICAgICAgcGhvbmU6IGN1c3RvbWVyRGF0YS5jdXN0b21lcnBob25lLFxuICAgICAgc3RyZWV0OiBkZWxpdmVyeVN0cmVldDEsXG4gICAgICBzdHJlZXQyOiBkZWxpdmVyeVN0cmVldDIsXG4gICAgICBzdGF0ZV9pZDpcbiAgICAgICAgT2Rvb1N0YXRlSURbY3VzdG9tZXJEYXRhLmFkZHJlc3Nlc1swXS5zdGF0ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKV0sXG4gICAgICB0eXBlOiBcImNvbnRhY3RcIixcbiAgICAgIHZhdDogZ3N0bm8sXG4gICAgICBzdXBwbHlfdHlwZTogY3VzdG9tZXJEYXRhLmN1c3RvbWVydHlwZSxcbiAgICAgIGN1c3RvbWVyOiB0cnVlLFxuICAgICAgemlwOiBjdXN0b21lckRhdGEuYWRkcmVzc2VzWzBdLnppcCxcbiAgICAgIHNhbGVzX2ZvcmNlX2lkOiBjdXN0b21lckRhdGEuc2FsZXNmb3JjZWlkLFxuICAgICAgcGFuX25vOiBjdXN0b21lckRhdGEucGFuY2FyZG5vLFxuICAgIH07XG4gICAgY29uc29sZS5sb2coXCJvZG9vQ29udGFjdHNcIiwgb2Rvb0NvbnRhY3RzKTtcbiAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5vZG9vVXJsICsgXCIvY29udGFjdFwiO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAgIC5wb3N0KHVybClcbiAgICAgIC5zZXQoY29udGVudFR5cGVTdHJpbmcsIGNvbnRlbnRUeXBlKVxuICAgICAgLnNldChcIkNvb2tpZVwiLCBvZG9vQ29va2llKVxuICAgICAgLnNlbmQoeyBwYXJhbXM6IG9kb29Db250YWN0cyB9KTtcbiAgICBjb25zb2xlLmxvZygxODEsIHJlcy5ib2R5KTtcblxuICAgIGlmIChcbiAgICAgIHJlcy5ib2R5Py5yZXN1bHQ/LnJlc3BvbnNlXG4gICAgICAgID8gT2JqZWN0LmtleXMocmVzLmJvZHk/LnJlc3VsdC5yZXNwb25zZSkubGVuZ3RoID4gMFxuICAgICAgICA6IG51bGxcbiAgICApIHtcbiAgICAgIGF3YWl0IHVwZGF0ZUNvbnRhY3RJZEZvck9kb29Gb3JDdXN0b21lcihcbiAgICAgICAgY3VzdG9tZXJEYXRhLmN1c3RvbWVyaWQsXG4gICAgICAgIHJlcy5ib2R5Py5yZXN1bHQ/LnJlc3BvbnNlLm9kb29fY29udGFjdF9pZC50b1N0cmluZygpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgY29kZTogMjAwLCBtZXNzYWdlOiBudWxsIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogcmVzLmJvZHk/LnJlc3VsdD8ubWVzc2FnZSB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKDI1MiwgZSk7XG4gICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBlLm1lc3NhZ2UgfTtcbiAgfVxufTtcblxuY29uc3QgdXBkYXRlQ29udGFjdElkRm9yT2Rvb0ZvckN1c3RvbWVyID0gYXN5bmMgKGN1c3RvbWVySWQsIGNvbnRhY3RJZCkgPT4ge1xuICBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIudXBkYXRlKHtcbiAgICB3aGVyZToge1xuICAgICAgY3VzdG9tZXJpZDogY3VzdG9tZXJJZCxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgIG9kb29jb250YWN0aWQ6IGNvbnRhY3RJZCxcbiAgICB9LFxuICB9KTtcbn07XG5cbmNvbnN0IGFkZFplcm9lcyA9IChudW0pID0+IHtcbiAgbGV0IGRpcyA9IG51bS50b1N0cmluZygpO1xuICBjb25zdCByZXNzID0gZGlzLnNwbGl0KFwiLlwiKTtcbiAgaWYgKCFyZXNzWzFdKSB7XG4gICAgZGlzID0gbnVtICsgMC4wMDE7XG4gIH1cbiAgcmV0dXJuIHBhcnNlRmxvYXQoZGlzKTtcbn07XG5cbmNvbnN0IGFkZFByb2plY3RUb09kb28gPSBhc3luYyAocHJvamVjdCwgY3VzdG9tZXIsIGRlc2lnbmVyKSA9PiB7XG4gIGNvbnN0IHsgZGVsaXZlcnlTdHJlZXQxLCBkZWxpdmVyeVN0cmVldDIgfSA9IGF3YWl0IHNlcGVyYXRlQWRkcmVzc0ludG9TdHJlZXRzKFxuICAgIGN1c3RvbWVyXG4gICk7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJjdXN0b21lci5hZGRyZXNzZXNcIiwgY3VzdG9tZXIuYWRkcmVzc2VzKTtcbiAgICBjb25zdCBvZG9vQ29va2llID0gYXdhaXQgcHJpc21hLmRjX29kb29jb29raWUuZmluZEZpcnN0KCk7XG4gICAgY29uc3QgY3VzdG9tZXJOYW1lSW5BZGRyZXNzID0gZ2V0Q3VzdG9tZXJOYW1lKGN1c3RvbWVyKVxuXG4gICAgY29uc3QgcHJvamVjdFJlcU9iaiA9IHtcbiAgICAgIG5hbWU6IHByb2plY3QucHJvamVjdG5hbWUsXG4gICAgICBzYWxlc19mb3JjZV9pZDogY3VzdG9tZXIuc2FsZXNmb3JjZWlkLFxuICAgICAgYW5hbHl0aWNfbG9jYXRpb246IDM1LFxuICAgICAgY29kZTogcHJvamVjdC5wcm9qZWN0aWQsXG4gICAgICBncm91cF9pZDogZ2V0T2Rvb0dyb3VwSUQoY3VzdG9tZXIuYWRkcmVzc2VzWzBdLmNpdHkpLFxuICAgICAgcHJvamVjdF9yZWZmZXJhbDogZmFsc2UsXG4gICAgICBwcm9qZWN0X3JlZmZlcmFsX3R5cGU6IG51bGwsXG4gICAgICByZWZlcnJhbF9pZDogbnVsbCxcbiAgICAgIG1vZHVsYXJfZGlzY291bnQ6IHByb2plY3QubW9kdWxhcmRpc2NvdW50XG4gICAgICAgID8gYWRkWmVyb2VzKHByb2plY3QubW9kdWxhcmRpc2NvdW50KVxuICAgICAgICA6IDAsXG4gICAgICBzaWdudXBfYW1vdW50X3BlcjogMCxcbiAgICAgIG1vZHVsYXJfcHJvamVjdF92YWx1ZTogcHJvamVjdC5wcm9qZWN0bW9kdWxhcnZhbHVlXG4gICAgICAgID8gYWRkWmVyb2VzKHByb2plY3QucHJvamVjdG1vZHVsYXJ2YWx1ZSlcbiAgICAgICAgOiAwLFxuICAgICAgc2l0ZV9zZXJ2aWNlX3ZhbHVlOiBwcm9qZWN0LnByb2plY3RzaXRlc2VydmljZXN2YWx1ZVxuICAgICAgICA/IGFkZFplcm9lcyhwcm9qZWN0LnByb2plY3RzaXRlc2VydmljZXN2YWx1ZSlcbiAgICAgICAgOiAwLFxuICAgICAgY2l2aWxfZGlzY291bnQ6IHByb2plY3Quc2l0ZXNlcnZpY2VkaXNjb3VudFxuICAgICAgICA/IGFkZFplcm9lcyhwcm9qZWN0LnNpdGVzZXJ2aWNlZGlzY291bnQpXG4gICAgICAgIDogMCxcbiAgICAgIHRvdGFsX3Byb2plY3RfYW1vdW50OiBwcm9qZWN0LnRvdGFscHJvamVjdHZhbHVlXG4gICAgICAgID8gYWRkWmVyb2VzKHByb2plY3QudG90YWxwcm9qZWN0dmFsdWUpXG4gICAgICAgIDogMCxcbiAgICAgIGRlbGl2ZXJ5X2FkZHJlc3M6IHtcbiAgICAgICAgbmFtZTogY3VzdG9tZXJOYW1lSW5BZGRyZXNzLFxuICAgICAgICB0eXBlOiBcImRlbGl2ZXJ5XCIsXG4gICAgICAgIHN0cmVldDogZGVsaXZlcnlTdHJlZXQxLFxuICAgICAgICBzdHJlZXQyOiBkZWxpdmVyeVN0cmVldDIsXG4gICAgICAgIGNpdHk6IGN1c3RvbWVyLmFkZHJlc3Nlc1swXS5jaXR5LFxuICAgICAgICBzdGF0ZV9pZDogT2Rvb1N0YXRlSURbY3VzdG9tZXIuYWRkcmVzc2VzWzBdLnN0YXRlLnRvTG93ZXJDYXNlKCkudHJpbSgpXSxcbiAgICAgICAgY291bnRyeV9pZDogMTA0LFxuICAgICAgICBzYWxlc19mb3JjZV9pZDogY3VzdG9tZXIuc2FsZXNmb3JjZWlkLFxuICAgICAgfSxcbiAgICAgIGRlZmF1bHRfcnVsZXM6IHtcbiAgICAgICAgYW5hbHl0aWNfZXhwX2NlbnRlcl9pZDogZXhwZXJpZW5jZWNlbnRlcnMoXG4gICAgICAgICAgZGVzaWduZXIudXNlcnNfZXhwZXJpZW5jZWNlbnRlcnNbMF0uY2VudGVyLm5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgYW5hbHl0aWNfc3R1ZGlvX2lkOiBnZXRPZG9vU3R1ZGlvSUQoZGVzaWduZXIudXNlcnNfdGVhbVswXS50ZWFtPy5uYW1lKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZyhcInByb2plY3RSZXFPYmpcIiwgcHJvamVjdFJlcU9iaik7XG4gICAgY29uc29sZS5sb2coMzAzMCwgb2Rvb0Nvb2tpZSk7XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYub2Rvb1VybCArIFwiL2FuYWx5dGljL2FjY291bnQvZGVsaXZlcnkvYWRkcmVzc1wiO1xuICAgIGNvbnNvbGUubG9nKDMwMiwgdXJsKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAucG9zdCh1cmwpXG4gICAgICAuc2V0KGNvbnRlbnRUeXBlU3RyaW5nLCBjb250ZW50VHlwZSlcbiAgICAgIC5zZXQoXCJDb29raWVcIiwgb2Rvb0Nvb2tpZS5jb29raWUpXG4gICAgICAuc2VuZCh7IHBhcmFtczogcHJvamVjdFJlcU9iaiB9KTtcbiAgICBjb25zb2xlLmxvZygyOTIsIHJlcy5ib2R5KTtcblxuICAgIGlmIChcbiAgICAgIHJlcy5ib2R5Py5yZXN1bHQ/LnJlc3BvbnNlXG4gICAgICAgID8gT2JqZWN0LmtleXMocmVzLmJvZHk/LnJlc3VsdC5yZXNwb25zZSkubGVuZ3RoID4gMFxuICAgICAgICA6IG51bGxcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgbWVzc2FnZTogbnVsbCxcbiAgICAgICAgb2Rvb0lkOiByZXMuYm9keT8ucmVzdWx0Py5yZXNwb25zZVtcIkFuYWx5dGljIEFjY291bnRcIl1cbiAgICAgICAgICA/IHJlcy5ib2R5Py5yZXN1bHQ/LnJlc3BvbnNlW1wiQW5hbHl0aWMgQWNjb3VudFwiXS50b1N0cmluZygpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgICBvZG9vRGVsaXZlcnlJZDogcmVzLmJvZHk/LnJlc3VsdD8ucmVzcG9uc2VbXCJEZWxpdmVyeSBBZGRyZXNzXCJdXG4gICAgICAgICAgPyByZXMuYm9keT8ucmVzdWx0Py5yZXNwb25zZVtcIkRlbGl2ZXJ5IEFkZHJlc3NcIl0udG9TdHJpbmcoKVxuICAgICAgICAgIDogbnVsbCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogYEVycm9yIGluIGNyZWF0aW5nIG9kZG8gcHJvamVjdDogJHtcbiAgICAgICAgICByZXMuYm9keT8uZXJyb3I/Lm1lc3NhZ2VcbiAgICAgICAgICAgID8gcmVzLmJvZHk/LmVycm9yPy5tZXNzYWdlXG4gICAgICAgICAgICA6IHJlcy5ib2R5Py5yZXN1bHQ/Lm1lc3NhZ2VcbiAgICAgICAgfWAsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZS5tZXNzYWdlIH07XG4gIH1cbn07XG5cbmNvbnN0IHNlcGVyYXRlQWRkcmVzc0ludG9TdHJlZXRzID0gYXN5bmMgKGN1c3RvbWVyRGF0YSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHN0cmVldDEgPSBbXSxcbiAgICAgIHN0cmVldDIgPSBbXTtcblxuICAgIGNvbnN0IHN0cmVldEFkZHJlc3MgPSBjdXN0b21lckRhdGEuYWRkcmVzc2VzWzBdLnN0cmVldC5zcGxpdChcIiBcIik7XG4gICAgaWYgKHN0cmVldEFkZHJlc3MubGVuZ3RoID09PSAyKSB7XG4gICAgICBzdHJlZXQxLnB1c2goc3RyZWV0QWRkcmVzc1swXSk7XG4gICAgICBzdHJlZXQyLnB1c2goc3RyZWV0QWRkcmVzc1sxXSk7XG4gICAgfVxuXG4gICAgaWYgKHN0cmVldEFkZHJlc3MubGVuZ3RoID4gMikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJlZXRBZGRyZXNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRvSW50ID0gKHN0cmVldEFkZHJlc3MubGVuZ3RoIC0gMSkgLyAyO1xuICAgICAgICBpZiAoaSA8PSBwYXJzZUludCh0b0ludC50b1N0cmluZygpKSkge1xuICAgICAgICAgIHN0cmVldDEucHVzaChzdHJlZXRBZGRyZXNzW2ldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHJlZXQyLnB1c2goc3RyZWV0QWRkcmVzc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcInN0cmVldDEgPT5cIiwgc3RyZWV0MS5qb2luKFwiIFwiKSk7XG4gICAgY29uc29sZS5sb2coXCJzdHJlZXQyID0+IFwiLCBzdHJlZXQyLmpvaW4oXCIgXCIpKTtcblxuICAgIGNvbnN0IGRlbGl2ZXJ5U3RyZWV0MSA9IHN0cmVldDEuam9pbihcIiBcIik7XG4gICAgbGV0IGRlbGl2ZXJ5U3RyZWV0MiA9IHN0cmVldDIuam9pbihcIiBcIik7XG4gICAgaWYgKGRlbGl2ZXJ5U3RyZWV0Mi5sZW5ndGggPD0gMSkge1xuICAgICAgZGVsaXZlcnlTdHJlZXQyID0gZGVsaXZlcnlTdHJlZXQyLmNvbmNhdChcIiwsXCIpO1xuICAgIH0gZWxzZSBpZiAoZGVsaXZlcnlTdHJlZXQyLmxlbmd0aCA8PSAyKSB7XG4gICAgICBkZWxpdmVyeVN0cmVldDIgPSBkZWxpdmVyeVN0cmVldDIuY29uY2F0KFwiLFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGVsaXZlcnlTdHJlZXQxLCBkZWxpdmVyeVN0cmVldDIgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlLm1lc3NhZ2U7XG4gIH1cbn07XG5cbmNvbnN0IGNyZWF0ZU9kb29TZXNzaW9uID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKDQwMzQwMyk7XG4gICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYub2Rvb0FkbWluVXJsICsgXCIvd2ViL3Nlc3Npb24vYXV0aGVudGljYXRlXCI7XG4gICAgY29uc29sZS5sb2coMzAyLCB1cmwpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAgIC5wb3N0KHVybClcbiAgICAgIC5zZXQoY29udGVudFR5cGVTdHJpbmcsIGNvbnRlbnRUeXBlKVxuICAgICAgLnNlbmQoe1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBkYjogcHJvY2Vzcy5lbnYub2Rvb0RCLFxuICAgICAgICAgIGxvZ2luOiBwcm9jZXNzLmVudi5vZG9vQWRtaW5FbWFpbCxcbiAgICAgICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYub2Rvb0FkbWluRW1haWxQd2QsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKDQxNCwgcmVzPy5oZWFkZXIpO1xuICAgIGlmIChyZXM/LmhlYWRlcikge1xuICAgICAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IHJlcy5oZWFkZXJbXCJzZXQtY29va2llXCJdWzBdLnNwbGl0KFwiO1wiKVswXTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2Vzc2lvbkNvb2tpZVwiLCBzZXNzaW9uQ29va2llKTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY19vZG9vY29va2llLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgaWQ6IDEsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb29raWU6IHNlc3Npb25Db29raWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZXNzaW9uQ29va2llO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuY29uc3QgZ2V0Q3VzdG9tZXJOYW1lID0gKGN1c3RvbWVyRGF0YSkgPT4ge1xuICBjb25zdCBmaXJzdG5hbWUgPSBjdXN0b21lckRhdGEuZmlyc3RuYW1lID8gY3VzdG9tZXJEYXRhLmZpcnN0bmFtZS50cmltKCkgOiBcIlwiO1xuICBjb25zdCBsYXN0bmFtZSA9IGN1c3RvbWVyRGF0YS5sYXN0bmFtZSA/IGN1c3RvbWVyRGF0YS5sYXN0bmFtZS50cmltKCkgOiBcIlwiO1xuICByZXR1cm4gYCR7Zmlyc3RuYW1lID8gZmlyc3RuYW1lICsgXCIgXCIgOiBcIlwifSR7bGFzdG5hbWV9YDtcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCBzdXBlcmFnZW50IGZyb20gXCJzdXBlcmFnZW50XCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xuaW1wb3J0IHsgZ2V0Q29ubmVjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2UvYmFzZVVzZUNhc2VcIjtcbmV4cG9ydCBjb25zdCBwb3N0QmV0YVF1b3RlID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGUgPSBkYXlqcygpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgY29uc3QgcXVvdGVEYXRhID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBvcHBvcnR1bml0eWlkOiBhcmdzLm9wcG9ydHVuaXR5aWQgfSxcbiAgICB9KTtcbiAgICBpZiAoIXF1b3RlRGF0YSkge1xuICAgICAgYXdhaXQgdXBkYXRlT3Bwb3J0dW5pdHlEZXRhaWxzKGFyZ3Mub3Bwb3J0dW5pdHlpZCwgZGF0ZSk7XG4gICAgfVxuICAgIGNvbnN0IG9wcERhdGEgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHNmaWQ6IGFyZ3Mub3Bwb3J0dW5pdHlpZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKCFvcHBEYXRhKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiT3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAob3BwRGF0YS5zdGFnZW5hbWUgPT09IFwiQ2xvc2VkIFdvblwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiQ2Fubm90IHVwZGF0ZSBjbG9zZWQgd29uIGxlYWQgLyBvcHBvcnR1bml0eVwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcXVvdGUgPSBhd2FpdCBwcmlzbWEucXVvdGUuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb3Bwb3J0dW5pdHlpZDogYXJncy5vcHBvcnR1bml0eWlkLFxuICAgICAgICBuYW1lOiBhcmdzLm5hbWUsXG4gICAgICAgIG1vZHVsYXJfZml4ZWRfZGlzY291bnRfX2M6IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnRcbiAgICAgICAgICA/IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnRcbiAgICAgICAgICA6IDAsXG4gICAgICAgIG1vZHVsYXJfYW1vdW50X19jOiBhcmdzLm1vZHVsYXJBbW91bnQgPyBhcmdzLm1vZHVsYXJBbW91bnQgOiAwLFxuICAgICAgICBtb2R1bGFyX2Rpc2NvdW50X19jOiBhcmdzLm1vZHVsYXJEaXNjb3VudCA/IGFyZ3MubW9kdWxhckRpc2NvdW50IDogMCxcbiAgICAgICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfX2M6IGFyZ3Muc2l0ZVNlcnZpY2VWYWx1ZVxuICAgICAgICAgID8gYXJncy5zaXRlU2VydmljZVZhbHVlXG4gICAgICAgICAgOiAwLFxuICAgICAgICBzaXRlX3NlcnZpY2VzX2Rpc2NvdW50X19jOiBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnRcbiAgICAgICAgICA/IGFyZ3Muc2l0ZVNlcnZpY2VEaXNjb3VudFxuICAgICAgICAgIDogMCxcbiAgICAgICAgc2l0ZV9zZXJ2aWNlX2ZpeGVkX2Rpc2NvdW50X19jOiBhcmdzLnNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudFxuICAgICAgICAgID8gYXJncy5zaXRlU2VydmljZUZpeGVkRGlzY291bnRcbiAgICAgICAgICA6IDAsXG4gICAgICAgIGRlY29yX2Ftb3VudF9fYzogMCxcbiAgICAgICAgZGVjb3JfYW1vdW50X2Rpc2NvdW50X19jOiAwLFxuICAgICAgICBsYXRlc3RfcXVvdGVfX2M6IHRydWUsXG4gICAgICAgIHByb3Bvc2FsX3BkZl9fYzogYXJncy5wcm9wb3NhbF9saW5rLFxuICAgICAgICBwb3N0Z3Jlc19pZF9fYzogdXVpZHY0KCksXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHF1b3RlKTtcblxuICAgIGF3YWl0IHByaXNtYS5kY19hdHRhY2htZW50cy5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBmaWxla2V5OiBhcmdzLmtleSxcbiAgICAgICAgbG9jYXRpb246IGFyZ3MucHJvcG9zYWxfbGluayxcbiAgICAgICAgY29udGVudHR5cGU6IGFyZ3MuY29udGVudFR5cGUsXG4gICAgICAgIGlzcHJlb3Jwb3N0OiAwLFxuICAgICAgICBsZWFkaWQ6IG9wcERhdGEubGVhZF9pZF9fY1xuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiUXVvdGUgQWRkZWQgU2N1Y2Nlc3NmdWxseVwiLFxuICAgICAgcXVvdGVpZDogcXVvdGUucG9zdGdyZXNfaWRfX2MsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIGVycm9yKTtcbiAgfVxufTtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlT3Bwb3J0dW5pdHlEZXRhaWxzKG9wcG9JZCwgZGF0ZSk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coe1xuICAgICAgd2hlcmU6IHsgc2ZpZDogb3Bwb0lkIH0sXG4gICAgICBkYXRhOiB7IHByb3Bvc2FsX3NlbnRfZGF0ZV9fYzogZGF0ZSB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlZFJlc3BvbnNlID1cbiAgICAgIGF3YWl0IHByaXNtYS4kZXhlY3V0ZVJhd2BVUERBVEUgcHVibGljLm9wcG9ydHVuaXR5IFNFVCBwcm9wb3NhbF9zZW50X2RhdGVfX2MgPSBUT19EQVRFKCR7ZGF0ZX0sICdZWVlZL01NL0REJykgV0hFUkUgc2ZpZCA9ICR7b3Bwb0lkfTtgO1xuICAgIGNvbnNvbGUubG9nKHVwZGF0ZWRSZXNwb25zZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZCBzdWNjZXNzXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKDIxMzY1LCBlKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJTb21ldGhpbmcgd2VudCB3cm9uZ1wiKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBwb3N0RGF0YXRvU2FsZXNGb3JjZShyZXFCb2R5KTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgY29ubiA9IGF3YWl0IGdldENvbm5lY3Rpb24oKTtcbiAgY29uc3QgZmluYWxVcmwgPSBgJHtwcm9jZXNzLmVudi5zYWxlc2ZvcmNlTG9naW5Vcmx9c2VydmljZXMvZGF0YS92NDIuMC9zb2JqZWN0cy9RdW90ZWA7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgICAgLnBvc3QoZmluYWxVcmwpXG4gICAgICAuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgICAgLnNldChcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyBjb25uLmFjY2Vzc1Rva2VuKVxuICAgICAgLnNlbmQocmVxQm9keSk7XG4gICAgcmV0dXJuIHJlcy5ib2R5O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgVXBsb2FkRmlsZU9uUzMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL2Jhc2VVc2VDYXNlL2Jhc2VVc2VDYXNlXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcblxuZXhwb3J0IGNvbnN0IHByb3Bvc2FsU2lnbmVkVXJsID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGxldCB1c2VyO1xuICAgIHRyeSB7XG4gICAgICB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKF9jb250ZXh0LCBcIkREXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuICAgIGNvbnN0IGZpbGVrZXkgPSBgcHJvcG9zYWwvJHtpZH1fJHthcmdzLmtleX1gO1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqOiBhbnkgPSB7fTtcbiAgICByZXNwb25zZU9iai5rZXkgPSBhcmdzLmtleTtcbiAgICByZXNwb25zZU9iai5jb250ZW50VHlwZSA9IGFyZ3MuY29udGVudFR5cGU7XG4gICAgcmVzcG9uc2VPYmouYXdzRmlsZUtleSA9IGZpbGVrZXk7XG4gICAgY29uc3QgYXR0YWNobWVudE9iaiA9IHtcbiAgICAgIGtleTogZmlsZWtleSxcbiAgICAgIGNvbnRlbnRUeXBlOiBhcmdzLmNvbnRlbnRUeXBlLFxuICAgICAgYmFzZTY0OiBhcmdzLmJhc2U2NCxcbiAgICAgIHVzZXJpZDogdXNlci51c2VyaWQsXG4gICAgICBpc3ByZW9ycG9zdDogMCxcbiAgICAgIGxlYWRpZDogYXJncy5sZWFkaWQsXG4gICAgfTtcbiAgICBjb25zdCB0b1MzID0gYXdhaXQgVXBsb2FkRmlsZU9uUzMoYXR0YWNobWVudE9iaik7XG4gICAgcmVzcG9uc2VPYmouZmlsZUxvY2F0aW9uID0gdG9TMy5sb2NhdGlvbjtcbiAgICByZXNwb25zZU9iai5pZCA9IHRvUzMuaWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc1wiLFxuICAgICAgZGF0YTogcmVzcG9uc2VPYmosXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhcImVycm9yID09PT09PT4gXCIsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IFhtbFRvUGRmIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3Qgc2F2ZUJldGFRdW90ZUFwaSA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAoIWFyZ3MubW9kdWxlclhtbExpbmspIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIk1vZHVsYXIgeG1sIGlzIG1hbmRhdG9yeVwiKTtcbiAgICB9XG4gICAgY29uc3QgcXVvdGVEYXRhID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBwb3N0Z3Jlc19pZF9fYzogYXJncy5wb3N0Z3Jlc0lkIH0sXG4gICAgfSk7XG4gICAgaWYgKCFxdW90ZURhdGEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgbWVzc2FnZTogXCJRdW90ZSBub3QgZm91bmRcIixcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFBvcHVsYXRpbmcgb2JqZWN0IHRvIHNhdmUgZGF0YSBpbnRvIHF1b3RlcyBjb2xsZWN0aW9uLlxuICAgIGNvbnN0IGRiUXVvdGVPYmo6IGFueSA9IHtcbiAgICAgIG5hbWU6IGFyZ3MubmFtZSxcbiAgICAgIG1vZHVsYXJfYW1vdW50X19jOiBhcmdzLm1vZHVsYXJBbW91bnQgPyBhcmdzLm1vZHVsYXJBbW91bnQgOiAwLFxuICAgICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfX2M6IGFyZ3Muc2l0ZVNlcnZpY2VWYWx1ZVxuICAgICAgICA/IGFyZ3Muc2l0ZVNlcnZpY2VWYWx1ZVxuICAgICAgICA6IDAsXG4gICAgICBtb2R1bGFyX2Rpc2NvdW50X19jOiBhcmdzLm1vZHVsYXJEaXNjb3VudCA/IGFyZ3MubW9kdWxhckRpc2NvdW50IDogMCxcbiAgICAgIHNpdGVfc2VydmljZXNfZGlzY291bnRfX2M6IGFyZ3Muc2l0ZVNlcnZpY2VEaXNjb3VudFxuICAgICAgICA/IGFyZ3Muc2l0ZVNlcnZpY2VEaXNjb3VudFxuICAgICAgICA6IDAsXG4gICAgICBsYXRlc3RfcXVvdGVfX2M6IHRydWUsXG4gICAgICBkY19tb2R1bGFyX3htbF9fYzogYXJncy5tb2R1bGVyWG1sTGluayxcbiAgICAgIC4uLihhcmdzLnNpdGVTZXJ2aWNlWG1sTGluayAmJiB7XG4gICAgICAgIGRjX3NpdGVfc2VydmljZXNfeG1sX19jOiBhcmdzLnNpdGVTZXJ2aWNlWG1sTGluayxcbiAgICAgIH0pLFxuICAgICAgc2ZpZDogYXJncy5xdW90ZUlkLFxuICAgICAgb3Bwb3J0dW5pdHlpZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgcHJvcG9zYWxfcGRmX19jOiBhcmdzLnByb3Bvc2FsTG9jYXRpb24sXG4gICAgICBkY19yb29tX2xpc3RfX2M6IFwiXCIsXG4gICAgICBpc19pbW9zX3Byb2plY3RfX2M6IHRydWUsXG4gICAgfTtcblxuICAgIGNvbnN0IG9wcG9ydHVuaXR5ID0gYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBzZmlkOiBhcmdzLm9wcG9ydHVuaXR5SWQgfSxcbiAgICB9KTtcbiAgICBpZiAoIW9wcG9ydHVuaXR5KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiT3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjaXR5ID0gYXdhaXQgcHJpc21hLmRjX2NpdGllcy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgbmFtZTogb3Bwb3J0dW5pdHkucmVnaW9uX19jLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIWNpdHkpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkNpdHkgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCBjdXN0SWQgPSBvcHBvcnR1bml0eS5jdXN0b21lcl9pZF9fYztcbiAgICBjb25zdCByb29tTGlzdEFycmF5ID0gW107XG4gICAgaWYgKGFyZ3MubW9kdWxlclhtbExpbmspIHtcbiAgICAgIGNvbnN0IHhtbE1vZHVsYXJPYmogPSB7XG4gICAgICAgIGZpbGU6IGFyZ3MubW9kdWxlclhtbExpbmssXG4gICAgICAgIHR5cGU6IFwibW9kdWxhclhtbFwiLFxuICAgICAgICBkaXNjb3VudDogYXJncy5tb2R1bGFyRGlzY291bnQgPyBhcmdzLm1vZHVsYXJEaXNjb3VudCA6IDAsXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RJZCxcbiAgICAgICAgb3Bwb3J0dW5pdHlJZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgICBpc1BtRmVlSW5jbHVkZWQ6IG9wcG9ydHVuaXR5LmlzX3BtX3NpdGVfX2MsXG4gICAgICAgIGNpdHlQbUZlZTogY2l0eS5pbmNsdWRlcG1mZWUsXG4gICAgICAgIGxlYWRpZDogb3Bwb3J0dW5pdHkubGVhZF9pZF9fYyxcbiAgICAgICAgZGlzcGxheW5hbWU6IFwiTW9kdWxhciBRdW90YXRpb25cIixcbiAgICAgIH07XG4gICAgICAvKiBGdW5jdGlvbiB0aGF0IGdlbmVyYXRlZCBwZGYgZnJvbSB4bWwgKi9cbiAgICAgIGNvbnN0IGZvck1vZHVsYXIgPSBhd2FpdCBYbWxUb1BkZih4bWxNb2R1bGFyT2JqKTtcbiAgICAgIHJvb21MaXN0QXJyYXkucHVzaCguLi5mb3JNb2R1bGFyLnJvb21MaXN0KTtcbiAgICAgIGRiUXVvdGVPYmoucXVvdGVfbGlua19fYyA9IGZvck1vZHVsYXIuczNMb2NhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5zaXRlU2VydmljZVhtbExpbmspIHtcbiAgICAgIGNvbnN0IHhtbFNpdGVTZXJ2aWNlT2JqID0ge1xuICAgICAgICBmaWxlOiBhcmdzLnNpdGVTZXJ2aWNlWG1sTGluayxcbiAgICAgICAgdHlwZTogXCJzaXRlU2VydmljZVhtbFwiLFxuICAgICAgICBkaXNjb3VudDogYXJncy5zaXRlU2VydmljZURpc2NvdW50ID8gYXJncy5zaXRlU2VydmljZURpc2NvdW50IDogMCxcbiAgICAgICAgY3VzdG9tZXJJZDogY3VzdElkLFxuICAgICAgICBvcHBvcnR1bml0eUlkOiBhcmdzLm9wcG9ydHVuaXR5SWQsXG4gICAgICAgIGlzUG1GZWVJbmNsdWRlZDogb3Bwb3J0dW5pdHkuaXNfcG1fc2l0ZV9fYyxcbiAgICAgICAgY2l0eVBtRmVlOiBjaXR5LmluY2x1ZGVwbWZlZSxcbiAgICAgICAgbGVhZGlkOiBvcHBvcnR1bml0eS5sZWFkX2lkX19jLFxuICAgICAgICBkaXNwbGF5bmFtZTogXCJTaXRlIFNlcnZpY2UgUXVvdGF0aW9uXCIsXG4gICAgICB9O1xuICAgICAgLyogRnVuY3Rpb24gdGhhdCBnZW5lcmF0ZWQgcGRmIGZyb20geG1sICovXG4gICAgICBjb25zdCBmb3JTaXRlU2VydmljZSA9IGF3YWl0IFhtbFRvUGRmKHhtbFNpdGVTZXJ2aWNlT2JqKTtcbiAgICAgIHJvb21MaXN0QXJyYXkucHVzaCguLi5mb3JTaXRlU2VydmljZS5yb29tTGlzdCk7XG4gICAgICBkYlF1b3RlT2JqLnNpdGVfc2VydmljZXNfcGRmX19jID0gZm9yU2l0ZVNlcnZpY2UuczNMb2NhdGlvbjtcbiAgICB9XG4gICAgZGJRdW90ZU9iai5kY19yb29tX2xpc3RfX2MgPSBKU09OLnN0cmluZ2lmeShyb29tTGlzdEFycmF5KTtcblxuICAgIGF3YWl0IHByaXNtYS5xdW90ZS51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgcG9zdGdyZXNfaWRfX2M6IGFyZ3MucG9zdGdyZXNJZCB9LFxuICAgICAgZGF0YTogZGJRdW90ZU9iaixcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIkRldGFpbHMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7IFhtbFRvUGRmIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgVXBkYXRlUXVvdGVEZXRhaWxzID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IFF1b3RlUmVzcG9uc2UgPSBhd2FpdCBwcmlzbWEucXVvdGUuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHNmaWQ6IGFyZ3MucXVvdGVJZCxcbiAgICAgICAgb3Bwb3J0dW5pdHlpZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghUXVvdGVSZXNwb25zZSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiUXVvdGUgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCBRdW90ZVJlc3BvbnNlT2JqID0ge307XG4gICAgY29uc3Qgb3Bwb3J0dW5pdHkgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IHNmaWQ6IGFyZ3Mub3Bwb3J0dW5pdHlJZCB9LFxuICAgIH0pO1xuICAgIGlmICghb3Bwb3J0dW5pdHkpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIk9wcG9ydHVuaXR5IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2l0eSA9IGF3YWl0IHByaXNtYS5kY19jaXRpZXMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIG5hbWU6IG9wcG9ydHVuaXR5LnJlZ2lvbl9fYyxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgaWYgKCFjaXR5KSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJDaXR5IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgY29uc3QgY3VzdElkID0gb3Bwb3J0dW5pdHkuY3VzdG9tZXJfaWRfX2M7XG4gICAgaWYgKGFyZ3MudXBkYXRlTW9kdWxhcikge1xuICAgICAgaWYgKGFyZ3MubW9kdWxhckRpc2NvdW50ID09PSBudWxsIHx8IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogXCJQbGVhc2UgcHJvdmlkZSBtb2R1bGFyIHBlcmNlbnRhZ2UgJiBmaXhlZCBkaXNjb3VudHNcIixcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFF1b3RlUmVzcG9uc2VPYmpbXCJtb2R1bGFyX2Rpc2NvdW50X19jXCJdID0gYXJncy5tb2R1bGFyRGlzY291bnQ7XG4gICAgICBRdW90ZVJlc3BvbnNlT2JqW1wibW9kdWxhcl9maXhlZF9kaXNjb3VudF9fY1wiXSA9IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnQ7XG4gICAgICBjb25zdCB4bWxNb2R1bGFyT2JqID0ge1xuICAgICAgICBmcm9tOiBcIlNhbGVzIEZvcmNlXCIsXG4gICAgICAgIGZpbGU6IGFyZ3MubW9kdWxlclhtbExpbmssXG4gICAgICAgIHR5cGU6IFwibW9kdWxhclhtbFwiLFxuICAgICAgICBkaXNjb3VudDogYXJncy5tb2R1bGFyRGlzY291bnQgPyBhcmdzLm1vZHVsYXJEaXNjb3VudCA6IDAsXG4gICAgICAgIGFic29sdXRlRGlzY291bnQ6IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnRcbiAgICAgICAgICA/IGFyZ3MubW9kdWxhckZpeGVkRGlzY291bnRcbiAgICAgICAgICA6IDAsXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RJZCxcbiAgICAgICAgb3Bwb3J0dW5pdHlJZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgICBpc1BtRmVlSW5jbHVkZWQ6IG9wcG9ydHVuaXR5LmlzX3BtX3NpdGVfX2MsXG4gICAgICAgIGNpdHlQbUZlZTogY2l0eS5pbmNsdWRlcG1mZWUsXG4gICAgICAgIGxlYWRpZDogb3Bwb3J0dW5pdHkubGVhZF9pZF9fYyxcbiAgICAgICAgZGlzcGxheW5hbWU6IFwiTW9kdWxhciBRdW90YXRpb25cIixcbiAgICAgIH07XG4gICAgICAvKiBGdW5jdGlvbiB0aGF0IGdlbmVyYXRlZCBwZGYgZnJvbSB4bWwgKi9cbiAgICAgIGNvbnN0IGZvck1vZHVsYXIgPSBhd2FpdCBYbWxUb1BkZih4bWxNb2R1bGFyT2JqKTtcbiAgICAgIFF1b3RlUmVzcG9uc2VPYmpbXCJxdW90ZV9saW5rX19jXCJdID0gZm9yTW9kdWxhci5zM0xvY2F0aW9uO1xuICAgIH1cbiAgICBpZiAoYXJncy51cGRhdGVTaXRlU2VydmljZSkge1xuICAgICAgaWYgKFxuICAgICAgICBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQgPT09IG51bGwgfHxcbiAgICAgICAgYXJncy5zaXRlU2VydmljZUZpeGVkRGlzY291bnQgPT09IG51bGxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNvZGU6IDQwMCxcbiAgICAgICAgICBtZXNzYWdlOiBcIlBsZWFzZSBwcm92aWRlIHNpdGUgc2VydmljZSBwZXJjZW50YWdlICYgZml4ZWQgZGlzY291bnRzXCIsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBRdW90ZVJlc3BvbnNlT2JqW1wic2l0ZV9zZXJ2aWNlc19kaXNjb3VudF9fY1wiXSA9IGFyZ3Muc2l0ZVNlcnZpY2VEaXNjb3VudDtcbiAgICAgIFF1b3RlUmVzcG9uc2VPYmpbXCJzaXRlX3NlcnZpY2VfZml4ZWRfZGlzY291bnRfX2NcIl0gPVxuICAgICAgICBhcmdzLnNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudDtcbiAgICAgIGNvbnN0IHhtbFNpdGVTZXJ2aWNlT2JqID0ge1xuICAgICAgICBmcm9tOiBcIlNhbGVzIEZvcmNlXCIsXG4gICAgICAgIGZpbGU6IGFyZ3Muc2l0ZVNlcnZpY2VYbWxMaW5rLFxuICAgICAgICB0eXBlOiBcInNpdGVTZXJ2aWNlWG1sXCIsXG4gICAgICAgIGRpc2NvdW50OiBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQgPyBhcmdzLnNpdGVTZXJ2aWNlRGlzY291bnQgOiAwLFxuICAgICAgICBhYnNvbHV0ZURpc2NvdW50OiBhcmdzLnNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudFxuICAgICAgICAgID8gYXJncy5zaXRlU2VydmljZUZpeGVkRGlzY291bnRcbiAgICAgICAgICA6IDAsXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RJZCxcbiAgICAgICAgb3Bwb3J0dW5pdHlJZDogYXJncy5vcHBvcnR1bml0eUlkLFxuICAgICAgICBpc1BtRmVlSW5jbHVkZWQ6IG9wcG9ydHVuaXR5LmlzX3BtX3NpdGVfX2MsXG4gICAgICAgIGNpdHlQbUZlZTogY2l0eS5pbmNsdWRlcG1mZWUsXG4gICAgICAgIGxlYWRpZDogb3Bwb3J0dW5pdHkubGVhZF9pZF9fYyxcbiAgICAgICAgZGlzcGxheW5hbWU6IFwiU2l0ZSBTZXJ2aWNlIFF1b3RhdGlvblwiLFxuICAgICAgfTtcbiAgICAgIC8qIEZ1bmN0aW9uIHRoYXQgZ2VuZXJhdGVkIHBkZiBmcm9tIHhtbCAqL1xuICAgICAgY29uc3QgZm9yU2l0ZVNlcnZpY2UgPSBhd2FpdCBYbWxUb1BkZih4bWxTaXRlU2VydmljZU9iaik7XG4gICAgICBRdW90ZVJlc3BvbnNlT2JqW1wic2l0ZV9zZXJ2aWNlc19wZGZfX2NcIl0gPSBmb3JTaXRlU2VydmljZS5zM0xvY2F0aW9uO1xuICAgIH1cbiAgICAvLyAgVXBkYXRlIGRhdGEgaW4gc2FsZXNmb3JjZS5cbiAgICBRdW90ZVJlc3BvbnNlT2JqW1wibGF0ZXN0X3F1b3RlX19jXCJdID0gdHJ1ZTtcbiAgICBjb25zdCBkYXRhVG9TRiA9IGF3YWl0IHByaXNtYS5xdW90ZS51cGRhdGUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgc2ZpZDogYXJncy5xdW90ZUlkLFxuICAgICAgfSxcbiAgICAgIGRhdGE6IFF1b3RlUmVzcG9uc2VPYmosXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IGRhdGFUb1NGLmlkID8gMjAwIDogNDAwLFxuICAgICAgbWVzc2FnZTogZGF0YVRvU0YuaWQgPyBcIlVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIgOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIsXG4gICAgICBkYXRhOiBkYXRhVG9TRi5pZCxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IFBhcnNlIGZyb20gXCJ4bWwtanNcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCB7XG4gIFVwbG9hZEZpbGVPblMzLFxuICBnZXRCdWZmZXIsXG4gIGRlbGV0ZUJsb2IsXG4gIGdldFJvb21OYW1lcyxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9iYXNlVXNlQ2FzZS9iYXNlVXNlQ2FzZVwiO1xuaW1wb3J0IHsgU0lURV9TRVJWSUNFIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUm9vbVR5cGVzRW51bXNcIjtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlWG1sQXBpID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICB0cnkge1xuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIE5lZWQgdG8gYWRkIGF1dGhlbnRpY2F0aW9uIGFuZCBzZW5kIHVzZXIgaW5mbyB0byBzYXZlIGluIGF0dGFjaG1lbnRzIHRhYmxlLlxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICBjb25zdCBvcHBvcnR1bml0eURhdGEgPSBhd2FpdCBwcmlzbWEub3Bwb3J0dW5pdHkuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGxlYWRfaWRfX2M6IGFyZ3MubGVhZElkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIW9wcG9ydHVuaXR5RGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiT3Bwb3J0dW5pdHkgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBjb25zdCBmaWxlID0ge1xuICAgICAga2V5OiBhcmdzLmZpbGVOYW1lLFxuICAgICAgY29udGVudFR5cGU6IGFyZ3MuY29udGVudFR5cGUsXG4gICAgICBiYXNlNjQ6IGFyZ3MuYmFzZTY0RmlsZSxcbiAgICAgIGxlYWRpZDogYXJncy5sZWFkSWQsXG4gICAgfTtcbiAgICBjb25zdCBhdHRhY2htZW50T2JqID0gYXdhaXQgVXBsb2FkRmlsZU9uUzMoZmlsZSk7XG4gICAgY29uc3QgeG1sOiBhbnkgPSBhd2FpdCBnZXRCdWZmZXIoYXR0YWNobWVudE9iai5maWxla2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXJzZS54bWwyanNvbih4bWwsIHsgY29tcGFjdDogdHJ1ZSwgc3BhY2VzOiA0IH0pO1xuICAgIGNvbnN0IG1haW5PYmogPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgY29uc3QgY2xpZW50TmFtZSA9IG1haW5PYmouWE1MLk9yZGVyLkhlYWQuQ09OVEFDVF9BRERSRVNTMS5fdGV4dDtcbiAgICBpZiAoIWNsaWVudE5hbWUpIHtcbiAgICAgIGF3YWl0IHJlbW92ZUZyb21CbG9iQW5kREIoYXR0YWNobWVudE9iaik7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICA0MDAsXG4gICAgICAgIFwiQ3VzdG9tZXIgbmFtZSBub3QgZm91bmQuIFBsZWFzZSB1cGxvYWQgYXBwcm9wcmlhdGUgZmlsZSFcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoY2xpZW50TmFtZS5zcGxpdChcIi1cIilbMF0gIT09IG9wcG9ydHVuaXR5RGF0YT8ubmFtZS5zcGxpdChcIi1cIilbMF0pIHtcbiAgICAgIGF3YWl0IHJlbW92ZUZyb21CbG9iQW5kREIoYXR0YWNobWVudE9iaik7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICA0MDAsXG4gICAgICAgIFwiQ3VzdG9tZXIgbmFtZSBkaWQgbm90IG1hdGNoLiBQbGVhc2UgdXBsb2FkIGFwcHJvcHJpYXRlIGZpbGUhXCJcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIG1vZHVsYXIvc2l0ZVNlcnZpY2UgQW1vdW50XG4gICAgY29uc3QgY29tbW9uQW1vdW50ID1cbiAgICAgIHBhcnNlRmxvYXQobWFpbk9iai5YTUwuT3JkZXIuSGVhZC5PUkRFUl9QUklDRV9JTkZPMy5fdGV4dCkgfHwgMDtcbiAgICBjb25zdCB0b3RhbHRheCA9XG4gICAgICBwYXJzZUZsb2F0KG1haW5PYmouWE1MLk9yZGVyLkhlYWQuT1JERVJfUFJJQ0VfSU5GTzQuX3RleHQpIHx8IDA7XG4gICAgY29uc3QgdG90YWxBbW91bnQgPVxuICAgICAgcGFyc2VGbG9hdChtYWluT2JqLlhNTC5PcmRlci5IZWFkLk9SREVSX1BSSUNFX0lORk81Ll90ZXh0KSB8fCAwO1xuICAgIC8vIG1vZHVsYXIvc2l0ZVNlcnZpY2UgRGlzY291bnRGcm9tU3BsaXQ7XG4gICAgY29uc3QgY29tbW9uRGlzY291bnRGcm9tU3BsaXQgPVxuICAgICAgbWFpbk9iai5YTUwuT3JkZXIuSGVhZC5DVVNUT01fSU5GTzQuX3RleHQuc3BsaXQoXCIlXCIpO1xuICAgIC8vIG1vZHVsYXIvc2l0ZVNlcnZpY2UgRGlzY291bnRcbiAgICBjb25zdCBjb21tb25EaXNjb3VudCA9IHBhcnNlSW50KGNvbW1vbkRpc2NvdW50RnJvbVNwbGl0KSB8fCAwO1xuICAgIGNvbnN0IGRpc2NvdW50ZWRBbW91bnQgPVxuICAgICAgcGFyc2VGbG9hdChtYWluT2JqLlhNTC5PcmRlci5IZWFkLkNVU1RPTV9JTkZPMy5fdGV4dCkgfHwgMDtcbiAgICBjb25zdCBhYnNvbHV0ZURpc2NvdW50ID1cbiAgICAgIHBhcnNlSW50KG1haW5PYmouWE1MLk9yZGVyLkhlYWQuQ1VTVE9NX0lORk81Ll90ZXh0KSB8fCAwO1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqOiBhbnkgPSB7fTtcbiAgICByZXNwb25zZU9iai5sb2NhdGlvbiA9IGF0dGFjaG1lbnRPYmoubG9jYXRpb247XG4gICAgcmVzcG9uc2VPYmouYXR0YWNobWVudCA9IGF0dGFjaG1lbnRPYmo/LmlkO1xuICAgIHJlc3BvbnNlT2JqLmZpbGVrZXkgPSBhdHRhY2htZW50T2JqPy5maWxla2V5O1xuICAgIHJlc3BvbnNlT2JqLmN1c3RvbWVyTmFtZSA9IGNsaWVudE5hbWU7XG4gICAgaWYgKGFyZ3MubW9kdWxhcikge1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhclZhbHVlID0gY29tbW9uQW1vdW50O1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckJhc2VBbW91bnQgPSBjb21tb25BbW91bnQ7XG4gICAgICByZXNwb25zZU9iai5tb2R1bGFyVG90YWxUYXggPSB0b3RhbHRheDtcbiAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJUb3RhbEFtb3VudCA9IHRvdGFsQW1vdW50O1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckRpc2NvdW50ZWRBbW91bnQgPSBkaXNjb3VudGVkQW1vdW50O1xuICAgICAgcmVzcG9uc2VPYmoubW9kdWxhckRpc2NvdW50VmFsdWUgPSBjb21tb25EaXNjb3VudDtcbiAgICAgIHJlc3BvbnNlT2JqLm1vZHVsYXJGaXhlZERpc2NvdW50ID0gYWJzb2x1dGVEaXNjb3VudDtcbiAgICB9IGVsc2UgaWYgKGFyZ3Muc2l0ZVNlcnZpY2UpIHtcbiAgICAgIHJlc3BvbnNlT2JqLnNpdGVTZXJ2aWNlVmFsdWUgPSBjb21tb25BbW91bnQ7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZUJhc2VBbW91bnQgPSBjb21tb25BbW91bnQ7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZVRvdGFsVGF4ID0gdG90YWx0YXg7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZVRvdGFsQW1vdW50ID0gdG90YWxBbW91bnQ7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZURpc2NvdW50ZWRBbW91bnQgPSBkaXNjb3VudGVkQW1vdW50O1xuICAgICAgcmVzcG9uc2VPYmouc2l0ZVNlcnZpY2VEaXNjb3VudFZhbHVlID0gY29tbW9uRGlzY291bnQ7XG4gICAgICByZXNwb25zZU9iai5zaXRlU2VydmljZUZpeGVkRGlzY291bnQgPSBhYnNvbHV0ZURpc2NvdW50O1xuICAgIH1cbiAgICBjb25zdCBidWlsZGVyTGlzdCA9IG1haW5PYmouWE1MLk9yZGVyLkJ1aWxkZXJMaXN0LlNldDtcbiAgICBpZiAoYXJncy5tb2R1bGFyKSB7XG4gICAgICBjb25zdCByb29tc0FyciA9IGdldFJvb21OYW1lcyhidWlsZGVyTGlzdCk7XG4gICAgICBjb25zdCByb29tcyA9IHJvb21zQXJyO1xuICAgICAgZm9yIChjb25zdCB2YWwgb2Ygcm9vbXMpIHtcbiAgICAgICAgY29uc3Qgcm9vbSA9IHZhbDtcbiAgICAgICAgY29uc3Qgcm9vbWxvd2VyID0gcm9vbS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoU0lURV9TRVJWSUNFLmluY2x1ZGVzKHJvb21sb3dlcikpIHtcbiAgICAgICAgICBhd2FpdCByZW1vdmVGcm9tQmxvYkFuZERCKGF0dGFjaG1lbnRPYmopO1xuICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoXG4gICAgICAgICAgICA0MDAsXG4gICAgICAgICAgICBcIk9vcHMhIExvb2tzIGxpa2UgeW91J3ZlIGFkZGVkIGluY29ycmVjdCByb29tIG5hbWUgb24gSU1PUy4gVXBsb2FkIFNpdGUgU2VydmljZXMgaW4gYSBkaWZmZXJlbnQgZmllbGRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZ3Muc2l0ZVNlcnZpY2UpIHtcbiAgICAgIGNvbnN0IHJvb21zQXJyMiA9IFtdO1xuICAgICAgbGV0IGNvdW50MiA9IDE7XG4gICAgICBsZXQgcm9vbU5hbWVGcm9tU3BsaXQyO1xuICAgICAgbGV0IF9saXN0ID0gW107XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYnVpbGRlckxpc3QpKSB7XG4gICAgICAgIF9saXN0LnB1c2goYnVpbGRlckxpc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2xpc3QgPSBidWlsZGVyTGlzdDtcbiAgICAgIH1cbiAgICAgIF9saXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGNvdW50MiA9PT0gTWF0aC5mbG9vcihlbGVtZW50LmhpZXJhcmNoaWNhbFBvcy5fdGV4dCkpIHtcbiAgICAgICAgICByb29tTmFtZUZyb21TcGxpdDIgPSBlbGVtZW50LlBWYXJTdHJpbmcuX3RleHQuc3BsaXQoXCJST09NTkFNRTo9XCIpO1xuICAgICAgICAgIHJvb21zQXJyMi5wdXNoKHJvb21OYW1lRnJvbVNwbGl0MlsxXSk7XG4gICAgICAgICAgY291bnQyKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgcm9vbXMgPSByb29tc0FycjI7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHJvb21zKSB7XG4gICAgICAgIGNvbnN0IHJvb20gPSB2YWx1ZTtcbiAgICAgICAgY29uc3Qgcm9vbWxvd2VyID0gcm9vbS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIVNJVEVfU0VSVklDRS5pbmNsdWRlcyhyb29tbG93ZXIpKSB7XG4gICAgICAgICAgYXdhaXQgcmVtb3ZlRnJvbUJsb2JBbmREQihhdHRhY2htZW50T2JqKTtcbiAgICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKFxuICAgICAgICAgICAgNDAwLFxuICAgICAgICAgICAgXCJPcHBzISBMb29rcyBsaWtlIHlvdSd2ZSBhZGRlZCBpbmNvcnJlY3Qgcm9vbSBuYW1lIG9uIElNT1MuIFVwbG9hZCBNb2R1bGFyIGluIGEgZGlmZmVyZW50IGZpZWxkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3BvbnNlT2JqLFxuICAgICAgbWVzc2FnZTogXCJYbWwgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IVwiLFxuICAgIH07XG5cbiAgICAvLyNyZWdpb24gcmVtb3ZlIGZyb20gQmxvYiBhbmQgREJcbiAgICBhc3luYyBmdW5jdGlvbiByZW1vdmVGcm9tQmxvYkFuZERCKF9hdHRhY2htZW50KSB7XG4gICAgICBpZiAoX2F0dGFjaG1lbnQpIHtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudEZpbGVLZXkgPSBfYXR0YWNobWVudC5sb2NhdGlvbjtcbiAgICAgICAgY29uc3QgYXdzRGVsZXRlUmVzID0gYXdhaXQgZGVsZXRlQmxvYihhdHRhY2htZW50RmlsZUtleSk7XG4gICAgICAgIGlmIChhd3NEZWxldGVSZXMpIHtcbiAgICAgICAgICBhd2FpdCBwcmlzbWEuZGNfYXR0YWNobWVudHMuZGVsZXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgIGlkOiBfYXR0YWNobWVudC5pZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8jZW5kcmVnaW9uXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBlcnJvcik7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGVEZENkIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIjtcblxuZXhwb3J0IGNvbnN0IGdldFF1b3RhdGlvbiA9IGFzeW5jIChfcm9vdCwgX2FyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHF1b3RlUmVzcG9uc2VPYmo7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgYXV0aGVudGljYXRlRGRDZChjb250ZXh0KTtcbiAgICBjb25zdCB7IG9wcG9ydHVuaXR5c2ZpZCB9ID0gX2FyZ3M7XG4gICAgbGV0IG9wcG9ydHVuaXR5O1xuICAgIGlmIChyZXMudXNlcikge1xuICAgICAgaWYgKCFvcHBvcnR1bml0eXNmaWQpIHtcbiAgICAgICAgcmV0dXJuIHsgY29kZTogNDAwLCBtZXNzYWdlOiBcIm9wcG9ydHVuaXR5c2ZpZCBpcyByZXF1aXJlZFwiIH07XG4gICAgICB9XG5cbiAgICAgIG9wcG9ydHVuaXR5ID0gYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHNmaWQ6IG9wcG9ydHVuaXR5c2ZpZCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuY3VzdG9tZXIpIHtcbiAgICAgIG9wcG9ydHVuaXR5ID0gYXdhaXQgcHJpc21hLm9wcG9ydHVuaXR5LmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IG1vYmlsZV9fYzogcmVzLmN1c3RvbWVyLmN1c3RvbWVycGhvbmUgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcXVvdGVzO1xuICAgIGlmIChvcHBvcnR1bml0eSkge1xuICAgICAgcXVvdGVzID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBvcHBvcnR1bml0eWlkOiBvcHBvcnR1bml0eS5zZmlkLFxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY3JlYXRlZGRhdGU6ICdhc2MnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHF1b3RlUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHF1b3RlczogcXVvdGVzIH07XG4gICAgcmV0dXJuIHF1b3RlUmVzcG9uc2VPYmo7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcXVvdGVSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH07XG4gICAgcmV0dXJuIHF1b3RlUmVzcG9uc2VPYmo7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCB7IGF1dGhlbnRpY2F0ZURkQ2QgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0UXVvdGF0aW9uQnlJZCA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgbGV0IHF1b3RlQnlJZFJlc3BvbnNlT2JqO1xuICB0cnkge1xuICAgIGF3YWl0IGF1dGhlbnRpY2F0ZURkQ2QoX2NvbnRleHQpXG4gICAgY29uc3QgcXVvdGUgPSBhd2FpdCBwcmlzbWEucXVvdGUuZmluZEZpcnN0KHsgd2hlcmU6IHsgaWQ6IGFyZ3MucXVvdGVpZCB9IH0pXG4gICAgcXVvdGVCeUlkUmVzcG9uc2VPYmogPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHF1b3RlczogcXVvdGUgfVxuICAgIHJldHVybiBxdW90ZUJ5SWRSZXNwb25zZU9iajtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBxdW90ZUJ5SWRSZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gcXVvdGVCeUlkUmVzcG9uc2VPYmo7XG4gIH1cbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmV4cG9ydCBjb25zdCBnZXRSb29tTGlzdCA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgcXVvdGVEYXRhLCByZXNwb25zZSwgcm9vbUxpc3Q7XG4gICAgaWYgKGFyZ3MuaXNQcmVTYWxlcykge1xuICAgICAgaWYgKCFhcmdzLnF1b3RlU2ZJZCkge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJTYWxlc2ZvcmNlIHF1b3RlIGlkIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgIH1cbiAgICAgIHF1b3RlRGF0YSA9IGF3YWl0IHByaXNtYS5xdW90ZS5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzZmlkOiBhcmdzLnF1b3RlU2ZJZCB9LFxuICAgICAgfSk7XG4gICAgICBpZiAocXVvdGVEYXRhLmRjX3Jvb21fbGlzdF9fYykge1xuICAgICAgICByb29tTGlzdCA9IGdldFJvb21MaXN0QXJyYXkocXVvdGVEYXRhLmRjX3Jvb21fbGlzdF9fYyk7XG4gICAgICB9XG4gICAgICByZXNwb25zZSA9IHJvb21MaXN0ID8gcm9vbUxpc3QgOiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhcmdzLnF1b3RlSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwicHJvamVjdCBxdW90ZSBpZCBpcyByZXF1aXJlZC5cIik7XG4gICAgICB9XG4gICAgICBxdW90ZURhdGEgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdF9xdW90ZXMuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGFyZ3MucXVvdGVJZCB9LFxuICAgICAgfSk7XG4gICAgICByb29tTGlzdCA9IHF1b3RlRGF0YS5yb29tbGlzdDtcbiAgICAgIHJlc3BvbnNlID0gcm9vbUxpc3QgPyByb29tTGlzdCA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogcXVvdGVEYXRhID8gMjAwIDogMjAxLFxuICAgICAgZGF0YTogcmVzcG9uc2UsXG4gICAgICBtZXNzYWdlOiBxdW90ZURhdGEgPyBcInN1Y2Nlc3NcIiA6IFwiUXVvdGUgbm90IGZvdW5kXCIsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yLm1lc3NhZ2UpO1xuICB9XG59O1xuXG5jb25zdCBnZXRSb29tTGlzdEFycmF5ID0gKHJvb21zQXJyYXkpID0+IHtcbiAgY29uc3Qgc3RyaW5naWZ5Um9vbWxpc3QgPSBKU09OLnBhcnNlKFxuICAgIEpTT04uc3RyaW5naWZ5KHJvb21zQXJyYXkpLnJlcGxhY2UoLyZxdW90Oy9nLCAnXFxcXFwiJylcbiAgKTtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyaW5naWZ5Um9vbWxpc3QpO1xufTtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBnZXRRdW90YXRpb24gfSBmcm9tIFwiLi9RdWVyaWVzL2dldFF1b3RhdGlvblwiO1xuaW1wb3J0IHsgZ2V0UXVvdGF0aW9uQnlJZCB9IGZyb20gXCIuL1F1ZXJpZXMvZ2V0UXVvdGF0aW9uQnlJZFwiO1xuaW1wb3J0IHsgZ2V0Um9vbUxpc3QgfSBmcm9tIFwiLi9RdWVyaWVzL2dldFJvb21MaXN0XCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVhtbEFwaSB9IGZyb20gXCIuL011dGF0aW9ucy9wcmVTYWxlcy92YWxpZGF0ZVhtbFwiO1xuaW1wb3J0IHsgcG9zdEJldGFRdW90ZSB9IGZyb20gXCIuL011dGF0aW9ucy9wcmVTYWxlcy9wb3N0QmV0YVF1b3RlQXBpXCI7XG5pbXBvcnQgeyBVcGRhdGVRdW90ZURldGFpbHMgfSBmcm9tIFwiLi9NdXRhdGlvbnMvcHJlU2FsZXMvdXBkYXRlUXVvdGVEZXRhaWxzRnJvbVNGXCI7XG5pbXBvcnQgeyBzYXZlQmV0YVF1b3RlQXBpIH0gZnJvbSBcIi4vTXV0YXRpb25zL3ByZVNhbGVzL3NhdmVCZXRhUXVvdGVEZXRhaWxzXCI7XG5pbXBvcnQgeyBwcm9wb3NhbFNpZ25lZFVybCB9IGZyb20gXCIuL011dGF0aW9ucy9wcmVTYWxlcy9wcm9wb3NhbFNpZ25lZFVybFwiO1xuaW1wb3J0IHsgZGVsZXRlUm9vbXdpc2UgfSBmcm9tIFwiLi9NdXRhdGlvbnMvcG9zdFNhbGVzL2RlbGV0ZVJvb213aXNlXCI7XG5pbXBvcnQgeyBQb3N0Um9vbXdpc2VYbWxBcGkgfSBmcm9tIFwiLi9NdXRhdGlvbnMvcG9zdFNhbGVzL3Bvc3RSb29tV2lzZVhtbFwiO1xuaW1wb3J0IHsgdXBkYXRlRGlzY291bnRHZW5lcmF0ZVBkZiB9IGZyb20gXCIuL011dGF0aW9ucy9wb3N0U2FsZXMvdXBkYXRlRGlzY291bnRHZW5lcmF0ZVBkZlwiO1xuaW1wb3J0IHsgdXBkYXRlUHJvamVjdENvbW1lcmNpYWwgfSBmcm9tIFwiLi9NdXRhdGlvbnMvcG9zdFNhbGVzL3VwZGF0ZVByb2plY3RDb21tZXJjaWFsXCI7XG5pbXBvcnQgeyBhY2NlcHRQcm9wb3NhbCB9IGZyb20gXCIuL011dGF0aW9ucy9wcmVTYWxlcy9hY2NlcHRQcm9wb3NhbFwiO1xuXG5leHBvcnQgY29uc3QgcXVvdGF0aW9uUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0UXVvdGF0aW9uOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldFF1b3RhdGlvbihwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRRdW90YXRpb25CeUlkOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIGdldFF1b3RhdGlvbkJ5SWQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZ2V0Um9vbUxpc3Q6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0Um9vbUxpc3QocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgLyogcHJlU2FsZXMgKi9cbiAgICBwcm9wb3NhbFNpZ25lZFVybDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBwcm9wb3NhbFNpZ25lZFVybChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBwb3N0QmV0YVF1b3RlOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHBvc3RCZXRhUXVvdGUocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgc2F2ZUJldGFRdW90ZUFwaTogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBzYXZlQmV0YVF1b3RlQXBpKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIHZhbGlkYXRlWG1sQXBpOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHZhbGlkYXRlWG1sQXBpKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIFVwZGF0ZVF1b3RlRGV0YWlsczogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBVcGRhdGVRdW90ZURldGFpbHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgYWNjZXB0UHJvcG9zYWw6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgYWNjZXB0UHJvcG9zYWwocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgLyogcG9zdFNhbGVzICovXG4gICAgUG9zdFJvb213aXNlWG1sQXBpOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIFBvc3RSb29td2lzZVhtbEFwaShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBkZWxldGVSb29td2lzZTogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBkZWxldGVSb29td2lzZShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVEaXNjb3VudEdlbmVyYXRlUGRmOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwZGF0ZURpc2NvdW50R2VuZXJhdGVQZGYocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgdXBkYXRlUHJvamVjdENvbW1lcmNpYWw6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgdXBkYXRlUHJvamVjdENvbW1lcmNpYWwocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyLFxufTtcbiIsImV4cG9ydCBjb25zdCBxdW90YXRpb25UeXBlZGVmID0gYFxuICAgIHR5cGUgUXVvdGUge1xuICAgICAgICBxdW90ZXRvZ2VvY29kZWFjY3VyYWN5OlN0cmluZ1xuICAgICAgICBkaXNjb3VudDpGbG9hdFxuICAgICAgICBzaGlwcGluZ2xvbmdpdHVkZTpGbG9hdFxuICAgICAgICBxdW90ZXRvY2l0eTpTdHJpbmdcbiAgICAgICAgcXVvdGV0b25hbWU6U3RyaW5nXG4gICAgICAgIHNpdGVfc2VydmljZXNfYW1vdW50X19jOkZsb2F0XG4gICAgICAgIHNpdGVfc2VydmljZV9maXhlZF9kaXNjb3VudF9fYzpGbG9hdFxuICAgICAgICBiaWxsaW5nc3RhdGVjb2RlOlN0cmluZ1xuICAgICAgICBzaGlwcGluZ3N0YXRlOlN0cmluZ1xuICAgICAgICBxdW90ZXRvbGF0aXR1ZGU6RmxvYXRcbiAgICAgICAgaWdzdF9fYzpGbG9hdFxuICAgICAgICBzdWJ0b3RhbDpGbG9hdFxuICAgICAgICB0b3RhbHByaWNlOkZsb2F0XG4gICAgICAgIHF1b3RlbnVtYmVyOlN0cmluZ1xuICAgICAgICBzaXRlX3NlcnZpY2VzX3BtX2Rlc2lnbl9mZWVfX2M6RmxvYXRcbiAgICAgICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfZGlzY291bnRlZF9fYzpGbG9hdFxuICAgICAgICBzaGlwcGluZ3Bvc3RhbGNvZGU6U3RyaW5nXG4gICAgICAgIGJpbGxpbmdjaXR5OlN0cmluZ1xuICAgICAgICBxdW90ZV9saW5rX19jOlN0cmluZ1xuICAgICAgICBiaWxsaW5nbmFtZTpTdHJpbmdcbiAgICAgICAgcXVvdGV0b3N0YXRlY29kZTpTdHJpbmdcbiAgICAgICAgYmlsbGluZ2xhdGl0dWRlOkZsb2F0XG4gICAgICAgIGFjY291bnRpZDpTdHJpbmdcbiAgICAgICAgYWRkaXRpb25hbGxvbmdpdHVkZTpGbG9hdFxuICAgICAgICBiaWxsaW5nY291bnRyeWNvZGU6U3RyaW5nXG4gICAgICAgIHNoaXBwaW5nY291bnRyeTpTdHJpbmdcbiAgICAgICAgY3VzdG9tZXJfZW1haWxfX2M6U3RyaW5nXG4gICAgICAgIGRlY29yX2Ftb3VudF9nc3RfX2M6RmxvYXRcbiAgICAgICAgc2hpcHBpbmdnZW9jb2RlYWNjdXJhY3k6U3RyaW5nXG4gICAgICAgIG1vZHVsYXJfZml4ZWRfZGlzY291bnRfX2M6RmxvYXRcbiAgICAgICAgbW9kdWxhcl9hbW91bnRfZGlzX2luY2xfZ3N0X19jOkZsb2F0XG4gICAgICAgIGFkZGl0aW9uYWxzdGF0ZTpTdHJpbmdcbiAgICAgICAgYWRkaXRpb25hbHN0cmVldDpTdHJpbmdcbiAgICAgICAgbmFtZTpTdHJpbmdcbiAgICAgICAgdGF4OkZsb2F0XG4gICAgICAgIHF1b3RldG9jb3VudHJ5Y29kZTpTdHJpbmdcbiAgICAgICAgbW9kdWxhcl9kaXNjb3VudF9fYzpGbG9hdFxuICAgICAgICBjb250cmFjdGlkOlN0cmluZ1xuICAgICAgICBtb2R1bGFyX2Ftb3VudF9nc3RfX2M6RmxvYXRcbiAgICAgICAgc2dzdF9fYzpGbG9hdFxuICAgICAgICBwaG9uZTpTdHJpbmdcbiAgICAgICAgb3BwdHlfZGVzaWduZXJfZW1haWxfYWRkX19jOlN0cmluZ1xuICAgICAgICBzaXRlX3NlcnZpY2VzX2Ftb3VudF9pbmNsX2dzdF9fYzpGbG9hdFxuICAgICAgICBvcHBvcnR1bml0eWlkOlN0cmluZ1xuICAgICAgICBkZWNvcl9hbW91bnRfZGlzX2luY2xfZ3N0X19jOkZsb2F0XG4gICAgICAgIGFkZGl0aW9uYWxjb3VudHJ5OlN0cmluZ1xuICAgICAgICBxdW90ZXRvcG9zdGFsY29kZTpTdHJpbmdcbiAgICAgICAgaXNkZWxldGVkOkJvb2xlYW5cbiAgICAgICAgYWRkaXRpb25hbGdlb2NvZGVhY2N1cmFjeTpTdHJpbmdcbiAgICAgICAgc3lzdGVtbW9kc3RhbXA6RGF0ZVRpbWVcbiAgICAgICAgc2hpcHBpbmdzdGF0ZWNvZGU6U3RyaW5nXG4gICAgICAgIG1vZHVsYXJfYW1vdW50X2Rpc2NvdW50ZWRfX2M6RmxvYXRcbiAgICAgICAgZGVjb3JfYW1vdW50X19jOkZsb2F0XG4gICAgICAgIG1vZHVsYXJfcG1fZGVzaWduX2ZlZV9fYzpGbG9hdFxuICAgICAgICBzaGlwcGluZ3N0cmVldDpTdHJpbmdcbiAgICAgICAgc3RhdHVzOlN0cmluZ1xuICAgICAgICBhZGRpdGlvbmFsY2l0eTpTdHJpbmdcbiAgICAgICAgYWRkaXRpb25hbG5hbWU6U3RyaW5nXG4gICAgICAgIHNoaXBwaW5naGFuZGxpbmc6RmxvYXRcbiAgICAgICAgYWRkaXRpb25hbGxhdGl0dWRlOkZsb2F0XG4gICAgICAgIGJpbGxpbmdwb3N0YWxjb2RlOlN0cmluZ1xuICAgICAgICBiaWxsaW5nbG9uZ2l0dWRlOkZsb2F0XG4gICAgICAgIGRlY29yX2Ftb3VudF9kaXNjb3VudF9fYzpGbG9hdFxuICAgICAgICBzaGlwcGluZ2NvdW50cnljb2RlOlN0cmluZ1xuICAgICAgICBkZWNvcl9hbW91bnRfZGlzY291bnRlZF9fYzpGbG9hdFxuICAgICAgICBtb2R1bGFyX2Ftb3VudF9fYzpGbG9hdFxuICAgICAgICBjcmVhdGVkZGF0ZTpEYXRlVGltZVxuICAgICAgICBiaWxsaW5nc3RhdGU6U3RyaW5nXG4gICAgICAgIGFkZGl0aW9uYWxzdGF0ZWNvZGU6U3RyaW5nXG4gICAgICAgIGN1c3RvbWVyX25hbWVfX2M6U3RyaW5nXG4gICAgICAgIHF1b3RldG9sb25naXR1ZGU6RmxvYXRcbiAgICAgICAgZ3JhbmR0b3RhbDpGbG9hdFxuICAgICAgICBzaGlwcGluZ2NpdHk6U3RyaW5nXG4gICAgICAgIHNoaXBwaW5nbmFtZTpTdHJpbmdcbiAgICAgICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfZ3N0X19jOkZsb2F0XG4gICAgICAgIHNpdGVfc2VydmljZXNfZGlzY291bnRfX2M6RmxvYXRcbiAgICAgICAgc2hpcHBpbmdsYXRpdHVkZTpGbG9hdFxuICAgICAgICBzaXRlX3NlcnZpY2VzX3BkZl9fYzpTdHJpbmdcbiAgICAgICAgcXVvdGV0b3N0YXRlOlN0cmluZ1xuICAgICAgICBxdW90ZXRvc3RyZWV0OlN0cmluZ1xuICAgICAgICBtb2R1bGFyX2Ftb3VudF9pbmNsX2dzdF9fYzpGbG9hdFxuICAgICAgICBwcmljZWJvb2syaWQ6U3RyaW5nXG4gICAgICAgIGJpbGxpbmdjb3VudHJ5OlN0cmluZ1xuICAgICAgICBjb250YWN0aWQ6U3RyaW5nXG4gICAgICAgIG9wcHR5X293bmVyX19jOlN0cmluZ1xuICAgICAgICBlbWFpbDpTdHJpbmdcbiAgICAgICAgZGVzY3JpcHRpb246U3RyaW5nXG4gICAgICAgIGFkZGl0aW9uYWxjb3VudHJ5Y29kZTpTdHJpbmdcbiAgICAgICAgYmlsbGluZ2dlb2NvZGVhY2N1cmFjeTpTdHJpbmdcbiAgICAgICAgb3BwdHlfY3VzdG9tZXJfZW1haWxfX2M6U3RyaW5nXG4gICAgICAgIGJhc2VfYW1vdW50X19jOkZsb2F0XG4gICAgICAgIGlzc3luY2luZzpCb29sZWFuXG4gICAgICAgIGZheDpTdHJpbmdcbiAgICAgICAgZXhwaXJhdGlvbmRhdGU6RGF0ZVRpbWVcbiAgICAgICAgc2l0ZV9zZXJ2aWNlc19hbW91bnRfZGlzX2luY2xfZ3N0X19jOkZsb2F0XG4gICAgICAgIHByb3Bvc2FsX3BkZl9fYzpTdHJpbmdcbiAgICAgICAgY2dzdF9fYzpGbG9hdFxuICAgICAgICBzZW5kX25vdGlmaWNhdGlvbl90b19jdXN0b21lcl9fYzpCb29sZWFuXG4gICAgICAgIGJpbGxpbmdzdHJlZXQ6U3RyaW5nXG4gICAgICAgIGFkZGl0aW9uYWxwb3N0YWxjb2RlOlN0cmluZ1xuICAgICAgICBxdW90ZXRvY291bnRyeTpTdHJpbmdcbiAgICAgICAgbGF0ZXN0X3F1b3RlX19jOkJvb2xlYW5cbiAgICAgICAgb3Bwb3J0dW5pdHlfYW1vdW50X19jOkZsb2F0XG4gICAgICAgIGRlY29yX2Ftb3VudF9pbmNsX2dzdF9fYzpGbG9hdFxuICAgICAgICBzZmlkOlN0cmluZ1xuICAgICAgICBpZDpJbnQhXG4gICAgICAgIGhjX2xhc3RvcDpTdHJpbmdcbiAgICAgICAgaGNfZXJyOlN0cmluZ1xuICAgICAgICBkY19tb2R1bGFyX3htbF9fYzpTdHJpbmdcbiAgICAgICAgZGNfc2l0ZV9zZXJ2aWNlX3htbF9fYzpTdHJpbmdcbiAgICAgICAgZGNfcm9vbV9saXN0X19jOiBTdHJpbmdcbiAgICAgICAgY2hhbmdlX3JlcXVlc3RfbGlzdF9fYzogU3RyaW5nXG4gICAgICAgIHRvdGFsX2NhbGN1bGF0ZWRfdmFsdWVfX2M6IEZsb2F0XG4gICAgICAgIHRvdGFsX2Ftb3VudF9fYzogRmxvYXRcbiAgICAgICAgcG9zdGdyZXNfaWRfX2M6IFN0cmluZ1xuICAgICAgICBpc19pbW9zX3Byb2plY3RfX2M6IEJvb2xlYW5cbiAgICB9XG5cbiAgICB0eXBlIHByb3Bvc2FsU2lnbmVkVXJsUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6IEludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTogSlNPTlxuICAgIH1cblxuICAgIHR5cGUgcG9zdEJldGFRdW90ZVJlc3BvbnNle1xuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOlN0cmluZ1xuICAgICAgICBxdW90ZWlkOlN0cmluZ1xuICAgIH1cblxuICAgIHR5cGUgc2F2ZUJldGFRdW90ZURldGFpbHNSZXNwb25zZXtcbiAgICAgICAgY29kZTogSW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIH1cblxuICAgIHR5cGUgVXBkYXRlUXVvdGVEZXRhaWxzUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6IEludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTogU3RyaW5nXG4gICAgfVxuXG4gICAgdHlwZSBWYWxpZGF0ZVhtbFJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6IFhtbFJlc3BvbnNlXG4gICAgfVxuXG4gICAgdHlwZSBYbWxSZXNwb25zZXtcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBTdHJpbmdcbiAgICAgICAgYXR0YWNobWVudDogU3RyaW5nXG4gICAgICAgIGZpbGVrZXk6IFN0cmluZ1xuICAgICAgICBsb2NhdGlvbjogU3RyaW5nXG4gICAgICAgIG1vZHVsYXJWYWx1ZTogRmxvYXRcbiAgICAgICAgbW9kdWxhckRpc2NvdW50VmFsdWU6IEludFxuICAgICAgICBtb2R1bGFyRml4ZWREaXNjb3VudDogSW50XG4gICAgICAgIG1vZHVsYXJCYXNlQW1vdW50OiBGbG9hdFxuICAgICAgICBtb2R1bGFyVG90YWxUYXg6IEZsb2F0XG4gICAgICAgIG1vZHVsYXJUb3RhbEFtb3VudDogRmxvYXRcbiAgICAgICAgbW9kdWxhckRpc2NvdW50ZWRBbW91bnQ6IEZsb2F0XG4gICAgICAgIHNpdGVTZXJ2aWNlVmFsdWU6IEZsb2F0XG4gICAgICAgIHNpdGVTZXJ2aWNlRGlzY291bnRWYWx1ZTogSW50XG4gICAgICAgIHNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudDogSW50XG4gICAgICAgIHNpdGVTZXJ2aWNlQmFzZUFtb3VudDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VUb3RhbFRheDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VUb3RhbEFtb3VudDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VEaXNjb3VudGVkQW1vdW50OiBGbG9hdFxuICAgIH1cblxuICAgIHR5cGUgWG1sUmVzcG9uc2VQcm9qZWN0e1xuICAgICAgICBjdXN0b21lck5hbWU6IFN0cmluZ1xuICAgICAgICBhdHRhY2htZW50OiBTdHJpbmdcbiAgICAgICAgZmlsZWtleTogU3RyaW5nXG4gICAgICAgIG1vZHVsYXJWYWx1ZTogRmxvYXRcbiAgICAgICAgbW9kdWxhckRpc2NvdW50VmFsdWU6IEludFxuICAgICAgICBtb2R1bGFyRml4ZWREaXNjb3VudDogSW50XG4gICAgICAgIG1vZHVsYXJCYXNlQW1vdW50OiBGbG9hdFxuICAgICAgICBtb2R1bGFyVG90YWxUYXg6IEZsb2F0XG4gICAgICAgIG1vZHVsYXJUb3RhbEFtb3VudDogRmxvYXRcbiAgICAgICAgbW9kdWxhckRpc2NvdW50ZWRBbW91bnQ6IEZsb2F0XG4gICAgICAgIHNpdGVTZXJ2aWNlVmFsdWU6IEZsb2F0XG4gICAgICAgIHNpdGVTZXJ2aWNlRGlzY291bnRWYWx1ZTogSW50XG4gICAgICAgIHNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudDogSW50XG4gICAgICAgIHNpdGVTZXJ2aWNlQmFzZUFtb3VudDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VUb3RhbFRheDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VUb3RhbEFtb3VudDogRmxvYXRcbiAgICAgICAgc2l0ZVNlcnZpY2VEaXNjb3VudGVkQW1vdW50OiBGbG9hdFxuICAgICAgICB0b3RhbFByb2plY3RWYWx1ZTogRmxvYXRcbiAgICAgICAgYWNoaWV2ZWRSZXZlbnVlVmFsdWU6IEZsb2F0XG4gICAgICAgIHBlbmRpbmdBbW91bnRWYWx1ZTogRmxvYXRcbiAgICB9XG5cbiAgICB0eXBlIHBvc3RSb29td2lzZVhtbFJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6IFhtbFJlc3BvbnNlUHJvamVjdFxuICAgIH1cblxuICAgIHR5cGUgVXBkYXRlRGlzY291bnRSZXNwb25zZXtcbiAgICAgICAgY29kZTogSW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICBkYXRhOiBKU09OXG4gICAgfVxuXG4gICAgdHlwZSB1cGRhdGVQcm9qZWN0Q29tbWVyY2lhbFJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6IEpTT05cbiAgICB9XG5cbiAgICB0eXBlIGRlbGV0ZVJvb213aXNlUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6IEludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTogSlNPTlxuICAgIH1cblxuICAgIHR5cGUgYWNjZXB0UHJvcG9zYWxSZXNwb25zZSB7XG4gICAgICAgIGNvZGU6IEludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICB9XG5cbiAgICB0eXBlIE11dGF0aW9ue1xuICAgICAgICB2YWxpZGF0ZVhtbEFwaShcbiAgICAgICAgICAgIGJhc2U2NEZpbGU6IFN0cmluZyFcbiAgICAgICAgICAgIGZpbGVOYW1lOiBTdHJpbmchXG4gICAgICAgICAgICBjb250ZW50VHlwZTogU3RyaW5nIVxuICAgICAgICAgICAgbW9kdWxhcjogQm9vbGVhblxuICAgICAgICAgICAgc2l0ZVNlcnZpY2U6IEJvb2xlYW5cbiAgICAgICAgICAgIGxlYWRJZDogU3RyaW5nIVxuICAgICAgICApOlZhbGlkYXRlWG1sUmVzcG9uc2VcblxuICAgICAgICBhY2NlcHRQcm9wb3NhbChcbiAgICAgICAgICAgIHF1b3RlSWQ6IFN0cmluZyEsXG4gICAgICAgICAgICBwcm9wb3NhbFN0YXR1czogU3RyaW5nISxcbiAgICAgICAgICAgICk6IGFjY2VwdFByb3Bvc2FsUmVzcG9uc2VcblxuICAgICAgICBwcm9wb3NhbFNpZ25lZFVybChcbiAgICAgICAgICAgIGtleTpTdHJpbmchLFxuICAgICAgICAgICAgY29udGVudFR5cGU6U3RyaW5nISxcbiAgICAgICAgICAgIGJhc2U2NDpTdHJpbmchLGxlYWRJZDpTdHJpbmchKTogcHJvcG9zYWxTaWduZWRVcmxSZXNwb25zZVxuXG4gICAgICAgIHBvc3RCZXRhUXVvdGUoXG4gICAgICAgICAgICBvcHBvcnR1bml0eWlkOiBTdHJpbmchXG4gICAgICAgICAgICBuYW1lOiBTdHJpbmchXG4gICAgICAgICAgICBtb2R1bGFyQW1vdW50OiBGbG9hdCEsXG4gICAgICAgICAgICBtb2R1bGFyRGlzY291bnQ6IEludCEsXG4gICAgICAgICAgICBtb2R1bGFyRml4ZWREaXNjb3VudDogSW50ISxcbiAgICAgICAgICAgIHNpdGVTZXJ2aWNlVmFsdWU6IEZsb2F0LFxuICAgICAgICAgICAgc2l0ZVNlcnZpY2VEaXNjb3VudDogSW50LFxuICAgICAgICAgICAgc2l0ZVNlcnZpY2VGaXhlZERpc2NvdW50OiBJbnQsXG4gICAgICAgICAgICBkZWNvclZhbHVlOiBGbG9hdCxcbiAgICAgICAgICAgIHByb3Bvc2FsX2xpbms6IFN0cmluZyFcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBTdHJpbmdcbiAgICAgICAgICAgIGtleTogU3RyaW5nXG4gICAgICAgICk6IHBvc3RCZXRhUXVvdGVSZXNwb25zZVxuXG4gICAgICAgIHNhdmVCZXRhUXVvdGVBcGkoXG4gICAgICAgICAgICBwb3N0Z3Jlc0lkOiBTdHJpbmchLFxuICAgICAgICAgICAgb3Bwb3J0dW5pdHlJZDogU3RyaW5nIVxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBTdHJpbmchXG4gICAgICAgICAgICBuYW1lOiBTdHJpbmchXG4gICAgICAgICAgICBtb2R1bGFyQW1vdW50OiBGbG9hdCEsXG4gICAgICAgICAgICBtb2R1bGFyRGlzY291bnQ6IEludCEsXG4gICAgICAgICAgICBzaXRlU2VydmljZVZhbHVlOiBGbG9hdCxcbiAgICAgICAgICAgIHNpdGVTZXJ2aWNlRGlzY291bnQ6IEludCxcbiAgICAgICAgICAgIG1vZHVsZXJYbWxMaW5rOiBTdHJpbmchLFxuICAgICAgICAgICAgc2l0ZVNlcnZpY2VYbWxMaW5rOiBTdHJpbmcsXG4gICAgICAgICAgICBwcm9wb3NhbEtleTogU3RyaW5nISxcbiAgICAgICAgICAgIHByb3Bvc2FsTG9jYXRpb246IFN0cmluZyFcbiAgICAgICAgKTogc2F2ZUJldGFRdW90ZURldGFpbHNSZXNwb25zZVxuICAgICAgICBcbiAgICAgICAgVXBkYXRlUXVvdGVEZXRhaWxzKFxuICAgICAgICAgICAgbW9kdWxhckRpc2NvdW50OkludFxuICAgICAgICAgICAgbW9kdWxhckZpeGVkRGlzY291bnQ6IEludFxuICAgICAgICAgICAgc2l0ZVNlcnZpY2VEaXNjb3VudDpJbnRcbiAgICAgICAgICAgIHNpdGVTZXJ2aWNlRml4ZWREaXNjb3VudDogSW50XG4gICAgICAgICAgICBvcHBvcnR1bml0eUlkOlN0cmluZyFcbiAgICAgICAgICAgIHVwZGF0ZVNpdGVTZXJ2aWNlOkJvb2xlYW5cbiAgICAgICAgICAgIHVwZGF0ZU1vZHVsYXI6Qm9vbGVhblxuICAgICAgICAgICAgbW9kdWxlclhtbExpbms6IFN0cmluZ1xuICAgICAgICAgICAgc2l0ZVNlcnZpY2VYbWxMaW5rOiBTdHJpbmdcbiAgICAgICAgICAgIHF1b3RlSWQ6IFN0cmluZyFcbiAgICAgICAgICAgIG5hbWU6U3RyaW5nIVxuICAgICAgICApOiBVcGRhdGVRdW90ZURldGFpbHNSZXNwb25zZVxuXG4gICAgICAgIFBvc3RSb29td2lzZVhtbEFwaShcbiAgICAgICAgICAgIGJhc2U2NEZpbGU6IFN0cmluZyFcbiAgICAgICAgICAgIGZpbGVOYW1lOiBTdHJpbmchXG4gICAgICAgICAgICBjb250ZW50VHlwZTogU3RyaW5nIVxuICAgICAgICAgICAgcHJvamVjdElkOiBJbnQhXG4gICAgICAgICk6cG9zdFJvb213aXNlWG1sUmVzcG9uc2VcblxuICAgICAgICBkZWxldGVSb29td2lzZShcbiAgICAgICAgICAgIHJvb21UeXBlOiBTdHJpbmchXG4gICAgICAgICAgICBkZFF1b3RlSWQ6IEludCFcbiAgICAgICAgKTpkZWxldGVSb29td2lzZVJlc3BvbnNlXG5cbiAgICAgICAgdXBkYXRlRGlzY291bnRHZW5lcmF0ZVBkZihcbiAgICAgICAgICAgIG1vZHVsYXJEaXNjb3VudDogSW50XG4gICAgICAgICAgICBwcm9qZWN0SWQ6IEludCFcbiAgICAgICAgICAgIHNpdGVTZXJ2aWNlRGlzY291bnQ6IEludFxuICAgICAgICAgICAgb3Bwb3J0dW5pdHlJZDogU3RyaW5nIVxuICAgICAgICAgICAgbW9kdWxhckZpeGVkRGlzY291bnQ6IEludFxuICAgICAgICAgICAgc2l0ZVNlcnZpY2VGaXhlZERpc2NvdW50OiBJbnRcbiAgICAgICAgKTpVcGRhdGVEaXNjb3VudFJlc3BvbnNlXG5cbiAgICAgICAgdXBkYXRlUHJvamVjdENvbW1lcmNpYWwoXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IEludCFcbiAgICAgICAgICAgIHByb2plY3RNb2R1bGFyVmFsdWU6IEZsb2F0IVxuICAgICAgICAgICAgcHJvamVjdFNpdGVTZXJ2aWNlc1ZhbHVlOiBGbG9hdCFcbiAgICAgICAgICAgIHByb2plY3RQZW5kaW5nQW1vdW50OiBGbG9hdCFcbiAgICAgICAgICAgIHRvdGFsUHJvamVjdFZhbHVlOiBGbG9hdCFcbiAgICAgICAgICAgIHByb2plY3RBY2hpZXZlZFJldmVudWU6IEZsb2F0IVxuICAgICAgICAgICAgbW9kdWxhckRpc2NvdW50OiBJbnQhXG4gICAgICAgICAgICBjaXZpbERpc2NvdW50OiBJbnRcbiAgICAgICAgICAgIGlzSW1vc1Byb2plY3Q6IEJvb2xlYW5cbiAgICAgICAgICAgIG1vZHVsYXJQZGZKc29uOiBwZGZSZXF1ZXN0XG4gICAgICAgICAgICBzaXRlU2VydmljZVBkZkpzb246IHBkZlJlcXVlc3RcbiAgICAgICAgKTp1cGRhdGVQcm9qZWN0Q29tbWVyY2lhbFJlc3BvbnNlXG4gICAgfVxuXG4gICAgaW5wdXQgcGRmUmVxdWVzdHtcbiAgICAgICAgZmlsZUtleTogU3RyaW5nIVxuICAgICAgICBsb2NhdGlvbjpTdHJpbmchXG5cbiAgICB9XG5cbiAgICB0eXBlIGdldFJvb21saXN0UmVzcG9uc2V7XG4gICAgICAgIGNvZGU6IEludCxcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nLFxuICAgICAgICBkYXRhOiBbSlNPTl1cbiAgICB9XG5cbiAgICB0eXBlIFF1b3RhdGlvblJlc3BvbnNlIHsgXG4gICAgICAgIGNvZGU6SW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICBxdW90ZXM6IFtRdW90ZV1cbiAgICB9XG4gICAgdHlwZSBRdW90YXRpb25CeUlkUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIHF1b3RlczogUXVvdGVcbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5e1xuICAgICAgICBnZXRSb29tTGlzdChcbiAgICAgICAgICAgIGlzUHJlU2FsZXM6IEJvb2xlYW4hLFxuICAgICAgICAgICAgcXVvdGVTZklkOiBTdHJpbmcsXG4gICAgICAgICAgICBxdW90ZUlkOiBJbnRcbiAgICAgICAgKTpnZXRSb29tbGlzdFJlc3BvbnNlXG4gICAgICAgIGdldFF1b3RhdGlvbihvcHBvcnR1bml0eXNmaWQ6IFN0cmluZyk6IFF1b3RhdGlvblJlc3BvbnNlXG4gICAgICAgIGdldFF1b3RhdGlvbkJ5SWQocXVvdGVpZDpJbnQpOiBRdW90YXRpb25CeUlkUmVzcG9uc2VcbiAgICB9XG5cbiAgICBzY2FsYXIgSlNPTlxuICAgIHNjYWxhciBEYXRlVGltZVxuYDtcbiIsImltcG9ydCB7IG1ha2VFeGVjdXRhYmxlU2NoZW1hIH0gZnJvbSBcIkBncmFwaHFsLXRvb2xzL3NjaGVtYVwiO1xuaW1wb3J0IHsgY2l0aWVzUmVzb2x2ZXIgfSBmcm9tIFwiLi9jaXRpZXMvcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGNpdGllc1R5cGVkZWYgfSBmcm9tIFwiLi9jaXRpZXMvdHlwZWRlZlwiO1xuaW1wb3J0IHsgdGVhbXNSZXNvbHZlciB9IGZyb20gXCIuL3RlYW1zL3Jlc29sdmVyc1wiO1xuaW1wb3J0IHsgdGVhbXNUeXBlZGVmIH0gZnJvbSBcIi4vdGVhbXMvdHlwZWRlZnNcIjtcbmltcG9ydCB7IHVzZXJzUmVzb2x2ZXIgfSBmcm9tIFwiLi91c2Vycy9yZXNvbHZlclwiO1xuaW1wb3J0IHsgdXNlcnNUeXBlZGVmIH0gZnJvbSBcIi4vdXNlcnMvdHlwZWRlZlwiO1xuaW1wb3J0IHsgR2xvYmFsVHlwZWRlZiB9IGZyb20gXCIuLi9hcGkvdHlwZWRlZnNcIjtcbmltcG9ydCB7IGRlcGFydG1lbnRSZXNvbHZlciB9IGZyb20gXCIuL2RlcGFydG1lbnRzL3Jlc29sdmVyc1wiO1xuaW1wb3J0IHsgZGVwYXJ0bWVudFR5cGVkZWYgfSBmcm9tIFwiLi4vYXBpL2RlcGFydG1lbnRzL3R5cGVkZWZzXCI7XG5pbXBvcnQgeyBjdXN0b21lclJlc29sdmVyIH0gZnJvbSBcIi4vY3VzdG9tZXJzL3Jlc29sdmVyc1wiO1xuaW1wb3J0IHsgY3VzdG9tZXJUeXBlZGVmcyB9IGZyb20gXCIuL2N1c3RvbWVycy90eXBlZGVmc1wiO1xuaW1wb3J0IHsgZXhwZXJpZW5jZUNlbnRlclJlc29sdmVyIH0gZnJvbSBcIi4vZXhwZXJpZW5jZUNlbnRlci9yZXNvbHZlclwiO1xuaW1wb3J0IHsgZXhwZXJpZW5jZUNlbnRlclR5cGVkZWYgfSBmcm9tIFwiLi9leHBlcmllbmNlQ2VudGVyL3R5cGVkZWZcIjtcbmltcG9ydCB7IHByb2ZpbGVzVHlwZWRlZiB9IGZyb20gXCIuL3Byb2ZpbGVzL3R5cGVkZWZcIjtcbmltcG9ydCB7IHByb2ZpbGVzUmVzb2x2ZXIgfSBmcm9tIFwiLi9wcm9maWxlcy9yZXNvbHZlclwiO1xuaW1wb3J0IHsgcHJvamVjdHNUeXBlZGVmIH0gZnJvbSBcIi4vcHJvamVjdHMvdHlwZWRlZlwiO1xuaW1wb3J0IHsgcHJvamVjdHNSZXNvbHZlciB9IGZyb20gXCIuL3Byb2plY3RzL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBwcm9qZWN0TW9tVHlwZWRlZiB9IGZyb20gXCIuL3Byb2plY3RNb20vdHlwZWRlZlwiO1xuaW1wb3J0IHsgcHJvamVjdE1vbVJlc29sdmVyIH0gZnJvbSBcIi4vcHJvamVjdE1vbS9yZXNvbHZlclwiO1xuaW1wb3J0IHsgbW9tQ29tbWVudHNUeXBlZGVmIH0gZnJvbSBcIi4vcHJvamVjdE1vbS9Db21tZW50cy90eXBlZGVmXCI7XG5pbXBvcnQgeyBtb21Db21tZW50UmVzb2x2ZXIgfSBmcm9tIFwiLi9wcm9qZWN0TW9tL0NvbW1lbnRzL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBwYXltZW50UmVxdWVzdFJlc2xvdmVyIH0gZnJvbSBcIi4vcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC9yZXNvbHZlclwiO1xuaW1wb3J0IHsgcGF5bWVudFJlcXVlc3RUeXBlZGVmIH0gZnJvbSBcIi4vcGF5bWVudE1pY3Jvc2VydmljZS9wYXltZW50UmVxdWVzdC90eXBlZGVmXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGlvblRva2VuUmVzbG92ZXIgfSBmcm9tIFwiLi9wYXltZW50TWljcm9zZXJ2aWNlL2F1dGhlbnRpY2F0aW9uL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGlvblRva2VuVHlwZWRlZiB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvYXV0aGVudGljYXRpb24vdHlwZWRlZlwiO1xuaW1wb3J0IHsgcGF5bWVudFJlY2VpcHRSZXNsb3ZlciB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvcmVzb2x2ZXJcIjtcbmltcG9ydCB7IHBheW1lbnRSZWNlaXB0VHlwZWRlZiB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvcGF5bWVudFJlY2VpcHQvdHlwZWRlZlwiO1xuaW1wb3J0IHsgY3VzdG9tZXJQYXltZW50UmVzbG92ZXJzIH0gZnJvbSBcIi4vcGF5bWVudE1pY3Jvc2VydmljZS9jdXN0b21lci9yZXNvbHZlclwiO1xuaW1wb3J0IHsgY3VzdG9tZXJQYXltZW50VHlwZWRlZiB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvY3VzdG9tZXIvdHlwZWRlZnNcIjtcbmltcG9ydCB7IFByb2plY3RQYXltZW50UmVzbG92ZXJzIH0gZnJvbSBcIi4vcGF5bWVudE1pY3Jvc2VydmljZS9wcm9qZWN0L3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBQcm9qZWN0YXltZW50VHlwZWRlZiB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvcHJvamVjdC90eXBlZGVmXCI7XG5pbXBvcnQgeyBSYXpvcnBheVJlc2xvdmVycyB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvcmF6b3JwYXkvcmVzb2x2ZXJzXCI7XG5pbXBvcnQgeyBSYXpvcnBheVR5cGVkZWYgfSBmcm9tIFwiLi9wYXltZW50TWljcm9zZXJ2aWNlL3Jhem9ycGF5L3R5cGVkZWZzXCI7XG5pbXBvcnQgeyBJbnZvaWNlUmVzb2x2ZXIgfSBmcm9tIFwiLi9wYXltZW50TWljcm9zZXJ2aWNlL2ludm9pY2UvcmVzb2x2ZXJzXCI7XG5pbXBvcnQgeyBJbnZvaWNlVHlwZWRlZiB9IGZyb20gXCIuL3BheW1lbnRNaWNyb3NlcnZpY2UvaW52b2ljZS90eXBlZGVmc1wiO1xuaW1wb3J0IHsgY2hhbmdlUmVxdWVzdFR5cGVkZWZzIH0gZnJvbSBcIi4vY2hhbmdlUmVxdWVzdC90eXBlZGVmc1wiO1xuaW1wb3J0IHsgY2hhbmdlUmVxdWVzdFJlc29sdmVyIH0gZnJvbSBcIi4vY2hhbmdlUmVxdWVzdC9yZXNvbHZlcnNcIjtcbmltcG9ydCB7IGxlYWRzVHlwZWRlZiB9IGZyb20gXCIuL2xlYWRzL3R5cGVkZWZcIjtcbmltcG9ydCB7IGxlYWRzUmVzb2x2ZXIgfSBmcm9tIFwiLi9sZWFkcy9yZXNvbHZlclwiO1xuaW1wb3J0IHsgb3Bwb3J0dW5pdHlUeXBlZGVmIH0gZnJvbSBcIi4vb3Bwb3J0dW5pdGllcy90eXBlZGVmXCI7XG5pbXBvcnQgeyBvcHBvcnR1bml0eVJlc29sdmVyIH0gZnJvbSBcIi4vb3Bwb3J0dW5pdGllcy9yZXNvbHZlclwiO1xuaW1wb3J0IHsgcmVxdWlyZW1lbnRGb3JtVHlwZWRlZiB9IGZyb20gXCIuL2N1c3RvbWVycy9yZXF1aXJlbWVudEZvcm0vdHlwZWRlZnNcIjtcbmltcG9ydCB7IHJlcXVpcmVtZW50Rm9ybVJlc29sdmVyIH0gZnJvbSBcIi4vY3VzdG9tZXJzL3JlcXVpcmVtZW50Rm9ybS9yZXNvbHZlcnNcIjtcbmltcG9ydCB7IHdpZGdldHNUeXBlZGVmIH0gZnJvbSBcIi4vd2lkZ2V0cy90eXBlZGVmXCI7XG5pbXBvcnQgeyB3aWRnZXRzUmVzb2x2ZXIgfSBmcm9tIFwiLi93aWRnZXRzL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBkY1N1cHBvcnRSZXNvbHZlciB9IGZyb20gXCIuL2RjU3VwcG9ydC9yZXNvbHZlcnNcIjtcbmltcG9ydCB7IGRjU3VwcG9ydFR5cGVkZWYgfSBmcm9tIFwiLi9kY1N1cHBvcnQvdHlwZWRlZnNcIjtcbmltcG9ydCB7IHF1b3RhdGlvblR5cGVkZWYgfSBmcm9tIFwiLi9xdW90ZXMvdHlwZWRlZnNcIjtcbmltcG9ydCB7IHF1b3RhdGlvblJlc29sdmVyIH0gZnJvbSBcIi4vcXVvdGVzL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBib29raW5nRm9ybVR5cGVkZWYgfSBmcm9tIFwiLi9jdXN0b21lcnMvQm9va2luZ0Zvcm0vdHlwZWRlZnNcIjtcbmltcG9ydCB7IGJvb2tpbmdGb3JtUmVzb2x2ZXIgfSBmcm9tIFwiLi9jdXN0b21lcnMvQm9va2luZ0Zvcm0vcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGRlc2lnblNpZ25vZmZUeXBlZGVmIH0gZnJvbSBcIi4vY3VzdG9tZXJzL0Rlc2lnblNpZ25vZmYvdHlwZWRlZnNcIjtcbmltcG9ydCB7IGRlc2lnblNpZ25vZmZSZXNvbHZlciB9IGZyb20gXCIuL2N1c3RvbWVycy9EZXNpZ25TaWdub2ZmL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBzbWFydFNoZWV0UmVzb2x2ZXIgfSBmcm9tIFwiLi9wcm9qZWN0cy9TbWFydHNoZWV0L3Jlc29sdmVyXCI7XG5pbXBvcnQgeyBzbWFydFNoZWV0VHlwZWRlZiB9IGZyb20gXCIuL3Byb2plY3RzL1NtYXJ0c2hlZXQvdHlwZWRlZlwiO1xuaW1wb3J0eyBob21lc2NyZWVuV2dpZGdldFJlc29sdmVyIH0gZnJvbSBcIi4vaG9tZXNjcmVlbldpZGdldHMvcmVzb2x2ZXJcIjtcbmltcG9ydCB7IGhvbWVzY3JlZW5XaWRnZXRUeXBlZGVmIH0gZnJvbSBcIi4vaG9tZXNjcmVlbldpZGdldHMvdHlwZWRlZnNcIjtcbmltcG9ydHsgdHJpZ2VyRW1haWxSZXNvbHZlciB9IGZyb20gXCIuL2VtYWlsTm90aWZpY2F0aW9uL3Jlc29sdmVyXCI7XG5pbXBvcnQgeyB0cmlnZ2VyRW1haWxUeXBlZGVmIH0gZnJvbSBcIi4vZW1haWxOb3RpZmljYXRpb24vdHlwZWRlZlwiO1xuXG5leHBvcnQgY29uc3Qgc2NoZW1hID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xuICB0eXBlRGVmczogW1xuICAgIGNpdGllc1R5cGVkZWYsXG4gICAgdGVhbXNUeXBlZGVmLFxuICAgIHVzZXJzVHlwZWRlZixcbiAgICBHbG9iYWxUeXBlZGVmLFxuICAgIGRlcGFydG1lbnRUeXBlZGVmLFxuICAgIGN1c3RvbWVyVHlwZWRlZnMsXG4gICAgZXhwZXJpZW5jZUNlbnRlclR5cGVkZWYsXG4gICAgcHJvZmlsZXNUeXBlZGVmLFxuICAgIGRjU3VwcG9ydFR5cGVkZWYsXG4gICAgcHJvamVjdHNUeXBlZGVmLFxuICAgIHByb2plY3RNb21UeXBlZGVmLFxuICAgIG1vbUNvbW1lbnRzVHlwZWRlZixcbiAgICBwYXltZW50UmVxdWVzdFR5cGVkZWYsXG4gICAgYXV0aGVudGljYXRpb25Ub2tlblR5cGVkZWYsXG4gICAgcGF5bWVudFJlY2VpcHRUeXBlZGVmLFxuICAgIGN1c3RvbWVyUGF5bWVudFR5cGVkZWYsXG4gICAgUHJvamVjdGF5bWVudFR5cGVkZWYsXG4gICAgUmF6b3JwYXlUeXBlZGVmLFxuICAgIHJlcXVpcmVtZW50Rm9ybVR5cGVkZWYsXG4gICAgSW52b2ljZVR5cGVkZWYsXG4gICAgY2hhbmdlUmVxdWVzdFR5cGVkZWZzLFxuICAgIGxlYWRzVHlwZWRlZixcbiAgICBvcHBvcnR1bml0eVR5cGVkZWYsXG4gICAgcmVxdWlyZW1lbnRGb3JtVHlwZWRlZixcbiAgICB3aWRnZXRzVHlwZWRlZixcbiAgICBxdW90YXRpb25UeXBlZGVmLFxuICAgIGJvb2tpbmdGb3JtVHlwZWRlZixcbiAgICBkZXNpZ25TaWdub2ZmVHlwZWRlZixcbiAgICBkZXBhcnRtZW50VHlwZWRlZixcbiAgICBzbWFydFNoZWV0VHlwZWRlZixcbiAgICBob21lc2NyZWVuV2lkZ2V0VHlwZWRlZixcbiAgICB0cmlnZ2VyRW1haWxUeXBlZGVmXG4gIF0sXG4gIHJlc29sdmVyczogW1xuICAgIGNpdGllc1Jlc29sdmVyLFxuICAgIHRlYW1zUmVzb2x2ZXIsXG4gICAgdXNlcnNSZXNvbHZlcixcbiAgICBjdXN0b21lclJlc29sdmVyLFxuICAgIGV4cGVyaWVuY2VDZW50ZXJSZXNvbHZlcixcbiAgICBwcm9maWxlc1Jlc29sdmVyLFxuICAgIGRjU3VwcG9ydFJlc29sdmVyLFxuICAgIHByb2plY3RzUmVzb2x2ZXIsXG4gICAgcHJvamVjdE1vbVJlc29sdmVyLFxuICAgIG1vbUNvbW1lbnRSZXNvbHZlcixcbiAgICBwYXltZW50UmVxdWVzdFJlc2xvdmVyLFxuICAgIGF1dGhlbnRpY2F0aW9uVG9rZW5SZXNsb3ZlcixcbiAgICBwYXltZW50UmVjZWlwdFJlc2xvdmVyLFxuICAgIGN1c3RvbWVyUGF5bWVudFJlc2xvdmVycyxcbiAgICBQcm9qZWN0UGF5bWVudFJlc2xvdmVycyxcbiAgICBSYXpvcnBheVJlc2xvdmVycyxcbiAgICByZXF1aXJlbWVudEZvcm1SZXNvbHZlcixcbiAgICBJbnZvaWNlUmVzb2x2ZXIsXG4gICAgY2hhbmdlUmVxdWVzdFJlc29sdmVyLFxuICAgIGxlYWRzUmVzb2x2ZXIsXG4gICAgb3Bwb3J0dW5pdHlSZXNvbHZlcixcbiAgICByZXF1aXJlbWVudEZvcm1SZXNvbHZlcixcbiAgICB3aWRnZXRzUmVzb2x2ZXIsXG4gICAgcXVvdGF0aW9uUmVzb2x2ZXIsXG4gICAgYm9va2luZ0Zvcm1SZXNvbHZlcixcbiAgICBkZXNpZ25TaWdub2ZmUmVzb2x2ZXIsXG4gICAgZGVwYXJ0bWVudFJlc29sdmVyLFxuICAgIHNtYXJ0U2hlZXRSZXNvbHZlcixcbiAgICBob21lc2NyZWVuV2dpZGdldFJlc29sdmVyLFxuICAgIHRyaWdlckVtYWlsUmVzb2x2ZXJcbiAgXSxcbn0pO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uL3ByaXNtYUNvbmZpZ1wiXG5cbmV4cG9ydCBjb25zdCBhZGRUZWFtID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgbGV0IHRlYW1SZXNwb25zZU9ialxuXG4gIGNvbnN0IHsgbmFtZSwgb2Rvb19pZCwgcmVwb3J0aW5nbWFuYWdlciwgdGVhbW1haWxpZCwgdGVhbWxlYWQsIGV4cGVyaWVuY2VjZW50ZXJzLCBjaXRpZXMsIHRlYW1zZGVwYXJ0bWVudCB9ID0gYXJncztcbiAgdHJ5IHtcbiAgICBjb25zdCB0ZWFtID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHRlYW1tYWlsaWQsXG4gICAgICAgIHJlcG9ydGluZ21hbmFnZXIsXG4gICAgICAgIHRlYW1sZWFkLFxuICAgICAgICBvZG9vX2lkLFxuICAgICAgICBjcmVhdGVfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHRlYW1zZGVwYXJ0bWVudFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGV4cGVyaWVuY2VjZW50ZXJBcnIgPSBbXVxuXG4gICAgZXhwZXJpZW5jZWNlbnRlcnMuZm9yRWFjaChhc3luYyBlbGVtZW50ID0+IHtcbiAgICAgIGV4cGVyaWVuY2VjZW50ZXJBcnIucHVzaCh7XG4gICAgICAgIHRlYW1pZDogdGVhbS5pZCxcbiAgICAgICAgY2VudGVyaWQ6IGVsZW1lbnQsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGF3YWl0IHByaXNtYS5kY190ZWFtc19leHBlcmllbmNlY2VudGVycy5jcmVhdGVNYW55KHsgZGF0YTogZXhwZXJpZW5jZWNlbnRlckFyciB9KVxuXG4gICAgY29uc3QgY2l0aWVzQXJyID0gW107XG4gICAgY2l0aWVzLmZvckVhY2goYXN5bmMgZWxlbWVudCA9PiB7XG4gICAgICBjaXRpZXNBcnIucHVzaCh7XG4gICAgICAgIHRlYW1pZDogdGVhbS5pZCxcbiAgICAgICAgY2l0eWlkOiBlbGVtZW50LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSlcblxuICAgIH0pO1xuICAgIGF3YWl0IHByaXNtYS5kY190ZWFtc19jaXR5LmNyZWF0ZU1hbnkoeyBkYXRhOiBjaXRpZXNBcnIgfSlcbiAgICBjb25zdCB0ZWFtcyA9IGF3YWl0IHByaXNtYS5kY190ZWFtcy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyBpZDogdGVhbS5pZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB0ZWFtX2NpdHk6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGNpdHk6IHRydWUgfVxuICAgICAgICB9LFxuICAgICAgICB0ZWFtX2V4cGVyaWVuY2VjZW50ZXJzOiB7XG4gICAgICAgICAgaW5jbHVkZTogeyBjZW50ZXI6IHRydWUgfVxuICAgICAgICB9LFxuICAgICAgICBkZXBhcnRtZW50czogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBsZXQgVGVhbSA9IGF3YWl0IGdldHRlYW0odGVhbXMpO1xuICAgIFRlYW0gPSBUZWFtLlRlYW1zO1xuICAgIHRlYW1SZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogVGVhbSB9XG4gICAgcmV0dXJuIHRlYW1SZXNwb25zZU9ialxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKDYzLGVycm9yKVxuICAgIHRlYW1SZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gdGVhbVJlc3BvbnNlT2JqXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVRlYW0gPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICBsZXQgdGVhbVJlc3BvbnNlT2JqXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpZCwgbmFtZSwgb2Rvb19pZCwgcmVwb3J0aW5nbWFuYWdlciwgdGVhbW1haWxpZCwgdGVhbWxlYWQsIHRlYW1zZGVwYXJ0bWVudCwgZXhwZXJpZW5jZWNlbnRlcnMsIGNpdGllcyB9ID0gYXJncztcblxuICAgIGF3YWl0IHByaXNtYS5kY190ZWFtcy51cGRhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lLFxuICAgICAgICB0ZWFtbWFpbGlkLFxuICAgICAgICByZXBvcnRpbmdtYW5hZ2VyLFxuICAgICAgICB0ZWFtbGVhZCxcbiAgICAgICAgb2Rvb19pZCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgdGVhbXNkZXBhcnRtZW50XG4gICAgICB9LFxuICAgICAgd2hlcmU6IHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHRlYW1DaXR5ID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zX2NpdHkuZmluZE1hbnkoeyB3aGVyZTogeyB0ZWFtaWQ6IGlkIH0gfSlcbiAgICBjb25zdCBhbHJlYWR5QXNzaWduZWRDaXRpZXMgPSBbXVxuICAgIGlmICh0ZWFtQ2l0eSkge1xuICAgICAgdGVhbUNpdHkuZm9yRWFjaChhc3luYyBlbGVtZW50ID0+IHtcbiAgICAgICAgYWxyZWFkeUFzc2lnbmVkQ2l0aWVzLnB1c2goZWxlbWVudC5jaXR5aWQpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGNpdGllc0luUmVxdWVzdCA9IFtdXG4gICAgY2l0aWVzSW5SZXF1ZXN0ID0gY2l0aWVzO1xuXG4gICAgdmFyIGNpdGllc1RvQWRkID0gY2l0aWVzSW5SZXF1ZXN0LmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuICF0aGlzLmhhcyhuKVxuICAgIH0sIG5ldyBTZXQoYWxyZWFkeUFzc2lnbmVkQ2l0aWVzKSk7XG4gICAgbGV0IGNpdGllc1RvQmVBZGRlZCA9IFtdO1xuXG4gICAgY29uc3QgY2l0aWVzQXJyID0gW107XG5cbiAgICBpZiAoY2l0aWVzVG9BZGQpIHtcbiAgICAgIGNpdGllc1RvQmVBZGRlZCA9IGNpdGllc1RvQWRkO1xuICAgICAgY2l0aWVzVG9CZUFkZGVkLmZvckVhY2goYXN5bmMgZWxlbWVudCA9PiB7XG4gICAgICAgIGNpdGllc0Fyci5wdXNoKHtcbiAgICAgICAgICB0ZWFtaWQ6IGlkLFxuICAgICAgICAgIGNpdHlpZDogZWxlbWVudCxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pXG5cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgcHJpc21hLmRjX3RlYW1zX2NpdHkuY3JlYXRlTWFueSh7IGRhdGE6IGNpdGllc0FyciB9KVxuXG4gICAgfVxuXG4gICAgdmFyIGNpdGllc1RvRGVsZXRlID0gYWxyZWFkeUFzc2lnbmVkQ2l0aWVzLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuICF0aGlzLmhhcyhuKVxuICAgIH0sIG5ldyBTZXQoY2l0aWVzSW5SZXF1ZXN0KSk7XG5cbiAgICBsZXQgY2l0aWVzVG9CZURlbGV0ZWQgPSBbXTtcblxuICAgIGlmIChjaXRpZXNUb0RlbGV0ZSkge1xuICAgICAgY2l0aWVzVG9CZURlbGV0ZWQgPSBjaXRpZXNUb0RlbGV0ZTtcbiAgICAgIGF3YWl0IHByaXNtYS5kY190ZWFtc19jaXR5LmRlbGV0ZU1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGNpdHlpZDogeyBpbjogY2l0aWVzVG9CZURlbGV0ZWQgfSxcbiAgICAgICAgICB0ZWFtaWQ6IGlkXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG5cbiAgICB9XG5cbiAgICBjb25zdCB0ZWFtRUMgPSBhd2FpdCBwcmlzbWEuZGNfdGVhbXNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZE1hbnkoeyB3aGVyZTogeyB0ZWFtaWQ6IGlkIH0gfSlcbiAgICBjb25zdCBhbHJlYWR5QXNzaWduZWRFQyA9IFtdXG4gICAgaWYgKHRlYW1FQz8ubGVuZ3RoKSB7XG4gICAgICB0ZWFtRUMuZm9yRWFjaChhc3luYyBlbGVtZW50ID0+IHtcbiAgICAgICAgYWxyZWFkeUFzc2lnbmVkRUMucHVzaChlbGVtZW50LmNlbnRlcmlkKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBFQ0luUmVxdWVzdCA9IFtdXG4gICAgRUNJblJlcXVlc3QgPSBleHBlcmllbmNlY2VudGVycztcblxuICAgIHZhciBFQ3NUb0FkZCA9IEVDSW5SZXF1ZXN0LmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuICF0aGlzLmhhcyhuKVxuICAgIH0sIG5ldyBTZXQoYWxyZWFkeUFzc2lnbmVkRUMpKTtcbiAgICBsZXQgRUNzVG9CZUFkZGVkID0gW107XG5cbiAgICBjb25zdCBleHBlcmllbmNlY2VudGVyQXJyID0gW107XG5cbiAgICBpZiAoRUNzVG9BZGQ/Lmxlbmd0aCkge1xuICAgICAgRUNzVG9CZUFkZGVkID0gRUNzVG9BZGQ7XG4gICAgICBFQ3NUb0JlQWRkZWQuZm9yRWFjaChhc3luYyBlbGVtZW50ID0+IHtcbiAgICAgICAgZXhwZXJpZW5jZWNlbnRlckFyci5wdXNoKHtcbiAgICAgICAgICB0ZWFtaWQ6IGlkLFxuICAgICAgICAgIGNlbnRlcmlkOiBlbGVtZW50LFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSlcblxuICAgICAgfSk7XG4gICAgICBhd2FpdCBwcmlzbWEuZGNfdGVhbXNfZXhwZXJpZW5jZWNlbnRlcnMuY3JlYXRlTWFueSh7IGRhdGE6IGV4cGVyaWVuY2VjZW50ZXJBcnIgfSlcblxuICAgIH1cblxuICAgIHZhciBFQ3NUb0RlbGV0ZSA9IGFscmVhZHlBc3NpZ25lZEVDLmZpbHRlcihmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuICF0aGlzLmhhcyhuKVxuICAgIH0sIG5ldyBTZXQoRUNJblJlcXVlc3QpKTtcblxuICAgIGxldCBFQ3NUb0JlRGVsZXRlZCA9IFtdO1xuXG4gICAgaWYgKEVDc1RvRGVsZXRlPy5sZW5ndGgpIHtcblxuICAgICAgRUNzVG9CZURlbGV0ZWQgPSBFQ3NUb0RlbGV0ZTtcblxuICAgICAgYXdhaXQgcHJpc21hLmRjX3RlYW1zX2V4cGVyaWVuY2VjZW50ZXJzLmRlbGV0ZU1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGNlbnRlcmlkOiB7IGluOiBFQ3NUb0JlRGVsZXRlZCB9LFxuICAgICAgICAgIHRlYW1pZDogaWRcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgdGVhbXMgPSBhd2FpdCBwcmlzbWEuZGNfdGVhbXMuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHsgaWQ6IGlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHRlYW1fY2l0eToge1xuICAgICAgICAgIGluY2x1ZGU6IHsgY2l0eTogdHJ1ZSB9XG4gICAgICAgIH0sXG4gICAgICAgIHRlYW1fZXhwZXJpZW5jZWNlbnRlcnM6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGNlbnRlcjogdHJ1ZSB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlcGFydG1lbnRzOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuXG4gICAgbGV0IFRlYW0gPSBhd2FpdCBnZXR0ZWFtKHRlYW1zKTtcbiAgICBUZWFtID0gVGVhbS5UZWFtcztcblxuICAgIHRlYW1SZXNwb25zZU9iaiA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogVGVhbSB9XG4gICAgcmV0dXJuIHRlYW1SZXNwb25zZU9ialxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRlYW1SZXNwb25zZU9iaiA9IHsgY29kZTogNDAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICByZXR1cm4gdGVhbVJlc3BvbnNlT2JqXG4gIH1cbn07XG5cbmNvbnN0IGdldHRlYW0gPSBhc3luYyAodGVhbXMpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBUZWFtczogdGVhbXMubWFwKCh0ZWFtKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50ZWFtLFxuICAgICAgICBjaXRpZXM6IHRlYW0udGVhbV9jaXR5Lm1hcCgoYykgPT4ge1xuICAgICAgICAgIHJldHVybiB7IG5hbWU6IGMuY2l0eS5uYW1lLCBpZDogYy5jaXR5LmlkIH07XG4gICAgICAgIH0pLFxuICAgICAgICBleHBlcmllbmNlY2VudGVyczogdGVhbS50ZWFtX2V4cGVyaWVuY2VjZW50ZXJzLm1hcCgoYykgPT4ge1xuICAgICAgICAgIHJldHVybiB7IG5hbWU6IGMuY2VudGVyLm5hbWUsIGNlbnRlcmlkOiBjLmNlbnRlci5jZW50ZXJpZCB9O1xuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSlcbiAgfVxufVxuXG5cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCB7IGRlZmF1bHRSZXNwb25zZU9iaiB9IGZyb20gXCIuLi8uLi91dGlscy9jb21tb25VdGlsc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsVGVhbXMgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHRlYW1zID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zLmZpbmRNYW55KHtcbiAgICBpbmNsdWRlOiB7XG4gICAgICB0ZWFtX2NpdHk6IHtcbiAgICAgICAgaW5jbHVkZTogeyBjaXR5OiB0cnVlIH0sXG4gICAgICB9LFxuICAgICAgdGVhbV9leHBlcmllbmNlY2VudGVyczoge1xuICAgICAgICBpbmNsdWRlOiB7IGNlbnRlcjogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIHJlcG9ydGluZ21hbmFnZXJ1c2VyOnRydWUsXG4gICAgICBkZXBhcnRtZW50czogdHJ1ZSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIFRlYW1zOiB0ZWFtcy5tYXAoKHRlYW0pID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRlYW0sXG4gICAgICAgIGNpdGllczogdGVhbS50ZWFtX2NpdHkubWFwKChjKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgbmFtZTogYy5jaXR5Lm5hbWUsIGlkOiBjLmNpdHkuaWQgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzOiB0ZWFtLnRlYW1fZXhwZXJpZW5jZWNlbnRlcnMubWFwKChjKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgbmFtZTogYy5jZW50ZXIubmFtZSwgY2VudGVyaWQ6IGMuY2VudGVyLmNlbnRlcmlkIH07XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUZWFtQnlJZCA9IGFzeW5jKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+e1xuICBjb25zdCB7aWR9ID0gYXJncztcbiAgdHJ5e1xuICAgIGNvbnN0IGZldGNoZWRUZWFtID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6e1xuICAgICAgICBpZDppZFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdGVhbV9jaXR5OiB7XG4gICAgICAgICAgaW5jbHVkZTogeyBjaXR5OiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRlYW1fZXhwZXJpZW5jZWNlbnRlcnM6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGNlbnRlcjogdHJ1ZSB9LFxuICAgICAgICB9LFxuICAgICAgICBkZXBhcnRtZW50czogdHJ1ZSxcbiAgICAgIH1cbiAgICB9KVxuICAgIGRlZmF1bHRSZXNwb25zZU9iai5jb2RlID0gMjAwXG4gICAgZGVmYXVsdFJlc3BvbnNlT2JqLmRhdGEgPSAge1xuICAgICAgLi4uZmV0Y2hlZFRlYW0sXG4gICAgICBjaXRpZXM6IGZldGNoZWRUZWFtLnRlYW1fY2l0eS5tYXAoKGMpID0+IHtcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogYy5jaXR5Lm5hbWUsIGlkOiBjLmNpdHkuaWQgfTtcbiAgICAgIH0pLFxuICAgICAgZXhwZXJpZW5jZWNlbnRlcnM6IGZldGNoZWRUZWFtLnRlYW1fZXhwZXJpZW5jZWNlbnRlcnMubWFwKChjKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6IGMuY2VudGVyLm5hbWUsIGNlbnRlcmlkOiBjLmNlbnRlci5jZW50ZXJpZCB9O1xuICAgICAgfSksXG4gICAgfTtcbiAgfVxuICBjYXRjaChlKXtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDQwMFxuICAgIGRlZmF1bHRSZXNwb25zZU9iai5tZXNzYWdlID0gZS5tZXNzYWdlXG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRSZXNwb25zZU9iajtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEZpbHRlcmVkVGVhbSA9IGFzeW5jIChfcm9vdCwgYXJncywgX2NvbnRleHQpID0+IHtcbiAgY29uc3QgeyBkZXBhcnRtZW50IH0gPSBhcmdzO1xuICBjb25zdCB0ZWFtcyA9IGF3YWl0IHByaXNtYS5kY190ZWFtcy5maW5kTWFueSh7XG4gICAgd2hlcmU6IHsgZGVwYXJ0bWVudDogZGVwYXJ0bWVudCB9LFxuICAgIGluY2x1ZGU6IHtcbiAgICAgIHRlYW1fY2l0eToge1xuICAgICAgICBpbmNsdWRlOiB7IGNpdHk6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgICBkZXBhcnRtZW50czogdHJ1ZSxcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIFRlYW1zOiB0ZWFtcy5tYXAoKHRlYW0pID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRlYW0sXG4gICAgICAgIGNpdGllczogdGVhbS50ZWFtX2NpdHkubWFwKChjKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgbmFtZTogYy5jaXR5Lm5hbWUgfTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0pLFxuICB9O1xufTtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBnZXRBbGxUZWFtcywgZ2V0RmlsdGVyZWRUZWFtLCBnZXRUZWFtQnlJZCB9IGZyb20gXCIuL3F1ZXJpZXNcIjtcbmltcG9ydCB7IGFkZFRlYW0sIHVwZGF0ZVRlYW0gfSBmcm9tIFwiLi9tdXRhdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IHRlYW1zUmVzb2x2ZXIgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgZ2V0QWxsVGVhbXM6IGFzeW5jICgpID0+IGdldEFsbFRlYW1zKCksXG4gICAgZ2V0RmlsdGVyZWRUZWFtczogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRGaWx0ZXJlZFRlYW0ocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgZ2V0VGVhbUJ5SWQ6YXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRUZWFtQnlJZChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KVxuICB9LFxuICBNdXRhdGlvbjoge1xuICAgIGFkZFRlYW06IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgYWRkVGVhbShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB1cGRhdGVUZWFtOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHVwZGF0ZVRlYW0ocGFyZW50LCBfYXJncywgY29udGV4dClcbiAgfSxcbiAgRGF0ZVRpbWU6IERhdGVUaW1lUmVzb2x2ZXIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IHRlYW1zVHlwZWRlZiA9IGBcbiAgICB0eXBlIFRlYW1ze1xuICAgICAgICBuYW1lOlN0cmluZ1xuICAgICAgICB0ZWFtbWFpbGlkOlN0cmluZ1xuICAgICAgICByZXBvcnRpbmdtYW5hZ2VyOlN0cmluZ1xuICAgICAgICB0ZWFtbGVhZDpTdHJpbmdcbiAgICAgICAgZGVwYXJ0bWVudDpTdHJpbmdcbiAgICAgICAgb2Rvb19pZDpTdHJpbmdcbiAgICAgICAgY3JlYXRlX2F0OkRhdGVUaW1lXG4gICAgICAgIHVwZGF0ZWRfYXQ6RGF0ZVRpbWVcbiAgICAgICAgaWQ6SW50XG4gICAgICAgIHRlYW1zZGVwYXJ0bWVudDpJbnRcbiAgICAgICAgZGVwYXJ0bWVudHM6RGVwYXJ0bWVudFxuICAgICAgICBjaXRpZXM6IFtDaXRpZXNdXG4gICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzOiBbRXhwZXJpZW5jZUNlbnRlcnNdLFxuICAgICAgICByZXBvcnRpbmdtYW5hZ2VydXNlcjpVc2Vyc1xuICAgIH1cbiBcbiAgICB0eXBlIGdldEFsbFRlYW1ze1xuICAgICAgICBUZWFtczogW1RlYW1zIV0hXG4gICAgfVxuXG4gICAgdHlwZSBUZWFtUmVzcG9uc2UgeyBcbiAgICAgICAgY29kZTpJbnRcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIGRhdGE6W1RlYW1zIV0hXG4gICAgfVxuXG4gICAgdHlwZSBHZXRUZWFtQnlJZFJlc3BvbnNle1xuICAgICAgICBjb2RlOkludFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICAgICAgZGF0YTpUZWFtc1xuICAgIH1cblxuICAgIHR5cGUgUXVlcnl7XG4gICAgICAgIGdldFRlYW1CeUlkKGlkOkludCk6R2V0VGVhbUJ5SWRSZXNwb25zZVxuICAgICAgICBnZXRBbGxUZWFtczogZ2V0QWxsVGVhbXNcbiAgICAgICAgZ2V0RmlsdGVyZWRUZWFtcyhwYWdlSW5kZXg6IEludCwgcGFnZVNpemU6IEludCxkZXBhcnRtZW50OiBTdHJpbmcpOiBnZXRBbGxUZWFtc1xuICAgIH1cblxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIGFkZFRlYW0obmFtZTpTdHJpbmchLFxuICAgICAgICAgICAgb2Rvb19pZDpTdHJpbmcsXG4gICAgICAgICAgICByZXBvcnRpbmdtYW5hZ2VyOkludCEsXG4gICAgICAgICAgICB0ZWFtbGVhZDpTdHJpbmcsXG4gICAgICAgICAgICB0ZWFtbWFpbGlkOlN0cmluZyEsXG4gICAgICAgICAgICBleHBlcmllbmNlY2VudGVyczogW0ludF0hXG4gICAgICAgICAgICBjaXRpZXM6IFtJbnRdISxcbiAgICAgICAgICAgIHRlYW1zZGVwYXJ0bWVudDogSW50ISxcbiAgICAgICAgICAgIGNyZWF0ZV9hdDpEYXRlVGltZSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6RGF0ZVRpbWUpOiBUZWFtUmVzcG9uc2UgIFxuICAgICAgICAgXG4gICAgICAgIHVwZGF0ZVRlYW0oXG4gICAgICAgICAgICBpZDpJbnQhXG4gICAgICAgICAgICBuYW1lOlN0cmluZyxcbiAgICAgICAgICAgIG9kb29faWQ6U3RyaW5nLFxuICAgICAgICAgICAgcmVwb3J0aW5nbWFuYWdlcjpJbnQsXG4gICAgICAgICAgICB0ZWFtbGVhZDpTdHJpbmcsXG4gICAgICAgICAgICB0ZWFtbWFpbGlkOlN0cmluZyxcbiAgICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzOiBbSW50XVxuICAgICAgICAgICAgY2l0aWVzOiBbSW50XSxcbiAgICAgICAgICAgIHRlYW1zZGVwYXJ0bWVudDogSW50LFxuICAgICAgICAgICAgdXBkYXRlZF9hdDpEYXRlVGltZSk6IFRlYW1SZXNwb25zZVxuICAgIH1cbiAgICBzY2FsYXIgRGF0ZVRpbWVcbmA7XG4iLCJleHBvcnQgY29uc3QgR2xvYmFsVHlwZWRlZiA9IGBcbnR5cGUgUHJvZmlsZXMge1xuICAgIHByb2ZpbGVpZDogSW50IVxuICAgIHByb2ZpbGVfbmFtZTogU3RyaW5nXG4gICAgc3RhdHVzOiBCb29sZWFuXG4gICAgY3JlYXRlZF9kYXRlOiBEYXRlVGltZVxuICAgIHVwZGF0ZWRfYXQ6IERhdGVUaW1lXG59XG5gO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgbWFwQWxsVXNlcnMgfSBmcm9tIFwiLi4vUXVlcmllcy9HZXRBbGxVc2Vyc1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlciA9IGFzeW5jIChpZCkgPT4ge1xuICAgIHRyeXtcbiAgICAgICAgY29uc3QgZmV0Y2hlZFVzZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZE1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6e3VzZXJpZDppZH0sXG4gICAgICAgICAgICBpbmNsdWRlOntcbiAgICAgICAgICAgICAgICB1c2Vyc19jaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHsgY2l0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnM6e1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOnsgY2VudGVyOnRydWUgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcnNfdGVhbTp7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6eyB0ZWFtOnRydWUgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG1hcEFsbFVzZXJzKGZldGNoZWRVc2VyKTtcbiAgICB9XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIHJldHVybiBlLm1lc3NhZ2U7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgc3VwZXJhZ2VudCBmcm9tIFwic3VwZXJhZ2VudFwiO1xuaW1wb3J0IHsgUHJvZmlsZVR5cGVFbnVtQ29kZSB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vZW51bWVyYXRpb25zL1Byb2ZpbGVUeXBlRW51bVV0aWxcIjtcbmltcG9ydCB7IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvYmFzZVVzZUNhc2Uvc3VwcG9ydHBhbEJhc2VVc2VDYXNlXCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmNvbnN0IGFkZFVzZXJUb1NmID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgY29uc3QgdGVhbU5hbWVzQXJyID0gW107XG4gIGNvbnN0IGV4cGVyaWVuY0NlbnRlcnNBcnIgPSBbXTtcbiAgY29uc3QgY2l0aWVzQXJyID0gW107XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICBjb25zdCBmZXRjaGVkVGVhbXMgPSBhd2FpdCBwcmlzbWEuZGNfdGVhbXMuZmluZE1hbnkoe1xuICAgIHdoZXJlOiB7XG4gICAgICBPUjogdXNlci5kZXNpZ25lcl90ZWFtLm1hcCgodGVhbSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB0ZWFtLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgfSxcbiAgfSk7XG5cbiAgZmV0Y2hlZFRlYW1zLmZvckVhY2goKHRlYW0pID0+IHtcbiAgICB0ZWFtTmFtZXNBcnIucHVzaCh0ZWFtLm5hbWUpO1xuICB9KTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbiAgY29uc3QgZmV0Y2hlZEV4cGVyaWVuY2VDZW50ZXJzID0gYXdhaXQgcHJpc21hLmRjX2V4cGVyaWVuY2VjZW50ZXJzLmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgT1I6IHVzZXIuZXhwZXJpZW5jZV9jZW50ZXIubWFwKChleHApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjZW50ZXJpZDogZXhwLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgfSxcbiAgfSk7XG4gIGZldGNoZWRFeHBlcmllbmNlQ2VudGVycy5mb3JFYWNoKChleHApID0+IHtcbiAgICBleHBlcmllbmNDZW50ZXJzQXJyLnB1c2goZXhwLm5hbWUpO1xuICB9KTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICBjb25zdCBmZXRjaGVkQ2l0aWVzID0gYXdhaXQgcHJpc21hLmRjX2NpdGllcy5maW5kTWFueSh7XG4gICAgd2hlcmU6IHtcbiAgICAgIE9SOiB1c2VyLnJlZ2lvbi5tYXAoKGNpdHkpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogY2l0eSxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgIH0sXG4gIH0pO1xuICBmZXRjaGVkQ2l0aWVzLmZvckVhY2goKGNpdHkpID0+IHtcbiAgICBjaXRpZXNBcnIucHVzaChjaXR5Lm5hbWUpO1xuICB9KTtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICBjb25zdCBmZXRjaGVkUHJvZmlsZSA9IGF3YWl0IHByaXNtYS5kY19wcm9maWxlLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHtcbiAgICAgIHByb2ZpbGVpZDogdXNlci5yb2xlLFxuICAgIH0sXG4gIH0pO1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgZGVzaWduZXJfZGFzaGJvYXJkX0lEOiB1c2VyLmRlc2lnbmVyX2Rhc2hib2FyZF9JRCxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBtb2JpbGU6IHVzZXIubW9iaWxlLFxuICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgIHJvbGU6IGZldGNoZWRQcm9maWxlLnByb2ZpbGVfbmFtZSxcbiAgICBkZXNpZ25lcl90ZWFtOiB0ZWFtTmFtZXNBcnIudG9TdHJpbmcoKSxcbiAgICBleHBlcmllbmNlX2NlbnRlcjogZXhwZXJpZW5jQ2VudGVyc0Fyci50b1N0cmluZygpLFxuICAgIHJlZ2lvbjogY2l0aWVzQXJyLnRvU3RyaW5nKCksXG4gIH07XG5cbiAgY29uc3Qgc2ZSZXNwb25zZSA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAucG9zdChgJHtwcm9jZXNzLmVudi5zYWxlc2ZvcmNlVXJsfS9kZXNpZ25lcnVzZXJgKVxuICAgIC5zZW5kKHBheWxvYWQpXG4gICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cbiAgaWYgKHNmUmVzcG9uc2UuYm9keS5TdGF0dXNDb2RlID09PSBcIjIwMFwiKSB7XG4gICAgcmV0dXJuIHNmUmVzcG9uc2UuYm9keS5EZXNpZ25lcl9Vc2VyX0lkO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIGxldCBhZGRVc2VyUmVzcG9uc2VPYmo7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgZW1waWQsXG4gICAgICBmaXJzdG5hbWUsXG4gICAgICBsYXN0bmFtZSxcbiAgICAgIG1pZGRsZW5hbWUsXG4gICAgICBwaG9uZW51bWJlcixcbiAgICAgIGRlc2lnbmNhZmVlbWFpbCxcbiAgICAgIHByb2ZpbGVpZCxcbiAgICAgIHJlcG9ydGluZ21hbmFnZXIsXG4gICAgICB0ZWFtLFxuICAgICAgZXhwZXJpZW5jZWNlbnRlcnMsXG4gICAgICBjaXR5LFxuICAgIH0gPSBhcmdzO1xuXG4gICAgY29uc3QgQ2hlY2tFbWFpbEFscmVhZHlFeGlzdCA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5jb3VudChcbiAgICAgIHtcbiAgICAgICAgd2hlcmU6e1xuICAgICAgICAgIGRlc2lnbmNhZmVlbWFpbDpkZXNpZ25jYWZlZW1haWxcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICAgIGlmKENoZWNrRW1haWxBbHJlYWR5RXhpc3QgPiAwKXtcbiAgICAgIHJldHVybiB7Y29kZTo0MDAsIG1lc3NhZ2U6J0VtYWlsIGFscmVhZHkgZXhpc3RzJ31cbiAgICB9XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBlbXBpZDogZW1waWQsXG4gICAgICAgIGZpcnN0bmFtZSxcbiAgICAgICAgbGFzdG5hbWUsXG4gICAgICAgIG1pZGRsZW5hbWUsXG4gICAgICAgIHBob25lbnVtYmVyLFxuICAgICAgICBwcm9maWxlaWQsXG4gICAgICAgIGRlc2lnbmNhZmVlbWFpbCxcbiAgICAgICAgcmVwb3J0aW5nbWFuYWdlcixcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCB1c2VyUGF5bG9hZEZvclNGID0ge1xuICAgICAgbmFtZTogYCR7Zmlyc3RuYW1lPy50cmltKCl9JHtcbiAgICAgICAgbWlkZGxlbmFtZSA/IFwiIFwiICsgbWlkZGxlbmFtZT8udHJpbSgpICsgXCIgXCIgOiBcIiBcIlxuICAgICAgfSR7bGFzdG5hbWU/LnRyaW0oKX1gLFxuICAgICAgZGVzaWduZXJfZGFzaGJvYXJkX0lEOiB1c2VyLnVzZXJpZCxcbiAgICAgIGVtYWlsOiBkZXNpZ25jYWZlZW1haWwsXG4gICAgICBtb2JpbGU6IHBob25lbnVtYmVyLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICByb2xlOiBwcm9maWxlaWQsXG4gICAgICBkZXNpZ25lcl90ZWFtOiB0ZWFtLFxuICAgICAgZXhwZXJpZW5jZV9jZW50ZXI6IGV4cGVyaWVuY2VjZW50ZXJzLFxuICAgICAgcmVnaW9uOiBjaXR5LFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyU0ZJZCA9IGF3YWl0IGFkZFVzZXJUb1NmKHVzZXJQYXlsb2FkRm9yU0YpO1xuXG4gICAgY29uc29sZS5sb2codXNlci51c2VyaWQsIHVzZXJTRklkKTtcblxuICAgIGF3YWl0IHByaXNtYS5kY191c2Vycy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNhbGVzZm9yY2V1c2VyaWQ6IHVzZXJTRklkLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHVzZXJUZWFtQXJyID0gW107XG4gICAgdGVhbS5mb3JFYWNoKGFzeW5jIChlbGVtZW50KSA9PiB7XG4gICAgICB1c2VyVGVhbUFyci5wdXNoKHtcbiAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgdGVhbWlkOiBlbGVtZW50LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX3RlYW0uY3JlYXRlTWFueSh7IGRhdGE6IHVzZXJUZWFtQXJyIH0pO1xuICAgIGNvbnN0IHVzZXJDaXR5QXJyID0gW107XG4gICAgY2l0eS5mb3JFYWNoKGFzeW5jIChlbGVtZW50KSA9PiB7XG4gICAgICB1c2VyQ2l0eUFyci5wdXNoKHtcbiAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgY2l0eWlkOiBlbGVtZW50LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX2NpdHkuY3JlYXRlTWFueSh7IGRhdGE6IHVzZXJDaXR5QXJyIH0pO1xuICAgIGNvbnN0IHVzZXJFY0FyciA9IFtdO1xuICAgIGV4cGVyaWVuY2VjZW50ZXJzLmZvckVhY2goYXN5bmMgKGVsZW1lbnQpID0+IHtcbiAgICAgIHVzZXJFY0Fyci5wdXNoKHtcbiAgICAgICAgdXNlcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgY2VudGVyaWQ6IGVsZW1lbnQsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhd2FpdCBwcmlzbWEuZGNfdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMuY3JlYXRlTWFueSh7IGRhdGE6IHVzZXJFY0FyciB9KTtcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyB1c2VyaWQ6IHVzZXIudXNlcmlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHVzZXJzX2NpdHk6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGNpdHk6IHRydWUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnM6IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGNlbnRlcjogdHJ1ZSB9LFxuICAgICAgICB9LFxuICAgICAgICB1c2Vyc190ZWFtOiB7XG4gICAgICAgICAgaW5jbHVkZTogeyB0ZWFtOiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGxldCByZXNwb25zZTtcblxuICAgIGlmIChcbiAgICAgIHVzZXIucHJvZmlsZWlkID09PSBQcm9maWxlVHlwZUVudW1Db2RlLklOX0hPVVNFX0RFU0lHTkVSIHx8XG4gICAgICB1c2VyLnByb2ZpbGVpZCA9PT0gUHJvZmlsZVR5cGVFbnVtQ29kZS5ERVNJR05fUEFSVE5FUlxuICAgICkge1xuICAgICAgYXdhaXQgY3JlYXRlU3VwcG9ydFBhbFVzZXIodXNlciwgMiwgcmVzcG9uc2UpOyAvLyBvcGVyYXRvciBpZFxuICAgIH0gZWxzZSBpZiAodXNlci5wcm9maWxlaWQgPT09IFByb2ZpbGVUeXBlRW51bUNvZGUuQ0hNX0VYRUNVVElWRSkge1xuICAgICAgYXdhaXQgY3JlYXRlU3VwcG9ydFBhbFVzZXIodXNlciwgMywgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBhZGRVc2VyUmVzcG9uc2VPYmogPSB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSBhZGRlZCB1c2VyXCIsXG4gICAgICBkYXRhOiB1c2Vycy5tYXAoKGFkZHVzZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5hZGR1c2VyLFxuICAgICAgICAgIGNpdGllczogYWRkdXNlci51c2Vyc19jaXR5Lm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IGMuY2l0eS5pZCB9O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzOiBhZGR1c2VyLnVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2VudGVyaWQ6IGMuY2VudGVyLmNlbnRlcmlkIH07XG4gICAgICAgICAgfSksXG4gICAgICAgICAgdGVhbXM6IGFkZHVzZXIudXNlcnNfdGVhbS5tYXAoKGMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBjLnRlYW0uaWQgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgIH07XG4gICAgcmV0dXJuIGFkZFVzZXJSZXNwb25zZU9iajtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBhZGRVc2VyUmVzcG9uc2VPYmogPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICAgIHJldHVybiBhZGRVc2VyUmVzcG9uc2VPYmo7XG4gIH1cbn07XG5jb25zdCBjcmVhdGVTdXBwb3J0UGFsVXNlciA9IGFzeW5jICh1c2VyLCBncm91cCwgcmVzcG9uc2UpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBvcGVyYXRvciA9IGF3YWl0IFN1cHBvcnRQYWxCYXNlVXNlY2FzZSgpLmNyZWF0ZU9wZXJhdG9yKHtcbiAgICAgIGZpcnN0bmFtZTogdXNlci5maXJzdG5hbWUsXG4gICAgICBsYXN0bmFtZTogdXNlci5sYXN0bmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyLmRlc2lnbmNhZmVlbWFpbCxcbiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5zdXBwb3J0UGFsRENQYXNzd29yZCwgLy8gaGFyZGNvZGUgcHdkIGFzIHJlcXVlc3RlZCBieSBjbGllbnRcbiAgICAgIGdyb3VwOiBncm91cCxcbiAgICB9KTtcblxuICAgIGlmICghb3BlcmF0b3IuZGF0YS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiVW5hYmxlIHRvIGNyZWF0ZSBvcGVyYXRvciBpbiBTYWxlc2ZvcmNlISFcIik7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJvcGVyYXRvci5kYXRhLmlkID09PT09PT09PT09PiBcIiwgb3BlcmF0b3IuZGF0YS5pZCk7XG4gICAgLy8gZGV2IGNvbW1lbnRcblxuICAgIGF3YWl0IHByaXNtYS5kY191c2Vycy51cGRhdGUoe1xuICAgICAgZGF0YTogeyBzdXBwb3J0cGFsb3BlcmF0b3JpZDogb3BlcmF0b3IuZGF0YS5pZCB9LFxuICAgICAgd2hlcmU6IHsgdXNlcmlkOiB1c2VyLnVzZXJpZCB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9O1xuICB9XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgbWFwQWxsVXNlcnMgfSBmcm9tIFwiLi4vUXVlcmllcy9HZXRBbGxVc2Vyc1wiO1xuaW1wb3J0IHN1cGVyYWdlbnQgZnJvbSBcInN1cGVyYWdlbnRcIjtcblxuY29uc3QgYWRkRWRpdGVkVXNlckRldGFpbHNUb1NmID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgICBjb25zdCB0ZWFtTmFtZXNBcnIgPSBbXTtcbiAgICBjb25zdCBleHBlcmllbmNDZW50ZXJzQXJyID0gW107XG4gICAgY29uc3QgY2l0aWVzQXJyID0gW107XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4gICAgY29uc3QgZmV0Y2hlZFRlYW1zID0gYXdhaXQgcHJpc21hLmRjX3RlYW1zLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBPUjogdXNlci5kZXNpZ25lcl90ZWFtLm1hcCgodGVhbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IHRlYW0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBmZXRjaGVkVGVhbXMuZm9yRWFjaCgodGVhbSkgPT4ge1xuICAgICAgICB0ZWFtTmFtZXNBcnIucHVzaCh0ZWFtLm5hbWUpO1xuICAgICAgfSk7XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbiAgICBjb25zdCBmZXRjaGVkRXhwZXJpZW5jZUNlbnRlcnMgPSBhd2FpdCBwcmlzbWEuZGNfZXhwZXJpZW5jZWNlbnRlcnMuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICBPUjogdXNlci5leHBlcmllbmNlX2NlbnRlci5tYXAoKGV4cCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNlbnRlcmlkOiBleHAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBmZXRjaGVkRXhwZXJpZW5jZUNlbnRlcnMuZm9yRWFjaCgoZXhwKSA9PiB7XG4gICAgICAgIGV4cGVyaWVuY0NlbnRlcnNBcnIucHVzaChleHAubmFtZSk7XG4gICAgfSk7XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICAgIGNvbnN0IGZldGNoZWRDaXRpZXMgPSBhd2FpdCBwcmlzbWEuZGNfY2l0aWVzLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgT1I6IHVzZXIucmVnaW9uLm1hcCgoY2l0eSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBjaXR5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgZmV0Y2hlZENpdGllcy5mb3JFYWNoKChjaXR5KSA9PiB7XG4gICAgICAgIGNpdGllc0Fyci5wdXNoKGNpdHkubmFtZSk7XG4gICAgfSk7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICAgIGNvbnN0IGZldGNoZWRQcm9maWxlID0gYXdhaXQgcHJpc21hLmRjX3Byb2ZpbGUuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgcHJvZmlsZWlkOiB1c2VyLnJvbGUsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgZGVzaWduZXJfZGFzaGJvYXJkX0lEOiB1c2VyLmRlc2lnbmVyX2Rhc2hib2FyZF9JRCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIG1vYmlsZTogdXNlci5tb2JpbGUsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICByb2xlOiBmZXRjaGVkUHJvZmlsZS5wcm9maWxlX25hbWUsXG4gICAgICAgIGRlc2lnbmVyX3RlYW06IHRlYW1OYW1lc0Fyci50b1N0cmluZygpLFxuICAgICAgICBleHBlcmllbmNlX2NlbnRlcjogZXhwZXJpZW5jQ2VudGVyc0Fyci50b1N0cmluZygpLFxuICAgICAgICByZWdpb246IGNpdGllc0Fyci50b1N0cmluZygpLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNmUmVzcG9uc2UgPSBhd2FpdCBzdXBlcmFnZW50XG4gICAgICAgIC5wb3N0KGAke3Byb2Nlc3MuZW52LnNhbGVzZm9yY2VVcmx9L2Rlc2lnbmVydXNlcmApXG4gICAgICAgIC5zZW5kKHBheWxvYWQpXG4gICAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgY29uc29sZS5sb2coc2ZSZXNwb25zZS5ib2R5KVxuICAgICAgaWYgKHNmUmVzcG9uc2UuYm9keS5TdGF0dXNDb2RlID09PSBcIjIwMFwiKSB7XG4gICAgICAgIHJldHVybiBzZlJlc3BvbnNlLmJvZHkuRGVzaWduZXJfVXNlcl9JZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuXG59XG5cblxuZXhwb3J0IGNvbnN0IGVkaXRVc2VycyA9IGFzeW5jKHBhcmVudCwgYXJncywgY29udGV4dCkgPT57XG4gICAgY29uc3QgZWRpdFVzZXJSZXNwb25zZSA9IHtcbiAgICAgICAgY29kZToyMDAsXG4gICAgICAgIG1lc3NhZ2U6XCJcIixcbiAgICAgICAgdXNlcnM6bnVsbFxuICAgIH1cblxuICAgIHRyeXtcbiAgICAgICAgY29uc3Qge2lkLGVtcGlkLGRlcGFydG1lbnRpZCxmaXJzdG5hbWUsbWlkZGxlbmFtZSxsYXN0bmFtZSx1c2VybmFtZSxwaG9uZW51bWJlcixkZXNpZ25jYWZlZW1haWwscmVwb3J0aW5nbWFuYWdlcixpc2JldGF1c2VyLHByb2ZpbGVpZCxjaXRpZXMsZXhwZXJpZW5jZWNlbnRlcnMsdGVhbXN9PWFyZ3M7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMudXBkYXRlKHtcbiAgICAgICAgICAgIGRhdGE6e2VtcGlkLGRlcGFydG1lbnRpZCxmaXJzdG5hbWUsbWlkZGxlbmFtZSxsYXN0bmFtZSx1c2VybmFtZSxwaG9uZW51bWJlcixkZXNpZ25jYWZlZW1haWwscmVwb3J0aW5nbWFuYWdlcixpc2JldGF1c2VyLHByb2ZpbGVpZH0sXG4gICAgICAgICAgICB3aGVyZTp7XG4gICAgICAgICAgICAgICAgdXNlcmlkOmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgdXNlclBheWxvYWRGb3JTRiA9IHtcbiAgICAgICAgICAgIG5hbWU6IGAke2ZpcnN0bmFtZT8udHJpbSgpfSR7XG4gICAgICAgICAgICAgIG1pZGRsZW5hbWUgPyBcIiBcIiArIG1pZGRsZW5hbWU/LnRyaW0oKSArIFwiIFwiIDogXCIgXCJcbiAgICAgICAgICAgIH0ke2xhc3RuYW1lPy50cmltKCl9YCxcbiAgICAgICAgICAgIGRlc2lnbmVyX2Rhc2hib2FyZF9JRDogdXNlci51c2VyaWQsXG4gICAgICAgICAgICBlbWFpbDogZGVzaWduY2FmZWVtYWlsLFxuICAgICAgICAgICAgbW9iaWxlOiBwaG9uZW51bWJlcixcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgcm9sZTogcHJvZmlsZWlkLFxuICAgICAgICAgICAgZGVzaWduZXJfdGVhbTogdGVhbXMsXG4gICAgICAgICAgICBleHBlcmllbmNlX2NlbnRlcjogZXhwZXJpZW5jZWNlbnRlcnMsXG4gICAgICAgICAgICByZWdpb246IGNpdGllcyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVzZXJTRklkID0gYXdhaXQgYWRkRWRpdGVkVXNlckRldGFpbHNUb1NmKHVzZXJQYXlsb2FkRm9yU0YpO1xuICAgICAgICBjb25zb2xlLmxvZygnKioqKioqKioqKioqKioqKioqKioqKioqKicpXG4gICAgICAgIGNvbnNvbGUubG9nKHVzZXIudXNlcmlkLCB1c2VyU0ZJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCcqKioqKioqKioqKioqKioqKioqKioqKioqJylcblxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgICBBZGQgdGhlIENpdGllcyB3aGljaCBhcmUgcHJlc2VudCBpbiBjaXRpZXNbXSBBcnIgYnV0IG5vdCBpbiBhbHJlYWR5IGFzc2luZ25lZCBBcnJheSh1c2VyQ2l0eVtdKSBhbmRcbiAgICAgICAgIGRlbGV0ZSB0aG9zZSBjaXR5IHdoaWNoIGFyZSBwcmVzZW50IGluIGFzc2lnbmVkIEFycmF5ICh1c2VyQ2l0eVtdKSBidXQgbm90IHByZXNlbnQgaW4gY2l0aWVzW10gQXJyXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgICBpZihjaXRpZXMpe1xuICAgICAgICAgICAgY29uc3QgdXNlckNpdHkgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnNfY2l0eS5maW5kTWFueSh7IHdoZXJlOiB7IHVzZXJpZDogaWQgfSB9KVxuICAgICAgICAgICAgYXdhaXQgbWFuYWdlQ2l0aWVzV2hpbGVFZGl0aW5nKHVzZXJDaXR5LGNpdGllcyxpZCk7XG4gICAgICAgIH1cblxuICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgIEFkZCB0aGUgRXhwZXJpZW5jZSBjZW50ZXIgd2hpY2ggYXJlIHByZXNlbnQgaW4gZXhwZXJpZW5jZWNlbnRlcnNbXSBBcnIgYnV0IG5vdCBpbiBhbHJlYWR5IGFzc2luZ25lZCBBcnJheSh1c2VyRUNbXSkgYW5kXG4gICAgICAgICBkZWxldGUgdGhvc2UgZXhwZXJpZW5jY2VudGVycyB3aGljaCBhcmUgcHJlc2VudCBpbiBhc3NpZ25lZCBBcnJheSAodXNlckVDW10pIGJ1dCBub3QgcHJlc2VudCBpbiBleHBlcmllbmNlY2VudGVyc1tdIEFyclxuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICBpZihleHBlcmllbmNlY2VudGVycyl7XG4gICAgICAgIGNvbnN0IHVzZXJFQyA9IGF3YWl0IHByaXNtYS5kY191c2Vyc19leHBlcmllbmNlY2VudGVycy5maW5kTWFueSh7IHdoZXJlOiB7IHVzZXJpZDogaWQgfSB9KVxuICAgICAgICBhd2FpdCBtYW5hZ2VFQ3doaWxlRWRpdGluZyh1c2VyRUMsZXhwZXJpZW5jZWNlbnRlcnMsaWQpO1xuICAgICAgIH1cblxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICBBZGQgdGhlIFRlYW1zIHdoaWNoIGFyZSBwcmVzZW50IGluIHRlYW1zW10gQXJyIGJ1dCBub3QgaW4gYWxyZWFkeSBhc3NpbmduZWQgQXJyYXkodXNlclRlYW1zW10pIGFuZFxuICAgICAgICAgIGRlbGV0ZSB0aG9zZSB0ZWFtcyB3aGljaCBhcmUgcHJlc2VudCBpbiBhc3NpZ25lZCBBcnJheSAodXNlclRlYW1zW10pIGJ1dCBub3QgcHJlc2VudCBpbiB0ZWFtc1tdIEFyclxuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICAgICBpZih0ZWFtcyl7XG4gICAgICAgICAgICBjb25zdCB1c2VyVGVhbXMgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnNfdGVhbS5maW5kTWFueSh7IHdoZXJlOiB7IHVzZXJpZDogaWQgfSB9KVxuICAgICAgICAgICAgY29uc29sZS5sb2coNDUsdXNlclRlYW1zKVxuICAgICAgICAgICAgYXdhaXQgbWFuYWdlVGVhbXNXaGlsZUVkaXRpbmcodXNlclRlYW1zLHRlYW1zLGlkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmZXRjaGVkVXNlckJ5VXNlcklkID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOntcbiAgICAgICAgICAgICAgICB1c2VyaWQ6aWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmNsdWRlOntcbiAgICAgICAgICAgICAgICB1c2Vyc19jaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHsgY2l0eTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcnNfZXhwZXJpZW5jZWNlbnRlcnM6e1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOnsgY2VudGVyOnRydWUgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlcnNfdGVhbTp7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6eyB0ZWFtOnRydWUgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBlZGl0VXNlclJlc3BvbnNlLnVzZXJzID0gbWFwQWxsVXNlcnMoZmV0Y2hlZFVzZXJCeVVzZXJJZCk7XG59XG4gICAgY2F0Y2goZSl7XG4gICAgICAgIGNvbnNvbGUubG9nKDY5LGUpO1xuICAgICAgICBlZGl0VXNlclJlc3BvbnNlLmNvZGUgPSA0MDA7XG4gICAgICAgIGVkaXRVc2VyUmVzcG9uc2UubWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICAgICAgZWRpdFVzZXJSZXNwb25zZS51c2VycyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVkaXRVc2VyUmVzcG9uc2U7XG59XG5cbmNvbnN0IG1hbmFnZUNpdGllc1doaWxlRWRpdGluZyA9IGFzeW5jKHVzZXJDaXR5LGNpdGllcyx1c2VyaWQpID0+e1xuICAgIGNvbnN0IGNpdGllc1RvQmVBZGRlZCA9IFtdO1xuICAgIGNvbnN0IGNpdGllc1RvQmVEZWxldGVkID0gW107XG4gICAgY2l0aWVzLmZvckVhY2goKGNpdHkpPT57XG4gICAgICAgIGNvbnN0IGlzQ2l0eUFscmVhZHlBZGRlZCA9IHVzZXJDaXR5LmZpbmQoKGNpdHlBc3NpZ25lZFRvVXNlcik9PntcbiAgICAgICAgICAgIHJldHVybiBjaXR5QXNzaWduZWRUb1VzZXIuY2l0eWlkID09PSBjaXR5XG4gICAgICAgIH0pXG4gICAgICAgIGlmKCFpc0NpdHlBbHJlYWR5QWRkZWQpe1xuICAgICAgICAgICAgY2l0aWVzVG9CZUFkZGVkLnB1c2goe1xuICAgICAgICAgICAgICAgIHVzZXJpZDp1c2VyaWQsXG4gICAgICAgICAgICAgICAgY2l0eWlkOmNpdHksXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDpuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6bmV3IERhdGUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICB1c2VyQ2l0eS5mb3JFYWNoKChjaXR5QXNzaWduZWRUb1VzZXIpPT57XG4gICAgICAgIGlmKCFjaXRpZXMuaW5jbHVkZXMoY2l0eUFzc2lnbmVkVG9Vc2VyLmNpdHlpZCkpe1xuICAgICAgICAgICAgY2l0aWVzVG9CZURlbGV0ZWQucHVzaChjaXR5QXNzaWduZWRUb1VzZXIuY2l0eWlkKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmKGNpdGllc1RvQmVBZGRlZC5sZW5ndGggPiAwKXtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX2NpdHkuY3JlYXRlTWFueSh7ZGF0YTogY2l0aWVzVG9CZUFkZGVkfSlcbiAgICB9XG5cbiAgICBpZihjaXRpZXNUb0JlRGVsZXRlZC5sZW5ndGggPiAwKXtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX2NpdHkuZGVsZXRlTWFueSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBjaXR5aWQ6IHsgaW46IGNpdGllc1RvQmVEZWxldGVkIH0sXG4gICAgICAgICAgICAgIHVzZXJpZDogdXNlcmlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgfVxufVxuXG5jb25zdCBtYW5hZ2VFQ3doaWxlRWRpdGluZyA9IGFzeW5jICh1c2VyRUMsZXhwZXJpZW5jZWNlbnRlcnMsdXNlcmlkKT0+e1xuICAgICAgICBjb25zdCBlY1RvQmVBZGRlZCA9IFtdO1xuICAgICAgICBjb25zdCBlY1RvQmVEZWxldGVkID0gW107XG5cbiAgICAgICAgZXhwZXJpZW5jZWNlbnRlcnMuZm9yRWFjaCgoZWMpPT57XG4gICAgICAgICAgICBjb25zdCBpc0VDQWxyZWFkeUFkZGVkID0gdXNlckVDLmZpbmQoKGV4cGVyaWVuY0NlbnRlcnNBc3NpZ25lZFRvVXNlcnMpPT57XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cGVyaWVuY0NlbnRlcnNBc3NpZ25lZFRvVXNlcnMuY2VudGVyaWQgPT09IGVjXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZighaXNFQ0FscmVhZHlBZGRlZCl7XG4gICAgICAgICAgICAgICAgZWNUb0JlQWRkZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJpZDp1c2VyaWQsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcmlkOmVjLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX2F0Om5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6bmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgdXNlckVDLmZvckVhY2goKGV4cGVyaWVuY0NlbnRlcnNBc3NpZ25lZFRvVXNlcnMpPT57XG4gICAgICAgICAgICBpZighZXhwZXJpZW5jZWNlbnRlcnMuaW5jbHVkZXMoZXhwZXJpZW5jQ2VudGVyc0Fzc2lnbmVkVG9Vc2Vycy5jZW50ZXJpZCkpe1xuICAgICAgICAgICAgICAgIGVjVG9CZURlbGV0ZWQucHVzaChleHBlcmllbmNDZW50ZXJzQXNzaWduZWRUb1VzZXJzLmNlbnRlcmlkKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmKGVjVG9CZUFkZGVkLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX2V4cGVyaWVuY2VjZW50ZXJzLmNyZWF0ZU1hbnkoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGVjVG9CZUFkZGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoZWNUb0JlRGVsZXRlZC5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIGF3YWl0IHByaXNtYS5kY191c2Vyc19leHBlcmllbmNlY2VudGVycy5kZWxldGVNYW55KHtcbiAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgY2VudGVyaWQ6IHsgaW46IGVjVG9CZURlbGV0ZWQgfSxcbiAgICAgICAgICAgICAgICAgIHVzZXJpZDogdXNlcmlkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgfVxufVxuXG5jb25zdCBtYW5hZ2VUZWFtc1doaWxlRWRpdGluZyA9IGFzeW5jKHVzZXJUZWFtcyx0ZWFtcyx1c2VyaWQpPT57XG4gICAgY29uc3QgdGVhbXNUb0JlQWRkZWQgPSBbXTtcbiAgICBjb25zdCB0ZWFtc1RvQmVEZWxldGVkID0gW107XG5cbiAgICB0ZWFtcy5mb3JFYWNoKCh0ZWFtKT0+e1xuICAgICAgICBjb25zdCBpc1RlYW1zQWxyZWFkeUFkZGVkID0gdXNlclRlYW1zLmZpbmQoKHRlYW1Bc3NpZ25lZFRvVXNlcik9PntcbiAgICAgICAgICAgIHJldHVybiB0ZWFtQXNzaWduZWRUb1VzZXIudGVhbWlkID09PSB0ZWFtXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYoIWlzVGVhbXNBbHJlYWR5QWRkZWQpe1xuICAgICAgICAgICAgdGVhbXNUb0JlQWRkZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgdXNlcmlkOnVzZXJpZCxcbiAgICAgICAgICAgICAgICB0ZWFtaWQ6dGVhbSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0Om5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDpuZXcgRGF0ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIHVzZXJUZWFtcy5mb3JFYWNoKCh0ZWFtQXNzaWduZWRUb1VzZXIpPT57XG4gICAgICAgIGlmKCF0ZWFtcy5pbmNsdWRlcyh0ZWFtQXNzaWduZWRUb1VzZXIudGVhbWlkKSl7XG4gICAgICAgICAgICB0ZWFtc1RvQmVEZWxldGVkLnB1c2godGVhbUFzc2lnbmVkVG9Vc2VyLnRlYW1pZClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBpZih0ZWFtc1RvQmVBZGRlZC5sZW5ndGggPiAwKXtcbiAgICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzX3RlYW0uY3JlYXRlTWFueSh7XG4gICAgICAgICAgICBkYXRhOiB0ZWFtc1RvQmVBZGRlZFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmKHRlYW1zVG9CZURlbGV0ZWQubGVuZ3RoID4gMCl7XG4gICAgICAgIGF3YWl0IHByaXNtYS5kY191c2Vyc190ZWFtLmRlbGV0ZU1hbnkoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgdGVhbWlkOiB7IGluOiB0ZWFtc1RvQmVEZWxldGVkIH0sXG4gICAgICAgICAgICAgIHVzZXJpZDogdXNlcmlkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBQcm9maWxlVHlwZUVudW1Db2RlIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvZmlsZVR5cGVFbnVtVXRpbFwiO1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsRGVzaWduZXJzID0gYXN5bmMgKF9yb290LCBfYXJncywgX2NvbnRleHQpID0+IHtcblxuICAgIGNvbnN0IGdldEFsbERlc2lnbmVyc1Jlc3BvbnNlID0ge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIG1lc3NhZ2U6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkZXNpZ25lcnM6IG51bGxcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB3aGVyZUNvbmRpdGlvbjogYW55ID0ge31cbiAgICAgICAgd2hlcmVDb25kaXRpb24uT1IgPSBbXTtcbiAgICAgICAgd2hlcmVDb25kaXRpb24uT1IucHVzaChcbiAgICAgICAgICAgIHsgcHJvZmlsZWlkOiBQcm9maWxlVHlwZUVudW1Db2RlLlNUVURJT19NQU5BR0VSX0RQIH0sXG4gICAgICAgICAgICB7IHByb2ZpbGVpZDogUHJvZmlsZVR5cGVFbnVtQ29kZS5JTl9IT1VTRV9ERVNJR05FUiB9LFxuICAgICAgICAgICAgeyBwcm9maWxlaWQ6IFByb2ZpbGVUeXBlRW51bUNvZGUuQVNTT0NJQVRFX1NUVURJT19NQU5BR0VSIH0sXG4gICAgICAgICAgICB7IHByb2ZpbGVpZDogUHJvZmlsZVR5cGVFbnVtQ29kZS5TVFVESU9fTUFOQUdFUiB9LFxuICAgICAgICAgICAgeyBwcm9maWxlaWQ6IFByb2ZpbGVUeXBlRW51bUNvZGUuREVTSUdOX1BBUlRORVIgfSlcbiAgICAgICAgY29uc3QgYWxsRGVzaWduZXJzID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiB3aGVyZUNvbmRpdGlvblxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmxvZyhhbGxEZXNpZ25lcnMpXG4gICAgICAgIGdldEFsbERlc2lnbmVyc1Jlc3BvbnNlLmRlc2lnbmVycyA9IGFsbERlc2lnbmVycztcblxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBnZXRBbGxEZXNpZ25lcnNSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgICAgICBnZXRBbGxEZXNpZ25lcnNSZXNwb25zZS5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICAgICAgICBnZXRBbGxEZXNpZ25lcnNSZXNwb25zZS5kZXNpZ25lcnMgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRBbGxEZXNpZ25lcnNSZXNwb25zZTtcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGdldEFsbFVzZXJzID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICBjb25zdCB7dXNlclR5cGV9ID0gYXJnc1xuXG4gIGNvbnN0IGdldEFsbFVzZXJzUmVzcG9uc2UgPSB7XG4gICAgY29kZTogMjAwLFxuICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgdXNlcnM6IG51bGwsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBhbGxVc2VycyA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kTWFueSh7XG4gICAgICB3aGVyZSA6IHtcbiAgICAgICAgcHJvZmlsZWlkOnVzZXJUeXBlXG4gICAgICB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB1c2Vyc19jaXR5OiB7XG4gICAgICAgICAgaW5jbHVkZTogeyBjaXR5OiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHByb2ZpbGU6IHRydWUsXG4gICAgICAgIHVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzOiB7XG4gICAgICAgICAgaW5jbHVkZTogeyBjZW50ZXI6IHRydWUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlcnNfdGVhbToge1xuICAgICAgICAgIGluY2x1ZGU6IHsgdGVhbTogdHJ1ZSB9LFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH0pO1xuICAgIGdldEFsbFVzZXJzUmVzcG9uc2UudXNlcnMgPSBtYXBBbGxVc2VycyhhbGxVc2Vycyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZygzOCxlKVxuICAgIGdldEFsbFVzZXJzUmVzcG9uc2UuY29kZSA9IDQwMDtcbiAgICBnZXRBbGxVc2Vyc1Jlc3BvbnNlLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgZ2V0QWxsVXNlcnNSZXNwb25zZS51c2VycyA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gZ2V0QWxsVXNlcnNSZXNwb25zZTtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXBBbGxVc2VycyA9IChhbGxVc2VycykgPT4ge1xuICByZXR1cm4gYWxsVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnVzZXIsXG4gICAgICBjaXRpZXM6IHVzZXIudXNlcnNfY2l0eS5tYXAoKHVzZXJDaXR5KSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogdXNlckNpdHkuY2l0eT8ubmFtZSxcbiAgICAgICAgICBzdGF0dXM6IHVzZXJDaXR5LmNpdHk/LnN0YXR1cyxcbiAgICAgICAgICBvZG9vX2lkOiB1c2VyQ2l0eS5jaXR5Py5vZG9vX2lkLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXJDaXR5LmNpdHk/LmNyZWF0ZWRfYXQsXG4gICAgICAgICAgdXBkYXRlZF9hdDogdXNlckNpdHkuY2l0eT8udXBkYXRlZF9hdCxcbiAgICAgICAgICBpZDogdXNlckNpdHkuY2l0eT8uaWQsXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHRlYW1zOiB1c2VyLnVzZXJzX3RlYW0ubWFwKCh1c2Vyc1RlYW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB1c2Vyc1RlYW0udGVhbT8ubmFtZSxcbiAgICAgICAgICB0ZWFtbWFpbGlkOiB1c2Vyc1RlYW0udGVhbT8udGVhbW1haWxpZCxcbiAgICAgICAgICByZXBvcnRpbmdtYW5hZ2VyOiB1c2Vyc1RlYW0udGVhbT8ucmVwb3J0aW5nbWFuYWdlcixcbiAgICAgICAgICB0ZWFtbGVhZDogdXNlcnNUZWFtLnRlYW0/LnRlYW1sZWFkLFxuICAgICAgICAgIGRlcGFydG1lbnQ6IHVzZXJzVGVhbS50ZWFtPy5kZXBhcnRtZW50LFxuICAgICAgICAgIG9kb29faWQ6IHVzZXJzVGVhbS50ZWFtPy5vZG9vX2lkLFxuICAgICAgICAgIGNyZWF0ZV9hdDogdXNlcnNUZWFtLnRlYW0/LmNyZWF0ZV9hdCxcbiAgICAgICAgICB1cGRhdGVkX2F0OiB1c2Vyc1RlYW0udGVhbT8udXBkYXRlZF9hdCxcbiAgICAgICAgICBpZDogdXNlcnNUZWFtLnRlYW0/LmlkLFxuICAgICAgICAgIHRlYW1zZGVwYXJ0bWVudDogdXNlcnNUZWFtLnRlYW0/LnRlYW1zZGVwYXJ0bWVudCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgZXhwZXJpZW5jZWNlbnRlcnM6IHVzZXIudXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMubWFwKFxuICAgICAgICAodXNlcnNFeHBlcmllbmNlQ2VudGVycykgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjZW50ZXJpZDogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXI/LmNlbnRlcmlkLFxuICAgICAgICAgICAgbmFtZTogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXI/Lm5hbWUsXG4gICAgICAgICAgICBvZG9vX2lkOiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlcj8ub2Rvb19pZCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXJzRXhwZXJpZW5jZUNlbnRlcnMuY2VudGVyPy5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXI/LnVwZGF0ZWRfYXQsXG4gICAgICAgICAgICBlY3R5cGU6IHVzZXJzRXhwZXJpZW5jZUNlbnRlcnMuY2VudGVyPy5lY3R5cGUsXG4gICAgICAgICAgICBhZGRyZXNzOiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlcj8uYWRkcmVzcyxcbiAgICAgICAgICAgIGNlbnRlcmhlYWQ6IHVzZXJzRXhwZXJpZW5jZUNlbnRlcnMuY2VudGVyPy5jZW50ZXJoZWFkLFxuICAgICAgICAgICAgY2l0eTogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXI/LmNpdHksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICB9O1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBkZWZhdWx0UmVzcG9uc2VPYmogfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvY29tbW9uVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUlkID0gYXN5bmMgKF9yb290LCBhcmdzLCBfY29udGV4dCkgPT4ge1xuICBjb25zdCB7IGlkIH0gPSBhcmdzO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgZmV0Y2hlZFVzZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICB1c2VyaWQ6IGlkLFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcnNfY2l0eToge1xuICAgICAgICAgIGluY2x1ZGU6IHsgY2l0eTogdHJ1ZSB9LFxuICAgICAgICB9LFxuICAgICAgICBwcm9maWxlOiB0cnVlLFxuICAgICAgICB1c2Vyc19leHBlcmllbmNlY2VudGVyczoge1xuICAgICAgICAgIGluY2x1ZGU6IHsgY2VudGVyOiB0cnVlIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJzX3RlYW06IHtcbiAgICAgICAgICBpbmNsdWRlOiB7IHRlYW06IHRydWUgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBkZWZhdWx0UmVzcG9uc2VPYmouY29kZSA9IDIwMDtcbiAgICBkZWZhdWx0UmVzcG9uc2VPYmouZGF0YSA9IHtcbiAgICAgIC4uLmZldGNoZWRVc2VyLFxuICAgICAgY2l0aWVzOiBmZXRjaGVkVXNlci51c2Vyc19jaXR5Lm1hcCgodXNlckNpdHkpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB1c2VyQ2l0eS5jaXR5Lm5hbWUsXG4gICAgICAgICAgc3RhdHVzOiB1c2VyQ2l0eS5jaXR5LnN0YXR1cyxcbiAgICAgICAgICBvZG9vX2lkOiB1c2VyQ2l0eS5jaXR5Lm9kb29faWQsXG4gICAgICAgICAgY3JlYXRlZF9hdDogdXNlckNpdHkuY2l0eS5jcmVhdGVkX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHVzZXJDaXR5LmNpdHkudXBkYXRlZF9hdCxcbiAgICAgICAgICBpZDogdXNlckNpdHkuY2l0eS5pZCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgdGVhbXM6IGZldGNoZWRVc2VyLnVzZXJzX3RlYW0ubWFwKCh1c2Vyc1RlYW0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB1c2Vyc1RlYW0udGVhbS5uYW1lLFxuICAgICAgICAgIHRlYW1tYWlsaWQ6IHVzZXJzVGVhbS50ZWFtLnRlYW1tYWlsaWQsXG4gICAgICAgICAgcmVwb3J0aW5nbWFuYWdlcjogdXNlcnNUZWFtLnRlYW0ucmVwb3J0aW5nbWFuYWdlcixcbiAgICAgICAgICB0ZWFtbGVhZDogdXNlcnNUZWFtLnRlYW0udGVhbWxlYWQsXG4gICAgICAgICAgZGVwYXJ0bWVudDogdXNlcnNUZWFtLnRlYW0uZGVwYXJ0bWVudCxcbiAgICAgICAgICBvZG9vX2lkOiB1c2Vyc1RlYW0udGVhbS5vZG9vX2lkLFxuICAgICAgICAgIGNyZWF0ZV9hdDogdXNlcnNUZWFtLnRlYW0uY3JlYXRlX2F0LFxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHVzZXJzVGVhbS50ZWFtLnVwZGF0ZWRfYXQsXG4gICAgICAgICAgaWQ6IHVzZXJzVGVhbS50ZWFtLmlkLFxuICAgICAgICAgIHRlYW1zZGVwYXJ0bWVudDogdXNlcnNUZWFtLnRlYW0udGVhbXNkZXBhcnRtZW50LFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBleHBlcmllbmNlY2VudGVyczogZmV0Y2hlZFVzZXIudXNlcnNfZXhwZXJpZW5jZWNlbnRlcnMubWFwKFxuICAgICAgICAodXNlcnNFeHBlcmllbmNlQ2VudGVycykgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjZW50ZXJpZDogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXIuY2VudGVyaWQsXG4gICAgICAgICAgICBuYW1lOiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlci5uYW1lLFxuICAgICAgICAgICAgb2Rvb19pZDogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXIub2Rvb19pZCxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXJzRXhwZXJpZW5jZUNlbnRlcnMuY2VudGVyLmNyZWF0ZWRfYXQsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlci51cGRhdGVkX2F0LFxuICAgICAgICAgICAgZWN0eXBlOiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlci5lY3R5cGUsXG4gICAgICAgICAgICBhZGRyZXNzOiB1c2Vyc0V4cGVyaWVuY2VDZW50ZXJzLmNlbnRlci5hZGRyZXNzLFxuICAgICAgICAgICAgY2VudGVyaGVhZDogdXNlcnNFeHBlcmllbmNlQ2VudGVycy5jZW50ZXIuY2VudGVyaGVhZCxcbiAgICAgICAgICAgIGNpdHk6IHVzZXJzRXhwZXJpZW5jZUNlbnRlcnMuY2VudGVyLmNpdHksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgZGVmYXVsdFJlc3BvbnNlT2JqLmNvZGUgPSA0MDA7XG4gICAgZGVmYXVsdFJlc3BvbnNlT2JqLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRSZXNwb25zZU9iajtcbn07XG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckRldGFpbHNCeUF1dGggPSBhc3luYyAoX3BhcmVudCwgX2FyZ3MsIGNvbnRleHQpID0+IHtcbiAgY29uc3QgZ2V0VXNlckJ5QXV0aFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwiXCIsIGRhdGE6IG51bGwgfTtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyRGV0YWlscyA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpO1xuICAgIGdldFVzZXJCeUF1dGhSZXNwb25zZS5kYXRhID0gdXNlckRldGFpbHM7XG4gICAgZ2V0VXNlckJ5QXV0aFJlc3BvbnNlLm1lc3NhZ2UgPSBcIlN1Y2Nlc3NcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGdldFVzZXJCeUF1dGhSZXNwb25zZS5jb2RlID0gNDAwO1xuICAgIGdldFVzZXJCeUF1dGhSZXNwb25zZS5tZXNzYWdlID0gZS5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBnZXRVc2VyQnlBdXRoUmVzcG9uc2U7XG59O1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZ2V0TWFuYWdlVXNlcnNEYXRhID0gYXN5bmMgKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBDaXRpZXM6IHByaXNtYS5kY19jaXRpZXMuZmluZE1hbnkoKSxcbiAgICBEZXBhcnRtZW50czogcHJpc21hLmRjX2RlcGFydG1lbnQuZmluZE1hbnkoKSxcbiAgICBUZWFtczogcHJpc21hLmRjX3RlYW1zLmZpbmRNYW55KCksXG4gICAgUHJvZmlsZXM6IHByaXNtYS5kY19wcm9maWxlLmZpbmRNYW55KCksXG4gICAgRXhwZXJpZW5jZUNlbnRlcnM6IHByaXNtYS5kY19leHBlcmllbmNlY2VudGVycy5maW5kTWFueSgpLFxuICB9O1xufTtcbiIsImltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL0p3dEF1dGhDb250cm9sXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBjcmVhdGVQZXJtaXNzaW9uc0pzb24gfSBmcm9tIFwiLi4vdXRpbGl0aWVzXCI7XG5cbmV4cG9ydCBjb25zdCByZUlzc3VlQWNjZXNzVG9rZW4gPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSBhcmdzLnJlZnJlc2hUb2tlbjtcbiAgICBjb25zdCB1c2VySW5mbyA9IGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52Lmp3dFNlY3JldFJlZnJlc2hUb2tlbiwge1xuICAgICAgaWdub3JlRXhwaXJhdGlvbjogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmICghdXNlckluZm8ucGF5bG9hZC5kZXNpZ25DYWZlRW1haWwpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNTAwLCBcIlNvbWV0aGluZyB3ZW50IHdyb25nXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGVtYWlsID0gdXNlckluZm8/LnBheWxvYWQ/LmRlc2lnbkNhZmVFbWFpbD8udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBkZXNpZ25jYWZlZW1haWw6IGVtYWlsIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHByb2ZpbGU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVc2VyIG5vdCBmb3VuZFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCByZlRva2VuID0gdXNlcj8ucmVmcmVzaHRva2VuO1xuICAgIGlmIChyZlRva2VuICE9PSB0b2tlbikge1xuICAgICAgYXdhaXQgcHJpc21hLmRjX3VzZXJzLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJpZDogdXNlcj8udXNlcmlkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICByZWZyZXNodG9rZW46IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkJhZCByZXF1ZXN0XCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGVOb3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHV0Y1NlY29uZHMgPSB1c2VySW5mby5leHA7XG4gICAgY29uc3QgZXhwaXJ5ID0gbmV3IERhdGUoMCk7XG4gICAgZXhwaXJ5LnNldFVUQ1NlY29uZHModXRjU2Vjb25kcyk7XG4gICAgY29uc3QgZGF0YTogYW55ID0ge307XG4gICAgaWYgKGV4cGlyeSA8IGRhdGVOb3cpIHtcbiAgICAgIGF3YWl0IHByaXNtYS5kY191c2Vycy51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyB1c2VyaWQ6IHVzZXI/LnVzZXJpZCB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcmVmcmVzaHRva2VuOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQ0MCwgXCJTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSByZS1sb2dpblwiKTtcbiAgICB9XG4gICAgY29uc3QgbG9naW5Ub2tlbiA9IHNpZ24oXG4gICAgICB7XG4gICAgICAgIGlkOiB1c2VyPy51c2VyaWQsXG4gICAgICAgIGRlc2lnbkNhZmVFbWFpbDogZW1haWwsXG4gICAgICAgIHJvbGU6IHVzZXI/LnByb2ZpbGU/LnByb2ZpbGVfbmFtZSxcbiAgICAgICAgcGVybWlzc2lvbnM6IGNyZWF0ZVBlcm1pc3Npb25zSnNvbih1c2VyPy5wcm9maWxlPy5wZXJtaXNzaW9ucyksXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuand0U2VjcmV0QWNjZXNzVG9rZW4sXG4gICAgICBwcm9jZXNzLmVudi5qd3RFeHBpcnlBY2Nlc3NUb2tlblxuICAgICk7XG5cbiAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBzaWduKFxuICAgICAge1xuICAgICAgICBpZDogdXNlcj8udXNlcmlkLFxuICAgICAgICBkZXNpZ25DYWZlRW1haWw6IGVtYWlsLFxuICAgICAgICByb2xlOiB1c2VyPy5wcm9maWxlPy5wcm9maWxlX25hbWUsXG4gICAgICB9LFxuICAgICAgcHJvY2Vzcy5lbnYuand0U2VjcmV0UmVmcmVzaFRva2VuLFxuICAgICAgcHJvY2Vzcy5lbnYuand0RXhwaXJ5UmVmcmVzaFRva2VuXG4gICAgKTtcblxuICAgIGNvbnN0IGZpcnN0TmFtZSA9IHVzZXIuZmlyc3RuYW1lID8gdXNlci5maXJzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgICBjb25zdCBtaWRkbGVOYW1lID0gdXNlci5taWRkbGVuYW1lID8gdXNlci5taWRkbGVuYW1lLnRyaW0oKSA6IFwiXCI7XG4gICAgY29uc3QgbGFzdE5hbWUgPSB1c2VyLmxhc3RuYW1lID8gdXNlci5sYXN0bmFtZS50cmltKCkgOiBcIlwiO1xuICAgIGNvbnN0IHVzZXJOYW1lID0gYCR7Zmlyc3ROYW1lfSR7XG4gICAgICBtaWRkbGVOYW1lID8gXCIgXCIgKyBtaWRkbGVOYW1lICsgXCIgXCIgOiBcIiBcIlxuICAgIH0ke2xhc3ROYW1lfWA7XG5cbiAgICBkYXRhLnJvbGUgPSB1c2VyPy5wcm9maWxlPy5wcm9maWxlX25hbWU7XG4gICAgZGF0YS5yb2xlSWQgPSB1c2VyPy5wcm9maWxlaWQ7XG4gICAgZGF0YS5sb2dpblRva2VuID0gbG9naW5Ub2tlbjtcbiAgICBkYXRhLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2hUb2tlbjtcbiAgICBkYXRhLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgZGF0YS5lbWFpbCA9IHVzZXI/LmRlc2lnbmNhZmVlbWFpbDtcblxuICAgIGF3YWl0IHByaXNtYS5kY191c2Vycy51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgdXNlcmlkOiB1c2VyPy51c2VyaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGFzdGxvZ2luZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgcmVmcmVzaHRva2VuOiByZWZyZXNoVG9rZW4sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgR29vZ2xlT0F1dGggfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL29BdXRoL0dvb2dsZU9BdXRoXCI7XG5cbmV4cG9ydCBjb25zdCBnb29nbGVBdXRob3JpemUgPSAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gR29vZ2xlT0F1dGgoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52Lmdvb2dsZUF1dGhDbGllbnRJZCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuZ29vZ2xlQXV0aFNlY3JldEtleSxcbiAgICAgIHJlZGlyZWN0aW9uVXJsOiBwcm9jZXNzLmVudi5nb29nbGVBdXRoQ2FsbGJhY2tVcmwsXG4gICAgfSk7XG5cbiAgICBjb25zdCB1cmwgPSBjbGllbnQuZ2V0QXV0aG9yaXplVXJsKFtcbiAgICAgIFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbFwiLFxuICAgICAgXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLnByb2ZpbGVcIixcbiAgICBdKTtcblxuICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHVybDogdXJsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG4iLCJpbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBHb29nbGVPQXV0aCB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvb0F1dGgvR29vZ2xlT0F1dGhcIjtcbmltcG9ydCB7XG4gIHNpZ24sXG4gIGRlY29kZVdpdGhvdXRWZXJpZnlpbmcsXG59IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL0p3dEF1dGhDb250cm9sXCI7XG5pbXBvcnQgeyBkb21haW5WZXJpZmljYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiO1xuaW1wb3J0IHsgY3JlYXRlUGVybWlzc2lvbnNKc29uIH0gZnJvbSBcIi4uL3V0aWxpdGllc1wiO1xuXG5leHBvcnQgY29uc3QgZ29vZ2xlQXV0aG9yaXplQ2FsbEJhY2sgPSBhc3luYyAoX3Jvb3QsIGFyZ3MsIF9jb250ZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gR29vZ2xlT0F1dGgoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52Lmdvb2dsZUF1dGhDbGllbnRJZCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuZ29vZ2xlQXV0aFNlY3JldEtleSxcbiAgICAgIHJlZGlyZWN0aW9uVXJsOiBwcm9jZXNzLmVudi5nb29nbGVBdXRoQ2FsbGJhY2tVcmwsXG4gICAgfSk7XG4gICAgY29uc3QgY29kZSA9IGFyZ3MuY29kZTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNsaWVudC5nZXRBY2Nlc3NUb2tlbihjb2RlKTtcbiAgICBjb25zdCB1c2VySW5mbyA9IGRlY29kZVdpdGhvdXRWZXJpZnlpbmcodG9rZW4/LmlkX3Rva2VuKTtcblxuICAgIGlmICghdXNlckluZm8uZW1haWwpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoMjAxLCBcIlNvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgY29udGFjdCBhZG1pbi5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgZW1haWwgPSB1c2VySW5mby5lbWFpbC50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIHRvIHZlcmlmeSBpZiB0aGUgZW1haWwgZG9tYWluIGJlbG9uZ3MgdG8gRGVzaWduQ2FmZVxuICAgIGF3YWl0IGRvbWFpblZlcmlmaWNhdGlvbihlbWFpbCk7XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLmRjX3VzZXJzLmZpbmRGaXJzdCh7XG4gICAgICB3aGVyZTogeyBkZXNpZ25jYWZlZW1haWw6IGVtYWlsIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIHByb2ZpbGU6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgICAgNDAxLFxuICAgICAgICBcIlNvcnJ5IENvdWxkbid0IGZpbmQgeW91ciBhY2NvdW50IG9uIHRoZSBkYXNoYm9hcmQgY29udGFjdCBBZG1pbiBpZiB5b3VyIGFjY291bnQgd2FzIG5vdCBjcmVhdGVkIHlldCwgZWxzZSBjaGVjayBpZiB5b3UndmUgbG9nZ2VkIGluIHdpdGggdGhlIGNvcnJlY3QgZW1haWwgYWRkcmVzc1wiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ2luVG9rZW4gPSBzaWduKFxuICAgICAge1xuICAgICAgICBpZDogdXNlcj8udXNlcmlkLFxuICAgICAgICBkZXNpZ25DYWZlRW1haWw6IGVtYWlsLFxuICAgICAgICByb2xlOiB1c2VyPy5wcm9maWxlPy5wcm9maWxlX25hbWUsXG4gICAgICAgIHBlcm1pc3Npb25zOiBjcmVhdGVQZXJtaXNzaW9uc0pzb24odXNlcj8ucHJvZmlsZT8ucGVybWlzc2lvbnMpLFxuICAgICAgfSxcbiAgICAgIHByb2Nlc3MuZW52Lmp3dFNlY3JldEFjY2Vzc1Rva2VuLFxuICAgICAgcHJvY2Vzcy5lbnYuand0RXhwaXJ5QWNjZXNzVG9rZW5cbiAgICApO1xuXG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gc2lnbihcbiAgICAgIHtcbiAgICAgICAgaWQ6IHVzZXI/LnVzZXJpZCxcbiAgICAgICAgZGVzaWduQ2FmZUVtYWlsOiBlbWFpbCxcbiAgICAgICAgcm9sZTogdXNlcj8ucHJvZmlsZT8ucHJvZmlsZV9uYW1lLFxuICAgICAgfSxcbiAgICAgIHByb2Nlc3MuZW52Lmp3dFNlY3JldFJlZnJlc2hUb2tlbixcbiAgICAgIHByb2Nlc3MuZW52Lmp3dEV4cGlyeVJlZnJlc2hUb2tlblxuICAgICk7XG5cbiAgICBhd2FpdCBwcmlzbWEuZGNfdXNlcnMudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IHVzZXJpZDogdXNlcj8udXNlcmlkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGxhc3Rsb2dpbmRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIHJlZnJlc2h0b2tlbjogcmVmcmVzaFRva2VuLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCBmaXJzdE5hbWUgPSB1c2VyLmZpcnN0bmFtZSA/IHVzZXIuZmlyc3RuYW1lLnRyaW0oKSA6IFwiXCI7XG4gICAgY29uc3QgbWlkZGxlTmFtZSA9IHVzZXIubWlkZGxlbmFtZSA/IHVzZXIubWlkZGxlbmFtZS50cmltKCkgOiBcIlwiO1xuICAgIGNvbnN0IGxhc3ROYW1lID0gdXNlci5sYXN0bmFtZSA/IHVzZXIubGFzdG5hbWUudHJpbSgpIDogXCJcIjtcbiAgICBjb25zdCB1c2VyTmFtZSA9IGAke2ZpcnN0TmFtZX0ke1xuICAgICAgbWlkZGxlTmFtZSA/IFwiIFwiICsgbWlkZGxlTmFtZSArIFwiIFwiIDogXCIgXCJcbiAgICB9JHtsYXN0TmFtZX1gO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2dpblRva2VuLFxuICAgICAgcmVmcmVzaFRva2VuLFxuICAgICAgcm9sZTogdXNlcj8ucHJvZmlsZT8ucHJvZmlsZV9uYW1lLFxuICAgICAgcm9sZUlkOiB1c2VyPy5wcm9maWxlaWQsXG4gICAgICB1c2VyTmFtZSxcbiAgICAgIGVtYWlsOiB1c2VyPy5kZXNpZ25jYWZlZW1haWwsXG4gICAgfTtcblxuICAgIHJldHVybiB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGEgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBnZXRNYW5hZ2VVc2Vyc0RhdGEgfSBmcm9tIFwiLi4vdXNlcnMvUXVlcmllcy9NYW5hZ2VVc2Vyc1wiO1xuaW1wb3J0IHsgZ29vZ2xlQXV0aG9yaXplIH0gZnJvbSBcIi4uL3VzZXJzL1F1ZXJpZXMvVXNlckF1dGhlbnRpY2F0ZUFwaVVzZUNhc2VcIjtcbmltcG9ydCB7IGdvb2dsZUF1dGhvcml6ZUNhbGxCYWNrIH0gZnJvbSBcIi4uL3VzZXJzL1F1ZXJpZXMvVXNlckF1dGhlbnRpY2F0ZUNhbGxCYWNrXCI7XG5pbXBvcnQgeyBlZGl0VXNlcnMgfSBmcm9tIFwiLi9NdXRhdGlvbnMvZWRpdFVzZXJzXCI7XG5pbXBvcnQgeyBhZGRVc2VyIH0gZnJvbSBcIi4vTXV0YXRpb25zL2FkZFVzZXJcIjtcbmltcG9ydCB7IGdldEFsbFVzZXJzIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRBbGxVc2Vyc1wiO1xuaW1wb3J0IHsgcmVJc3N1ZUFjY2Vzc1Rva2VuIH0gZnJvbSBcIi4vUXVlcmllcy9SZUlzc3VlQWNjZXNzVG9rZW5cIjtcbmltcG9ydCB7IGdldFVzZXJEZXRhaWxzQnlBdXRoIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRVc2VyRGV0YWlsc0J5QXV0aFwiO1xuaW1wb3J0IHsgZ2V0QWxsRGVzaWduZXJzIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRBbGxEZXNpZ25lcnNcIjtcbmltcG9ydCB7IGdldFVzZXJCeUlkIH0gZnJvbSBcIi4vUXVlcmllcy9HZXRVc2VyQnlJZFwiO1xuXG5leHBvcnQgY29uc3QgdXNlcnNSZXNvbHZlciA9IHtcbiAgUXVlcnk6IHtcbiAgICBhbGxNYW5hZ2VVc2Vyc0RhdGE6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0TWFuYWdlVXNlcnNEYXRhKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdvb2dsZUF1dGhvcml6ZTogKCkgPT4gZ29vZ2xlQXV0aG9yaXplKCksXG4gICAgZ29vZ2xlQXV0aG9yaXplQ2FsbEJhY2s6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ29vZ2xlQXV0aG9yaXplQ2FsbEJhY2socGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgcmVJc3N1ZUFjY2Vzc1Rva2VuOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgIHJlSXNzdWVBY2Nlc3NUb2tlbihwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRBbGxVc2VyczogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRBbGxVc2VycyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRVc2VyRGV0YWlsc0J5QXV0aDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBnZXRVc2VyRGV0YWlsc0J5QXV0aChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICBnZXRBbGxEZXNpZ25lcnM6IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgZ2V0QWxsRGVzaWduZXJzKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgIGdldFVzZXJCeUlkOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgICAgZ2V0VXNlckJ5SWQocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgdXBkYXRlVXNlcjogKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBlZGl0VXNlcnMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgYWRkVXNlcjogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICBhZGRVc2VyKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICB9LFxuICBEYXRlVGltZTogRGF0ZVRpbWVSZXNvbHZlcixcbn07XG4iLCJleHBvcnQgY29uc3QgdXNlcnNUeXBlZGVmID0gYFxuXG4gICAgdHlwZSBBbGxNYW5hZ2VVc2Vyc0RhdGF7XG4gICAgICAgIENpdGllczogW0NpdGllcyFdISxcbiAgICAgICAgRGVwYXJ0bWVudHM6IFtEZXBhcnRtZW50IV0hXG4gICAgICAgIFRlYW1zOiBbVGVhbXMhXSFcbiAgICAgICAgUHJvZmlsZXM6IFtQcm9maWxlcyFdIVxuICAgICAgICBFeHBlcmllbmNlQ2VudGVyczogW0V4cGVyaWVuY2VDZW50ZXJzIV0hICAgIFxuICAgIH1cblxuICAgIHR5cGUgVXNlcnMge1xuICAgICAgICB1c2VyaWQgOiBJbnQhXG4gICAgICAgIHJvbGVpZCA6IEludFxuICAgICAgICBwcm9maWxlOiBQcm9maWxlc1xuICAgICAgICBlbXBpZCA6IFN0cmluZ1xuICAgICAgICBkZXBhcnRtZW50aWQgOiBJbnRcbiAgICAgICAgc2FsZXNmb3JjZWltcG9ydGVkIDogQm9vbGVhblxuICAgICAgICBmaXJzdG5hbWUgOiBTdHJpbmdcbiAgICAgICAgbGFzdG5hbWUgOiBTdHJpbmdcbiAgICAgICAgbWlkZGxlbmFtZSA6IFN0cmluZ1xuICAgICAgICB1c2VybmFtZSA6IFN0cmluZ1xuICAgICAgICBwaG9uZW51bWJlciA6IFN0cmluZ1xuICAgICAgICBkZXNpZ25jYWZlZW1haWwgOiBTdHJpbmdcbiAgICAgICAgcmVwb3J0aW5nbWFuYWdlciA6IEludFxuICAgICAgICBzYWxlc2ZvcmNldXNlcmlkIDogU3RyaW5nXG4gICAgICAgIGlzYmV0YXVzZXIgOiBCb29sZWFuXG4gICAgICAgIHByb2ZpbGVwaWMgOiBTdHJpbmdcbiAgICAgICAgbGFzdGxvZ2luZGF0ZSA6IERhdGVUaW1lXG4gICAgICAgIGxvZ2ludG9rZW46IFN0cmluZ1xuICAgICAgICByZWZyZXNodG9rZW46IFN0cmluZ1xuICAgICAgICBjcmVhdGVkX2F0IDogRGF0ZVRpbWVcbiAgICAgICAgdXBkYXRlZF9hdCA6IERhdGVUaW1lXG4gICAgICAgIGNpdGllczogW0NpdGllc11cbiAgICAgICAgdGVhbXMgOiBbVGVhbXNdXG4gICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzIDogW0V4cGVyaWVuY2VDZW50ZXJzXVxuICAgIH1cblxuICAgIHR5cGUgYWRkVXNlclJlc3BvbnNlIHtcbiAgICAgICAgY29kZTogSW50XG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgICAgICBkYXRhOiBbVXNlcnNdXG4gICAgfSBcblxuICAgIHR5cGUgR2V0VXNlckRldGFpbHNCeUlkUmVzcG9uc2V7XG4gICAgICAgIGNvZGU6IEludCxcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nLFxuICAgICAgICBkYXRhOiBVc2Vyc1xuICAgIH1cblxuICAgIHR5cGUgR2V0QWxsVXNlclJlc3BvbnNlIHtcbiAgICAgICAgY29kZTogSW50LFxuICAgICAgICBtZXNzYWdlOiBTdHJpbmcsXG4gICAgICAgIHVzZXJzOiBbVXNlcnNdXG4gICAgfVxuXG4gICAgdHlwZSBHZXRVc2VyQnlJZFJlc3BvbnNle1xuICAgICAgICBjb2RlOiBJbnQsXG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICAgICAgZGF0YTogVXNlcnNcbiAgICB9XG5cbiAgICB0eXBlIEVkaXRVc2VyUmVzcG9uc2Uge1xuICAgICAgICBjb2RlOiBJbnQsXG4gICAgICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICAgICAgdXNlcnM6IFtVc2Vyc11cbiAgICB9XG4gICAgXG4gICAgdHlwZSBHb29nbGVBdXRob3JpemVSZXNwb25zZSB7XG4gICAgICAgIGNvZGU6IEludCxcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nXG4gICAgICAgIHVybDogU3RyaW5nXG4gICAgfVxuXG4gICAgdHlwZSBHb29nbGVBdXRob3JpemVDYWxsYmFja1Jlc3BvbnNlIHtcbiAgICAgICAgY29kZTogSW50IVxuICAgICAgICBtZXNzYWdlOiBTdHJpbmchXG4gICAgICAgIGRhdGE6IHRva2VuUmVzcG9uc2VERCFcbiAgICB9XG5cbiAgICB0eXBlIHRva2VuUmVzcG9uc2VERCB7XG4gICAgICAgIGxvZ2luVG9rZW46IFN0cmluZyEsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogU3RyaW5nISxcbiAgICAgICAgcm9sZTogU3RyaW5nLFxuICAgICAgICByb2xlSWQ6IEludCxcbiAgICAgICAgdXNlck5hbWU6IFN0cmluZyEsXG4gICAgICAgIGVtYWlsOiBTdHJpbmchXG4gICAgfVxuXG4gICAgdHlwZSByZUlzc3VlQWNjZXNzVG9rZW5SZXNwb25zZSB7XG4gICAgICAgIGNvZGU6IEludCFcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nIVxuICAgICAgICBkYXRhOiB0b2tlblJlc3BvbnNlREQhXG4gICAgfVxuXG4gICAgdHlwZSBHZXRBbGxEZXNpZ25lcnNSZXNwb25zZSB7XG4gICAgICAgIGNvZGU6IEludCxcbiAgICAgICAgbWVzc2FnZTogU3RyaW5nLFxuICAgICAgICBkZXNpZ25lcnM6IFtVc2Vyc11cbiAgICB9XG5cbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgYWxsTWFuYWdlVXNlcnNEYXRhOiBBbGxNYW5hZ2VVc2Vyc0RhdGFcbiAgICAgICAgZ29vZ2xlQXV0aG9yaXplQ2FsbEJhY2soY29kZTpTdHJpbmcpOiBHb29nbGVBdXRob3JpemVDYWxsYmFja1Jlc3BvbnNlXG4gICAgICAgIGdvb2dsZUF1dGhvcml6ZTogR29vZ2xlQXV0aG9yaXplUmVzcG9uc2VcbiAgICAgICAgZ2V0VXNlckRldGFpbHNCeUF1dGg6R2V0VXNlckRldGFpbHNCeUlkUmVzcG9uc2VcbiAgICAgICAgcmVJc3N1ZUFjY2Vzc1Rva2VuKHJlZnJlc2hUb2tlbjogU3RyaW5nKTogcmVJc3N1ZUFjY2Vzc1Rva2VuUmVzcG9uc2VcbiAgICAgICAgZ2V0QWxsVXNlcnModXNlclR5cGU6SW50KTogR2V0QWxsVXNlclJlc3BvbnNlXG4gICAgICAgIGdldEFsbERlc2lnbmVyczogR2V0QWxsRGVzaWduZXJzUmVzcG9uc2VcbiAgICAgICAgZ2V0VXNlckJ5SWQoaWQ6SW50KTpHZXRVc2VyQnlJZFJlc3BvbnNlIFxuICAgIH1cblxuICAgIHR5cGUgTXV0YXRpb257XG4gICAgICAgIHVwZGF0ZVVzZXIoICBcbiAgICAgICAgICAgIGlkOkludCwgIFxuICAgICAgICAgICAgZW1waWQ6U3RyaW5nLFxuICAgICAgICAgICAgZGVwYXJ0bWVudGlkOkludCxcbiAgICAgICAgICAgIGZpcnN0bmFtZTpTdHJpbmcsXG4gICAgICAgICAgICBtaWRkbGVuYW1lOlN0cmluZ1xuICAgICAgICAgICAgbGFzdG5hbWU6U3RyaW5nLFxuICAgICAgICAgICAgdXNlcm5hbWU6U3RyaW5nLFxuICAgICAgICAgICAgcGhvbmVudW1iZXI6U3RyaW5nLFxuICAgICAgICAgICAgZGVzaWduY2FmZWVtYWlsOlN0cmluZyxcbiAgICAgICAgICAgIHJlcG9ydGluZ21hbmFnZXI6SW50LFxuICAgICAgICAgICAgaXNiZXRhdXNlcjpCb29sZWFuLFxuICAgICAgICAgICAgcHJvZmlsZWlkOkludCxcbiAgICAgICAgICAgIGNpdGllczpbSW50XSxcbiAgICAgICAgICAgIGV4cGVyaWVuY2VjZW50ZXJzOltJbnRdLFxuICAgICAgICAgICAgdGVhbXM6W0ludF1cbiAgICAgICAgICAgICk6IEVkaXRVc2VyUmVzcG9uc2VcblxuICAgICAgICAgICAgYWRkVXNlciAoXG4gICAgICAgICAgICAgICAgZW1waWQgOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgZmlyc3RuYW1lIDogU3RyaW5nLFxuICAgICAgICAgICAgICAgIGxhc3RuYW1lIDogU3RyaW5nLFxuICAgICAgICAgICAgICAgIG1pZGRsZW5hbWUgOiBTdHJpbmcsICAgICAgXG4gICAgICAgICAgICAgICAgcGhvbmVudW1iZXIgOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgZGVzaWduY2FmZWVtYWlsIDogU3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlcG9ydGluZ21hbmFnZXIgOiBJbnQsXG4gICAgICAgICAgICAgICAgZXhwZXJpZW5jZWNlbnRlcnM6IFtJbnRdLFxuICAgICAgICAgICAgICAgIHByb2ZpbGVpZDpJbnQsXG4gICAgICAgICAgICAgICAgdGVhbTogW0ludF0sXG4gICAgICAgICAgICAgICAgY2l0eTogW0ludF0sXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdCA6IERhdGVUaW1lLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQgOiBEYXRlVGltZVxuICAgICAgICAgICAgICAgICk6IGFkZFVzZXJSZXNwb25zZVxuICAgIH1cblxuICAgIHNjYWxhciBEYXRlVGltZVxuYDtcbiIsImV4cG9ydCBjb25zdCBjcmVhdGVQZXJtaXNzaW9uc0pzb24gPSAoanNvbkRhdGEpID0+IHtcbiAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShqc29uRGF0YS5wZXJtaXNzaW9uX2RldGFpbHMpO1xuICBzd2l0Y2ggKHRydWUpIHtcbiAgICBjYXNlIGRhdGEuaW5jbHVkZXMoXCJ0cnVlXCIpOlxuICAgICAgZGF0YSA9IHJlcGxhY2VFbGVtZW50SW5PYmplY3QoZGF0YSwgXCJ0cnVlXCIsIFwiMVwiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSBkYXRhLmluY2x1ZGVzKFwiZmFsc2VcIik6XG4gICAgICBkYXRhID0gcmVwbGFjZUVsZW1lbnRJbk9iamVjdChkYXRhLCBcImZhbHNlXCIsIFwiMFwiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSBkYXRhLmluY2x1ZGVzKFwic2NyZWVuTmFtZVwiKTpcbiAgICAgIGRhdGEgPSByZXBsYWNlRWxlbWVudEluT2JqZWN0KGRhdGEsIFwic2NyZWVuTmFtZVwiLCBcInNuXCIpO1xuICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICBjYXNlIGRhdGEuaW5jbHVkZXMoXCJpc0NoZWNrZWRcIik6XG4gICAgICBkYXRhID0gcmVwbGFjZUVsZW1lbnRJbk9iamVjdChkYXRhLCBcImlzQ2hlY2tlZFwiLCBcImljXCIpO1xuICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICBjYXNlIGRhdGEuaW5jbHVkZXMoXCJjb21wb25lbnRzXCIpOlxuICAgICAgZGF0YSA9IHJlcGxhY2VFbGVtZW50SW5PYmplY3QoZGF0YSwgXCJjb21wb25lbnRzXCIsIFwiY1wiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSBkYXRhLmluY2x1ZGVzKFwiY29tcG9uZW50TmFtZVwiKTpcbiAgICAgIGRhdGEgPSByZXBsYWNlRWxlbWVudEluT2JqZWN0KGRhdGEsIFwiY29tcG9uZW50TmFtZVwiLCBcImNuXCIpO1xuICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICBjYXNlIGRhdGEuaW5jbHVkZXMoXCJhdHRyaWJ1dGVzXCIpOlxuICAgICAgZGF0YSA9IHJlcGxhY2VFbGVtZW50SW5PYmplY3QoZGF0YSwgXCJhdHRyaWJ1dGVzXCIsIFwiYVwiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSBkYXRhLmluY2x1ZGVzKFwiYXR0cmlidXRlTmFtZVwiKTpcbiAgICAgIGRhdGEgPSByZXBsYWNlRWxlbWVudEluT2JqZWN0KGRhdGEsIFwiYXR0cmlidXRlTmFtZVwiLCBcImFuXCIpO1xuICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICBjYXNlIGRhdGEuaW5jbHVkZXMoXCJpc0VkaXRhYmxlXCIpOlxuICAgICAgZGF0YSA9IHJlcGxhY2VFbGVtZW50SW5PYmplY3QoZGF0YSwgXCJpc0VkaXRhYmxlXCIsIFwiaWVcIik7XG4gICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgIGNhc2UgZGF0YS5pbmNsdWRlcyhcInN1YkNvbXBvbmVudHNcIik6XG4gICAgICBkYXRhID0gcmVwbGFjZUVsZW1lbnRJbk9iamVjdChkYXRhLCBcInN1YkNvbXBvbmVudHNcIiwgXCJzY1wiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSBkYXRhLmluY2x1ZGVzKFwic3ViQ29tcG9uZW50TmFtZVwiKTpcbiAgICAgIGRhdGEgPSByZXBsYWNlRWxlbWVudEluT2JqZWN0KGRhdGEsIFwic3ViQ29tcG9uZW50TmFtZVwiLCBcInNjblwiKTtcbiAgICAvLyBmYWxscyB0aHJvdWdoXG4gIH1cbiAgY29uc3QgY2hhbmdlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICByZW1vdmVFbXB0eUFycmF5cyhjaGFuZ2VkRGF0YSk7XG4gIGNvbnNvbGUubG9nKHsgY2hhbmdlZERhdGEgfSk7XG4gIHJldHVybiBjaGFuZ2VkRGF0YTtcbn07XG5cbmNvbnN0IHJlcGxhY2VFbGVtZW50SW5PYmplY3QgPSAoZGF0YSwgZWxlbWVudCwgY2hhbmdlU3RyaW5nKSA9PiB7XG4gIHJldHVybiBkYXRhLnJlcGxhY2UobmV3IFJlZ0V4cChlbGVtZW50LCBcImdcIiksIGNoYW5nZVN0cmluZyk7XG59O1xuXG5jb25zdCByZW1vdmVFbXB0eUFycmF5cyA9IChjaGFuZ2VkRGF0YSkgPT4ge1xuICBjaGFuZ2VkRGF0YS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZWxlbWVudCkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudFtrZXldKSkge1xuICAgICAgICBpZiAoIWVsZW1lbnRba2V5XS5sZW5ndGgpIHtcbiAgICAgICAgICBkZWxldGUgZWxlbWVudFtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUVtcHR5QXJyYXlzKGVsZW1lbnRba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbiIsImltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCJcbmltcG9ydCB7IGFjaGlldmVkUmV2ZW51ZVJhdGlvIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy9hY2hpZXZlZFJldmVudWVSYXRpb1wiO1xuXG5leHBvcnQgY29uc3QgYWNoaWV2ZWRSZXZlbnVlID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcbiAgICBsZXQgdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpXG4gICAgICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IGFjaGlldmVkUmV2ZW51ZVJhdGlvKHVzZXIsYXJncy5tb250aClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwiRGFzaGJvYXJkcyB3aWxsIGJlIGFkZGVkIHNvb24gZm9yIHRoaXMgcHJvZmlsZVwiIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lO1xuXG4gICAgICAgIH1cblxuICAgICAgICB0b3RhbEFjaGlldmVkUmV2ZW51ZVJlc3BvbmUgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHRvdGFsYWNoaWV2ZWRyZXZlbnVlOnJlcyAsIG1vbnRobHl0YXJnZXQ6dXNlci5tb250aGx5dGFyZ2V0fVxuICAgICAgICByZXR1cm4gdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgICAgICByZXR1cm4gdG90YWxBY2hpZXZlZFJldmVudWVSZXNwb25lO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9hdXRoQ29udHJvbC92ZXJpZnlBdXRoVXNlQ2FzZVwiXG5pbXBvcnQgeyBicm9hZGNhc3RlZExlYWRzUmF0aW8gfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3dpZGdldFNlcnZpY2VzL2Jyb2FkY2FzdGVkTGVhZHNSYXRpb1wiO1xuXG5leHBvcnQgY29uc3QgYnJvYWRjYXN0ZWRMZWFkcyA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG5cbiAgICBsZXQgYnJvYWRjYXN0ZWRMZWFkc1Jlc3BvbnNlO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpXG4gICAgICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IGJyb2FkY2FzdGVkTGVhZHNSYXRpbyh1c2VyKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RlZExlYWRzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJEYXNoYm9hcmRzIHdpbGwgYmUgYWRkZWQgc29vbiBmb3IgdGhpcyBwcm9maWxlXCIgfVxuICAgICAgICAgICAgICAgIHJldHVybiBicm9hZGNhc3RlZExlYWRzUmVzcG9uc2U7XG5cbiAgICAgICAgfVxuICAgICAgICBicm9hZGNhc3RlZExlYWRzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGxlYWRzOiByZXMgfVxuICAgICAgICByZXR1cm4gYnJvYWRjYXN0ZWRMZWFkc1Jlc3BvbnNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgYnJvYWRjYXN0ZWRMZWFkc1Jlc3BvbnNlID0geyBjb2RlOiA0MDAsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfVxuICAgICAgICByZXR1cm4gYnJvYWRjYXN0ZWRMZWFkc1Jlc3BvbnNlO1xuXG4gICAgfVxufTtcbiIsImltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCJcbmltcG9ydCB7IGxlYWRTdW1tYXJ5UmF0aW8gfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3dpZGdldFNlcnZpY2VzL2xlYWRTdW1tYXJ5UmF0aW9cIjtcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnNpb24gPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuXG4gICAgY29uc3QgeyBtb250aCB9ID0gYXJncztcbiAgICBsZXQgY29udmVyc2lvblJlc3BvbnNlO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpXG4gICAgICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IGxlYWRTdW1tYXJ5UmF0aW8odXNlciwgbW9udGgpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnZlcnNpb25SZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkRhc2hib2FyZHMgd2lsbCBiZSBhZGRlZCBzb29uIGZvciB0aGlzIHByb2ZpbGVcIiB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNpb25SZXNwb25zZTtcblxuICAgICAgICB9XG4gICAgICAgIGNvbnZlcnNpb25SZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgcGVyY2VudGFnZTogcmVzLnBlcmNlbnRhZ2UgLCB0b3RhbE1lZXRpbmdEb25lOiByZXMubWVldGluZ0RvbmUsY2xvc2VkV29uOiByZXMuY2xvc2VXb24gfVxuICAgICAgICByZXR1cm4gY29udmVyc2lvblJlc3BvbnNlXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb252ZXJzaW9uUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiBjb252ZXJzaW9uUmVzcG9uc2VcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIlxuaW1wb3J0IHsgbGVhZFN1bW1hcnlSYXRpbyB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvd2lkZ2V0U2VydmljZXMvbGVhZFN1bW1hcnlSYXRpb1wiXG5cbmV4cG9ydCBjb25zdCBsZWFkU3VtbWFyeSA9IGFzeW5jIChyb290LCBhcmdzLCBjb250ZXh0KSA9PiB7XG5cbiAgICBjb25zdCB7IG1vbnRoIH0gPSBhcmdzO1xuICAgIGxldCBsZWFkU3VtbWFyeVJlc3BvbnNlO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZShjb250ZXh0LCBcIkREXCIpXG4gICAgICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IGxlYWRTdW1tYXJ5UmF0aW8odXNlciwgbW9udGgpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGxlYWRTdW1tYXJ5UmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJEYXNoYm9hcmRzIHdpbGwgYmUgYWRkZWQgc29vbiBmb3IgdGhpcyBwcm9maWxlXCIgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsZWFkU3VtbWFyeVJlc3BvbnNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGVhZFN1bW1hcnlSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzIH1cbiAgICAgICAgcmV0dXJuIGxlYWRTdW1tYXJ5UmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbGVhZFN1bW1hcnlSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH1cbiAgICAgICAgcmV0dXJuIGxlYWRTdW1tYXJ5UmVzcG9uc2U7XG5cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIlxuaW1wb3J0IHsgcHJvcG9zYWxTZW50UmF0aW8gfSBmcm9tIFwiLi4vLi4vLi4vZG9tYWluL3NlcnZpY2VzL3dpZGdldFNlcnZpY2VzL3Byb3Bvc2FsU2VudFJhdGlvXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9wb3NhbFNlbnQgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCBwcm9wb3NhbFNlbnRSZXNwb25zZTtcblxuICAgIGNvbnN0IHsgbW9udGggfSA9IGFyZ3M7XG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIilcbiAgICAgICAgc3dpdGNoICh1c2VyLnByb2ZpbGUuYWNjZXNzX2xldmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgcHJvcG9zYWxTZW50UmF0aW8odXNlciwgbW9udGgpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHByb3Bvc2FsU2VudFJlc3BvbnNlID0geyBjb2RlOiAyMDAsIG1lc3NhZ2U6IFwiRGFzaGJvYXJkcyB3aWxsIGJlIGFkZGVkIHNvb24gZm9yIHRoaXMgcHJvZmlsZVwiIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcG9zYWxTZW50UmVzcG9uc2U7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgcHJvcG9zYWxTZW50UmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIHBlcmNlbnRhZ2U6IHJlcy5wZXJjZW50YWdlLHRvdGFsTWVldGluZ0RvbmU6IHJlcy50b3RhbE1lZXRpbmdEb25lICwgdG90YWxQcm9wb3NhbFNlbnQ6IHJlcy50b3RhbFByb3Bvc2FsU2VudH1cbiAgICAgICAgcmV0dXJuIHByb3Bvc2FsU2VudFJlc3BvbnNlO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcHJvcG9zYWxTZW50UmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiBwcm9wb3NhbFNlbnRSZXNwb25zZTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgYXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYXV0aENvbnRyb2wvdmVyaWZ5QXV0aFVzZUNhc2VcIlxuaW1wb3J0IHsgdG90YWxBY3RpdmVQcm9qZWN0c1JhdGlvIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy93aWRnZXRTZXJ2aWNlcy90b3RhbEFjdGl2ZVByb2plY3RzUmF0aW9cIjtcblxuZXhwb3J0IGNvbnN0IHRvdGFsQWN0aXZlUHJvamVjdHMgPSBhc3luYyAocm9vdCwgYXJncywgY29udGV4dCkgPT4ge1xuICAgIGxldCB0b3RhbEFjdGl2ZVByb2plY3RzUmVzcG9uc2U7XG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgcmVzO1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgYXV0aGVudGljYXRlKGNvbnRleHQsIFwiRERcIilcbiAgICAgICAgc3dpdGNoICh1c2VyLnByb2ZpbGUuYWNjZXNzX2xldmVsKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgdG90YWxBY3RpdmVQcm9qZWN0c1JhdGlvKHVzZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRvdGFsQWN0aXZlUHJvamVjdHNSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcIkRhc2hib2FyZHMgd2lsbCBiZSBhZGRlZCBzb29uIGZvciB0aGlzIHByb2ZpbGVcIiB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsQWN0aXZlUHJvamVjdHNSZXNwb25zZTtcblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICB0b3RhbEFjdGl2ZVByb2plY3RzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlcyB9XG4gICAgICAgIHJldHVybiB0b3RhbEFjdGl2ZVByb2plY3RzUmVzcG9uc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b3RhbEFjdGl2ZVByb2plY3RzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiB0b3RhbEFjdGl2ZVByb2plY3RzUmVzcG9uc2U7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGF1dGhlbnRpY2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhDb250cm9sL3ZlcmlmeUF1dGhVc2VDYXNlXCJcbmltcG9ydCB7IHVwY29taW5nTWVldGluZ3NSYXRpbyB9IGZyb20gXCIuLi8uLi8uLi9kb21haW4vc2VydmljZXMvd2lkZ2V0U2VydmljZXMvdXBjb21pbmdNZWV0aW5nc1JhdGlvXCI7XG5cbmV4cG9ydCBjb25zdCB1cGNvbWluZ01lZXRpbmdzID0gYXN5bmMgKHJvb3QsIGFyZ3MsIGNvbnRleHQpID0+IHtcblxuICAgIGxldCB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2U7XG5cblxuICAgIHRyeSB7XG4gICAgICAgIGxldCByZXM7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhdXRoZW50aWNhdGUoY29udGV4dCwgXCJERFwiKVxuICAgICAgICBzd2l0Y2ggKHVzZXIucHJvZmlsZS5hY2Nlc3NfbGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCB1cGNvbWluZ01lZXRpbmdzUmF0aW8odXNlciwgYXJncy50aW1lcGVyaW9kKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2UgPSB7IGNvZGU6IDIwMCwgbWVzc2FnZTogXCJEYXNoYm9hcmRzIHdpbGwgYmUgYWRkZWQgc29vbiBmb3IgdGhpcyBwcm9maWxlXCIgfVxuICAgICAgICAgICAgICAgIHJldHVybiB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2U7XG5cblxuICAgICAgICB9XG4gICAgICAgIHVwY29taW5nTWVldGluZ3NSZXNwb25zZSA9IHsgY29kZTogMjAwLCBtZXNzYWdlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzLnVwY29taW5nTWVldGluZyB9XG4gICAgICAgIHJldHVybiB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2U7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2UgPSB7IGNvZGU6IDQwMCwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9XG4gICAgICAgIHJldHVybiB1cGNvbWluZ01lZXRpbmdzUmVzcG9uc2U7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IERhdGVUaW1lUmVzb2x2ZXIgfSBmcm9tIFwiZ3JhcGhxbC1zY2FsYXJzXCI7XG5pbXBvcnQgeyBsZWFkU3VtbWFyeSB9IGZyb20gXCIuL1F1ZXJpZXMvbGVhZFN1bW1hcnlcIjtcbmltcG9ydCB7IGNvbnZlcnNpb24gfSBmcm9tIFwiLi9RdWVyaWVzL2NvbnZlcnNpb25cIjtcbmltcG9ydCB7IHVwY29taW5nTWVldGluZ3MgfSBmcm9tIFwiLi9RdWVyaWVzL3VwY29taW5nTWVldGluZ3NcIjtcbmltcG9ydCB7IGJyb2FkY2FzdGVkTGVhZHMgfSBmcm9tIFwiLi9RdWVyaWVzL2Jyb2FkY2FzdGVkTGVhZHNcIjtcbmltcG9ydCB7IHByb3Bvc2FsU2VudCB9IGZyb20gXCIuL1F1ZXJpZXMvcHJvcG9zYWxTZW50XCI7XG5pbXBvcnQgeyB0b3RhbEFjdGl2ZVByb2plY3RzIH0gZnJvbSBcIi4vUXVlcmllcy90b3RhbEFjdGl2ZVByb2plY3RzXCI7XG5pbXBvcnQgeyBhY2hpZXZlZFJldmVudWUgfSBmcm9tIFwiLi9RdWVyaWVzL2FjaGlldmVkUmV2ZW51ZVwiO1xuXG5leHBvcnQgY29uc3Qgd2lkZ2V0c1Jlc29sdmVyID0ge1xuICAgIFF1ZXJ5OiB7XG4gICAgICAgIGxlYWRTdW1tYXJ5OiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgICAgbGVhZFN1bW1hcnkocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgICAgIGNvbnZlcnNpb246IGFzeW5jIChwYXJlbnQsIF9hcmdzOiB7IGRhdGE6IGFueSB9LCBjb250ZXh0KSA9PlxuICAgICAgICBjb252ZXJzaW9uKHBhcmVudCwgX2FyZ3MsIGNvbnRleHQpLFxuICAgICAgICB1cGNvbWluZ01lZXRpbmdzOiBhc3luYyAocGFyZW50LCBfYXJnczogeyBkYXRhOiBhbnkgfSwgY29udGV4dCkgPT5cbiAgICAgICAgdXBjb21pbmdNZWV0aW5ncyhwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICAgICAgYnJvYWRjYXN0ZWRMZWFkczogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICAgIGJyb2FkY2FzdGVkTGVhZHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgICAgIHByb3Bvc2FsU2VudDogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICAgIHByb3Bvc2FsU2VudChwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICAgICAgdG90YWxBY3RpdmVQcm9qZWN0czogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICAgIHRvdGFsQWN0aXZlUHJvamVjdHMocGFyZW50LCBfYXJncywgY29udGV4dCksXG4gICAgICAgIGFjaGlldmVkUmV2ZW51ZTogYXN5bmMgKHBhcmVudCwgX2FyZ3M6IHsgZGF0YTogYW55IH0sIGNvbnRleHQpID0+XG4gICAgICAgIGFjaGlldmVkUmV2ZW51ZShwYXJlbnQsIF9hcmdzLCBjb250ZXh0KSxcbiAgICB9LFxuICAgIERhdGVUaW1lOiBEYXRlVGltZVJlc29sdmVyLFxuICB9O1xuIiwiZXhwb3J0IGNvbnN0IHdpZGdldHNUeXBlZGVmID0gYFxuXG50eXBlIGxlYWRTdW1tYXJ5UmVzcG9uc2Uge1xuICAgIGNvZGU6IEludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6IEpTT05cbn1cbnR5cGUgY29udmVyc2lvblJlc3BvbnNlIHtcbiAgICBjb2RlOiBJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBwZXJjZW50YWdlOiBGbG9hdFxuICAgIHRvdGFsTWVldGluZ0RvbmU6IEludFxuICAgIGNsb3NlZFdvbjogSW50XG59XG50eXBlIHVwY29taW5nTWVldGluZ3NSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBkYXRhOiBKU09OXG59XG50eXBlIGJyb2FkY2FzdGVkTGVhZHNSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBsZWFkczogSW50IFxufVxudHlwZSBwcm9wb3NhbFNlbnRSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICBwZXJjZW50YWdlOiBGbG9hdFxuICAgIHRvdGFsTWVldGluZ0RvbmU6IEludFxuICAgIHRvdGFsUHJvcG9zYWxTZW50OiBJbnRcbn1cbnR5cGUgdG90YWxBY3RpdmVQcm9qZWN0c1Jlc3BvbnNlIHtcbiAgICBjb2RlOkludFxuICAgIG1lc3NhZ2U6IFN0cmluZ1xuICAgIGRhdGE6IFtKU09OXVxufVxudHlwZSBhY2hpZXZlZFJldmVudWVSZXNwb25zZSB7XG4gICAgY29kZTpJbnRcbiAgICBtZXNzYWdlOiBTdHJpbmdcbiAgICB0b3RhbGFjaGlldmVkcmV2ZW51ZTogSW50XG4gICAgbW9udGhseXRhcmdldDogRmxvYXRcbn1cbiAgIFxuICAgIHR5cGUgUXVlcnkge1xuICAgICAgICBsZWFkU3VtbWFyeShtb250aDpJbnQpOiBsZWFkU3VtbWFyeVJlc3BvbnNlXG4gICAgICAgIGNvbnZlcnNpb24obW9udGg6SW50KTogY29udmVyc2lvblJlc3BvbnNlXG4gICAgICAgIHVwY29taW5nTWVldGluZ3ModGltZXBlcmlvZDpJbnQpOnVwY29taW5nTWVldGluZ3NSZXNwb25zZVxuICAgICAgICBicm9hZGNhc3RlZExlYWRzOmJyb2FkY2FzdGVkTGVhZHNSZXNwb25zZVxuICAgICAgICBwcm9wb3NhbFNlbnQobW9udGg6SW50KTpwcm9wb3NhbFNlbnRSZXNwb25zZVxuICAgICAgICB0b3RhbEFjdGl2ZVByb2plY3RzOnRvdGFsQWN0aXZlUHJvamVjdHNSZXNwb25zZVxuICAgICAgICBhY2hpZXZlZFJldmVudWUobW9udGg6IEludCk6YWNoaWV2ZWRSZXZlbnVlUmVzcG9uc2VcblxuICAgIH1cbiAgXG4gICAgc2NhbGFyIERhdGVUaW1lXG5gXG4iLCJjb25zdCBjb25maWcgPSBwcm9jZXNzLmVudjtcblxuaWYgKCFjb25maWcuTk9ERV9FTlYpIHtcbiAgY29uZmlnLk5PREVfRU5WID0gXCJwcm9kdWN0aW9uXCI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IEh0dHBFcnJvciBmcm9tIFwic3RhbmRhcmQtaHR0cC1lcnJvclwiO1xuXG5leHBvcnQgY29uc3Qgc2lnbiA9ICh2YWx1ZVRvRW5jb2RlLCBzZWNyZXQsIGV4cGlyZXNJbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBleHBpcmVzSW4sXG4gICAgICBpc3N1ZXI6IFwiaHR0cHM6Ly9EZXNpZ25DYWZlLmNvbVwiLFxuICAgIH07XG4gICAgcmV0dXJuIGp3dC5zaWduKHsgcGF5bG9hZDogdmFsdWVUb0VuY29kZSB9LCBzZWNyZXQsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNTAwLCBcIkludGVybmFsU2VydmVyRXJyb3JcIik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWNvZGUgPSAodmVyaWZ5VG9rZW4sIHNlY3JldCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHZlcmlmeVRva2VuLCBzZWNyZXQsIHsgaWdub3JlRXhwaXJhdGlvbjogdHJ1ZSB9KTtcbiAgICBjb25zb2xlLmxvZyg1NTUsZGVjb2RlZClcbiAgICByZXR1cm4gZGVjb2RlZC5wYXlsb2FkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAxLCBcIlVuYXV0aG9yaXplZFwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRlY29kZVJlcXVlc3RIZWFkZXIgPSAocmVxLCBzZWNyZXQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgcmV0dXJuIGRlY29kZSh0b2tlbiwgc2VjcmV0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVbmF1dGhvcml6ZWRcIik7XG4gIH1cbn07XG5leHBvcnQgY29uc3QgZGVjb2RlV2l0aG91dFZlcmlmeWluZyA9ICh0b2tlbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBqd3QuZGVjb2RlKHRva2VuKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVbmF1dGhvcml6ZWRcIik7XG4gIH1cbn07XG4iLCJpbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vcHJpc21hQ29uZmlnXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi4vYXV0aENvbnRyb2wvSnd0QXV0aENvbnRyb2xcIjtcbmltcG9ydCB7IFByb2ZpbGVUeXBlRW51bU5hbWVzIH0gZnJvbSBcIi4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvZmlsZVR5cGVFbnVtc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUm9sZUxpc3QoKSB7XG4gIHJldHVybiBbXG4gICAgUHJvZmlsZVR5cGVFbnVtTmFtZXMuU1lTVEVNX0FETUlOSVNUUkFUT1IsXG4gICAgUHJvZmlsZVR5cGVFbnVtTmFtZXMuSU5fSE9VU0VfREVTSUdORVIsXG4gICAgUHJvZmlsZVR5cGVFbnVtTmFtZXMuREVTSUdOX1BBUlRORVIsXG4gICAgUHJvZmlsZVR5cGVFbnVtTmFtZXMuQVNTT0NJQVRFX1NUVURJT19NQU5BR0VSLFxuICAgIFByb2ZpbGVUeXBlRW51bU5hbWVzLlNUVURJT19NQU5BR0VSLFxuICAgIFByb2ZpbGVUeXBlRW51bU5hbWVzLlNUVURJT19NQU5BR0VSX0RQLFxuICAgIFByb2ZpbGVUeXBlRW51bU5hbWVzLkNFTlRFUl9ERUxJVkVSWV9IRUFELFxuICAgIFByb2ZpbGVUeXBlRW51bU5hbWVzLkNJVFlfREVMSVZFUllfSEVBRCxcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5BTExfSU5ESUFfQlVTSU5FU1NfSEVBRCxcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5DRU8sXG4gICAgUHJvZmlsZVR5cGVFbnVtTmFtZXMuQ0hNX0VYRUNVVElWRSxcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5DSE1fTUFOQUdFUixcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5TVVJWRVlfRVhFQ1VUSVZFLFxuICAgIFByb2ZpbGVUeXBlRW51bU5hbWVzLlNVUlZFWV9NQU5BR0VSLFxuICAgIC8vIFByb2ZpbGVUeXBlRW51bU5hbWVzLlRIUkVFX0RfREVTSUdORVJfUkVOREVSUyxcbiAgICAvLyBQcm9maWxlVHlwZUVudW1OYW1lcy5USFJFRV9EX0RFU0lHTkVSX1NIRUxMLFxuICAgIC8vIFByb2ZpbGVUeXBlRW51bU5hbWVzLlRIUkVFX0RfTUFOQUdFUixcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5GSU5BTkNFX0VYRUNVVElWRSxcbiAgICBQcm9maWxlVHlwZUVudW1OYW1lcy5GUkFOQ0hJU0VfT1dORVIsXG4gIF07XG59XG5cbmV4cG9ydCBjb25zdCBkb21haW5WZXJpZmljYXRpb24gPSBhc3luYyAoZW1haWwpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyg1NzUsIGVtYWlsKTtcbiAgICBjb25zdCBkb21haW4gPSBlbWFpbC5zcGxpdChcIkBcIilbMV07XG4gICAgaWYgKFxuICAgICAgZG9tYWluLnRvTG93ZXJDYXNlKCkgIT09IHByb2Nlc3MuZW52LmVtYWlsRG9tYWluREMgJiZcbiAgICAgIGRvbWFpbi50b0xvd2VyQ2FzZSgpICE9PSBwcm9jZXNzLmVudi5lbWFpbERvbWFpbkRDUGFydG5lclxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgICAgNDAxLFxuICAgICAgICBcIlVuYXV0aG9yaXplZCwgZW1haWwgc2hvdWxkIGJlIGEgRGVzaWduQ2FmZSBlbWFpbC5cIlxuICAgICAgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGF1dGhvcml6ZSA9IGFzeW5jIChyZXF1aXJlZFByb2ZpbGVUeXBlcywgdXNlcikgPT4ge1xuICB0cnkge1xuICAgIGlmIChyZXF1aXJlZFByb2ZpbGVUeXBlcy5pbmRleE9mKHVzZXI/LnByb2ZpbGU/LnByb2ZpbGVfbmFtZSkgPT09IC0xKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkJhc2VVc2VDYXNlIGF1dGhvcml6ZSBlcnJvciBvbmVcIik7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVbmF1dGhvcml6ZWRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiQmFzZVVzZUNhc2UgYXV0aG9yaXplIGVycm9yXCIsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlID0gYXN5bmMgKGNvbnRleHQsIGFwcCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gY29udGV4dC5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDEsIFwiVW5hdXRob3JpemVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgZGVjb2RlKHRva2VuLCBwcm9jZXNzLmVudi5qd3RTZWNyZXRBY2Nlc3NUb2tlbik7XG4gICAgY29uc3QgaWQgPSBwYXlsb2FkPy5pZDtcbiAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTtcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAzLCBcIkZvcmJpZGRlblwiKTtcbiAgICB9XG4gICAgY29uc3QgZGF0ZU5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgdXRjU2Vjb25kcyA9IHBheWxvYWQuZXhwO1xuICAgIGNvbnN0IGV4cGlyeSA9IG5ldyBEYXRlKDApO1xuICAgIGV4cGlyeS5zZXRVVENTZWNvbmRzKHV0Y1NlY29uZHMpO1xuICAgIGlmIChleHBpcnkgPCBkYXRlTm93KSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQ5OCwgXCJUb2tlbiBFeHBpcmVkXCIpO1xuICAgIH1cblxuICAgIGxldCB1c2VyO1xuICAgIGlmIChhcHAgPT09IFwiQ0RcIikge1xuICAgICAgdXNlciA9IGF3YWl0IHByaXNtYS5kY19jdXN0b21lci5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBjdXN0b21lcmlkOiBpZCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhcHAgPT09IFwiRERcIikge1xuICAgICAgYXdhaXQgZG9tYWluVmVyaWZpY2F0aW9uKHBheWxvYWQuZGVzaWduQ2FmZUVtYWlsKTtcbiAgICAgIHVzZXIgPSBhd2FpdCBwcmlzbWEuZGNfdXNlcnMuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcmlkOiBpZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgcHJvZmlsZTogdHJ1ZSxcbiAgICAgICAgICB1c2Vyc19jaXR5OiB0cnVlLFxuICAgICAgICAgIHVzZXJzX2V4cGVyaWVuY2VjZW50ZXJzOiB0cnVlLFxuICAgICAgICAgIHVzZXJzX3RlYW06IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMSwgXCJVbkF1dGhvcml6ZWRcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAxLCBlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhdXRoZW50aWNhdGVEZENkID0gYXN5bmMgKGNvbnRleHQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGNvbnRleHQuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIGlmICghYWNjZXNzVG9rZW4pIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAxLCBcIlVuYXV0aG9yaXplZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZERhdGEgPSBhd2FpdCBkZWNvZGUoXG4gICAgICBhY2Nlc3NUb2tlbixcbiAgICAgIHByb2Nlc3MuZW52Lmp3dFNlY3JldEFjY2Vzc1Rva2VuXG4gICAgKTtcbiAgICBjb25zdCBpZCA9IHBheWxvYWREYXRhPy5pZDtcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAzLCBcIkZvcmJpZGRlblwiKTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHV0Y0luU2Vjb25kcyA9IHBheWxvYWREYXRhLmV4cDtcbiAgICBjb25zdCBleHBpcmVzSW4gPSBuZXcgRGF0ZSgwKTtcbiAgICBleHBpcmVzSW4uc2V0VVRDU2Vjb25kcyh1dGNJblNlY29uZHMpO1xuICAgIGlmIChleHBpcmVzSW4gPCBjdXJyZW50RGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0OTgsIFwiVG9rZW4gRXhwaXJlZFwiKTtcbiAgICB9XG4gICAgbGV0IGN1c3RvbWVyO1xuICAgIGlmIChwYXlsb2FkRGF0YT8uY3VzdG9tZXJwaG9uZSkge1xuICAgICAgY3VzdG9tZXIgPSBhd2FpdCBwcmlzbWEuZGNfY3VzdG9tZXIuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgY3VzdG9tZXJwaG9uZTogcGF5bG9hZERhdGE/LmN1c3RvbWVycGhvbmUgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgdXNlcjtcbiAgICBpZiAocGF5bG9hZERhdGE/LmRlc2lnbkNhZmVFbWFpbCkge1xuICAgICAgdXNlciA9IGF3YWl0IHByaXNtYS5kY191c2Vycy5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBkZXNpZ25jYWZlZW1haWw6IHBheWxvYWREYXRhLmRlc2lnbkNhZmVFbWFpbCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgdXNlcnNfY2l0eTogdHJ1ZSxcbiAgICAgICAgICB1c2Vyc19leHBlcmllbmNlY2VudGVyczogdHJ1ZSxcbiAgICAgICAgICB1c2Vyc190ZWFtOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh1c2VyKSB7XG4gICAgICBhd2FpdCBkb21haW5WZXJpZmljYXRpb24ocGF5bG9hZERhdGEuZGVzaWduQ2FmZUVtYWlsKTtcbiAgICB9XG4gICAgaWYgKGN1c3RvbWVyIHx8IHVzZXIpIHtcbiAgICAgIHJldHVybiB7IHVzZXIsIGN1c3RvbWVyIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAxLCBcIlVuQXV0aG9yaXplZFwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig1MDAsIGVycm9yKTtcbiAgfVxufTtcbiIsImltcG9ydCAqIGFzIG5vZGVtYWlsZXIgZnJvbSBcIm5vZGVtYWlsZXJcIlxuaW1wb3J0ICogYXMgTWFpbGdlbiBmcm9tIFwibWFpbGdlblwiO1xuXG5jbGFzcyBFbWFpbCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgZW1haWxJZDtcbiAgcHJpdmF0ZSByZWFkb25seSB1c2VyTmFtZTtcbiAgcHJpdmF0ZSByZWFkb25seSBwYXNzd29yZDtcbiAgcHJpdmF0ZSByZWFkb25seSBzZW5kZXJJZDtcbiAgY29uc3RydWN0b3IoZW1haWxJZCwgdXNlck5hbWUsIHBhc3N3b3JkLCBzZW5kZXJJZCkge1xuICAgIHRoaXMuZW1haWxJZCA9IGVtYWlsSWQ7XG4gICAgdGhpcy51c2VyTmFtZSA9IHVzZXJOYW1lO1xuICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDtcbiAgICB0aGlzLnNlbmRlcklkID0gc2VuZGVySWQ7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2VuZE1haWwobmFtZSwgdG8sIHN1YmplY3QsIGJvZHksIGNjLCBiY2MsIGF0dGFjaG1lbnRzKSB7XG4gICAgbGV0IFJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtYWlsR2VuZXJhdG9yID0gbmV3IE1haWxnZW4oe1xuICAgICAgICB0aGVtZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgICBuYW1lOiBcIlRlYW0gRENcIixcbiAgICAgICAgICBsaW5rOiBcImh0dHBzOi8vd3d3LmRlc2lnbmNhZmUuY29tL1wiLFxuICAgICAgICAgIGxvZ286XG4gICAgICAgICAgICBcImh0dHBzOi8vczMtYXAtc291dGgtMS5hbWF6b25hd3MuY29tL2Rlc2lnbmNhZmUtZGV2L3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE5LzExLzE3MDYwNzEzL0xvZ28ucG5nXCIsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW1haWwgPSB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBncmVldGluZzogXCJEZWFyXCIsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBvdXRybzogYm9keSxcbiAgICAgICAgICBzaWduYXR1cmU6IGBUaGFuayBZb3UhYCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICAgICAgICBob3N0OiBcImVtYWlsLXNtdHAuYXAtc291dGgtMS5hbWF6b25hd3MuY29tXCIsXG4gICAgICAgIHBvcnQ6IDQ2NSxcbiAgICAgICAgc2VjdXJlOiB0cnVlLFxuICAgICAgICBhdXRoOiB7XG4gICAgICAgICAgdXNlcjogdGhpcy51c2VyTmFtZSxcbiAgICAgICAgICBwYXNzOiB0aGlzLnBhc3N3b3JkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHNldHVwIGVtYWlsIGRhdGEgd2l0aCB1bmljb2RlIHN5bWJvbHNcbiAgICAgIGNvbnN0IG1haWxPcHRpb25zID0ge1xuICAgICAgICBmcm9tOiBgXCIke3RoaXMuc2VuZGVySWR9XCIgPCR7dGhpcy5lbWFpbElkfT5gLCAvLyBzZW5kZXIgYWRkcmVzc1xuICAgICAgICB0byxcbiAgICAgICAgY2MsXG4gICAgICAgIHN1YmplY3QsXG4gICAgICAgIHRleHQ6IG1haWxHZW5lcmF0b3IuZ2VuZXJhdGVQbGFpbnRleHQoZW1haWwpLFxuICAgICAgICBodG1sOiBib2R5LFxuICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHMsXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XG4gICAgICBSZXNwb25zZSA9IHtjb2RlOjIwMCxtZXNzYWdlOlwic3VjY2Vzc1wifVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIHNlbmQgRW1haWwgZXJyb3JcIiwgZXJyb3IpO1xuICAgIH1cbiAgcmV0dXJuIFJlc3BvbnNlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRW1haWw7XG4iLCJpbXBvcnQgKiBhcyBhd3MgZnJvbSBcImF3cy1zZGtcIjtcbmltcG9ydCBIdHRwRXJyb3IgZnJvbSBcInN0YW5kYXJkLWh0dHAtZXJyb3JcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZSA9IChhd3NDb25zdGFudHMpID0+IHtcbiAgYXdzLmNvbmZpZy51cGRhdGUoe1xuICAgIGFjY2Vzc0tleUlkOiBhd3NDb25zdGFudHMuYWNjZXNzS2V5SWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBhd3NDb25zdGFudHMuc2VjcmV0QWNjZXNzS2V5LFxuICAgIHJlZ2lvbjogYXdzQ29uc3RhbnRzLnJlZ2lvbixcbiAgfSk7XG5cbiAgY29uc3QgdXBsb2FkRmlsZUFzQmFzZTY0ID0gYXN5bmMgKGtleSwgY29udGVudFR5cGUsIGZpbGUpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHMzID0gbmV3IGF3cy5TMyh7IHBhcmFtczogeyBCdWNrZXQ6IHByb2Nlc3MuZW52LmF3c0J1Y2tldCB9IH0pO1xuICAgIGNvbnN0IGRhdGE6IGFueSA9IHtcbiAgICAgIEtleToga2V5LFxuICAgICAgQm9keTogZmlsZSxcbiAgICAgIENvbnRlbnRFbmNvZGluZzogXCJiYXNlNjRcIixcbiAgICAgIENvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICB9O1xuICAgIHJldHVybiBzMy5wdXRPYmplY3QoZGF0YSkucHJvbWlzZSgpO1xuICB9O1xuXG4gIGNvbnN0IGdldEZpbGVBc0Jhc2U2NCA9IGFzeW5jIChrZXkpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHMzID0gbmV3IGF3cy5TMygpO1xuICAgIGNvbnN0IG9wdGlvbnM6IGFueSA9IHtcbiAgICAgIEJ1Y2tldDogcHJvY2Vzcy5lbnYuYXdzQnVja2V0LFxuICAgICAgS2V5OiBrZXksXG4gICAgfTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgczMuZ2V0T2JqZWN0KG9wdGlvbnMpLnByb21pc2UoKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhLCBcImRhdGFpbkFXc1wiKTtcbiAgICByZXR1cm4gZGF0YSA/IEJ1ZmZlci5mcm9tKGRhdGEuQm9keS50b1N0cmluZygpKS50b1N0cmluZyhcImJpbmFyeVwiKSA6IFwiXCI7XG4gIH07XG5cbiAgY29uc3QgZ2V0QnVmZmVyQXNCYXNlNjQgPSBhc3luYyAoa2V5KTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcbiAgICBjb25zdCBvcHRpb25zOiBhbnkgPSB7XG4gICAgICBCdWNrZXQ6IHByb2Nlc3MuZW52LmF3c0J1Y2tldCxcbiAgICAgIEtleToga2V5LFxuICAgIH07XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHMzLmdldE9iamVjdChvcHRpb25zKS5wcm9taXNlKCk7XG4gICAgcmV0dXJuIGRhdGEgPyBCdWZmZXIuZnJvbShkYXRhLkJvZHkudG9TdHJpbmcoKSkudG9TdHJpbmcoXCJiYXNlNjRcIikgOiBcIlwiO1xuICB9O1xuXG4gIGNvbnN0IGdldEJ1ZmZlciA9IGFzeW5jIChrZXkpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgczMgPSBuZXcgYXdzLlMzKCk7XG4gICAgICBjb25zdCBvcHRpb25zOiBhbnkgPSB7XG4gICAgICAgIEJ1Y2tldDogcHJvY2Vzcy5lbnYuYXdzQnVja2V0LFxuICAgICAgICBLZXk6IGtleSxcbiAgICAgIH07XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgczMuZ2V0T2JqZWN0KG9wdGlvbnMpLnByb21pc2UoKTtcbiAgICAgIHJldHVybiBkYXRhLkJvZHk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNTAwLGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBsb2FkRG9jdW1lbnRCdWZmZXIgPSBhc3luYyAoXG4gICAga2V5LFxuICAgIGNvbnRlbnRUeXBlLFxuICAgIGJhc2U2NEZpbGVcbiAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShiYXNlNjRGaWxlLCBcImJhc2U2NFwiKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcbiAgICAgIHMzLnVwbG9hZChcbiAgICAgICAge1xuICAgICAgICAgIEJ1Y2tldDogcHJvY2Vzcy5lbnYuYXdzQnVja2V0LFxuICAgICAgICAgIEtleToga2V5LFxuICAgICAgICAgIEJvZHk6IGJ1ZmZlcixcbiAgICAgICAgICBDb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICAgIH0sXG4gICAgICAgIChlcnIsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZUZyb21Bd3MgPSAoa2V5cykgPT4ge1xuICAgIGNvbnN0IGNvbW1hbmQgPSB7IE9iamVjdHM6IFtdLCBRdWlldDogdHJ1ZSB9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGNvbW1hbmQuT2JqZWN0cy5wdXNoKHtcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgQnVja2V0OiBhd3NDb25zdGFudHMuYnVja2V0LFxuICAgICAgRGVsZXRlOiBjb21tYW5kLFxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHMzLmRlbGV0ZU9iamVjdHMob3B0aW9ucywgKGVycm9yLCBfZGF0YSkgPT4ge1xuICAgICAgICBlcnJvciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHVwbG9hZEltYWdlQmFzZTY0ID0gYXN5bmMgKGtleSwgY29udGVudFR5cGUsIGltYWdlKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICBjb25zdCBzMyA9IG5ldyBhd3MuUzMoeyBwYXJhbXM6IHsgQnVja2V0OiBwcm9jZXNzLmVudi5hd3NCdWNrZXQgfSB9KTtcbiAgICBjb25zdCBkYXRhOiBhbnkgPSB7XG4gICAgICBLZXk6IGtleSxcbiAgICAgIEJvZHk6IGltYWdlLFxuICAgICAgQ29udGVudEVuY29kaW5nOiBcImJhc2U2NFwiLFxuICAgICAgQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgIH07XG4gICAgYXdhaXQgczMucHV0T2JqZWN0KGRhdGEpLnByb21pc2UoKTtcbiAgfTtcblxuICBjb25zdCBpbWFnZUFzQmFzZTY0ID0gYXN5bmMgKGtleSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgY29uc3QgczMgPSBuZXcgYXdzLlMzKCk7XG4gICAgY29uc3Qgb3B0aW9uczogYW55ID0ge1xuICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5hd3NCdWNrZXQsXG4gICAgICBLZXk6IGtleSxcbiAgICB9O1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzMy5nZXRPYmplY3Qob3B0aW9ucykucHJvbWlzZSgpO1xuICAgIHJldHVybiBkYXRhID8gQnVmZmVyLmZyb20oZGF0YS5Cb2R5LnRvU3RyaW5nKCkpLnRvU3RyaW5nKFwiYmluYXJ5XCIpIDogXCJcIjtcbiAgfTtcblxuICBjb25zdCBnZXRGaWxlVXJsID0gYXN5bmMgKGtleSwgY29udGVudFR5cGUpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHMzID0gbmV3IGF3cy5TMygpO1xuICAgIHJldHVybiBzMy5nZXRTaWduZWRVcmwoXCJnZXRPYmplY3RcIiwge1xuICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5hd3NCdWNrZXQsXG4gICAgICBLZXk6IGtleSxcbiAgICAgIFJlc3BvbnNlQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGdldEZpbGVVcmxUb1VwbG9hZCA9IGFzeW5jIChcbiAgICBrZXksXG4gICAgc2lnbmVkVXJsRXhwaXJlVGltZSxcbiAgICBjb250ZW50VHlwZVxuICApOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGNvbnN0IHMzID0gbmV3IGF3cy5TMygpO1xuICAgIHJldHVybiBzMy5nZXRTaWduZWRVcmwoXCJwdXRPYmplY3RcIiwge1xuICAgICAgQnVja2V0OiBwcm9jZXNzLmVudi5hd3NCdWNrZXQsXG4gICAgICBLZXk6IGtleSxcbiAgICAgIEV4cGlyZXM6IHNpZ25lZFVybEV4cGlyZVRpbWUsXG4gICAgICBBQ0w6IFwiYnVja2V0LW93bmVyLWZ1bGwtY29udHJvbFwiLFxuICAgICAgQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0QnVmZmVyLFxuICAgIGdldEZpbGVBc0Jhc2U2NCxcbiAgICB1cGxvYWRGaWxlQXNCYXNlNjQsXG4gICAgZ2V0QnVmZmVyQXNCYXNlNjQsXG4gICAgdXBsb2FkRG9jdW1lbnRCdWZmZXIsXG4gICAgZGVsZXRlRnJvbUF3cyxcbiAgICB1cGxvYWRJbWFnZUJhc2U2NCxcbiAgICBpbWFnZUFzQmFzZTY0LFxuICAgIGdldEZpbGVVcmwsXG4gICAgZ2V0RmlsZVVybFRvVXBsb2FkLFxuICB9O1xufTtcbiIsImNsYXNzIENyZWF0ZVBheU1pSW52b2ljZSB7XG5cbiAgICBtaWxlc3RvbmU6IHN0cmluZztcbiAgICBjbGllbnRJRDogc3RyaW5nO1xuICAgIGNhdGVnb3J5OiBzdHJpbmc7XG4gICAgY3VycmVudFByb2plY3RWYWx1ZTogbnVtYmVyO1xuICAgIGN1cnJlbnRNb2R1bGFyVmFsdWU6IG51bWJlcjtcbiAgICBjdXJyZW50U2l0ZVNlcnZpY2VzVmFsdWU6IG51bWJlcjtcbiAgICBiYXNlQW1vdW50OiBudW1iZXI7XG4gICAgYWRkaXRpb25hbENoYXJnZTogbnVtYmVyO1xuICAgIHN0YXR1czogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDcmVhdGVQYXlNaUludm9pY2U7XG4iLCJcblxuY2xhc3MgTWljcm9zZXJ2aWNlSW52b2ljZVJlcXVlc3RNb2RlbCB7XG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nO1xuICBjdXN0b21lckVtYWlsOiBzdHJpbmc7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgcHJvamVjdElEOiBzdHJpbmc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIHByb2plY3RTdGF0dXM6IHN0cmluZztcbiAgcmVxdWVzdE5hbWU6IHN0cmluZztcbiAgcGF5bWVudE5hbWU6IHN0cmluZztcbiAgYXBwbGljYXRpb25JZDogc3RyaW5nO1xuICBpbnZvaWNlRGF0ZTogc3RyaW5nO1xuICBleHBlcmllbmNlQ2VudGVyOiBzdHJpbmc7XG4gIHByb2plY3RWYWx1ZTogbnVtYmVyO1xuICBpbnZvaWNlTnVtYmVyOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBtaWxlc3RvbmVQZW5kaW5nRHVlOiBudW1iZXI7XG4gIHByb2plY3RNb2R1bGFyVmFsdWU6IG51bWJlcjtcbiAgcHJvamVjdFNpdGVTZXJ2aWNlc1ZhbHVlOiBudW1iZXI7XG4gIHByb2plY3REZWNvclZhbHVlOiBudW1iZXI7XG4gIGRlc2lnbmVyRGV0YWlscztcbiAgc2FsZXNNYW5hZ2VyRGV0YWlscztcbiAgc3R1ZGlvTmFtZTogc3RyaW5nO1xuICBwYXltZW50TWlsZXN0b25lSUQ6IHN0cmluZztcbiAgY3VzdG9tZXJTaGlwcGluZ0FkZHJlc3M6IE9iamVjdDtcbiAgY3VzdG9tZXJCaWxsaW5nQWRkcmVzczogQWRkcmVzc01vZGVsO1xuICBleHRyYVBheW1lbnRzOiBBZGRPblBheW1lbnRPYmplY3RbXTtcbn1cbmNsYXNzIEFkZHJlc3NNb2RlbCB7XG4gIGNvdW50cnk6IHN0cmluZztcbiAgc3RyZWV0OiBzdHJpbmc7XG4gIGNpdHk6IHN0cmluZztcbiAgemlwT3JQb3N0YWxDb2RlOiBzdHJpbmc7XG4gIHNoaXBwaW5nU3RhdGU6IHN0cmluZztcbn1cbmNsYXNzIEFkZE9uUGF5bWVudE9iamVjdCB7XG4gIGFtb3VudDogbnVtYmVyO1xuICBwYXltZW50TmFtZTogc3RyaW5nO1xuICBxdWFudGl0eTogbnVtYmVyO1xufVxuY2xhc3MgTWljcm9zZXJ2aWNlUmVzcG9uc2VNb2RlbCB7XG4gIGFwcGxpY2F0aW9uaWQ6IHN0cmluZztcbiAgcHJvamVjdGlkOiBzdHJpbmc7XG4gIHBheW1lbnRuYW1lOiBzdHJpbmc7XG4gIGludm9pY2VicmVha3VwOiB7XG4gICAgYmFzZWFtb3VudDogbnVtYmVyO1xuICAgIHNnc3Q6IG51bWJlcjtcbiAgICBjZ3N0OiBudW1iZXI7XG4gICAgaWdzdDogbnVtYmVyO1xuICAgIHRvdGFsdGF4dmFsdWU6IG51bWJlcjtcbiAgICB0b3RhbGFtb3VudDogbnVtYmVyO1xuICB9XG4gIGludm9pY2VkYXRlOiBzdHJpbmc7XG4gIGludm9pY2VudW1iZXI6IHN0cmluZztcbiAgaW52b2ljZXBkZjogc3RyaW5nO1xuICBwYXltZW50bGluazogc3RyaW5nO1xufVxuY2xhc3MgUGF5bWVudE1pbGVzdG9uZVVwZGF0ZVJlcXVlc3RNb2RlbCB7XG4gIGludm9pY2ViYXNlYW1vdW50OiBudW1iZXI7XG4gIGludm9pY2VudW1iZXI6IHN0cmluZztcbiAgaW52b2ljZXRvdGFsYW1vdW50OiBudW1iZXI7XG4gIGludm9pY2V0b3RhbHRheGFtb3VudDogbnVtYmVyO1xuICBpbnZvaWNldG90YWxjZ3N0YXhhbW91bnQ6IG51bWJlcjtcbiAgaW52b2ljZXRvdGFsc2dzdHRheGFtb3VudDogbnVtYmVyO1xuICBpbnZvaWNldG90YWxpZ3N0dGF4YW1vdW50OiBudW1iZXI7XG4gIGludm9pY2VkYXRlOiBzdHJpbmc7XG4gIGludm9pY2V1cmw6IHN0cmluZztcbiAgcGF5bWVudGxpbms6IHN0cmluZztcbiAgYW1vdW50ZHVlOiBudW1iZXI7XG4gIHRvdGFscGF5YWJsZWFtb3VudDogbnVtYmVyO1xuICBtaWxlc3RvbmVhbW91bnQ6IG51bWJlcjtcbiAgaXNmcmVlemVkOiBib29sZWFuO1xuICBzdGF0dXM6IHN0cmluZztcbn1cbmVudW0gUGF5bWVudFN0YXR1c0VudW0ge1xuICBQQUlEID0gXCJQYWlkXCIsXG4gIFBFTkRJTkcgPSBcIlBlbmRpbmdcIixcbiAgUEFSVElBTF9QQVlNRU5UID0gXCJQYWlkIFBhcnRpYWxseVwiLFxufVxuZXhwb3J0IHtcbiAgTWljcm9zZXJ2aWNlUmVzcG9uc2VNb2RlbCxcbiAgUGF5bWVudE1pbGVzdG9uZVVwZGF0ZVJlcXVlc3RNb2RlbCxcbiAgQWRkcmVzc01vZGVsLFxuICBBZGRPblBheW1lbnRPYmplY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgTWljcm9zZXJ2aWNlSW52b2ljZVJlcXVlc3RNb2RlbDtcbiIsImNsYXNzIFBheW1lbnRNaWxlc3RvbmVVcGRhdGVSZXF1ZXN0TW9kZWwge1xuICBpbnZvaWNlYmFzZWFtb3VudDogc3RyaW5nO1xuICBpbnZvaWNlbnVtYmVyOiBzdHJpbmc7XG4gIGludm9pY2V0b3RhbGFtb3VudDogc3RyaW5nO1xuICBpbnZvaWNldG90YWx0YXhhbW91bnQ6IHN0cmluZztcbiAgaW52b2ljZXRvdGFsY2dzdGF4YW1vdW50OiBzdHJpbmc7XG4gIGludm9pY2V0b3RhbHNnc3R0YXhhbW91bnQ6IHN0cmluZztcbiAgaW52b2ljZXRvdGFsaWdzdHRheGFtb3VudDogc3RyaW5nO1xuICBpbnZvaWNlZGF0ZTogRGF0ZTtcbiAgaW52b2ljZXVybDogc3RyaW5nO1xuICBwYXltZW50bGluazogc3RyaW5nO1xuICBwYXltZW50bGlua2lkOiBzdHJpbmc7XG4gIHJwYXlvcmRlcmlkOiBzdHJpbmc7XG4gIHJlY2VpcHRpZDogc3RyaW5nO1xufVxuY2xhc3MgQWRkUGF5bWVudFJlY2VpcHRSZXF1ZXN0RGF0YSB7XG4gIHBheW1lbnRuYW1lOiBzdHJpbmc7XG4gIHJlY2VpdmVkYW1vdW50OiBzdHJpbmc7XG4gIHBheW1lbnRtb2RlOiBudW1iZXI7XG4gIHRyYW5zYWN0aW9uaWQ6IHN0cmluZztcbiAgcGF5bWVudHJlY2VpdmVkZGF0ZTogc3RyaW5nO1xuICBwYXltZW50bWlsbGVzdG9uZWlkOiBzdHJpbmc7XG4gIHBheW1lbnRNaWxlc3RvbmVWYWx1ZTogc3RyaW5nO1xuICBwcm9qZWN0aWQ6IHN0cmluZztcbiAgcGF5bWVudGlkOiBzdHJpbmc7XG4gIGF0dGFjaG1lbnQ6IHtcbiAgICBmaWxlQmFzZTY0OiBzdHJpbmc7XG4gICAgZmlsZU5hbWU6IHN0cmluZztcbiAgICBjb250ZW50VHlwZTogc3RyaW5nO1xuICB9O1xuICBhd3NTdXBwb3J0aW5nRG9jdW1lbnRVUkxLZXk6IHN0cmluZztcbiAgc3VwcG9ydGluZ0RvY3VtZW50VVJMOiBzdHJpbmc7XG59XG5jbGFzcyBDYXB0dXJlTWFudWFsUGF5bWVudE1vZGVsIHtcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIGludm9pY2VOdW1iZXI6IHN0cmluZztcbiAgcGF5bWVudElkOiBzdHJpbmc7XG4gIGFtb3VudFBhaWQ6IG51bWJlcjtcbiAgcGF5bWVudFJlY2VpdmVkRGF0ZTogc3RyaW5nO1xuICB0cmFuc2FjdGlvbklkOiBzdHJpbmc7XG4gIHBheW1lbnRNb2RlOiBzdHJpbmc7XG4gIGN1c3RvbWVyUGhvbmU6IHN0cmluZztcbiAgcGF5bWVudFJlY2VpcHQ6IHN0cmluZztcbiAgbWlsZXN0b25lSWQ6IHN0cmluZztcbiAgaXNGcm9tREQ6IGJvb2xlYW47XG59XG5cbmNsYXNzIE1pbGVzdG9uZVVwZGF0ZVJlcXVlc3RNb2RlbCB7XG4gIGFtb3VudHBhaWQ6IHN0cmluZztcbiAgYW1vdW50ZHVlOiBzdHJpbmc7XG4gIGZyZWV6ZWRtb2R1bGFyOiBudW1iZXI7XG4gIHRvdGFscGF5YWJsZWFtb3VudDogc3RyaW5nO1xuICBpc2ZyZWV6ZWQ6IGJvb2xlYW47XG4gIHN0YXR1czogUGF5bWVudFN0YXR1c0VudW07XG4gIGFkdmFuY2VhbW91bnQ6IHN0cmluZztcbiAgcGF5bWVudGxpbms6IHN0cmluZztcbn1cbmNsYXNzIFByb2plY3RVcGRhdGVSZXF1ZXN0TW9kZWwge1xuICBhY2hpZXZlZHJldmVudWV2YWx1ZTogc3RyaW5nO1xuICBwZW5kaW5nYW1vdW50dmFsdWU6IHN0cmluZztcbn1cbmVudW0gUGF5bWVudFN0YXR1c0VudW0ge1xuICBQQUlEID0gXCJQYWlkXCIsXG4gIFBFTkRJTkcgPSBcIlBlbmRpbmdcIixcbiAgUEFSVElBTF9QQVlNRU5UID0gXCJQYWlkIFBhcnRpYWxseVwiLFxufVxuXG5jbGFzcyBDbGVhclBheW1lbnRSZXF1ZXN0TW9kZWwge1xuICBpbnZvaWNlbnVtYmVyOiBzdHJpbmc7XG4gIHN0YXR1czogUGF5bWVudFN0YXR1c0VudW07XG4gIG1pbGVzdG9uZWFtb3VudDogc3RyaW5nO1xuICB0b3RhbHBheWFibGVhbW91bnQ6IHN0cmluZztcbiAgYWR2YW5jZWFtb3VudDogc3RyaW5nO1xuICBhbW91bnRwYWlkOiBudW1iZXI7XG4gIGFkZG9uYW1vdW50OiBzdHJpbmc7XG4gIGFtb3VudGR1ZTogc3RyaW5nO1xuICBmcmVlemVkbW9kdWxhcjogc3RyaW5nO1xuICBmcmVlemVkc2l0ZXNlcnZpY2U6IHN0cmluZztcbiAgcGF5bWVudGlkOiBhbnk7XG4gIGlzZnJlZXplZDogYm9vbGVhbjtcbiAgcGF5bWVudHZhbHVlOiBzdHJpbmc7XG59XG5cbmNsYXNzIE1pY3Jvc2VydmljZU1hbnVhbEludm9pY2VSZXF1ZXN0TW9kZWwge1xuICBjdXN0b21lck5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nO1xuICBjdXN0b21lclBob25lOiBzdHJpbmc7XG4gIGN1c3RvbWVyU2hpcHBpbmdBZGRyZXNzOiBPYmplY3Q7XG4gIGN1c3RvbWVyQmlsbGluZ2FkZHJlc3M6IEFkZHJlc3NNb2RlbDtcbiAgcHJvamVjdElEOiBzdHJpbmc7XG4gIHByb2plY3ROYW1lOiBzdHJpbmc7XG4gIHByb2plY3RTdGF0dXM6IHN0cmluZztcbiAgcmVxdWVzdE5hbWU6IHN0cmluZztcbiAgcGF5bWVudE5hbWU6IHN0cmluZztcbiAgYXBwbGljYXRpb25JZDogc3RyaW5nO1xuICBpbnZvaWNlRGF0ZTogc3RyaW5nO1xuICBleHBlcmllbmNlQ2VudGVyOiBzdHJpbmc7XG4gIHByb2plY3RWYWx1ZTogbnVtYmVyO1xuICBpbnZvaWNlTnVtYmVyOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBtaWxlc3RvbmVQZW5kaW5nRHVlOiBudW1iZXI7XG4gIGV4dHJhUGF5bWVudHM6IEFkZE9uUGF5bWVudE9iamVjdFtdO1xuICBwYXltZW50U3RhdHVzOiBzdHJpbmc7XG4gIGFtb3VudFBhaWQ6IG51bWJlcjtcbiAgYW1vdW50RHVlOiBudW1iZXI7XG59XG5jbGFzcyBBZGRyZXNzTW9kZWwge1xuICBjb3VudHJ5OiBzdHJpbmc7XG4gIHN0cmVldDogc3RyaW5nO1xuICBjaXR5OiBzdHJpbmc7XG4gIHppcG9ycG9zdGFsY29kZTogc3RyaW5nO1xuICBzaGlwcGluZ3N0YXRlOiBzdHJpbmc7XG59XG5jbGFzcyBBZGRPblBheW1lbnRPYmplY3Qge1xuICBhbW91bnQ6IG51bWJlcjtcbiAgcGF5bWVudG5hbWU6IHN0cmluZztcbiAgcXVhbnRpdHk6IG51bWJlcjtcbn1cbmV4cG9ydCB7XG4gIEFkZFBheW1lbnRSZWNlaXB0UmVxdWVzdERhdGEsXG4gIENhcHR1cmVNYW51YWxQYXltZW50TW9kZWwsXG4gIE1pbGVzdG9uZVVwZGF0ZVJlcXVlc3RNb2RlbCxcbiAgUGF5bWVudFN0YXR1c0VudW0sXG4gIFByb2plY3RVcGRhdGVSZXF1ZXN0TW9kZWwsXG4gIENsZWFyUGF5bWVudFJlcXVlc3RNb2RlbCxcbiAgTWljcm9zZXJ2aWNlTWFudWFsSW52b2ljZVJlcXVlc3RNb2RlbCxcbiAgQWRkcmVzc01vZGVsLFxuICBBZGRPblBheW1lbnRPYmplY3Rcbn1cbmV4cG9ydCBkZWZhdWx0IFBheW1lbnRNaWxlc3RvbmVVcGRhdGVSZXF1ZXN0TW9kZWw7XG4iLCJlbnVtIHJlcXVlc3RTdGFnZSB7XG4gIEJPT0tJTkdGT1JNID0gXCJib29raW5nIGZvcm1cIixcbiAgUFJPSkVDVFBST1BPU0FMID0gXCJwcm9qZWN0IHByb3Bvc2FsXCIsXG4gIERFU0lHTlNJR05PRkYgPSBcImRlc2lnbiBzaWdub2ZmXCIsXG59XG5cbmVudW0gQm9va2luZ0Zvcm1TdGF0dXNFbnVtTmFtZXMge1xuICBOVUxMID0gXCJudWxsXCIsXG4gIEdFTkVSQVRFRCA9IFwiZ2VuZXJhdGVkXCIsXG4gIENIQU5HRV9SRVFVRVNURUQgPSBcImNoYW5nZV9yZXF1ZXN0ZWRcIixcbiAgVVBEQVRFRCA9IFwidXBkYXRlZFwiLFxuICBBQ0NFUFRFRCA9IFwiYWNjZXB0ZWRcIixcbn1cblxuZW51bSBQcm9qZWN0UHJvcG9zYWxFbnVtcyB7XG4gIENSRUFURUQgPSBcImNyZWF0ZWRcIixcbiAgUEVORElORyA9IFwicGVuZGluZ1wiLFxuICBBQ0NFUFRFRCA9IFwiYWNjZXB0ZWRcIixcbiAgQ0hBTkdFX1JFUVVFU1RFRCA9IFwiY2hhbmdlX3JlcXVlc3RlZFwiLFxufVxuXG5lbnVtIFByb2plY3RTdGF0dXNFbnVtIHtcbiAgRFJBRlQgPSBcIkRyYWZ0XCIsIC8vXCJEUkFGVFwiXG4gIEFDVElWRSA9IFwiQWN0aXZlXCIsIC8vXCJBQ1RJVkVcIlxuICBIT0xEID0gXCJIb2xkXCIsIC8vXCJIT0xEXCJcbiAgV0lUSERSQVdOID0gXCJXaXRoZHJhd25cIiwgLy9cIldJVEhEUkFXTlwiXG4gIENPTVBMRVRFRCA9IFwiQ29tcGxldGVkXCIsIC8vXCJDT01QTEVURURcIlxufVxuZXhwb3J0IHtcbiAgcmVxdWVzdFN0YWdlLFxuICBCb29raW5nRm9ybVN0YXR1c0VudW1OYW1lcyxcbiAgUHJvamVjdFByb3Bvc2FsRW51bXMsXG4gIFByb2plY3RTdGF0dXNFbnVtLFxufTtcbiIsImVudW0gRGVzaWduZXJBc3NpZ25TdGF0dXMge1xuICAgIFBFTkRJTkcgPSBcIkRlc2lnbmVyIEFzc2lnbmVkLCBBY2NlcHRhbmNlIFBlbmRpbmdcIixcbiAgICBBQ0NFUFRFRCA9IFwiRGVzaWduZXIgQWNjZXB0ZWRcIixcbiAgICBSRUpFQ1RFRCA9IFwiRGVzaWduZXIgUmVqZWN0ZWRcIixcbn1cbmV4cG9ydCBkZWZhdWx0IERlc2lnbmVyQXNzaWduU3RhdHVzXG4iLCJpbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5cbmVudW0gRmlsZUNoZWNrTGlzdE5hbWUge1xuICBTVVJWRVlfRFJBV0lOR1MgPSBcIlN1cnZleSBEcmF3aW5nc1wiLFxuICBTSVRFX0lNQUdFUyA9IFwiU2l0ZSBJbWFnZXNcIixcbiAgREVTSUdOX1BSRVNFTlRBVElPTiA9IFwiRGVzaWduIFByZXNlbnRhdGlvblwiLFxuICBNT0RVTEFSX1FVT1RBVElPTiA9IFwiTW9kdWxhciBRdW90YXRpb25cIixcbiAgU0lURV9TRVJWSUNFU19RVU9UQVRJT04gPSBcIlNpdGUgU2VydmljZXMgUXVvdGF0aW9uXCIsXG4gIE1PRFVMQVJfRFJBV0lOR1MgPSBcIk1vZHVsYXIgRHJhd2luZ3NcIixcbiAgU0lURV9TRVJWSUNFX0RSQVdJTkdTID0gXCJTaXRlIFNlcnZpY2UgRHJhd2luZ3NcIixcbiAgU0lHTl9PRkZfUFBUID0gXCJTaWduLW9mZiBQUFRcIixcbiAgRklOSVNIRVNfQU5EX0hBTkRMRVMgPSBcIkZpbmlzaGVzICYgSGFuZGxlc1wiXG59XG5cbmVudW0gTWlsZXN0b25lQ2hlY2tMaXN0TmFtZSB7XG4gIFNVUlZFWV9EUkFXSU5HUyA9IFwiVXBsb2FkIFN1cnZleSBEcmF3aW5nc1wiLFxuICBTSVRFX0lNQUdFUyA9IFwiVXBsb2FkIFNpdGUgSW1hZ2VzXCIsXG4gIERFU0lHTl9QUkVTRU5UQVRJT04gPSBcIlVwbG9hZCBEZXNpZ24gUHJlc2VudGF0aW9uXCIsXG5cbn1cblxuY29uc3QgZ2V0RmlsZUNoZWNrbGlzdE5hbWUgPSBhc3luYyAoY2hlY2tMaXN0bmFtZUluUmVxdWVzdDogc3RyaW5nKSA9PiB7XG5cbiAgaWYgKCFjaGVja0xpc3RuYW1lSW5SZXF1ZXN0KSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiZmlsZW5hbWUgaXMgcmVxdWlyZWRcIik7XG4gIH1cblxuICBjb25zdCBjaGVja2xpc3RuYW1lID0gY2hlY2tMaXN0bmFtZUluUmVxdWVzdC50cmltKCk7XG5cbiAgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLlNVUlZFWV9EUkFXSU5HUykge1xuICAgIHJldHVybiBNaWxlc3RvbmVDaGVja0xpc3ROYW1lLlNVUlZFWV9EUkFXSU5HUztcbiAgfSBlbHNlIGlmIChjaGVja2xpc3RuYW1lID09PSBGaWxlQ2hlY2tMaXN0TmFtZS5TSVRFX0lNQUdFUykge1xuICAgIHJldHVybiBNaWxlc3RvbmVDaGVja0xpc3ROYW1lLlNJVEVfSU1BR0VTO1xuICB9IGVsc2UgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLkRFU0lHTl9QUkVTRU5UQVRJT04pIHtcbiAgICByZXR1cm4gTWlsZXN0b25lQ2hlY2tMaXN0TmFtZS5ERVNJR05fUFJFU0VOVEFUSU9OO1xuICB9IGVsc2UgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLk1PRFVMQVJfUVVPVEFUSU9OKSB7XG4gICAgcmV0dXJuIEZpbGVDaGVja0xpc3ROYW1lLk1PRFVMQVJfUVVPVEFUSU9OO1xuICB9IGVsc2UgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLlNJVEVfU0VSVklDRVNfUVVPVEFUSU9OKSB7XG4gICAgcmV0dXJuIEZpbGVDaGVja0xpc3ROYW1lLlNJVEVfU0VSVklDRVNfUVVPVEFUSU9OO1xuICB9IGVsc2UgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLk1PRFVMQVJfRFJBV0lOR1MpIHtcbiAgICByZXR1cm4gRmlsZUNoZWNrTGlzdE5hbWUuTU9EVUxBUl9EUkFXSU5HUztcbiAgfSBlbHNlIGlmIChjaGVja2xpc3RuYW1lID09PSBGaWxlQ2hlY2tMaXN0TmFtZS5TSVRFX1NFUlZJQ0VfRFJBV0lOR1MpIHtcbiAgICByZXR1cm4gRmlsZUNoZWNrTGlzdE5hbWUuU0lURV9TRVJWSUNFX0RSQVdJTkdTO1xuICB9IGVsc2UgaWYgKGNoZWNrbGlzdG5hbWUgPT09IEZpbGVDaGVja0xpc3ROYW1lLlNJR05fT0ZGX1BQVCkge1xuICAgIHJldHVybiBGaWxlQ2hlY2tMaXN0TmFtZS5TSUdOX09GRl9QUFQ7XG4gIH0gZWxzZSBpZiAoY2hlY2tsaXN0bmFtZSA9PT0gRmlsZUNoZWNrTGlzdE5hbWUuRklOSVNIRVNfQU5EX0hBTkRMRVMpIHtcbiAgICByZXR1cm4gRmlsZUNoZWNrTGlzdE5hbWUuRklOSVNIRVNfQU5EX0hBTkRMRVM7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDAsIFwiSW52YWxpZCBmaWxlbmFtZVwiKTtcbiAgfVxuXG59XG5leHBvcnQgeyBnZXRGaWxlQ2hlY2tsaXN0TmFtZSwgRmlsZUNoZWNrTGlzdE5hbWUgfTtcbiIsImVudW0gUGF5bWVudENhdGVnb3J5RW51bSB7XG4gICAgTU9EVUxBUiA9IFwibW9kdWxhclwiLFxuICAgIFNJVEVfU0VSVklDRSA9IFwic2l0ZSBzZXJ2aWNlc1wiXG59XG5leHBvcnQgZGVmYXVsdCBQYXltZW50Q2F0ZWdvcnlFbnVtO1xuIiwiZW51bSBQYXltZW50TW9kZUVudW0ge1xuICAgIENIRVFVRSA9IDAsXG4gICAgQ0FTSCA9IDEsXG4gICAgSU1QUyA9IDIsXG4gICAgTkVGVCA9IDMsXG4gICAgT05MSU5FID0gNCxcbiAgICBDQVJEID0gNSxcbiAgfVxuICBleHBvcnQgZGVmYXVsdCBQYXltZW50TW9kZUVudW07XG4iLCJlbnVtIFByb2ZpbGVUeXBlRW51bUNvZGUge1xuICBTWVNURU1fQURNSU5JU1RSQVRPUiA9IDgsXG4gIElOX0hPVVNFX0RFU0lHTkVSID0gNCxcbiAgREVTSUdOX1BBUlRORVIgPSAxNyxcbiAgQVNTT0NJQVRFX1NUVURJT19NQU5BR0VSID0gMTAsXG4gIFNUVURJT19NQU5BR0VSID0gMTEsXG4gIFNUVURJT19NQU5BR0VSX0RQID0gMyxcbiAgQ0VOVEVSX0RFTElWRVJZX0hFQUQgPSAxNCxcbiAgQ0lUWV9ERUxJVkVSWV9IRUFEID0gMSxcbiAgQUxMX0lORElBX0JVU0lORVNTX0hFQUQgPSA2LFxuICBDRU8gPSA5LFxuICBDSE1fRVhFQ1VUSVZFID0gMTYsXG4gIENITV9NQU5BR0VSID0gMTMsXG4gIFNVUlZFWV9FWEVDVVRJVkUgPSAxNSxcbiAgU1VSVkVZX01BTkFHRVIgPSAyLFxuICBUSFJFRV9EX0RFU0lHTkVSX1JFTkRFUlMgPSAxOSxcbiAgVEhSRUVfRF9ERVNJR05FUl9TSEVMTCA9IDE4LFxuICBUSFJFRV9EX01BTkFHRVIgPSA3LFxuICBGSU5BTkNFX0VYRUNVVElWRSA9IDUsXG4gIEZSQU5DSElTRV9PV05FUiA9IDEyLFxufVxuXG5leHBvcnQgeyBQcm9maWxlVHlwZUVudW1Db2RlIH07XG4iLCJlbnVtIFByb2ZpbGVUeXBlRW51bU5hbWVzIHtcbiAgU1lTVEVNX0FETUlOSVNUUkFUT1IgPSBcIlN5c3RlbSBBZG1pbmlzdHJhdG9yXCIsXG4gIElOX0hPVVNFX0RFU0lHTkVSID0gXCJJbmhvdXNlIERlc2lnbmVyXCIsXG4gIERFU0lHTl9QQVJUTkVSID0gXCJEZXNpZ24gUGFydG5lclwiLFxuICBBU1NPQ0lBVEVfU1RVRElPX01BTkFHRVIgPSBcIkFzc29jaWF0ZSBTdHVkaW8gTWFuYWdlclwiLFxuICBTVFVESU9fTUFOQUdFUiA9IFwiU3R1ZGlvIE1hbmFnZXJcIixcbiAgU1RVRElPX01BTkFHRVJfRFAgPSBcIlN0dWRpbyBNYW5hZ2VyIC0gRFBcIiwgLy9DaGFuZ2UgdG8gY29tbXVuaXR5IE1hbmFnZXJcbiAgQ0VOVEVSX0RFTElWRVJZX0hFQUQgPSBcIkNlbnRlciBEZWxpdmVyeSBIZWFkXCIsXG4gIENJVFlfREVMSVZFUllfSEVBRCA9IFwiQ2l0eSBEZWxpdmVyeSBIZWFkXCIsXG4gIEFMTF9JTkRJQV9CVVNJTkVTU19IRUFEID0gXCJBbGwgSW5kaWEgQnVzaW5lc3MgSGVhZFwiLFxuICBDRU8gPSBcIkNFT1wiLFxuICBDSE1fRVhFQ1VUSVZFID0gXCJDSE0gRXhlY3V0aXZlXCIsXG4gIENITV9NQU5BR0VSID0gXCJDSE0gTWFuYWdlclwiLFxuICBTVVJWRVlfRVhFQ1VUSVZFID0gXCJTdXJ2ZXkgRXhlY3V0aXZlXCIsXG4gIFNVUlZFWV9NQU5BR0VSID0gXCJTdXJ2ZXkgTWFuYWdlclwiLFxuICAvLyAgIFRIUkVFX0RfREVTSUdORVJfUkVOREVSUyA9IFwiM0QgRGVzaWduZXIgLSBSZW5kZXJzXCIsXG4gIC8vICAgVEhSRUVfRF9ERVNJR05FUl9TSEVMTCA9IFwiM0QgRGVzaWduZXIgLSBTaGVsbFwiLFxuICAvLyAgIFRIUkVFX0RfTUFOQUdFUiA9IFwiM0QgTWFuYWdlclwiLFxuICBGSU5BTkNFX0VYRUNVVElWRSA9IFwiRmluYW5jZSBFeGVjdXRpdmVcIixcbiAgRlJBTkNISVNFX09XTkVSID0gXCJGcmFuY2hpc2UgT3duZXJcIixcbiAgRlJBTkNISVNFX0RFU0lHTkVSID0gXCJGcmFuY2hpc2UgRGVzaWduZXJcIiAvLyBBZGQgdGhpcyBpbiBEQlxufVxuXG5cbmV4cG9ydCB7IFByb2ZpbGVUeXBlRW51bU5hbWVzIH07XG4iLCJlbnVtIFByb2plY3RGaWx0ZXJFbnVtIHtcbiAgICBERVNJR05FUiA9IFwiZGVzaWduZXJcIixcbiAgICBTVFVESU8gPSBcInN0dWRpb1wiLFxuICAgIEVDID0gXCJlY1wiLFxuICAgIENJVFkgPSBcImNpdHlcIixcbiAgICBTSUdOVVBfREFURSA9IFwic2lnbi11cCBkYXRlXCIsXG4gICAgU1RBVFVTID0gXCJzdGF0dXNcIixcbiAgICBDVVJSRU5UX1NUQUdFID0gXCJjdXJyZW50IHN0YWdlXCIsXG4gICAgUFJPSkVDVF9OQU1FID0gXCJwcm9qZWN0IG5hbWVcIlxuICB9XG4gIGV4cG9ydCBkZWZhdWx0IFByb2plY3RGaWx0ZXJFbnVtO1xuIiwiZW51bSBQcm9qZWN0TWlsZVN0b25lRW51bSB7XG5cbiAgICBQUk9KRUNUX1NJR05VUCA9IFwicHJvamVjdCBzaWdudXBcIixcbiAgICBTSVRFX1NVUlZFWSA9IFwic2l0ZSBzdXJ2ZXlcIixcbiAgICBLTk9XX1lPVVJfQ0xJRU5UID0gXCJrbm93IHlvdXIgY2xpZW50XCIsXG4gICAgREVTSUdOX1BSRVNFTlRBVElPTiA9IFwiZGVzaWduIHByZXNlbnRhdGlvblwiLFxuICAgIERFU0lHTl9GSU5BTElaQVRJT04gPSBcImRlc2lnbiBmaW5hbGl6YXRpb25cIixcbiAgICBTSVRFX1ZBTElEQVRJT05fUkVRVUVTVCA9IFwic2l0ZSB2YWxpZGF0aW9uIHJlcXVlc3RcIixcbiAgICBTSVRFX1ZBTElEQVRJT05fTUVFVElORyA9IFwic2l0ZSB2YWxpZGF0aW9uXCIsXG4gICAgUE9TVF9TSVRFX1ZBTElEQVRJT05fUkVWSVNJT04gPSBcInBvc3Qgc2l0ZSB2YWxpZGF0aW9uIHJldmlzaW9uXCIsXG4gICAgR0ZDX0NIRUNLSU5HID0gXCJnZmMgY2hlY2tpbmdcIixcbiAgICBERVNJR05fU0lHTk9GRiA9IFwiZGVzaWduIHNpZ24tb2ZmXCIsXG4gICAgUFJPRFVDVElPTl9SRVFVRVNUID0gXCJwcm9kdWN0aW9uIHJlcXVlc3RcIixcbiAgICBQUk9EVUNUSU9OID0gXCJwcm9kdWN0aW9uXCIsXG4gICAgUkVBRFlfRk9SX0RJU1BBVENIID0gXCJyZWFkeSBmb3IgZGlzcGF0Y2hcIixcbiAgICBSRUFEWV9GT1JfSEFORE9WRVIgPSBcInJlYWR5IGZvciBoYW5kb3ZlclwiLFxuICAgIEhBTkRPVkVSID0gXCJoYW5kb3ZlclwiLFxuICAgIERFRkFVTFRfQ1VSUkVOVF9NSUxFU1RPTkUgPSBcIlNpdGUgU3VydmV5XCIsXG4gICAgLyoqKioqKioqKip1c2VkIGZvciBXZWItRW5nYWdlKioqKioqKioqKi9cbiAgICBUSElSVFlGSVZFX1BBWU1FTlQgPSBcIjM1JSBQYXltZW50IENvbmZpcm1hdGlvblwiLFxuICAgIEZPVVJUWUZJVkVfUEFZTUVOVF9DT05GSVJNQVRJT04gPSBcIjQ1JSBQYXltZW50IENvbmZpcm1hdGlvblwiLFxuICAgIERFU0lHTl9JVEVSQVRJT04gPSBcIkRlc2lnbiBJdGVyYXRpb25cIixcbiAgICBNQVRFUklBTF9TRUxFQ1RJT04gPSBcIk1hdGVyaWFsIFNlbGVjdGlvblwiLFxuICAgIEZJRlRFRU5fUEFZTUVOVF9DT05GSVJNQVRJT04gPSBcIjE1JSBQYXltZW50IENvbmZpcm1hdGlvblwiLFxuICB9XG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0TWlsZVN0b25lRW51bTtcbiIsImVudW0gRmlmdGVlblBlcmNlbnRTdGFnZUVudW0ge1xuICBcIlByb2plY3QgU2lnbnVwXCIsXG4gIFwiU2l0ZSBTdXJ2ZXlcIixcbiAgXCJLWUNcIixcbiAgXCJEZXNpZ24gUHJlc2VudGF0aW9uXCIsXG4gIFwiRGVzaWduIEZpbmFsaXphdGlvblwiLFxufVxuZW51bSBUaGlydHlGaXZlUGVyY2VudFN0YWdlRW51bSB7XG4gIFwiU2l0ZSBWYWxpZGF0aW9uIFJlcXVlc3RcIixcbiAgXCJTaXRlIFZhbGlkYXRpb25cIixcbiAgXCJQb3N0IFNpdGUgVmFsaWRhdGlvbiBSZXZpc2lvblwiLFxuICBcIkdGQyBDaGVja2luZ1wiLFxuICBcIkRlc2lnbiBTaWduLU9mZlwiLFxufVxuZW51bSBGb3J0eUZpdmVQZXJjZW50U3RhZ2VFbnVtIHtcbiAgXCJQcm9kdWN0aW9uIFJlcXVlc3RcIixcbiAgXCJQcm9kdWN0aW9uXCIsXG4gIFwiUmVhZHkgZm9yIERpc3BhdGNoXCIsXG4gIFwiUmVhZHkgZm9yIEhhbmRvdmVyXCIsXG4gIFwiSGFuZG92ZXJcIixcbn1cbmVudW0gUHJvamVjdFN0YWdlRW51bSB7XG4gIFBST0pFQ1RfU0lHTlVQID0gXCJQcm9qZWN0IFNpZ251cFwiLFxuICBTSVRFX1NVUlZFWSA9IFwiU2l0ZSBTdXJ2ZXlcIixcbiAgS1lDID0gXCJLWUNcIixcbiAgREVTSUdOX1BSRVNFTlRBVElPTiA9IFwiRGVzaWduIFByZXNlbnRhdGlvblwiLFxuICBERVNJR05fRklOQUxJWkFUSU9OID0gXCJEZXNpZ24gRmluYWxpemF0aW9uXCIsXG4gIFNJVEVfVkFMSURBVElPTl9SRVFVRVNUID0gXCJTaXRlIFZhbGlkYXRpb24gUmVxdWVzdFwiLFxuICBTSVRFX1ZBTElEQVRJT04gPSBcIlNpdGUgVmFsaWRhdGlvblwiLFxuICBQT1NUX1NJVEVfVkFMSURBVElPTl9SRVZJU0lPTiA9IFwiUG9zdCBTaXRlIFZhbGlkYXRpb24gUmV2aXNpb25cIixcbiAgR0ZDX0NIRUNLSU5HID0gXCJHRkMgQ2hlY2tpbmdcIixcbiAgREVTSUdOX1NJR05PRkYgPSBcIkRlc2lnbiBTaWduLU9mZlwiLFxuICBQUk9EVUNUSU9OX1JFUVVFU1QgPSBcIlByb2R1Y3Rpb24gUmVxdWVzdFwiLFxuICBQUk9EVUNUSU9OID0gXCJQcm9kdWN0aW9uXCIsXG4gIFJFQURZX0ZPUl9ESVNQQVRDSCA9IFwiUmVhZHkgZm9yIERpc3BhdGNoXCIsXG4gIFJFQURZX0ZPUl9IQU5ET1ZFUiA9IFwiUmVhZHkgZm9yIEhhbmRvdmVyXCIsXG4gIEhBTkRPVkVSID0gXCJIYW5kb3ZlclwiXG59XG5lbnVtIFByb2plY3RTdGFnZVZhbHVlIHtcbiAgRklWRV9GSUZURUVOID0gXCI1JSAtIDE1JVwiLFxuICBGSUZURUVOX1RISVJUWUZJVkUgPSBcIjE1JSAtIDM1JVwiLFxuICBUSElSVFlGSVZFX0ZPUlRZRklWRSA9IFwiMzUlIC0gNDUlXCIsXG4gIEZPUlRZRklWRV9IQU5ET1ZFUiA9IFwiNDUlIHRvIGhhbmRvdmVyXCJcbn1cbmNsYXNzIFByb2plY3RTdGFnZUVudW1VdGlsIHtcbiAgc3RhdGljIGdldEN1cnJlbnRNaWxlc3RvbmUobWlsZXN0b25lOiBzdHJpbmcpIHtcbiAgICBsZXQgcGF5bWVudFN0YWdlO1xuICAgIHN3aXRjaCAobWlsZXN0b25lKSB7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uUFJPSkVDVF9TSUdOVVA6XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLkZJVkVfRklGVEVFTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uU0lURV9TVVJWRVk6XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLkZJVkVfRklGVEVFTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uS1lDOlxuICAgICAgICBwYXltZW50U3RhZ2UgPSBQcm9qZWN0U3RhZ2VWYWx1ZS5GSVZFX0ZJRlRFRU47XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0U3RhZ2VFbnVtLkRFU0lHTl9QUkVTRU5UQVRJT046XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLkZJVkVfRklGVEVFTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uREVTSUdOX0ZJTkFMSVpBVElPTjpcbiAgICAgICAgcGF5bWVudFN0YWdlID0gUHJvamVjdFN0YWdlVmFsdWUuRklWRV9GSUZURUVOO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdFN0YWdlRW51bS5TSVRFX1ZBTElEQVRJT05fUkVRVUVTVDpcbiAgICAgICAgcGF5bWVudFN0YWdlID0gUHJvamVjdFN0YWdlVmFsdWUuRklGVEVFTl9USElSVFlGSVZFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdFN0YWdlRW51bS5TSVRFX1ZBTElEQVRJT046XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLkZJRlRFRU5fVEhJUlRZRklWRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uUE9TVF9TSVRFX1ZBTElEQVRJT05fUkVWSVNJT046XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLkZJRlRFRU5fVEhJUlRZRklWRTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RTdGFnZUVudW0uR0ZDX0NIRUNLSU5HOlxuICAgICAgICBwYXltZW50U3RhZ2UgPSBQcm9qZWN0U3RhZ2VWYWx1ZS5GSUZURUVOX1RISVJUWUZJVkU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0U3RhZ2VFbnVtLkRFU0lHTl9TSUdOT0ZGOlxuICAgICAgICBwYXltZW50U3RhZ2UgPSBQcm9qZWN0U3RhZ2VWYWx1ZS5GSUZURUVOX1RISVJUWUZJVkU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0U3RhZ2VFbnVtLlBST0RVQ1RJT05fUkVRVUVTVDpcbiAgICAgICAgcGF5bWVudFN0YWdlID0gUHJvamVjdFN0YWdlVmFsdWUuVEhJUlRZRklWRV9GT1JUWUZJVkU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0U3RhZ2VFbnVtLlBST0RVQ1RJT046XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLlRISVJUWUZJVkVfRk9SVFlGSVZFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdFN0YWdlRW51bS5SRUFEWV9GT1JfRElTUEFUQ0g6XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLlRISVJUWUZJVkVfRk9SVFlGSVZFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdFN0YWdlRW51bS5SRUFEWV9GT1JfSEFORE9WRVI6XG4gICAgICAgIHBheW1lbnRTdGFnZSA9IFByb2plY3RTdGFnZVZhbHVlLlRISVJUWUZJVkVfRk9SVFlGSVZFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdFN0YWdlRW51bS5IQU5ET1ZFUjpcbiAgICAgICAgcGF5bWVudFN0YWdlID0gUHJvamVjdFN0YWdlVmFsdWUuRk9SVFlGSVZFX0hBTkRPVkVSO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHBheW1lbnRTdGFnZVxuICB9XG59XG5cbmV4cG9ydCB7IEZpZnRlZW5QZXJjZW50U3RhZ2VFbnVtLCBUaGlydHlGaXZlUGVyY2VudFN0YWdlRW51bSwgRm9ydHlGaXZlUGVyY2VudFN0YWdlRW51bSwgUHJvamVjdFN0YWdlRW51bVV0aWwgfTtcbiIsImVudW0gUm9vbVR5cGVzRW51bSB7XG4gIEtJVENIRU4gPSBcImtpdGNoZW5cIixcbiAgVVRJTElUWSA9IFwiVXRpbGl0eVwiLFxuICBLQlIgPSBcImticlwiLFxuICBNQlIgPSBcIm1iclwiLFxuICBQQlIgPSBcInBiclwiLFxuICBQQVJFTlRTX0JFRFJPT00gPSBcInBhcmVudCdzIGJlZHJvb21cIixcbiAgRk9ZRVIgPSBcImZveWVyXCIsXG4gIFBPT0pBID0gXCJwb29qYVwiLFxuICBQT09KQV9ST09NID0gXCJwb29qYSByb29tXCIsXG4gIERJTklORyA9IFwiZGluaW5nIHJvb21cIixcbiAgTUFTVEVSID0gXCJtYXN0ZXJcIixcbiAgTUFTVEVSX0JFRFJPT00gPSBcIm1hc3RlciBiZWRyb29tXCIsXG4gIFJPT00xID0gXCJyb29tIDFcIixcbiAgQ0JSID0gXCJjYnJcIixcbiAgQ0hJTERSRU5fUk9PTSA9IFwiY2hpbGRyZW4ncyBiZWRyb29tXCIsXG4gIEtJRFNfUk9PTSA9IFwia2lkcyBiZWRyb29tXCIsXG4gIFJPT00yID0gXCJyb29tIDJcIixcbiAgR0JSID0gXCJnYnJcIixcbiAgR1VFU1RfQkVEUk9PTSA9IFwiZ3Vlc3QgYmVkcm9vbVwiLFxuICBHVUVTVF9ST09NID0gXCJndWVzdCByb29tXCIsXG4gIFJPT00zID0gXCJyb29tIDNcIixcbiAgQkRSNCA9IFwiYmRyNFwiLFxuICBCRURST09NNCA9IFwiYmVkcm9vbSA0XCIsXG4gIFJPT000ID0gXCJyb29tIDRcIixcbiAgTElWSU5HX0RJTklORyA9IFwibGl2aW5nIGRpbmluZ1wiLFxuICBMSVZJTkcgPSBcImxpdmluZ1wiLFxuICBMSVZJTkdfTl9ESU5JTkcgPSBcImxpdmluZyAmIGRpbmluZ1wiLFxuICBMSVZJTkdfQU5EX0RJTklORyA9IFwibGl2aW5nIGFuZCBkaW5pbmdcIixcbiAgU0lURV9TRVJWSVNFUyA9IFwic2l0ZSBzZXJ2aWNlc1wiLFxuICBDSVZJTCA9IFwiY2l2aWxcIixcbiAgQ0lWSUxfU0VSVklDRVMgPSBcImNpdmlsIHNlcnZpY2VzXCIsXG4gIENJVklMX1dPUksgPSBcImNpdmlsIHdvcmtcIixcbiAgU0lURV9XT1JLID0gXCJzaXRlIHdvcmtcIixcbn1cblxuY29uc3QgU0lURV9TRVJWSUNFID0gW1xuICBSb29tVHlwZXNFbnVtLlNJVEVfU0VSVklTRVMsXG4gIFJvb21UeXBlc0VudW0uU0lURV9XT1JLLFxuICBSb29tVHlwZXNFbnVtLkNJVklMLFxuICBSb29tVHlwZXNFbnVtLkNJVklMX1NFUlZJQ0VTLFxuICBSb29tVHlwZXNFbnVtLkNJVklMX1dPUkssXG5dO1xuXG5leHBvcnQge1xuICBTSVRFX1NFUlZJQ0UsXG59O1xuZXhwb3J0IGRlZmF1bHQgUm9vbVR5cGVzRW51bTtcbiIsImVudW0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0ge1xuXG4gIENMSUVOVF9OQU1FID0gXCJjbGllbnQgbmFtZVwiLFxuICBDTElFTlRfSUQgPSBcImNsaWVudCBpZFwiLFxuICBDTElFTlRfRU1BSUwgPSBcImNsaWVudCBlbWFpbFwiLFxuICBDTElFTlRfQ09OVEFDVCA9IFwiY2xpZW50IGNvbnRhY3RcIixcbiAgUFJPUEVSVFlfTkFNRSA9IFwicHJvcGVydHkgbmFtZVwiLFxuICBQUk9QRVJUWV9BRERSRVNTID0gXCJwcm9wZXJ0eSBhZGRyZXNzXCIsXG4gIERFU0lHTkVSX05BTUUgPSBcImRlc2lnbmVyIG5hbWVcIixcbiAgREVTSUdOX1NUVURJTyA9IFwiZGVzaWduIHN0dWRpb1wiLFxuICBTQUxFU19PV05FUiA9IFwic2FsZXMgb3duZXJcIixcbiAgUFJPSkVDVF9TSUdOVVBfVkFMVUUgPSBcInByb2plY3Qgc2lnbnVwIHZhbHVlXCIsXG4gIFNUQVRVUyA9IFwic3RhdHVzXCIsXG4gIERFU0lHTl9TVEFHRSA9IFwiZGVzaWduIHN0YWdlXCIsXG4gIERFU0lHTl9JVEVSQVRJT04gPSBcImRlc2lnbiBpdGVyYXRpb25cIixcbiAgTUFURVJJQUxfU0VMRUNUSU9OID0gXCJtYXRlcmlhbCBzZWxlY3Rpb25cIixcbiAgUFJFUEFSRV9HRkMgPSBcInByZXBhcmUgZ2ZjIChwcm9kdWN0aW9uIGRyYXdpbmdzKVwiLFxuICBTRU5EX0RXR1NfR0ZDID0gXCJzZW5kIGR3Z3MgZm9yIGdmYyBjaGVja2luZ1wiLFxuICBIQU5ET1ZFUl9EQVRFID0gXCJoYW5kb3ZlciBkYXRlXCIsXG4gIFJFVklTRURfSEFORE9WRVJfREFURSA9IFwicmV2aXNlZCBoYW5kb3ZlciBkYXRlXCIsXG4gIFBST0pFQ1RfTUFOQUdFUiA9IFwicHJvamVjdCBtYW5hZ2VyXCIsXG5cbiAgUFJPSkVDVF9TSUdOVVAgPSBcInByb2plY3Qgc2lnbnVwXCIsXG4gIFNJVEVfU1VSVkVZID0gXCJzaXRlIHN1cnZleVwiLFxuICBLTk9XX1lPVVJfQ0xJRU5UID0gXCJrbm93IHlvdXIgY2xpZW50IChreWMpXCIsXG4gIEZJUlNUX0NVVF9NRUVUSU5HID0gXCJmaXJzdCBjdXQgbWVldGluZ1wiLFxuICBERVNJR05fRklOQUxJWkFUSU9OID0gXCJkZXNpZ24gZmluYWxpemF0aW9uXCIsXG4gIFJFUVVFU1RfUE1fRk9SX0tJQ0tPRkYgPSBcInJlcXVlc3QgcG0gZm9yIGtpY2tvZmZcIixcbiAgS0lDS09GRl9NRUVUSU5HX0FUX1NJVEUgPSBcImtpY2tvZmYgbWVldGluZyBhdCBzaXRlXCIsXG4gIERXR19SRVZJU0lPTlMgPSBcImR3ZyByZXZpc2lvbnMgY29tcGxldGVkXCIsXG4gIEdGQ19DSEVDS0lORyA9IFwiZ2ZjIGNoZWNraW5nXCIsXG4gIERFU0lHTl9TSUdOX09GRiA9IFwiZGVzaWduIHNpZ24gb2ZmXCIsXG4gIFBST0pFQ1RfUkVDRUlWRURfRk9SX1BMQU5OSU5HID0gXCJwcm9qZWN0IHJlY2VpdmVkIGZvciBwbGFubmluZ1wiLFxuICBUSElSVFlGSVZFX1BBWU1FTlRfQ09ORklSTUFUSU9OID0gXCIzNSUgcGF5bWVudCBjb25maXJtYXRpb25cIixcbiAgUFJPRFVDVElPTiA9IFwicHJvZHVjdGlvblwiLFxuICBSRUFEWV9GT1JfRElTUEFUQ0ggPSBcInJlYWR5IGZvciBkaXNwYXRjaFwiLFxuICBSRUFEWV9GT1JfSEFORE9WRVIgPSBcInJlYWR5IGZvciBoYW5kb3ZlclwiLFxuICBIQU5ET1ZFUiA9IFwiaGFuZG92ZXJcIixcbiAgREVTSUdOX1NJR05fT0ZGX1BSRVNFTlRBVElPTiA9IFwiZGVzaWduIHNpZ24gb2ZmIHByZXNlbnRhdGlvblwiLFxuICBQRU5ESU5HX0hBUkRXQVJFX1FDID0gXCJwZW5kaW5nIGhhcmR3YXJlIHFjXCIsXG4gIFNJVEVfU1VSVkVZX0NPTVBMRVRFID0gXCJzaXRlIHN1cnZleSBjb21wbGV0ZVwiLFxuICBERVNJR05fUFJFU0VOVEFUSU9OID0gXCJkZXNpZ24gcHJlc2VudGF0aW9uXCIsXG4gIEZPVVJUWUZJVkVfUEFZTUVOVF9DT05GSVJNQVRJT04gPSBcIjQ1JSBwYXltZW50IGNvbmZpcm1hdGlvblwiLFxuICBGSUZURUVOX1BBWU1FTlRfQ09ORklSTUFUSU9OID0gXCIxNSUgcGF5bWVudCBjb25maXJtYXRpb25cIixcbn1cbmV4cG9ydCBkZWZhdWx0IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtO1xuIiwiZW51bSBTbWFydFNoZWV0Q29sdW1uTmFtZUVudW0ge1xuXG4gICAgU1VNTUFSWV9ERVRBSUxTID0gXCJzdW1tYXJ5IGRldGFpbHNcIixcbiAgICBBQ1RVQUxfU1RBUlQgPSBcImFjdHVhbCBzdGFydFwiLFxuICAgIEFDVFVBTF9GSU5JU0ggPSBcImFjdHVhbCBmaW5pc2hcIixcbiAgICBPUklHSU5BTF9QTEFOTkVEX1NUQVJUX0RBVEUgPSBcIm9yaWdpbmFsIHBsYW5uZWQgc3RhcnRcIixcbiAgICBPUklHSU5BTF9QTEFOTkVEX0ZJTklTSF9EQVRFID0gXCJvcmlnaW5hbCBwbGFubmVkIGZpbmlzaFwiLFxuICAgIEFTU0lHTl9UTyA9IFwiYXNzaWduZWQgdG9cIixcbiAgICBUQVNLX1NUQVRVUyA9IFwidGFzayBzdGF0dXNcIixcbiAgICBDVVJSRU5UX0ZPUkVDQVNUX1NUQVJUID0gXCJjdXJyZW50IGZvcmVjYXN0IHN0YXJ0XCIsXG4gICAgQ1VSUkVOVF9GT1JFQ0FTVF9GSU5JU0ggPSBcImN1cnJlbnQgZm9yZWNhc3QgZmluaXNoXCIsXG4gICAgVEFTS19OQU1FID0gXCJ0YXNrIG5hbWVcIlxuICB9XG4gIGV4cG9ydCBkZWZhdWx0IFNtYXJ0U2hlZXRDb2x1bW5OYW1lRW51bTtcbiIsImVudW0gU3VwcG9ydENhc2VTdGF0dXNFbnVtIHtcbiAgT1BFTiA9IDEsXG4gIENMT1NFRCA9IDIsXG4gIEFXQUlUSU5HX1JFUExZID0gMyxcbiAgSU5fUFJPR1JFU1MgPSA0LFxufVxuZXhwb3J0IGRlZmF1bHQgU3VwcG9ydENhc2VTdGF0dXNFbnVtO1xuIiwiZW51bSBTdXBwb3J0UGFsQ29uY2VyblR5cGVFbnVtIHtcbiAgICBcIkN1c3RvbWVyIERhc2hib2FyZFwiLFxuICAgIFwiM0QgUmVuZGVyXCIsXG4gICAgXCJDYW5jZWwgdGhlIFByb2plY3RcIixcbiAgICBcIkNsYXJpZmljYXRpb24gb24gQ29zdGluZ1wiLFxuICAgIFwiRGVsYXkgY29tcGVuc2F0aW9uXCIsXG4gICAgXCJEZWxheSBpbiBEZXNpZ24gUGhhc2VcIixcbiAgICBcIkRlc2lnbiBFcnJvclwiLFxuICAgIFwiSW5jb3JyZWN0IGNvbW1pdHRtZW50IG9uIE1hdGVyaWFsXCIsXG4gICAgXCJJbmNvcnJlY3QgY29tbWl0dG1lbnQgb24gUHJpY2VcIixcbiAgICBcIklzc3VlIHdpdGggZGVzaWduXCIsXG4gICAgXCJJc3N1ZSB3aXRoIHByb3Bvc2FsXCIsXG4gICAgXCJMYWNrIG9mIENvbW11bmljYXRpb25cIixcbiAgICBcIkxhY2sgb2YgaW50ZXJuYWwgY28tb3JkaW5hdGlvblwiLFxuICAgIFwiTWF0ZXJpYWwgU2VsZWN0aW9uXCIsXG4gICAgXCJOb3QgaGFwcHkgd2l0aCB0ZWFtXCIsXG4gICAgXCJQYXJ0aWFsIHJlZnVuZFwiLFxuICAgIFwiUG9vciBiZWhhdmlvdXJcIixcbiAgICBcIlByb2plY3QgVGltZWxpbmVzXCIsXG4gICAgXCJSZWZ1bmRcIixcbiAgICBcIlJlcXVlc3QgZm9yIGNoYW5nZSBpbiBQTSAvIERlc2lnbmVyXCIsXG4gICAgXCJTaXRlIG1haW50ZW5hbmNlXCIsXG4gICAgXCJEaXNjb3VudHMgLyBFTUkgU2NoZW1lXCIsXG4gICAgXCJEaXNwYXRjaCBkZWxheWVkIGFmdGVyIHBheW1lbnRcIixcbiAgICBcIkludm9pY2UgUmVsYXRlZFwiLFxuICAgIFwiUmVmZXJyYWxcIixcbiAgICBcIkNsYXJpdHkgb24gV2FycmFudHlcIixcbiAgICBcIkNsaWVudCBTaXRlIGRhbWFnZWQgZHVyaW5nIGluc3RhbGxhdGlvblwiLFxuICAgIFwiRGVsYXkgaW4gUHJvZHVjdGlvbiAmIEluc3RhbGxhdGlvblwiLFxuICAgIFwiRGVsYXkgaW4gc2hhcmluZyBxdW90ZVwiLFxuICAgIFwiRGVzaWduIEVycm9yIEZvdW5kIGR1cmluZyBJbnN0YWxsYXRpb25cIixcbiAgICBcIkV4ZWN1dGlvbiBEZWxheVwiLFxuICAgIFwiRXhlY3V0aW9uIFF1YWxpdHlcIixcbiAgICBcIklzc3VlcyB3aXRoIHNpdGUgd29ya3NcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBTdXBwb3J0UGFsQ29uY2VyblR5cGVFbnVtO1xuIiwiZXhwb3J0IGVudW0gVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bSB7XG4gIFRISVNfV0VFSyA9IDAsXG4gIE5FWFRfV0VFSyA9IDEsXG4gIEFMTCA9IC0xLFxufVxuZXhwb3J0IGRlZmF1bHQgVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bTtcbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIjtcbmltcG9ydCB7IGNyZWF0ZSBhcyBzdG9yYWdlU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2ZpbGVTdG9yYWdlU2VydmljZXMvQXdzU3RvcmFnZVwiO1xuaW1wb3J0IFBhcnNlIGZyb20gXCJ4bWwtanNcIjtcbmltcG9ydCAqIGFzIGpzZm9yY2UgZnJvbSBcImpzZm9yY2VcIjtcbmltcG9ydCBzdXBlcmFnZW50IGZyb20gXCJzdXBlcmFnZW50XCI7XG5pbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgTm90aWZpY2F0aW9uU2VydmljZXMgZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9zZXJ2aWNlcy9ub3RpZmljYXRpb24vTm90aWZpY2F0aW9uU2VydmljZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbigpOiBQcm9taXNlPGFueT4ge1xuICB2YXIgY29ubiA9IG5ldyBqc2ZvcmNlLkNvbm5lY3Rpb24oe1xuICAgIGxvZ2luVXJsOiBwcm9jZXNzLmVudi5zYWxlc2ZvcmNlTG9naW5VcmwsXG4gIH0pO1xuICBhd2FpdCBjb25uLmxvZ2luKFxuICAgIHByb2Nlc3MuZW52LnNhbGVzZm9yY2VFbWFpbCxcbiAgICBwcm9jZXNzLmVudi5zYWxlc2ZvcmNlUGFzc3dvcmQsXG4gICAgZnVuY3Rpb24gKGVyciwgX3VzZXJJbmZvKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIsIFwiZXJyb3JcIik7XG4gICAgICBjb25zb2xlLmxvZyhjb25uLmFjY2Vzc1Rva2VuLCBcInNzc3NcIik7XG4gICAgfVxuICApO1xuICByZXR1cm4gY29ubjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFVwbG9hZEZpbGVPblMzKGF0dGFjaG1lbnQpIHtcbiAgY29uc3Qga2V5ID0gYXR0YWNobWVudC5rZXk7XG4gIGNvbnN0IGZpbGVPYmogPSBhd2FpdCBzdG9yYWdlU2VydmljZSh7XG4gICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmF3c0FjY2Vzc0tleUlkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuYXdzU2VjcmV0QWNjZXNzS2V5LFxuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuYXdzUmVnaW9uLFxuICAgIGJ1Y2tldDogcHJvY2Vzcy5lbnYuYXdzQnVja2V0LFxuICB9KS51cGxvYWREb2N1bWVudEJ1ZmZlcihrZXksIGF0dGFjaG1lbnQuY29udGVudFR5cGUsIGF0dGFjaG1lbnQuYmFzZTY0KTtcbiAgY29uc3QgYXR0YWNobWVudE9iajoge1xuICAgIGZpbGVrZXk6IHN0cmluZztcbiAgICBsb2NhdGlvbjogc3RyaW5nO1xuICAgIGNvbnRlbnR0eXBlOiBzdHJpbmc7XG4gICAgdXNlcj86IG51bWJlcjtcbiAgICBjdXN0b21lcj86IG51bWJlcjtcbiAgICBpc3ByZW9ycG9zdD86IG51bWJlcjtcbiAgICBtb21pZD86IG51bWJlcjtcbiAgICBjb21tZW50aWQ/OiBudW1iZXI7XG4gICAgbGVhZGlkPzogc3RyaW5nO1xuICAgIG9wcG9ydHVuaXR5aWQ/OiBzdHJpbmc7XG4gICAgZGlzcGxheW5hbWU/OiBzdHJpbmc7XG4gICAgY3JlYXRlZF9hdD86IERhdGU7XG4gIH0gPSB7XG4gICAgZmlsZWtleToga2V5LFxuICAgIGxvY2F0aW9uOiBmaWxlT2JqLkxvY2F0aW9uLFxuICAgIGNvbnRlbnR0eXBlOiBhdHRhY2htZW50LmNvbnRlbnRUeXBlLFxuICAgIGN1c3RvbWVyOiBhdHRhY2htZW50LmN1c3RvbWVyaWQsXG4gICAgdXNlcjogYXR0YWNobWVudC51c2VyaWQsXG4gICAgaXNwcmVvcnBvc3Q6IGF0dGFjaG1lbnQuaXNwcmVvcnBvc3QsXG4gICAgbGVhZGlkOiBhdHRhY2htZW50LmxlYWRpZCxcbiAgICBvcHBvcnR1bml0eWlkOiBhdHRhY2htZW50Lm9wcG9ydHVuaXR5aWQsXG4gICAgbW9taWQ6IGF0dGFjaG1lbnQubW9taWQsXG4gICAgY29tbWVudGlkOiBhdHRhY2htZW50LmNvbW1lbnRpZCxcbiAgICBkaXNwbGF5bmFtZTogYXR0YWNobWVudC5kaXNwbGF5bmFtZSxcbiAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLFxuICB9O1xuXG4gIGNvbnNvbGUubG9nKDIzNCwgYXR0YWNobWVudE9iaik7XG5cbiAgY29uc3Qgc2F2ZVRvRGIgPSBhd2FpdCBwcmlzbWEuZGNfYXR0YWNobWVudHMudXBzZXJ0KHtcbiAgICB3aGVyZToge1xuICAgICAgbG9jYXRpb246IGF0dGFjaG1lbnRPYmoubG9jYXRpb24sXG4gICAgfSxcbiAgICB1cGRhdGU6IGF0dGFjaG1lbnRPYmosXG4gICAgY3JlYXRlOiBhdHRhY2htZW50T2JqLFxuICB9KTtcbiAgY29uc29sZS5sb2coc2F2ZVRvRGIpO1xuICByZXR1cm4gc2F2ZVRvRGI7XG59XG5leHBvcnQgY29uc3QgdHJpZ2dlckVtYWlsTm90aWZpY2F0aW9uID0gYXN5bmMgKHRvLCBzdWJqZWN0LCBjb250ZW50LCBjYyxhdHRhY2htZW50cyA9IG51bGwpID0+IHtcbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKS9nLCBcIjxicj5cIik7XG4gIGNvbnN0IG5vdGlmaWNhdGlvblNlcnZpY2UgPSBuZXcgTm90aWZpY2F0aW9uU2VydmljZXMoKTtcbiAgcmV0dXJuIG5vdGlmaWNhdGlvblNlcnZpY2Uuc2VuZEVtYWlsKFxuICAgIG51bGwsXG4gICAgdG8sXG4gICAgc3ViamVjdCxcbiAgICBjb250ZW50LFxuICAgIGNjLFxuICAgIG51bGwsXG4gICAgYXR0YWNobWVudHNcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVCbG9iID0gYXN5bmMgKGtleXMpID0+IHtcbiAgcmV0dXJuIHN0b3JhZ2VTZXJ2aWNlKHtcbiAgICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuYXdzQWNjZXNzS2V5SWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5hd3NTZWNyZXRBY2Nlc3NLZXksXG4gICAgcmVnaW9uOiBwcm9jZXNzLmVudi5hd3NSZWdpb24sXG4gICAgYnVja2V0OiBwcm9jZXNzLmVudi5hd3NCdWNrZXQsXG4gIH0pLmRlbGV0ZUZyb21Bd3Moa2V5cyk7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QnVmZmVyKGtleSkge1xuICByZXR1cm4gc3RvcmFnZVNlcnZpY2Uoe1xuICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hd3NBY2Nlc3NLZXlJZCxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LmF3c1NlY3JldEFjY2Vzc0tleSxcbiAgICByZWdpb246IHByb2Nlc3MuZW52LmF3c1JlZ2lvbixcbiAgICBidWNrZXQ6IHByb2Nlc3MuZW52LmF3c0J1Y2tldCxcbiAgfSkuZ2V0QnVmZmVyKGtleSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVcmxUb1VwbG9hZChrZXksIHNpZ25lZFVybEV4cGlyZVRpbWUsIGNvbnRlbnRUeXBlKSB7XG4gIHJldHVybiBzdG9yYWdlU2VydmljZSh7XG4gICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LmF3c0FjY2Vzc0tleUlkLFxuICAgIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuYXdzU2VjcmV0QWNjZXNzS2V5LFxuICAgIHJlZ2lvbjogcHJvY2Vzcy5lbnYuYXdzUmVnaW9uLFxuICAgIGJ1Y2tldDogcHJvY2Vzcy5lbnYuYXdzQnVja2V0LFxuICB9KS5nZXRGaWxlVXJsVG9VcGxvYWQoa2V5LCBzaWduZWRVcmxFeHBpcmVUaW1lLCBjb250ZW50VHlwZSk7XG59XG5cbi8vI3JlZ2lvbiByb29tTGlzdCBPYmplY3QgQ3JlYXRlLlxuLy8jcmVnaW9uIEdldCByb29tIE5hbWVzXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vbU5hbWVzKGJ1aWxkZXJMaXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgcm9vbXNBcnIgPSBbXTtcbiAgICBsZXQgY291bnQgPSAxO1xuICAgIGxldCByb29tTmFtZU9iajtcbiAgICBsZXQgcm9vbU5hbWVGcm9tU3BsaXQ7XG4gICAgbGV0IF9saXN0ID0gW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJ1aWxkZXJMaXN0KSkge1xuICAgICAgX2xpc3QucHVzaChidWlsZGVyTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9saXN0ID0gYnVpbGRlckxpc3Q7XG4gICAgfVxuICAgIF9saXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChjb3VudCA9PT0gTWF0aC5mbG9vcihlbGVtZW50LmhpZXJhcmNoaWNhbFBvcy5fdGV4dCkpIHtcbiAgICAgICAgcm9vbU5hbWVGcm9tU3BsaXQgPSBlbGVtZW50LlBWYXJTdHJpbmcuX3RleHQuc3BsaXQoXCJST09NTkFNRTo9XCIpO1xuICAgICAgICBpZiAoIXJvb21OYW1lRnJvbVNwbGl0WzFdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcihcbiAgICAgICAgICAgIDQwMCxcbiAgICAgICAgICAgIFwiUm9vbSBuYW1lIG5vdCBmb3VuZC4gUGxlYXNlIHVwbG9hZCBhcHByb3ByaWF0ZSBYbWwhXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb21OYW1lT2JqID0gcm9vbU5hbWVGcm9tU3BsaXRbMV07XG4gICAgICAgIHJvb21zQXJyLnB1c2gocm9vbU5hbWVPYmopO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByb29tc0FycjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbi8vI2VuZHJlZ2lvblxuXG4vLyBnZW5lcmF0ZSByb29tTGlzdCBmcm9tIHhtbCBkYXRhLlxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb21MaXN0QXJyYXlGcm9tWG1sRGF0YSh4bWxKc29uT2JqLCByb29tTGlzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJ1aWxkZXJMaXN0ID0geG1sSnNvbk9iai5YTUwuT3JkZXIuQnVpbGRlckxpc3QuU2V0O1xuICAgIGxldCBfbGlzdCA9IFtdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShidWlsZGVyTGlzdCkpIHtcbiAgICAgIF9saXN0LnB1c2goYnVpbGRlckxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfbGlzdCA9IGJ1aWxkZXJMaXN0O1xuICAgIH1cbiAgICBsZXQgcm9vbXNBcnIgPSBbXTtcbiAgICByb29tc0FyciA9IGdldFJvb21OYW1lcyhfbGlzdCk7XG4gICAgcm9vbUxpc3QgPSBhZGRSb29tTmFtZXNBbmRSZXR1cm5Sb29tTGlzdChyb29tTGlzdCwgcm9vbXNBcnIpO1xuICAgIHJvb21MaXN0ID0gYWRkQ29tcG9uZW50RGF0YVRvUm9vbUxpc3RBbmRSZXR1cm4ocm9vbUxpc3QsIF9saXN0KTtcbiAgICByZXR1cm4gcm9vbUxpc3Q7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNTAwLCBlcnJvcik7XG4gIH1cbn1cblxuLy8gQWRkaW5nIHJvb21uYW1lcyB0byBSb29tTGlzdCBhcnJheS5cbmV4cG9ydCBmdW5jdGlvbiBhZGRSb29tTmFtZXNBbmRSZXR1cm5Sb29tTGlzdChyb29tTGlzdCwgcm9vbXNBcnIpIHtcbiAgdHJ5IHtcbiAgICBsZXQgb2JqO1xuICAgIGZvciAoY29uc3Qgcm9vbSBvZiByb29tc0Fycikge1xuICAgICAgb2JqID0ge1xuICAgICAgICBjdXN0Um9vbU5hbWU6IFwiXCIsXG4gICAgICAgIHJvb21QcmljZTogXCJcIixcbiAgICAgICAgcm9vbUNvc3Q6IFwiXCIsXG4gICAgICAgIGNvbXBEYXRhOiBbXSxcbiAgICAgICAgcm9vbU5hbWU6IFwiXCIsXG4gICAgICAgIHRvdGFsUXVhbnRpdHk6IFwiXCIsXG4gICAgICB9O1xuICAgICAgb2JqLmN1c3RSb29tTmFtZSA9IHJvb207XG4gICAgICBvYmoucm9vbU5hbWUgPSByb29tO1xuICAgICAgcm9vbUxpc3QucHVzaChvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcm9vbUxpc3Q7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNTAwLCBlcnJvcik7XG4gIH1cbn1cblxuLy8gQWRkaW5nIGNvbXBvbmVudCBNZXRhIGRhdGEgZm9yIGVhY2ggcm9vbSBpbiByb29tTGlzdC5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb21wb25lbnREYXRhVG9Sb29tTGlzdEFuZFJldHVybihyb29tTGlzdCwgY29tcFNldCkge1xuICB0cnkge1xuICAgIGxldCBjb21wT2JqO1xuICAgIHJvb21MaXN0LmZvckVhY2goKHJvb20sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgcHJpY2UgPSAwLFxuICAgICAgICB0b3RhbFF1YW50aXR5ID0gMDtcbiAgICAgIGNvbXBTZXQuZm9yRWFjaCgoY29tcCkgPT4ge1xuICAgICAgICBjb21wT2JqID0ge1xuICAgICAgICAgIGNvbXBvbmVudENvc3Q6IDAsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAgICAgY29tcG9uZW50TmFtZTogXCJcIixcbiAgICAgICAgICBjb21wb25lbnRJbWFnZTogXCJcIixcbiAgICAgICAgICBjb21wb25lbnRJbmRleDogXCJcIixcbiAgICAgICAgICBxdWFudGl0eTogMCxcbiAgICAgICAgICB0b3RhbENvbXBDb3N0OiAwLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoTWF0aC5mbG9vcihjb21wLmhpZXJhcmNoaWNhbFBvcy5fdGV4dCkgPT09IGluZGV4ICsgMSkge1xuICAgICAgICAgIGNvbXBPYmouY29tcG9uZW50SW5kZXggPSBjb21wLmhpZXJhcmNoaWNhbFBvcy5fdGV4dDtcbiAgICAgICAgICBjb21wT2JqLmNvbXBvbmVudENvc3QgPSArY29tcC5BUlRJQ0xFX1BSSUNFX0lORk8xLl90ZXh0O1xuICAgICAgICAgIGNvbXBPYmouY29tcG9uZW50TmFtZSA9IGNvbXAuQVJUSUNMRV9URVhUX0lORk8xLl90ZXh0O1xuICAgICAgICAgIGNvbXBPYmouZGVzY3JpcHRpb24gPSBjb21wLkFSVElDTEVfVEVYVF9JTkZPMi5fdGV4dDtcbiAgICAgICAgICBjb21wT2JqLmNvbXBvbmVudEltYWdlID0gY29tcC5BUlRJQ0xFX0lNQUdFLl90ZXh0XG4gICAgICAgICAgICA/IGNvbXAuQVJUSUNMRV9JTUFHRS5fdGV4dFxuICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICAgIGNvbXBPYmoucXVhbnRpdHkgPSArY29tcC5Db3VudC5fdGV4dDtcbiAgICAgICAgICBjb21wT2JqLnRvdGFsQ29tcENvc3QgPSArY29tcE9iai5xdWFudGl0eSAqICtjb21wT2JqLmNvbXBvbmVudENvc3Q7XG4gICAgICAgICAgcm9vbS5jb21wRGF0YS5wdXNoKGNvbXBPYmopO1xuICAgICAgICAgIHByaWNlICs9ICtjb21wT2JqLnRvdGFsQ29tcENvc3Q7XG4gICAgICAgICAgdG90YWxRdWFudGl0eSArPSBjb21wT2JqLnF1YW50aXR5O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByb29tLnJvb21QcmljZSA9IHByaWNlLnRvRml4ZWQoMik7XG4gICAgICByb29tLnJvb21Db3N0ID0gcHJpY2UudG9GaXhlZCgyKTtcbiAgICAgIHJvb20udG90YWxRdWFudGl0eSA9IHRvdGFsUXVhbnRpdHk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJvb21MaXN0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59XG4vLyNlbmRyZWdpb25cblxuLy8jcmVnaW9uIFhNTFRvUERGXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gWG1sVG9QZGYoeG1sT2JqKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qge1xuICAgICAgZnJvbSxcbiAgICAgIGZpbGUsXG4gICAgICB0eXBlLFxuICAgICAgZGlzY291bnQsXG4gICAgICBjdXN0b21lcklkLFxuICAgICAgYWJzb2x1dGVEaXNjb3VudCxcbiAgICAgIG9wcG9ydHVuaXR5SWQsXG4gICAgICBpc1BtRmVlSW5jbHVkZWQsXG4gICAgICBjaXR5UG1GZWUsXG4gICAgICBsZWFkaWQsXG4gICAgICBkaXNwbGF5bmFtZSxcbiAgICB9ID0geG1sT2JqO1xuICAgIGxldCBwZGZOYW1lO1xuICAgIGNvbnN0IGF0dGFjaG1lbnRPYmogPSBhd2FpdCBwcmlzbWEuZGNfYXR0YWNobWVudHMuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGxvY2F0aW9uOiBmaWxlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBpZiAoIWF0dGFjaG1lbnRPYmopIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBcIkF0dGFjaG1lbnQgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBsZXQgX2NvbW1vblJvb21MaXN0ID0gW107XG4gICAgY29uc3QgeG1sOiBhbnkgPSBhd2FpdCBnZXRCdWZmZXIoYXR0YWNobWVudE9iai5maWxla2V5KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXJzZS54bWwyanNvbih4bWwsIHtcbiAgICAgIGNvbXBhY3Q6IHRydWUsXG4gICAgICBzcGFjZXM6IDQsXG4gICAgfSk7XG4gICAgY29uc3QgbWFpbk9iaiA9IEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAvLyBtb2R1bGFyL3NpdGVTZXJ2aWNlXG4gICAgY29uc3QgY2xpZW50TmFtZSA9IG1haW5PYmouWE1MLk9yZGVyLkhlYWQuQ09OVEFDVF9BRERSRVNTMS5fdGV4dDtcbiAgICAvLyBtb2R1bGFyL3NpdGVTZXJ2aWNlIGZpeGVkIERpc2NvdW50XG4gICAgY29uc3QgYWJzb2x1dGVEaXNjb3VudFZhbCA9XG4gICAgICBmcm9tID09PSBcIlNhbGVzIEZvcmNlXCJcbiAgICAgICAgPyBhYnNvbHV0ZURpc2NvdW50XG4gICAgICAgIDogcGFyc2VJbnQobWFpbk9iai5YTUwuT3JkZXIuSGVhZC5DVVNUT01fSU5GTzUuX3RleHQpO1xuICAgIC8vIFBvcHVsYXRpbmcgZGF0YSBmb3IgbW9kdWxhciByZXNwb25zZVxuICAgIGNvbnN0IHF1b3RlID0gYXdhaXQgcHJpc21hLnF1b3RlLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IG9wcG9ydHVuaXR5aWQ6IG9wcG9ydHVuaXR5SWQgfSxcbiAgICB9KTtcbiAgICBjb25zdCBjb3VudCA9IHF1b3RlPy5sZW5ndGg7XG4gICAgaWYgKHR5cGUgPT09IFwibW9kdWxhclhtbFwiKSB7XG4gICAgICBwZGZOYW1lID0gYCR7Y3VzdG9tZXJJZH1fJHtjbGllbnROYW1lfSgke2NvdW50fSltb2R1bGFyX215UXVvdGUucGRmYDtcbiAgICB9XG4gICAgLy8gUG9wdWxhdGluZyBkYXRhIGZvciBtb2R1bGFyIHJlc3BvbnNlXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJzaXRlU2VydmljZVhtbFwiKSB7XG4gICAgICBwZGZOYW1lID0gYCR7Y3VzdG9tZXJJZH1fJHtjbGllbnROYW1lfSgke2NvdW50fSlzaXRlX215UXVvdGUucGRmYDtcbiAgICB9XG4gICAgLy8gcm9vbXNMaXN0IE9iamVjdCB3aXRoIG5hbWVzLCBwcmljZXMgYW5kIG1ldGFkYXRhXG4gICAgX2NvbW1vblJvb21MaXN0ID0gZ2V0Um9vbUxpc3RBcnJheUZyb21YbWxEYXRhKG1haW5PYmosIF9jb21tb25Sb29tTGlzdCk7XG4gICAgLy8gZ2VuZXJhdGUgcGRmIGluIGJhc2U2NCAmIHVwbG9hZCB0byBibG9iLlxuICAgIGNvbnN0IE9iaiA9IHtcbiAgICAgIHBkZk5hbWUsXG4gICAgICBsZWFkSWQ6IGxlYWRpZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5bmFtZSxcbiAgICAgIHBhcnNlZERhdGE6IG1haW5PYmosXG4gICAgICByb29tc0FycmF5OiBfY29tbW9uUm9vbUxpc3QsXG4gICAgICBkaXNjb3VudDogZGlzY291bnQsXG4gICAgICBhYnNvbHV0ZURpc2NvdW50OiBhYnNvbHV0ZURpc2NvdW50VmFsIHx8IDAsXG4gICAgICBvcHBvcnR1bml0eUlkLFxuICAgICAgaXNQbUZlZUluY2x1ZGVkLFxuICAgICAgY2l0eVBtRmVlLFxuICAgICAgY2xpZW50T3JQcm9qZWN0TmFtZTogY2xpZW50TmFtZSxcbiAgICB9O1xuICAgIC8vIGdlbmVyYXRlIHBkZiBpbiBiYXNlNjQgJiB1cGxvYWQgdG8gYmxvYi5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHN1cGVyYWdlbnRcbiAgICAgIC5wdXQoYCR7cHJvY2Vzcy5lbnYuUERGR0VORVJBVEV9L2dlbmVyYXRlUHJvcG9zYWxQZGZgKVxuICAgICAgLnNlbmQoT2JqKVxuICAgICAgLnRpbWVvdXQoMTgwMDAwKVxuICAgICAgLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvb21MaXN0OiBfY29tbW9uUm9vbUxpc3QsXG4gICAgICBzM0xvY2F0aW9uOiByZXNwb25zZT8uX2JvZHk/LmRhdGE/LkxvY2F0aW9uLFxuICAgICAgY2xpZW50TmFtZTogY2xpZW50TmFtZSxcbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDUwMCwgZXJyb3IpO1xuICB9XG59XG4vLyNlbmRyZWdpb25cblxuZXhwb3J0IGNvbnN0IHVwbG9hZEZsb29yUGxhbkF0U2FsZXNGb3JjZSA9IGFzeW5jIChib2R5KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYCR7cHJvY2Vzcy5lbnYuZmxvb3JQbGFuU0ZVcmx9L0Zsb29ycGxhbmA7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgICAgLnBvc3QodXJsKVxuICAgICAgLnNlbmQoYm9keSlcbiAgICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgIHJldHVybiByZXM/LmJvZHk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBlcnJvcik7XG4gIH1cbn07XG4iLCJpbXBvcnQgSHR0cEVycm9yIGZyb20gXCJzdGFuZGFyZC1odHRwLWVycm9yXCI7XG5pbXBvcnQgU3VwcG9ydFBhbEFwaSBmcm9tIFwiLi4vc3VwcG9ydHBhbC9TdXBwb3J0UGFsQXBpXCI7XG5pbXBvcnQgeyBQcm9maWxlVHlwZUVudW1Db2RlIH0gZnJvbSBcIi4uLy4uLy4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvUHJvZmlsZVR5cGVFbnVtVXRpbFwiO1xuXG5jb25zdCBzdXBwb3J0cGFsYXBpID0gbmV3IFN1cHBvcnRQYWxBcGkoKTtcbmNvbnN0IG1lc3NhZ2UgPSBcIk9wZXJhdG9yIG5vdCBmb3VuZFwiO1xuXG5leHBvcnQgY29uc3QgU3VwcG9ydFBhbEJhc2VVc2VjYXNlID0gKCkgPT4ge1xuICBjb25zdCBzcHVybCA9IFwidGlja2V0L3RpY2tldFwiO1xuXG4gIGNvbnN0IGdldEFsbFRpY2tldHMgPSBhc3luYyAodXNlciwgc3RhdHVzID0gbnVsbCwgY2FzZW51bWJlciA9IG51bGwpID0+IHtcbiAgICBsZXQgdXJsID0gc3B1cmw7XG5cbiAgICBjb25zdCBvcGVyYXRvcklkID0gdXNlci5zdXBwb3J0cGFsb3BlcmF0b3JpZDtcbiAgICBjb25zdCBvcGVyYXRvckVtYWlsID0gdXNlci5jdXN0b21lcmVtYWlsO1xuXG4gICAgY29uc29sZS5sb2coXCJPUEVSQVRPUiBFTUFJTD09PT0+XCIgKyBvcGVyYXRvckVtYWlsKTtcbiAgICBjb25zb2xlLmxvZyhcIk9QRVJBVE9SIElEPT09PT5cIiArIG9wZXJhdG9ySWQpO1xuXG4gICAgaWYgKG9wZXJhdG9yRW1haWwgfHwgb3BlcmF0b3JJZCkge1xuICAgICAgaWYgKG9wZXJhdG9ySWQpIHtcbiAgICAgICAgdXJsICs9IFwiP3VzZXI9XCIgKyBvcGVyYXRvcklkO1xuICAgICAgfSBlbHNlIGlmIChvcGVyYXRvckVtYWlsKSB7XG4gICAgICAgIGNvbnN0IG9wZXJhdG9ySWRGcm9tRW1haWwgPSBhd2FpdCBnZXRPckFkZFVzZXJBbmRSZXR1cm5JZChcbiAgICAgICAgICBvcGVyYXRvckVtYWlsLFxuICAgICAgICAgIHVzZXIubmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIHVzZXIuc3VwcG9ydHBhbG9wZXJhdG9yaWQgPSBvcGVyYXRvcklkRnJvbUVtYWlsO1xuXG4gICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuXG4gICAgICAgIGlmIChvcGVyYXRvcklkRnJvbUVtYWlsKSB7XG4gICAgICAgICAgdXJsICs9IFwiP3VzZXI9XCIgKyBvcGVyYXRvcklkRnJvbUVtYWlsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiS2luZGx5IHVwZGF0ZSBlbWFpbCBpbiB2aWV3IHByb2ZpbGVcIik7XG4gICAgfVxuICAgIGlmICh1cmwgIT09IHNwdXJsKSB7XG4gICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgIHVybCArPSBcIiZzdGF0dXM9XCIgKyBzdGF0dXM7XG4gICAgICB9XG4gICAgICBpZiAoY2FzZW51bWJlcikge1xuICAgICAgICB1cmwgKz0gXCImbnVtYmVyPVwiICsgY2FzZW51bWJlcjtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIFwiU3VwcG9ydFBhbEFwaSBVUkwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0+Pj4+Pj4+Pj4+Pj4+Pj4+XCIgK1xuICAgICAgICAgIHVybFxuICAgICAgKTtcblxuICAgICAgY29uc3QgdGlja2V0czogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5nZXRGcm9tU3VwcG9ydFBhbEFwaSh1cmwpO1xuICAgICAgcmV0dXJuIHRpY2tldHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBtZXNzYWdlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldEFsbFRpY2tldHNCYXNlZE9uVXNlciA9IGFzeW5jIChcbiAgICBpZCxcbiAgICB1c2VyLFxuICAgIHN1cHBvcnRyZXEsXG4gICAgc3RhdHVzLFxuICAgIHNlYXJjaEtleSxcbiAgICBzZWFyY2hWYWx1ZSxcbiAgICBwYWdlUmVxdWVzdEJvZHlcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBwYWdlU2l6ZSwgcGFnZUluZGV4IH0gPSBwYWdlUmVxdWVzdEJvZHk7XG5cbiAgICBsZXQgdXJsID0gc3B1cmw7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIHN3aXRjaCAodXNlci5wcm9maWxlaWQpIHtcbiAgICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLklOX0hPVVNFX0RFU0lHTkVSOlxuICAgICAgICBjYXNlIFByb2ZpbGVUeXBlRW51bUNvZGUuREVTSUdOX1BBUlRORVI6XG4gICAgICAgICAgdXJsICs9IGA/Y3VzdG9tZmllbGRbYCArIGAke2lkfWAgKyBgXT1gICsgYCR7dXNlci5kZXNpZ25jYWZlZW1haWx9YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkFTU09DSUFURV9TVFVESU9fTUFOQUdFUjpcbiAgICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLlNUVURJT19NQU5BR0VSOlxuICAgICAgICBjYXNlIFByb2ZpbGVUeXBlRW51bUNvZGUuU1RVRElPX01BTkFHRVJfRFA6XG4gICAgICAgIGNhc2UgUHJvZmlsZVR5cGVFbnVtQ29kZS5DRU5URVJfREVMSVZFUllfSEVBRDpcbiAgICAgICAgY2FzZSBQcm9maWxlVHlwZUVudW1Db2RlLkNJVFlfREVMSVZFUllfSEVBRDpcbiAgICAgICAgICB1cmwgKz0gYD9jdXN0b21maWVsZFtgICsgYCR7aWR9YCArIGBdPWAgKyBgJHtzdXBwb3J0cmVxfWA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdXJsICs9IFwiP2Fzc2lnbmVkPVwiICsgaWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh1cmwgIT09IHNwdXJsKSB7XG4gICAgICB1cmwgPSBhd2FpdCBnZXRVcmwodXJsLCBzdGF0dXMsIHNlYXJjaEtleSwgc2VhcmNoVmFsdWUpO1xuICAgICAgaWYgKHBhZ2VTaXplKSB7XG4gICAgICAgIHVybCArPSBcIiZsaW1pdD1cIiArIHBhZ2VTaXplO1xuICAgICAgfVxuICAgICAgaWYgKHBhZ2VJbmRleCkge1xuICAgICAgICB1cmwgKz0gXCImc3RhcnQ9XCIgKyBwYWdlSW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYWdlU2l6ZSkge1xuICAgICAgICB1cmwgKz0gXCI/bGltaXQ9XCIgKyBwYWdlU2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlSW5kZXgpIHtcbiAgICAgICAgdXJsICs9IFwiJnN0YXJ0PVwiICsgcGFnZUluZGV4O1xuICAgICAgfVxuICAgICAgdXJsID0gYXdhaXQgZ2V0VXJsKHVybCwgc3RhdHVzLCBzZWFyY2hLZXksIHNlYXJjaFZhbHVlKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiU3VwcG9ydFBhbEFwaSBVUkwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0+Pj4+Pj4+Pj4+Pj4+Pj4+XCIgK1xuICAgICAgICB1cmxcbiAgICApO1xuXG4gICAgY29uc3QgdGlja2V0czogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5nZXRGcm9tU3VwcG9ydFBhbEFwaSh1cmwpO1xuXG4gICAgcmV0dXJuIHRpY2tldHM7XG4gIH07XG4gIGNvbnN0IGdldFRpY2tldE1lc3NhZ2VzID0gYXN5bmMgKHRpY2tldElkKSA9PiB7XG4gICAgY29uc3QgdXJsID0gYHRpY2tldC9tZXNzYWdlP3RpY2tldF9pZD0ke3RpY2tldElkfSZpc19kcmFmdD0wYDtcbiAgICBjb25zdCBtZXNzYWdlczogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5nZXRGcm9tU3VwcG9ydFBhbEFwaSh1cmwpO1xuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfTtcblxuICBjb25zdCBnZXRTdXBwb3J0cGFsQ3VzdG9tRmllbGQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIE1HREM6IDEzMyxcbiAgICAgIFdEQzogMTM0LFxuICAgICAgSFNSREM6IDEzNSxcbiAgICAgIFwiTXVtYmFpIERDXCI6IDEzNixcbiAgICAgIFwiSHlkZXJhYmFkIERDXCI6IDEzNyxcbiAgICAgIFwiQ2hlbm5haSBEQ1wiOiAxMzgsXG4gICAgICBKUERDOiAyNzIsXG4gICAgICBLRFJNWVM6IDI3MyxcbiAgICAgIFlFUlBVTjogMjc0LFxuICAgICAgQkhIWUQ6IDI3NSxcbiAgICAgIFwiVGhhbmUgRENcIjogMjc2LFxuICAgICAgU0pQQkxSOiAyNzcsXG4gICAgICBLSE1VTTogMjc4LFxuICAgICAgV0xNVU06IDI3OSxcbiAgICAgIE9NUkNIOiAyODAsXG4gICAgICBIUkJSQkxSOiAyODEsXG4gICAgICBVbmtub3duOiAxMzksXG4gICAgICBcIlByZSA1JVwiOiA0NixcbiAgICAgIFwiNSUgLSAxNSVcIjogNDcsXG4gICAgICBcIjE1JSAtIDM1JVwiOiA0OCxcbiAgICAgIFwiMzUlIC0gNDUlXCI6IDQ5LFxuICAgICAgXCI0NSUgdG8gaGFuZG92ZXJcIjogNTAsXG4gICAgICBcIlBvc3QgSGFuZG92ZXJcIjogNTEsXG4gICAgICBcIkN1c3RvbWVyIERhc2hib2FyZFwiOiAxNTcsXG4gICAgICBjZl9leHBlcmllbmNlQ2VudGVyUGs6IDIyLFxuICAgICAgY2ZfcHJvamVjdE5hbWVQazogMyxcbiAgICAgIGNmX2NsaWVudGlkUGs6IDI3LFxuICAgICAgY2ZfcHJvamVjdFN0YWdlUGs6IDE0LFxuICAgICAgY2Zfc291cmNlUGs6IDI1LFxuICAgICAgY2ZfdGlja2V0QnVja2V0OiAyMSxcbiAgICAgIGNmX2Fzc2lnbmVkX2Rlc2lnbmVyOiAxMyxcbiAgICAgIGNmX3RlYW1fbmFtZTogMjYsXG4gICAgICBcIlRFQU1fQkhIWUQtRFBTdGQtMVwiOiAxNTgsXG4gICAgICBcIlRFQU1fQkhIWUQtU3RkLTFcIjogMTU5LFxuICAgICAgXCJURUFNX0NoZW5uYWkgRFBcIjogMTYwLFxuICAgICAgXCJURUFNX0NoZW5uYWkgU3R1ZGlvIDFcIjogMTYxLFxuICAgICAgXCJURUFNX0RQIEJhbmdhbG9yZSBIU1JEQ1wiOiAxNjIsXG4gICAgICBcIlRFQU1fRFAgQmFuZ2Fsb3JlIE1HRENcIjogMTYzLFxuICAgICAgXCJURUFNX0RQIEJhbmdhbG9yZSBXRENcIjogMTY0LFxuICAgICAgXCJURUFNX0RQIEh5ZGVyYWJhZFwiOiAxNjUsXG4gICAgICBcIlRFQU1fRFAgTXVtYmFpXCI6IDE2NixcbiAgICAgIFwiVEVBTV9EUCBUaGFuZVwiOiAxNjcsXG4gICAgICBcIlRFQU1fSFNSREMgU3R1ZGlvIDFcIjogMTY4LFxuICAgICAgXCJURUFNX0h5ZGVyYWJhZCBTdHVkaW8gMVwiOiAxNjksXG4gICAgICBcIlRFQU1fTUdEQyBTdHVkaW8gMVwiOiAxNzAsXG4gICAgICBcIlRFQU1fTUdEQyBTdHVkaW8gMlwiOiAxNzEsXG4gICAgICBcIlRFQU1fTXVtYmFpIFN0dWRpbyAxXCI6IDE3MixcbiAgICAgIFwiVEVBTV9NdW1iYWkgU3R1ZGlvIDJcIjogMTczLFxuICAgICAgXCJURUFNX011bWJhaSBTdHVkaW8gM1wiOiAxNzQsXG4gICAgICBcIlRFQU1fU0pQQkxSLVN0ZC0xXCI6IDI4OCxcbiAgICAgIFwiVEVBTV9UaGFuZSBTdHVkaW8gMVwiOiAxNzUsXG4gICAgICBcIlRFQU1fV0RDIFN0dWRpbyAxXCI6IDE3NixcbiAgICAgIFwiVEVBTV9KUERDIFhQcmVzc29cIjogMjgzLFxuICAgICAgXCJURUFNX0tEUk1ZUy1TdGQtMVwiOiAyODQsXG4gICAgICBcIlRFQU1fS0RSTVlTLURQU3RkLTFcIjogMjg1LFxuICAgICAgXCJURUFNX1lFUlBVTi1TdGQtMVwiOiAyODYsXG4gICAgICBcIlRFQU1fWUVSUFVOLURQU3RkLTFcIjogMjg3LFxuICAgICAgXCJURUFNX0tITVVNLVN0ZC0xXCI6IDI4OSxcbiAgICAgIFwiVEVBTV9LSE1VTS1EUFN0ZC0xXCI6IDI5MCxcbiAgICAgIFwiVEVBTV9XTE1VTS1TdGQtMVwiOiAyOTEsXG4gICAgICBcIlRFQU1fV0xNVU0tRFBTdGQtMVwiOiAyOTIsXG4gICAgICBcIlRFQU1fT01SQ0gtU3RkLTFcIjogMzQwLFxuICAgICAgXCJURUFNX0hSQlJCTFItU3RkLTFcIjogMjkzLFxuICAgICAgNDY6IFwiUHJlIDUlXCIsXG4gICAgICA0NzogXCI1JSAtIDE1JVwiLFxuICAgICAgNDg6IFwiMTUlIC0gMzUlXCIsXG4gICAgICA0OTogXCIzNSUgLSA0NSVcIixcbiAgICAgIDUwOiBcIjQ1JSB0byBoYW5kb3ZlclwiLFxuICAgICAgNTE6IFwiUG9zdCBIYW5kb3ZlclwiLFxuICAgIH07XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0QWxsVGlja2V0cyxcbiAgICBnZXRPckFkZE9wZXJhdG9yQW5kUmV0dXJuSWQsXG4gICAgZ2V0T3JBZGRVc2VyQW5kUmV0dXJuSWQsXG4gICAgZ2V0U3VwcG9ydHBhbEN1c3RvbUZpZWxkLFxuICAgIGdldEFsbFRpY2tldHNCYXNlZE9uVXNlcixcbiAgICBjcmVhdGVPcGVyYXRvcixcbiAgICBjcmVhdGVVc2VyLFxuICAgIGdldFRpY2tldE1lc3NhZ2VzLFxuICB9O1xufTtcbmNvbnN0IGdldE9yQWRkT3BlcmF0b3JBbmRSZXR1cm5JZCA9IGFzeW5jIChlbWFpbCwgbmFtZSwgb3BlcmF0b3JHcm91cCkgPT4ge1xuICBsZXQgb3BlcmF0b3JJZDtcbiAgbGV0IHJlc3BvbnNlOiBhbnk7XG4gIHRyeSB7XG4gICAgcmVzcG9uc2UgPSBhd2FpdCBzdXBwb3J0cGFsYXBpLmdldEZyb21TdXBwb3J0UGFsQXBpKFxuICAgICAgXCJ1c2VyL29wZXJhdG9yP2VtYWlsPVwiICsgZW1haWxcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgZXJyLm1lc3NhZ2UpO1xuICB9XG4gIGNvbnN0IHJlcyA9IHJlc3BvbnNlO1xuXG4gIGlmIChyZXMuZGF0YSAmJiByZXMuZGF0YVswXSkge1xuICAgIG9wZXJhdG9ySWQgPSByZXMuZGF0YVswXT8uaWQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJuYW1lID09PT09PT09PT09PT09PT09PiBcIiwgbmFtZSk7XG5cbiAgICBjb25zdCBzcGxpdCA9IG5hbWUuc3BsaXQoXCIgXCIpO1xuICAgIGNvbnN0IGZuID0gc3BsaXRbMF07XG4gICAgY29uc3QgbG4gPSBzcGxpdFsxXTtcbiAgICBjb25zdCBvcGVyYXRvciA9IGF3YWl0IGNyZWF0ZU9wZXJhdG9yKHtcbiAgICAgIGZpcnN0bmFtZTogZm4sXG4gICAgICBsYXN0bmFtZTogbG4sXG4gICAgICBlbWFpbDogZW1haWwsXG4gICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuc3VwcG9ydFBhbERDUGFzc3dvcmQsXG4gICAgICBncm91cDogb3BlcmF0b3JHcm91cCxcbiAgICB9KTtcbiAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgIGlmIChvcGVyYXRvcj8uc3RhdHVzID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEh0dHBFcnJvcig0MDEsIG9wZXJhdG9yLm1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgb3BlcmF0b3JJZCA9IG9wZXJhdG9yLmRhdGE/LmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgbWVzc2FnZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvcGVyYXRvcklkO1xufTtcbmNvbnN0IGNyZWF0ZU9wZXJhdG9yID0gYXN5bmMgKG9wZXJhdG9yQm9keTogYW55KSA9PiB7XG4gIGNvbnN0IHsgZmlyc3RuYW1lLCBsYXN0bmFtZSwgZW1haWwsIHBhc3N3b3JkLCBncm91cCB9ID0gb3BlcmF0b3JCb2R5O1xuXG4gIGNvbnN0IGJvZHkgPSB7XG4gICAgZmlyc3RuYW1lLFxuICAgIGxhc3RuYW1lLFxuICAgIGVtYWlsLFxuICAgIHBhc3N3b3JkLFxuICAgIC8vIGRlZmF1bHQgZmllbGRzXG4gICAgY291bnRyeTogXCJJTlwiLFxuICAgIHRpbWV6b25lOiBcIkFzaWEvS29sa2F0YVwiLFxuICAgIGFjdGl2ZTogMSxcbiAgICBncm91cHM6IFtncm91cF0sXG4gICAgZGVwdHM6IFtwcm9jZXNzLmVudi5zdXBwb3J0UGFsRGVwYXJ0bWVudF0sXG4gIH07XG4gIGNvbnN0IHVzZXJzOiBhbnkgPSBhd2FpdCBzdXBwb3J0cGFsYXBpLnBvc3RUb1N1cHBvcnRQYWxBcGkoXG4gICAgXCJ1c2VyL29wZXJhdG9yXCIsXG4gICAgYm9keVxuICApO1xuXG4gIHJldHVybiB1c2Vycztcbn07XG5cbmNvbnN0IGdldE9yQWRkVXNlckFuZFJldHVybklkID0gYXN5bmMgKGVtYWlsLCBuYW1lKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IG9wZXJhdG9ySWQ7XG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5nZXRGcm9tU3VwcG9ydFBhbEFwaShcbiAgICAgICAgXCJ1c2VyL3VzZXI/ZW1haWw9XCIgKyBlbWFpbFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBlcnIubWVzc2FnZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IHJlc3BvbnNlO1xuXG4gICAgaWYgKHJlcy5kYXRhICYmIHJlcy5kYXRhWzBdKSB7XG4gICAgICBvcGVyYXRvcklkID0gcmVzLmRhdGFbMF0/LmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzcGxpdCA9IG5hbWUuc3BsaXQoXCIgXCIpO1xuICAgICAgY29uc3QgZm4gPSBzcGxpdFswXSA/IHNwbGl0WzBdIDogXCIgXCI7XG4gICAgICBjb25zdCBsbiA9IHNwbGl0WzFdID8gc3BsaXRbMV0gOiBcIiBcIjtcbiAgICAgIGNvbnN0IG9wZXJhdG9yID0gYXdhaXQgY3JlYXRlVXNlcih7XG4gICAgICAgIGZpcnN0bmFtZTogZm4sXG4gICAgICAgIGxhc3RuYW1lOiBsbixcbiAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuc3VwcG9ydFBhbERDUGFzc3dvcmQsXG4gICAgICAgIGdyb3VwOiA0LFxuICAgICAgfSk7XG4gICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgaWYgKG9wZXJhdG9yPy5zdGF0dXMgPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAxLCBvcGVyYXRvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBvcGVyYXRvcklkID0gb3BlcmF0b3IuZGF0YT8uaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgXCJPcGVyYXRvciBub3QgZm91bmRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRvcklkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBIdHRwRXJyb3IoNDAwLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxufTtcblxuY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jICh1c2VyQm9keTogYW55KSA9PiB7XG4gIGNvbnNvbGUubG9nKFwiQ1JFQVRFIFVTRVIgQ0FMTEVEXCIpO1xuICB0cnkge1xuICAgIGNvbnN0IHsgZmlyc3RuYW1lLCBsYXN0bmFtZSwgZW1haWwsIHBhc3N3b3JkLCBncm91cCB9ID0gdXNlckJvZHk7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgZmlyc3RuYW1lLFxuICAgICAgbGFzdG5hbWUsXG4gICAgICBlbWFpbCxcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgLy8gZGVmYXVsdCBmaWVsZHNcbiAgICAgIGNvdW50cnk6IFwiSU5cIixcbiAgICAgIHRpbWV6b25lOiBcIkFzaWEvS29sa2F0YVwiLFxuICAgICAgYWN0aXZlOiAxLFxuICAgICAgZ3JvdXBzOiBbZ3JvdXBdLFxuICAgICAgZGVwdHM6IFtwcm9jZXNzLmVudi5zdXBwb3J0UGFsRGVwYXJ0bWVudF0sXG4gICAgfTtcbiAgICBjb25zdCB1c2VyczogYW55ID0gYXdhaXQgc3VwcG9ydHBhbGFwaS5wb3N0VG9TdXBwb3J0UGFsQXBpKFxuICAgICAgXCJ1c2VyL3VzZXJcIixcbiAgICAgIGJvZHlcbiAgICApO1xuICAgIHJldHVybiB1c2VycztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgSHR0cEVycm9yKDQwMCwgZXJyb3IubWVzc2FnZSk7XG4gIH1cbn07XG5jb25zdCBnZXRVcmwgPSBhc3luYyAodXJsLCBzdGF0dXMsIHNlYXJjaEtleSwgc2VhcmNoVmFsdWUpID0+IHtcbiAgaWYgKHN0YXR1cykge1xuICAgIHVybCArPSBcIiZzdGF0dXM9XCIgKyBzdGF0dXM7XG4gIH1cbiAgaWYgKHNlYXJjaEtleSAmJiBzZWFyY2hWYWx1ZSkge1xuICAgIGlmIChzZWFyY2hLZXkgPT09IFwiY2FzZW51bWJlclwiKSB7XG4gICAgICB1cmwgKz0gXCImbnVtYmVyPVwiICsgc2VhcmNoVmFsdWU7XG4gICAgfSBlbHNlIGlmIChzZWFyY2hLZXkgPT09IFwicHJvamVjdG5hbWVcIikge1xuICAgICAgdXJsICs9IFwiJmN1c3RvbWZpZWxkWzFdPVwiICsgc2VhcmNoVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCJpbXBvcnQgRW1haWxTZXJ2aWNlIGZyb20gXCIuLi8uLi8uLi9jb3JlL2VtYWlsL0VtYWlsXCI7XG5cbmNsYXNzIE5vdGlmaWNhdGlvblNlcnZpY2Uge1xuICBwdWJsaWMgZW1haWxTZXJ2aWNlO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmVtYWlsU2VydmljZSA9IG5ldyBFbWFpbFNlcnZpY2UoXG4gICAgICBwcm9jZXNzLmVudi5hZG1pbkVtYWlsSWQsXG4gICAgICBwcm9jZXNzLmVudi5lbWFpbFVzZXJOYW1lLFxuICAgICAgcHJvY2Vzcy5lbnYuZW1haWxQYXNzd29yZCxcbiAgICAgIHByb2Nlc3MuZW52LmVtYWlsU2VuZGVySWRcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgc2VuZEVtYWlsKG5hbWUsIGVtYWlsLCB0aXRsZSwgYm9keSwgY2MsIGJjYywgYXR0YWNobWVudHMpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuZW1haWxTZXJ2aWNlLnNlbmRNYWlsKG5hbWUsIGVtYWlsLCB0aXRsZSwgYm9keSwgY2MsIGJjYywgYXR0YWNobWVudHMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvblNlcnZpY2U7XG4iLCJpbXBvcnQgeyBnb29nbGUgfSBmcm9tIFwiZ29vZ2xlYXBpc1wiO1xuXG5leHBvcnQgY29uc3QgR29vZ2xlT0F1dGggPSAoeyBjbGllbnRJZCwgY2xpZW50U2VjcmV0LCByZWRpcmVjdGlvblVybCB9KSA9PiB7XG4gIGNvbnN0IG9hdXRoMkNsaWVudCA9IG5ldyBnb29nbGUuYXV0aC5PQXV0aDIoXG4gICAgY2xpZW50SWQsXG4gICAgY2xpZW50U2VjcmV0LFxuICAgIHJlZGlyZWN0aW9uVXJsXG4gICk7XG5cbiAgZ29vZ2xlLmZpdG5lc3Moe1xuICAgIHZlcnNpb246IFwidjFcIixcbiAgICBhdXRoOiBvYXV0aDJDbGllbnQsXG4gIH0pO1xuXG4gIGNvbnN0IGdldEF1dGhvcml6ZVVybCA9IChzY29wZSkgPT4ge1xuICAgIHJldHVybiBvYXV0aDJDbGllbnQuZ2VuZXJhdGVBdXRoVXJsKHtcbiAgICAgIGFjY2Vzc190eXBlOiBcIm9mZmxpbmVcIixcbiAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgIHByb21wdDogXCJjb25zZW50XCIsXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0QWNjZXNzVG9rZW4gPSBhc3luYyAoY29kZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9hdXRoMkNsaWVudC5nZXRUb2tlbihjb2RlKTtcbiAgICAgIG9hdXRoMkNsaWVudC5zZXRDcmVkZW50aWFscyhyZXNwb25zZS50b2tlbnMpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRva2VucztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWZyZXNoQWNjZXNzVG9rZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG9hdXRoMkNsaWVudC5yZWZyZXNoQWNjZXNzVG9rZW4oKGVyciwgcmVzcCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVzcC5yZWZyZXNoX3Rva2VuLFxuICAgICAgICAgIGFjY2Vzc1Rva2VuOiByZXNwLmFjY2Vzc190b2tlbixcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7IGdldEF1dGhvcml6ZVVybCwgZ2V0QWNjZXNzVG9rZW4sIHJlZnJlc2hBY2Nlc3NUb2tlbiB9O1xufTtcbiIsImltcG9ydCB7IFJFU1REYXRhU291cmNlLCBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gJ2Fwb2xsby1kYXRhc291cmNlLXJlc3QnO1xuY29uc3QgYnRvYSA9IHJlcXVpcmUoXCJidG9hXCIpO1xuXG5jbGFzcyBTdXBwb3J0UGFsQXBpY29weSBleHRlbmRzIFJFU1REYXRhU291cmNlIHtcblxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LnN1cHBvcnRQYWxVcmw7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSh7fSk7IC8vIGNhbGxpbmcgaW5pdGlhbGl6ZSgpIGZ1bmN0aW9uIHdpdGggZW1wdHkgb2JqZWN0IGlzIHRoZSBrZXlcbiAgICB9XG4gICAgZGVsZXRlQ2FjaGVGb3JSZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgICAgICB0aGlzLm1lbW9pemVkUmVzdWx0cy5kZWxldGUodGhpcy5jYWNoZUtleUZvcihyZXF1ZXN0KSk7XG4gICAgfVxuXG4gICAgZGlkUmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlOiBSZXNwb25zZSwgcmVxdWVzdDogUmVxdWVzdCkge1xuICAgICAgICB0aGlzLmRlbGV0ZUNhY2hlRm9yUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRpZFJlY2VpdmVSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdCk7XG4gICAgfVxuXG4gICAgZGlkRW5jb3VudGVyRXJyb3IoZXJyb3I6IEVycm9yLCByZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2FjaGVGb3JSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGlkRW5jb3VudGVyRXJyb3IoZXJyb3IsIHJlcXVlc3QpO1xuICAgIH1cblxuICAgIHdpbGxTZW5kUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBcIm5vLWNhY2hlXCIpO1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBidG9hKCdCVSFWTyFwVWUhMkpKOXRPIWNvbTdJMzVvUWk1eFNpOTpEQ0AxMjMnKSlcbiAgICAgICAgY29uc29sZS5sb2coODcsIEpTT04uc3RyaW5naWZ5KHJlcXVlc3QuaGVhZGVycykpXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0RnJvbVN1cHBvcnRQYWxBcGkodXJsKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmdldCh1cmwpXG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgfVxuICAgIGFzeW5jIHBvc3RUb1N1cHBvcnRQYWxBcGkodXJsLCBib2R5KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBvc3QodXJsLFxuICAgICAgICAgICAgYm9keVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZVRvU3VwcG9ydFBhbEFwaSh1cmwsIGJvZHkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMucHV0KHVybCxcbiAgICAgICAgICAgIGJvZHlcbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFN1cHBvcnRQYWxBcGljb3B5XG4iLCJjb25zdCBib29raW5nRm9ybUdlbmVyYXRlVGVtcGxhdGUgPSAoKSA9PiB7XG4gIHJldHVybiBgXG4gICAgSXQgaGFzIGJlZW4gYSBwbGVhc3VyZSBpbnRlcmFjdGluZyB3aXRoIHlvdSBhbmQgd2UgYXJlIGRlbGlnaHRlZCB0aGF0IHlvdSBoYXZlIGNob3NlbiBEZXNpZ24gQ2FmZSBhcyB5b3VyIGhvbWUgaW50ZXJpb3JzIHBhcnRuZXIuIDxici8+XG5cbiAgICBZb3VyIGJvb2tpbmcgZm9ybSBpcyBnZW5lcmF0ZWQgd2l0aCBhbGwgdGhlIHJlcXVpcmVtZW50LCBwYXltZW50IGRldGFpbHMgYW5kIHRlcm1zICYgY29uZGl0aW9uIG9mIHRoZSBlbmdhZ2VtZW50Ljxici8+IFxuICAgIFxuICAgIFBsZWFzZSByZXZpZXcgYW5kIGNvbmZpcm0geW91ciBib29raW5nIGZvcm0gYnkgdmlzaXRpbmcgeW91ciBjdXN0b21lciBkYXNoYm9hcmQgPGEgaHJlZj0ke3Byb2Nlc3MuZW52LmN1c3RvbWVyRGFzaGJvYXJkVXJsfT4gaGVyZSA8L2E+LiA8YnIvPlxuXG4gICAgUGxlYXNlIGxvZ2luIHVzaW5nIHlvdXIgcmVnaXN0ZXJlZCBtb2JpbGUgbm8uIFlvdSB3aWxsIHJlY2lldmUgYW4gYXV0byBnZW5lcmF0ZWQgT1RQIHRvIGhlbHAgeW91IGxvZ2luLiBcblxuICBcbiAgYDtcbn07XG5jb25zdCBib29raW5nRm9ybUFjY2VwdFRlbXBsYXRlID0gKCkgPT4ge1xuICByZXR1cm4gYFxuICAgIFRoYW5rIHlvdSBmb3IgY2hvb3NpbmcgdXMgYXMgeW91ciBob21lIGludGVyaW9ycyBwYXJ0bmVyIGFuZCBhY2NlcHRpbmcgdGhlIGJvb2tpbmcgZm9ybS4gUGxlYXNlIGZpbmQgeW91ciBzaWduZWQgYm9va2luZyBmb3JtIGF0dGFjaGVkIGZvciBmdXR1cmUgcmVmZXJlbmNlLiA8YnIvPlxuXG4gICAgWW91IGNhbiBhbHNvIGFjY2VzcyB5b3VyIGJvb2tpbmcgZm9ybSBhbnl0aW1lIGJ5IHZpc2l0aW5nIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkIDxhIGhyZWY9JHtwcm9jZXNzLmVudi5jdXN0b21lckRhc2hib2FyZFVybH0+IGhlcmUgPC9hPi4gPGJyLz5cblxuICAgIFlvdSBhcmUgbm93IGp1c3QgYSBzdGVwIGF3YXkgdG8gc2F5aW5nIHllcywgdG8geW91ciBkcmVhbSBob21lLiBcblxuIGA7XG59O1xuXG5jb25zdCBwYXltZW50UmVxdWVzdFRlbXBsYXRlID0gKGN1c3RvbWVyLGNsaWVudElkKSA9PiB7XG4gIHJldHVybiBgSGkgJHtjdXN0b21lci5maXJzdG5hbWV9XG4gIDxicj48YnI+XG4gIFRoZXJlJ3MgYSBuZXcgcGF5bWVudCByZXF1ZXN0IGZvciB5b3VyIHByb2plY3QgJHtjbGllbnRJZH0uIENsaWNrIG9uIHRoZSBsaW5rIGJlbG93IHRvIGxvZ2luIHRvIGRhc2hib2FyZCBhbmQgcHJvY2VzcyB0aGUgcGF5bWVudC5cbiAgPGJyPlxuICAke3Byb2Nlc3MuZW52LmN1c3RvbWVyRGFzaGJvYXJkVXJsfVxuICA8YnI+PGJyPlxuICAxLiBPbmNlIGxvZ2dlZCBpbiwgZ28gdG8gdGhlIEludm9pY2UgJiBQYXltZW50IHNlY3Rpb24uXG4gIDxicj5cbiAgMi4gU2VsZWN0IHRoZSBwYXltZW50IHJlcXVlc3QgYW5kIGNsaWNrIG9uIGNvbnRpbnVlLlxuICA8YnI+XG4gIDMuIENvbmZpcm0gQmlsbGluZyBhbmQgc2hpcHBpbmcgaW5mb3JtYXRpb24uXG4gIDxicj5cbiAgNC4gUHJvY2VzcyB0aGUgcGF5bWVudC5cbiAgPGJyPjxicj5cbiAgKlBsZWFzZSBpZ25vcmUgaWYgdGhlIHBheW1lbnQgaXMgYWxyZWFkeSBwcm9jZXNzZWQuXG4gIGBcbn1cblxuY29uc3QgZXhwb3J0RmlsZSA9IHtcbiAgYm9va2luZ0Zvcm1HZW5lcmF0ZVRlbXBsYXRlLFxuICBib29raW5nRm9ybUFjY2VwdFRlbXBsYXRlLFxuICBwYXltZW50UmVxdWVzdFRlbXBsYXRlXG59O1xuXG5leHBvcnQgZGVmYXVsdCBleHBvcnRGaWxlO1xuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiXG5pbXBvcnQgZGF5anMgZnJvbSBcImRheWpzXCI7XG5pbXBvcnQgaXNCZXR3ZWVuIGZyb20gXCJkYXlqcy9wbHVnaW4vaXNCZXR3ZWVuXCJcbmltcG9ydCBpc29XZWVrIGZyb20gXCJkYXlqcy9wbHVnaW4vaXNvV2Vla1wiXG5kYXlqcy5leHRlbmQoaXNCZXR3ZWVuKVxuZGF5anMuZXh0ZW5kKGlzb1dlZWspXG5cbmV4cG9ydCBjb25zdCBhY2hpZXZlZFJldmVudWVSYXRpbyA9IGFzeW5jICh1c2VyLCBtb250aCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RQcmVkaWNhdGU6IGFueSA9IHt9XG4gICAgbGV0IHJlcztcblxuICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBwcm9qZWN0UHJlZGljYXRlLmRlc2lnbmVyaWQgPSB1c2VyLnVzZXJpZFxuICAgICAgICAgICAgcmVzID0gZ2V0QWNoaWV2ZWRSZXZlbnVlRm9yUHJvamVjdHMoXG4gICAgICAgICAgICAgICAgcHJvamVjdFByZWRpY2F0ZSxcbiAgICAgICAgICAgICAgICBtb250aFxuXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHVzZXIudXNlcnNfdGVhbT8ubWFwKGFzeW5jICh0ZWFtKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvamVjdFByZWRpY2F0ZS5kZXNpZ25zdHVkaW9pZCA9IHRlYW0udGVhbWlkXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZXMgPSBnZXRBY2hpZXZlZFJldmVudWVGb3JQcm9qZWN0cyhcbiAgICAgICAgICAgICAgICBwcm9qZWN0UHJlZGljYXRlLFxuICAgICAgICAgICAgICAgIG1vbnRoXG5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuY29uc3QgZ2V0QWNoaWV2ZWRSZXZlbnVlRm9yUHJvamVjdHMgPSBhc3luYyAocHJvamVjdFByZWRpY2F0ZSwgbW9udGgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInByb2plY3QgUHJlZGljYXRlXCIsIHByb2plY3RQcmVkaWNhdGUpO1xuICAgIGxldCB0b3RhbFJldmVudWUgPSAwO1xuXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgY3VycmVudE1vbnRoU3RhcnQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgY29uc3QgY3VycmVudE1vbnRoRW5kID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAwKTtcblxuICAgIGNvbnN0IGxhc3RNb250aFN0YXJ0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgLSAxLCAxKTtcbiAgICBjb25zdCBsYXN0TW9udGhFbmQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSAtIDEgKyAxLCAwKTtcblxuICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgcHJpc21hLmRjX3Byb2plY3RzLmZpbmRNYW55KHsgd2hlcmU6IHByb2plY3RQcmVkaWNhdGUgfSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgcHJvamVjdHMubWFwKGFzeW5jIHByb2plY3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwcmlzbWEuZGNfcGF5bWVudHJlY2VpcHRzLmZpbmRNYW55KHsgd2hlcmU6IHsgY2xpZW50aWQ6IHByb2plY3QucHJvamVjdGlkIH0gfSlcbiAgICAgICAgICAgIGlmIChwYXltZW50cykge1xuICAgICAgICAgICAgICAgIHBheW1lbnRzLm1hcChhc3luYyBwYXltZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudFJlY2lldmVkRGF0ZSA9IHBheW1lbnQucGF5bWVudHJlY2VpdmVkZGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF5bWVudFJlY2lldmVkRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bWVudFJlY2lldmVkRGF0ZVRvRGF0ZSA9IGRheWpzKHBheW1lbnRSZWNpZXZlZERhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9udGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bWVudFJlY2lldmVkRGF0ZVRvRGF0ZS5pc0JldHdlZW4oY3VycmVudE1vbnRoU3RhcnQsIGN1cnJlbnRNb250aEVuZCwgXCJkYXlzXCIsIFwiW11cIikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFJldmVudWUgPSB0b3RhbFJldmVudWUgKyBwYXltZW50LnJlY2VpdmVkYW1vdW50XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vbnRoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheW1lbnRSZWNpZXZlZERhdGVUb0RhdGUuaXNCZXR3ZWVuKGxhc3RNb250aFN0YXJ0LCBsYXN0TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSZXZlbnVlID0gdG90YWxSZXZlbnVlICsgcGF5bWVudC5yZWNlaXZlZGFtb3VudFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgKVxuXG4gICAgcmV0dXJuIHRvdGFsUmV2ZW51ZVxufVxuIiwiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uLy4uLy4uL3ByaXNtYUNvbmZpZ1wiXG5pbXBvcnQgeyBnZXRVc2VyIH0gZnJvbSBcIi4uLy4uLy4uL2FwaS91c2Vycy9NdXRhdGlvbnMvR2V0VXNlclwiO1xuXG5leHBvcnQgY29uc3QgYnJvYWRjYXN0ZWRMZWFkc1JhdGlvID0gYXN5bmMgKHVzZXIpID0+IHtcbiAgICBsZXQgY291bnQ7XG4gICAgY29uc3QgZmV0Y2hlZFVzZXIgPSBhd2FpdCBnZXRVc2VyKHVzZXIudXNlcmlkKVxuICAgIGNvbnN0IHdoZXJlQ29uZGl0aW9uOiBhbnkgPSB7fTtcblxuICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBpZiAoZmV0Y2hlZFVzZXJbMF0uaXNlbGlnaWJsZWZvcmxlYWRtZWV0aW5ncykge1xuICAgICAgICAgICAgICAgIHdoZXJlQ29uZGl0aW9uLmJyb2FkY2FzdF9zdGF0dXNfX2MgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5PUiA9IFtdO1xuICAgICAgICAgICAgICAgIGZldGNoZWRVc2VyWzBdLnRlYW1zLmZvckVhY2goKHRlYW1Bc3NpZ25lZFRvVXNlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5PUi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnbmVyX3RlYW1fbmFtZV9fYzogdGVhbUFzc2lnbmVkVG9Vc2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZHNGb3JEZXNpZ25lciA9IGF3YWl0IHByaXNtYS5sZWFkLmZpbmRNYW55KHsgd2hlcmU6IHdoZXJlQ29uZGl0aW9uIH0pXG4gICAgICAgICAgICAgICAgY291bnQgPSBhd2FpdCBmZXRjaE1hdGNoaW5nTGVhZHMobGVhZHNGb3JEZXNpZ25lcilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY291bnQgPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgd2hlcmVDb25kaXRpb24uYnJvYWRjYXN0X3N0YXR1c19fYyA9IFwiMFwiO1xuICAgICAgICAgICAgd2hlcmVDb25kaXRpb24uT1IgPSBbXTtcbiAgICAgICAgICAgIGZldGNoZWRVc2VyWzBdLnRlYW1zLmZvckVhY2goKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgICB3aGVyZUNvbmRpdGlvbi5PUi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzaWduZXJfdGVhbV9uYW1lX19jOiB0ZWFtLm5hbWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgbGVhZHNGb3JTdHVkaW8gPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kTWFueSh7IHdoZXJlOiB3aGVyZUNvbmRpdGlvbiB9KVxuICAgICAgICAgICAgY291bnQgPSBhd2FpdCBmZXRjaE1hdGNoaW5nTGVhZHMobGVhZHNGb3JTdHVkaW8pXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50XG59XG5cbmNvbnN0IGZldGNoTWF0Y2hpbmdMZWFkcyA9IGFzeW5jIChsZWFkcykgPT4ge1xuICAgIGxldCBuZXdsZWFkcyA9IDA7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICBjb25zdCB0b2RheSA9IGAke2RhdGUuZ2V0RnVsbFllYXIoKX1gICsgYC1gICsgYCR7KGRhdGUuZ2V0TW9udGgoKSArIDEpfWAgKyBgLWAgKyBgJHtkYXRlLmdldERhdGUoKX1gO1xuXG4gICAgbGVhZHMubWFwKChsZWFkKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlYWREYXRlV2l0aFRpbWUgPSBsZWFkLndpbGxpbmduZXNzX2Zvcl9tZWV0aW5nX19jO1xuICAgICAgICBpZiAobGVhZERhdGVXaXRoVGltZSkge1xuICAgICAgICAgICAgY29uc3QgbGRkYXRlID0gYCR7bGVhZERhdGVXaXRoVGltZS5nZXRGdWxsWWVhcigpfWAgKyBgLWAgKyBgJHsobGVhZERhdGVXaXRoVGltZS5nZXRNb250aCgpICsgMSl9YCArIGAtYCArIGAke2xlYWREYXRlV2l0aFRpbWUuZ2V0RGF0ZSgpfWA7XG4gICAgICAgICAgICBjb25zdCB0b2RheURhdGUgPSBuZXcgRGF0ZSh0b2RheSlcbiAgICAgICAgICAgIGNvbnN0IGxlYWREYXRlID0gbmV3IERhdGUobGRkYXRlKVxuXG4gICAgICAgIGlmIChsZWFkRGF0ZSA+IHRvZGF5RGF0ZSl7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobGVhZC5pZClcbiAgICAgICAgICAgICAgICBuZXdsZWFkcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gbmV3bGVhZHM7XG59XG5cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCBpc0JldHdlZW4gZnJvbSBcImRheWpzL3BsdWdpbi9pc0JldHdlZW5cIlxuaW1wb3J0IGlzb1dlZWsgZnJvbSBcImRheWpzL3BsdWdpbi9pc29XZWVrXCJcbmRheWpzLmV4dGVuZChpc0JldHdlZW4pXG5kYXlqcy5leHRlbmQoaXNvV2VlaylcblxuZXhwb3J0IGNvbnN0IGxlYWRTdW1tYXJ5UmF0aW8gPSBhc3luYyAodXNlciwgbW9udGhJblJlcSkgPT4ge1xuICAgIGxldCBsZWFkUHJlZGljYXRlOiBhbnkgPSB7fVxuICAgIGxldCBvcHBvcnR1bml0eXByZWRpY2F0ZTogYW55ID0ge31cbiAgICBsZXQgcmVzO1xuICAgIHN3aXRjaCAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBsZWFkUHJlZGljYXRlLk9SID0gW11cbiAgICAgICAgICAgIGxlYWRQcmVkaWNhdGUuT1IucHVzaChcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogXCJNZWV0aW5nIFNjaGVkdWxlZFwiIH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IFwiTWVldGluZyBDb25maXJtZWRcIiB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiBcIkNvbnZlcnRlZFwiIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGxlYWRQcmVkaWNhdGUuQU5EID0geyBkZXNpZ25fdXNlcl9fYzogdXNlci5zYWxlc2ZvcmNldXNlcmlkIH1cblxuICAgICAgICAgICAgb3Bwb3J0dW5pdHlwcmVkaWNhdGUuZGVzaWduX3VzZXJfX2MgPSB1c2VyLnNhbGVzZm9yY2V1c2VyaWQ7XG5cblxuICAgICAgICAgICAgcmVzID0gZ2V0TGVhZFN1bW1hcnlEYXRhKFxuICAgICAgICAgICAgICAgIGxlYWRQcmVkaWNhdGUsXG4gICAgICAgICAgICAgICAgb3Bwb3J0dW5pdHlwcmVkaWNhdGUsXG4gICAgICAgICAgICAgICAgbW9udGhJblJlcVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjb25zdCBmZXRjaGVkVXNlciA9IGF3YWl0IGdldFVzZXIodXNlci51c2VyaWQpXG5cbiAgICAgICAgICAgIGNvbnN0IHRlYW1BcnIgPSBbXVxuICAgICAgICAgICAgY29uc3Qgc3RhZ2VOYW1lQXJyID0gW11cbiAgICAgICAgICAgIGNvbnN0IGRlc2lnbmVyczogYW55ID0ge31cbiAgICAgICAgICAgIGRlc2lnbmVycy5PUiA9IFtdXG4gICAgICAgICAgICBvcHBvcnR1bml0eXByZWRpY2F0ZS5PUiA9IFtdXG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXR1c1F1ZXJ5ID0gW1xuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiBcIk1lZXRpbmcgU2NoZWR1bGVkXCIgfSxcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogXCJNZWV0aW5nIENvbmZpcm1lZFwiIH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IFwiQ29udmVydGVkXCIgfVxuICAgICAgICAgICAgXVxuXG5cbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuXG4gICAgICAgICAgICAgICAgZmV0Y2hlZFVzZXJbMF0udGVhbXM/Lm1hcChhc3luYyAodGVhbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZWFtQXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzaWduZXJfdGVhbV9uYW1lX19jOiB0ZWFtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2VOYW1lQXJyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R1ZGlvX25hbWVfX2M6IHRlYW0ubmFtZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhZFByZWRpY2F0ZSA9IHtcbiAgICAgICAgICAgICAgICBPUjogc3RhdHVzUXVlcnksXG4gICAgICAgICAgICAgICAgQU5EOiB7XG4gICAgICAgICAgICAgICAgICAgIE9SOiB0ZWFtQXJyLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wcG9ydHVuaXR5cHJlZGljYXRlID0ge1xuICAgICAgICAgICAgICAgIE9SOiBzdGFnZU5hbWVBcnJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzID0gZ2V0TGVhZFN1bW1hcnlEYXRhKFxuICAgICAgICAgICAgICAgIGxlYWRQcmVkaWNhdGUsXG4gICAgICAgICAgICAgICAgb3Bwb3J0dW5pdHlwcmVkaWNhdGUsXG4gICAgICAgICAgICAgICAgbW9udGhJblJlcVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG59XG5jb25zdCBnZXRMZWFkU3VtbWFyeURhdGEgPSBhc3luYyAocHJlZGljYXRlLCBvcHBvcnR1bml0eVByZWRpY2F0ZSwgbW9udGgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkxlYWQgcHJlZGljYXRlXCIsIHByZWRpY2F0ZSk7XG4gICAgY29uc29sZS5sb2coXCJPUHBvcnR1bml0eSBQcmVkaWNhdGVcIiwgb3Bwb3J0dW5pdHlQcmVkaWNhdGUpO1xuICAgIGNvbnN0IGxlYWRzID0gYXdhaXQgcHJpc21hLmxlYWQuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogcHJlZGljYXRlXG4gICAgfSk7XG4gICAgY29uc3Qgb3Bwb3J0dW5pdGllcyA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiBvcHBvcnR1bml0eVByZWRpY2F0ZVxuICAgIH0pO1xuICAgIGxldCBsZWFkTWVldGluZ1NjaGVkdWxlZENvdW50ID0gMCxcbiAgICAgICAgb3Bwb3J0dW5pdHlNZWV0aW5nRG9uZUNvdW50ID0gMCxcbiAgICAgICAgb3Bwb3J0dW5pdHlDbG9zZWRXb25Db3VudCA9IDAsXG4gICAgICAgIG9wcG9ydHVuaXR5Q2xvc2VkTG9zdENvdW50ID0gMFxuXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgY3VycmVudE1vbnRoU3RhcnQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgY29uc3QgY3VycmVudE1vbnRoRW5kID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxLCAwKTtcblxuICAgIGNvbnN0IGxhc3RNb250aFN0YXJ0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgLSAxLCAxKTtcbiAgICBjb25zdCBsYXN0TW9udGhFbmQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSAtIDEgKyAxLCAwKTtcblxuICAgIGlmIChtb250aCA9PT0gMCkge1xuXG4gICAgICAgIGxlYWRzLm1hcCgobGVhZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVldGluZ1NjaGVkdWxlZERhdGUgPSBkYXlqcyhsZWFkLndpbGxpbmduZXNzX2Zvcl9tZWV0aW5nX19jKTtcbiAgICAgICAgICAgIGlmIChtZWV0aW5nU2NoZWR1bGVkRGF0ZS5pc0JldHdlZW4oY3VycmVudE1vbnRoU3RhcnQsIGN1cnJlbnRNb250aEVuZCwgXCJkYXlzXCIsIFwiW11cIikpIHtcbiAgICAgICAgICAgICAgICBsZWFkTWVldGluZ1NjaGVkdWxlZENvdW50KytcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIG9wcG9ydHVuaXRpZXMubWFwKChvcHBvcnR1bml0eSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhZ2VuYW1lID0gb3Bwb3J0dW5pdHkuc3RhZ2VuYW1lO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZERhdGUgPSBkYXlqcyhvcHBvcnR1bml0eS5jcmVhdGVkZGF0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNsb3NlZERhdGUgPSBkYXlqcyhvcHBvcnR1bml0eS5jbG9zZWRhdGUpXG4gICAgICAgICAgICBpZiAoY3JlYXRlZERhdGUuaXNCZXR3ZWVuKGN1cnJlbnRNb250aFN0YXJ0LCBjdXJyZW50TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvcHBvcnR1bml0eU1lZXRpbmdEb25lQ291bnQrK1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsb3NlZERhdGUuaXNCZXR3ZWVuKGN1cnJlbnRNb250aFN0YXJ0LCBjdXJyZW50TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpICYmIHN0YWdlbmFtZSA9PT0gXCJDbG9zZWQgV29uXCIpIHtcbiAgICAgICAgICAgICAgICBvcHBvcnR1bml0eUNsb3NlZFdvbkNvdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbG9zZWREYXRlLmlzQmV0d2VlbihjdXJyZW50TW9udGhTdGFydCwgY3VycmVudE1vbnRoRW5kLCBcImRheXNcIiwgXCJbXVwiKSAmJiBzdGFnZW5hbWUgPT09IFwiQ2xvc2VkIExvc3RcIikge1xuICAgICAgICAgICAgICAgIG9wcG9ydHVuaXR5Q2xvc2VkTG9zdENvdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKG1vbnRoID09PSAxKSB7XG5cbiAgICAgICAgbGVhZHMubWFwKChsZWFkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZWV0aW5nU2NoZWR1bGVkRGF0ZSA9IGRheWpzKGxlYWQud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MpO1xuICAgICAgICAgICAgaWYgKG1lZXRpbmdTY2hlZHVsZWREYXRlLmlzQmV0d2VlbihsYXN0TW9udGhTdGFydCwgbGFzdE1vbnRoRW5kLCBcImRheXNcIiwgXCJbXVwiKSkge1xuICAgICAgICAgICAgICAgIGxlYWRNZWV0aW5nU2NoZWR1bGVkQ291bnQrK1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG4gICAgICAgIG9wcG9ydHVuaXRpZXMubWFwKChvcHBvcnR1bml0eSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhZ2VuYW1lID0gb3Bwb3J0dW5pdHkuc3RhZ2VuYW1lO1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZERhdGUgPSBkYXlqcyhvcHBvcnR1bml0eS5jcmVhdGVkZGF0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNsb3NlZERhdGUgPSBkYXlqcyhvcHBvcnR1bml0eS5jbG9zZWRhdGUpXG4gICAgICAgICAgICBpZiAoY3JlYXRlZERhdGUuaXNCZXR3ZWVuKGxhc3RNb250aFN0YXJ0LCBsYXN0TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvcHBvcnR1bml0eU1lZXRpbmdEb25lQ291bnQrK1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNsb3NlZERhdGUuaXNCZXR3ZWVuKGxhc3RNb250aFN0YXJ0LCBsYXN0TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpICYmIHN0YWdlbmFtZSA9PT0gXCJDbG9zZWQgV29uXCIpIHtcbiAgICAgICAgICAgICAgICBvcHBvcnR1bml0eUNsb3NlZFdvbkNvdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbG9zZWREYXRlLmlzQmV0d2VlbihsYXN0TW9udGhTdGFydCwgbGFzdE1vbnRoRW5kLCBcImRheXNcIiwgXCJbXVwiKSAmJiBzdGFnZW5hbWUgPT09IFwiQ2xvc2VkIExvc3RcIikge1xuICAgICAgICAgICAgICAgIG9wcG9ydHVuaXR5Q2xvc2VkTG9zdENvdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH1cbiAgICBsZXQgbGVhZENvbnZlcnNpb247XG5cbiAgICBpZiAob3Bwb3J0dW5pdHlNZWV0aW5nRG9uZUNvdW50ICE9PSAwKSB7XG4gICAgICAgIGxlYWRDb252ZXJzaW9uID0gKG9wcG9ydHVuaXR5Q2xvc2VkV29uQ291bnQgKiAxMDApIC8gb3Bwb3J0dW5pdHlNZWV0aW5nRG9uZUNvdW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGVhZENvbnZlcnNpb24gPSAwO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtZWV0aW5nU2NoZWR1bGVkOiBsZWFkTWVldGluZ1NjaGVkdWxlZENvdW50LFxuICAgICAgICBtZWV0aW5nRG9uZTogb3Bwb3J0dW5pdHlNZWV0aW5nRG9uZUNvdW50LFxuICAgICAgICBjbG9zZVdvbjogb3Bwb3J0dW5pdHlDbG9zZWRXb25Db3VudCxcbiAgICAgICAgY2xvc2VkTG9zdDogb3Bwb3J0dW5pdHlDbG9zZWRMb3N0Q291bnQsXG4gICAgICAgIHBlcmNlbnRhZ2U6IGxlYWRDb252ZXJzaW9uXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCIuLi8uLi8uLi9wcmlzbWFDb25maWdcIlxuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCBpc0JldHdlZW4gZnJvbSBcImRheWpzL3BsdWdpbi9pc0JldHdlZW5cIlxuaW1wb3J0IGlzb1dlZWsgZnJvbSBcImRheWpzL3BsdWdpbi9pc29XZWVrXCJcbmRheWpzLmV4dGVuZChpc0JldHdlZW4pXG5kYXlqcy5leHRlbmQoaXNvV2VlaylcblxuZXhwb3J0IGNvbnN0IHByb3Bvc2FsU2VudFJhdGlvID0gYXN5bmMgKHVzZXIsIG1vbnRoKSA9PiB7XG4gICAgY29uc3Qgb3Bwb3ByZWRpY2F0ZTogYW55ID0ge31cbiAgICBsZXQgcmVzO1xuXG4gICAgc3dpdGNoICh1c2VyLnByb2ZpbGUuYWNjZXNzX2xldmVsKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIG9wcG9wcmVkaWNhdGUuZGVzaWduX3VzZXJfX2MgPSB1c2VyLnNhbGVzZm9yY2V1c2VyaWQ7XG4gICAgICAgICAgICByZXMgPSBnZXRQcm9wb3NhbFNlbnREYXRhKFxuICAgICAgICAgICAgICAgIG9wcG9wcmVkaWNhdGUsXG4gICAgICAgICAgICAgICAgbW9udGhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY29uc3QgZmV0Y2hlZFVzZXIgPSBhd2FpdCBnZXRVc2VyKHVzZXIudXNlcmlkKVxuXG4gICAgICAgICAgICBvcHBvcHJlZGljYXRlLk9SID0gW11cbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgIGZldGNoZWRVc2VyWzBdLnRlYW1zPy5tYXAoYXN5bmMgKHRlYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3Bwb3ByZWRpY2F0ZS5PUi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0dWRpb19uYW1lX19jOiB0ZWFtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzID0gZ2V0UHJvcG9zYWxTZW50RGF0YShcbiAgICAgICAgICAgICAgICBvcHBvcHJlZGljYXRlLFxuICAgICAgICAgICAgICAgIG1vbnRoXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmNvbnN0IGdldFByb3Bvc2FsU2VudERhdGEgPSBhc3luYyAob3Bwb3J0dW5pdHlQcmVkaWNhdGUsIG1vbnRoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJPUHBvcnR1bml0eSBQcmVkaWNhdGVcIiwgb3Bwb3J0dW5pdHlQcmVkaWNhdGUpO1xuICAgIGxldCBvcHBvcnR1bml0eUNvdW50ID0gMDtcbiAgICBsZXQgb3Bwb3R1bml0eVByb3Bvc2FsU2VudENvdW50ID0gMDtcblxuXG4gICAgY29uc3Qgb3Bwb3J0dW5pdGllcyA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiBvcHBvcnR1bml0eVByZWRpY2F0ZVxuICAgIH0pO1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRNb250aFN0YXJ0ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgIGNvbnN0IGN1cnJlbnRNb250aEVuZCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCk7XG5cbiAgICBjb25zdCBsYXN0TW9udGhTdGFydCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpIC0gMSwgMSk7XG4gICAgY29uc3QgbGFzdE1vbnRoRW5kID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgLSAxICsgMSwgMCk7XG5cblxuICAgIG9wcG9ydHVuaXRpZXMubWFwKChvcHBvcnR1bml0eSkgPT4ge1xuICAgICAgICBjb25zdCBjcmVhdGVkRGF0ZSA9IGRheWpzKG9wcG9ydHVuaXR5LmNyZWF0ZWRkYXRlKTtcbiAgICAgICAgY29uc3Qgc3RhZ2VuYW1lID0gb3Bwb3J0dW5pdHkuc3RhZ2VuYW1lO1xuICAgICAgICBpZiAobW9udGggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGVkRGF0ZS5pc0JldHdlZW4oY3VycmVudE1vbnRoU3RhcnQsIGN1cnJlbnRNb250aEVuZCwgXCJkYXlzXCIsIFwiW11cIikpIHtcbiAgICAgICAgICAgICAgICBvcHBvcnR1bml0eUNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3JlYXRlZERhdGUuaXNCZXR3ZWVuKGN1cnJlbnRNb250aFN0YXJ0LCBjdXJyZW50TW9udGhFbmQsIFwiZGF5c1wiLCBcIltdXCIpICYmIHN0YWdlbmFtZSA9PT0gXCJQcm9wb3NhbCBTZW50XCIpIHtcbiAgICAgICAgICAgICAgICBvcHBvdHVuaXR5UHJvcG9zYWxTZW50Q291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb250aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZWREYXRlLmlzQmV0d2VlbihsYXN0TW9udGhTdGFydCwgbGFzdE1vbnRoRW5kLCBcImRheXNcIiwgXCJbXVwiKSkge1xuICAgICAgICAgICAgICAgIG9wcG9ydHVuaXR5Q291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjcmVhdGVkRGF0ZS5pc0JldHdlZW4obGFzdE1vbnRoU3RhcnQsIGxhc3RNb250aEVuZCwgXCJkYXlzXCIsIFwiW11cIikgJiYgc3RhZ2VuYW1lID09PSBcIlByb3Bvc2FsIFNlbnRcIikge1xuICAgICAgICAgICAgICAgIG9wcG90dW5pdHlQcm9wb3NhbFNlbnRDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIH0pXG4gICAgbGV0IHBlcmNlbnRhZ2U7XG5cbiAgICBpZiAob3Bwb3J0dW5pdHlDb3VudCAhPT0gMCkge1xuICAgICAgICBwZXJjZW50YWdlID0gKG9wcG90dW5pdHlQcm9wb3NhbFNlbnRDb3VudCAqIDEwMCkgLyBvcHBvcnR1bml0eUNvdW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGVyY2VudGFnZSA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGVyY2VudGFnZTogcGVyY2VudGFnZSxcbiAgICAgICAgdG90YWxQcm9wb3NhbFNlbnQ6IG9wcG90dW5pdHlQcm9wb3NhbFNlbnRDb3VudCxcbiAgICAgICAgdG90YWxNZWV0aW5nRG9uZTogb3Bwb3J0dW5pdHlDb3VudFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCB7IGdldFVzZXIgfSBmcm9tIFwiLi4vLi4vLi4vYXBpL3VzZXJzL011dGF0aW9ucy9HZXRVc2VyXCI7XG5pbXBvcnQgeyBGaWZ0ZWVuUGVyY2VudFN0YWdlRW51bSwgVGhpcnR5Rml2ZVBlcmNlbnRTdGFnZUVudW0sIEZvcnR5Rml2ZVBlcmNlbnRTdGFnZUVudW0gfSBmcm9tIFwiLi4vLi4vZW51bWVyYXRpb25zL1Byb2plY3RTdGFnZUVudW1zXCJcblxuZXhwb3J0IGNvbnN0IHRvdGFsQWN0aXZlUHJvamVjdHNSYXRpbyA9IGFzeW5jICh1c2VyKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdFByZWRpY2F0ZTogYW55ID0ge31cbiAgICBsZXQgcmVzO1xuXG4gICAgc3dpdGNoICh1c2VyLnByb2ZpbGUuYWNjZXNzX2xldmVsKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHByb2plY3RQcmVkaWNhdGUuT1IgPSBbXVxuICAgICAgICAgICAgcHJvamVjdFByZWRpY2F0ZS5PUi5wdXNoKHtcbiAgICAgICAgICAgICAgICBkZXNpZ25lcmlkOiB1c2VyLnVzZXJpZCxcbiAgICAgICAgICAgICAgICBwcm9qZWN0c3RhdHVzOiBcIkFjdGl2ZVwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcmVzID0gZ2V0VG90YWxBY3RpdmVQcm9qZWN0cyhcbiAgICAgICAgICAgICAgICBwcm9qZWN0UHJlZGljYXRlXG5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY29uc3QgZmV0Y2hVc2VyID0gYXdhaXQgZ2V0VXNlcih1c2VyLnVzZXJpZClcblxuICAgICAgICAgICAgcHJvamVjdFByZWRpY2F0ZS5PUiA9IFtdXG4gICAgICAgICAgICBmZXRjaFVzZXJbMF0udGVhbXM/Lm1hcChhc3luYyAodGVhbSkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3RQcmVkaWNhdGUuT1IucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2lnbnN0dWRpb2lkOiB0ZWFtLmlkLFxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c3RhdHVzOiBcIkFjdGl2ZVwiXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgcmVzID0gZ2V0VG90YWxBY3RpdmVQcm9qZWN0cyhcbiAgICAgICAgICAgICAgICBwcm9qZWN0UHJlZGljYXRlXG5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuY29uc3QgZ2V0VG90YWxBY3RpdmVQcm9qZWN0cyA9IGFzeW5jIChwcm9qZWN0UHJlZGljYXRlKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJwcm9qZWN0IFByZWRpY2F0ZVwiLCBwcm9qZWN0UHJlZGljYXRlKTtcbiAgICBjb25zdCBwcm9qZWN0cyA9IGF3YWl0IHByaXNtYS5kY19wcm9qZWN0cy5maW5kTWFueSh7IHdoZXJlOiBwcm9qZWN0UHJlZGljYXRlIH0pXG4gICAgbGV0IGZpZnRlZW5QZXJjQ291bnQgPSAwXG4gICAgbGV0IHRoaXJ5Rml2ZVBlcmNDb3VudCA9IDBcbiAgICBsZXQgZm9ydHlGaXZlUGVyY0NvdW50ID0gMFxuICAgIGNvbnN0IGZpZnRlZW5TdGFnZURhdGEgPSBbXSwgdGhpcnR5Rml2ZVN0YWdlRGF0YSA9IFtdLCBmb3J0eUZpdmVTdGFnZURhdGEgPSBbXTtcbiAgICBjb25zdCBQcm9qZWN0RGF0YUFyciA9IFtdXG5cbiAgICBpZiAocHJvamVjdHMgJiYgcHJvamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBwcm9qZWN0cy5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICAgICAgaWYgKHByb2plY3QuY3VycmVudG1pbGVzdG9uZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZnRlZW5QZXJjU3RhZ2VBcnIgPSBPYmplY3QudmFsdWVzKEZpZnRlZW5QZXJjZW50U3RhZ2VFbnVtKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXJ0eUZpdmVQZXJjU3RhZ2VBcnIgPSBPYmplY3QudmFsdWVzKFRoaXJ0eUZpdmVQZXJjZW50U3RhZ2VFbnVtKVxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcnR5Rml2ZVBlcmNTdGFnZUFyciA9IE9iamVjdC52YWx1ZXMoRm9ydHlGaXZlUGVyY2VudFN0YWdlRW51bSlcblxuICAgICAgICAgICAgICAgIGlmIChmaWZ0ZWVuUGVyY1N0YWdlQXJyLmluY2x1ZGVzKHByb2plY3QuY3VycmVudG1pbGVzdG9uZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlmdGVlblBlcmNDb3VudCsrXG4gICAgICAgICAgICAgICAgICAgIGZpZnRlZW5TdGFnZURhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0bmFtZTogcHJvamVjdC5wcm9qZWN0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5U3RhdHVzOiBwcm9qZWN0LnByb2plY3RkZWxheVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlydHlGaXZlUGVyY1N0YWdlQXJyLmluY2x1ZGVzKHByb2plY3QuY3VycmVudG1pbGVzdG9uZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcnlGaXZlUGVyY0NvdW50KytcbiAgICAgICAgICAgICAgICAgICAgdGhpcnR5Rml2ZVN0YWdlRGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RuYW1lOiBwcm9qZWN0LnByb2plY3RuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXlTdGF0dXM6IHByb2plY3QucHJvamVjdGRlbGF5XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm9ydHlGaXZlUGVyY1N0YWdlQXJyLmluY2x1ZGVzKHByb2plY3QuY3VycmVudG1pbGVzdG9uZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ydHlGaXZlUGVyY0NvdW50KytcbiAgICAgICAgICAgICAgICAgICAgZm9ydHlGaXZlU3RhZ2VEYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdG5hbWU6IHByb2plY3QucHJvamVjdG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheVN0YXR1czogcHJvamVjdC5wcm9qZWN0ZGVsYXlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWZ0ZWVuUGVyY0NvdW50KytcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFByb2plY3REYXRhQXJyLnB1c2goe1xuICAgICAgICB0b3RhbENvdW50OiBwcm9qZWN0cy5sZW5ndGgsXG4gICAgICAgIGZpZnRlZW5TdGFnZURhdGEsXG4gICAgICAgIHRoaXJ0eUZpdmVTdGFnZURhdGEsXG4gICAgICAgIGZvcnR5Rml2ZVN0YWdlRGF0YVxuICAgIH0pXG4gICAgY29uc29sZS5sb2coXCI9PT09PT1wcm9qZWN0c1wiLCBmaWZ0ZWVuUGVyY0NvdW50LCB0aGlyeUZpdmVQZXJjQ291bnQsIGZvcnR5Rml2ZVBlcmNDb3VudCk7XG4gICAgcmV0dXJuIFByb2plY3REYXRhQXJyXG59XG4iLCJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vcHJpc21hQ29uZmlnXCJcbmltcG9ydCBUaW1lUGVyaW9kTGVhZE1lZXRpbmdFbnVtIGZyb20gXCIuLi8uLi9lbnVtZXJhdGlvbnMvVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bVwiO1xuaW1wb3J0IHsgZ2V0VXNlciB9IGZyb20gXCIuLi8uLi8uLi9hcGkvdXNlcnMvTXV0YXRpb25zL0dldFVzZXJcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCBpc0JldHdlZW4gZnJvbSBcImRheWpzL3BsdWdpbi9pc0JldHdlZW5cIlxuaW1wb3J0IGlzb1dlZWsgZnJvbSBcImRheWpzL3BsdWdpbi9pc29XZWVrXCJcbmRheWpzLmV4dGVuZChpc0JldHdlZW4pXG5kYXlqcy5leHRlbmQoaXNvV2VlaylcblxuY29uc3QgbWVldGluZ1NjaGVkdWxlZCA9IFwiTWVldGluZyBTY2hlZHVsZWRcIjtcbmNvbnN0IG1lZXRpbmdDb25maXJtZWQgPSBcIk1lZXRpbmcgQ29uZmlybWVkXCI7XG5jb25zdCBjb252ZXJ0ZWQgPSBcIkNvbnZlcnRlZFwiO1xuZXhwb3J0IGNvbnN0IHVwY29taW5nTWVldGluZ3NSYXRpbyA9IGFzeW5jICh1c2VyLCB0aW1lUGVyaW9kKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IHVwY29taW5nTWVldGluZztcbiAgICBpZiAodXNlci5wcm9maWxlLmFjY2Vzc19sZXZlbCA9PT0gMCkge1xuICAgICAgdXBjb21pbmdNZWV0aW5nID0gZ2V0RGVzaWduZXJVcGNvbWluZ01lZXRpbmcoXG4gICAgICAgIHVzZXIsXG4gICAgICAgIHRpbWVQZXJpb2RcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh1c2VyLnByb2ZpbGUuYWNjZXNzX2xldmVsID09PSAxKSB7XG4gICAgICB1cGNvbWluZ01lZXRpbmcgPSBhd2FpdCBnZXRUZWFtTWVldGluZ3ModXNlciwgdGltZVBlcmlvZCk7XG4gICAgfVxuICAgIHJldHVybiB7IHVwY29taW5nTWVldGluZyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBlcnJvclxuICB9XG59XG5jb25zdCBnZXREZXNpZ25lclVwY29taW5nTWVldGluZyA9IGFzeW5jICh1c2VyLCB3ZWVrSW5SZXEpID0+IHtcbiAgbGV0IHRvdGFsTWVldGluZyA9IDA7XG4gIGNvbnN0IGxlYWREYXRhID0gW107XG5cbiAgY29uc3QgcHJlZGljYXRlOiBhbnkgPSB7fVxuICBwcmVkaWNhdGUuZGVzaWduX3VzZXJfX2MgPSB1c2VyLnNhbGVzZm9yY2V1c2VyaWRcbiAgcHJlZGljYXRlLk9SID0gW11cbiAgcHJlZGljYXRlLk9SLnB1c2goeyBzdGF0dXM6IG1lZXRpbmdTY2hlZHVsZWQgfSwgeyBzdGF0dXM6IG1lZXRpbmdDb25maXJtZWQgfSwgeyBzdGF0dXM6IGNvbnZlcnRlZCB9KVxuICBjb25zdCBsZWFkcyA9IGF3YWl0IHByaXNtYS5sZWFkLmZpbmRNYW55KHsgd2hlcmU6IHByZWRpY2F0ZSB9KVxuICBjb25zdCBtU3RhcnRPZldlZWsgPSBkYXlqcygpLnN0YXJ0T2YoJ2lzb1dlZWsnKS5pc29XZWVrZGF5KDIpLnRvRGF0ZSgpO1xuICBjb25zdCBtRW5kb2Z3ZWVrID0gZGF5anMoKS5lbmRPZignaXNvV2VlaycpLnRvRGF0ZSgpXG4gIGNvbnN0IG1zdGFydG9mTmV4dFdlZWsgPSBkYXlqcygpLmFkZCgxLCAnd2VlaycpLnN0YXJ0T2YoJ2lzb1dlZWsnKS5pc29XZWVrZGF5KDIpLnRvRGF0ZSgpXG4gIGNvbnN0IG1FbmRPZm5leHRXZWVrID0gZGF5anMoKS5hZGQoMSwgJ3dlZWsnKS5lbmRPZignaXNvV2VlaycpLnRvRGF0ZSgpXG4gIGNvbnNvbGUubG9nKFwibVN0YXJ0T2ZXZWVrID0gXCIsIG1TdGFydE9mV2VlayxcbiAgICBcIm1FbmRvZndlZWsgPSBcIiwgbUVuZG9md2VlayxcbiAgICBcIm1zdGF0cm9mTmV4dFdlZWsgPVwiLCBtc3RhcnRvZk5leHRXZWVrLFxuICAgIFwibUVuZE9mbmV4dFdlZWsgPSBcIiwgbUVuZE9mbmV4dFdlZWspXG5cbiAgbGVhZHMubWFwKChsZWFkKSA9PiB7XG4gICAgY29uc3QgbURhdGUgPSBkYXlqcyhsZWFkLndpbGxpbmduZXNzX2Zvcl9tZWV0aW5nX19jKVxuXG4gICAgaWYgKHdlZWtJblJlcSA9PT0gVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bS5USElTX1dFRUspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbURhdGUuaXNCZXR3ZWVuKG1TdGFydE9mV2VlaywgbUVuZG9md2VlaywgXCJkYXlzXCIsIFwiW11cIilcbiAgICAgICkge1xuICAgICAgICB0b3RhbE1lZXRpbmcrK1xuICAgICAgICBsZWFkRGF0YS5wdXNoKHtcbiAgICAgICAgICBtZWV0aW5nU2NoZWR1bGVkRGF0ZTogbGVhZC53aWxsaW5nbmVzc19mb3JfbWVldGluZ19fYyxcbiAgICAgICAgICBsZWFkTmFtZTogbGVhZC5uYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHdlZWtJblJlcSA9PT0gVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bS5ORVhUX1dFRUspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbURhdGUuaXNCZXR3ZWVuKG1zdGFydG9mTmV4dFdlZWssIG1FbmRPZm5leHRXZWVrLCBcImRheXNcIiwgXCJbXVwiKVxuICAgICAgKSB7XG4gICAgICAgIHRvdGFsTWVldGluZysrXG4gICAgICAgIGxlYWREYXRhLnB1c2goe1xuICAgICAgICAgIG1lZXRpbmdTY2hlZHVsZWREYXRlOiBsZWFkLndpbGxpbmduZXNzX2Zvcl9tZWV0aW5nX19jLFxuICAgICAgICAgIGxlYWROYW1lOiBsZWFkLm5hbWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWtJblJlcSA9PT0gVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bS5BTEwpIHtcbiAgICAgIHRvdGFsTWVldGluZysrXG4gICAgICBsZWFkRGF0YS5wdXNoKHtcbiAgICAgICAgbWVldGluZ1NjaGVkdWxlZERhdGU6IGxlYWQud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MsXG4gICAgICAgIGxlYWROYW1lOiBsZWFkLm5hbWVcbiAgICAgIH0pXG4gICAgfVxuXG4gIH0pXG4gIHJldHVybiB7XG4gICAgdG90YWxNZWV0aW5nLFxuICAgIGxlYWREYXRhXG4gIH1cblxufVxuY29uc3QgZ2V0VGVhbU1lZXRpbmdzID0gYXN5bmMgKHVzZXIsIHRpbWVQZXJpb2QpID0+IHtcbiAgbGV0IHRvdGFsTWVldGluZyA9IDA7XG4gIGNvbnN0IGxlYWREYXRhID0gW107XG5cbiAgY29uc3Qgc3RhdHVzUHJlZGljYXRlOiBhbnkgPSB7fVxuICBzdGF0dXNQcmVkaWNhdGUuT1IgPSBbXVxuICBzdGF0dXNQcmVkaWNhdGUuT1IucHVzaCh7IHN0YXR1czogbWVldGluZ1NjaGVkdWxlZCB9LCB7IHN0YXR1czogbWVldGluZ0NvbmZpcm1lZCB9LCB7IHN0YXR1czogY29udmVydGVkIH0pXG4gIGNvbnN0IGZldGNoZWRVc2VyID0gYXdhaXQgZ2V0VXNlcih1c2VyLnVzZXJpZClcbiAgY29uc3QgcHJlZGljYXRlOiBhbnkgPSB7fVxuICBwcmVkaWNhdGUuT1IgPSBbXVxuICBmZXRjaGVkVXNlclswXS50ZWFtcz8uZm9yRWFjaCh0ZWFtID0+IHtcbiAgICBwcmVkaWNhdGUuT1IucHVzaCh7XG4gICAgICBkZXNpZ25lcl90ZWFtX25hbWVfX2M6IHRlYW0ubmFtZVxuICAgIH0pXG4gIH0pO1xuICBjb25zdCBtYWluUHJlZGljYXRlOiBhbnkgPSB7fVxuICBtYWluUHJlZGljYXRlLkFORCA9IFtdXG4gIG1haW5QcmVkaWNhdGUuQU5ELnB1c2gocHJlZGljYXRlKVxuICBtYWluUHJlZGljYXRlLkFORC5wdXNoKHN0YXR1c1ByZWRpY2F0ZSlcbiAgY29uc3QgbGVhZHMgPSBhd2FpdCBwcmlzbWEubGVhZC5maW5kTWFueSh7IHdoZXJlOiBtYWluUHJlZGljYXRlIH0pO1xuICBjb25zb2xlLmxvZyhcInRvdGFsIGxlYWRzXCIsIGxlYWRzLmxlbmd0aCk7XG5cbiAgY29uc3QgbVN0YXJ0T2ZXZWVrID0gZGF5anMoKS5zdGFydE9mKCdpc29XZWVrJykuaXNvV2Vla2RheSgyKS50b0RhdGUoKTtcbiAgY29uc3QgbUVuZG9md2VlayA9IGRheWpzKCkuZW5kT2YoJ2lzb1dlZWsnKS50b0RhdGUoKVxuICBjb25zdCBtc3RhcnRvZk5leHRXZWVrID0gZGF5anMoKS5hZGQoMSwgJ3dlZWsnKS5zdGFydE9mKCdpc29XZWVrJykuaXNvV2Vla2RheSgyKS50b0RhdGUoKVxuICBjb25zdCBtRW5kT2ZuZXh0V2VlayA9IGRheWpzKCkuYWRkKDEsICd3ZWVrJykuZW5kT2YoJ2lzb1dlZWsnKS50b0RhdGUoKVxuICBjb25zb2xlLmxvZyhcIm1TdGFydE9mV2VlayA9IFwiLCBtU3RhcnRPZldlZWssXG4gICAgXCJtRW5kb2Z3ZWVrID0gXCIsIG1FbmRvZndlZWssXG4gICAgXCJtc3RhdHJvZk5leHRXZWVrID1cIiwgbXN0YXJ0b2ZOZXh0V2VlayxcbiAgICBcIm1FbmRPZm5leHRXZWVrID0gXCIsIG1FbmRPZm5leHRXZWVrKVxuXG4gIGZvciAoY29uc3QgbGVhZCBvZiBsZWFkcykge1xuICAgIGNvbnN0IG1EYXRlID0gZGF5anMobGVhZC53aWxsaW5nbmVzc19mb3JfbWVldGluZ19fYyk7XG4gICAgaWYgKHRpbWVQZXJpb2QgPT09IFRpbWVQZXJpb2RMZWFkTWVldGluZ0VudW0uVEhJU19XRUVLKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG1EYXRlLmlzQmV0d2VlbihtU3RhcnRPZldlZWssIG1FbmRvZndlZWssIFwiZGF5c1wiLCBcIltdXCIpXG4gICAgICApIHtcbiAgICAgICAgdG90YWxNZWV0aW5nKytcbiAgICAgICAgbGVhZERhdGEucHVzaCh7XG4gICAgICAgICAgbWVldGluZ1NjaGVkdWxlZERhdGU6IGxlYWQud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MsXG4gICAgICAgICAgbGVhZE5hbWU6IGxlYWQubmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aW1lUGVyaW9kID09PSBUaW1lUGVyaW9kTGVhZE1lZXRpbmdFbnVtLk5FWFRfV0VFSykge1xuICAgICAgaWYgKFxuICAgICAgICBtRGF0ZS5pc0JldHdlZW4obXN0YXJ0b2ZOZXh0V2VlaywgbUVuZE9mbmV4dFdlZWssIFwiZGF5c1wiLCBcIltdXCIpXG4gICAgICApIHtcbiAgICAgICAgdG90YWxNZWV0aW5nKytcbiAgICAgICAgbGVhZERhdGEucHVzaCh7XG4gICAgICAgICAgbWVldGluZ1NjaGVkdWxlZERhdGU6IGxlYWQud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MsXG4gICAgICAgICAgbGVhZE5hbWU6IGxlYWQubmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZVBlcmlvZCA9PT0gVGltZVBlcmlvZExlYWRNZWV0aW5nRW51bS5BTEwpIHtcbiAgICAgIHRvdGFsTWVldGluZysrXG4gICAgICBsZWFkRGF0YS5wdXNoKHtcbiAgICAgICAgbWVldGluZ1NjaGVkdWxlZERhdGU6IGxlYWQud2lsbGluZ25lc3NfZm9yX21lZXRpbmdfX2MsXG4gICAgICAgIGxlYWROYW1lOiBsZWFkLm5hbWVcbiAgICAgIH0pXG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0b3RhbE1lZXRpbmcsXG4gICAgbGVhZERhdGFcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbmNvbnN0IGNoYW5nZVBhdGggPSBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IHByaXNtYS4kcXVlcnlSYXdgU0VUIHNlYXJjaF9wYXRoIFRPIFwiJHVzZXJcIiwgcHVibGljO2A7XG59O1xuY2hhbmdlUGF0aCgpO1xuIiwiaW1wb3J0IFByb2plY3RNaWxlU3RvbmVFbnVtIGZyb20gXCIuLi9kb21haW4vZW51bWVyYXRpb25zL1Byb2plY3RNaWxlU3RvbmVFbnVtXCI7XG5pbXBvcnQgU21hcnRTaGVldENlbGxWYWx1ZUVudW0gZnJvbSBcIi4uL2RvbWFpbi9lbnVtZXJhdGlvbnMvU21hcnRTaGVldENlbGxWYWx1ZUVudW1cIjtcbmNsYXNzIFByb2plY3RNaWxlU3RvbmVzVXRpbCB7XG4gIHN0YXRpYyBnZXRTaGVldE1pbGVTdG9uZU5hbWUocHJvamVjdE1pbGVTdG9uZTogc3RyaW5nKSB7XG4gICAgdmFyIG1pbGVTdG9uZU5hbWU7XG4gICAgc3dpdGNoIChwcm9qZWN0TWlsZVN0b25lKSB7XG4gICAgICBjYXNlIFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0pFQ1RfU0lHTlVQOlxuICAgICAgICBtaWxlU3RvbmVOYW1lID0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUFJPSkVDVF9TSUdOVVA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5TSVRFX1NVUlZFWTpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlNJVEVfU1VSVkVZO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdE1pbGVTdG9uZUVudW0uS05PV19ZT1VSX0NMSUVOVDpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLktOT1dfWU9VUl9DTElFTlQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fUFJFU0VOVEFUSU9OOlxuICAgICAgICBtaWxlU3RvbmVOYW1lID0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uRklSU1RfQ1VUX01FRVRJTkc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fRklOQUxJWkFUSU9OOlxuICAgICAgICBtaWxlU3RvbmVOYW1lID0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uREVTSUdOX0ZJTkFMSVpBVElPTjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9SRVFVRVNUOlxuICAgICAgICBtaWxlU3RvbmVOYW1lID0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uUkVRVUVTVF9QTV9GT1JfS0lDS09GRjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RNaWxlU3RvbmVFbnVtLlNJVEVfVkFMSURBVElPTl9NRUVUSU5HOlxuICAgICAgICBtaWxlU3RvbmVOYW1lID0gU21hcnRTaGVldENlbGxWYWx1ZUVudW0uS0lDS09GRl9NRUVUSU5HX0FUX1NJVEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5QT1NUX1NJVEVfVkFMSURBVElPTl9SRVZJU0lPTjpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRXR19SRVZJU0lPTlM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5HRkNfQ0hFQ0tJTkc6XG4gICAgICAgIG1pbGVTdG9uZU5hbWUgPSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5HRkNfQ0hFQ0tJTkc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5ERVNJR05fU0lHTk9GRjpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkRFU0lHTl9TSUdOX09GRjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByb2plY3RNaWxlU3RvbmVFbnVtLlBST0RVQ1RJT05fUkVRVUVTVDpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0pFQ1RfUkVDRUlWRURfRk9SX1BMQU5OSU5HO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJvamVjdE1pbGVTdG9uZUVudW0uUFJPRFVDVElPTjpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLlBST0RVQ1RJT047XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfRElTUEFUQ0g6XG4gICAgICAgIG1pbGVTdG9uZU5hbWUgPSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5SRUFEWV9GT1JfRElTUEFUQ0g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5SRUFEWV9GT1JfSEFORE9WRVI6XG4gICAgICAgIG1pbGVTdG9uZU5hbWUgPSBTbWFydFNoZWV0Q2VsbFZhbHVlRW51bS5SRUFEWV9GT1JfSEFORE9WRVI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcm9qZWN0TWlsZVN0b25lRW51bS5IQU5ET1ZFUjpcbiAgICAgICAgbWlsZVN0b25lTmFtZSA9IFNtYXJ0U2hlZXRDZWxsVmFsdWVFbnVtLkhBTkRPVkVSO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG1pbGVTdG9uZU5hbWU7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFByb2plY3RNaWxlU3RvbmVzVXRpbDtcbiIsImltcG9ydCBzdXBlcmFnZW50IGZyb20gXCJzdXBlcmFnZW50XCI7XG5pbXBvcnQgeyB1cGRhdGVNaWxlc3RvbmUgfSBmcm9tIFwiLi4vYXBpL3Byb2plY3RzL1NtYXJ0c2hlZXQvTXV0YXRpb25zL1VwZGF0ZU1pbGVzdG9uZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uL3ByaXNtYUNvbmZpZ1wiO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFJlc3BvbnNlT2JqID0ge1xuICBjb2RlOiBudWxsLFxuICBtZXNzYWdlOiBudWxsLFxuICBkYXRhOiBudWxsLFxufTtcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5Rm9yRmV0Y2hpbmdUZW1wbGF0ZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgcXVlcnk6IGB7XG4gICAgcHJvamVjdFRlbXBsYXRlcyB7XG4gICAgICBkYXRhe1xuICAgICAgICBhdHRyaWJ1dGVze1xuICAgICAgICAgIFRlbXBsYXRlX05hbWVcbiAgICAgICAgICBtaWxlc3RvbmVfZGV0YWlscyhwYWdpbmF0aW9uIDoge3N0YXJ0IDogMCwgbGltaXQ6IDIwfSApe1xuICAgICAgICAgICAgbGFiZWxcbiAgICAgICAgICAgIHBheW1lbnRfcGVyY2VudGFnZVxuICAgICAgICAgICAgbWlsZXN0b25lX2NoZWNrbGlzdHtcbiAgICAgICAgICAgICAgaXNfcGF5bWVudF9taWxlc3RvbmVfY2hlY2tsaXN0XG4gICAgICAgICAgICAgIGFwcHJvdmFsX2Zyb21fY3VzdG9tZXJcbiAgICAgICAgICAgICAgc2hhcmVfd2l0aF9jdXN0b21lclxuICAgICAgICAgICAgICBjaGVja2xpc3Rfc3RyaW5nXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIGlzX2NoZWNrZWRcbiAgICAgICAgICAgICAgZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXV0b3JlcXVlc3RcbiAgICAgICAgICAgIEludm9pY2VQZXJjZW50YWdlXG4gICAgICAgICAgICBtb21cbiAgICAgICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICBzbWFydHNoZWV0X2ZpZWxkXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRcbiAgICAgICAgICBmaWxlc19jaGVja2xpc3R7XG4gICAgICAgICAgICBjaGVja2xpc3Rfc3RyaW5nXG4gICAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgIHNoYXJlX3dpdGhfY3VzdG9tZXJcbiAgICAgICAgICAgIGFwcHJvdmFsX2Zyb21fY3VzdG9tZXJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1gLFxufSk7XG5leHBvcnQgY29uc3QgcXVlcnlGb3JGZXRjaGluZ1JlbWluZGVyc1RlbXBsYXRlID0gKHNsdWcpID0+XG4gIEpTT04uc3RyaW5naWZ5KHtcbiAgICBxdWVyeTogYHtcbiAgICByZW1pbmRlcnMoZmlsdGVycyA6IHtzbHVnIDogeyBlcSA6IFwiJHtzbHVnfVwiIH19KXtcbiAgICAgIGRhdGF7XG4gICAgICAgIGF0dHJpYnV0ZXN7XG4gICAgICAgICAgbGFiZWxcbiAgICAgICAgICBzbHVnXG4gICAgICAgICAgZW1haWxBY3RpdmF0ZVxuICAgICAgICAgIGVtYWlsX3RlbXBsYXRlXG4gICAgICAgICAgZW1haWxTdWJqZWN0XG4gICAgICAgICAgcmVjaXBpZW50c3tcbiAgICAgICAgICAgIHJlY2VwaWVudFxuICAgICAgICAgIH1cbiAgICAgICAgICBzbXNBY3RpdmF0ZVxuICAgICAgICAgIHNtc0RMVElEXG4gICAgICAgICAgc21zQm9keVxuICAgICAgICAgIHdoYXRzYXBwQWN0aXZlXG4gICAgICAgICAgd2hhdHNBcHBJbWFnZVVybFxuICAgICAgICAgIHdoYXRzQXBwSW1hZ2VVcmxcbiAgICAgICAgICB3aGF0c0FwcFRlbXBsYXRlTmFtZVxuICAgICAgICAgIHdoYXRzQXBwQm9keVRlbXBsYXRlXG4gICAgICAgICAgcmVjaXBpZW50X2Nje1xuICAgICAgICAgICAgcmVjZXBpZW50XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoYXRzQXBwQm9keVRlbXBsYXRlXG4gICAgICAgICAgcGFyYW1zXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1gLFxuICB9KTtcbmV4cG9ydCBjb25zdCBjYWxsRXh0ZXJuYWxBUElXaXRoUG9zdCA9IGFzeW5jICh1cmwsIGJvZHkpID0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgc3VwZXJhZ2VudFxuICAgIC5wb3N0KHVybClcbiAgICAuc2VuZChib2R5KVxuICAgIC5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICByZXR1cm4gcmVzLmJvZHk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0R3N0QnlTdGF0ZXMgPSAoc3RhdGUpID0+IHtcbiAgc3dpdGNoIChzdGF0ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcImthcm5hdGFrYVwiOlxuICAgICAgcmV0dXJuIFwiMjlBQUJDVTk2MDNSMVpKXCI7XG4gICAgY2FzZSBcIm1haGFyYXNodHJhXCI6XG4gICAgICByZXR1cm4gXCIyN0FBQkNVOTYwM1IxWk5cIjtcbiAgICBjYXNlIFwidGFtaWwgbmFkdVwiOlxuICAgICAgcmV0dXJuIFwiMzNBQUJDVTk2MDNSMVpVXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgZW51bSBPZG9vU3RhdGVJRCB7XG4gIFwia2FybmF0YWthXCIgPSA1OTMsXG4gIFwibWFoYXJhc2h0cmFcIiA9IDU5NyxcbiAgXCJ0YW1pbCBuYWR1XCIgPSA2MDcsXG4gIFwidGVsYW5nYW5hXCIgPSA2MDgsXG59XG5cbmV4cG9ydCBlbnVtIEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2Uge1xuICBNR0RDID0gXCJNR0RDXCIsXG4gIFdEQyA9IFwiV0RDXCIsXG4gIE1VTUJBSV9EQyA9IFwiTXVtYmFpIERDXCIsXG4gIEhZREVSQUJBRF9EQyA9IFwiSHlkZXJhYmFkIERDXCIsXG4gIEhTUkRDID0gXCJIU1JEQ1wiLFxuICBDSEVOTkFJX0RDID0gXCJDaGVubmFpIERDXCIsXG4gIEpQREMgPSBcIkpQRENcIixcbiAgVEhBTkVfREMgPSBcIlRoYW5lIERDXCIsXG4gIEtEUk1ZUyA9IFwiS0RSTVlTXCIsXG4gIFlFUlBVTiA9IFwiWUVSUFVOXCIsXG4gIEJISFlEID0gXCJCSEhZRFwiLFxuICBTSlBCTFIgPSBcIlNKUEJMUlwiLFxuICBLSE1VTSA9IFwiS0hNVU1cIixcbiAgV0xNVU0gPSBcIldMTVVNXCIsXG4gIE9NUkNIID0gXCJPTVJDSFwiLFxuICBIUkJSQkxSID0gXCJIUkJSQkxSXCIsXG4gIFJTUENPID0gXCJSU1BDT1wiLFxufVxuXG5leHBvcnQgZW51bSBPZG9vRXhwZXJpZW5jZUNlbnRlcklEIHtcbiAgTUdEQyA9IDEsXG4gIFdEQyA9IDIsXG4gIEhTUkJMUiA9IDMsXG4gIFJDTVVNID0gNCxcbiAgR0JIWUQgPSA1LFxuICBBU0NITiA9IDI3LFxuICBKUE5CTFIgPSAzMSxcbiAgR0JSVEhOID0gMzMsXG4gIEtEUk1ZUyA9IDM2LFxuICBCSEhZRCA9IDM5LFxuICBZRVJQVU4gPSA0MixcbiAgU0pQQkxSID0gNDUsXG4gIEtITVVNID0gNDcsXG4gIFdMTVVNID0gNTAsXG4gIE9NUkNIID0gNTQsXG4gIEhSQlJCTFIgPSA1NixcbiAgUlNQQ08gPSA2Mixcbn1cblxuZW51bSBHcm91cEVudW0ge1xuICBCRU5HQUxVUlUgPSBcImJlbmdhbHVydVwiLFxuICBNWVNPUkUgPSBcIm15c29yZVwiLFxuICBNVU1CQUkgPSBcIm11bWJhaVwiLFxuICBUSEFORSA9IFwidGhhbmVcIixcbiAgSFlERVJBQkFEID0gXCJoeWRlcmFiYWRcIixcbiAgQ0hFTk5BSSA9IFwiY2hlbm5haVwiLFxufVxuZW51bSBPZG9vR3JvdXBJRCB7XG4gIEJFTkdBTFVSVSA9IDMsXG4gIE1ZU09SRSA9IDE3LFxuICBNVU1CQUkgPSA2LFxuICBUSEFORSA9IDE2LFxuICBIWURFUkFCQUQgPSA5LFxuICBDSEVOTkFJID0gMTIsXG59XG5cbmVudW0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlIHtcbiAgTUdEQ1NUVURJTzEgPSBcIk1HREMgU3R1ZGlvIDFcIixcbiAgTUdEQ1NUVURJTzIgPSBcIk1HREMgU3R1ZGlvIDJcIixcbiAgRFBCQU5HQUxPUkVNR0RDID0gXCJEUCBCYW5nYWxvcmUgTUdEQ1wiLFxuICBXRENTVFVESTEgPSBcIldEQyBTdHVkaW8gMVwiLFxuICBEUEJBTkdBTE9SRVdEQyA9IFwiRFAgQmFuZ2Fsb3JlIFdEQ1wiLFxuICBIU1JEQ1NUVURJTzEgPSBcIkhTUkRDIFN0dWRpbyAxXCIsXG4gIERQQkFOR0FMT1JFSFNSREMgPSBcIkRQIEJhbmdhbG9yZSBIU1JEQ1wiLFxuICBNVU1CQUlTVFVESU8xID0gXCJNdW1iYWkgU3R1ZGlvIDFcIixcbiAgTVVNQkFJU1RVRElPMiA9IFwiTXVtYmFpIFN0dWRpbyAyXCIsXG4gIE1VTUJBSVNUVURJTzMgPSBcIk11bWJhaSBTdHVkaW8gM1wiLFxuICBEUE1VTUJBSSA9IFwiRFAgTXVtYmFpXCIsXG4gIEhZREVSQUJBRFNUVURJTzEgPSBcIkh5ZGVyYWJhZCBTdHVkaW8gMVwiLFxuICBEUEhZREVSQUJBRCA9IFwiRFAgSHlkZXJhYmFkXCIsXG4gIENIRU5OQUlTVFVESU8xID0gXCJDaGVubmFpIFN0dWRpbyAxXCIsXG4gIENIRU5OQUlEUCA9IFwiQ2hlbm5haSBEUFwiLFxuICBKUERDWFBSRVNTTyA9IFwiSlBEQyBYUHJlc3NvXCIsXG4gIEtEUk1ZU1NURDEgPSBcIktEUk1ZUy1TdGQtMVwiLFxuICBLRFJNWVNEUFNURDEgPSBcIktEUk1ZUy1EUFN0ZC0xXCIsXG4gIFlFUlBVTlNURDEgPSBcIllFUlBVTi1TdGQtMVwiLFxuICBZRVJQVU5EUFNURDEgPSBcIllFUlBVTi1EUFN0ZC0xXCIsXG4gIEJISFlEU1REMSA9IFwiQkhIWUQtU3RkLTFcIixcbiAgQkhIWUREUFNURDEgPSBcIkJISFlELURQU3RkLTFcIixcbiAgR0JSVEhORFBTVEQxID0gXCJEUCBUaGFuZVwiLFxuICBHQlJUSE5TVEQxID0gXCJUaGFuZSBTdHVkaW8gMVwiLFxuICBHQlJUSE5TVEQyID0gXCJUaGFuZSBTdHVkaW8gMlwiLFxuICBTSlBCTFJTVEQxID0gXCJTSlBCTFItU3RkLTFcIixcbiAgS0hNVU1TVEQxID0gXCJLSE1VTS1TdGQtMVwiLFxuICBLSE1VTURQU1REMSA9IFwiS0hNVU0tRFBTdGQtMVwiLFxuICBXTE1VTVNURDEgPSBcIldMTVVNLVN0ZC0xXCIsXG4gIFdMTVVNRFBTVEQxID0gXCJXTE1VTS1EUFN0ZC0xXCIsXG4gIE9NUkNIU1REMSA9IFwiT01SQ0gtU3RkLTFcIixcbiAgT01SQ0hEUHN0ZDEgPSBcIk9NUkNILURQc3RkLTFcIixcbiAgSFJCUkJMUlNURDEgPSBcIkhSQlJCTFItU3RkLTFcIixcbiAgUlNQQ09TVEQxID0gXCJSU1BDTy1TdGQtMVwiLFxuICBSU1BDT0RQU1REMSA9IFwiUlNQQ08tRFBTdGQtMVwiLFxufVxuXG5lbnVtIE9kb29TdHVkaW9JRCB7XG4gIE1HQkxSU1REMSA9IDYsXG4gIE1HQkxSU1REMiA9IDcsXG4gIE1HQkxSRFBTVEQxID0gOCxcbiAgV0ZCTFJTVEQxID0gOSxcbiAgV0ZCTFJEUFNURDEgPSAxMCxcbiAgSFNSQkxSU1REMSA9IDExLFxuICBIU1JCTFJEUFNURDEgPSAxMixcbiAgUkNNVU1TVEQxID0gMTMsXG4gIFJDTVVNU1REMiA9IDE0LFxuICBSQ01VTVNURDMgPSAxNSxcbiAgUkNNVU1EUFNURDEgPSAxNixcbiAgR0JIWURTVEQxID0gMTcsXG4gIEdCSFlERFBTVEQxID0gMTgsXG4gIEFTQ0hOU1REMSA9IDI5LFxuICBBU0NITkRQU1REMSA9IDMwLFxuICBKUE5CTFJTVEQxID0gMzIsXG4gIEtEUk1ZU1NURDEgPSAzNyxcbiAgS0RSTVlTRFBTVEQxID0gMzgsXG4gIFlFUlBVTlNURDEgPSA0MyxcbiAgWUVSUFVORFBTVEQxID0gNDQsXG4gIEJISFlEU1REMSA9IDQwLFxuICBCSEhZRERQU1REMSA9IDQxLFxuICBHQlJUSE5EUFNURDEgPSAzNCxcbiAgR0JSVEhOU1REMSA9IDM1LFxuICBTSlBCTFJTVEQxID0gNDYsXG4gIEtITVVNU1REMSA9IDQ4LFxuICBLSE1VTURQU1REMSA9IDQ5LFxuICBXTE1VTVNURDEgPSA1MSxcbiAgV0xNVU1EUFNURDEgPSA1MixcbiAgR0JSVEhOU1REMiA9IDUzLFxuICBPTVJDSFNURDEgPSA1NSxcbiAgSFJCUkJMUlNURDEgPSA1NyxcbiAgT01SQ0hEUHN0ZDEgPSA1OSxcbiAgUlNQQ09TVEQxID0gNjMsXG4gIFJTUENPRFBTVEQxID0gNjQsXG59XG5cbmV4cG9ydCBjb25zdCBleHBlcmllbmNlY2VudGVycyA9IChleHApID0+IHtcbiAgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5NR0RDKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuTUdEQztcbiAgfSBlbHNlIGlmIChleHAgPT09IEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2UuV0RDKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuV0RDO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5IWURFUkFCQURfREMpIHtcbiAgICByZXR1cm4gT2Rvb0V4cGVyaWVuY2VDZW50ZXJJRC5HQkhZRDtcbiAgfSBlbHNlIGlmIChleHAgPT09IEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2UuTVVNQkFJX0RDKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuUkNNVU07XG4gIH0gZWxzZSBpZiAoZXhwID09PSBFeHBlcmllbmNlQ2VudGVyc0FzSW5TYWxlc2ZvcmNlLkhTUkRDKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuSFNSQkxSO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5DSEVOTkFJX0RDKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuQVNDSE47XG4gIH0gZWxzZSBpZiAoZXhwID09PSBFeHBlcmllbmNlQ2VudGVyc0FzSW5TYWxlc2ZvcmNlLkpQREMpIHtcbiAgICByZXR1cm4gT2Rvb0V4cGVyaWVuY2VDZW50ZXJJRC5KUE5CTFI7XG4gIH0gZWxzZSBpZiAoZXhwID09PSBFeHBlcmllbmNlQ2VudGVyc0FzSW5TYWxlc2ZvcmNlLktEUk1ZUykge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELktEUk1ZUztcbiAgfSBlbHNlIGlmIChleHAgPT09IEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2UuWUVSUFVOKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuWUVSUFVOO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5CSEhZRCkge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELkJISFlEO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5USEFORV9EQykge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELkdCUlRITjtcbiAgfSBlbHNlIGlmIChleHAgPT09IEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2UuU0pQQkxSKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuU0pQQkxSO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5LSE1VTSkge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELktITVVNO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5XTE1VTSkge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELldMTVVNO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5PTVJDSCkge1xuICAgIHJldHVybiBPZG9vRXhwZXJpZW5jZUNlbnRlcklELk9NUkNIO1xuICB9IGVsc2UgaWYgKGV4cCA9PT0gRXhwZXJpZW5jZUNlbnRlcnNBc0luU2FsZXNmb3JjZS5IUkJSQkxSKSB7XG4gICAgcmV0dXJuIE9kb29FeHBlcmllbmNlQ2VudGVySUQuSFJCUkJMUjtcbiAgfSBlbHNlIGlmIChleHAgPT09IEV4cGVyaWVuY2VDZW50ZXJzQXNJblNhbGVzZm9yY2UuUlNQQ08pIHtcbiAgICByZXR1cm4gT2Rvb0V4cGVyaWVuY2VDZW50ZXJJRC5SU1BDTztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldE9kb29Hcm91cElEID0gKEVDQ2l0eTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGxvd2VyQ2FzZUVDQ2l0eTogc3RyaW5nID0gRUNDaXR5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHRyaW1tZWRDaXR5ID0gbG93ZXJDYXNlRUNDaXR5LnRyaW0oKTtcblxuICBpZiAodHJpbW1lZENpdHkgPT09IEdyb3VwRW51bS5CRU5HQUxVUlUpIHtcbiAgICByZXR1cm4gT2Rvb0dyb3VwSUQuQkVOR0FMVVJVO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRDaXR5ID09PSBHcm91cEVudW0uTVlTT1JFKSB7XG4gICAgcmV0dXJuIE9kb29Hcm91cElELk1ZU09SRTtcbiAgfSBlbHNlIGlmICh0cmltbWVkQ2l0eSA9PT0gR3JvdXBFbnVtLk1VTUJBSSkge1xuICAgIHJldHVybiBPZG9vR3JvdXBJRC5NVU1CQUk7XG4gIH0gZWxzZSBpZiAodHJpbW1lZENpdHkgPT09IEdyb3VwRW51bS5USEFORSkge1xuICAgIHJldHVybiBPZG9vR3JvdXBJRC5USEFORTtcbiAgfSBlbHNlIGlmICh0cmltbWVkQ2l0eSA9PT0gR3JvdXBFbnVtLkhZREVSQUJBRCkge1xuICAgIHJldHVybiBPZG9vR3JvdXBJRC5IWURFUkFCQUQ7XG4gIH0gZWxzZSBpZiAodHJpbW1lZENpdHkgPT09IEdyb3VwRW51bS5DSEVOTkFJKSB7XG4gICAgcmV0dXJuIE9kb29Hcm91cElELkNIRU5OQUk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vQ29kZSBjb21wbGV4aXR5IG5lZWRzIHRvIGJlIHJlZHVjZWQgbGF0ZXIgb25cbmV4cG9ydCBjb25zdCBnZXRPZG9vU3R1ZGlvSUQgPSAoc3R1ZGlvTmFtZUluUmVxdWVzdDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHRyaW1tZWRTdHVkaW9uYW1lID0gc3R1ZGlvTmFtZUluUmVxdWVzdC50cmltKCk7XG5cbiAgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuTUdEQ1NUVURJTzEpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELk1HQkxSU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLk1HRENTVFVESU8yKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5NR0JMUlNURDI7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5EUEJBTkdBTE9SRU1HREMpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELk1HQkxSRFBTVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuV0RDU1RVREkxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5XRkJMUlNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5EUEJBTkdBTE9SRVdEQykge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuV0ZCTFJEUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5IU1JEQ1NUVURJTzEpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELkhTUkJMUlNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5EUEJBTkdBTE9SRUhTUkRDKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5IU1JCTFJEUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5NVU1CQUlTVFVESU8xKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5SQ01VTVNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5NVU1CQUlTVFVESU8yKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5SQ01VTVNURDI7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5NVU1CQUlTVFVESU8zKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5SQ01VTVNURDM7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5EUE1VTUJBSSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuUkNNVU1EUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5IWURFUkFCQURTVFVESU8xKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5HQkhZRFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5EUEhZREVSQUJBRCkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuR0JIWUREUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5DSEVOTkFJU1RVRElPMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuQVNDSE5TVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuQ0hFTk5BSURQKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5BU0NITkRQU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLkpQRENYUFJFU1NPKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5KUE5CTFJTVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuS0RSTVlTU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuS0RSTVlTU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLktEUk1ZU0RQU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuS0RSTVlTRFBTVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuWUVSUFVOU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuWUVSUFVOU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLllFUlBVTkRQU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuWUVSUFVORFBTVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuQkhIWURTVEQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5CSEhZRFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5CSEhZRERQU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuQkhIWUREUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5HQlJUSE5TVEQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5HQlJUSE5TVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuR0JSVEhORFBTVEQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5HQlJUSE5EUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5HQlJUSE5TVEQyKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5HQlJUSE5TVEQyO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuU0pQQkxSU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuU0pQQkxSU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLktITVVNU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuS0hNVU1TVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuS0hNVU1EUFNURDEpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELktITVVNRFBTVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuV0xNVU1TVEQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5XTE1VTVNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5XTE1VTURQU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuV0xNVU1EUFNURDE7XG4gIH0gZWxzZSBpZiAodHJpbW1lZFN0dWRpb25hbWUgPT09IFN0dWRpb05hbWVBc0luU2FsZXNmb3JjZS5PTVJDSFNURDEpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELk9NUkNIU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLk9NUkNIRFBzdGQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5PTVJDSERQc3RkMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLkhSQlJCTFJTVEQxKSB7XG4gICAgcmV0dXJuIE9kb29TdHVkaW9JRC5IUkJSQkxSU1REMTtcbiAgfSBlbHNlIGlmICh0cmltbWVkU3R1ZGlvbmFtZSA9PT0gU3R1ZGlvTmFtZUFzSW5TYWxlc2ZvcmNlLlJTUENPU1REMSkge1xuICAgIHJldHVybiBPZG9vU3R1ZGlvSUQuUlNQQ09TVEQxO1xuICB9IGVsc2UgaWYgKHRyaW1tZWRTdHVkaW9uYW1lID09PSBTdHVkaW9OYW1lQXNJblNhbGVzZm9yY2UuUlNQQ09EUFNURDEpIHtcbiAgICByZXR1cm4gT2Rvb1N0dWRpb0lELlJTUENPRFBTVEQxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tBbmRNYXJrTWlsZXN0b25lc09uU21hcnRzaGVldCA9IGFzeW5jIChcbiAgcHJvamVjdGlkLFxuICBtaWxlc3RvbmVEZXRhaWxzXG4pID0+IHtcbiAgY29uc29sZS5sb2coXCJtaWxlc3RvbmVfZGV0YWlsc1wiLCBtaWxlc3RvbmVEZXRhaWxzKTtcbiAgbGV0IGFyZUFsbE1pbGVzdG9uZXNDb21wbGV0ZWQgPSB0cnVlO1xuICBtaWxlc3RvbmVEZXRhaWxzLm1pbGVzdG9uZV9jaGVja2xpc3QuZm9yRWFjaCgobWlsZVN0b25lQ2hlY2tsaXN0KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJtaWxlU3RvbmVDaGVja2xpc3RcIiwgbWlsZVN0b25lQ2hlY2tsaXN0LmlzX2NoZWNrZWQpO1xuICAgIGlmICghbWlsZVN0b25lQ2hlY2tsaXN0LmlzX2NoZWNrZWQpIHtcbiAgICAgIGFyZUFsbE1pbGVzdG9uZXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhcmVBbGxNaWxlc3RvbmVzQ29tcGxldGVkKSB7XG4gICAgY29uc3QgcHJvamVjdERhdGEgPSBhd2FpdCBwcmlzbWEuZGNfcHJvamVjdHMuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogcHJvamVjdGlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVTbWFydHNoZWV0TWlsZXN0b25lUGF5bG9hZCA9IHtcbiAgICAgIHNtYXJ0U2hlZXRJZDogcHJvamVjdERhdGEuc21hcnRzaGVldGlkLFxuICAgICAgbWlsZVN0b25lTmFtZTogbWlsZXN0b25lRGV0YWlscy5sYWJlbCxcbiAgICAgIGFjdHVhbFN0YXJ0RGF0ZTogXCIyMDIyLTA2LTAxXCIsXG4gICAgICBhY3R1YWxGaW5pc2hEYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdLFxuICAgIH07XG4gICAgY29uc29sZS5sb2coXCJDYWxsaW5nIHRoZSBTbWFydHNoZWV0IEFQSVwiKTtcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVTbWFydHNoZWV0TWlsZXN0b25lUGF5bG9hZCk7XG4gICAgY29uc3QgdXBkYXRlTWlsZXN0b25lT25TbWFydHNoZWV0UmVzcG9uc2UgPSBhd2FpdCB1cGRhdGVNaWxlc3RvbmUoXG4gICAgICBudWxsLFxuICAgICAgdXBkYXRlU21hcnRzaGVldE1pbGVzdG9uZVBheWxvYWQsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVNaWxlc3RvbmVPblNtYXJ0c2hlZXRSZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJOb3QgQ2FsbGluZyBTbWFydHNoZWV0IEFQSVwiKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldExlYWRzQW5kT3Bwb3J0dW5pdHlDb25kaXRpb25Gb3JBY2Nlc3NMZXZlbDIgPSAoXG4gIGV4cGVyaWVuY2VDZW50ZXJzLFxuICBzZWFyY2hDb25kaXRpb25cbikgPT4ge1xuICByZXR1cm4ge1xuICAgIEFORDoge1xuICAgICAgT1I6IGV4cGVyaWVuY2VDZW50ZXJzLm1hcCgoZXhwQ2VudGVyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVldGluZ192ZW51ZV9fYzogZXhwQ2VudGVyLm5hbWUsXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICB9LFxuICAgIE9SOiBzZWFyY2hDb25kaXRpb24sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGVhZHNBbmRPcHBvcnR1bml0eUNvbmRpdGlvbkZvckFjY2Vzc0xldmVsMyA9IChcbiAgY2l0aWVzLFxuICBzZWFyY2hDb25kaXRpb25cbikgPT4ge1xuICByZXR1cm4ge1xuICAgIEFORDoge1xuICAgICAgT1I6IGNpdGllcy5tYXAoKGNpdHkpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZWdpb25fX2M6IGNpdHkubmFtZSxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgIH0sXG4gICAgT1I6IHNlYXJjaENvbmRpdGlvbixcbiAgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAZ3JhcGhxbC10b29scy9zY2hlbWFcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQHByaXNtYS9jbGllbnRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXBvbGxvLWRhdGFzb3VyY2UtcmVzdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJhcG9sbG8tc2VydmVyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImF3cy1zZGtcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYnRvYVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjcnlwdG9cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZGF5anNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZGF5anMvcGx1Z2luL2lzQmV0d2VlblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqcy9wbHVnaW4vaXNvV2Vla1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkb3RlbnZcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZ29vZ2xlYXBpc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJncmFwaHFsLXNjYWxhcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNmb3JjZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibWFpbGdlblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtc2c5MS1hcGlcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzaG9ydGlkXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInNtYXJ0c2hlZXRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic3RhbmRhcmQtaHR0cC1lcnJvclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdXBlcmFnZW50XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWRcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwieG1sLWpzXCIpOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJjb25zdCB7IEFwb2xsb1NlcnZlciB9ID0gcmVxdWlyZShcImFwb2xsby1zZXJ2ZXJcIik7XG5pbXBvcnQgeyBzY2hlbWEgfSBmcm9tIFwiLi9hcGkvc2NoZW1hXCI7XG5pbXBvcnQgeyBkYXRhU291cmNlcyB9IGZyb20gXCIuL2FwaS9kYXRhc291cmNlc1wiO1xuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi9jb25maWdcIjtcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbmNvbnN0IHNlcnZlciA9IG5ldyBBcG9sbG9TZXJ2ZXIoe1xuICBzY2hlbWEsXG4gIGRhdGFTb3VyY2VzLFxuICBjb250ZXh0OiBhc3luYyAoeyByZXEgfSkgPT4gcmVxLFxufSk7XG4vLyBUaGUgYGxpc3RlbmAgbWV0aG9kIGxhdW5jaGVzIGEgd2ViIHNlcnZlci5cbnNlcnZlci5saXN0ZW4oeyBwb3J0OiBjb25maWcuUE9SVCB9KS50aGVuKCh7IHVybCB9KSA9PiB7XG4gIGNvbnNvbGUubG9nKGA6cm9ja2V0OiAgU2VydmVyIHJlYWR5IGF0ICR7dXJsfWApO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=